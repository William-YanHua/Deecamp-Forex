{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-tween-one/es/TweenOneGroup.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-tween-one/es/TweenOneGroup.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\nimport TweenOne from './TweenOne';\nimport { dataToArray, toArrayChildren, getChildrenFromProps, mergeChildren, transformArguments, findChildInChildrenByKey } from './util';\nfunction noop() { }\nvar TweenOneGroup = function (_Component) {\n    _inherits(TweenOneGroup, _Component);\n    _createClass(TweenOneGroup, null, [{\n            key: 'getDerivedStateFromProps',\n            value: function getDerivedStateFromProps(props, _ref) {\n                var prevProps = _ref.prevProps, $self = _ref.$self;\n                var nextState = {\n                    prevProps: props\n                };\n                if (prevProps && props !== prevProps) {\n                    var nextChildren = toArrayChildren(props.children);\n                    if (Object.keys($self.isTween).length && !props.exclusive) {\n                        $self.animQueue.push(nextChildren);\n                        return nextState;\n                    }\n                    var currentChildren = toArrayChildren($self.currentChildren);\n                    nextState.children = $self.changeChildren(nextChildren, currentChildren);\n                }\n                return nextState;\n            }\n        }]);\n    function TweenOneGroup(props) {\n        _classCallCheck(this, TweenOneGroup);\n        var _this = _possibleConstructorReturn(this, (TweenOneGroup.__proto__ || Object.getPrototypeOf(TweenOneGroup)).call(this, props));\n        _initialiseProps.call(_this);\n        _this.keysToEnter = [];\n        _this.keysToLeave = [];\n        _this.saveTweenTag = {};\n        _this.onEnterBool = false;\n        _this.animQueue = [];\n        _this.isTween = {};\n        var children = toArrayChildren(getChildrenFromProps(_this.props));\n        _this.currentChildren = toArrayChildren(getChildrenFromProps(_this.props));\n        _this.state = {\n            children: children,\n            $self: _this\n        };\n        return _this;\n    }\n    _createClass(TweenOneGroup, [{\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                this.onEnterBool = true;\n            }\n        }, {\n            key: 'changeChildren',\n            value: function changeChildren(nextChildren, currentChildren) {\n                var _this2 = this;\n                var newChildren = mergeChildren(currentChildren, nextChildren);\n                this.keysToEnter = [];\n                this.keysToLeave = [];\n                nextChildren.forEach(function (c) {\n                    if (!c) {\n                        return;\n                    }\n                    var key = c.key;\n                    var hasPrev = findChildInChildrenByKey(currentChildren, key);\n                    if (_this2.saveTweenTag[key]) {\n                        _this2.saveTweenTag[key] = React.cloneElement(_this2.saveTweenTag[key], {}, c);\n                    }\n                    if (!hasPrev && key) {\n                        _this2.keysToEnter.push(key);\n                    }\n                });\n                currentChildren.forEach(function (c) {\n                    if (!c) {\n                        return;\n                    }\n                    var key = c.key;\n                    var hasNext = findChildInChildrenByKey(nextChildren, key);\n                    if (!hasNext && key) {\n                        _this2.keysToLeave.push(key);\n                        delete _this2.saveTweenTag[key];\n                    }\n                });\n                return newChildren;\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                var children = this.state.children;\n                this.currentChildren = children;\n                var childrenToRender = this.getChildrenToRender(children);\n                var _props = this.props, component = _props.component, componentProps = _props.componentProps, appear = _props.appear, enter = _props.enter, leave = _props.leave, animatingClassName = _props.animatingClassName, onEnd = _props.onEnd, exclusive = _props.exclusive, resetStyle = _props.resetStyle, props = _objectWithoutProperties(_props, ['component', 'componentProps', 'appear', 'enter', 'leave', 'animatingClassName', 'onEnd', 'exclusive', 'resetStyle']);\n                if (!component) {\n                    return childrenToRender[0] || null;\n                }\n                return createElement(component, _extends({}, props, componentProps), childrenToRender);\n            }\n        }]);\n    return TweenOneGroup;\n}(Component);\nvar _initialiseProps = function _initialiseProps() {\n    var _this3 = this;\n    this.onChange = function (animation, key, type, obj) {\n        var length = dataToArray(animation).length;\n        var tag = obj.target;\n        var classIsSvg = typeof tag.className === 'object' && 'baseVal' in tag.className;\n        var isEnter = type === 'enter' || type === 'appear';\n        if (obj.mode === 'onStart') {\n            if (classIsSvg) {\n                tag.className.baseVal = _this3.setClassName(tag.className.baseVal, isEnter);\n            }\n            else {\n                tag.className = _this3.setClassName(tag.className, isEnter);\n            }\n        }\n        else if (obj.index === length - 1 && obj.mode === 'onComplete') {\n            delete _this3.isTween[key];\n            if (classIsSvg) {\n                tag.className.baseVal = tag.className.baseVal.replace(_this3.props.animatingClassName[isEnter ? 0 : 1], '').trim();\n            }\n            else {\n                tag.className = tag.className.replace(_this3.props.animatingClassName[isEnter ? 0 : 1], '').trim();\n            }\n            if (type === 'enter') {\n                _this3.keysToEnter.splice(_this3.keysToEnter.indexOf(key), 1);\n                if (!_this3.keysToEnter.length) {\n                    _this3.reAnimQueue();\n                }\n            }\n            else if (type === 'leave') {\n                _this3.keysToLeave.splice(_this3.keysToLeave.indexOf(key), 1);\n                _this3.currentChildren = _this3.currentChildren.filter(function (child) {\n                    return key !== child.key;\n                });\n                if (!_this3.keysToLeave.length) {\n                    var currentChildrenKeys = _this3.currentChildren.map(function (item) {\n                        return item.key;\n                    });\n                    Object.keys(_this3.saveTweenTag).forEach(function ($key) {\n                        if (currentChildrenKeys.indexOf($key) === -1) {\n                            delete _this3.saveTweenTag[$key];\n                        }\n                    });\n                    _this3.setState({\n                        children: _this3.currentChildren\n                    }, _this3.reAnimQueue);\n                }\n            }\n            var _obj = { key: key, type: type };\n            _this3.props.onEnd(_obj);\n        }\n    };\n    this.setClassName = function (name, isEnter) {\n        var className = name.replace(_this3.props.animatingClassName[isEnter ? 1 : 0], '').trim();\n        if (className.indexOf(_this3.props.animatingClassName[isEnter ? 0 : 1]) === -1) {\n            className = (className + ' ' + _this3.props.animatingClassName[isEnter ? 0 : 1]).trim();\n        }\n        return className;\n    };\n    this.getTweenChild = function (child) {\n        var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var key = child.key;\n        _this3.saveTweenTag[key] = React.createElement(TweenOne, _extends({}, props, {\n            key: key,\n            component: null\n        }), child);\n        return _this3.saveTweenTag[key];\n    };\n    this.getCoverAnimation = function (child, i, type) {\n        var animation = void 0;\n        animation = type === 'leave' ? _this3.props.leave : _this3.props.enter;\n        if (type === 'appear') {\n            var appear = transformArguments(_this3.props.appear, child.key, i);\n            animation = appear && _this3.props.enter || null;\n        }\n        var animate = transformArguments(animation, child.key, i);\n        var onChange = _this3.onChange.bind(_this3, animate, child.key, type);\n        var props = {\n            key: child.key,\n            animation: animate,\n            onChange: onChange,\n            resetStyle: _this3.props.resetStyle\n        };\n        if (_this3.keysToEnter.concat(_this3.keysToLeave).indexOf(child.key) >= 0 || !_this3.onEnterBool && animation) {\n            if (!_this3.saveTweenTag[child.key]) {\n                _this3.isTween[child.key] = type;\n            }\n        }\n        var children = _this3.getTweenChild(child, props);\n        return children;\n    };\n    this.getChildrenToRender = function (children) {\n        return children.map(function (child, i) {\n            if (!child || !child.key) {\n                return child;\n            }\n            var key = child.key;\n            if (_this3.keysToLeave.indexOf(key) >= 0) {\n                return _this3.getCoverAnimation(child, i, 'leave');\n            }\n            else if ((_this3.keysToEnter.indexOf(key) >= 0 || _this3.isTween[key] && _this3.keysToLeave.indexOf(key) === -1) && !(_this3.isTween[key] === 'enter' && _this3.saveTweenTag[key])) {\n                return _this3.getCoverAnimation(child, i, 'enter');\n            }\n            else if (!_this3.onEnterBool) {\n                return _this3.getCoverAnimation(child, i, 'appear');\n            }\n            return _this3.saveTweenTag[key];\n        });\n    };\n    this.reAnimQueue = function () {\n        if (!Object.keys(_this3.isTween).length && _this3.animQueue.length) {\n            var children = _this3.changeChildren(_this3.animQueue[_this3.animQueue.length - 1], _this3.state.children);\n            _this3.setState({\n                children: children\n            });\n            _this3.animQueue = [];\n        }\n    };\n};\nTweenOneGroup.propTypes = {\n    component: PropTypes.any,\n    componentProps: PropTypes.object,\n    children: PropTypes.any,\n    style: PropTypes.object,\n    appear: PropTypes.bool,\n    enter: PropTypes.any,\n    leave: PropTypes.any,\n    animatingClassName: PropTypes.array,\n    onEnd: PropTypes.func,\n    resetStyle: PropTypes.bool,\n    exclusive: PropTypes.bool\n};\nTweenOneGroup.defaultProps = {\n    component: 'div',\n    componentProps: {},\n    appear: true,\n    animatingClassName: ['tween-one-entering', 'tween-one-leaving'],\n    enter: { x: 50, opacity: 0, type: 'from' },\n    leave: { x: -50, opacity: 0 },\n    onEnd: noop,\n    resetStyle: true,\n    exclusive: false\n};\nTweenOneGroup.isTweenOneGroup = true;\nexport default polyfill(TweenOneGroup);\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-tween-one/es/TweenOneGroup.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-tween-one/es/TweenOneGroup.js"],"names":[],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\n\nimport TweenOne from './TweenOne';\nimport { dataToArray, toArrayChildren, getChildrenFromProps, mergeChildren, transformArguments, findChildInChildrenByKey } from './util';\n\nfunction noop() {}\n\nvar TweenOneGroup = function (_Component) {\n  _inherits(TweenOneGroup, _Component);\n\n  _createClass(TweenOneGroup, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, _ref) {\n      var prevProps = _ref.prevProps,\n          $self = _ref.$self;\n\n      var nextState = {\n        prevProps: props\n      };\n      if (prevProps && props !== prevProps) {\n        var nextChildren = toArrayChildren(props.children);\n        if (Object.keys($self.isTween).length && !props.exclusive) {\n          $self.animQueue.push(nextChildren);\n          return nextState;\n        }\n        var currentChildren = toArrayChildren($self.currentChildren);\n        nextState.children = $self.changeChildren(nextChildren, currentChildren);\n      }\n      return nextState; // eslint-disable-line\n    }\n  }]);\n\n  function TweenOneGroup(props) {\n    _classCallCheck(this, TweenOneGroup);\n\n    var _this = _possibleConstructorReturn(this, (TweenOneGroup.__proto__ || Object.getPrototypeOf(TweenOneGroup)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.keysToEnter = [];\n    _this.keysToLeave = [];\n    _this.saveTweenTag = {};\n    _this.onEnterBool = false;\n    _this.animQueue = [];\n    _this.isTween = {};\n    // 第一进入，appear 为 true 时默认用 enter 或 tween-one 上的效果\n    var children = toArrayChildren(getChildrenFromProps(_this.props));\n    _this.currentChildren = toArrayChildren(getChildrenFromProps(_this.props));\n    _this.state = {\n      children: children,\n      $self: _this\n    };\n    return _this;\n  }\n\n  _createClass(TweenOneGroup, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.onEnterBool = true;\n    }\n  }, {\n    key: 'changeChildren',\n    value: function changeChildren(nextChildren, currentChildren) {\n      var _this2 = this;\n\n      var newChildren = mergeChildren(currentChildren, nextChildren);\n      this.keysToEnter = [];\n      this.keysToLeave = [];\n      nextChildren.forEach(function (c) {\n        if (!c) {\n          return;\n        }\n        var key = c.key;\n        var hasPrev = findChildInChildrenByKey(currentChildren, key);\n        // 如果当前 key 已存在 saveTweenTag 里，，刷新 child;\n        if (_this2.saveTweenTag[key]) {\n          _this2.saveTweenTag[key] = React.cloneElement(_this2.saveTweenTag[key], {}, c);\n        }\n        if (!hasPrev && key) {\n          _this2.keysToEnter.push(key);\n        }\n      });\n\n      currentChildren.forEach(function (c) {\n        if (!c) {\n          return;\n        }\n        var key = c.key;\n        var hasNext = findChildInChildrenByKey(nextChildren, key);\n        if (!hasNext && key) {\n          _this2.keysToLeave.push(key);\n          delete _this2.saveTweenTag[key];\n        }\n      });\n      return newChildren;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.state.children;\n      // fix in strict mode https://github.com/ant-design/ant-motion/issues/323;\n\n      this.currentChildren = children;\n      var childrenToRender = this.getChildrenToRender(children);\n\n      var _props = this.props,\n          component = _props.component,\n          componentProps = _props.componentProps,\n          appear = _props.appear,\n          enter = _props.enter,\n          leave = _props.leave,\n          animatingClassName = _props.animatingClassName,\n          onEnd = _props.onEnd,\n          exclusive = _props.exclusive,\n          resetStyle = _props.resetStyle,\n          props = _objectWithoutProperties(_props, ['component', 'componentProps', 'appear', 'enter', 'leave', 'animatingClassName', 'onEnd', 'exclusive', 'resetStyle']);\n\n      if (!component) {\n        return childrenToRender[0] || null;\n      }\n      return createElement(component, _extends({}, props, componentProps), childrenToRender);\n    }\n  }]);\n\n  return TweenOneGroup;\n}(Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onChange = function (animation, key, type, obj) {\n    var length = dataToArray(animation).length;\n    var tag = obj.target;\n    var classIsSvg = typeof tag.className === 'object' && 'baseVal' in tag.className;\n    var isEnter = type === 'enter' || type === 'appear';\n    if (obj.mode === 'onStart') {\n      if (classIsSvg) {\n        tag.className.baseVal = _this3.setClassName(tag.className.baseVal, isEnter);\n      } else {\n        tag.className = _this3.setClassName(tag.className, isEnter);\n      }\n    } else if (obj.index === length - 1 && obj.mode === 'onComplete') {\n      delete _this3.isTween[key];\n      if (classIsSvg) {\n        tag.className.baseVal = tag.className.baseVal.replace(_this3.props.animatingClassName[isEnter ? 0 : 1], '').trim();\n      } else {\n        tag.className = tag.className.replace(_this3.props.animatingClassName[isEnter ? 0 : 1], '').trim();\n      }\n      if (type === 'enter') {\n        _this3.keysToEnter.splice(_this3.keysToEnter.indexOf(key), 1);\n        if (!_this3.keysToEnter.length) {\n          _this3.reAnimQueue();\n        }\n      } else if (type === 'leave') {\n        _this3.keysToLeave.splice(_this3.keysToLeave.indexOf(key), 1);\n        _this3.currentChildren = _this3.currentChildren.filter(function (child) {\n          return key !== child.key;\n        });\n        if (!_this3.keysToLeave.length) {\n          var currentChildrenKeys = _this3.currentChildren.map(function (item) {\n            return item.key;\n          });\n          Object.keys(_this3.saveTweenTag).forEach(function ($key) {\n            if (currentChildrenKeys.indexOf($key) === -1) {\n              delete _this3.saveTweenTag[$key];\n            }\n          });\n          _this3.setState({\n            children: _this3.currentChildren\n          }, _this3.reAnimQueue);\n        }\n      }\n      var _obj = { key: key, type: type };\n      _this3.props.onEnd(_obj);\n    }\n  };\n\n  this.setClassName = function (name, isEnter) {\n    var className = name.replace(_this3.props.animatingClassName[isEnter ? 1 : 0], '').trim();\n    if (className.indexOf(_this3.props.animatingClassName[isEnter ? 0 : 1]) === -1) {\n      className = (className + ' ' + _this3.props.animatingClassName[isEnter ? 0 : 1]).trim();\n    }\n    return className;\n  };\n\n  this.getTweenChild = function (child) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var key = child.key;\n    _this3.saveTweenTag[key] = React.createElement(TweenOne, _extends({}, props, {\n      key: key,\n      component: null\n    }), child);\n    return _this3.saveTweenTag[key];\n  };\n\n  this.getCoverAnimation = function (child, i, type) {\n    var animation = void 0;\n    animation = type === 'leave' ? _this3.props.leave : _this3.props.enter;\n    if (type === 'appear') {\n      var appear = transformArguments(_this3.props.appear, child.key, i);\n      animation = appear && _this3.props.enter || null;\n    }\n    var animate = transformArguments(animation, child.key, i);\n    var onChange = _this3.onChange.bind(_this3, animate, child.key, type);\n    var props = {\n      key: child.key,\n      animation: animate,\n      onChange: onChange,\n      resetStyle: _this3.props.resetStyle\n    };\n    if (_this3.keysToEnter.concat(_this3.keysToLeave).indexOf(child.key) >= 0 || !_this3.onEnterBool && animation) {\n      if (!_this3.saveTweenTag[child.key]) {\n        _this3.isTween[child.key] = type;\n      }\n    }\n    var children = _this3.getTweenChild(child, props);\n    return children;\n  };\n\n  this.getChildrenToRender = function (children) {\n    return children.map(function (child, i) {\n      if (!child || !child.key) {\n        return child;\n      }\n      var key = child.key;\n      if (_this3.keysToLeave.indexOf(key) >= 0) {\n        return _this3.getCoverAnimation(child, i, 'leave');\n      } else if ((_this3.keysToEnter.indexOf(key) >= 0 || _this3.isTween[key] && _this3.keysToLeave.indexOf(key) === -1) && !(_this3.isTween[key] === 'enter' && _this3.saveTweenTag[key])) {\n        /**\n         * 1. 在 key 在 enter 里。\n         * 2. 出场未结束，触发进场, this.isTween[key] 为 leave, key 在 enter 里。\n         * 3. 状态为 enter 且 tweenTag 里有值时，不执行重载动画属性，直接调用 tweenTag 里的。\n         */\n        return _this3.getCoverAnimation(child, i, 'enter');\n      } else if (!_this3.onEnterBool) {\n        return _this3.getCoverAnimation(child, i, 'appear');\n      }\n      return _this3.saveTweenTag[key];\n    });\n  };\n\n  this.reAnimQueue = function () {\n    if (!Object.keys(_this3.isTween).length && _this3.animQueue.length) {\n      var children = _this3.changeChildren(_this3.animQueue[_this3.animQueue.length - 1], _this3.state.children);\n      _this3.setState({\n        children: children\n      });\n      _this3.animQueue = [];\n    }\n  };\n};\n\nTweenOneGroup.propTypes = {\n  component: PropTypes.any,\n  componentProps: PropTypes.object,\n  children: PropTypes.any,\n  style: PropTypes.object,\n  appear: PropTypes.bool,\n  enter: PropTypes.any,\n  leave: PropTypes.any,\n  animatingClassName: PropTypes.array,\n  onEnd: PropTypes.func,\n  resetStyle: PropTypes.bool,\n  exclusive: PropTypes.bool\n};\n\nTweenOneGroup.defaultProps = {\n  component: 'div',\n  componentProps: {},\n  appear: true,\n  animatingClassName: ['tween-one-entering', 'tween-one-leaving'],\n  enter: { x: 50, opacity: 0, type: 'from' },\n  leave: { x: -50, opacity: 0 },\n  onEnd: noop,\n  resetStyle: true,\n  exclusive: false\n};\nTweenOneGroup.isTweenOneGroup = true;\nexport default polyfill(TweenOneGroup);"]}]}
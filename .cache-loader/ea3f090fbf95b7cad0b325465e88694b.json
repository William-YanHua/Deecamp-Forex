{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\plots\\density-heatmap\\components\\background.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\plots\\density-heatmap\\components\\background.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import { __extends } from \"tslib\";\r\nimport { each } from '@antv/util';\r\nimport EventEmitter from '@antv/event-emitter';\r\nvar HeatmapBackground = (function (_super) {\r\n    __extends(HeatmapBackground, _super);\r\n    function HeatmapBackground(cfg) {\r\n        var _this = _super.call(this) || this;\r\n        _this.options = cfg;\r\n        _this.view = _this.options.view;\r\n        _this.init();\r\n        return _this;\r\n    }\r\n    HeatmapBackground.prototype.init = function () {\r\n        var coord = this.getCoordinate();\r\n        this.width = coord.getWidth();\r\n        this.height = coord.getHeight();\r\n        this.x = coord.start.x;\r\n        this.y = coord.end.y;\r\n        this.container = this.view.backgroundGroup.addGroup({});\r\n    };\r\n    HeatmapBackground.prototype.render = function () {\r\n        if (this.options.type === 'color') {\r\n            this.renderColorBackground();\r\n        }\r\n        else if (this.options.type === 'image') {\r\n            this.renderImageBackground();\r\n        }\r\n        else if (this.options.callback) {\r\n            var callbackCfg = {\r\n                x: this.x,\r\n                y: this.y,\r\n                width: this.width,\r\n                height: this.height,\r\n                container: this.container,\r\n            };\r\n            this.options.callback(callbackCfg);\r\n        }\r\n    };\r\n    HeatmapBackground.prototype.renderColorBackground = function () {\r\n        this.container.addShape('rect', {\r\n            attrs: {\r\n                x: this.x,\r\n                y: this.y,\r\n                width: this.width,\r\n                height: this.height,\r\n                fill: this.options.value,\r\n            },\r\n            name: 'heatmap-background',\r\n        });\r\n    };\r\n    HeatmapBackground.prototype.renderImageBackground = function () {\r\n        this.container.addShape('image', {\r\n            attrs: {\r\n                x: this.x,\r\n                y: this.y,\r\n                width: this.width,\r\n                height: this.height,\r\n                img: this.options.src,\r\n            },\r\n            name: 'heatmap-background',\r\n        });\r\n    };\r\n    HeatmapBackground.prototype.clear = function () {\r\n        if (this.container) {\r\n            this.container.clear();\r\n            this.emit('background:clear');\r\n        }\r\n    };\r\n    HeatmapBackground.prototype.destroy = function () {\r\n        if (this.container) {\r\n            this.container.remove();\r\n            this.emit('background:destroy');\r\n        }\r\n    };\r\n    HeatmapBackground.prototype.getCoordinate = function () {\r\n        var coordinate;\r\n        each(this.view.geometries, function (geom) {\r\n            if (geom.type === 'heatmap') {\r\n                coordinate = geom.coordinate;\r\n            }\r\n        });\r\n        return coordinate;\r\n    };\r\n    return HeatmapBackground;\r\n}(EventEmitter));\r\nexport default HeatmapBackground;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\plots\\density-heatmap\\components\\background.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\plots\\density-heatmap\\components\\background.js"],"names":[],"mappings":"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","sourcesContent":["import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport EventEmitter from '@antv/event-emitter';\nvar HeatmapBackground = /** @class */ (function (_super) {\n    __extends(HeatmapBackground, _super);\n    function HeatmapBackground(cfg) {\n        var _this = _super.call(this) || this;\n        _this.options = cfg;\n        _this.view = _this.options.view;\n        _this.init();\n        return _this;\n    }\n    HeatmapBackground.prototype.init = function () {\n        var coord = this.getCoordinate();\n        this.width = coord.getWidth();\n        this.height = coord.getHeight();\n        this.x = coord.start.x;\n        this.y = coord.end.y;\n        this.container = this.view.backgroundGroup.addGroup({});\n    };\n    HeatmapBackground.prototype.render = function () {\n        if (this.options.type === 'color') {\n            this.renderColorBackground();\n        }\n        else if (this.options.type === 'image') {\n            this.renderImageBackground();\n        }\n        else if (this.options.callback) {\n            var callbackCfg = {\n                x: this.x,\n                y: this.y,\n                width: this.width,\n                height: this.height,\n                container: this.container,\n            };\n            this.options.callback(callbackCfg);\n        }\n    };\n    HeatmapBackground.prototype.renderColorBackground = function () {\n        this.container.addShape('rect', {\n            attrs: {\n                x: this.x,\n                y: this.y,\n                width: this.width,\n                height: this.height,\n                fill: this.options.value,\n            },\n            name: 'heatmap-background',\n        });\n    };\n    HeatmapBackground.prototype.renderImageBackground = function () {\n        this.container.addShape('image', {\n            attrs: {\n                x: this.x,\n                y: this.y,\n                width: this.width,\n                height: this.height,\n                img: this.options.src,\n            },\n            name: 'heatmap-background',\n        });\n    };\n    HeatmapBackground.prototype.clear = function () {\n        if (this.container) {\n            this.container.clear();\n            this.emit('background:clear');\n        }\n    };\n    HeatmapBackground.prototype.destroy = function () {\n        if (this.container) {\n            this.container.remove();\n            // 使用callback定制的html background需要自己监听销毁事件自行销毁\n            this.emit('background:destroy');\n        }\n    };\n    HeatmapBackground.prototype.getCoordinate = function () {\n        var coordinate;\n        each(this.view.geometries, function (geom) {\n            if (geom.type === 'heatmap') {\n                coordinate = geom.coordinate;\n            }\n        });\n        return coordinate;\n    };\n    return HeatmapBackground;\n}(EventEmitter));\nexport default HeatmapBackground;\n//# sourceMappingURL=background.js.map"]}]}
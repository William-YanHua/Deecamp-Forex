{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-menu\\es\\SubMenu.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-menu\\es\\SubMenu.js","mtime":1540360655000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\r\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\r\nimport _inherits from 'babel-runtime/helpers/inherits';\r\nimport _extends from 'babel-runtime/helpers/extends';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport Trigger from 'rc-trigger';\r\nimport KeyCode from 'rc-util/es/KeyCode';\r\nimport classNames from 'classnames';\r\nimport { connect } from 'mini-store';\r\nimport SubPopupMenu from './SubPopupMenu';\r\nimport placements from './placements';\r\nimport Animate from 'rc-animate';\r\nimport { noop, loopMenuItemRecursively, getMenuIdFromSubMenuEventKey, menuAllProps } from './util';\r\nvar guid = 0;\r\nvar popupPlacementMap = {\r\n    horizontal: 'bottomLeft',\r\n    vertical: 'rightTop',\r\n    'vertical-left': 'rightTop',\r\n    'vertical-right': 'leftTop'\r\n};\r\nvar updateDefaultActiveFirst = function updateDefaultActiveFirst(store, eventKey, defaultActiveFirst) {\r\n    var _extends2;\r\n    var menuId = getMenuIdFromSubMenuEventKey(eventKey);\r\n    var state = store.getState();\r\n    store.setState({\r\n        defaultActiveFirst: _extends({}, state.defaultActiveFirst, (_extends2 = {}, _extends2[menuId] = defaultActiveFirst, _extends2))\r\n    });\r\n};\r\nexport var SubMenu = function (_React$Component) {\r\n    _inherits(SubMenu, _React$Component);\r\n    function SubMenu(props) {\r\n        _classCallCheck(this, SubMenu);\r\n        var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\r\n        _initialiseProps.call(_this);\r\n        var store = props.store;\r\n        var eventKey = props.eventKey;\r\n        var defaultActiveFirst = store.getState().defaultActiveFirst;\r\n        _this.isRootMenu = false;\r\n        var value = false;\r\n        if (defaultActiveFirst) {\r\n            value = defaultActiveFirst[eventKey];\r\n        }\r\n        updateDefaultActiveFirst(store, eventKey, value);\r\n        return _this;\r\n    }\r\n    SubMenu.prototype.componentDidMount = function componentDidMount() {\r\n        this.componentDidUpdate();\r\n    };\r\n    SubMenu.prototype.componentDidUpdate = function componentDidUpdate() {\r\n        var _this2 = this;\r\n        var _props = this.props, mode = _props.mode, parentMenu = _props.parentMenu, manualRef = _props.manualRef;\r\n        if (manualRef) {\r\n            manualRef(this);\r\n        }\r\n        if (mode !== 'horizontal' || !parentMenu.isRootMenu || !this.props.isOpen) {\r\n            return;\r\n        }\r\n        this.minWidthTimeout = setTimeout(function () {\r\n            return _this2.adjustWidth();\r\n        }, 0);\r\n    };\r\n    SubMenu.prototype.componentWillUnmount = function componentWillUnmount() {\r\n        var _props2 = this.props, onDestroy = _props2.onDestroy, eventKey = _props2.eventKey;\r\n        if (onDestroy) {\r\n            onDestroy(eventKey);\r\n        }\r\n        if (this.minWidthTimeout) {\r\n            clearTimeout(this.minWidthTimeout);\r\n        }\r\n        if (this.mouseenterTimeout) {\r\n            clearTimeout(this.mouseenterTimeout);\r\n        }\r\n    };\r\n    SubMenu.prototype.renderChildren = function renderChildren(children) {\r\n        var props = this.props;\r\n        var baseProps = {\r\n            mode: props.mode === 'horizontal' ? 'vertical' : props.mode,\r\n            visible: this.props.isOpen,\r\n            level: props.level + 1,\r\n            inlineIndent: props.inlineIndent,\r\n            focusable: false,\r\n            onClick: this.onSubMenuClick,\r\n            onSelect: this.onSelect,\r\n            onDeselect: this.onDeselect,\r\n            onDestroy: this.onDestroy,\r\n            selectedKeys: props.selectedKeys,\r\n            eventKey: props.eventKey + '-menu-',\r\n            openKeys: props.openKeys,\r\n            openTransitionName: props.openTransitionName,\r\n            openAnimation: props.openAnimation,\r\n            onOpenChange: this.onOpenChange,\r\n            subMenuOpenDelay: props.subMenuOpenDelay,\r\n            parentMenu: this,\r\n            subMenuCloseDelay: props.subMenuCloseDelay,\r\n            forceSubMenuRender: props.forceSubMenuRender,\r\n            triggerSubMenuAction: props.triggerSubMenuAction,\r\n            builtinPlacements: props.builtinPlacements,\r\n            defaultActiveFirst: props.store.getState().defaultActiveFirst[getMenuIdFromSubMenuEventKey(props.eventKey)],\r\n            multiple: props.multiple,\r\n            prefixCls: props.rootPrefixCls,\r\n            id: this._menuId,\r\n            manualRef: this.saveMenuInstance,\r\n            itemIcon: props.itemIcon,\r\n            expandIcon: props.expandIcon\r\n        };\r\n        var haveRendered = this.haveRendered;\r\n        this.haveRendered = true;\r\n        this.haveOpened = this.haveOpened || baseProps.visible || baseProps.forceSubMenuRender;\r\n        if (!this.haveOpened) {\r\n            return React.createElement('div', null);\r\n        }\r\n        var transitionAppear = haveRendered || !baseProps.visible || !baseProps.mode === 'inline';\r\n        baseProps.className = ' ' + baseProps.prefixCls + '-sub';\r\n        var animProps = {};\r\n        if (baseProps.openTransitionName) {\r\n            animProps.transitionName = baseProps.openTransitionName;\r\n        }\r\n        else if (typeof baseProps.openAnimation === 'object') {\r\n            animProps.animation = _extends({}, baseProps.openAnimation);\r\n            if (!transitionAppear) {\r\n                delete animProps.animation.appear;\r\n            }\r\n        }\r\n        return React.createElement(Animate, _extends({}, animProps, {\r\n            showProp: 'visible',\r\n            component: '',\r\n            transitionAppear: transitionAppear\r\n        }), React.createElement(SubPopupMenu, _extends({}, baseProps, { id: this._menuId }), children));\r\n    };\r\n    SubMenu.prototype.render = function render() {\r\n        var _classNames;\r\n        var props = _extends({}, this.props);\r\n        var isOpen = props.isOpen;\r\n        var prefixCls = this.getPrefixCls();\r\n        var isInlineMode = props.mode === 'inline';\r\n        var className = classNames(prefixCls, prefixCls + '-' + props.mode, (_classNames = {}, _classNames[props.className] = !!props.className, _classNames[this.getOpenClassName()] = isOpen, _classNames[this.getActiveClassName()] = props.active || isOpen && !isInlineMode, _classNames[this.getDisabledClassName()] = props.disabled, _classNames[this.getSelectedClassName()] = this.isChildrenSelected(), _classNames));\r\n        if (!this._menuId) {\r\n            if (props.eventKey) {\r\n                this._menuId = props.eventKey + '$Menu';\r\n            }\r\n            else {\r\n                this._menuId = '$__$' + ++guid + '$Menu';\r\n            }\r\n        }\r\n        var mouseEvents = {};\r\n        var titleClickEvents = {};\r\n        var titleMouseEvents = {};\r\n        if (!props.disabled) {\r\n            mouseEvents = {\r\n                onMouseLeave: this.onMouseLeave,\r\n                onMouseEnter: this.onMouseEnter\r\n            };\r\n            titleClickEvents = {\r\n                onClick: this.onTitleClick\r\n            };\r\n            titleMouseEvents = {\r\n                onMouseEnter: this.onTitleMouseEnter,\r\n                onMouseLeave: this.onTitleMouseLeave\r\n            };\r\n        }\r\n        var style = {};\r\n        if (isInlineMode) {\r\n            style.paddingLeft = props.inlineIndent * props.level;\r\n        }\r\n        var ariaOwns = {};\r\n        if (this.props.isOpen) {\r\n            ariaOwns = {\r\n                'aria-owns': this._menuId\r\n            };\r\n        }\r\n        var icon = null;\r\n        if (props.mode !== 'horizontal') {\r\n            icon = this.props.expandIcon;\r\n            if (typeof this.props.expandIcon === 'function') {\r\n                icon = React.createElement(this.props.expandIcon, _extends({}, this.props));\r\n            }\r\n        }\r\n        var title = React.createElement('div', _extends({\r\n            ref: this.saveSubMenuTitle,\r\n            style: style,\r\n            className: prefixCls + '-title'\r\n        }, titleMouseEvents, titleClickEvents, {\r\n            'aria-expanded': isOpen\r\n        }, ariaOwns, {\r\n            'aria-haspopup': 'true',\r\n            title: typeof props.title === 'string' ? props.title : undefined\r\n        }), props.title, icon || React.createElement('i', { className: prefixCls + '-arrow' }));\r\n        var children = this.renderChildren(props.children);\r\n        var getPopupContainer = props.parentMenu.isRootMenu ? props.parentMenu.props.getPopupContainer : function (triggerNode) {\r\n            return triggerNode.parentNode;\r\n        };\r\n        var popupPlacement = popupPlacementMap[props.mode];\r\n        var popupAlign = props.popupOffset ? { offset: props.popupOffset } : {};\r\n        var popupClassName = props.mode === 'inline' ? '' : props.popupClassName;\r\n        var disabled = props.disabled, triggerSubMenuAction = props.triggerSubMenuAction, subMenuOpenDelay = props.subMenuOpenDelay, forceSubMenuRender = props.forceSubMenuRender, subMenuCloseDelay = props.subMenuCloseDelay, builtinPlacements = props.builtinPlacements;\r\n        menuAllProps.forEach(function (key) {\r\n            return delete props[key];\r\n        });\r\n        delete props.onClick;\r\n        return React.createElement('li', _extends({}, props, mouseEvents, {\r\n            className: className,\r\n            role: 'menuitem'\r\n        }), isInlineMode && title, isInlineMode && children, !isInlineMode && React.createElement(Trigger, {\r\n            prefixCls: prefixCls,\r\n            popupClassName: prefixCls + '-popup ' + popupClassName,\r\n            getPopupContainer: getPopupContainer,\r\n            builtinPlacements: _extends({}, placements, builtinPlacements),\r\n            popupPlacement: popupPlacement,\r\n            popupVisible: isOpen,\r\n            popupAlign: popupAlign,\r\n            popup: children,\r\n            action: disabled ? [] : [triggerSubMenuAction],\r\n            mouseEnterDelay: subMenuOpenDelay,\r\n            mouseLeaveDelay: subMenuCloseDelay,\r\n            onPopupVisibleChange: this.onPopupVisibleChange,\r\n            forceRender: forceSubMenuRender\r\n        }, title));\r\n    };\r\n    return SubMenu;\r\n}(React.Component);\r\nSubMenu.propTypes = {\r\n    parentMenu: PropTypes.object,\r\n    title: PropTypes.node,\r\n    children: PropTypes.any,\r\n    selectedKeys: PropTypes.array,\r\n    openKeys: PropTypes.array,\r\n    onClick: PropTypes.func,\r\n    onOpenChange: PropTypes.func,\r\n    rootPrefixCls: PropTypes.string,\r\n    eventKey: PropTypes.string,\r\n    multiple: PropTypes.bool,\r\n    active: PropTypes.bool,\r\n    onItemHover: PropTypes.func,\r\n    onSelect: PropTypes.func,\r\n    triggerSubMenuAction: PropTypes.string,\r\n    onDeselect: PropTypes.func,\r\n    onDestroy: PropTypes.func,\r\n    onMouseEnter: PropTypes.func,\r\n    onMouseLeave: PropTypes.func,\r\n    onTitleMouseEnter: PropTypes.func,\r\n    onTitleMouseLeave: PropTypes.func,\r\n    onTitleClick: PropTypes.func,\r\n    popupOffset: PropTypes.array,\r\n    isOpen: PropTypes.bool,\r\n    store: PropTypes.object,\r\n    mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']),\r\n    manualRef: PropTypes.func,\r\n    itemIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\r\n    expandIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node])\r\n};\r\nSubMenu.defaultProps = {\r\n    onMouseEnter: noop,\r\n    onMouseLeave: noop,\r\n    onTitleMouseEnter: noop,\r\n    onTitleMouseLeave: noop,\r\n    onTitleClick: noop,\r\n    manualRef: noop,\r\n    mode: 'vertical',\r\n    title: ''\r\n};\r\nvar _initialiseProps = function _initialiseProps() {\r\n    var _this3 = this;\r\n    this.onDestroy = function (key) {\r\n        _this3.props.onDestroy(key);\r\n    };\r\n    this.onKeyDown = function (e) {\r\n        var keyCode = e.keyCode;\r\n        var menu = _this3.menuInstance;\r\n        var _props3 = _this3.props, isOpen = _props3.isOpen, store = _props3.store;\r\n        if (keyCode === KeyCode.ENTER) {\r\n            _this3.onTitleClick(e);\r\n            updateDefaultActiveFirst(store, _this3.props.eventKey, true);\r\n            return true;\r\n        }\r\n        if (keyCode === KeyCode.RIGHT) {\r\n            if (isOpen) {\r\n                menu.onKeyDown(e);\r\n            }\r\n            else {\r\n                _this3.triggerOpenChange(true);\r\n                updateDefaultActiveFirst(store, _this3.props.eventKey, true);\r\n            }\r\n            return true;\r\n        }\r\n        if (keyCode === KeyCode.LEFT) {\r\n            var handled = void 0;\r\n            if (isOpen) {\r\n                handled = menu.onKeyDown(e);\r\n            }\r\n            else {\r\n                return undefined;\r\n            }\r\n            if (!handled) {\r\n                _this3.triggerOpenChange(false);\r\n                handled = true;\r\n            }\r\n            return handled;\r\n        }\r\n        if (isOpen && (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)) {\r\n            return menu.onKeyDown(e);\r\n        }\r\n    };\r\n    this.onOpenChange = function (e) {\r\n        _this3.props.onOpenChange(e);\r\n    };\r\n    this.onPopupVisibleChange = function (visible) {\r\n        _this3.triggerOpenChange(visible, visible ? 'mouseenter' : 'mouseleave');\r\n    };\r\n    this.onMouseEnter = function (e) {\r\n        var _props4 = _this3.props, key = _props4.eventKey, onMouseEnter = _props4.onMouseEnter, store = _props4.store;\r\n        updateDefaultActiveFirst(store, _this3.props.eventKey, false);\r\n        onMouseEnter({\r\n            key: key,\r\n            domEvent: e\r\n        });\r\n    };\r\n    this.onMouseLeave = function (e) {\r\n        var _props5 = _this3.props, parentMenu = _props5.parentMenu, eventKey = _props5.eventKey, onMouseLeave = _props5.onMouseLeave;\r\n        parentMenu.subMenuInstance = _this3;\r\n        onMouseLeave({\r\n            key: eventKey,\r\n            domEvent: e\r\n        });\r\n    };\r\n    this.onTitleMouseEnter = function (domEvent) {\r\n        var _props6 = _this3.props, key = _props6.eventKey, onItemHover = _props6.onItemHover, onTitleMouseEnter = _props6.onTitleMouseEnter;\r\n        onItemHover({\r\n            key: key,\r\n            hover: true\r\n        });\r\n        onTitleMouseEnter({\r\n            key: key,\r\n            domEvent: domEvent\r\n        });\r\n    };\r\n    this.onTitleMouseLeave = function (e) {\r\n        var _props7 = _this3.props, parentMenu = _props7.parentMenu, eventKey = _props7.eventKey, onItemHover = _props7.onItemHover, onTitleMouseLeave = _props7.onTitleMouseLeave;\r\n        parentMenu.subMenuInstance = _this3;\r\n        onItemHover({\r\n            key: eventKey,\r\n            hover: false\r\n        });\r\n        onTitleMouseLeave({\r\n            key: eventKey,\r\n            domEvent: e\r\n        });\r\n    };\r\n    this.onTitleClick = function (e) {\r\n        var props = _this3.props;\r\n        props.onTitleClick({\r\n            key: props.eventKey,\r\n            domEvent: e\r\n        });\r\n        if (props.triggerSubMenuAction === 'hover') {\r\n            return;\r\n        }\r\n        _this3.triggerOpenChange(!props.isOpen, 'click');\r\n        updateDefaultActiveFirst(props.store, _this3.props.eventKey, false);\r\n    };\r\n    this.onSubMenuClick = function (info) {\r\n        _this3.props.onClick(_this3.addKeyPath(info));\r\n    };\r\n    this.onSelect = function (info) {\r\n        _this3.props.onSelect(info);\r\n    };\r\n    this.onDeselect = function (info) {\r\n        _this3.props.onDeselect(info);\r\n    };\r\n    this.getPrefixCls = function () {\r\n        return _this3.props.rootPrefixCls + '-submenu';\r\n    };\r\n    this.getActiveClassName = function () {\r\n        return _this3.getPrefixCls() + '-active';\r\n    };\r\n    this.getDisabledClassName = function () {\r\n        return _this3.getPrefixCls() + '-disabled';\r\n    };\r\n    this.getSelectedClassName = function () {\r\n        return _this3.getPrefixCls() + '-selected';\r\n    };\r\n    this.getOpenClassName = function () {\r\n        return _this3.props.rootPrefixCls + '-submenu-open';\r\n    };\r\n    this.saveMenuInstance = function (c) {\r\n        _this3.menuInstance = c;\r\n    };\r\n    this.addKeyPath = function (info) {\r\n        return _extends({}, info, {\r\n            keyPath: (info.keyPath || []).concat(_this3.props.eventKey)\r\n        });\r\n    };\r\n    this.triggerOpenChange = function (open, type) {\r\n        var key = _this3.props.eventKey;\r\n        var openChange = function openChange() {\r\n            _this3.onOpenChange({\r\n                key: key,\r\n                item: _this3,\r\n                trigger: type,\r\n                open: open\r\n            });\r\n        };\r\n        if (type === 'mouseenter') {\r\n            _this3.mouseenterTimeout = setTimeout(function () {\r\n                openChange();\r\n            }, 0);\r\n        }\r\n        else {\r\n            openChange();\r\n        }\r\n    };\r\n    this.isChildrenSelected = function () {\r\n        var ret = { find: false };\r\n        loopMenuItemRecursively(_this3.props.children, _this3.props.selectedKeys, ret);\r\n        return ret.find;\r\n    };\r\n    this.isOpen = function () {\r\n        return _this3.props.openKeys.indexOf(_this3.props.eventKey) !== -1;\r\n    };\r\n    this.adjustWidth = function () {\r\n        if (!_this3.subMenuTitle || !_this3.menuInstance) {\r\n            return;\r\n        }\r\n        var popupMenu = ReactDOM.findDOMNode(_this3.menuInstance);\r\n        if (popupMenu.offsetWidth >= _this3.subMenuTitle.offsetWidth) {\r\n            return;\r\n        }\r\n        popupMenu.style.minWidth = _this3.subMenuTitle.offsetWidth + 'px';\r\n    };\r\n    this.saveSubMenuTitle = function (subMenuTitle) {\r\n        _this3.subMenuTitle = subMenuTitle;\r\n    };\r\n};\r\nvar connected = connect(function (_ref, _ref2) {\r\n    var openKeys = _ref.openKeys, activeKey = _ref.activeKey, selectedKeys = _ref.selectedKeys;\r\n    var eventKey = _ref2.eventKey, subMenuKey = _ref2.subMenuKey;\r\n    return {\r\n        isOpen: openKeys.indexOf(eventKey) > -1,\r\n        active: activeKey[subMenuKey] === eventKey,\r\n        selectedKeys: selectedKeys\r\n    };\r\n})(SubMenu);\r\nconnected.isSubMenu = true;\r\nexport default connected;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-menu\\es\\SubMenu.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-menu\\es\\SubMenu.js"],"names":[],"mappings":"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","sourcesContent":["import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport _extends from 'babel-runtime/helpers/extends';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport Trigger from 'rc-trigger';\nimport KeyCode from 'rc-util/es/KeyCode';\nimport classNames from 'classnames';\nimport { connect } from 'mini-store';\nimport SubPopupMenu from './SubPopupMenu';\nimport placements from './placements';\nimport Animate from 'rc-animate';\nimport { noop, loopMenuItemRecursively, getMenuIdFromSubMenuEventKey, menuAllProps } from './util';\n\nvar guid = 0;\n\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\n\nvar updateDefaultActiveFirst = function updateDefaultActiveFirst(store, eventKey, defaultActiveFirst) {\n  var _extends2;\n\n  var menuId = getMenuIdFromSubMenuEventKey(eventKey);\n  var state = store.getState();\n  store.setState({\n    defaultActiveFirst: _extends({}, state.defaultActiveFirst, (_extends2 = {}, _extends2[menuId] = defaultActiveFirst, _extends2))\n  });\n};\n\nexport var SubMenu = function (_React$Component) {\n  _inherits(SubMenu, _React$Component);\n\n  function SubMenu(props) {\n    _classCallCheck(this, SubMenu);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var store = props.store;\n    var eventKey = props.eventKey;\n    var defaultActiveFirst = store.getState().defaultActiveFirst;\n\n    _this.isRootMenu = false;\n\n    var value = false;\n\n    if (defaultActiveFirst) {\n      value = defaultActiveFirst[eventKey];\n    }\n\n    updateDefaultActiveFirst(store, eventKey, value);\n    return _this;\n  }\n\n  SubMenu.prototype.componentDidMount = function componentDidMount() {\n    this.componentDidUpdate();\n  };\n\n  SubMenu.prototype.componentDidUpdate = function componentDidUpdate() {\n    var _this2 = this;\n\n    var _props = this.props,\n        mode = _props.mode,\n        parentMenu = _props.parentMenu,\n        manualRef = _props.manualRef;\n\n    // invoke customized ref to expose component to mixin\n\n    if (manualRef) {\n      manualRef(this);\n    }\n\n    if (mode !== 'horizontal' || !parentMenu.isRootMenu || !this.props.isOpen) {\n      return;\n    }\n\n    this.minWidthTimeout = setTimeout(function () {\n      return _this2.adjustWidth();\n    }, 0);\n  };\n\n  SubMenu.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _props2 = this.props,\n        onDestroy = _props2.onDestroy,\n        eventKey = _props2.eventKey;\n\n    if (onDestroy) {\n      onDestroy(eventKey);\n    }\n\n    /* istanbul ignore if */\n    if (this.minWidthTimeout) {\n      clearTimeout(this.minWidthTimeout);\n    }\n\n    /* istanbul ignore if */\n    if (this.mouseenterTimeout) {\n      clearTimeout(this.mouseenterTimeout);\n    }\n  };\n\n  SubMenu.prototype.renderChildren = function renderChildren(children) {\n    var props = this.props;\n    var baseProps = {\n      mode: props.mode === 'horizontal' ? 'vertical' : props.mode,\n      visible: this.props.isOpen,\n      level: props.level + 1,\n      inlineIndent: props.inlineIndent,\n      focusable: false,\n      onClick: this.onSubMenuClick,\n      onSelect: this.onSelect,\n      onDeselect: this.onDeselect,\n      onDestroy: this.onDestroy,\n      selectedKeys: props.selectedKeys,\n      eventKey: props.eventKey + '-menu-',\n      openKeys: props.openKeys,\n      openTransitionName: props.openTransitionName,\n      openAnimation: props.openAnimation,\n      onOpenChange: this.onOpenChange,\n      subMenuOpenDelay: props.subMenuOpenDelay,\n      parentMenu: this,\n      subMenuCloseDelay: props.subMenuCloseDelay,\n      forceSubMenuRender: props.forceSubMenuRender,\n      triggerSubMenuAction: props.triggerSubMenuAction,\n      builtinPlacements: props.builtinPlacements,\n      defaultActiveFirst: props.store.getState().defaultActiveFirst[getMenuIdFromSubMenuEventKey(props.eventKey)],\n      multiple: props.multiple,\n      prefixCls: props.rootPrefixCls,\n      id: this._menuId,\n      manualRef: this.saveMenuInstance,\n      itemIcon: props.itemIcon,\n      expandIcon: props.expandIcon\n    };\n\n    var haveRendered = this.haveRendered;\n    this.haveRendered = true;\n\n    this.haveOpened = this.haveOpened || baseProps.visible || baseProps.forceSubMenuRender;\n    // never rendered not planning to, don't render\n    if (!this.haveOpened) {\n      return React.createElement('div', null);\n    }\n\n    // don't show transition on first rendering (no animation for opened menu)\n    // show appear transition if it's not visible (not sure why)\n    // show appear transition if it's not inline mode\n    var transitionAppear = haveRendered || !baseProps.visible || !baseProps.mode === 'inline';\n\n    baseProps.className = ' ' + baseProps.prefixCls + '-sub';\n    var animProps = {};\n\n    if (baseProps.openTransitionName) {\n      animProps.transitionName = baseProps.openTransitionName;\n    } else if (typeof baseProps.openAnimation === 'object') {\n      animProps.animation = _extends({}, baseProps.openAnimation);\n      if (!transitionAppear) {\n        delete animProps.animation.appear;\n      }\n    }\n\n    return React.createElement(\n      Animate,\n      _extends({}, animProps, {\n        showProp: 'visible',\n        component: '',\n        transitionAppear: transitionAppear\n      }),\n      React.createElement(\n        SubPopupMenu,\n        _extends({}, baseProps, { id: this._menuId }),\n        children\n      )\n    );\n  };\n\n  SubMenu.prototype.render = function render() {\n    var _classNames;\n\n    var props = _extends({}, this.props);\n    var isOpen = props.isOpen;\n    var prefixCls = this.getPrefixCls();\n    var isInlineMode = props.mode === 'inline';\n    var className = classNames(prefixCls, prefixCls + '-' + props.mode, (_classNames = {}, _classNames[props.className] = !!props.className, _classNames[this.getOpenClassName()] = isOpen, _classNames[this.getActiveClassName()] = props.active || isOpen && !isInlineMode, _classNames[this.getDisabledClassName()] = props.disabled, _classNames[this.getSelectedClassName()] = this.isChildrenSelected(), _classNames));\n\n    if (!this._menuId) {\n      if (props.eventKey) {\n        this._menuId = props.eventKey + '$Menu';\n      } else {\n        this._menuId = '$__$' + ++guid + '$Menu';\n      }\n    }\n\n    var mouseEvents = {};\n    var titleClickEvents = {};\n    var titleMouseEvents = {};\n    if (!props.disabled) {\n      mouseEvents = {\n        onMouseLeave: this.onMouseLeave,\n        onMouseEnter: this.onMouseEnter\n      };\n\n      // only works in title, not outer li\n      titleClickEvents = {\n        onClick: this.onTitleClick\n      };\n      titleMouseEvents = {\n        onMouseEnter: this.onTitleMouseEnter,\n        onMouseLeave: this.onTitleMouseLeave\n      };\n    }\n\n    var style = {};\n    if (isInlineMode) {\n      style.paddingLeft = props.inlineIndent * props.level;\n    }\n\n    var ariaOwns = {};\n    // only set aria-owns when menu is open\n    // otherwise it would be an invalid aria-owns value\n    // since corresponding node cannot be found\n    if (this.props.isOpen) {\n      ariaOwns = {\n        'aria-owns': this._menuId\n      };\n    }\n\n    // expand custom icon should NOT be displayed in menu with horizontal mode.\n    var icon = null;\n    if (props.mode !== 'horizontal') {\n      icon = this.props.expandIcon; // ReactNode\n      if (typeof this.props.expandIcon === 'function') {\n        icon = React.createElement(this.props.expandIcon, _extends({}, this.props));\n      }\n    }\n\n    var title = React.createElement(\n      'div',\n      _extends({\n        ref: this.saveSubMenuTitle,\n        style: style,\n        className: prefixCls + '-title'\n      }, titleMouseEvents, titleClickEvents, {\n        'aria-expanded': isOpen\n      }, ariaOwns, {\n        'aria-haspopup': 'true',\n        title: typeof props.title === 'string' ? props.title : undefined\n      }),\n      props.title,\n      icon || React.createElement('i', { className: prefixCls + '-arrow' })\n    );\n    var children = this.renderChildren(props.children);\n\n    var getPopupContainer = props.parentMenu.isRootMenu ? props.parentMenu.props.getPopupContainer : function (triggerNode) {\n      return triggerNode.parentNode;\n    };\n    var popupPlacement = popupPlacementMap[props.mode];\n    var popupAlign = props.popupOffset ? { offset: props.popupOffset } : {};\n    var popupClassName = props.mode === 'inline' ? '' : props.popupClassName;\n    var disabled = props.disabled,\n        triggerSubMenuAction = props.triggerSubMenuAction,\n        subMenuOpenDelay = props.subMenuOpenDelay,\n        forceSubMenuRender = props.forceSubMenuRender,\n        subMenuCloseDelay = props.subMenuCloseDelay,\n        builtinPlacements = props.builtinPlacements;\n\n    menuAllProps.forEach(function (key) {\n      return delete props[key];\n    });\n    // Set onClick to null, to ignore propagated onClick event\n    delete props.onClick;\n\n    return React.createElement(\n      'li',\n      _extends({}, props, mouseEvents, {\n        className: className,\n        role: 'menuitem'\n      }),\n      isInlineMode && title,\n      isInlineMode && children,\n      !isInlineMode && React.createElement(\n        Trigger,\n        {\n          prefixCls: prefixCls,\n          popupClassName: prefixCls + '-popup ' + popupClassName,\n          getPopupContainer: getPopupContainer,\n          builtinPlacements: _extends({}, placements, builtinPlacements),\n          popupPlacement: popupPlacement,\n          popupVisible: isOpen,\n          popupAlign: popupAlign,\n          popup: children,\n          action: disabled ? [] : [triggerSubMenuAction],\n          mouseEnterDelay: subMenuOpenDelay,\n          mouseLeaveDelay: subMenuCloseDelay,\n          onPopupVisibleChange: this.onPopupVisibleChange,\n          forceRender: forceSubMenuRender\n        },\n        title\n      )\n    );\n  };\n\n  return SubMenu;\n}(React.Component);\n\nSubMenu.propTypes = {\n  parentMenu: PropTypes.object,\n  title: PropTypes.node,\n  children: PropTypes.any,\n  selectedKeys: PropTypes.array,\n  openKeys: PropTypes.array,\n  onClick: PropTypes.func,\n  onOpenChange: PropTypes.func,\n  rootPrefixCls: PropTypes.string,\n  eventKey: PropTypes.string,\n  multiple: PropTypes.bool,\n  active: PropTypes.bool, // TODO: remove\n  onItemHover: PropTypes.func,\n  onSelect: PropTypes.func,\n  triggerSubMenuAction: PropTypes.string,\n  onDeselect: PropTypes.func,\n  onDestroy: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onTitleMouseEnter: PropTypes.func,\n  onTitleMouseLeave: PropTypes.func,\n  onTitleClick: PropTypes.func,\n  popupOffset: PropTypes.array,\n  isOpen: PropTypes.bool,\n  store: PropTypes.object,\n  mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']),\n  manualRef: PropTypes.func,\n  itemIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  expandIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node])\n};\nSubMenu.defaultProps = {\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  onTitleMouseEnter: noop,\n  onTitleMouseLeave: noop,\n  onTitleClick: noop,\n  manualRef: noop,\n  mode: 'vertical',\n  title: ''\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onDestroy = function (key) {\n    _this3.props.onDestroy(key);\n  };\n\n  this.onKeyDown = function (e) {\n    var keyCode = e.keyCode;\n    var menu = _this3.menuInstance;\n    var _props3 = _this3.props,\n        isOpen = _props3.isOpen,\n        store = _props3.store;\n\n\n    if (keyCode === KeyCode.ENTER) {\n      _this3.onTitleClick(e);\n      updateDefaultActiveFirst(store, _this3.props.eventKey, true);\n      return true;\n    }\n\n    if (keyCode === KeyCode.RIGHT) {\n      if (isOpen) {\n        menu.onKeyDown(e);\n      } else {\n        _this3.triggerOpenChange(true);\n        // need to update current menu's defaultActiveFirst value\n        updateDefaultActiveFirst(store, _this3.props.eventKey, true);\n      }\n      return true;\n    }\n    if (keyCode === KeyCode.LEFT) {\n      var handled = void 0;\n      if (isOpen) {\n        handled = menu.onKeyDown(e);\n      } else {\n        return undefined;\n      }\n      if (!handled) {\n        _this3.triggerOpenChange(false);\n        handled = true;\n      }\n      return handled;\n    }\n\n    if (isOpen && (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)) {\n      return menu.onKeyDown(e);\n    }\n  };\n\n  this.onOpenChange = function (e) {\n    _this3.props.onOpenChange(e);\n  };\n\n  this.onPopupVisibleChange = function (visible) {\n    _this3.triggerOpenChange(visible, visible ? 'mouseenter' : 'mouseleave');\n  };\n\n  this.onMouseEnter = function (e) {\n    var _props4 = _this3.props,\n        key = _props4.eventKey,\n        onMouseEnter = _props4.onMouseEnter,\n        store = _props4.store;\n\n    updateDefaultActiveFirst(store, _this3.props.eventKey, false);\n    onMouseEnter({\n      key: key,\n      domEvent: e\n    });\n  };\n\n  this.onMouseLeave = function (e) {\n    var _props5 = _this3.props,\n        parentMenu = _props5.parentMenu,\n        eventKey = _props5.eventKey,\n        onMouseLeave = _props5.onMouseLeave;\n\n    parentMenu.subMenuInstance = _this3;\n    onMouseLeave({\n      key: eventKey,\n      domEvent: e\n    });\n  };\n\n  this.onTitleMouseEnter = function (domEvent) {\n    var _props6 = _this3.props,\n        key = _props6.eventKey,\n        onItemHover = _props6.onItemHover,\n        onTitleMouseEnter = _props6.onTitleMouseEnter;\n\n    onItemHover({\n      key: key,\n      hover: true\n    });\n    onTitleMouseEnter({\n      key: key,\n      domEvent: domEvent\n    });\n  };\n\n  this.onTitleMouseLeave = function (e) {\n    var _props7 = _this3.props,\n        parentMenu = _props7.parentMenu,\n        eventKey = _props7.eventKey,\n        onItemHover = _props7.onItemHover,\n        onTitleMouseLeave = _props7.onTitleMouseLeave;\n\n    parentMenu.subMenuInstance = _this3;\n    onItemHover({\n      key: eventKey,\n      hover: false\n    });\n    onTitleMouseLeave({\n      key: eventKey,\n      domEvent: e\n    });\n  };\n\n  this.onTitleClick = function (e) {\n    var props = _this3.props;\n\n    props.onTitleClick({\n      key: props.eventKey,\n      domEvent: e\n    });\n    if (props.triggerSubMenuAction === 'hover') {\n      return;\n    }\n    _this3.triggerOpenChange(!props.isOpen, 'click');\n    updateDefaultActiveFirst(props.store, _this3.props.eventKey, false);\n  };\n\n  this.onSubMenuClick = function (info) {\n    _this3.props.onClick(_this3.addKeyPath(info));\n  };\n\n  this.onSelect = function (info) {\n    _this3.props.onSelect(info);\n  };\n\n  this.onDeselect = function (info) {\n    _this3.props.onDeselect(info);\n  };\n\n  this.getPrefixCls = function () {\n    return _this3.props.rootPrefixCls + '-submenu';\n  };\n\n  this.getActiveClassName = function () {\n    return _this3.getPrefixCls() + '-active';\n  };\n\n  this.getDisabledClassName = function () {\n    return _this3.getPrefixCls() + '-disabled';\n  };\n\n  this.getSelectedClassName = function () {\n    return _this3.getPrefixCls() + '-selected';\n  };\n\n  this.getOpenClassName = function () {\n    return _this3.props.rootPrefixCls + '-submenu-open';\n  };\n\n  this.saveMenuInstance = function (c) {\n    // children menu instance\n    _this3.menuInstance = c;\n  };\n\n  this.addKeyPath = function (info) {\n    return _extends({}, info, {\n      keyPath: (info.keyPath || []).concat(_this3.props.eventKey)\n    });\n  };\n\n  this.triggerOpenChange = function (open, type) {\n    var key = _this3.props.eventKey;\n    var openChange = function openChange() {\n      _this3.onOpenChange({\n        key: key,\n        item: _this3,\n        trigger: type,\n        open: open\n      });\n    };\n    if (type === 'mouseenter') {\n      // make sure mouseenter happen after other menu item's mouseleave\n      _this3.mouseenterTimeout = setTimeout(function () {\n        openChange();\n      }, 0);\n    } else {\n      openChange();\n    }\n  };\n\n  this.isChildrenSelected = function () {\n    var ret = { find: false };\n    loopMenuItemRecursively(_this3.props.children, _this3.props.selectedKeys, ret);\n    return ret.find;\n  };\n\n  this.isOpen = function () {\n    return _this3.props.openKeys.indexOf(_this3.props.eventKey) !== -1;\n  };\n\n  this.adjustWidth = function () {\n    /* istanbul ignore if */\n    if (!_this3.subMenuTitle || !_this3.menuInstance) {\n      return;\n    }\n    var popupMenu = ReactDOM.findDOMNode(_this3.menuInstance);\n    if (popupMenu.offsetWidth >= _this3.subMenuTitle.offsetWidth) {\n      return;\n    }\n\n    /* istanbul ignore next */\n    popupMenu.style.minWidth = _this3.subMenuTitle.offsetWidth + 'px';\n  };\n\n  this.saveSubMenuTitle = function (subMenuTitle) {\n    _this3.subMenuTitle = subMenuTitle;\n  };\n};\n\nvar connected = connect(function (_ref, _ref2) {\n  var openKeys = _ref.openKeys,\n      activeKey = _ref.activeKey,\n      selectedKeys = _ref.selectedKeys;\n  var eventKey = _ref2.eventKey,\n      subMenuKey = _ref2.subMenuKey;\n  return {\n    isOpen: openKeys.indexOf(eventKey) > -1,\n    active: activeKey[subMenuKey] === eventKey,\n    selectedKeys: selectedKeys\n  };\n})(SubMenu);\n\nconnected.isSubMenu = true;\n\nexport default connected;"]}]}
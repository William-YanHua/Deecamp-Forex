{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\src\\app\\routing\\RouteIndexPage.tsx","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\src\\app\\routing\\RouteIndexPage.tsx","mtime":1596379644607},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n};\r\nimport React from \"react\";\r\nimport { constructRoute } from \"./RouteConfig\";\r\nimport { Switch } from \"react-router\";\r\nexport function pathJoin() {\r\n    var parts = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        parts[_i] = arguments[_i];\r\n    }\r\n    var separator = \"/\";\r\n    var replace = new RegExp(separator + \"{1,}\", \"g\");\r\n    var path = parts.join(separator).replace(replace, separator);\r\n    return path.startsWith(\"/\") ? path : \"/\" + path;\r\n}\r\nexport default function routeIndexPage(routes, layout, combineParentPaths) {\r\n    if (layout === void 0) { layout = null; }\r\n    if (combineParentPaths === void 0) { combineParentPaths = true; }\r\n    return function (props) {\r\n        var match = props.match, location = props.location, history = props.history, staticContext = props.staticContext, rest = __rest(props, [\"match\", \"location\", \"history\", \"staticContext\"]);\r\n        var parentPath = combineParentPaths ? match.path : \"\";\r\n        var Layout = layout;\r\n        var s = React.createElement(Switch, null, routes.map(function (x) { return (__assign({}, x, { path: pathJoin(parentPath, x.path) })); }).map(function (x, key) { return constructRoute(x, key, rest); }));\r\n        if (layout) {\r\n            return React.createElement(Layout, null, s);\r\n        }\r\n        else {\r\n            return s;\r\n        }\r\n    };\r\n}\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\src\\app\\routing\\RouteIndexPage.tsx","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\src\\app\\routing\\RouteIndexPage.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,cAAc,EAA+B,MAAM,eAAe,CAAC;AAC5E,OAAO,EAAuB,MAAM,EAAc,MAAM,cAAc,CAAC;AAEvE,MAAM,UAAU,QAAQ;IAAC,eAAkB;SAAlB,UAAkB,EAAlB,qBAAkB,EAAlB,IAAkB;QAAlB,0BAAkB;;IACzC,IAAM,SAAS,GAAG,GAAG,CAAC;IACtB,IAAM,OAAO,GAAG,IAAI,MAAM,CAAC,SAAS,GAAG,MAAM,EAAE,GAAG,CAAC,CAAC;IACpD,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;IAC/D,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;AAClD,CAAC;AAcD,MAAM,CAAC,OAAO,UAAU,cAAc,CACpC,MAA0B,EAC1B,MAAkC,EAClC,kBAAkC;IADlC,uBAAA,EAAA,aAAkC;IAClC,mCAAA,EAAA,yBAAkC;IAElC,OAAO,UAAC,KAAY;QACR,IAAA,mBAAK,EAAE,yBAAQ,EAAE,uBAAO,EAAE,mCAAa,EAAE,uEAAO,CAAW;QAEnE,IAAM,UAAU,GAAG,kBAAkB,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;QACxD,IAAM,MAAM,GAAG,MAAM,CAAC;QAEtB,IAAM,CAAC,GAAG,oBAAC,MAAM,QACd,MAAM,CAAC,GAAG,CAAC,UAAC,CAAC,IAAK,OAAA,cACd,CAAC,IACJ,IAAI,EAAE,QAAQ,CAAC,UAAU,EAAE,CAAC,CAAC,IAAI,CAAC,IAClC,EAHiB,CAGjB,CAAC,CAAC,GAAG,CAAC,UAAC,CAAC,EAAE,GAAG,IAAK,OAAA,cAAc,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,EAA5B,CAA4B,CAAC,CAC1C,CAAC;QAEV,IAAI,MAAM,EAAE;YACV,OAAO,oBAAC,MAAM,QAAE,CAAC,CAAU,CAAC;SAC7B;aAAM;YACL,OAAO,CAAC,CAAC;SACV;IACL,CAAC,CAAC;AACJ,CAAC","sourcesContent":["import React from \"react\";\r\nimport { constructRoute, KnownRouteConfig, RouteType } from \"./RouteConfig\";\r\nimport { RouteComponentProps, Switch, withRouter } from \"react-router\";\r\n\r\nexport function pathJoin(...parts: string[]) {\r\n  const separator = \"/\";\r\n  const replace = new RegExp(separator + \"{1,}\", \"g\");\r\n  const path = parts.join(separator).replace(replace, separator);\r\n  return path.startsWith(\"/\") ? path : \"/\" + path;\r\n}\r\n\r\ninterface Props extends Partial<RouteComponentProps<any>> {\r\n  [key: string]: any;\r\n}\r\n\r\n/**\r\n * 用在一个Page的index.tsx中，常用写法为export default routeIndexPage(routes)\r\n *\r\n * 生成一个以routes为路由的Switch组件，并可选拼接父路径和使用Layout\r\n * @param routes 路由信息对象数组\r\n * @param layout 使用的Layout，默认为null。注意Layout是在父Layout的基础上再次添加，所以请不要添加重复的Layout。\r\n * @param combineParentPaths 是否拼接父路径，默认为true。若自己为路径/a的子路由组件，则自己的所有子路由都自带/a前缀。\r\n */\r\nexport default function routeIndexPage(\r\n  routes: KnownRouteConfig[],\r\n  layout: React.ComponentType = null,\r\n  combineParentPaths: boolean = true,\r\n) {\r\n  return (props: Props) => {\r\n      const { match, location, history, staticContext, ...rest } = props;\r\n\r\n      const parentPath = combineParentPaths ? match.path : \"\";\r\n      const Layout = layout;\r\n\r\n      const s = <Switch>\r\n        {routes.map((x) => ({\r\n          ...x,\r\n          path: pathJoin(parentPath, x.path),\r\n        })).map((x, key) => constructRoute(x, key, rest))}\r\n      </Switch>;\r\n\r\n      if (layout) {\r\n        return <Layout>{s}</Layout>;\r\n      } else {\r\n        return s;\r\n      }\r\n  };\r\n}\r\n"]}]}
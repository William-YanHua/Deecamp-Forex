{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\geom\\shape\\line.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\geom\\shape\\line.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["var Util = require('../../util');\r\nvar PathUtil = require('../util/path');\r\nvar ShapeUtil = require('../util/shape');\r\nvar Shape = require('./shape');\r\nvar Global = require('../../global');\r\nvar DOT_ARR = [1, 1];\r\nvar DASH_ARR = [5.5, 1];\r\nfunction getAttrs(cfg) {\r\n    var defaultCfg = Global.shape.line;\r\n    var shapeCfg = Util.mix({}, defaultCfg, {\r\n        stroke: cfg.color,\r\n        lineWidth: cfg.size,\r\n        strokeOpacity: cfg.opacity,\r\n        opacity: cfg.opacity\r\n    }, cfg.style);\r\n    return shapeCfg;\r\n}\r\nfunction getMarkerAttrs(cfg) {\r\n    var defaultCfg = Global.shape.line;\r\n    var shapeCfg = Util.mix({}, defaultCfg, {\r\n        stroke: cfg.color,\r\n        lineWidth: 2,\r\n        strokeOpacity: cfg.opacity,\r\n        opacity: cfg.opacity,\r\n        radius: 6\r\n    }, cfg.style);\r\n    return shapeCfg;\r\n}\r\nfunction getRangePath(points, smooth, isInCircle, cfg) {\r\n    var topPoints = [];\r\n    var isStack = cfg.isStack;\r\n    var bottomPoints = [];\r\n    for (var i = 0; i < points.length; i++) {\r\n        var point = points[i];\r\n        var tmp = ShapeUtil.splitPoints(point);\r\n        bottomPoints.push(tmp[0]);\r\n        topPoints.push(tmp[1]);\r\n    }\r\n    var topPath = getSinglePath(topPoints, smooth, isInCircle, cfg);\r\n    var bottomPath = getSinglePath(bottomPoints, smooth, isInCircle, cfg);\r\n    if (isStack) {\r\n        return topPath;\r\n    }\r\n    return topPath.concat(bottomPath);\r\n}\r\nfunction getSinglePath(points, smooth, isInCircle, cfg) {\r\n    var path;\r\n    if (!smooth) {\r\n        path = PathUtil.getLinePath(points, false);\r\n        if (isInCircle) {\r\n            path.push(['Z']);\r\n        }\r\n    }\r\n    else {\r\n        var constraint = cfg.constraint;\r\n        if (isInCircle && points.length) {\r\n            points.push({\r\n                x: points[0].x,\r\n                y: points[0].y\r\n            });\r\n        }\r\n        path = PathUtil.getSplinePath(points, false, constraint);\r\n    }\r\n    return path;\r\n}\r\nfunction getPath(cfg, smooth) {\r\n    var path;\r\n    var points = cfg.points;\r\n    var isInCircle = cfg.isInCircle;\r\n    var first = points[0];\r\n    if (Util.isArray(first.y)) {\r\n        path = getRangePath(points, smooth, isInCircle, cfg);\r\n    }\r\n    else {\r\n        path = getSinglePath(points, smooth, isInCircle, cfg);\r\n    }\r\n    return path;\r\n}\r\nfunction _interpPoints(points, fn) {\r\n    var tmpPoints = [];\r\n    Util.each(points, function (point, index) {\r\n        var nextPoint = points[index + 1];\r\n        tmpPoints.push(point);\r\n        if (nextPoint) {\r\n            tmpPoints = tmpPoints.concat(fn(point, nextPoint));\r\n        }\r\n    });\r\n    return tmpPoints;\r\n}\r\nfunction _getInterPath(points) {\r\n    var path = [];\r\n    Util.each(points, function (point, index) {\r\n        var subPath = index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\r\n        path.push(subPath);\r\n    });\r\n    return path;\r\n}\r\nfunction _getInterPointShapeCfg(cfg, fn) {\r\n    var points = _interpPoints(cfg.points, fn);\r\n    return _getInterPath(points);\r\n}\r\nfunction _markerFn(x, y, r) {\r\n    return [['M', x - r, y], ['L', x + r, y]];\r\n}\r\nfunction _smoothMarkerFn(x, y, r) {\r\n    return [['M', x - r, y], ['A', r / 2, r / 2, 0, 1, 1, x, y], ['A', r / 2, r / 2, 0, 1, 0, x + r, y]];\r\n}\r\nfunction _getMarkerCfg(cfg, smooth) {\r\n    return Util.mix({\r\n        symbol: smooth ? _smoothMarkerFn : _markerFn\r\n    }, getMarkerAttrs(cfg));\r\n}\r\nfunction _getInterMarkerCfg(cfg, fn) {\r\n    return Util.mix({\r\n        symbol: fn\r\n    }, getMarkerAttrs(cfg));\r\n}\r\nfunction drawPointShape(shapeObj, cfg, container) {\r\n    var point = cfg.points[0];\r\n    return container.addShape('circle', {\r\n        attrs: Util.mix({\r\n            x: point.x,\r\n            y: point.y,\r\n            r: 2,\r\n            fill: cfg.color\r\n        }, cfg.style)\r\n    });\r\n}\r\nvar Line = Shape.registerFactory('line', {\r\n    defaultShapeType: 'line',\r\n    getActiveCfg: function getActiveCfg(type, cfg) {\r\n        var lineWidth = cfg.lineWidth || 0;\r\n        return {\r\n            lineWidth: lineWidth + 1\r\n        };\r\n    },\r\n    getDefaultPoints: function getDefaultPoints(pointInfo) {\r\n        return ShapeUtil.splitPoints(pointInfo);\r\n    },\r\n    drawShape: function drawShape(type, cfg, container) {\r\n        var shape = this.getShape(type);\r\n        var gShape;\r\n        if (cfg.points.length === 1 && Global.showSinglePoint) {\r\n            gShape = drawPointShape(this, cfg, container);\r\n        }\r\n        else {\r\n            gShape = shape.draw(cfg, container);\r\n        }\r\n        if (gShape) {\r\n            gShape.set('origin', cfg.origin);\r\n            gShape._id = cfg.splitedIndex ? cfg._id + cfg.splitedIndex : cfg._id;\r\n            gShape.name = this.name;\r\n        }\r\n        return gShape;\r\n    }\r\n});\r\nShape.registerShape('line', 'line', {\r\n    draw: function draw(cfg, container) {\r\n        var attrs = getAttrs(cfg);\r\n        var path = getPath(cfg, false);\r\n        return container.addShape('path', {\r\n            attrs: Util.mix(attrs, {\r\n                path: path\r\n            })\r\n        });\r\n    },\r\n    getMarkerCfg: function getMarkerCfg(cfg) {\r\n        return _getMarkerCfg(cfg);\r\n    }\r\n});\r\nShape.registerShape('line', 'dot', {\r\n    draw: function draw(cfg, container) {\r\n        var attrs = getAttrs(cfg);\r\n        var path = getPath(cfg, false);\r\n        return container.addShape('path', {\r\n            attrs: Util.mix(attrs, {\r\n                path: path,\r\n                lineDash: DOT_ARR\r\n            })\r\n        });\r\n    },\r\n    getMarkerCfg: function getMarkerCfg(cfg) {\r\n        var tmp = _getMarkerCfg(cfg, false);\r\n        tmp.lineDash = DOT_ARR;\r\n        return tmp;\r\n    }\r\n});\r\nShape.registerShape('line', 'dash', {\r\n    draw: function draw(cfg, container) {\r\n        var attrs = getAttrs(cfg);\r\n        var path = getPath(cfg, false);\r\n        return container.addShape('path', {\r\n            attrs: Util.mix({\r\n                path: path,\r\n                lineDash: DASH_ARR\r\n            }, attrs)\r\n        });\r\n    },\r\n    getMarkerCfg: function getMarkerCfg(cfg) {\r\n        var tmp = _getMarkerCfg(cfg, false);\r\n        tmp.lineDash = tmp.lineDash || DASH_ARR;\r\n        return tmp;\r\n    }\r\n});\r\nShape.registerShape('line', 'smooth', {\r\n    draw: function draw(cfg, container) {\r\n        var attrs = getAttrs(cfg);\r\n        var coord = this._coord;\r\n        cfg.constraint = [[coord.start.x, coord.end.y], [coord.end.x, coord.start.y]];\r\n        var path = getPath(cfg, true);\r\n        return container.addShape('path', {\r\n            attrs: Util.mix(attrs, {\r\n                path: path\r\n            })\r\n        });\r\n    },\r\n    getMarkerCfg: function getMarkerCfg(cfg) {\r\n        return _getMarkerCfg(cfg, true);\r\n    }\r\n});\r\nShape.registerShape('line', 'hv', {\r\n    draw: function draw(cfg, container) {\r\n        var attrs = getAttrs(cfg);\r\n        var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\r\n            var tmp = [];\r\n            tmp.push({\r\n                x: nextPoint.x,\r\n                y: point.y\r\n            });\r\n            return tmp;\r\n        });\r\n        return container.addShape('path', {\r\n            attrs: Util.mix(attrs, {\r\n                path: path\r\n            })\r\n        });\r\n    },\r\n    getMarkerCfg: function getMarkerCfg(cfg) {\r\n        return _getInterMarkerCfg(cfg, function (x, y, r) {\r\n            return [['M', x - r - 1, y - 2.5], ['L', x, y - 2.5], ['L', x, y + 2.5], ['L', x + r + 1, y + 2.5]];\r\n        });\r\n    }\r\n});\r\nShape.registerShape('line', 'vh', {\r\n    draw: function draw(cfg, container) {\r\n        var attrs = getAttrs(cfg);\r\n        var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\r\n            var tmp = [];\r\n            tmp.push({\r\n                x: point.x,\r\n                y: nextPoint.y\r\n            });\r\n            return tmp;\r\n        });\r\n        return container.addShape('path', {\r\n            attrs: Util.mix(attrs, {\r\n                path: path\r\n            })\r\n        });\r\n    },\r\n    getMarkerCfg: function getMarkerCfg(cfg) {\r\n        return _getInterMarkerCfg(cfg, function (x, y, r) {\r\n            return [['M', x - r - 1, y + 2.5], ['L', x, y + 2.5], ['L', x, y - 2.5], ['L', x + r + 1, y - 2.5]];\r\n        });\r\n    }\r\n});\r\nShape.registerShape('line', 'hvh', {\r\n    draw: function draw(cfg, container) {\r\n        var attrs = getAttrs(cfg);\r\n        var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\r\n            var tmp = [];\r\n            var middlex = (nextPoint.x - point.x) / 2 + point.x;\r\n            tmp.push({\r\n                x: middlex,\r\n                y: point.y\r\n            });\r\n            tmp.push({\r\n                x: middlex,\r\n                y: nextPoint.y\r\n            });\r\n            return tmp;\r\n        });\r\n        return container.addShape('path', {\r\n            attrs: Util.mix(attrs, {\r\n                path: path\r\n            })\r\n        });\r\n    },\r\n    getMarkerCfg: function getMarkerCfg(cfg) {\r\n        return _getInterMarkerCfg(cfg, function (x, y, r) {\r\n            return [['M', x - (r + 1), y + 2.5], ['L', x - r / 2, y + 2.5], ['L', x - r / 2, y - 2.5], ['L', x + r / 2, y - 2.5], ['L', x + r / 2, y + 2.5], ['L', x + r + 1, y + 2.5]];\r\n        });\r\n    }\r\n});\r\nShape.registerShape('line', 'vhv', {\r\n    draw: function draw(cfg, container) {\r\n        var attrs = getAttrs(cfg);\r\n        var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\r\n            var tmp = [];\r\n            var middley = (nextPoint.y - point.y) / 2 + point.y;\r\n            tmp.push({\r\n                x: point.x,\r\n                y: middley\r\n            });\r\n            tmp.push({\r\n                x: nextPoint.x,\r\n                y: middley\r\n            });\r\n            return tmp;\r\n        });\r\n        return container.addShape('path', {\r\n            attrs: Util.mix(attrs, {\r\n                path: path\r\n            })\r\n        });\r\n    },\r\n    getMarkerCfg: function getMarkerCfg(cfg) {\r\n        return _getInterMarkerCfg(cfg, function (x, y) {\r\n            return [['M', x - 5, y + 2.5], ['L', x - 5, y], ['L', x, y], ['L', x, y - 3], ['L', x, y + 3], ['L', x + 6.5, y + 3]];\r\n        });\r\n    }\r\n});\r\nLine.spline = Line.smooth;\r\nmodule.exports = Line;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\geom\\shape\\line.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\geom\\shape\\line.js"],"names":[],"mappings":"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","sourcesContent":["/**\n * @fileOverview line shapes\n * @author dxq613@gmail.com\n * @author sima.zhang1990@gmail.com\n * @author huangtonger@aliyun.com\n */\nvar Util = require('../../util');\n\nvar PathUtil = require('../util/path');\n\nvar ShapeUtil = require('../util/shape');\n\nvar Shape = require('./shape');\n\nvar Global = require('../../global');\n\nvar DOT_ARR = [1, 1];\nvar DASH_ARR = [5.5, 1];\n\nfunction getAttrs(cfg) {\n  var defaultCfg = Global.shape.line;\n  var shapeCfg = Util.mix({}, defaultCfg, {\n    stroke: cfg.color,\n    lineWidth: cfg.size,\n    strokeOpacity: cfg.opacity,\n    opacity: cfg.opacity\n  }, cfg.style);\n  return shapeCfg;\n}\n\nfunction getMarkerAttrs(cfg) {\n  var defaultCfg = Global.shape.line;\n  var shapeCfg = Util.mix({}, defaultCfg, {\n    stroke: cfg.color,\n    lineWidth: 2,\n    strokeOpacity: cfg.opacity,\n    opacity: cfg.opacity,\n    radius: 6\n  }, cfg.style);\n  return shapeCfg;\n} // 获取带有上下区间的 path\n\n\nfunction getRangePath(points, smooth, isInCircle, cfg) {\n  var topPoints = [];\n  var isStack = cfg.isStack;\n  var bottomPoints = [];\n\n  for (var i = 0; i < points.length; i++) {\n    var point = points[i];\n    var tmp = ShapeUtil.splitPoints(point);\n    bottomPoints.push(tmp[0]);\n    topPoints.push(tmp[1]);\n  }\n\n  var topPath = getSinglePath(topPoints, smooth, isInCircle, cfg);\n  var bottomPath = getSinglePath(bottomPoints, smooth, isInCircle, cfg);\n\n  if (isStack) {\n    return topPath;\n  }\n\n  return topPath.concat(bottomPath);\n} // 单条 path\n\n\nfunction getSinglePath(points, smooth, isInCircle, cfg) {\n  var path;\n\n  if (!smooth) {\n    path = PathUtil.getLinePath(points, false);\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // 直角坐标系下绘制曲线时限制最大值、最小值\n    var constraint = cfg.constraint;\n\n    if (isInCircle && points.length) {\n      points.push({\n        x: points[0].x,\n        y: points[0].y\n      });\n    }\n\n    path = PathUtil.getSplinePath(points, false, constraint);\n  }\n\n  return path;\n} // get line path\n\n\nfunction getPath(cfg, smooth) {\n  var path;\n  var points = cfg.points;\n  var isInCircle = cfg.isInCircle;\n  var first = points[0];\n\n  if (Util.isArray(first.y)) {\n    path = getRangePath(points, smooth, isInCircle, cfg);\n  } else {\n    path = getSinglePath(points, smooth, isInCircle, cfg);\n  }\n\n  return path;\n}\n\nfunction _interpPoints(points, fn) {\n  var tmpPoints = [];\n  Util.each(points, function (point, index) {\n    var nextPoint = points[index + 1];\n    tmpPoints.push(point);\n\n    if (nextPoint) {\n      tmpPoints = tmpPoints.concat(fn(point, nextPoint));\n    }\n  });\n  return tmpPoints;\n} // 插值的图形path，不考虑null\n\n\nfunction _getInterPath(points) {\n  var path = [];\n  Util.each(points, function (point, index) {\n    var subPath = index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n    path.push(subPath);\n  });\n  return path;\n} // 插值的图形\n\n\nfunction _getInterPointShapeCfg(cfg, fn) {\n  var points = _interpPoints(cfg.points, fn);\n\n  return _getInterPath(points);\n}\n\nfunction _markerFn(x, y, r) {\n  return [['M', x - r, y], ['L', x + r, y]];\n}\n\nfunction _smoothMarkerFn(x, y, r) {\n  return [['M', x - r, y], ['A', r / 2, r / 2, 0, 1, 1, x, y], ['A', r / 2, r / 2, 0, 1, 0, x + r, y]];\n} // get marker cfg\n\n\nfunction _getMarkerCfg(cfg, smooth) {\n  return Util.mix({\n    symbol: smooth ? _smoothMarkerFn : _markerFn\n  }, getMarkerAttrs(cfg));\n}\n\nfunction _getInterMarkerCfg(cfg, fn) {\n  return Util.mix({\n    symbol: fn\n  }, getMarkerAttrs(cfg));\n} // 当只有一个数据时绘制点\n\n\nfunction drawPointShape(shapeObj, cfg, container) {\n  var point = cfg.points[0];\n  return container.addShape('circle', {\n    attrs: Util.mix({\n      x: point.x,\n      y: point.y,\n      r: 2,\n      fill: cfg.color\n    }, cfg.style)\n  });\n} // regist line geom\n\n\nvar Line = Shape.registerFactory('line', {\n  // 默认的shape\n  defaultShapeType: 'line',\n\n  /* getMarkerCfg(type, cfg) {\n    const lineObj = Line[type] || Line.line;\n    return lineObj.getMarkerCfg(cfg);\n  }, */\n  getActiveCfg: function getActiveCfg(type, cfg) {\n    var lineWidth = cfg.lineWidth || 0;\n    return {\n      lineWidth: lineWidth + 1\n    };\n  },\n  // 计算点 如果存在多个点，分割成单个的点, 不考虑多个x对应一个y的情况\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    return ShapeUtil.splitPoints(pointInfo);\n  },\n  drawShape: function drawShape(type, cfg, container) {\n    var shape = this.getShape(type);\n    var gShape;\n\n    if (cfg.points.length === 1 && Global.showSinglePoint) {\n      gShape = drawPointShape(this, cfg, container);\n    } else {\n      gShape = shape.draw(cfg, container);\n    }\n\n    if (gShape) {\n      gShape.set('origin', cfg.origin);\n      gShape._id = cfg.splitedIndex ? cfg._id + cfg.splitedIndex : cfg._id;\n      gShape.name = this.name;\n    }\n\n    return gShape;\n  }\n}); // draw line shape\n\nShape.registerShape('line', 'line', {\n  draw: function draw(cfg, container) {\n    var attrs = getAttrs(cfg);\n    var path = getPath(cfg, false);\n    return container.addShape('path', {\n      attrs: Util.mix(attrs, {\n        path: path\n      })\n    });\n  },\n  getMarkerCfg: function getMarkerCfg(cfg) {\n    return _getMarkerCfg(cfg);\n  }\n}); // 点线 ···\n\nShape.registerShape('line', 'dot', {\n  draw: function draw(cfg, container) {\n    var attrs = getAttrs(cfg);\n    var path = getPath(cfg, false);\n    return container.addShape('path', {\n      attrs: Util.mix(attrs, {\n        path: path,\n        lineDash: DOT_ARR\n      })\n    });\n  },\n  getMarkerCfg: function getMarkerCfg(cfg) {\n    var tmp = _getMarkerCfg(cfg, false);\n\n    tmp.lineDash = DOT_ARR;\n    return tmp;\n  }\n}); // 断线 - - -\n\nShape.registerShape('line', 'dash', {\n  draw: function draw(cfg, container) {\n    var attrs = getAttrs(cfg);\n    var path = getPath(cfg, false);\n    return container.addShape('path', {\n      attrs: Util.mix({\n        path: path,\n        lineDash: DASH_ARR\n      }, attrs)\n    });\n  },\n  getMarkerCfg: function getMarkerCfg(cfg) {\n    var tmp = _getMarkerCfg(cfg, false);\n\n    tmp.lineDash = tmp.lineDash || DASH_ARR;\n    return tmp;\n  }\n}); // draw smooth line shape\n\nShape.registerShape('line', 'smooth', {\n  draw: function draw(cfg, container) {\n    var attrs = getAttrs(cfg);\n    var coord = this._coord; // 曲线的限制\n\n    cfg.constraint = [[coord.start.x, coord.end.y], [coord.end.x, coord.start.y]];\n    var path = getPath(cfg, true);\n    return container.addShape('path', {\n      attrs: Util.mix(attrs, {\n        path: path\n      })\n    });\n  },\n  getMarkerCfg: function getMarkerCfg(cfg) {\n    return _getMarkerCfg(cfg, true);\n  }\n});\nShape.registerShape('line', 'hv', {\n  draw: function draw(cfg, container) {\n    var attrs = getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      var tmp = [];\n      tmp.push({\n        x: nextPoint.x,\n        y: point.y\n      });\n      return tmp;\n    });\n\n    return container.addShape('path', {\n      attrs: Util.mix(attrs, {\n        path: path\n      })\n    });\n  },\n  getMarkerCfg: function getMarkerCfg(cfg) {\n    return _getInterMarkerCfg(cfg, function (x, y, r) {\n      return [['M', x - r - 1, y - 2.5], ['L', x, y - 2.5], ['L', x, y + 2.5], ['L', x + r + 1, y + 2.5]];\n    });\n  }\n});\nShape.registerShape('line', 'vh', {\n  draw: function draw(cfg, container) {\n    var attrs = getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      var tmp = [];\n      tmp.push({\n        x: point.x,\n        y: nextPoint.y\n      });\n      return tmp;\n    });\n\n    return container.addShape('path', {\n      attrs: Util.mix(attrs, {\n        path: path\n      })\n    });\n  },\n  getMarkerCfg: function getMarkerCfg(cfg) {\n    return _getInterMarkerCfg(cfg, function (x, y, r) {\n      return [['M', x - r - 1, y + 2.5], ['L', x, y + 2.5], ['L', x, y - 2.5], ['L', x + r + 1, y - 2.5]];\n    });\n  }\n});\nShape.registerShape('line', 'hvh', {\n  draw: function draw(cfg, container) {\n    var attrs = getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      var tmp = [];\n      var middlex = (nextPoint.x - point.x) / 2 + point.x;\n      tmp.push({\n        x: middlex,\n        y: point.y\n      });\n      tmp.push({\n        x: middlex,\n        y: nextPoint.y\n      });\n      return tmp;\n    });\n\n    return container.addShape('path', {\n      attrs: Util.mix(attrs, {\n        path: path\n      })\n    });\n  },\n  getMarkerCfg: function getMarkerCfg(cfg) {\n    return _getInterMarkerCfg(cfg, function (x, y, r) {\n      return [['M', x - (r + 1), y + 2.5], ['L', x - r / 2, y + 2.5], ['L', x - r / 2, y - 2.5], ['L', x + r / 2, y - 2.5], ['L', x + r / 2, y + 2.5], ['L', x + r + 1, y + 2.5]];\n    });\n  }\n});\nShape.registerShape('line', 'vhv', {\n  draw: function draw(cfg, container) {\n    var attrs = getAttrs(cfg);\n\n    var path = _getInterPointShapeCfg(cfg, function (point, nextPoint) {\n      var tmp = [];\n      var middley = (nextPoint.y - point.y) / 2 + point.y;\n      tmp.push({\n        x: point.x,\n        y: middley\n      });\n      tmp.push({\n        x: nextPoint.x,\n        y: middley\n      });\n      return tmp;\n    });\n\n    return container.addShape('path', {\n      attrs: Util.mix(attrs, {\n        path: path\n      })\n    });\n  },\n  getMarkerCfg: function getMarkerCfg(cfg) {\n    return _getInterMarkerCfg(cfg, function (x, y) {\n      // 宽 13px，高 8px\n      return [['M', x - 5, y + 2.5], ['L', x - 5, y], ['L', x, y], ['L', x, y - 3], ['L', x, y + 3], ['L', x + 6.5, y + 3]];\n    });\n  }\n});\nLine.spline = Line.smooth;\nmodule.exports = Line;"]}]}
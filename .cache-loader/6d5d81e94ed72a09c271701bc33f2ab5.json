{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\axis\\helix.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\axis\\helix.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\r\nvar Util = require('../util');\r\nvar Base = require('./base');\r\nvar MatrixUtil = Util.MatrixUtil, PathUtil = Util.PathUtil;\r\nvar vec2 = MatrixUtil.vec2;\r\nvar Helix = function (_Base) {\r\n    _inheritsLoose(Helix, _Base);\r\n    function Helix() {\r\n        return _Base.apply(this, arguments) || this;\r\n    }\r\n    var _proto = Helix.prototype;\r\n    _proto.getDefaultCfg = function getDefaultCfg() {\r\n        var cfg = _Base.prototype.getDefaultCfg.call(this);\r\n        return Util.mix({}, cfg, {\r\n            inner: 0,\r\n            type: 'helix',\r\n            line: {\r\n                lineWidth: 1,\r\n                stroke: '#C0D0E0'\r\n            },\r\n            tickLine: {\r\n                lineWidth: 1,\r\n                stroke: '#C0D0E0',\r\n                length: 5\r\n            },\r\n            startAngle: 1.25 * Math.PI,\r\n            endAngle: 7.25 * Math.PI,\r\n            a: 0,\r\n            center: null,\r\n            axisStart: null,\r\n            crp: []\r\n        });\r\n    };\r\n    _proto.getLinePath = function getLinePath() {\r\n        var self = this;\r\n        var crp = self.get('crp');\r\n        var axisStart = self.get('axisStart');\r\n        var path = PathUtil.catmullRomToBezier(crp);\r\n        path.unshift(['M', axisStart.x, axisStart.y]);\r\n        return path;\r\n    };\r\n    _proto.getTickPoint = function getTickPoint(value) {\r\n        var self = this;\r\n        var startAngle = self.get('startAngle');\r\n        var endAngle = self.get('endAngle');\r\n        var angle = startAngle + (endAngle - startAngle) * value;\r\n        return self._getHelixPoint(angle);\r\n    };\r\n    _proto._getHelixPoint = function _getHelixPoint(angle) {\r\n        var self = this;\r\n        var center = self.get('center');\r\n        var a = self.get('a');\r\n        var radius = a * angle + self.get('inner');\r\n        return {\r\n            x: center.x + Math.cos(angle) * radius,\r\n            y: center.y + Math.sin(angle) * radius\r\n        };\r\n    };\r\n    _proto.getSideVector = function getSideVector(offset, point) {\r\n        var self = this;\r\n        var center = self.get('center');\r\n        var vector = [point.x - center.x, point.y - center.y];\r\n        if (offset) {\r\n            var vecLen = vec2.length(vector);\r\n            vec2.scale(vector, vector, offset / vecLen);\r\n        }\r\n        return vector;\r\n    };\r\n    _proto.getSidePoint = function getSidePoint(point, offset) {\r\n        var self = this;\r\n        var vector = self.getSideVector(offset, point);\r\n        return {\r\n            x: point.x + vector[0],\r\n            y: point.y + vector[1]\r\n        };\r\n    };\r\n    _proto.getTickEnd = function getTickEnd(start, length) {\r\n        var self = this;\r\n        var tickLine = self.get('tickLine');\r\n        length = length ? length : tickLine.length;\r\n        return self.getSidePoint(start, length);\r\n    };\r\n    return Helix;\r\n}(Base);\r\nmodule.exports = Helix;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\axis\\helix.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\axis\\helix.js"],"names":[],"mappings":"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","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar Util = require('../util');\n\nvar Base = require('./base');\n\nvar MatrixUtil = Util.MatrixUtil,\n    PathUtil = Util.PathUtil;\nvar vec2 = MatrixUtil.vec2;\n\nvar Helix =\n/*#__PURE__*/\nfunction (_Base) {\n  _inheritsLoose(Helix, _Base);\n\n  function Helix() {\n    return _Base.apply(this, arguments) || this;\n  }\n\n  var _proto = Helix.prototype;\n\n  _proto.getDefaultCfg = function getDefaultCfg() {\n    var cfg = _Base.prototype.getDefaultCfg.call(this);\n\n    return Util.mix({}, cfg, {\n      inner: 0,\n      type: 'helix',\n      line: {\n        // @type {Attrs} 坐标轴线的图形属性,如果设置成null，则不显示轴线\n        lineWidth: 1,\n        stroke: '#C0D0E0'\n      },\n      tickLine: {\n        // @type {Attrs} 标注坐标线的图形属性\n        lineWidth: 1,\n        stroke: '#C0D0E0',\n        length: 5\n      },\n      startAngle: 1.25 * Math.PI,\n      endAngle: 7.25 * Math.PI,\n      // 螺旋系数\n      a: 0,\n      // 画布中心坐标\n      center: null,\n      // 坐标轴绘制起点\n      axisStart: null,\n      // 坐标轴的n个坐标点\n      crp: []\n    });\n  };\n\n  _proto.getLinePath = function getLinePath() {\n    var self = this;\n    var crp = self.get('crp');\n    var axisStart = self.get('axisStart');\n    var path = PathUtil.catmullRomToBezier(crp);\n    path.unshift(['M', axisStart.x, axisStart.y]);\n    return path;\n  };\n\n  _proto.getTickPoint = function getTickPoint(value) {\n    var self = this;\n    var startAngle = self.get('startAngle');\n    var endAngle = self.get('endAngle');\n    var angle = startAngle + (endAngle - startAngle) * value;\n    return self._getHelixPoint(angle);\n  };\n\n  _proto._getHelixPoint = function _getHelixPoint(angle) {\n    var self = this;\n    var center = self.get('center');\n    var a = self.get('a'); // 螺线系数\n\n    var radius = a * angle + self.get('inner'); // 螺线方程\n\n    return {\n      x: center.x + Math.cos(angle) * radius,\n      y: center.y + Math.sin(angle) * radius\n    };\n  };\n\n  _proto.getSideVector = function getSideVector(offset, point) {\n    var self = this;\n    var center = self.get('center');\n    var vector = [point.x - center.x, point.y - center.y];\n\n    if (offset) {\n      var vecLen = vec2.length(vector);\n      vec2.scale(vector, vector, offset / vecLen);\n    }\n\n    return vector;\n  };\n\n  _proto.getSidePoint = function getSidePoint(point, offset) {\n    var self = this;\n    var vector = self.getSideVector(offset, point);\n    return {\n      x: point.x + vector[0],\n      y: point.y + vector[1]\n    };\n  };\n\n  _proto.getTickEnd = function getTickEnd(start, length) {\n    var self = this;\n    var tickLine = self.get('tickLine');\n    length = length ? length : tickLine.length;\n    return self.getSidePoint(start, length);\n  };\n\n  return Helix;\n}(Base);\n\nmodule.exports = Helix;"]}]}
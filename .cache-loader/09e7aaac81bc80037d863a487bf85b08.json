{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\geom\\venn.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\geom\\venn.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\r\nvar GeomBase = require('./base');\r\nvar Util = require('../util');\r\nvar _require = require('venn.js'), venn = _require.venn, scaleSolution = _require.scaleSolution, circlePath = _require.circlePath, intersectionAreaPath = _require.intersectionAreaPath, computeTextCentres = _require.computeTextCentres;\r\nrequire('./shape/venn');\r\nvar Venn = function (_GeomBase) {\r\n    _inheritsLoose(Venn, _GeomBase);\r\n    function Venn() {\r\n        return _GeomBase.apply(this, arguments) || this;\r\n    }\r\n    var _proto = Venn.prototype;\r\n    _proto.getDefaultCfg = function getDefaultCfg() {\r\n        var cfg = _GeomBase.prototype.getDefaultCfg.call(this);\r\n        cfg.type = 'venn';\r\n        cfg.shapeType = 'venn';\r\n        cfg.generatePoints = true;\r\n        return cfg;\r\n    };\r\n    _proto._initAttrs = function _initAttrs() {\r\n        var self = this;\r\n        var attrOptions = self.get('attrOptions');\r\n        var labelCfg = self.get('labelCfg');\r\n        var data = self.get('data');\r\n        var sizeField = attrOptions.size ? attrOptions.size.field : 'size';\r\n        var labelField = labelCfg ? labelCfg.fields[0] : 'sets';\r\n        self.set('labelCfg', null);\r\n        data.forEach(function (row) {\r\n            row.sets = row[labelField];\r\n            row.size = row[sizeField];\r\n        });\r\n        var solution = venn(data);\r\n        var coord = self.get('coord');\r\n        var xRange = [Math.min(coord.x.end, coord.x.start), Math.max(coord.x.end, coord.x.start)];\r\n        var yRange = [Math.min(coord.y.end, coord.y.start), Math.max(coord.y.end, coord.y.start)];\r\n        var width = xRange[1] - xRange[0];\r\n        var height = yRange[1] - yRange[0];\r\n        var styleOptions = self.get('styleOptions');\r\n        var padding = styleOptions && Util.isObject(styleOptions.style) ? styleOptions.style.padding : 0;\r\n        if (!Util.isFinite(padding)) {\r\n            padding = 0;\r\n        }\r\n        var circles = scaleSolution(solution, width, height, padding);\r\n        var textCenters = computeTextCentres(circles, data);\r\n        data.forEach(function (row) {\r\n            var sets = row.sets;\r\n            var id = sets.join(',');\r\n            row.id = id;\r\n            if (sets.length === 1) {\r\n                var circle = circles[id];\r\n                row.path = circlePath(circle.x, circle.y, circle.radius);\r\n                Util.assign(row, circle);\r\n            }\r\n            else {\r\n                var setCircles = sets.map(function (set) {\r\n                    return circles[set];\r\n                });\r\n                var path = intersectionAreaPath(setCircles);\r\n                if (!/[zZ]$/.test(path)) {\r\n                    path += 'Z';\r\n                }\r\n                row.path = path;\r\n                var center = textCenters[id] || {\r\n                    x: 0,\r\n                    y: 0\r\n                };\r\n                Util.assign(row, center);\r\n            }\r\n        });\r\n        self.position('x*y');\r\n        _GeomBase.prototype._initAttrs.call(this);\r\n    };\r\n    _proto.paint = function paint() {\r\n        _GeomBase.prototype.paint.call(this);\r\n        var self = this;\r\n        var dataArray = self.get('dataArray');\r\n        var shapeContainer = self.get('shapeContainer');\r\n        dataArray.forEach(function (row) {\r\n            var cfg = self.getDrawCfg(row[0]);\r\n            var origin = cfg.origin._origin;\r\n            shapeContainer.addShape('text', {\r\n                attrs: Util.mix({}, {\r\n                    x: origin.x,\r\n                    y: origin.y,\r\n                    text: origin.label || '',\r\n                    fontSize: 18,\r\n                    fill: cfg.shape === 'hollow' ? cfg.color : '#666',\r\n                    textAlign: 'center',\r\n                    textBaseline: 'middle'\r\n                }, cfg.style ? cfg.style.textStyle : {})\r\n            });\r\n        });\r\n    };\r\n    return Venn;\r\n}(GeomBase);\r\nGeomBase.Venn = Venn;\r\nmodule.exports = Venn;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\geom\\venn.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\geom\\venn.js"],"names":[],"mappings":"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","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/**\n * @fileOverview Venn Diagram\n * @author leungwensen@gmail.com\n */\nvar GeomBase = require('./base');\n\nvar Util = require('../util');\n\nvar _require = require('venn.js'),\n    venn = _require.venn,\n    scaleSolution = _require.scaleSolution,\n    circlePath = _require.circlePath,\n    intersectionAreaPath = _require.intersectionAreaPath,\n    computeTextCentres = _require.computeTextCentres;\n\nrequire('./shape/venn');\n\nvar Venn =\n/*#__PURE__*/\nfunction (_GeomBase) {\n  _inheritsLoose(Venn, _GeomBase);\n\n  function Venn() {\n    return _GeomBase.apply(this, arguments) || this;\n  }\n\n  var _proto = Venn.prototype;\n\n  /**\n   * get default configuration\n   * @protected\n   * @return {Object} configuration\n   */\n  _proto.getDefaultCfg = function getDefaultCfg() {\n    var cfg = _GeomBase.prototype.getDefaultCfg.call(this);\n\n    cfg.type = 'venn';\n    cfg.shapeType = 'venn';\n    cfg.generatePoints = true; // super.draw(data, container, shapeFactory, index);\n\n    return cfg;\n  };\n\n  _proto._initAttrs = function _initAttrs() {\n    var self = this;\n    var attrOptions = self.get('attrOptions');\n    var labelCfg = self.get('labelCfg');\n    var data = self.get('data');\n    var sizeField = attrOptions.size ? attrOptions.size.field : 'size';\n    var labelField = labelCfg ? labelCfg.fields[0] : 'sets';\n    self.set('labelCfg', null); // prepare data\n\n    data.forEach(function (row) {\n      row.sets = row[labelField];\n      row.size = row[sizeField];\n    });\n    var solution = venn(data); // scaling\n\n    var coord = self.get('coord');\n    var xRange = [Math.min(coord.x.end, coord.x.start), Math.max(coord.x.end, coord.x.start)];\n    var yRange = [Math.min(coord.y.end, coord.y.start), Math.max(coord.y.end, coord.y.start)];\n    var width = xRange[1] - xRange[0];\n    var height = yRange[1] - yRange[0];\n    var styleOptions = self.get('styleOptions');\n    var padding = styleOptions && Util.isObject(styleOptions.style) ? styleOptions.style.padding : 0;\n\n    if (!Util.isFinite(padding)) {\n      padding = 0;\n    }\n\n    var circles = scaleSolution(solution, width, height, padding);\n    var textCenters = computeTextCentres(circles, data);\n    data.forEach(function (row) {\n      var sets = row.sets;\n      var id = sets.join(',');\n      row.id = id;\n\n      if (sets.length === 1) {\n        var circle = circles[id];\n        row.path = circlePath(circle.x, circle.y, circle.radius);\n        Util.assign(row, circle);\n      } else {\n        var setCircles = sets.map(function (set) {\n          return circles[set];\n        });\n        var path = intersectionAreaPath(setCircles);\n\n        if (!/[zZ]$/.test(path)) {\n          path += 'Z';\n        }\n\n        row.path = path;\n        var center = textCenters[id] || {\n          x: 0,\n          y: 0\n        };\n        Util.assign(row, center);\n      }\n    }); // x, y scales\n\n    self.position('x*y');\n\n    _GeomBase.prototype._initAttrs.call(this);\n  };\n\n  _proto.paint = function paint() {\n    _GeomBase.prototype.paint.call(this);\n\n    var self = this;\n    var dataArray = self.get('dataArray');\n    var shapeContainer = self.get('shapeContainer'); // add labels\n\n    dataArray.forEach(function (row) {\n      var cfg = self.getDrawCfg(row[0]);\n      var origin = cfg.origin._origin;\n      shapeContainer.addShape('text', {\n        attrs: Util.mix({}, {\n          x: origin.x,\n          y: origin.y,\n          text: origin.label || '',\n          fontSize: 18,\n          fill: cfg.shape === 'hollow' ? cfg.color : '#666',\n          textAlign: 'center',\n          textBaseline: 'middle'\n        }, cfg.style ? cfg.style.textStyle : {})\n      });\n    });\n  };\n\n  return Venn;\n}(GeomBase);\n\nGeomBase.Venn = Venn;\nmodule.exports = Venn;"]}]}
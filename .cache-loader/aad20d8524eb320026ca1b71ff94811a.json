{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/layouts/nav/NavStore.ts","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/layouts/nav/NavStore.ts","mtime":1596379644487},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Inject, Injectable } from \"react.di\";\nimport { computed, observable } from \"mobx\";\nimport { RouterStore } from \"../../routing/RouterStore\";\nimport { availableNavPoints } from \"./NavPoints\";\nimport { arrayContainsElement } from \"../../../utils/Array\";\nvar NavStore = (function () {\n    function NavStore(routerStore) {\n        this.routerStore = routerStore;\n        this.sidebarCollapsed = false;\n    }\n    Object.defineProperty(NavStore.prototype, \"hasSider\", {\n        get: function () {\n            return arrayContainsElement(this.sidenavs);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NavStore.prototype, \"currentNavPath\", {\n        get: function () {\n            var path = this.routerStore.path;\n            var points = availableNavPoints.map(function (x) {\n                if (typeof x.path === \"string\") {\n                    return path.startsWith(x.path) ? x : null;\n                }\n                else {\n                    var match = path.match(x.path);\n                    if (match) {\n                        return __assign(__assign({}, x), { path: x.jumpTo(path) });\n                    }\n                    else {\n                        return null;\n                    }\n                }\n            }).filter(function (x) { return !!x; });\n            return points;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    var _a;\n    __decorate([\n        observable.ref,\n        __metadata(\"design:type\", Array)\n    ], NavStore.prototype, \"sidenavs\", void 0);\n    __decorate([\n        computed,\n        __metadata(\"design:type\", Object),\n        __metadata(\"design:paramtypes\", [])\n    ], NavStore.prototype, \"hasSider\", null);\n    __decorate([\n        observable,\n        __metadata(\"design:type\", Object)\n    ], NavStore.prototype, \"sidebarCollapsed\", void 0);\n    __decorate([\n        computed,\n        __metadata(\"design:type\", Array),\n        __metadata(\"design:paramtypes\", [])\n    ], NavStore.prototype, \"currentNavPath\", null);\n    NavStore = __decorate([\n        Injectable,\n        __param(0, Inject),\n        __metadata(\"design:paramtypes\", [typeof (_a = typeof RouterStore !== \"undefined\" && RouterStore) === \"function\" ? _a : Object])\n    ], NavStore);\n    return NavStore;\n}());\nexport { NavStore };\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/layouts/nav/NavStore.ts","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/layouts/nav/NavStore.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,UAAU,CAAC;AAC9C,OAAO,EAAU,QAAQ,EAAE,UAAU,EAAE,MAAM,MAAM,CAAC;AACpD,OAAO,EAAE,WAAW,EAAE,MAAM,2BAA2B,CAAC;AACxD,OAAO,EAAE,kBAAkB,EAAY,MAAM,aAAa,CAAC;AAE3D,OAAO,EAAE,oBAAoB,EAAE,MAAM,sBAAsB,CAAC;AAQ5D;IAEE,kBAA4B,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAUxC,qBAAgB,GAAG,KAAK,CAAC;IARrC,CAAC;IAIS,sBAAI,8BAAQ;aAAZ;YACR,OAAO,oBAAoB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC7C,CAAC;;;OAAA;IAKS,sBAAI,oCAAc;aAAlB;YACR,IAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC;YACnC,IAAM,MAAM,GAAG,kBAAkB,CAAC,GAAG,CAAC,UAAC,CAAC;gBACtC,IAAI,OAAO,CAAC,CAAC,IAAI,KAAK,QAAQ,EAAE;oBAC9B,OAAO,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;iBAC3C;qBAAM;oBAEL,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;oBACjC,IAAI,KAAK,EAAE;wBACT,6BAAY,CAAC,KAAE,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,IAAG;qBACvC;yBAAM;wBACL,OAAO,IAAI,CAAC;qBACb;iBACF;YACH,CAAC,CAAC,CAAC,MAAM,CAAC,UAAC,CAAC,IAAK,OAAA,CAAC,CAAC,CAAC,EAAH,CAAG,CAAC,CAAC;YACtB,OAAO,MAAM,CAAC;QAChB,CAAC;;;OAAA;;IAzBe;QAAf,UAAU,CAAC,GAAG;;8CAA0B;IAE/B;QAAT,QAAQ;;;4CAER;IAEW;QAAX,UAAU;;sDAA0B;IAG3B;QAAT,QAAQ;;;kDAgBR;IA/BU,QAAQ;QADpB,UAAU;QAGI,WAAA,MAAM,CAAA;6DAAsB,WAAW,oBAAX,WAAW;OAFzC,QAAQ,CAiCpB;IAAD,eAAC;CAAA,AAjCD,IAiCC;SAjCY,QAAQ","sourcesContent":["import { Inject, Injectable } from \"react.di\";\r\nimport { action, computed, observable } from \"mobx\";\r\nimport { RouterStore } from \"../../routing/RouterStore\";\r\nimport { availableNavPoints, NavPoint } from \"./NavPoints\";\r\nimport { NavItemProps } from \"./NavItemProps\";\r\nimport { arrayContainsElement } from \"../../../utils/Array\";\r\nimport { Stack } from \"../../../utils/Stack\";\r\n\r\ninterface SideNav {\r\n  navs: NavItemProps[];\r\n}\r\n\r\n@Injectable\r\nexport class NavStore {\r\n\r\n  constructor(@Inject private routerStore: RouterStore) {\r\n\r\n  }\r\n\r\n  @observable.ref sidenavs: NavItemProps[];\r\n\r\n  @computed get hasSider() {\r\n    return arrayContainsElement(this.sidenavs);\r\n  }\r\n\r\n  @observable sidebarCollapsed = false;\r\n\r\n  // 或者符合当前路径的所有面包屑导航位置\r\n  @computed get currentNavPath(): NavPoint[] {\r\n    const path = this.routerStore.path;\r\n    const points = availableNavPoints.map((x) => {\r\n      if (typeof x.path === \"string\") {\r\n        return path.startsWith(x.path) ? x : null;\r\n      } else {\r\n        // x.path is regex\r\n        const match = path.match(x.path);\r\n        if (match) {\r\n          return { ...x, path: x.jumpTo(path) };\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n    }).filter((x) => !!x);\r\n    return points;\r\n  }\r\n\r\n}\r\n"]}]}
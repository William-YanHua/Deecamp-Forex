{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-form/lib/createDOMForm.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-form/lib/createDOMForm.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["'use strict';\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar _extends2 = require('babel-runtime/helpers/extends');\nvar _extends3 = _interopRequireDefault(_extends2);\nvar _reactDom = require('react-dom');\nvar _reactDom2 = _interopRequireDefault(_reactDom);\nvar _domScrollIntoView = require('dom-scroll-into-view');\nvar _domScrollIntoView2 = _interopRequireDefault(_domScrollIntoView);\nvar _has = require('lodash/has');\nvar _has2 = _interopRequireDefault(_has);\nvar _createBaseForm = require('./createBaseForm');\nvar _createBaseForm2 = _interopRequireDefault(_createBaseForm);\nvar _createForm = require('./createForm');\nvar _utils = require('./utils');\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\nfunction computedStyle(el, prop) {\n    var getComputedStyle = window.getComputedStyle;\n    var style = getComputedStyle ?\n        getComputedStyle(el) :\n        el.currentStyle;\n    if (style) {\n        return style[prop.replace(/-(\\w)/gi, function (word, letter) {\n            return letter.toUpperCase();\n        })];\n    }\n    return undefined;\n}\nfunction getScrollableContainer(n) {\n    var node = n;\n    var nodeName = void 0;\n    while ((nodeName = node.nodeName.toLowerCase()) !== 'body') {\n        var overflowY = computedStyle(node, 'overflowY');\n        if (node !== n && (overflowY === 'auto' || overflowY === 'scroll') && node.scrollHeight > node.clientHeight) {\n            return node;\n        }\n        node = node.parentNode;\n    }\n    return nodeName === 'body' ? node.ownerDocument : node;\n}\nvar mixin = {\n    getForm: function getForm() {\n        return (0, _extends3['default'])({}, _createForm.mixin.getForm.call(this), {\n            validateFieldsAndScroll: this.validateFieldsAndScroll\n        });\n    },\n    validateFieldsAndScroll: function validateFieldsAndScroll(ns, opt, cb) {\n        var _this = this;\n        var _getParams = (0, _utils.getParams)(ns, opt, cb), names = _getParams.names, callback = _getParams.callback, options = _getParams.options;\n        var newCb = function newCb(error, values) {\n            if (error) {\n                var validNames = _this.fieldsStore.getValidFieldsName();\n                var firstNode = void 0;\n                var firstTop = void 0;\n                validNames.forEach(function (name) {\n                    if ((0, _has2['default'])(error, name)) {\n                        var instance = _this.getFieldInstance(name);\n                        if (instance) {\n                            var node = _reactDom2['default'].findDOMNode(instance);\n                            var top = node.getBoundingClientRect().top;\n                            if (node.type !== 'hidden' && (firstTop === undefined || firstTop > top)) {\n                                firstTop = top;\n                                firstNode = node;\n                            }\n                        }\n                    }\n                });\n                if (firstNode) {\n                    var c = options.container || getScrollableContainer(firstNode);\n                    (0, _domScrollIntoView2['default'])(firstNode, c, (0, _extends3['default'])({\n                        onlyScrollIfNeeded: true\n                    }, options.scroll));\n                }\n            }\n            if (typeof callback === 'function') {\n                callback(error, values);\n            }\n        };\n        return this.validateFields(names, options, newCb);\n    }\n};\nfunction createDOMForm(option) {\n    return (0, _createBaseForm2['default'])((0, _extends3['default'])({}, option), [mixin]);\n}\nexports['default'] = createDOMForm;\nmodule.exports = exports['default'];\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-form/lib/createDOMForm.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-form/lib/createDOMForm.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE;IAC3C,KAAK,EAAE,IAAI;CACZ,CAAC,CAAC;AAEH,IAAI,SAAS,GAAG,OAAO,CAAC,+BAA+B,CAAC,CAAC;AAEzD,IAAI,SAAS,GAAG,sBAAsB,CAAC,SAAS,CAAC,CAAC;AAElD,IAAI,SAAS,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;AAErC,IAAI,UAAU,GAAG,sBAAsB,CAAC,SAAS,CAAC,CAAC;AAEnD,IAAI,kBAAkB,GAAG,OAAO,CAAC,sBAAsB,CAAC,CAAC;AAEzD,IAAI,mBAAmB,GAAG,sBAAsB,CAAC,kBAAkB,CAAC,CAAC;AAErE,IAAI,IAAI,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;AAEjC,IAAI,KAAK,GAAG,sBAAsB,CAAC,IAAI,CAAC,CAAC;AAEzC,IAAI,eAAe,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;AAElD,IAAI,gBAAgB,GAAG,sBAAsB,CAAC,eAAe,CAAC,CAAC;AAE/D,IAAI,WAAW,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AAE1C,IAAI,MAAM,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AAEhC,SAAS,sBAAsB,CAAC,GAAG,IAAI,OAAO,GAAG,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;AAEjG,SAAS,aAAa,CAAC,EAAE,EAAE,IAAI;IAC7B,IAAI,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,CAAC;IAC/C,IAAI,KAAK,GAET,gBAAgB,CAAC,CAAC;QAGlB,gBAAgB,CAAC,EAAE,CAAC,CAAC,CAAC;QAGtB,EAAE,CAAC,YAAY,CAAC;IAChB,IAAI,KAAK,EAAE;QACT,OAAO,KAAK,CAKZ,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,UAAU,IAAI,EAAE,MAAM;YAC5C,OAAO,MAAM,CAAC,WAAW,EAAE,CAAC;QAC9B,CAAC,CAAC,CAAC,CAAC;KACL;IACD,OAAO,SAAS,CAAC;AACnB,CAAC;AAED,SAAS,sBAAsB,CAAC,CAAC;IAC/B,IAAI,IAAI,GAAG,CAAC,CAAC;IACb,IAAI,QAAQ,GAAG,KAAK,CAAC,CAAC;IAEtB,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,KAAK,MAAM,EAAE;QAC1D,IAAI,SAAS,GAAG,aAAa,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;QAEjD,IAAI,IAAI,KAAK,CAAC,IAAI,CAAC,SAAS,KAAK,MAAM,IAAI,SAAS,KAAK,QAAQ,CAAC,IAAI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,EAAE;YAC3G,OAAO,IAAI,CAAC;SACb;QACD,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC;KACxB;IACD,OAAO,QAAQ,KAAK,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC;AACzD,CAAC;AAED,IAAI,KAAK,GAAG;IACV,OAAO,EAAE,SAAS,OAAO;QACvB,OAAO,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YACzE,uBAAuB,EAAE,IAAI,CAAC,uBAAuB;SACtD,CAAC,CAAC;IACL,CAAC;IACD,uBAAuB,EAAE,SAAS,uBAAuB,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE;QACnE,IAAI,KAAK,GAAG,IAAI,CAAC;QAEjB,IAAI,UAAU,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,EAC/C,KAAK,GAAG,UAAU,CAAC,KAAK,EACxB,QAAQ,GAAG,UAAU,CAAC,QAAQ,EAC9B,OAAO,GAAG,UAAU,CAAC,OAAO,CAAC;QAEjC,IAAI,KAAK,GAAG,SAAS,KAAK,CAAC,KAAK,EAAE,MAAM;YACtC,IAAI,KAAK,EAAE;gBACT,IAAI,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC;gBACxD,IAAI,SAAS,GAAG,KAAK,CAAC,CAAC;gBACvB,IAAI,QAAQ,GAAG,KAAK,CAAC,CAAC;gBAEtB,UAAU,CAAC,OAAO,CAAC,UAAU,IAAI;oBAC/B,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,EAAE,IAAI,CAAC,EAAE;wBACtC,IAAI,QAAQ,GAAG,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;wBAC5C,IAAI,QAAQ,EAAE;4BACZ,IAAI,IAAI,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;4BACvD,IAAI,GAAG,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC,GAAG,CAAC;4BAC3C,IAAI,IAAI,CAAC,IAAI,KAAK,QAAQ,IAAI,CAAC,QAAQ,KAAK,SAAS,IAAI,QAAQ,GAAG,GAAG,CAAC,EAAE;gCACxE,QAAQ,GAAG,GAAG,CAAC;gCACf,SAAS,GAAG,IAAI,CAAC;6BAClB;yBACF;qBACF;gBACH,CAAC,CAAC,CAAC;gBAEH,IAAI,SAAS,EAAE;oBACb,IAAI,CAAC,GAAG,OAAO,CAAC,SAAS,IAAI,sBAAsB,CAAC,SAAS,CAAC,CAAC;oBAC/D,CAAC,CAAC,EAAE,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;wBAC1E,kBAAkB,EAAE,IAAI;qBACzB,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;iBACrB;aACF;YAED,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;gBAClC,QAAQ,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;aACzB;QACH,CAAC,CAAC;QAEF,OAAO,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;IACpD,CAAC;CACF,CAAC;AAEF,SAAS,aAAa,CAAC,MAAM;IAC3B,OAAO,CAAC,CAAC,EAAE,gBAAgB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAC1F,CAAC;AAED,OAAO,CAAC,SAAS,CAAC,GAAG,aAAa,CAAC;AACnC,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _domScrollIntoView = require('dom-scroll-into-view');\n\nvar _domScrollIntoView2 = _interopRequireDefault(_domScrollIntoView);\n\nvar _has = require('lodash/has');\n\nvar _has2 = _interopRequireDefault(_has);\n\nvar _createBaseForm = require('./createBaseForm');\n\nvar _createBaseForm2 = _interopRequireDefault(_createBaseForm);\n\nvar _createForm = require('./createForm');\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction computedStyle(el, prop) {\n  var getComputedStyle = window.getComputedStyle;\n  var style =\n  // If we have getComputedStyle\n  getComputedStyle ?\n  // Query it\n  // TODO: From CSS-Query notes, we might need (node, null) for FF\n  getComputedStyle(el) :\n\n  // Otherwise, we are in IE and use currentStyle\n  el.currentStyle;\n  if (style) {\n    return style[\n    // Switch to camelCase for CSSOM\n    // DEV: Grabbed from jQuery\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/css.js#L191-L194\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/core.js#L593-L597\n    prop.replace(/-(\\w)/gi, function (word, letter) {\n      return letter.toUpperCase();\n    })];\n  }\n  return undefined;\n}\n\nfunction getScrollableContainer(n) {\n  var node = n;\n  var nodeName = void 0;\n  /* eslint no-cond-assign:0 */\n  while ((nodeName = node.nodeName.toLowerCase()) !== 'body') {\n    var overflowY = computedStyle(node, 'overflowY');\n    // https://stackoverflow.com/a/36900407/3040605\n    if (node !== n && (overflowY === 'auto' || overflowY === 'scroll') && node.scrollHeight > node.clientHeight) {\n      return node;\n    }\n    node = node.parentNode;\n  }\n  return nodeName === 'body' ? node.ownerDocument : node;\n}\n\nvar mixin = {\n  getForm: function getForm() {\n    return (0, _extends3['default'])({}, _createForm.mixin.getForm.call(this), {\n      validateFieldsAndScroll: this.validateFieldsAndScroll\n    });\n  },\n  validateFieldsAndScroll: function validateFieldsAndScroll(ns, opt, cb) {\n    var _this = this;\n\n    var _getParams = (0, _utils.getParams)(ns, opt, cb),\n        names = _getParams.names,\n        callback = _getParams.callback,\n        options = _getParams.options;\n\n    var newCb = function newCb(error, values) {\n      if (error) {\n        var validNames = _this.fieldsStore.getValidFieldsName();\n        var firstNode = void 0;\n        var firstTop = void 0;\n\n        validNames.forEach(function (name) {\n          if ((0, _has2['default'])(error, name)) {\n            var instance = _this.getFieldInstance(name);\n            if (instance) {\n              var node = _reactDom2['default'].findDOMNode(instance);\n              var top = node.getBoundingClientRect().top;\n              if (node.type !== 'hidden' && (firstTop === undefined || firstTop > top)) {\n                firstTop = top;\n                firstNode = node;\n              }\n            }\n          }\n        });\n\n        if (firstNode) {\n          var c = options.container || getScrollableContainer(firstNode);\n          (0, _domScrollIntoView2['default'])(firstNode, c, (0, _extends3['default'])({\n            onlyScrollIfNeeded: true\n          }, options.scroll));\n        }\n      }\n\n      if (typeof callback === 'function') {\n        callback(error, values);\n      }\n    };\n\n    return this.validateFields(names, options, newCb);\n  }\n};\n\nfunction createDOMForm(option) {\n  return (0, _createBaseForm2['default'])((0, _extends3['default'])({}, option), [mixin]);\n}\n\nexports['default'] = createDOMForm;\nmodule.exports = exports['default'];"]}]}
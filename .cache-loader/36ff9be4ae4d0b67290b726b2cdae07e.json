{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/scale/lib/time.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/scale/lib/time.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\nvar fecha = require('fecha');\nvar each = require('@antv/util/lib/each');\nvar isNil = require('@antv/util/lib/type/is-nil');\nvar isString = require('@antv/util/lib/type/is-string');\nvar Base = require('./base');\nvar Linear = require('./linear');\nvar timeAuto = require('./auto/time');\nvar TimeUtil = require('./time-util');\nvar Time = function (_Linear) {\n    _inheritsLoose(Time, _Linear);\n    function Time() {\n        return _Linear.apply(this, arguments) || this;\n    }\n    var _proto = Time.prototype;\n    _proto._initDefaultCfg = function _initDefaultCfg() {\n        _Linear.prototype._initDefaultCfg.call(this);\n        this.type = 'time';\n        this.mask = 'YYYY-MM-DD';\n    };\n    _proto.init = function init() {\n        var self = this;\n        var values = self.values;\n        if (values && values.length) {\n            var timeStamps = [];\n            var min = Infinity;\n            var secondMin = min;\n            var max = 0;\n            each(values, function (v) {\n                var timeStamp = self._toTimeStamp(v);\n                if (isNaN(timeStamp)) {\n                    throw new TypeError(\"Invalid Time: \" + v);\n                }\n                if (min > timeStamp) {\n                    secondMin = min;\n                    min = timeStamp;\n                }\n                else if (secondMin > timeStamp) {\n                    secondMin = timeStamp;\n                }\n                if (max < timeStamp) {\n                    max = timeStamp;\n                }\n                timeStamps.push(timeStamp);\n            });\n            if (values.length > 1) {\n                self.minTickInterval = secondMin - min;\n            }\n            if (isNil(self.min) || self._toTimeStamp(self.min) > min) {\n                self.min = min;\n            }\n            if (isNil(self.max) || self._toTimeStamp(self.max) < max) {\n                self.max = max;\n            }\n        }\n        _Linear.prototype.init.call(this);\n    };\n    _proto.calculateTicks = function calculateTicks() {\n        var self = this;\n        var min = self.min;\n        var max = self.max;\n        var count = self.tickCount;\n        var interval = self.tickInterval;\n        var tmp = timeAuto({\n            min: min,\n            max: max,\n            minCount: count,\n            maxCount: count,\n            interval: interval,\n            minInterval: self.minTickInterval\n        });\n        return tmp.ticks;\n    };\n    _proto.getText = function getText(value) {\n        var formatter = this.formatter;\n        value = this.translate(value);\n        value = formatter ? formatter(value) : fecha.format(value, this.mask);\n        return value;\n    };\n    _proto.scale = function scale(value) {\n        if (isString(value)) {\n            value = this.translate(value);\n        }\n        return _Linear.prototype.scale.call(this, value);\n    };\n    _proto.translate = function translate(value) {\n        return this._toTimeStamp(value);\n    };\n    _proto._toTimeStamp = function _toTimeStamp(value) {\n        return TimeUtil.toTimeStamp(value);\n    };\n    return Time;\n}(Linear);\nBase.Time = Time;\nmodule.exports = Time;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/scale/lib/time.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/scale/lib/time.js"],"names":[],"mappings":"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","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/**\n * @fileOverview The measurement of linear data scale function\n * @author dxq613@gmail.com\n */\nvar fecha = require('fecha');\n\nvar each = require('@antv/util/lib/each');\n\nvar isNil = require('@antv/util/lib/type/is-nil');\n\nvar isString = require('@antv/util/lib/type/is-string');\n\nvar Base = require('./base');\n\nvar Linear = require('./linear');\n\nvar timeAuto = require('./auto/time');\n\nvar TimeUtil = require('./time-util');\n/**\n * 时间度量的构造函数\n * @class Scale.Time\n */\n\n\nvar Time = /*#__PURE__*/function (_Linear) {\n  _inheritsLoose(Time, _Linear);\n\n  function Time() {\n    return _Linear.apply(this, arguments) || this;\n  }\n\n  var _proto = Time.prototype;\n\n  _proto._initDefaultCfg = function _initDefaultCfg() {\n    _Linear.prototype._initDefaultCfg.call(this);\n\n    this.type = 'time';\n    this.mask = 'YYYY-MM-DD';\n  }\n  /**\n   * @override\n   */\n  ;\n\n  _proto.init = function init() {\n    var self = this;\n    var values = self.values;\n\n    if (values && values.length) {\n      // 重新计算最大最小值\n      var timeStamps = [];\n      var min = Infinity; // 最小值\n\n      var secondMin = min; // 次小值\n\n      var max = 0; // 使用一个循环，计算min,max,secondMin\n\n      each(values, function (v) {\n        var timeStamp = self._toTimeStamp(v);\n\n        if (isNaN(timeStamp)) {\n          throw new TypeError(\"Invalid Time: \" + v);\n        }\n\n        if (min > timeStamp) {\n          secondMin = min;\n          min = timeStamp;\n        } else if (secondMin > timeStamp) {\n          secondMin = timeStamp;\n        }\n\n        if (max < timeStamp) {\n          max = timeStamp;\n        }\n\n        timeStamps.push(timeStamp);\n      }); // 存在多个值时，设置最小间距\n\n      if (values.length > 1) {\n        self.minTickInterval = secondMin - min;\n      }\n\n      if (isNil(self.min) || self._toTimeStamp(self.min) > min) {\n        self.min = min;\n      }\n\n      if (isNil(self.max) || self._toTimeStamp(self.max) < max) {\n        self.max = max;\n      }\n    }\n\n    _Linear.prototype.init.call(this);\n  };\n\n  _proto.calculateTicks = function calculateTicks() {\n    var self = this;\n    var min = self.min;\n    var max = self.max;\n    var count = self.tickCount;\n    var interval = self.tickInterval;\n    var tmp = timeAuto({\n      min: min,\n      max: max,\n      minCount: count,\n      maxCount: count,\n      interval: interval,\n      minInterval: self.minTickInterval\n    });\n    return tmp.ticks;\n  }\n  /**\n   * @override\n   */\n  ;\n\n  _proto.getText = function getText(value) {\n    var formatter = this.formatter;\n    value = this.translate(value);\n    value = formatter ? formatter(value) : fecha.format(value, this.mask);\n    return value;\n  }\n  /**\n   * @override\n   */\n  ;\n\n  _proto.scale = function scale(value) {\n    if (isString(value)) {\n      value = this.translate(value);\n    }\n\n    return _Linear.prototype.scale.call(this, value);\n  }\n  /**\n   * @override\n   */\n  ;\n\n  _proto.translate = function translate(value) {\n    return this._toTimeStamp(value);\n  } // 将时间转换为时间戳\n  ;\n\n  _proto._toTimeStamp = function _toTimeStamp(value) {\n    return TimeUtil.toTimeStamp(value);\n  };\n\n  return Time;\n}(Linear);\n\nBase.Time = Time;\nmodule.exports = Time;"]}]}
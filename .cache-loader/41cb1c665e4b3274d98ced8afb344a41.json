{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\interaction\\action\\view\\button.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\interaction\\action\\view\\button.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import { __assign, __extends } from \"tslib\";\r\nimport { ext } from '@antv/matrix-util';\r\nimport { deepMix } from '@antv/util';\r\nimport { parsePadding } from '../../../util/padding';\r\nimport Action from '../base';\r\nvar PADDING_RIGHT = 10;\r\nvar PADDING_TOP = 5;\r\nvar ButtonAction = (function (_super) {\r\n    __extends(ButtonAction, _super);\r\n    function ButtonAction() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.buttonGroup = null;\r\n        _this.buttonCfg = {\r\n            name: 'button',\r\n            text: 'button',\r\n            textStyle: {\r\n                x: 0,\r\n                y: 0,\r\n                fontSize: 12,\r\n                fill: '#333333',\r\n                cursor: 'pointer',\r\n            },\r\n            padding: [8, 10],\r\n            style: {\r\n                fill: '#f7f7f7',\r\n                stroke: '#cccccc',\r\n                cursor: 'pointer',\r\n            },\r\n            activeStyle: {\r\n                fill: '#e6e6e6',\r\n            },\r\n        };\r\n        return _this;\r\n    }\r\n    ButtonAction.prototype.getButtonCfg = function () {\r\n        return deepMix(this.buttonCfg, this.cfg);\r\n    };\r\n    ButtonAction.prototype.drawButton = function () {\r\n        var config = this.getButtonCfg();\r\n        var group = this.context.view.foregroundGroup.addGroup({\r\n            name: config.name,\r\n        });\r\n        var textShape = group.addShape({\r\n            type: 'text',\r\n            name: 'button-text',\r\n            attrs: __assign({ text: config.text }, config.textStyle),\r\n        });\r\n        var textBBox = textShape.getBBox();\r\n        var padding = parsePadding(config.padding);\r\n        var buttonShape = group.addShape({\r\n            type: 'rect',\r\n            name: 'button-rect',\r\n            attrs: __assign({ x: textBBox.x - padding[3], y: textBBox.y - padding[0], width: textBBox.width + padding[1] + padding[3], height: textBBox.height + padding[0] + padding[2] }, config.style),\r\n        });\r\n        buttonShape.toBack();\r\n        group.on('mouseenter', function () {\r\n            buttonShape.attr(config.activeStyle);\r\n        });\r\n        group.on('mouseleave', function () {\r\n            buttonShape.attr(config.style);\r\n        });\r\n        this.buttonGroup = group;\r\n    };\r\n    ButtonAction.prototype.resetPosition = function () {\r\n        var view = this.context.view;\r\n        var coord = view.getCoordinate();\r\n        var point = coord.convert({ x: 1, y: 1 });\r\n        var buttonGroup = this.buttonGroup;\r\n        var bbox = buttonGroup.getBBox();\r\n        var matrix = ext.transform(null, [\r\n            ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\r\n        ]);\r\n        buttonGroup.setMatrix(matrix);\r\n    };\r\n    ButtonAction.prototype.show = function () {\r\n        if (!this.buttonGroup) {\r\n            this.drawButton();\r\n        }\r\n        this.resetPosition();\r\n        this.buttonGroup.show();\r\n    };\r\n    ButtonAction.prototype.hide = function () {\r\n        if (this.buttonGroup) {\r\n            this.buttonGroup.hide();\r\n        }\r\n    };\r\n    ButtonAction.prototype.destroy = function () {\r\n        var buttonGroup = this.buttonGroup;\r\n        if (buttonGroup) {\r\n            buttonGroup.remove();\r\n        }\r\n        _super.prototype.destroy.call(this);\r\n    };\r\n    return ButtonAction;\r\n}(Action));\r\nexport default ButtonAction;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\interaction\\action\\view\\button.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\interaction\\action\\view\\button.js"],"names":[],"mappings":"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","sourcesContent":["import { __assign, __extends } from \"tslib\";\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nvar PADDING_RIGHT = 10;\nvar PADDING_TOP = 5;\n/**\n * Button action\n * @ignore\n */\nvar ButtonAction = /** @class */ (function (_super) {\n    __extends(ButtonAction, _super);\n    function ButtonAction() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buttonGroup = null;\n        _this.buttonCfg = {\n            name: 'button',\n            text: 'button',\n            textStyle: {\n                x: 0,\n                y: 0,\n                fontSize: 12,\n                fill: '#333333',\n                cursor: 'pointer',\n            },\n            padding: [8, 10],\n            style: {\n                fill: '#f7f7f7',\n                stroke: '#cccccc',\n                cursor: 'pointer',\n            },\n            activeStyle: {\n                fill: '#e6e6e6',\n            },\n        };\n        return _this;\n    }\n    // mix 默认的配置和用户配置\n    ButtonAction.prototype.getButtonCfg = function () {\n        return deepMix(this.buttonCfg, this.cfg);\n    };\n    // 绘制 Button 和 文本\n    ButtonAction.prototype.drawButton = function () {\n        var config = this.getButtonCfg();\n        var group = this.context.view.foregroundGroup.addGroup({\n            name: config.name,\n        });\n        // 添加文本\n        var textShape = group.addShape({\n            type: 'text',\n            name: 'button-text',\n            attrs: __assign({ text: config.text }, config.textStyle),\n        });\n        var textBBox = textShape.getBBox();\n        var padding = parsePadding(config.padding);\n        // 添加背景按钮\n        var buttonShape = group.addShape({\n            type: 'rect',\n            name: 'button-rect',\n            attrs: __assign({ x: textBBox.x - padding[3], y: textBBox.y - padding[0], width: textBBox.width + padding[1] + padding[3], height: textBBox.height + padding[0] + padding[2] }, config.style),\n        });\n        buttonShape.toBack(); // 在后面\n        // active 效果内置\n        group.on('mouseenter', function () {\n            buttonShape.attr(config.activeStyle);\n        });\n        group.on('mouseleave', function () {\n            buttonShape.attr(config.style);\n        });\n        this.buttonGroup = group;\n    };\n    // 重置位置\n    ButtonAction.prototype.resetPosition = function () {\n        var view = this.context.view;\n        var coord = view.getCoordinate();\n        var point = coord.convert({ x: 1, y: 1 }); // 后面直接改成左上角\n        var buttonGroup = this.buttonGroup;\n        var bbox = buttonGroup.getBBox();\n        var matrix = ext.transform(null, [\n            ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n        ]);\n        buttonGroup.setMatrix(matrix);\n    };\n    /**\n     * 显示\n     */\n    ButtonAction.prototype.show = function () {\n        if (!this.buttonGroup) {\n            this.drawButton();\n        }\n        this.resetPosition();\n        this.buttonGroup.show();\n    };\n    /**\n     * 隐藏\n     */\n    ButtonAction.prototype.hide = function () {\n        if (this.buttonGroup) {\n            this.buttonGroup.hide();\n        }\n    };\n    /**\n     * 销毁\n     */\n    ButtonAction.prototype.destroy = function () {\n        var buttonGroup = this.buttonGroup;\n        if (buttonGroup) {\n            buttonGroup.remove();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    return ButtonAction;\n}(Action));\nexport default ButtonAction;\n//# sourceMappingURL=button.js.map"]}]}
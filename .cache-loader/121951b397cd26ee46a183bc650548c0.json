{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\geom\\shape\\violin.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\geom\\shape\\violin.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["var Util = require('../../util');\r\nvar Shape = require('./shape');\r\nvar Global = require('../../global');\r\nvar PathUtil = require('../util/path');\r\nfunction getAttrs(cfg) {\r\n    var defaultCfg = Global.shape.venn;\r\n    var shapeCfg = Util.mix({}, defaultCfg, {\r\n        stroke: cfg.color,\r\n        fill: cfg.color,\r\n        fillOpacity: cfg.opacity\r\n    }, cfg.style);\r\n    return shapeCfg;\r\n}\r\nfunction getHollowAttrs(cfg) {\r\n    var defaultCfg = Global.shape.hollowVenn;\r\n    var shapeCfg = Util.mix({}, defaultCfg, {\r\n        stroke: cfg.color,\r\n        strokeOpacity: cfg.opacity\r\n    }, cfg.style);\r\n    return shapeCfg;\r\n}\r\nfunction getViolinPath(points) {\r\n    var path = [];\r\n    for (var i = 0; i < points.length; i++) {\r\n        var point = points[i];\r\n        if (point) {\r\n            var action = i === 0 ? 'M' : 'L';\r\n            path.push([action, point.x, point.y]);\r\n        }\r\n    }\r\n    var first = points[0];\r\n    path.push(['L', first.x, first.y]);\r\n    path.push(['z']);\r\n    return path;\r\n}\r\nfunction getSmoothViolinPath(points) {\r\n    var half = points.length / 2;\r\n    var leftPoints = [];\r\n    var rightPoints = [];\r\n    for (var i = 0; i < points.length; i++) {\r\n        if (i < half) {\r\n            leftPoints.push(points[i]);\r\n        }\r\n        else {\r\n            rightPoints.push(points[i]);\r\n        }\r\n    }\r\n    var leftPath = PathUtil.getSplinePath(leftPoints, false);\r\n    var rightPath = PathUtil.getSplinePath(rightPoints, false);\r\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\r\n    rightPath.shift();\r\n    var path = leftPath.concat(rightPath);\r\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\r\n    path.push(['z']);\r\n    return path;\r\n}\r\nfunction normalizeSize(arr) {\r\n    var max = Math.max.apply(null, arr);\r\n    return arr.map(function (num) {\r\n        return num / max;\r\n    });\r\n}\r\nvar Violin = Shape.registerFactory('violin', {\r\n    defaultShapeType: 'violin',\r\n    getDefaultPoints: function getDefaultPoints(pointInfo) {\r\n        var radius = pointInfo.size / 2;\r\n        var points = [];\r\n        var sizeArr = normalizeSize(pointInfo._size);\r\n        Util.each(pointInfo.y, function (y, index) {\r\n            var offset = sizeArr[index] * radius;\r\n            var isMin = index === 0;\r\n            var isMax = index === pointInfo.y.length - 1;\r\n            points.push({\r\n                isMin: isMin,\r\n                isMax: isMax,\r\n                x: pointInfo.x - offset,\r\n                y: y\r\n            });\r\n            points.unshift({\r\n                isMin: isMin,\r\n                isMax: isMax,\r\n                x: pointInfo.x + offset,\r\n                y: y\r\n            });\r\n        });\r\n        return points;\r\n    },\r\n    getActiveCfg: function getActiveCfg(type, cfg) {\r\n        var lineWidth = cfg.lineWidth || 1;\r\n        if (type === 'hollow') {\r\n            return {\r\n                lineWidth: lineWidth + 1\r\n            };\r\n        }\r\n        var opacity = cfg.fillOpacity || cfg.opacity || 1;\r\n        return {\r\n            fillOpacity: opacity - 0.08\r\n        };\r\n    },\r\n    getSelectedCfg: function getSelectedCfg(type, cfg) {\r\n        if (cfg && cfg.style) {\r\n            return cfg.style;\r\n        }\r\n        return this.getActiveCfg(type, cfg);\r\n    }\r\n});\r\nShape.registerShape('violin', 'violin', {\r\n    draw: function draw(cfg, container) {\r\n        var attrs = getAttrs(cfg);\r\n        var path = getViolinPath(cfg.points);\r\n        path = this.parsePath(path);\r\n        var pathShape = container.addShape('path', {\r\n            attrs: Util.mix(attrs, {\r\n                path: path\r\n            })\r\n        });\r\n        return pathShape;\r\n    },\r\n    getMarkerCfg: function getMarkerCfg(cfg) {\r\n        return Util.mix({\r\n            symbol: 'circle',\r\n            radius: 4\r\n        }, getAttrs(cfg));\r\n    }\r\n});\r\nShape.registerShape('violin', 'smooth', {\r\n    draw: function draw(cfg, container) {\r\n        var attrs = getAttrs(cfg);\r\n        var path = getSmoothViolinPath(cfg.points);\r\n        path = this.parsePath(path);\r\n        var pathShape = container.addShape('path', {\r\n            attrs: Util.mix(attrs, {\r\n                path: path\r\n            })\r\n        });\r\n        return pathShape;\r\n    },\r\n    getMarkerCfg: function getMarkerCfg(cfg) {\r\n        return Util.mix({\r\n            symbol: 'circle',\r\n            radius: 4\r\n        }, getAttrs(cfg));\r\n    }\r\n});\r\nShape.registerShape('violin', 'hollow', {\r\n    draw: function draw(cfg, container) {\r\n        var attrs = getHollowAttrs(cfg);\r\n        var path = getViolinPath(cfg.points);\r\n        path = this.parsePath(path);\r\n        var pathShape = container.addShape('path', {\r\n            attrs: Util.mix(attrs, {\r\n                path: path\r\n            })\r\n        });\r\n        return pathShape;\r\n    },\r\n    getMarkerCfg: function getMarkerCfg(cfg) {\r\n        return Util.mix({\r\n            symbol: 'circle',\r\n            radius: 4\r\n        }, getHollowAttrs(cfg));\r\n    }\r\n});\r\nShape.registerShape('violin', 'smoothHollow', {\r\n    draw: function draw(cfg, container) {\r\n        var attrs = getHollowAttrs(cfg);\r\n        var path = getSmoothViolinPath(cfg.points);\r\n        path = this.parsePath(path);\r\n        var pathShape = container.addShape('path', {\r\n            attrs: Util.mix(attrs, {\r\n                path: path\r\n            })\r\n        });\r\n        return pathShape;\r\n    },\r\n    getMarkerCfg: function getMarkerCfg(cfg) {\r\n        return Util.mix({\r\n            symbol: 'circle',\r\n            radius: 4\r\n        }, getHollowAttrs(cfg));\r\n    }\r\n});\r\nmodule.exports = Violin;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\geom\\shape\\violin.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\geom\\shape\\violin.js"],"names":[],"mappings":"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","sourcesContent":["/**\n * @fileOverview venn shapes\n * @author leungwensen@gmail.com\n */\nvar Util = require('../../util');\n\nvar Shape = require('./shape');\n\nvar Global = require('../../global');\n\nvar PathUtil = require('../util/path');\n\nfunction getAttrs(cfg) {\n  var defaultCfg = Global.shape.venn;\n  var shapeCfg = Util.mix({}, defaultCfg, {\n    stroke: cfg.color,\n    fill: cfg.color,\n    fillOpacity: cfg.opacity\n  }, cfg.style);\n  return shapeCfg;\n}\n\nfunction getHollowAttrs(cfg) {\n  var defaultCfg = Global.shape.hollowVenn;\n  var shapeCfg = Util.mix({}, defaultCfg, {\n    stroke: cfg.color,\n    strokeOpacity: cfg.opacity\n  }, cfg.style);\n  return shapeCfg;\n}\n\nfunction getViolinPath(points) {\n  var path = [];\n\n  for (var i = 0; i < points.length; i++) {\n    var point = points[i];\n\n    if (point) {\n      var action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  var first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n  return path;\n}\n\nfunction getSmoothViolinPath(points) {\n  var half = points.length / 2;\n  var leftPoints = [];\n  var rightPoints = [];\n\n  for (var i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n\n  var leftPath = PathUtil.getSplinePath(leftPoints, false);\n  var rightPath = PathUtil.getSplinePath(rightPoints, false);\n  leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  rightPath.shift();\n  var path = leftPath.concat(rightPath);\n  path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  path.push(['z']);\n  return path;\n}\n\nfunction normalizeSize(arr) {\n  var max = Math.max.apply(null, arr);\n  return arr.map(function (num) {\n    return num / max;\n  });\n} // register violin geom shape\n\n\nvar Violin = Shape.registerFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints: function getDefaultPoints(pointInfo) {\n    var radius = pointInfo.size / 2;\n    var points = [];\n    var sizeArr = normalizeSize(pointInfo._size);\n    Util.each(pointInfo.y, function (y, index) {\n      var offset = sizeArr[index] * radius;\n      var isMin = index === 0;\n      var isMax = index === pointInfo.y.length - 1;\n      points.push({\n        isMin: isMin,\n        isMax: isMax,\n        x: pointInfo.x - offset,\n        y: y\n      });\n      points.unshift({\n        isMin: isMin,\n        isMax: isMax,\n        x: pointInfo.x + offset,\n        y: y\n      });\n    });\n    return points;\n  },\n  getActiveCfg: function getActiveCfg(type, cfg) {\n    var lineWidth = cfg.lineWidth || 1;\n\n    if (type === 'hollow') {\n      return {\n        lineWidth: lineWidth + 1\n      };\n    }\n\n    var opacity = cfg.fillOpacity || cfg.opacity || 1;\n    return {\n      // lineWidth,\n      fillOpacity: opacity - 0.08\n    };\n  },\n  getSelectedCfg: function getSelectedCfg(type, cfg) {\n    if (cfg && cfg.style) {\n      return cfg.style;\n    }\n\n    return this.getActiveCfg(type, cfg);\n  }\n}); // normal violin, filled path\n\nShape.registerShape('violin', 'violin', {\n  draw: function draw(cfg, container) {\n    var attrs = getAttrs(cfg);\n    var path = getViolinPath(cfg.points);\n    path = this.parsePath(path);\n    var pathShape = container.addShape('path', {\n      attrs: Util.mix(attrs, {\n        path: path\n      })\n    });\n    return pathShape;\n  },\n  getMarkerCfg: function getMarkerCfg(cfg) {\n    // console.log(cfg);\n    return Util.mix({\n      symbol: 'circle',\n      radius: 4\n    }, getAttrs(cfg));\n  }\n}); // smooth spline violin, filled path\n\nShape.registerShape('violin', 'smooth', {\n  draw: function draw(cfg, container) {\n    var attrs = getAttrs(cfg);\n    var path = getSmoothViolinPath(cfg.points);\n    path = this.parsePath(path);\n    var pathShape = container.addShape('path', {\n      attrs: Util.mix(attrs, {\n        path: path\n      })\n    });\n    return pathShape;\n  },\n  getMarkerCfg: function getMarkerCfg(cfg) {\n    // console.log(cfg);\n    return Util.mix({\n      symbol: 'circle',\n      radius: 4\n    }, getAttrs(cfg));\n  }\n}); // hollow violin, stroked path\n\nShape.registerShape('violin', 'hollow', {\n  draw: function draw(cfg, container) {\n    var attrs = getHollowAttrs(cfg);\n    var path = getViolinPath(cfg.points);\n    path = this.parsePath(path);\n    var pathShape = container.addShape('path', {\n      attrs: Util.mix(attrs, {\n        path: path\n      })\n    });\n    return pathShape;\n  },\n  getMarkerCfg: function getMarkerCfg(cfg) {\n    // console.log(cfg);\n    return Util.mix({\n      symbol: 'circle',\n      radius: 4\n    }, getHollowAttrs(cfg));\n  }\n}); // hollow smooth spline violin, stroked path\n\nShape.registerShape('violin', 'smoothHollow', {\n  draw: function draw(cfg, container) {\n    var attrs = getHollowAttrs(cfg);\n    var path = getSmoothViolinPath(cfg.points);\n    path = this.parsePath(path);\n    var pathShape = container.addShape('path', {\n      attrs: Util.mix(attrs, {\n        path: path\n      })\n    });\n    return pathShape;\n  },\n  getMarkerCfg: function getMarkerCfg(cfg) {\n    // console.log(cfg);\n    return Util.mix({\n      symbol: 'circle',\n      radius: 4\n    }, getHollowAttrs(cfg));\n  }\n});\nmodule.exports = Violin;"]}]}
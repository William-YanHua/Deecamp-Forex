{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/pages/InvReqPage/InvReqDetailPage/Bought/Position/Reallocation/CompareChart.tsx","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/pages/InvReqPage/InvReqDetailPage/Bought/Position/Reallocation/CompareChart.tsx","mtime":1596379644551},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport DataSet from \"@antv/data-set\";\nimport { PieChart } from \"../../Chart/PieChart\";\nvar Container = styled.div.withConfig({ displayName: \"Container\" })(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  border: #d9d9d9 1px solid;\\n  padding-top: 20px;\\n  margin: 0px;\\n  border-radius: 5px;\\n  background-color: #fafafa;\\n  text-align: center;\\n\"], [\"\\n  border: #d9d9d9 1px solid;\\n  padding-top: 20px;\\n  margin: 0px;\\n  border-radius: 5px;\\n  background-color: #fafafa;\\n  text-align: center;\\n\"])));\nvar ChartContainer = styled.div.withConfig({ displayName: \"ChartContainer\" })(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  //margin: 20px;\\n\"], [\"\\n  //margin: 20px;\\n\"])));\nvar DataView = DataSet.DataView;\nvar CompareChart = (function (_super) {\n    __extends(CompareChart, _super);\n    function CompareChart() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.judgeIsNone = function (data) {\n            if (data.perOfStock || data.perOfBond || data.perOfProduct) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        };\n        return _this;\n    }\n    CompareChart.prototype.render = function () {\n        var lastData = [];\n        var lastDv = new DataView();\n        var currentData = [];\n        var currentDv = new DataView();\n        if (this.judgeIsNone(this.props.data[0])) {\n            lastData = [\n                {\n                    item: \"策略\",\n                    percentage: this.props.data[0].perOfStock,\n                },\n                {\n                    item: \"债券\",\n                    percentage: this.props.data[0].perOfBond,\n                },\n                {\n                    item: \"商品市场\",\n                    percentage: this.props.data[0].perOfProduct,\n                },\n            ];\n            lastDv.source(lastData).transform({\n                type: \"percent\",\n                field: \"percentage\",\n                dimension: \"item\",\n                as: \"percent\",\n            });\n        }\n        else {\n            lastDv = null;\n        }\n        if (this.judgeIsNone(this.props.data[1])) {\n            currentData = [\n                {\n                    item: \"股票\",\n                    percentage: this.props.data[1].perOfStock,\n                },\n                {\n                    item: \"债券\",\n                    percentage: this.props.data[1].perOfBond,\n                },\n                {\n                    item: \"商品市场\",\n                    percentage: this.props.data[1].perOfProduct,\n                },\n            ];\n            currentDv.source(currentData).transform({\n                type: \"percent\",\n                field: \"percentage\",\n                dimension: \"item\",\n                as: \"percent\",\n            });\n        }\n        else {\n            currentDv = null;\n        }\n        var cols = {\n            percentage: {\n                formatter: function (val) {\n                    val = val.toFixed(2) + \"%\";\n                    return val;\n                },\n            },\n        };\n        return (React.createElement(Container, null,\n            React.createElement(\"p\", { style: { fontSize: \"20px\" } }, \"\\u4E0A\\u6B21\\u914D\\u6BD4\"),\n            React.createElement(ChartContainer, null,\n                React.createElement(PieChart, { dataView: lastDv, cols: cols })),\n            React.createElement(\"p\", { style: { fontSize: \"40px\", marginBottom: \"20px\" } }, \"\\u2B07\\uFE0E\"),\n            React.createElement(\"p\", { style: { fontSize: \"20px\" } }, \"\\u672C\\u6B21\\u914D\\u6BD4\"),\n            React.createElement(ChartContainer, null,\n                React.createElement(PieChart, { dataView: currentDv, cols: cols }))));\n    };\n    return CompareChart;\n}(React.Component));\nexport { CompareChart };\nvar templateObject_1, templateObject_2;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/pages/InvReqPage/InvReqDetailPage/Bought/Position/Reallocation/CompareChart.tsx","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/pages/InvReqPage/InvReqDetailPage/Bought/Position/Reallocation/CompareChart.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DataSet from \"@antv/data-set\";\r\nimport { ReallocationLog } from \"../../../../../../models/invreq/Bought/ReallocationLog\";\r\nimport { PieChart } from \"../../Chart/PieChart\";\r\n\r\ninterface Props {\r\n  data: ReallocationLog;\r\n}\r\n\r\nconst Container = styled.div`\r\n  border: #d9d9d9 1px solid;\r\n  padding-top: 20px;\r\n  margin: 0px;\r\n  border-radius: 5px;\r\n  background-color: #fafafa;\r\n  text-align: center;\r\n`;\r\n\r\nconst ChartContainer = styled.div`\r\n  //margin: 20px;\r\n`;\r\nconst { DataView } = DataSet;\r\n\r\nexport class CompareChart extends React.Component<Props, {}> {\r\n\r\n  judgeIsNone = (data) => {\r\n    if (data.perOfStock  || data.perOfBond || data.perOfProduct ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  render() {\r\n\r\n    let lastData = [];\r\n    let lastDv = new DataView();\r\n    let currentData = [];\r\n    let currentDv = new DataView();\r\n\r\n    if (this.judgeIsNone(this.props.data[0])) {\r\n      lastData = [\r\n      {\r\n        item: \"策略\",\r\n        percentage: this.props.data[0].perOfStock,\r\n      },\r\n      {\r\n        item: \"债券\",\r\n        percentage: this.props.data[0].perOfBond,\r\n      },\r\n      {\r\n        item: \"商品市场\",\r\n        percentage: this.props.data[0].perOfProduct,\r\n      },\r\n    ];\r\n      lastDv.source(lastData).transform(\r\n      {\r\n        type: \"percent\",\r\n        field: \"percentage\",\r\n        dimension: \"item\",\r\n        as: \"percent\",\r\n      },\r\n    );\r\n    } else {\r\n      lastDv = null;\r\n    }\r\n\r\n    if (this.judgeIsNone(this.props.data[1])) {\r\n      currentData = [\r\n      {\r\n        item: \"股票\",\r\n        percentage: this.props.data[1].perOfStock,\r\n      },\r\n      {\r\n        item: \"债券\",\r\n        percentage: this.props.data[1].perOfBond,\r\n      },\r\n      {\r\n        item: \"商品市场\",\r\n        percentage: this.props.data[1].perOfProduct,\r\n      },\r\n    ];\r\n\r\n      currentDv.source(currentData).transform(\r\n      {\r\n        type: \"percent\",\r\n        field: \"percentage\",\r\n        dimension: \"item\",\r\n        as: \"percent\",\r\n      },\r\n    );\r\n    } else {\r\n      currentDv = null;\r\n    }\r\n\r\n    const cols = {\r\n      percentage: {\r\n        formatter: (val) => {\r\n          val = val.toFixed(2) + \"%\";\r\n          return val;\r\n        },\r\n      },\r\n    };\r\n\r\n    return (\r\n      <Container>\r\n        <p style={{fontSize: \"20px\"}}>上次配比</p>\r\n        <ChartContainer>\r\n          <PieChart dataView={lastDv} cols={cols}/>\r\n        </ChartContainer>\r\n\r\n        <p style={{fontSize: \"40px\", marginBottom: \"20px\"}}>⬇︎</p>\r\n        <p style={{fontSize: \"20px\"}}>本次配比</p>\r\n\r\n        <ChartContainer>\r\n          <PieChart dataView={currentDv} cols={cols}/>\r\n        </ChartContainer>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\n"]}]}
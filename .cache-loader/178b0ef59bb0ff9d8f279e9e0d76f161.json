{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/interaction/component/range.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/interaction/component/range.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var Util = require('../../util');\nvar G = require('../../renderer');\nvar Group = G.Group;\nvar DomUtil = Util.DomUtil;\nvar OFFSET = 5;\nvar Range = function Range(cfg) {\n    Range.superclass.constructor.call(this, cfg);\n};\nUtil.extend(Range, Group);\nUtil.augment(Range, {\n    getDefaultCfg: function getDefaultCfg() {\n        return {\n            range: null,\n            middleAttr: null,\n            backgroundElement: null,\n            minHandleElement: null,\n            maxHandleElement: null,\n            middleHandleElement: null,\n            currentTarget: null,\n            layout: 'vertical',\n            width: null,\n            height: null,\n            pageX: null,\n            pageY: null\n        };\n    },\n    _initHandle: function _initHandle(type) {\n        var self = this;\n        var handle = self.addGroup();\n        var layout = self.get('layout');\n        var handleStyle = self.get('handleStyle');\n        var img = handleStyle.img;\n        var iconWidth = handleStyle.width;\n        var iconHeight = handleStyle.height;\n        var text;\n        var handleIcon;\n        var triggerCursor;\n        if (layout === 'horizontal') {\n            var _iconWidth = handleStyle.width;\n            triggerCursor = 'ew-resize';\n            handleIcon = handle.addShape('Image', {\n                attrs: {\n                    x: -_iconWidth / 2,\n                    y: 0,\n                    width: _iconWidth,\n                    height: iconHeight,\n                    img: img,\n                    cursor: triggerCursor\n                }\n            });\n            text = handle.addShape('Text', {\n                attrs: Util.mix({\n                    x: type === 'min' ? -(_iconWidth / 2 + OFFSET) : _iconWidth / 2 + OFFSET,\n                    y: iconHeight / 2,\n                    textAlign: type === 'min' ? 'end' : 'start',\n                    textBaseline: 'middle',\n                    text: type === 'min' ? this.get('minText') : this.get('maxText'),\n                    cursor: triggerCursor\n                }, this.get('textStyle'))\n            });\n        }\n        else {\n            triggerCursor = 'ns-resize';\n            handleIcon = handle.addShape('Image', {\n                attrs: {\n                    x: 0,\n                    y: -iconHeight / 2,\n                    width: iconWidth,\n                    height: iconHeight,\n                    img: img,\n                    cursor: triggerCursor\n                }\n            });\n            text = handle.addShape('Text', {\n                attrs: Util.mix({\n                    x: iconWidth / 2,\n                    y: type === 'min' ? iconHeight / 2 + OFFSET : -(iconHeight / 2 + OFFSET),\n                    textAlign: 'center',\n                    textBaseline: 'middle',\n                    text: type === 'min' ? this.get('minText') : this.get('maxText'),\n                    cursor: triggerCursor\n                }, this.get('textStyle'))\n            });\n        }\n        this.set(type + 'TextElement', text);\n        this.set(type + 'IconElement', handleIcon);\n        return handle;\n    },\n    _initSliderBackground: function _initSliderBackground() {\n        var backgroundElement = this.addGroup();\n        backgroundElement.initTransform();\n        backgroundElement.translate(0, 0);\n        backgroundElement.addShape('Rect', {\n            attrs: Util.mix({\n                x: 0,\n                y: 0,\n                width: this.get('width'),\n                height: this.get('height')\n            }, this.get('backgroundStyle'))\n        });\n        return backgroundElement;\n    },\n    _beforeRenderUI: function _beforeRenderUI() {\n        var backgroundElement = this._initSliderBackground();\n        var minHandleElement = this._initHandle('min');\n        var maxHandleElement = this._initHandle('max');\n        var middleHandleElement = this.addShape('rect', {\n            attrs: this.get('middleAttr')\n        });\n        this.set('middleHandleElement', middleHandleElement);\n        this.set('minHandleElement', minHandleElement);\n        this.set('maxHandleElement', maxHandleElement);\n        this.set('backgroundElement', backgroundElement);\n        backgroundElement.set('zIndex', 0);\n        middleHandleElement.set('zIndex', 1);\n        minHandleElement.set('zIndex', 2);\n        maxHandleElement.set('zIndex', 2);\n        middleHandleElement.attr('cursor', 'move');\n        this.sort();\n    },\n    _renderUI: function _renderUI() {\n        if (this.get('layout') === 'horizontal') {\n            this._renderHorizontal();\n        }\n        else {\n            this._renderVertical();\n        }\n    },\n    _transform: function _transform(layout) {\n        var range = this.get('range');\n        var minRatio = range[0] / 100;\n        var maxRatio = range[1] / 100;\n        var width = this.get('width');\n        var height = this.get('height');\n        var minHandleElement = this.get('minHandleElement');\n        var maxHandleElement = this.get('maxHandleElement');\n        var middleHandleElement = this.get('middleHandleElement');\n        if (minHandleElement.resetMatrix) {\n            minHandleElement.resetMatrix();\n            maxHandleElement.resetMatrix();\n        }\n        else {\n            minHandleElement.initTransform();\n            maxHandleElement.initTransform();\n        }\n        if (layout === 'horizontal') {\n            middleHandleElement.attr({\n                x: width * minRatio,\n                y: 0,\n                width: (maxRatio - minRatio) * width,\n                height: height\n            });\n            minHandleElement.translate(minRatio * width, 0);\n            maxHandleElement.translate(maxRatio * width, 0);\n        }\n        else {\n            middleHandleElement.attr({\n                x: 0,\n                y: height * (1 - maxRatio),\n                width: width,\n                height: (maxRatio - minRatio) * height\n            });\n            minHandleElement.translate(0, (1 - minRatio) * height);\n            maxHandleElement.translate(0, (1 - maxRatio) * height);\n        }\n    },\n    _renderHorizontal: function _renderHorizontal() {\n        this._transform('horizontal');\n    },\n    _renderVertical: function _renderVertical() {\n        this._transform('vertical');\n    },\n    _bindUI: function _bindUI() {\n        this.on('mousedown', Util.wrapBehavior(this, '_onMouseDown'));\n    },\n    _isElement: function _isElement(target, name) {\n        var element = this.get(name);\n        if (target === element) {\n            return true;\n        }\n        if (element.isGroup) {\n            var elementChildren = element.get('children');\n            return elementChildren.indexOf(target) > -1;\n        }\n        return false;\n    },\n    _getRange: function _getRange(diff, range) {\n        var rst = diff + range;\n        rst = rst > 100 ? 100 : rst;\n        rst = rst < 0 ? 0 : rst;\n        return rst;\n    },\n    _limitRange: function _limitRange(diff, limit, range) {\n        range[0] = this._getRange(diff, range[0]);\n        range[1] = range[0] + limit;\n        if (range[1] > 100) {\n            range[1] = 100;\n            range[0] = range[1] - limit;\n        }\n    },\n    _updateStatus: function _updateStatus(dim, ev) {\n        var totalLength = dim === 'x' ? this.get('width') : this.get('height');\n        dim = Util.upperFirst(dim);\n        var range = this.get('range');\n        var page = this.get('page' + dim);\n        var currentTarget = this.get('currentTarget');\n        var rangeStash = this.get('rangeStash');\n        var layout = this.get('layout');\n        var sign = layout === 'vertical' ? -1 : 1;\n        var currentPage = ev['page' + dim];\n        var diffPage = currentPage - page;\n        var diffRange = diffPage / totalLength * 100 * sign;\n        var diffStashRange;\n        var minRange = this.get('minRange');\n        var maxRange = this.get('maxRange');\n        if (range[1] <= range[0]) {\n            if (this._isElement(currentTarget, 'minHandleElement') || this._isElement(currentTarget, 'maxHandleElement')) {\n                range[0] = this._getRange(diffRange, range[0]);\n                range[1] = this._getRange(diffRange, range[0]);\n            }\n        }\n        else {\n            if (this._isElement(currentTarget, 'minHandleElement')) {\n                range[0] = this._getRange(diffRange, range[0]);\n                if (minRange) {\n                    if (range[1] - range[0] <= minRange) {\n                        this._limitRange(diffRange, minRange, range);\n                    }\n                }\n                if (maxRange) {\n                    if (range[1] - range[0] >= maxRange) {\n                        this._limitRange(diffRange, maxRange, range);\n                    }\n                }\n            }\n            if (this._isElement(currentTarget, 'maxHandleElement')) {\n                range[1] = this._getRange(diffRange, range[1]);\n                if (minRange) {\n                    if (range[1] - range[0] <= minRange) {\n                        this._limitRange(diffRange, minRange, range);\n                    }\n                }\n                if (maxRange) {\n                    if (range[1] - range[0] >= maxRange) {\n                        this._limitRange(diffRange, maxRange, range);\n                    }\n                }\n            }\n        }\n        if (this._isElement(currentTarget, 'middleHandleElement')) {\n            diffStashRange = rangeStash[1] - rangeStash[0];\n            this._limitRange(diffRange, diffStashRange, range);\n        }\n        this.emit('sliderchange', {\n            range: range\n        });\n        this.set('page' + dim, currentPage);\n        this._renderUI();\n        this.get('canvas').draw();\n        return;\n    },\n    _onMouseDown: function _onMouseDown(ev) {\n        var currentTarget = ev.currentTarget;\n        var originEvent = ev.event;\n        var range = this.get('range');\n        originEvent.stopPropagation();\n        originEvent.preventDefault();\n        this.set('pageX', originEvent.pageX);\n        this.set('pageY', originEvent.pageY);\n        this.set('currentTarget', currentTarget);\n        this.set('rangeStash', [range[0], range[1]]);\n        this._bindCanvasEvents();\n    },\n    _bindCanvasEvents: function _bindCanvasEvents() {\n        var containerDOM = this.get('canvas').get('containerDOM');\n        this.onMouseMoveListener = DomUtil.addEventListener(containerDOM, 'mousemove', Util.wrapBehavior(this, '_onCanvasMouseMove'));\n        this.onMouseUpListener = DomUtil.addEventListener(containerDOM, 'mouseup', Util.wrapBehavior(this, '_onCanvasMouseUp'));\n        this.onMouseLeaveListener = DomUtil.addEventListener(containerDOM, 'mouseleave', Util.wrapBehavior(this, '_onCanvasMouseUp'));\n    },\n    _onCanvasMouseMove: function _onCanvasMouseMove(ev) {\n        var layout = this.get('layout');\n        if (layout === 'horizontal') {\n            this._updateStatus('x', ev);\n        }\n        else {\n            this._updateStatus('y', ev);\n        }\n    },\n    _onCanvasMouseUp: function _onCanvasMouseUp() {\n        this._removeDocumentEvents();\n    },\n    _removeDocumentEvents: function _removeDocumentEvents() {\n        this.onMouseMoveListener.remove();\n        this.onMouseUpListener.remove();\n        this.onMouseLeaveListener.remove();\n    }\n});\nmodule.exports = Range;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/interaction/component/range.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/interaction/component/range.js"],"names":[],"mappings":"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","sourcesContent":["var Util = require('../../util');\n\nvar G = require('../../renderer');\n\nvar Group = G.Group;\nvar DomUtil = Util.DomUtil;\nvar OFFSET = 5;\n\nvar Range = function Range(cfg) {\n  Range.superclass.constructor.call(this, cfg);\n};\n\nUtil.extend(Range, Group);\nUtil.augment(Range, {\n  getDefaultCfg: function getDefaultCfg() {\n    return {\n      /**\n       * 范围\n       * @type {Array}\n       */\n      range: null,\n\n      /**\n       * 中滑块属性\n       * @type {ATTRS}\n       */\n      middleAttr: null,\n\n      /**\n       * 背景\n       * @type {G-Element}\n       */\n      backgroundElement: null,\n\n      /**\n       * 下滑块\n       * @type {G-Element}\n       */\n      minHandleElement: null,\n\n      /**\n       * 上滑块\n       * @type {G-Element}\n       */\n      maxHandleElement: null,\n\n      /**\n       * 中块\n       * @type {G-Element}\n       */\n      middleHandleElement: null,\n\n      /**\n       * 当前的激活的元素\n       * @type {G-Element}\n       */\n      currentTarget: null,\n\n      /**\n       * 布局方式： horizontal，vertical\n       * @type {String}\n       */\n      layout: 'vertical',\n\n      /**\n       * 宽\n       * @type {Number}\n       */\n      width: null,\n\n      /**\n       * 高\n       * @type {Number}\n       */\n      height: null,\n\n      /**\n       * 当前的PageX\n       * @type {Number}\n       */\n      pageX: null,\n\n      /**\n       * 当前的PageY\n       * @type {Number}\n       */\n      pageY: null\n    };\n  },\n  _initHandle: function _initHandle(type) {\n    var self = this;\n    var handle = self.addGroup();\n    var layout = self.get('layout');\n    var handleStyle = self.get('handleStyle');\n    var img = handleStyle.img;\n    var iconWidth = handleStyle.width;\n    var iconHeight = handleStyle.height;\n    var text;\n    var handleIcon;\n    var triggerCursor;\n\n    if (layout === 'horizontal') {\n      var _iconWidth = handleStyle.width;\n      triggerCursor = 'ew-resize';\n      handleIcon = handle.addShape('Image', {\n        attrs: {\n          x: -_iconWidth / 2,\n          y: 0,\n          width: _iconWidth,\n          height: iconHeight,\n          img: img,\n          cursor: triggerCursor\n        }\n      });\n      text = handle.addShape('Text', {\n        attrs: Util.mix({\n          x: type === 'min' ? -(_iconWidth / 2 + OFFSET) : _iconWidth / 2 + OFFSET,\n          y: iconHeight / 2,\n          textAlign: type === 'min' ? 'end' : 'start',\n          textBaseline: 'middle',\n          text: type === 'min' ? this.get('minText') : this.get('maxText'),\n          cursor: triggerCursor\n        }, this.get('textStyle'))\n      });\n    } else {\n      triggerCursor = 'ns-resize';\n      handleIcon = handle.addShape('Image', {\n        attrs: {\n          x: 0,\n          y: -iconHeight / 2,\n          width: iconWidth,\n          height: iconHeight,\n          img: img,\n          cursor: triggerCursor\n        }\n      });\n      text = handle.addShape('Text', {\n        attrs: Util.mix({\n          x: iconWidth / 2,\n          y: type === 'min' ? iconHeight / 2 + OFFSET : -(iconHeight / 2 + OFFSET),\n          textAlign: 'center',\n          textBaseline: 'middle',\n          text: type === 'min' ? this.get('minText') : this.get('maxText'),\n          cursor: triggerCursor\n        }, this.get('textStyle'))\n      });\n    }\n\n    this.set(type + 'TextElement', text);\n    this.set(type + 'IconElement', handleIcon);\n    return handle;\n  },\n  _initSliderBackground: function _initSliderBackground() {\n    var backgroundElement = this.addGroup();\n    backgroundElement.initTransform();\n    backgroundElement.translate(0, 0);\n    backgroundElement.addShape('Rect', {\n      attrs: Util.mix({\n        x: 0,\n        y: 0,\n        width: this.get('width'),\n        height: this.get('height')\n      }, this.get('backgroundStyle'))\n    });\n    return backgroundElement;\n  },\n  _beforeRenderUI: function _beforeRenderUI() {\n    var backgroundElement = this._initSliderBackground();\n\n    var minHandleElement = this._initHandle('min');\n\n    var maxHandleElement = this._initHandle('max');\n\n    var middleHandleElement = this.addShape('rect', {\n      attrs: this.get('middleAttr')\n    });\n    this.set('middleHandleElement', middleHandleElement);\n    this.set('minHandleElement', minHandleElement);\n    this.set('maxHandleElement', maxHandleElement);\n    this.set('backgroundElement', backgroundElement);\n    backgroundElement.set('zIndex', 0);\n    middleHandleElement.set('zIndex', 1);\n    minHandleElement.set('zIndex', 2);\n    maxHandleElement.set('zIndex', 2);\n    middleHandleElement.attr('cursor', 'move');\n    this.sort();\n  },\n  _renderUI: function _renderUI() {\n    if (this.get('layout') === 'horizontal') {\n      this._renderHorizontal();\n    } else {\n      this._renderVertical();\n    }\n  },\n  _transform: function _transform(layout) {\n    var range = this.get('range');\n    var minRatio = range[0] / 100;\n    var maxRatio = range[1] / 100;\n    var width = this.get('width');\n    var height = this.get('height');\n    var minHandleElement = this.get('minHandleElement');\n    var maxHandleElement = this.get('maxHandleElement');\n    var middleHandleElement = this.get('middleHandleElement');\n\n    if (minHandleElement.resetMatrix) {\n      minHandleElement.resetMatrix();\n      maxHandleElement.resetMatrix();\n    } else {\n      minHandleElement.initTransform();\n      maxHandleElement.initTransform();\n    }\n\n    if (layout === 'horizontal') {\n      middleHandleElement.attr({\n        x: width * minRatio,\n        y: 0,\n        width: (maxRatio - minRatio) * width,\n        height: height\n      });\n      minHandleElement.translate(minRatio * width, 0);\n      maxHandleElement.translate(maxRatio * width, 0);\n    } else {\n      middleHandleElement.attr({\n        x: 0,\n        y: height * (1 - maxRatio),\n        width: width,\n        height: (maxRatio - minRatio) * height\n      });\n      minHandleElement.translate(0, (1 - minRatio) * height);\n      maxHandleElement.translate(0, (1 - maxRatio) * height);\n    }\n  },\n  _renderHorizontal: function _renderHorizontal() {\n    this._transform('horizontal');\n  },\n  _renderVertical: function _renderVertical() {\n    this._transform('vertical');\n  },\n  _bindUI: function _bindUI() {\n    this.on('mousedown', Util.wrapBehavior(this, '_onMouseDown'));\n  },\n  _isElement: function _isElement(target, name) {\n    // 判断是否是该元素\n    var element = this.get(name);\n\n    if (target === element) {\n      return true;\n    }\n\n    if (element.isGroup) {\n      var elementChildren = element.get('children');\n      return elementChildren.indexOf(target) > -1;\n    }\n\n    return false;\n  },\n  _getRange: function _getRange(diff, range) {\n    var rst = diff + range;\n    rst = rst > 100 ? 100 : rst;\n    rst = rst < 0 ? 0 : rst;\n    return rst;\n  },\n  _limitRange: function _limitRange(diff, limit, range) {\n    range[0] = this._getRange(diff, range[0]);\n    range[1] = range[0] + limit;\n\n    if (range[1] > 100) {\n      range[1] = 100;\n      range[0] = range[1] - limit;\n    }\n  },\n  _updateStatus: function _updateStatus(dim, ev) {\n    var totalLength = dim === 'x' ? this.get('width') : this.get('height');\n    dim = Util.upperFirst(dim);\n    var range = this.get('range');\n    var page = this.get('page' + dim);\n    var currentTarget = this.get('currentTarget');\n    var rangeStash = this.get('rangeStash');\n    var layout = this.get('layout');\n    var sign = layout === 'vertical' ? -1 : 1;\n    var currentPage = ev['page' + dim];\n    var diffPage = currentPage - page;\n    var diffRange = diffPage / totalLength * 100 * sign;\n    var diffStashRange;\n    var minRange = this.get('minRange');\n    var maxRange = this.get('maxRange');\n\n    if (range[1] <= range[0]) {\n      if (this._isElement(currentTarget, 'minHandleElement') || this._isElement(currentTarget, 'maxHandleElement')) {\n        range[0] = this._getRange(diffRange, range[0]);\n        range[1] = this._getRange(diffRange, range[0]);\n      }\n    } else {\n      if (this._isElement(currentTarget, 'minHandleElement')) {\n        range[0] = this._getRange(diffRange, range[0]);\n\n        if (minRange) {\n          // 设置了最小范围\n          if (range[1] - range[0] <= minRange) {\n            this._limitRange(diffRange, minRange, range);\n          }\n        }\n\n        if (maxRange) {\n          // 设置了最大范围\n          if (range[1] - range[0] >= maxRange) {\n            this._limitRange(diffRange, maxRange, range);\n          }\n        }\n      }\n\n      if (this._isElement(currentTarget, 'maxHandleElement')) {\n        range[1] = this._getRange(diffRange, range[1]);\n\n        if (minRange) {\n          // 设置了最小范围\n          if (range[1] - range[0] <= minRange) {\n            this._limitRange(diffRange, minRange, range);\n          }\n        }\n\n        if (maxRange) {\n          // 设置了最大范围\n          if (range[1] - range[0] >= maxRange) {\n            this._limitRange(diffRange, maxRange, range);\n          }\n        }\n      }\n    }\n\n    if (this._isElement(currentTarget, 'middleHandleElement')) {\n      diffStashRange = rangeStash[1] - rangeStash[0];\n\n      this._limitRange(diffRange, diffStashRange, range);\n    }\n\n    this.emit('sliderchange', {\n      range: range\n    });\n    this.set('page' + dim, currentPage);\n\n    this._renderUI();\n\n    this.get('canvas').draw(); // need delete\n\n    return;\n  },\n  _onMouseDown: function _onMouseDown(ev) {\n    var currentTarget = ev.currentTarget;\n    var originEvent = ev.event;\n    var range = this.get('range');\n    originEvent.stopPropagation();\n    originEvent.preventDefault();\n    this.set('pageX', originEvent.pageX);\n    this.set('pageY', originEvent.pageY);\n    this.set('currentTarget', currentTarget);\n    this.set('rangeStash', [range[0], range[1]]);\n\n    this._bindCanvasEvents();\n  },\n  _bindCanvasEvents: function _bindCanvasEvents() {\n    var containerDOM = this.get('canvas').get('containerDOM');\n    this.onMouseMoveListener = DomUtil.addEventListener(containerDOM, 'mousemove', Util.wrapBehavior(this, '_onCanvasMouseMove'));\n    this.onMouseUpListener = DomUtil.addEventListener(containerDOM, 'mouseup', Util.wrapBehavior(this, '_onCanvasMouseUp')); // @2018-06-06 by blue.lb 添加mouseleave事件监听，让用户在操作出滑块区域后有一个“正常”的效果，可以正常重新触发滑块的操作流程\n\n    this.onMouseLeaveListener = DomUtil.addEventListener(containerDOM, 'mouseleave', Util.wrapBehavior(this, '_onCanvasMouseUp'));\n  },\n  _onCanvasMouseMove: function _onCanvasMouseMove(ev) {\n    var layout = this.get('layout');\n\n    if (layout === 'horizontal') {\n      this._updateStatus('x', ev);\n    } else {\n      this._updateStatus('y', ev);\n    }\n  },\n  _onCanvasMouseUp: function _onCanvasMouseUp() {\n    this._removeDocumentEvents();\n  },\n  _removeDocumentEvents: function _removeDocumentEvents() {\n    this.onMouseMoveListener.remove();\n    this.onMouseUpListener.remove();\n    this.onMouseLeaveListener.remove();\n  }\n});\nmodule.exports = Range;"]}]}
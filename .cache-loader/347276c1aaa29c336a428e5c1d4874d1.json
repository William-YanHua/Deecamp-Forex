{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/component/lib/axis/grid.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/component/lib/axis/grid.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var _require = require('@antv/g/lib'), Group = _require.Group;\nvar Util = require('../util');\nvar Grid = function Grid(cfg) {\n    Grid.superclass.constructor.call(this, cfg);\n};\nUtil.extend(Grid, Group);\nUtil.augment(Grid, {\n    getDefaultCfg: function getDefaultCfg() {\n        return {\n            zIndex: 1,\n            type: 'line',\n            lineStyle: null,\n            items: null,\n            alternateColor: null,\n            matrix: null,\n            hideFirstLine: false,\n            hideLastLine: false,\n            hightLightZero: false,\n            zeroLineStyle: {\n                stroke: '#595959',\n                lineDash: [0, 0]\n            }\n        };\n    },\n    _renderUI: function _renderUI() {\n        Grid.superclass._renderUI.call(this);\n        this._drawLines();\n    },\n    _drawLines: function _drawLines() {\n        var self = this;\n        var lineStyle = self.get('lineStyle');\n        var items = self.get('items');\n        if (items && items.length) {\n            self._precessItems(items);\n            self._drawGridLines(items, lineStyle);\n        }\n    },\n    _precessItems: function _precessItems(items) {\n        var self = this;\n        var preItem;\n        Util.each(items, function (item, index) {\n            if (preItem && self.get('alternateColor')) {\n                self._drawAlternativeBg(item, preItem, index);\n            }\n            preItem = item;\n        });\n    },\n    _drawGridLines: function _drawGridLines(items, lineStyle) {\n        var self = this;\n        var type = this.get('type');\n        var gridLine;\n        var path;\n        var cfg;\n        var points;\n        var itemsLength = items.length;\n        if (type === 'line' || type === 'polygon') {\n            Util.each(items, function (item, idx) {\n                if (self.get('hideFirstLine') && idx === 0) {\n                    return;\n                }\n                if (self.get('hideLastLine') && idx === itemsLength - 1) {\n                    return;\n                }\n                points = item.points;\n                path = [];\n                if (type === 'line') {\n                    path.push(['M', points[0].x, points[0].y]);\n                    path.push(['L', points[points.length - 1].x, points[points.length - 1].y]);\n                }\n                else {\n                    Util.each(points, function (point, index) {\n                        if (index === 0) {\n                            path.push(['M', point.x, point.y]);\n                        }\n                        else {\n                            path.push(['L', point.x, point.y]);\n                        }\n                    });\n                }\n                if (self._drawZeroLine(type, idx)) {\n                    cfg = Util.mix({}, self.get('zeroLineStyle'), {\n                        path: path\n                    });\n                }\n                else {\n                    cfg = Util.mix({}, lineStyle, {\n                        path: path\n                    });\n                }\n                gridLine = self.addShape('path', {\n                    attrs: cfg\n                });\n                gridLine.name = 'axis-grid';\n                gridLine._id = item._id;\n                gridLine.set('coord', self.get('coord'));\n                self.get('appendInfo') && gridLine.setSilent('appendInfo', self.get('appendInfo'));\n            });\n        }\n        else {\n            Util.each(items, function (item, idx) {\n                if (self.get('hideFirstLine') && idx === 0) {\n                    return;\n                }\n                if (self.get('hideLastLine') && idx === itemsLength - 1) {\n                    return;\n                }\n                points = item.points;\n                path = [];\n                Util.each(points, function (point, index) {\n                    var radius = point.radius;\n                    if (index === 0) {\n                        path.push(['M', point.x, point.y]);\n                    }\n                    else {\n                        path.push(['A', radius, radius, 0, 0, point.flag, point.x, point.y]);\n                    }\n                });\n                cfg = Util.mix({}, lineStyle, {\n                    path: path\n                });\n                gridLine = self.addShape('path', {\n                    attrs: cfg\n                });\n                gridLine.name = 'axis-grid';\n                gridLine._id = item._id;\n                gridLine.set('coord', self.get('coord'));\n                self.get('appendInfo') && gridLine.setSilent('appendInfo', self.get('appendInfo'));\n            });\n        }\n    },\n    _drawZeroLine: function _drawZeroLine(type, idx) {\n        var self = this;\n        var tickValues = self.get('tickValues');\n        if (type === 'line' && tickValues) {\n            if (tickValues[idx] === 0 && self.get('hightLightZero')) {\n                return true;\n            }\n        }\n        return false;\n    },\n    _drawAlternativeBg: function _drawAlternativeBg(item, preItem, index) {\n        var self = this;\n        var alternateColor = self.get('alternateColor');\n        var attrs;\n        var oddColor;\n        var evenColor;\n        if (Util.isString(alternateColor)) {\n            oddColor = alternateColor;\n        }\n        else if (Util.isArray(alternateColor)) {\n            oddColor = alternateColor[0];\n            evenColor = alternateColor[1];\n        }\n        if (index % 2 === 0) {\n            if (evenColor) {\n                attrs = self._getBackItem(preItem.points, item.points, evenColor);\n            }\n        }\n        else if (oddColor) {\n            attrs = self._getBackItem(preItem.points, item.points, oddColor);\n        }\n        var shape = self.addShape('Path', {\n            attrs: attrs\n        });\n        shape.name = 'axis-grid-rect';\n        shape._id = item._id && item._id.replace('grid', 'grid-rect');\n        shape.set('coord', self.get('coord'));\n        self.get('appendInfo') && shape.setSilent('appendInfo', self.get('appendInfo'));\n    },\n    _getBackItem: function _getBackItem(start, end, bgColor) {\n        var path = [];\n        var type = this.get('type');\n        if (type === 'line') {\n            path.push(['M', start[0].x, start[0].y]);\n            path.push(['L', start[start.length - 1].x, start[start.length - 1].y]);\n            path.push(['L', end[end.length - 1].x, end[end.length - 1].y]);\n            path.push(['L', end[0].x, end[0].y]);\n            path.push(['Z']);\n        }\n        else if (type === 'polygon') {\n            Util.each(start, function (subItem, index) {\n                if (index === 0) {\n                    path.push(['M', subItem.x, subItem.y]);\n                }\n                else {\n                    path.push(['L', subItem.x, subItem.y]);\n                }\n            });\n            for (var i = end.length - 1; i >= 0; i--) {\n                path.push(['L', end[i].x, end[i].y]);\n            }\n            path.push(['Z']);\n        }\n        else {\n            var flag = start[0].flag;\n            Util.each(start, function (subItem, index) {\n                var radius = subItem.radius;\n                if (index === 0) {\n                    path.push(['M', subItem.x, subItem.y]);\n                }\n                else {\n                    path.push(['A', radius, radius, 0, 0, subItem.flag, subItem.x, subItem.y]);\n                }\n            });\n            for (var j = end.length - 1; j >= 0; j--) {\n                var endSubItem = end[j];\n                var endRadius = endSubItem.radius;\n                if (j === end.length - 1) {\n                    path.push(['M', endSubItem.x, endSubItem.y]);\n                }\n                else {\n                    path.push(['A', endRadius, endRadius, 0, 0, flag === 1 ? 0 : 1, endSubItem.x, endSubItem.y]);\n                }\n            }\n        }\n        return {\n            fill: bgColor,\n            path: path\n        };\n    }\n});\nmodule.exports = Grid;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/component/lib/axis/grid.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/component/lib/axis/grid.js"],"names":[],"mappings":"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","sourcesContent":["var _require = require('@antv/g/lib'),\n    Group = _require.Group;\n\nvar Util = require('../util');\n\nvar Grid = function Grid(cfg) {\n  Grid.superclass.constructor.call(this, cfg);\n};\n\nUtil.extend(Grid, Group);\nUtil.augment(Grid, {\n  getDefaultCfg: function getDefaultCfg() {\n    // const cfg = super.getDefaultCfg();\n    return {\n      zIndex: 1,\n\n      /**\n       * 栅格线的类型\n       *  - line 不封闭的线\n       *  - polygon 封闭的多边形\n       * @type {String}\n       */\n      type: 'line',\n\n      /**\n       * 线的样式配置\n       * @type {Object}\n       */\n      lineStyle: null,\n\n      /**\n       * 线集合的配置\n       * @type {Array}\n       */\n      items: null,\n\n      /**\n       * 为网格设置交替的背景色，指定一个值则先渲染奇数层，两个值则交替渲染\n       * @type {String | Array}\n       */\n      alternateColor: null,\n      matrix: null,\n\n      /**\n       * 是否隐藏第一条网格线，默认为 false\n       * @type {Boolean}\n       */\n      hideFirstLine: false,\n\n      /**\n       * 是否隐藏最后一条网格线，默认为 false\n       * @type {Boolean}\n       */\n      hideLastLine: false,\n\n      /**\n       * 0基线不在轴线上时，是否强调0基线\n       * @type {Boolean}\n       */\n      hightLightZero: false,\n\n      /**\n       * 0基线样式\n       * @type {Object}\n       */\n      zeroLineStyle: {\n        stroke: '#595959',\n        lineDash: [0, 0]\n      }\n    };\n  },\n  _renderUI: function _renderUI() {\n    Grid.superclass._renderUI.call(this);\n\n    this._drawLines();\n  },\n  _drawLines: function _drawLines() {\n    var self = this;\n    var lineStyle = self.get('lineStyle');\n    var items = self.get('items');\n\n    if (items && items.length) {\n      self._precessItems(items);\n\n      self._drawGridLines(items, lineStyle);\n    }\n  },\n  _precessItems: function _precessItems(items) {\n    var self = this;\n    var preItem;\n    Util.each(items, function (item, index) {\n      if (preItem && self.get('alternateColor')) {\n        self._drawAlternativeBg(item, preItem, index);\n      }\n\n      preItem = item;\n    });\n  },\n  _drawGridLines: function _drawGridLines(items, lineStyle) {\n    var self = this;\n    var type = this.get('type');\n    var gridLine;\n    var path;\n    var cfg;\n    var points;\n    var itemsLength = items.length;\n\n    if (type === 'line' || type === 'polygon') {\n      Util.each(items, function (item, idx) {\n        if (self.get('hideFirstLine') && idx === 0) {\n          // 不展示第一条网格线\n          return;\n        }\n\n        if (self.get('hideLastLine') && idx === itemsLength - 1) {\n          // 不展示最后一条网格线\n          return;\n        }\n\n        points = item.points;\n        path = [];\n\n        if (type === 'line') {\n          path.push(['M', points[0].x, points[0].y]);\n          path.push(['L', points[points.length - 1].x, points[points.length - 1].y]);\n        } else {\n          Util.each(points, function (point, index) {\n            if (index === 0) {\n              path.push(['M', point.x, point.y]);\n            } else {\n              path.push(['L', point.x, point.y]);\n            }\n          });\n        }\n\n        if (self._drawZeroLine(type, idx)) {\n          cfg = Util.mix({}, self.get('zeroLineStyle'), {\n            path: path\n          });\n        } else {\n          cfg = Util.mix({}, lineStyle, {\n            path: path\n          });\n        }\n\n        gridLine = self.addShape('path', {\n          attrs: cfg\n        });\n        gridLine.name = 'axis-grid';\n        gridLine._id = item._id;\n        gridLine.set('coord', self.get('coord'));\n        self.get('appendInfo') && gridLine.setSilent('appendInfo', self.get('appendInfo'));\n      });\n    } else {\n      Util.each(items, function (item, idx) {\n        if (self.get('hideFirstLine') && idx === 0) {\n          // 不展示第一条网格线\n          return;\n        }\n\n        if (self.get('hideLastLine') && idx === itemsLength - 1) {\n          // 不展示最后一条网格线\n          return;\n        }\n\n        points = item.points;\n        path = [];\n        Util.each(points, function (point, index) {\n          var radius = point.radius;\n\n          if (index === 0) {\n            path.push(['M', point.x, point.y]);\n          } else {\n            path.push(['A', radius, radius, 0, 0, point.flag, point.x, point.y]);\n          }\n        });\n        cfg = Util.mix({}, lineStyle, {\n          path: path\n        });\n        gridLine = self.addShape('path', {\n          attrs: cfg\n        });\n        gridLine.name = 'axis-grid';\n        gridLine._id = item._id;\n        gridLine.set('coord', self.get('coord'));\n        self.get('appendInfo') && gridLine.setSilent('appendInfo', self.get('appendInfo'));\n      });\n    }\n  },\n  _drawZeroLine: function _drawZeroLine(type, idx) {\n    var self = this;\n    var tickValues = self.get('tickValues');\n\n    if (type === 'line' && tickValues) {\n      if (tickValues[idx] === 0 && self.get('hightLightZero')) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n  _drawAlternativeBg: function _drawAlternativeBg(item, preItem, index) {\n    var self = this;\n    var alternateColor = self.get('alternateColor');\n    var attrs;\n    var oddColor;\n    var evenColor;\n\n    if (Util.isString(alternateColor)) {\n      oddColor = alternateColor;\n    } else if (Util.isArray(alternateColor)) {\n      oddColor = alternateColor[0];\n      evenColor = alternateColor[1];\n    }\n\n    if (index % 2 === 0) {\n      if (evenColor) {\n        attrs = self._getBackItem(preItem.points, item.points, evenColor);\n      }\n    } else if (oddColor) {\n      attrs = self._getBackItem(preItem.points, item.points, oddColor);\n    }\n\n    var shape = self.addShape('Path', {\n      attrs: attrs\n    });\n    shape.name = 'axis-grid-rect';\n    shape._id = item._id && item._id.replace('grid', 'grid-rect');\n    shape.set('coord', self.get('coord'));\n    self.get('appendInfo') && shape.setSilent('appendInfo', self.get('appendInfo'));\n  },\n  _getBackItem: function _getBackItem(start, end, bgColor) {\n    var path = [];\n    var type = this.get('type');\n\n    if (type === 'line') {\n      path.push(['M', start[0].x, start[0].y]);\n      path.push(['L', start[start.length - 1].x, start[start.length - 1].y]);\n      path.push(['L', end[end.length - 1].x, end[end.length - 1].y]);\n      path.push(['L', end[0].x, end[0].y]);\n      path.push(['Z']);\n    } else if (type === 'polygon') {\n      Util.each(start, function (subItem, index) {\n        if (index === 0) {\n          path.push(['M', subItem.x, subItem.y]);\n        } else {\n          path.push(['L', subItem.x, subItem.y]);\n        }\n      });\n\n      for (var i = end.length - 1; i >= 0; i--) {\n        path.push(['L', end[i].x, end[i].y]);\n      }\n\n      path.push(['Z']);\n    } else {\n      var flag = start[0].flag;\n      Util.each(start, function (subItem, index) {\n        var radius = subItem.radius;\n\n        if (index === 0) {\n          path.push(['M', subItem.x, subItem.y]);\n        } else {\n          path.push(['A', radius, radius, 0, 0, subItem.flag, subItem.x, subItem.y]);\n        }\n      });\n\n      for (var j = end.length - 1; j >= 0; j--) {\n        var endSubItem = end[j];\n        var endRadius = endSubItem.radius;\n\n        if (j === end.length - 1) {\n          path.push(['M', endSubItem.x, endSubItem.y]);\n        } else {\n          path.push(['A', endRadius, endRadius, 0, 0, flag === 1 ? 0 : 1, endSubItem.x, endSubItem.y]);\n        }\n      }\n    }\n\n    return {\n      fill: bgColor,\n      path: path\n    };\n  }\n});\nmodule.exports = Grid;"]}]}
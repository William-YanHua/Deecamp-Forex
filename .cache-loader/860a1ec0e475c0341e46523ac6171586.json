{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/facet/circle.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/facet/circle.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\nvar Base = require('./base');\nfunction getPoint(center, r, angle) {\n    return {\n        x: center.x + r * Math.cos(angle),\n        y: center.y + r * Math.sin(angle)\n    };\n}\nvar Circle = function (_Base) {\n    _inheritsLoose(Circle, _Base);\n    function Circle() {\n        return _Base.apply(this, arguments) || this;\n    }\n    var _proto = Circle.prototype;\n    _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Base.prototype.getDefaultCfg.call(this);\n        cfg.type = 'circle';\n        return cfg;\n    };\n    _proto.getRegion = function getRegion(count, index) {\n        var r = 1 / 2;\n        var avgAngle = Math.PI * 2 / count;\n        var angle = -1 * Math.PI / 2 + avgAngle * index;\n        var facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n        var center = {\n            x: 0.5,\n            y: 0.5\n        };\n        var middle = getPoint(center, r - facetR, angle);\n        var startAngle = Math.PI * 5 / 4;\n        var endAngle = Math.PI * 1 / 4;\n        return {\n            start: getPoint(middle, facetR, startAngle),\n            end: getPoint(middle, facetR, endAngle)\n        };\n    };\n    _proto.generateFacets = function generateFacets(data) {\n        var self = this;\n        var fields = self.fields;\n        var field = fields[0];\n        if (!field) {\n            throw 'Please specify for the field for facet!';\n        }\n        var values = self.getFieldValues(field, data);\n        var count = values.length;\n        var rst = [];\n        values.forEach(function (value, index) {\n            var conditions = [{\n                    field: field,\n                    value: value,\n                    values: values\n                }];\n            var filter = self.getFilter(conditions);\n            var subData = data.filter(filter);\n            var facet = {\n                type: self.type,\n                colValue: value,\n                colField: field,\n                colIndex: index,\n                cols: count,\n                rows: 1,\n                rowIndex: 0,\n                data: subData,\n                region: self.getRegion(count, index)\n            };\n            rst.push(facet);\n        });\n        return rst;\n    };\n    return Circle;\n}(Base);\nmodule.exports = Circle;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/facet/circle.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/facet/circle.js"],"names":[],"mappings":"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","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/**\n * @fileOverview circle facets\n * @author dxq613@gmail.com\n */\nvar Base = require('./base');\n\nfunction getPoint(center, r, angle) {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle)\n  };\n}\n\nvar Circle = /*#__PURE__*/function (_Base) {\n  _inheritsLoose(Circle, _Base);\n\n  function Circle() {\n    return _Base.apply(this, arguments) || this;\n  }\n\n  var _proto = Circle.prototype;\n\n  _proto.getDefaultCfg = function getDefaultCfg() {\n    var cfg = _Base.prototype.getDefaultCfg.call(this);\n\n    cfg.type = 'circle';\n    return cfg;\n  };\n\n  _proto.getRegion = function getRegion(count, index) {\n    var r = 1 / 2; // 画布半径\n\n    var avgAngle = Math.PI * 2 / count;\n    var angle = -1 * Math.PI / 2 + avgAngle * index; // 当前分面所在的弧度\n\n    var facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    var center = {\n      x: 0.5,\n      y: 0.5\n    }; // 画布圆心\n\n    var middle = getPoint(center, r - facetR, angle); // 分面的中心点\n\n    var startAngle = Math.PI * 5 / 4; // 右上角\n\n    var endAngle = Math.PI * 1 / 4; // 左下角\n\n    return {\n      start: getPoint(middle, facetR, startAngle),\n      end: getPoint(middle, facetR, endAngle)\n    };\n  };\n\n  _proto.generateFacets = function generateFacets(data) {\n    var self = this;\n    var fields = self.fields;\n    var field = fields[0];\n\n    if (!field) {\n      throw 'Please specify for the field for facet!';\n    }\n\n    var values = self.getFieldValues(field, data);\n    var count = values.length;\n    var rst = [];\n    values.forEach(function (value, index) {\n      var conditions = [{\n        field: field,\n        value: value,\n        values: values\n      }];\n      var filter = self.getFilter(conditions);\n      var subData = data.filter(filter);\n      var facet = {\n        type: self.type,\n        colValue: value,\n        colField: field,\n        colIndex: index,\n        cols: count,\n        rows: 1,\n        rowIndex: 0,\n        data: subData,\n        region: self.getRegion(count, index)\n      };\n      rst.push(facet);\n    });\n    return rst;\n  };\n\n  return Circle;\n}(Base);\n\nmodule.exports = Circle;"]}]}
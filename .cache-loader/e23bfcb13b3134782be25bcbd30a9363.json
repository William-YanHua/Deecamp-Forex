{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-select/es/DropdownMenu.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-select/es/DropdownMenu.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n        }\n    }\n} return target; }; return _extends.apply(this, arguments); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n} }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor)\n        descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n} }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps)\n    _defineProperties(Constructor.prototype, protoProps); if (staticProps)\n    _defineProperties(Constructor, staticProps); return Constructor; }\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n} return _assertThisInitialized(self); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _assertThisInitialized(self) { if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n} return self; }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n} subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass)\n    _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nimport scrollIntoView from 'dom-scroll-into-view';\nimport * as PropTypes from 'prop-types';\nimport raf from 'raf';\nimport Menu from 'rc-menu';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport * as React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { getSelectKeys, preventDefaultEvent, saveRef } from './util';\nvar DropdownMenu = function (_React$Component) {\n    _inherits(DropdownMenu, _React$Component);\n    function DropdownMenu(props) {\n        var _this;\n        _classCallCheck(this, DropdownMenu);\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(DropdownMenu).call(this, props));\n        _this.rafInstance = null;\n        _this.lastVisible = false;\n        _this.scrollActiveItemToView = function () {\n            var itemComponent = findDOMNode(_this.firstActiveItem);\n            var _this$props = _this.props, visible = _this$props.visible, firstActiveValue = _this$props.firstActiveValue;\n            var value = _this.props.value;\n            if (!itemComponent || !visible) {\n                return;\n            }\n            var scrollIntoViewOpts = {\n                onlyScrollIfNeeded: true\n            };\n            if ((!value || value.length === 0) && firstActiveValue) {\n                scrollIntoViewOpts.alignWithTop = true;\n            }\n            _this.rafInstance = raf(function () {\n                scrollIntoView(itemComponent, findDOMNode(_this.menuRef), scrollIntoViewOpts);\n            });\n        };\n        _this.renderMenu = function () {\n            var _this$props2 = _this.props, menuItems = _this$props2.menuItems, menuItemSelectedIcon = _this$props2.menuItemSelectedIcon, defaultActiveFirstOption = _this$props2.defaultActiveFirstOption, prefixCls = _this$props2.prefixCls, multiple = _this$props2.multiple, onMenuSelect = _this$props2.onMenuSelect, inputValue = _this$props2.inputValue, backfillValue = _this$props2.backfillValue, onMenuDeselect = _this$props2.onMenuDeselect, visible = _this$props2.visible;\n            var firstActiveValue = _this.props.firstActiveValue;\n            if (menuItems && menuItems.length) {\n                var menuProps = {};\n                if (multiple) {\n                    menuProps.onDeselect = onMenuDeselect;\n                    menuProps.onSelect = onMenuSelect;\n                }\n                else {\n                    menuProps.onClick = onMenuSelect;\n                }\n                var value = _this.props.value;\n                var selectedKeys = getSelectKeys(menuItems, value);\n                var activeKeyProps = {};\n                var defaultActiveFirst = defaultActiveFirstOption;\n                var clonedMenuItems = menuItems;\n                if (selectedKeys.length || firstActiveValue) {\n                    if (visible && !_this.lastVisible) {\n                        activeKeyProps.activeKey = selectedKeys[0] || firstActiveValue;\n                    }\n                    else if (!visible) {\n                        if (selectedKeys[0]) {\n                            defaultActiveFirst = false;\n                        }\n                        activeKeyProps.activeKey = undefined;\n                    }\n                    var foundFirst = false;\n                    var clone = function clone(item) {\n                        var key = item.key;\n                        if (!foundFirst && selectedKeys.indexOf(key) !== -1 || !foundFirst && !selectedKeys.length && firstActiveValue.indexOf(item.key) !== -1) {\n                            foundFirst = true;\n                            return React.cloneElement(item, {\n                                ref: function ref(_ref) {\n                                    _this.firstActiveItem = _ref;\n                                }\n                            });\n                        }\n                        return item;\n                    };\n                    clonedMenuItems = menuItems.map(function (item) {\n                        if (item.type.isMenuItemGroup) {\n                            var children = toArray(item.props.children).map(clone);\n                            return React.cloneElement(item, {}, children);\n                        }\n                        return clone(item);\n                    });\n                }\n                else {\n                    _this.firstActiveItem = null;\n                }\n                var lastValue = value && value[value.length - 1];\n                if (inputValue !== _this.lastInputValue && (!lastValue || lastValue !== backfillValue)) {\n                    activeKeyProps.activeKey = '';\n                }\n                return React.createElement(Menu, _extends({\n                    ref: _this.saveMenuRef,\n                    style: _this.props.dropdownMenuStyle,\n                    defaultActiveFirst: defaultActiveFirst,\n                    role: \"listbox\",\n                    itemIcon: multiple ? menuItemSelectedIcon : null\n                }, activeKeyProps, {\n                    multiple: multiple\n                }, menuProps, {\n                    selectedKeys: selectedKeys,\n                    prefixCls: \"\".concat(prefixCls, \"-menu\")\n                }), clonedMenuItems);\n            }\n            return null;\n        };\n        _this.lastInputValue = props.inputValue;\n        _this.saveMenuRef = saveRef(_assertThisInitialized(_this), 'menuRef');\n        return _this;\n    }\n    _createClass(DropdownMenu, [{\n            key: \"componentDidMount\",\n            value: function componentDidMount() {\n                this.scrollActiveItemToView();\n                this.lastVisible = this.props.visible;\n            }\n        }, {\n            key: \"shouldComponentUpdate\",\n            value: function shouldComponentUpdate(nextProps) {\n                if (!nextProps.visible) {\n                    this.lastVisible = false;\n                }\n                return this.props.visible && !nextProps.visible || nextProps.visible || nextProps.inputValue !== this.props.inputValue;\n            }\n        }, {\n            key: \"componentDidUpdate\",\n            value: function componentDidUpdate(prevProps) {\n                var props = this.props;\n                if (!prevProps.visible && props.visible) {\n                    this.scrollActiveItemToView();\n                }\n                this.lastVisible = props.visible;\n                this.lastInputValue = props.inputValue;\n            }\n        }, {\n            key: \"componentWillUnmount\",\n            value: function componentWillUnmount() {\n                if (this.rafInstance) {\n                    raf.cancel(this.rafInstance);\n                }\n            }\n        }, {\n            key: \"render\",\n            value: function render() {\n                var renderMenu = this.renderMenu();\n                return renderMenu ? React.createElement(\"div\", {\n                    style: {\n                        overflow: 'auto',\n                        transform: 'translateZ(0)'\n                    },\n                    id: this.props.ariaId,\n                    onFocus: this.props.onPopupFocus,\n                    onMouseDown: preventDefaultEvent,\n                    onScroll: this.props.onPopupScroll\n                }, renderMenu) : null;\n            }\n        }]);\n    return DropdownMenu;\n}(React.Component);\nexport { DropdownMenu as default };\nDropdownMenu.displayName = 'DropdownMenu';\nDropdownMenu.propTypes = {\n    ariaId: PropTypes.string,\n    defaultActiveFirstOption: PropTypes.bool,\n    value: PropTypes.any,\n    dropdownMenuStyle: PropTypes.object,\n    multiple: PropTypes.bool,\n    onPopupFocus: PropTypes.func,\n    onPopupScroll: PropTypes.func,\n    onMenuDeSelect: PropTypes.func,\n    onMenuSelect: PropTypes.func,\n    prefixCls: PropTypes.string,\n    menuItems: PropTypes.any,\n    inputValue: PropTypes.string,\n    visible: PropTypes.bool,\n    firstActiveValue: PropTypes.string,\n    menuItemSelectedIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node])\n};\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-select/es/DropdownMenu.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-select/es/DropdownMenu.js"],"names":[],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport scrollIntoView from 'dom-scroll-into-view';\nimport * as PropTypes from 'prop-types';\nimport raf from 'raf';\nimport Menu from 'rc-menu';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport * as React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { getSelectKeys, preventDefaultEvent, saveRef } from './util';\n\nvar DropdownMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DropdownMenu, _React$Component);\n\n  function DropdownMenu(props) {\n    var _this;\n\n    _classCallCheck(this, DropdownMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DropdownMenu).call(this, props));\n    _this.rafInstance = null;\n    _this.lastVisible = false;\n\n    _this.scrollActiveItemToView = function () {\n      // scroll into view\n      var itemComponent = findDOMNode(_this.firstActiveItem);\n      var _this$props = _this.props,\n          visible = _this$props.visible,\n          firstActiveValue = _this$props.firstActiveValue;\n      var value = _this.props.value;\n\n      if (!itemComponent || !visible) {\n        return;\n      }\n\n      var scrollIntoViewOpts = {\n        onlyScrollIfNeeded: true\n      };\n\n      if ((!value || value.length === 0) && firstActiveValue) {\n        scrollIntoViewOpts.alignWithTop = true;\n      } // Delay to scroll since current frame item position is not ready when pre view is by filter\n      // https://github.com/ant-design/ant-design/issues/11268#issuecomment-406634462\n\n\n      _this.rafInstance = raf(function () {\n        scrollIntoView(itemComponent, findDOMNode(_this.menuRef), scrollIntoViewOpts);\n      });\n    };\n\n    _this.renderMenu = function () {\n      var _this$props2 = _this.props,\n          menuItems = _this$props2.menuItems,\n          menuItemSelectedIcon = _this$props2.menuItemSelectedIcon,\n          defaultActiveFirstOption = _this$props2.defaultActiveFirstOption,\n          prefixCls = _this$props2.prefixCls,\n          multiple = _this$props2.multiple,\n          onMenuSelect = _this$props2.onMenuSelect,\n          inputValue = _this$props2.inputValue,\n          backfillValue = _this$props2.backfillValue,\n          onMenuDeselect = _this$props2.onMenuDeselect,\n          visible = _this$props2.visible;\n      var firstActiveValue = _this.props.firstActiveValue;\n\n      if (menuItems && menuItems.length) {\n        var menuProps = {};\n\n        if (multiple) {\n          menuProps.onDeselect = onMenuDeselect;\n          menuProps.onSelect = onMenuSelect;\n        } else {\n          menuProps.onClick = onMenuSelect;\n        }\n\n        var value = _this.props.value;\n        var selectedKeys = getSelectKeys(menuItems, value);\n        var activeKeyProps = {};\n        var defaultActiveFirst = defaultActiveFirstOption;\n        var clonedMenuItems = menuItems;\n\n        if (selectedKeys.length || firstActiveValue) {\n          if (visible && !_this.lastVisible) {\n            activeKeyProps.activeKey = selectedKeys[0] || firstActiveValue;\n          } else if (!visible) {\n            // Do not trigger auto active since we already have selectedKeys\n            if (selectedKeys[0]) {\n              defaultActiveFirst = false;\n            }\n\n            activeKeyProps.activeKey = undefined;\n          }\n\n          var foundFirst = false; // set firstActiveItem via cloning menus\n          // for scroll into view\n\n          var clone = function clone(item) {\n            var key = item.key;\n\n            if (!foundFirst && selectedKeys.indexOf(key) !== -1 || !foundFirst && !selectedKeys.length && firstActiveValue.indexOf(item.key) !== -1) {\n              foundFirst = true;\n              return React.cloneElement(item, {\n                ref: function ref(_ref) {\n                  _this.firstActiveItem = _ref;\n                }\n              });\n            }\n\n            return item;\n          };\n\n          clonedMenuItems = menuItems.map(function (item) {\n            if (item.type.isMenuItemGroup) {\n              var children = toArray(item.props.children).map(clone);\n              return React.cloneElement(item, {}, children);\n            }\n\n            return clone(item);\n          });\n        } else {\n          // Clear firstActiveItem when dropdown menu items was empty\n          // Avoid `Unable to find node on an unmounted component`\n          // https://github.com/ant-design/ant-design/issues/10774\n          _this.firstActiveItem = null;\n        } // clear activeKey when inputValue change\n\n\n        var lastValue = value && value[value.length - 1];\n\n        if (inputValue !== _this.lastInputValue && (!lastValue || lastValue !== backfillValue)) {\n          activeKeyProps.activeKey = '';\n        }\n\n        return React.createElement(Menu, _extends({\n          ref: _this.saveMenuRef,\n          style: _this.props.dropdownMenuStyle,\n          defaultActiveFirst: defaultActiveFirst,\n          role: \"listbox\",\n          itemIcon: multiple ? menuItemSelectedIcon : null\n        }, activeKeyProps, {\n          multiple: multiple\n        }, menuProps, {\n          selectedKeys: selectedKeys,\n          prefixCls: \"\".concat(prefixCls, \"-menu\")\n        }), clonedMenuItems);\n      }\n\n      return null;\n    };\n\n    _this.lastInputValue = props.inputValue;\n    _this.saveMenuRef = saveRef(_assertThisInitialized(_this), 'menuRef');\n    return _this;\n  }\n\n  _createClass(DropdownMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.scrollActiveItemToView();\n      this.lastVisible = this.props.visible;\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      if (!nextProps.visible) {\n        this.lastVisible = false;\n      } // freeze when hide\n\n\n      return this.props.visible && !nextProps.visible || nextProps.visible || nextProps.inputValue !== this.props.inputValue;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var props = this.props;\n\n      if (!prevProps.visible && props.visible) {\n        this.scrollActiveItemToView();\n      }\n\n      this.lastVisible = props.visible;\n      this.lastInputValue = props.inputValue;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.rafInstance) {\n        raf.cancel(this.rafInstance);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var renderMenu = this.renderMenu();\n      return renderMenu ? React.createElement(\"div\", {\n        style: {\n          overflow: 'auto',\n          transform: 'translateZ(0)'\n        },\n        id: this.props.ariaId,\n        onFocus: this.props.onPopupFocus,\n        onMouseDown: preventDefaultEvent,\n        onScroll: this.props.onPopupScroll\n      }, renderMenu) : null;\n    }\n  }]);\n\n  return DropdownMenu;\n}(React.Component);\n\nexport { DropdownMenu as default };\nDropdownMenu.displayName = 'DropdownMenu';\nDropdownMenu.propTypes = {\n  ariaId: PropTypes.string,\n  defaultActiveFirstOption: PropTypes.bool,\n  value: PropTypes.any,\n  dropdownMenuStyle: PropTypes.object,\n  multiple: PropTypes.bool,\n  onPopupFocus: PropTypes.func,\n  onPopupScroll: PropTypes.func,\n  onMenuDeSelect: PropTypes.func,\n  onMenuSelect: PropTypes.func,\n  prefixCls: PropTypes.string,\n  menuItems: PropTypes.any,\n  inputValue: PropTypes.string,\n  visible: PropTypes.bool,\n  firstActiveValue: PropTypes.string,\n  menuItemSelectedIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node])\n};"]}]}
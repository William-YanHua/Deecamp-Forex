{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/dagre/lib/acyclic.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/dagre/lib/acyclic.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\nvar _ = require(\"./lodash\");\nvar greedyFAS = require(\"./greedy-fas\");\nmodule.exports = {\n    run: run,\n    undo: undo\n};\nfunction run(g) {\n    var fas = (g.graph().acyclicer === \"greedy\"\n        ? greedyFAS(g, weightFn(g))\n        : dfsFAS(g));\n    _.forEach(fas, function (e) {\n        var label = g.edge(e);\n        g.removeEdge(e);\n        label.forwardName = e.name;\n        label.reversed = true;\n        g.setEdge(e.w, e.v, label, _.uniqueId(\"rev\"));\n    });\n    function weightFn(g) {\n        return function (e) {\n            return g.edge(e).weight;\n        };\n    }\n}\nfunction dfsFAS(g) {\n    var fas = [];\n    var stack = {};\n    var visited = {};\n    function dfs(v) {\n        if (_.has(visited, v)) {\n            return;\n        }\n        visited[v] = true;\n        stack[v] = true;\n        _.forEach(g.outEdges(v), function (e) {\n            if (_.has(stack, e.w)) {\n                fas.push(e);\n            }\n            else {\n                dfs(e.w);\n            }\n        });\n        delete stack[v];\n    }\n    _.forEach(g.nodes(), dfs);\n    return fas;\n}\nfunction undo(g) {\n    _.forEach(g.edges(), function (e) {\n        var label = g.edge(e);\n        if (label.reversed) {\n            g.removeEdge(e);\n            var forwardName = label.forwardName;\n            delete label.reversed;\n            delete label.forwardName;\n            g.setEdge(e.w, e.v, label, forwardName);\n        }\n    });\n}\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/dagre/lib/acyclic.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/dagre/lib/acyclic.js"],"names":[],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _ = require(\"./lodash\");\nvar greedyFAS = require(\"./greedy-fas\");\n\nmodule.exports = {\n  run: run,\n  undo: undo\n};\n\nfunction run(g) {\n  var fas = (g.graph().acyclicer === \"greedy\"\n    ? greedyFAS(g, weightFn(g))\n    : dfsFAS(g));\n  _.forEach(fas, function(e) {\n    var label = g.edge(e);\n    g.removeEdge(e);\n    label.forwardName = e.name;\n    label.reversed = true;\n    g.setEdge(e.w, e.v, label, _.uniqueId(\"rev\"));\n  });\n\n  function weightFn(g) {\n    return function(e) {\n      return g.edge(e).weight;\n    };\n  }\n}\n\nfunction dfsFAS(g) {\n  var fas = [];\n  var stack = {};\n  var visited = {};\n\n  function dfs(v) {\n    if (_.has(visited, v)) {\n      return;\n    }\n    visited[v] = true;\n    stack[v] = true;\n    _.forEach(g.outEdges(v), function(e) {\n      if (_.has(stack, e.w)) {\n        fas.push(e);\n      } else {\n        dfs(e.w);\n      }\n    });\n    delete stack[v];\n  }\n\n  _.forEach(g.nodes(), dfs);\n  return fas;\n}\n\nfunction undo(g) {\n  _.forEach(g.edges(), function(e) {\n    var label = g.edge(e);\n    if (label.reversed) {\n      g.removeEdge(e);\n\n      var forwardName = label.forwardName;\n      delete label.reversed;\n      delete label.forwardName;\n      g.setEdge(e.w, e.v, label, forwardName);\n    }\n  });\n}\n"]}]}
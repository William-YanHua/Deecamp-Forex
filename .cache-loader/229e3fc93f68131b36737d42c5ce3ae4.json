{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\tooltip\\mini.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\tooltip\\mini.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\r\nvar Util = require('../util');\r\nvar DomUtil = Util.DomUtil;\r\nvar CanvasTooltip = require('./canvas');\r\nvar MatrixUtil = Util.MatrixUtil;\r\nvar MiniTooltip = function (_CanvasTooltip) {\r\n    _inheritsLoose(MiniTooltip, _CanvasTooltip);\r\n    function MiniTooltip() {\r\n        return _CanvasTooltip.apply(this, arguments) || this;\r\n    }\r\n    var _proto = MiniTooltip.prototype;\r\n    _proto.getDefaultCfg = function getDefaultCfg() {\r\n        var cfg = _CanvasTooltip.prototype.getDefaultCfg.call(this);\r\n        return Util.mix({}, cfg, {\r\n            boardStyle: {\r\n                x: 0,\r\n                y: 0,\r\n                width: 0,\r\n                height: 0,\r\n                radius: 3\r\n            },\r\n            valueStyle: {\r\n                x: 0,\r\n                y: 0,\r\n                text: '',\r\n                fontFamily: 'PingFang SC',\r\n                fontSize: 12,\r\n                stroke: '#fff',\r\n                lineWidth: 2,\r\n                fill: 'black',\r\n                textBaseline: 'top',\r\n                textAlign: 'start'\r\n            },\r\n            padding: {\r\n                top: 5,\r\n                right: 5,\r\n                bottom: 0,\r\n                left: 5\r\n            },\r\n            triangleWidth: 10,\r\n            triangleHeight: 4\r\n        });\r\n    };\r\n    _proto._init_ = function _init_() {\r\n        var self = this;\r\n        var padding = self.get('padding');\r\n        var parent = self.get('frontPlot');\r\n        var container = parent.addGroup();\r\n        self.set('container', container);\r\n        var board = container.addShape('rect', {\r\n            attrs: Util.mix({}, self.get('boardStyle'))\r\n        });\r\n        self.set('board', board);\r\n        var triangleShape = container.addShape('path', {\r\n            attrs: {\r\n                fill: self.get('boardStyle').fill\r\n            }\r\n        });\r\n        self.set('triangleShape', triangleShape);\r\n        var itemGroup = container.addGroup();\r\n        itemGroup.move(padding.left, padding.top);\r\n        var valueShape = itemGroup.addShape('text', {\r\n            attrs: Util.mix({}, self.get('valueStyle'))\r\n        });\r\n        self.set('valueShape', valueShape);\r\n    };\r\n    _proto.render = function render() {\r\n        var self = this;\r\n        self.clear();\r\n        var board = self.get('board');\r\n        var valueShape = self.get('valueShape');\r\n        var padding = self.get('padding');\r\n        var item = self.get('items')[0];\r\n        if (valueShape) {\r\n            valueShape.attr('text', item.value);\r\n        }\r\n        var bbox = valueShape ? valueShape.getBBox() : {\r\n            width: 80,\r\n            height: 30\r\n        };\r\n        var width = padding.left + bbox.width + padding.right;\r\n        var height = padding.top + bbox.height + padding.bottom;\r\n        board.attr('width', width);\r\n        board.attr('height', height);\r\n        self._centerTriangleShape();\r\n    };\r\n    _proto.clear = function clear() {\r\n        var valueShape = this.get('valueShape');\r\n        valueShape.attr('text', '');\r\n    };\r\n    _proto.setPosition = function setPosition(x, y, target) {\r\n        var self = this;\r\n        var container = self.get('container');\r\n        var plotRange = self.get('plotRange');\r\n        var bbox = container.getBBox();\r\n        var width = bbox.width;\r\n        var height = bbox.height;\r\n        x -= width / 2;\r\n        if (target && (target.name === 'point' || target.name === 'interval')) {\r\n            var targetY = target.getBBox().y;\r\n            y = targetY;\r\n        }\r\n        y -= height;\r\n        if (this.get('inPlot')) {\r\n            if (x < plotRange.tl.x) {\r\n                x = plotRange.tl.x;\r\n                self._leftTriangleShape();\r\n            }\r\n            else if (x + width / 2 > plotRange.tr.x) {\r\n                x = plotRange.tr.x - width;\r\n                self._rightTriangleShape();\r\n            }\r\n            else {\r\n                self._centerTriangleShape();\r\n            }\r\n            if (y < plotRange.tl.y) {\r\n                y = plotRange.tl.y;\r\n            }\r\n            else if (y + height > plotRange.bl.y) {\r\n                y = plotRange.bl.y - height;\r\n            }\r\n        }\r\n        else {\r\n            var outterNode = this.get('canvas').get('el');\r\n            var viewWidth = DomUtil.getWidth(outterNode);\r\n            var viewHeight = DomUtil.getHeight(outterNode);\r\n            if (x < 0) {\r\n                x = 0;\r\n                self._leftTriangleShape();\r\n            }\r\n            else if (x + width / 2 > viewWidth) {\r\n                x = viewWidth - width;\r\n                self._rightTriangleShape();\r\n            }\r\n            else {\r\n                self._centerTriangleShape();\r\n            }\r\n            if (y < 0) {\r\n                y = 0;\r\n            }\r\n            else if (y + height > viewHeight) {\r\n                y = viewHeight - height;\r\n            }\r\n        }\r\n        var ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\r\n        var mat = MatrixUtil.transform(ulMatrix, [['t', x, y]]);\r\n        container.stopAnimate();\r\n        container.animate({\r\n            matrix: mat\r\n        }, this.get('animationDuration'));\r\n    };\r\n    _proto._centerTriangleShape = function _centerTriangleShape() {\r\n        var triangle = this.get('triangleShape');\r\n        var width = this.get('triangleWidth');\r\n        var height = this.get('triangleHeight');\r\n        var boardBBox = this.get('board').getBBox();\r\n        var boardWidth = boardBBox.width;\r\n        var boardHeight = boardBBox.height;\r\n        var pathArray = [['M', 0, 0], ['L', width, 0], ['L', width / 2, height], ['L', 0, 0], ['Z']];\r\n        triangle.attr('path', pathArray);\r\n        triangle.move(boardWidth / 2 - width / 2, boardHeight - 1);\r\n    };\r\n    _proto._leftTriangleShape = function _leftTriangleShape() {\r\n        var triangle = this.get('triangleShape');\r\n        var width = this.get('triangleWidth');\r\n        var height = this.get('triangleHeight');\r\n        var boardBBox = this.get('board').getBBox();\r\n        var boardHeight = boardBBox.height;\r\n        var pathArray = [['M', 0, 0], ['L', width, 0], ['L', 0, height + 3], ['L', 0, 0], ['Z']];\r\n        triangle.attr('path', pathArray);\r\n        triangle.move(0, boardHeight - 3);\r\n    };\r\n    _proto._rightTriangleShape = function _rightTriangleShape() {\r\n        var triangle = this.get('triangleShape');\r\n        var width = this.get('triangleWidth');\r\n        var height = this.get('triangleHeight');\r\n        var boardBBox = this.get('board').getBBox();\r\n        var boardWidth = boardBBox.width;\r\n        var boardHeight = boardBBox.height;\r\n        var pathArray = [['M', 0, 0], ['L', width, 0], ['L', width, height + 4], ['L', 0, 0], ['Z']];\r\n        triangle.attr('path', pathArray);\r\n        triangle.move(boardWidth - width - 1, boardHeight - 4);\r\n    };\r\n    return MiniTooltip;\r\n}(CanvasTooltip);\r\nmodule.exports = MiniTooltip;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\tooltip\\mini.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\tooltip\\mini.js"],"names":[],"mappings":"AAAA,SAAS,cAAc,CAAC,QAAQ,EAAE,UAAU,IAAI,QAAQ,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,GAAG,QAAQ,CAAC,CAAC,QAAQ,CAAC,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC;AAEvL,IAAI,IAAI,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AAE9B,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;AAE3B,IAAI,aAAa,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AAExC,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;AAEjC,IAAI,WAAW,GAEf,UAAU,cAAc;IACtB,cAAc,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC;IAE5C,SAAS,WAAW;QAClB,OAAO,cAAc,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;IACvD,CAAC;IAED,IAAI,MAAM,GAAG,WAAW,CAAC,SAAS,CAAC;IAEnC,MAAM,CAAC,aAAa,GAAG,SAAS,aAAa;QAC3C,IAAI,GAAG,GAAG,cAAc,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAE5D,OAAO,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,EAAE;YAKvB,UAAU,EAAE;gBACV,CAAC,EAAE,CAAC;gBACJ,CAAC,EAAE,CAAC;gBACJ,KAAK,EAAE,CAAC;gBACR,MAAM,EAAE,CAAC;gBAET,MAAM,EAAE,CAAC;aACV;YAMD,UAAU,EAAE;gBACV,CAAC,EAAE,CAAC;gBACJ,CAAC,EAAE,CAAC;gBACJ,IAAI,EAAE,EAAE;gBACR,UAAU,EAAE,aAAa;gBACzB,QAAQ,EAAE,EAAE;gBACZ,MAAM,EAAE,MAAM;gBACd,SAAS,EAAE,CAAC;gBACZ,IAAI,EAAE,OAAO;gBACb,YAAY,EAAE,KAAK;gBACnB,SAAS,EAAE,OAAO;aACnB;YAMD,OAAO,EAAE;gBACP,GAAG,EAAE,CAAC;gBACN,KAAK,EAAE,CAAC;gBACR,MAAM,EAAE,CAAC;gBACT,IAAI,EAAE,CAAC;aACR;YACD,aAAa,EAAE,EAAE;YACjB,cAAc,EAAE,CAAC;SAClB,CAAC,CAAC;IACL,CAAC,CAAC;IAEF,MAAM,CAAC,MAAM,GAAG,SAAS,MAAM;QAC7B,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAClC,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAEnC,IAAI,SAAS,GAAG,MAAM,CAAC,QAAQ,EAAE,CAAC;QAClC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;QAEjC,IAAI,KAAK,GAAG,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE;YACrC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;SAC5C,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAEzB,IAAI,aAAa,GAAG,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE;YAC7C,KAAK,EAAE;gBACL,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,IAAI;aAClC;SACF,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,CAAC,eAAe,EAAE,aAAa,CAAC,CAAC;QAEzC,IAAI,SAAS,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;QACrC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;QAE1C,IAAI,UAAU,GAAG,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE;YAC1C,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;SAC5C,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC;IACrC,CAAC,CAAC;IAEF,MAAM,CAAC,MAAM,GAAG,SAAS,MAAM;QAC7B,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAC9B,IAAI,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QACxC,IAAI,OAAO,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAClC,IAAI,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;QAEhC,IAAI,UAAU,EAAE;YACd,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;SACrC;QAGD,IAAI,IAAI,GAAG,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;YAC7C,KAAK,EAAE,EAAE;YACT,MAAM,EAAE,EAAE;SACX,CAAC;QACF,IAAI,KAAK,GAAG,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;QACtD,IAAI,MAAM,GAAG,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;QACxD,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAC3B,KAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;QAE7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;IAC9B,CAAC,CAAC;IAEF,MAAM,CAAC,KAAK,GAAG,SAAS,KAAK;QAC3B,IAAI,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QACxC,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;IAC9B,CAAC,CAAC;IAEF,MAAM,CAAC,WAAW,GAAG,SAAS,WAAW,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM;QACpD,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACtC,IAAI,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACtC,IAAI,IAAI,GAAG,SAAS,CAAC,OAAO,EAAE,CAAC;QAC/B,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACvB,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QACzB,CAAC,IAAI,KAAK,GAAG,CAAC,CAAC;QAEf,IAAI,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,OAAO,IAAI,MAAM,CAAC,IAAI,KAAK,UAAU,CAAC,EAAE;YACrE,IAAI,OAAO,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC;YACjC,CAAC,GAAG,OAAO,CAAC;SACb;QAED,CAAC,IAAI,MAAM,CAAC;QAEZ,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;YAEtB,IAAI,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC,EAAE;gBACtB,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;gBAEnB,IAAI,CAAC,kBAAkB,EAAE,CAAC;aAC3B;iBAAM,IAAI,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC,EAAE;gBACzC,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC;gBAE3B,IAAI,CAAC,mBAAmB,EAAE,CAAC;aAC5B;iBAAM;gBACL,IAAI,CAAC,oBAAoB,EAAE,CAAC;aAC7B;YAED,IAAI,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC,EAAE;gBACtB,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;aACpB;iBAAM,IAAI,CAAC,GAAG,MAAM,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC,EAAE;gBACtC,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC,GAAG,MAAM,CAAC;aAC7B;SACF;aAAM;YAEL,IAAI,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YAC9C,IAAI,SAAS,GAAG,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YAC7C,IAAI,UAAU,GAAG,OAAO,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;YAE/C,IAAI,CAAC,GAAG,CAAC,EAAE;gBACT,CAAC,GAAG,CAAC,CAAC;gBAEN,IAAI,CAAC,kBAAkB,EAAE,CAAC;aAC3B;iBAAM,IAAI,CAAC,GAAG,KAAK,GAAG,CAAC,GAAG,SAAS,EAAE;gBACpC,CAAC,GAAG,SAAS,GAAG,KAAK,CAAC;gBAEtB,IAAI,CAAC,mBAAmB,EAAE,CAAC;aAC5B;iBAAM;gBACL,IAAI,CAAC,oBAAoB,EAAE,CAAC;aAC7B;YAED,IAAI,CAAC,GAAG,CAAC,EAAE;gBACT,CAAC,GAAG,CAAC,CAAC;aACP;iBAAM,IAAI,CAAC,GAAG,MAAM,GAAG,UAAU,EAAE;gBAClC,CAAC,GAAG,UAAU,GAAG,MAAM,CAAC;aACzB;SACF;QAED,IAAI,QAAQ,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QAC3C,IAAI,GAAG,GAAG,UAAU,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACxD,SAAS,CAAC,WAAW,EAAE,CAAC;QACxB,SAAS,CAAC,OAAO,CAAC;YAChB,MAAM,EAAE,GAAG;SACZ,EAAE,IAAI,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC,CAAC;IACpC,CAAC,CAAC;IAEF,MAAM,CAAC,oBAAoB,GAAG,SAAS,oBAAoB;QACzD,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QACzC,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QACtC,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QACxC,IAAI,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,CAAC;QAC5C,IAAI,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC;QACjC,IAAI,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC;QACnC,IAAI,SAAS,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,KAAK,GAAG,CAAC,EAAE,MAAM,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QAC7F,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;QACjC,QAAQ,CAAC,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,EAAE,WAAW,GAAG,CAAC,CAAC,CAAC;IAC7D,CAAC,CAAC;IAEF,MAAM,CAAC,kBAAkB,GAAG,SAAS,kBAAkB;QACrD,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QACzC,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QACtC,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QACxC,IAAI,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,CAAC;QAC5C,IAAI,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC;QACnC,IAAI,SAAS,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QACzF,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;QACjC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,WAAW,GAAG,CAAC,CAAC,CAAC;IACpC,CAAC,CAAC;IAEF,MAAM,CAAC,mBAAmB,GAAG,SAAS,mBAAmB;QACvD,IAAI,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QACzC,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QACtC,IAAI,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;QACxC,IAAI,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,OAAO,EAAE,CAAC;QAC5C,IAAI,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC;QACjC,IAAI,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC;QACnC,IAAI,SAAS,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;QAC7F,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;QACjC,QAAQ,CAAC,IAAI,CAAC,UAAU,GAAG,KAAK,GAAG,CAAC,EAAE,WAAW,GAAG,CAAC,CAAC,CAAC;IACzD,CAAC,CAAC;IAEF,OAAO,WAAW,CAAC;AACrB,CAAC,CAAC,aAAa,CAAC,CAAC;AAEjB,MAAM,CAAC,OAAO,GAAG,WAAW,CAAC","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar Util = require('../util');\n\nvar DomUtil = Util.DomUtil;\n\nvar CanvasTooltip = require('./canvas');\n\nvar MatrixUtil = Util.MatrixUtil;\n\nvar MiniTooltip =\n/*#__PURE__*/\nfunction (_CanvasTooltip) {\n  _inheritsLoose(MiniTooltip, _CanvasTooltip);\n\n  function MiniTooltip() {\n    return _CanvasTooltip.apply(this, arguments) || this;\n  }\n\n  var _proto = MiniTooltip.prototype;\n\n  _proto.getDefaultCfg = function getDefaultCfg() {\n    var cfg = _CanvasTooltip.prototype.getDefaultCfg.call(this);\n\n    return Util.mix({}, cfg, {\n      /**\n       * 默认背景板样式\n       * @type {Object}\n       */\n      boardStyle: {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0,\n        // fill: 'rgba(50, 50, 50, 1)',\n        radius: 3\n      },\n\n      /**\n       * 默认value样式\n       * @type {Object}\n       * */\n      valueStyle: {\n        x: 0,\n        y: 0,\n        text: '',\n        fontFamily: 'PingFang SC',\n        fontSize: 12,\n        stroke: '#fff',\n        lineWidth: 2,\n        fill: 'black',\n        textBaseline: 'top',\n        textAlign: 'start'\n      },\n\n      /**\n       * 默认padding值\n       * @type {Object}\n       */\n      padding: {\n        top: 5,\n        right: 5,\n        bottom: 0,\n        left: 5\n      },\n      triangleWidth: 10,\n      triangleHeight: 4\n    });\n  };\n\n  _proto._init_ = function _init_() {\n    var self = this;\n    var padding = self.get('padding');\n    var parent = self.get('frontPlot'); // container\n\n    var container = parent.addGroup();\n    self.set('container', container); // board\n\n    var board = container.addShape('rect', {\n      attrs: Util.mix({}, self.get('boardStyle'))\n    });\n    self.set('board', board); // triangleShpe\n\n    var triangleShape = container.addShape('path', {\n      attrs: {\n        fill: self.get('boardStyle').fill\n      }\n    });\n    self.set('triangleShape', triangleShape); // itemGroup\n\n    var itemGroup = container.addGroup();\n    itemGroup.move(padding.left, padding.top); // value\n\n    var valueShape = itemGroup.addShape('text', {\n      attrs: Util.mix({}, self.get('valueStyle'))\n    });\n    self.set('valueShape', valueShape);\n  };\n\n  _proto.render = function render() {\n    var self = this;\n    self.clear();\n    var board = self.get('board');\n    var valueShape = self.get('valueShape');\n    var padding = self.get('padding');\n    var item = self.get('items')[0];\n\n    if (valueShape) {\n      valueShape.attr('text', item.value);\n    } // update board based on bbox\n\n\n    var bbox = valueShape ? valueShape.getBBox() : {\n      width: 80,\n      height: 30\n    };\n    var width = padding.left + bbox.width + padding.right;\n    var height = padding.top + bbox.height + padding.bottom;\n    board.attr('width', width);\n    board.attr('height', height); // update triangle shape\n\n    self._centerTriangleShape();\n  };\n\n  _proto.clear = function clear() {\n    var valueShape = this.get('valueShape');\n    valueShape.attr('text', '');\n  };\n\n  _proto.setPosition = function setPosition(x, y, target) {\n    var self = this;\n    var container = self.get('container');\n    var plotRange = self.get('plotRange');\n    var bbox = container.getBBox();\n    var width = bbox.width;\n    var height = bbox.height;\n    x -= width / 2;\n\n    if (target && (target.name === 'point' || target.name === 'interval')) {\n      var targetY = target.getBBox().y;\n      y = targetY;\n    }\n\n    y -= height;\n\n    if (this.get('inPlot')) {\n      // constrain in plot\n      if (x < plotRange.tl.x) {\n        x = plotRange.tl.x;\n\n        self._leftTriangleShape();\n      } else if (x + width / 2 > plotRange.tr.x) {\n        x = plotRange.tr.x - width;\n\n        self._rightTriangleShape();\n      } else {\n        self._centerTriangleShape();\n      }\n\n      if (y < plotRange.tl.y) {\n        y = plotRange.tl.y;\n      } else if (y + height > plotRange.bl.y) {\n        y = plotRange.bl.y - height;\n      }\n    } else {\n      // constrain in dom\n      var outterNode = this.get('canvas').get('el');\n      var viewWidth = DomUtil.getWidth(outterNode);\n      var viewHeight = DomUtil.getHeight(outterNode);\n\n      if (x < 0) {\n        x = 0;\n\n        self._leftTriangleShape();\n      } else if (x + width / 2 > viewWidth) {\n        x = viewWidth - width;\n\n        self._rightTriangleShape();\n      } else {\n        self._centerTriangleShape();\n      }\n\n      if (y < 0) {\n        y = 0;\n      } else if (y + height > viewHeight) {\n        y = viewHeight - height;\n      }\n    }\n\n    var ulMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n    var mat = MatrixUtil.transform(ulMatrix, [['t', x, y]]);\n    container.stopAnimate();\n    container.animate({\n      matrix: mat\n    }, this.get('animationDuration'));\n  };\n\n  _proto._centerTriangleShape = function _centerTriangleShape() {\n    var triangle = this.get('triangleShape');\n    var width = this.get('triangleWidth');\n    var height = this.get('triangleHeight');\n    var boardBBox = this.get('board').getBBox();\n    var boardWidth = boardBBox.width;\n    var boardHeight = boardBBox.height;\n    var pathArray = [['M', 0, 0], ['L', width, 0], ['L', width / 2, height], ['L', 0, 0], ['Z']];\n    triangle.attr('path', pathArray);\n    triangle.move(boardWidth / 2 - width / 2, boardHeight - 1);\n  };\n\n  _proto._leftTriangleShape = function _leftTriangleShape() {\n    var triangle = this.get('triangleShape');\n    var width = this.get('triangleWidth');\n    var height = this.get('triangleHeight');\n    var boardBBox = this.get('board').getBBox();\n    var boardHeight = boardBBox.height;\n    var pathArray = [['M', 0, 0], ['L', width, 0], ['L', 0, height + 3], ['L', 0, 0], ['Z']];\n    triangle.attr('path', pathArray);\n    triangle.move(0, boardHeight - 3);\n  };\n\n  _proto._rightTriangleShape = function _rightTriangleShape() {\n    var triangle = this.get('triangleShape');\n    var width = this.get('triangleWidth');\n    var height = this.get('triangleHeight');\n    var boardBBox = this.get('board').getBBox();\n    var boardWidth = boardBBox.width;\n    var boardHeight = boardBBox.height;\n    var pathArray = [['M', 0, 0], ['L', width, 0], ['L', width, height + 4], ['L', 0, 0], ['Z']];\n    triangle.attr('path', pathArray);\n    triangle.move(boardWidth - width - 1, boardHeight - 4);\n  };\n\n  return MiniTooltip;\n}(CanvasTooltip);\n\nmodule.exports = MiniTooltip;"]}]}
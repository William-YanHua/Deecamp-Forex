{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2-plugin-slider\\src\\component\\range.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2-plugin-slider\\src\\component\\range.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar G2 = window && window.G2;\r\nvar Util = G2.Util, G = G2.G;\r\nvar Group = G.Group;\r\nvar DomUtil = Util.DomUtil;\r\nvar OFFSET = 5;\r\nvar Range = (function (_super) {\r\n    __extends(Range, _super);\r\n    function Range() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Range.prototype.getDefaultCfg = function () {\r\n        return {\r\n            range: null,\r\n            middleAttr: null,\r\n            backgroundElement: null,\r\n            minHandleElement: null,\r\n            maxHandleElement: null,\r\n            middleHandleElement: null,\r\n            currentTarget: null,\r\n            layout: 'vertical',\r\n            width: null,\r\n            height: null,\r\n            pageX: null,\r\n            pageY: null\r\n        };\r\n    };\r\n    Range.prototype._initHandle = function (type) {\r\n        var handle = this.addGroup();\r\n        var layout = this.get('layout');\r\n        var handleStyle = this.get('handleStyle');\r\n        var img = handleStyle.img;\r\n        var iconWidth = handleStyle.width;\r\n        var iconHeight = handleStyle.height;\r\n        var text;\r\n        var handleIcon;\r\n        var triggerCursor;\r\n        if (layout === 'horizontal') {\r\n            var iconWidth_1 = handleStyle.width;\r\n            triggerCursor = 'ew-resize';\r\n            handleIcon = handle.addShape('Image', {\r\n                attrs: {\r\n                    x: -iconWidth_1 / 2,\r\n                    y: 0,\r\n                    width: iconWidth_1,\r\n                    height: iconHeight,\r\n                    img: img,\r\n                    cursor: triggerCursor\r\n                }\r\n            });\r\n            text = handle.addShape('Text', {\r\n                attrs: Util.mix({\r\n                    x: (type === 'min') ? -(iconWidth_1 / 2 + OFFSET) : iconWidth_1 / 2 + OFFSET,\r\n                    y: iconHeight / 2,\r\n                    textAlign: (type === 'min') ? 'end' : 'start',\r\n                    textBaseline: 'middle',\r\n                    text: type === 'min' ? this.get('minText') : this.get('maxText'),\r\n                    cursor: triggerCursor\r\n                }, this.get('textStyle'))\r\n            });\r\n        }\r\n        else {\r\n            triggerCursor = 'ns-resize';\r\n            handleIcon = handle.addShape('Image', {\r\n                attrs: {\r\n                    x: 0,\r\n                    y: -iconHeight / 2,\r\n                    width: iconWidth,\r\n                    height: iconHeight,\r\n                    img: img,\r\n                    cursor: triggerCursor\r\n                }\r\n            });\r\n            text = handle.addShape('Text', {\r\n                attrs: Util.mix({\r\n                    x: iconWidth / 2,\r\n                    y: (type === 'min') ? (iconHeight / 2 + OFFSET) : -(iconHeight / 2 + OFFSET),\r\n                    textAlign: 'center',\r\n                    textBaseline: 'middle',\r\n                    text: type === 'min' ? this.get('minText') : this.get('maxText'),\r\n                    cursor: triggerCursor\r\n                }, this.get('textStyle'))\r\n            });\r\n        }\r\n        this.set(type + 'TextElement', text);\r\n        this.set(type + 'IconElement', handleIcon);\r\n        return handle;\r\n    };\r\n    Range.prototype._initSliderBackground = function () {\r\n        var backgroundElement = this.addGroup();\r\n        backgroundElement.initTransform();\r\n        backgroundElement.translate(0, 0);\r\n        backgroundElement.addShape('Rect', {\r\n            attrs: Util.mix({\r\n                x: 0,\r\n                y: 0,\r\n                width: this.get('width'),\r\n                height: this.get('height')\r\n            }, this.get('backgroundStyle'))\r\n        });\r\n        return backgroundElement;\r\n    };\r\n    Range.prototype._beforeRenderUI = function () {\r\n        var backgroundElement = this._initSliderBackground();\r\n        var minHandleElement = this._initHandle('min');\r\n        var maxHandleElement = this._initHandle('max');\r\n        var middleHandleElement = this.addShape('rect', {\r\n            attrs: this.get('middleAttr')\r\n        });\r\n        this.set('middleHandleElement', middleHandleElement);\r\n        this.set('minHandleElement', minHandleElement);\r\n        this.set('maxHandleElement', maxHandleElement);\r\n        this.set('backgroundElement', backgroundElement);\r\n        backgroundElement.set('zIndex', 0);\r\n        middleHandleElement.set('zIndex', 1);\r\n        minHandleElement.set('zIndex', 2);\r\n        maxHandleElement.set('zIndex', 2);\r\n        middleHandleElement.attr('cursor', 'move');\r\n        this.sort();\r\n    };\r\n    Range.prototype._renderUI = function () {\r\n        if (this.get('layout') === 'horizontal') {\r\n            this._renderHorizontal();\r\n        }\r\n        else {\r\n            this._renderVertical();\r\n        }\r\n    };\r\n    Range.prototype._transform = function (layout) {\r\n        var range = this.get('range');\r\n        var minRatio = range[0] / 100;\r\n        var maxRatio = range[1] / 100;\r\n        var width = this.get('width');\r\n        var height = this.get('height');\r\n        var minHandleElement = this.get('minHandleElement');\r\n        var maxHandleElement = this.get('maxHandleElement');\r\n        var middleHandleElement = this.get('middleHandleElement');\r\n        if (minHandleElement.resetMatrix) {\r\n            minHandleElement.resetMatrix();\r\n            maxHandleElement.resetMatrix();\r\n        }\r\n        else {\r\n            minHandleElement.initTransform();\r\n            maxHandleElement.initTransform();\r\n        }\r\n        if (layout === 'horizontal') {\r\n            middleHandleElement.attr({\r\n                x: width * minRatio,\r\n                y: 0,\r\n                width: (maxRatio - minRatio) * width,\r\n                height: height\r\n            });\r\n            minHandleElement.translate(minRatio * width, 0);\r\n            maxHandleElement.translate(maxRatio * width, 0);\r\n        }\r\n        else {\r\n            middleHandleElement.attr({\r\n                x: 0,\r\n                y: height * (1 - maxRatio),\r\n                width: width,\r\n                height: (maxRatio - minRatio) * height\r\n            });\r\n            minHandleElement.translate(0, (1 - minRatio) * height);\r\n            maxHandleElement.translate(0, (1 - maxRatio) * height);\r\n        }\r\n    };\r\n    Range.prototype._renderHorizontal = function () {\r\n        this._transform('horizontal');\r\n    };\r\n    Range.prototype._renderVertical = function () {\r\n        this._transform('vertical');\r\n    };\r\n    Range.prototype._bindUI = function () {\r\n        this.on('mousedown', Util.wrapBehavior(this, '_onMouseDown'));\r\n    };\r\n    Range.prototype._isElement = function (target, name) {\r\n        var element = this.get(name);\r\n        if (target === element) {\r\n            return true;\r\n        }\r\n        if (element.isGroup) {\r\n            var elementChildren = element.get('children');\r\n            return elementChildren.indexOf(target) > -1;\r\n        }\r\n        return false;\r\n    };\r\n    Range.prototype._getRange = function (diff, range) {\r\n        var rst = diff + range;\r\n        rst = rst > 100 ? 100 : rst;\r\n        rst = rst < 0 ? 0 : rst;\r\n        return rst;\r\n    };\r\n    Range.prototype._limitRange = function (diff, limit, range) {\r\n        range[0] = this._getRange(diff, range[0]);\r\n        range[1] = range[0] + limit;\r\n        if (range[1] > 100) {\r\n            range[1] = 100;\r\n            range[0] = range[1] - limit;\r\n        }\r\n    };\r\n    Range.prototype._updateStatus = function (dim, ev) {\r\n        var totalLength = dim === 'x' ? this.get('width') : this.get('height');\r\n        dim = Util.upperFirst(dim);\r\n        var range = this.get('range');\r\n        var page = this.get('page' + dim);\r\n        var currentTarget = this.get('currentTarget');\r\n        var rangeStash = this.get('rangeStash');\r\n        var layout = this.get('layout');\r\n        var sign = layout === 'vertical' ? -1 : 1;\r\n        var currentPage = ev['page' + dim];\r\n        var diffPage = currentPage - page;\r\n        var diffRange = (diffPage / totalLength) * 100 * sign;\r\n        var diffStashRange;\r\n        var minRange = this.get('minRange');\r\n        var maxRange = this.get('maxRange');\r\n        if (range[1] <= range[0]) {\r\n            if (this._isElement(currentTarget, 'minHandleElement') || this._isElement(currentTarget, 'maxHandleElement')) {\r\n                range[0] = this._getRange(diffRange, range[0]);\r\n                range[1] = this._getRange(diffRange, range[0]);\r\n            }\r\n        }\r\n        else {\r\n            if (this._isElement(currentTarget, 'minHandleElement')) {\r\n                range[0] = this._getRange(diffRange, range[0]);\r\n                if (minRange) {\r\n                    if ((range[1] - range[0]) <= minRange) {\r\n                        this._limitRange(diffRange, minRange, range);\r\n                    }\r\n                }\r\n                if (maxRange) {\r\n                    if (range[1] - range[0] >= maxRange) {\r\n                        this._limitRange(diffRange, maxRange, range);\r\n                    }\r\n                }\r\n            }\r\n            if (this._isElement(currentTarget, 'maxHandleElement')) {\r\n                range[1] = this._getRange(diffRange, range[1]);\r\n                if (minRange) {\r\n                    if ((range[1] - range[0]) <= minRange) {\r\n                        this._limitRange(diffRange, minRange, range);\r\n                    }\r\n                }\r\n                if (maxRange) {\r\n                    if (range[1] - range[0] >= maxRange) {\r\n                        this._limitRange(diffRange, maxRange, range);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (this._isElement(currentTarget, 'middleHandleElement')) {\r\n            diffStashRange = (rangeStash[1] - rangeStash[0]);\r\n            this._limitRange(diffRange, diffStashRange, range);\r\n        }\r\n        this.emit('sliderchange', {\r\n            range: range\r\n        });\r\n        this.set('page' + dim, currentPage);\r\n        this._renderUI();\r\n        this.get('canvas').draw();\r\n        return;\r\n    };\r\n    Range.prototype._onMouseDown = function (ev) {\r\n        var currentTarget = ev.currentTarget;\r\n        var originEvent = ev.event;\r\n        var range = this.get('range');\r\n        originEvent.stopPropagation();\r\n        originEvent.preventDefault();\r\n        this.set('pageX', originEvent.pageX);\r\n        this.set('pageY', originEvent.pageY);\r\n        this.set('currentTarget', currentTarget);\r\n        this.set('rangeStash', [range[0], range[1]]);\r\n        this._bindCanvasEvents();\r\n    };\r\n    Range.prototype._bindCanvasEvents = function () {\r\n        var containerDOM = this.get('canvas').get('containerDOM');\r\n        this.onMouseMoveListener = DomUtil.addEventListener(containerDOM, 'mousemove', Util.wrapBehavior(this, '_onCanvasMouseMove'));\r\n        this.onMouseUpListener = DomUtil.addEventListener(containerDOM, 'mouseup', Util.wrapBehavior(this, '_onCanvasMouseUp'));\r\n        this.onMouseLeaveListener = DomUtil.addEventListener(containerDOM, 'mouseleave', Util.wrapBehavior(this, '_onCanvasMouseUp'));\r\n    };\r\n    Range.prototype._onCanvasMouseMove = function (ev) {\r\n        var layout = this.get('layout');\r\n        if (layout === 'horizontal') {\r\n            this._updateStatus('x', ev);\r\n        }\r\n        else {\r\n            this._updateStatus('y', ev);\r\n        }\r\n    };\r\n    Range.prototype._onCanvasMouseUp = function () {\r\n        this._removeDocumentEvents();\r\n    };\r\n    Range.prototype._removeDocumentEvents = function () {\r\n        this.onMouseMoveListener.remove();\r\n        this.onMouseUpListener.remove();\r\n        this.onMouseLeaveListener.remove();\r\n    };\r\n    return Range;\r\n}(Group));\r\nmodule.exports = Range;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2-plugin-slider\\src\\component\\range.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2-plugin-slider\\src\\component\\range.js"],"names":[],"mappings":"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","sourcesContent":["/**\n * @fileOverview The class of slider\n * @author sima.zhang\n */\nconst G2 = window && window.G2;\nconst { Util, G } = G2;\nconst { Group } = G;\nconst { DomUtil } = Util;\nconst OFFSET = 5;\n\n\nclass Range extends Group {\n  getDefaultCfg() {\n    return {\n      /**\n       * 范围\n       * @type {Array}\n       */\n      range: null,\n      /**\n       * 中滑块属性\n       * @type {ATTRS}\n       */\n      middleAttr: null,\n      /**\n       * 背景\n       * @type {G-Element}\n       */\n      backgroundElement: null,\n      /**\n       * 下滑块\n       * @type {G-Element}\n       */\n      minHandleElement: null,\n      /**\n       * 上滑块\n       * @type {G-Element}\n       */\n      maxHandleElement: null,\n      /**\n       * 中块\n       * @type {G-Element}\n       */\n      middleHandleElement: null,\n      /**\n       * 当前的激活的元素\n       * @type {G-Element}\n       */\n      currentTarget: null,\n      /**\n       * 布局方式： horizontal，vertical\n       * @type {String}\n       */\n      layout: 'vertical',\n      /**\n       * 宽\n       * @type {Number}\n       */\n      width: null,\n      /**\n       * 高\n       * @type {Number}\n       */\n      height: null,\n      /**\n       * 当前的PageX\n       * @type {Number}\n       */\n      pageX: null,\n      /**\n       * 当前的PageY\n       * @type {Number}\n       */\n      pageY: null\n    };\n  }\n\n  _initHandle(type) {\n    const handle = this.addGroup();\n    const layout = this.get('layout');\n    const handleStyle = this.get('handleStyle');\n    const img = handleStyle.img;\n    const iconWidth = handleStyle.width;\n    const iconHeight = handleStyle.height;\n\n    let text;\n    let handleIcon;\n    let triggerCursor;\n\n\n    if (layout === 'horizontal') {\n      const iconWidth = handleStyle.width;\n      triggerCursor = 'ew-resize';\n      handleIcon = handle.addShape('Image', {\n        attrs: {\n          x: -iconWidth / 2,\n          y: 0,\n          width: iconWidth,\n          height: iconHeight,\n          img,\n          cursor: triggerCursor\n        }\n      });\n      text = handle.addShape('Text', {\n        attrs: Util.mix({\n          x: (type === 'min') ? -(iconWidth / 2 + OFFSET) : iconWidth / 2 + OFFSET,\n          y: iconHeight / 2,\n          textAlign: (type === 'min') ? 'end' : 'start',\n          textBaseline: 'middle',\n          text: type === 'min' ? this.get('minText') : this.get('maxText'),\n          cursor: triggerCursor\n        }, this.get('textStyle'))\n      });\n    } else {\n      triggerCursor = 'ns-resize';\n      handleIcon = handle.addShape('Image', {\n        attrs: {\n          x: 0,\n          y: -iconHeight / 2,\n          width: iconWidth,\n          height: iconHeight,\n          img,\n          cursor: triggerCursor\n        }\n      });\n      text = handle.addShape('Text', {\n        attrs: Util.mix({\n          x: iconWidth / 2,\n          y: (type === 'min') ? (iconHeight / 2 + OFFSET) : -(iconHeight / 2 + OFFSET),\n          textAlign: 'center',\n          textBaseline: 'middle',\n          text: type === 'min' ? this.get('minText') : this.get('maxText'),\n          cursor: triggerCursor\n        }, this.get('textStyle'))\n      });\n    }\n\n    this.set(type + 'TextElement', text);\n    this.set(type + 'IconElement', handleIcon);\n    return handle;\n  }\n\n  _initSliderBackground() {\n    const backgroundElement = this.addGroup();\n    backgroundElement.initTransform();\n    backgroundElement.translate(0, 0);\n    backgroundElement.addShape('Rect', {\n      attrs: Util.mix({\n        x: 0,\n        y: 0,\n        width: this.get('width'),\n        height: this.get('height')\n      }, this.get('backgroundStyle'))\n    });\n    return backgroundElement;\n  }\n\n  _beforeRenderUI() {\n    const backgroundElement = this._initSliderBackground();\n    const minHandleElement = this._initHandle('min');\n    const maxHandleElement = this._initHandle('max');\n    const middleHandleElement = this.addShape('rect', {\n      attrs: this.get('middleAttr')\n    });\n\n    this.set('middleHandleElement', middleHandleElement);\n    this.set('minHandleElement', minHandleElement);\n    this.set('maxHandleElement', maxHandleElement);\n    this.set('backgroundElement', backgroundElement);\n    backgroundElement.set('zIndex', 0);\n    middleHandleElement.set('zIndex', 1);\n    minHandleElement.set('zIndex', 2);\n    maxHandleElement.set('zIndex', 2);\n    middleHandleElement.attr('cursor', 'move');\n    this.sort();\n  }\n\n  _renderUI() {\n    if (this.get('layout') === 'horizontal') {\n      this._renderHorizontal();\n    } else {\n      this._renderVertical();\n    }\n  }\n\n  _transform(layout) {\n    const range = this.get('range');\n    const minRatio = range[0] / 100;\n    const maxRatio = range[1] / 100;\n    const width = this.get('width');\n    const height = this.get('height');\n    const minHandleElement = this.get('minHandleElement');\n    const maxHandleElement = this.get('maxHandleElement');\n    const middleHandleElement = this.get('middleHandleElement');\n    if (minHandleElement.resetMatrix) {\n      minHandleElement.resetMatrix();\n      maxHandleElement.resetMatrix();\n    } else {\n      minHandleElement.initTransform();\n      maxHandleElement.initTransform();\n    }\n    if (layout === 'horizontal') {\n      middleHandleElement.attr({\n        x: width * minRatio,\n        y: 0,\n        width: (maxRatio - minRatio) * width,\n        height\n      });\n\n      minHandleElement.translate(minRatio * width, 0);\n      maxHandleElement.translate(maxRatio * width, 0);\n    } else {\n      middleHandleElement.attr({\n        x: 0,\n        y: height * (1 - maxRatio),\n        width,\n        height: (maxRatio - minRatio) * height\n      });\n      minHandleElement.translate(0, (1 - minRatio) * height);\n      maxHandleElement.translate(0, (1 - maxRatio) * height);\n    }\n  }\n\n  _renderHorizontal() {\n    this._transform('horizontal');\n  }\n\n  _renderVertical() {\n    this._transform('vertical');\n  }\n\n  _bindUI() {\n    this.on('mousedown', Util.wrapBehavior(this, '_onMouseDown'));\n  }\n\n  _isElement(target, name) { // 判断是否是该元素\n    const element = this.get(name);\n    if (target === element) {\n      return true;\n    }\n    if (element.isGroup) {\n      const elementChildren = element.get('children');\n      return elementChildren.indexOf(target) > -1;\n    }\n    return false;\n  }\n\n  _getRange(diff, range) {\n    let rst = diff + range;\n    rst = rst > 100 ? 100 : rst;\n    rst = rst < 0 ? 0 : rst;\n    return rst;\n  }\n\n  _limitRange(diff, limit, range) {\n    range[0] = this._getRange(diff, range[0]);\n    range[1] = range[0] + limit;\n    if (range[1] > 100) {\n      range[1] = 100;\n      range[0] = range[1] - limit;\n    }\n  }\n\n  _updateStatus(dim, ev) {\n    const totalLength = dim === 'x' ? this.get('width') : this.get('height');\n    dim = Util.upperFirst(dim);\n    const range = this.get('range');\n    const page = this.get('page' + dim);\n    const currentTarget = this.get('currentTarget');\n    const rangeStash = this.get('rangeStash');\n    const layout = this.get('layout');\n    const sign = layout === 'vertical' ? -1 : 1;\n    const currentPage = ev[ 'page' + dim ];\n    const diffPage = currentPage - page;\n    const diffRange = (diffPage / totalLength) * 100 * sign;\n    let diffStashRange;\n\n    const minRange = this.get('minRange');\n    const maxRange = this.get('maxRange');\n\n    if (range[1] <= range[0]) {\n      if (this._isElement(currentTarget, 'minHandleElement') || this._isElement(currentTarget, 'maxHandleElement')) {\n        range[0] = this._getRange(diffRange, range[0]);\n        range[1] = this._getRange(diffRange, range[0]);\n      }\n    } else {\n      if (this._isElement(currentTarget, 'minHandleElement')) {\n        range[0] = this._getRange(diffRange, range[0]);\n        if (minRange) { // 设置了最小范围\n          if ((range[1] - range[0]) <= minRange) {\n            this._limitRange(diffRange, minRange, range);\n          }\n        }\n\n        if (maxRange) { // 设置了最大范围\n          if (range[1] - range[0] >= maxRange) {\n            this._limitRange(diffRange, maxRange, range);\n          }\n        }\n      }\n      if (this._isElement(currentTarget, 'maxHandleElement')) {\n        range[1] = this._getRange(diffRange, range[1]);\n\n        if (minRange) { // 设置了最小范围\n          if ((range[1] - range[0]) <= minRange) {\n            this._limitRange(diffRange, minRange, range);\n          }\n        }\n\n        if (maxRange) { // 设置了最大范围\n          if (range[1] - range[0] >= maxRange) {\n            this._limitRange(diffRange, maxRange, range);\n          }\n        }\n      }\n    }\n\n    if (this._isElement(currentTarget, 'middleHandleElement')) {\n      diffStashRange = (rangeStash[1] - rangeStash[0]);\n      this._limitRange(diffRange, diffStashRange, range);\n    }\n\n    this.emit('sliderchange', {\n      range\n    });\n\n    this.set('page' + dim, currentPage);\n    this._renderUI();\n    this.get('canvas').draw(); // need delete\n    return;\n  }\n\n  _onMouseDown(ev) {\n    const currentTarget = ev.currentTarget;\n    const originEvent = ev.event;\n    const range = this.get('range');\n    originEvent.stopPropagation();\n    originEvent.preventDefault();\n    this.set('pageX', originEvent.pageX);\n    this.set('pageY', originEvent.pageY);\n    this.set('currentTarget', currentTarget);\n    this.set('rangeStash', [ range[0], range[1] ]);\n    this._bindCanvasEvents();\n  }\n\n  _bindCanvasEvents() {\n    const containerDOM = this.get('canvas').get('containerDOM');\n    this.onMouseMoveListener = DomUtil.addEventListener(containerDOM, 'mousemove', Util.wrapBehavior(this, '_onCanvasMouseMove'));\n    this.onMouseUpListener = DomUtil.addEventListener(containerDOM, 'mouseup', Util.wrapBehavior(this, '_onCanvasMouseUp'));\n    // @2018-06-06 by blue.lb 添加mouseleave事件监听，让用户在操作出滑块区域后有一个“正常”的效果，可以正常重新触发滑块的操作流程\n    this.onMouseLeaveListener = DomUtil.addEventListener(containerDOM, 'mouseleave', Util.wrapBehavior(this, '_onCanvasMouseUp'));\n  }\n\n  _onCanvasMouseMove(ev) {\n    const layout = this.get('layout');\n    if (layout === 'horizontal') {\n      this._updateStatus('x', ev);\n    } else {\n      this._updateStatus('y', ev);\n    }\n  }\n\n  _onCanvasMouseUp() {\n    this._removeDocumentEvents();\n  }\n\n  _removeDocumentEvents() {\n    this.onMouseMoveListener.remove();\n    this.onMouseUpListener.remove();\n    this.onMouseLeaveListener.remove();\n  }\n}\n\nmodule.exports = Range;\n"]}]}
{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\chart\\controller\\guide.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\chart\\controller\\guide.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["var Util = require('../../util');\r\nvar Guide = require('../../component/guide');\r\nvar GuideController = function () {\r\n    function GuideController(cfg) {\r\n        this.guides = [];\r\n        this.options = [];\r\n        this.xScales = null;\r\n        this.yScales = null;\r\n        this.view = null;\r\n        this.viewTheme = null;\r\n        this.frontGroup = null;\r\n        this.backGroup = null;\r\n        Util.mix(this, cfg);\r\n    }\r\n    var _proto = GuideController.prototype;\r\n    _proto._creatGuides = function _creatGuides() {\r\n        var self = this;\r\n        var options = this.options;\r\n        var xScales = this.xScales;\r\n        var yScales = this.yScales;\r\n        var view = this.view;\r\n        var viewTheme = this.viewTheme;\r\n        if (this.backContainer && view) {\r\n            this.backGroup = this.backContainer.addGroup({\r\n                viewId: view.get('_id')\r\n            });\r\n        }\r\n        if (this.frontContainer && view) {\r\n            this.frontGroup = this.frontContainer.addGroup({\r\n                viewId: view.get('_id')\r\n            });\r\n        }\r\n        options.forEach(function (option) {\r\n            var type = option.type;\r\n            var config = Util.deepMix({\r\n                xScales: xScales,\r\n                yScales: yScales,\r\n                viewTheme: viewTheme\r\n            }, viewTheme ? viewTheme.guide[type] : {}, option);\r\n            type = Util.upperFirst(type);\r\n            var guide = new Guide[type](config);\r\n            self.guides.push(guide);\r\n        });\r\n        return self.guides;\r\n    };\r\n    _proto.line = function line(cfg) {\r\n        if (cfg === void 0) {\r\n            cfg = {};\r\n        }\r\n        this.options.push(Util.mix({\r\n            type: 'line'\r\n        }, cfg));\r\n        return this;\r\n    };\r\n    _proto.arc = function arc(cfg) {\r\n        if (cfg === void 0) {\r\n            cfg = {};\r\n        }\r\n        this.options.push(Util.mix({\r\n            type: 'arc'\r\n        }, cfg));\r\n        return this;\r\n    };\r\n    _proto.text = function text(cfg) {\r\n        if (cfg === void 0) {\r\n            cfg = {};\r\n        }\r\n        this.options.push(Util.mix({\r\n            type: 'text'\r\n        }, cfg));\r\n        return this;\r\n    };\r\n    _proto.image = function image(cfg) {\r\n        if (cfg === void 0) {\r\n            cfg = {};\r\n        }\r\n        this.options.push(Util.mix({\r\n            type: 'image'\r\n        }, cfg));\r\n        return this;\r\n    };\r\n    _proto.region = function region(cfg) {\r\n        if (cfg === void 0) {\r\n            cfg = {};\r\n        }\r\n        this.options.push(Util.mix({\r\n            type: 'region'\r\n        }, cfg));\r\n        return this;\r\n    };\r\n    _proto.regionFilter = function regionFilter(cfg) {\r\n        if (cfg === void 0) {\r\n            cfg = {};\r\n        }\r\n        this.options.push(Util.mix({\r\n            type: 'regionFilter'\r\n        }, cfg));\r\n        return this;\r\n    };\r\n    _proto.dataMarker = function dataMarker(cfg) {\r\n        if (cfg === void 0) {\r\n            cfg = {};\r\n        }\r\n        this.options.push(Util.mix({\r\n            type: 'dataMarker'\r\n        }, cfg));\r\n        return this;\r\n    };\r\n    _proto.dataRegion = function dataRegion(cfg) {\r\n        if (cfg === void 0) {\r\n            cfg = {};\r\n        }\r\n        this.options.push(Util.mix({\r\n            type: 'dataRegion'\r\n        }, cfg));\r\n        return this;\r\n    };\r\n    _proto.html = function html(cfg) {\r\n        if (cfg === void 0) {\r\n            cfg = {};\r\n        }\r\n        this.options.push(Util.mix({\r\n            type: 'html'\r\n        }, cfg));\r\n        return this;\r\n    };\r\n    _proto.render = function render(coord) {\r\n        var self = this;\r\n        var view = self.view;\r\n        var viewData = view && view.get('data');\r\n        var guides = self._creatGuides();\r\n        Util.each(guides, function (guide) {\r\n            var container;\r\n            if (guide.get('top')) {\r\n                container = self.frontGroup || self.frontContainer;\r\n            }\r\n            else {\r\n                container = self.backGroup || self.backContainer;\r\n            }\r\n            guide.render(coord, container, viewData, view);\r\n        });\r\n    };\r\n    _proto.clear = function clear() {\r\n        this.options = [];\r\n        this.reset();\r\n    };\r\n    _proto.changeVisible = function changeVisible(visible) {\r\n        var guides = this.guides;\r\n        Util.each(guides, function (guide) {\r\n            guide.changeVisible(visible);\r\n        });\r\n    };\r\n    _proto.reset = function reset() {\r\n        var guides = this.guides;\r\n        Util.each(guides, function (guide) {\r\n            guide.clear();\r\n        });\r\n        this.guides = [];\r\n        this.backGroup && this.backGroup.remove();\r\n        this.frontGroup && this.frontGroup.remove();\r\n    };\r\n    return GuideController;\r\n}();\r\nmodule.exports = GuideController;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\chart\\controller\\guide.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\lib\\chart\\controller\\guide.js"],"names":[],"mappings":"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","sourcesContent":["var Util = require('../../util');\n\nvar Guide = require('../../component/guide');\n\nvar GuideController =\n/*#__PURE__*/\nfunction () {\n  function GuideController(cfg) {\n    this.guides = [];\n    this.options = [];\n    this.xScales = null;\n    this.yScales = null;\n    this.view = null;\n    this.viewTheme = null;\n    this.frontGroup = null;\n    this.backGroup = null;\n    Util.mix(this, cfg);\n  }\n\n  var _proto = GuideController.prototype;\n\n  _proto._creatGuides = function _creatGuides() {\n    var self = this;\n    var options = this.options;\n    var xScales = this.xScales;\n    var yScales = this.yScales;\n    var view = this.view;\n    var viewTheme = this.viewTheme;\n\n    if (this.backContainer && view) {\n      this.backGroup = this.backContainer.addGroup({\n        viewId: view.get('_id')\n      });\n    }\n\n    if (this.frontContainer && view) {\n      this.frontGroup = this.frontContainer.addGroup({\n        viewId: view.get('_id')\n      });\n    }\n\n    options.forEach(function (option) {\n      var type = option.type;\n      var config = Util.deepMix({\n        xScales: xScales,\n        yScales: yScales,\n        viewTheme: viewTheme\n      }, viewTheme ? viewTheme.guide[type] : {}, option);\n      type = Util.upperFirst(type);\n      var guide = new Guide[type](config);\n      self.guides.push(guide);\n    });\n    return self.guides;\n  };\n\n  _proto.line = function line(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    this.options.push(Util.mix({\n      type: 'line'\n    }, cfg));\n    return this;\n  };\n\n  _proto.arc = function arc(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    this.options.push(Util.mix({\n      type: 'arc'\n    }, cfg));\n    return this;\n  };\n\n  _proto.text = function text(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    this.options.push(Util.mix({\n      type: 'text'\n    }, cfg));\n    return this;\n  };\n\n  _proto.image = function image(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    this.options.push(Util.mix({\n      type: 'image'\n    }, cfg));\n    return this;\n  };\n\n  _proto.region = function region(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    this.options.push(Util.mix({\n      type: 'region'\n    }, cfg));\n    return this;\n  };\n\n  _proto.regionFilter = function regionFilter(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    this.options.push(Util.mix({\n      type: 'regionFilter'\n    }, cfg));\n    return this;\n  };\n\n  _proto.dataMarker = function dataMarker(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    this.options.push(Util.mix({\n      type: 'dataMarker'\n    }, cfg));\n    return this;\n  };\n\n  _proto.dataRegion = function dataRegion(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    this.options.push(Util.mix({\n      type: 'dataRegion'\n    }, cfg));\n    return this;\n  };\n\n  _proto.html = function html(cfg) {\n    if (cfg === void 0) {\n      cfg = {};\n    }\n\n    this.options.push(Util.mix({\n      type: 'html'\n    }, cfg));\n    return this;\n  };\n\n  _proto.render = function render(coord) {\n    var self = this;\n    var view = self.view;\n    var viewData = view && view.get('data');\n\n    var guides = self._creatGuides();\n\n    Util.each(guides, function (guide) {\n      var container;\n\n      if (guide.get('top')) {\n        // 默认 guide 绘制到 backPlot，用户也可以声明 top: true，显示在最上层\n        container = self.frontGroup || self.frontContainer;\n      } else {\n        container = self.backGroup || self.backContainer;\n      }\n\n      guide.render(coord, container, viewData, view);\n    });\n  };\n\n  _proto.clear = function clear() {\n    this.options = [];\n    this.reset();\n  };\n\n  _proto.changeVisible = function changeVisible(visible) {\n    var guides = this.guides;\n    Util.each(guides, function (guide) {\n      guide.changeVisible(visible);\n    });\n  };\n\n  _proto.reset = function reset() {\n    var guides = this.guides;\n    Util.each(guides, function (guide) {\n      guide.clear();\n    });\n    this.guides = [];\n    this.backGroup && this.backGroup.remove();\n    this.frontGroup && this.frontGroup.remove();\n  };\n\n  return GuideController;\n}();\n\nmodule.exports = GuideController;"]}]}
{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/adjust/lib/mixin/adjust.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/adjust/lib/mixin/adjust.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var DEFAULT_Y = 0;\nvar each = require('@antv/util/lib/each');\nvar ArrayUtil = {\n    values: require('@antv/util/lib/array/values-of-key')\n};\nmodule.exports = {\n    isAdjust: function isAdjust(dimName) {\n        return this.adjustNames.indexOf(dimName) >= 0;\n    },\n    _getDimValues: function _getDimValues(mergeData) {\n        var self = this;\n        var valuesMap = {};\n        var dims = [];\n        if (self.xField && self.isAdjust('x')) {\n            dims.push(self.xField);\n        }\n        if (self.yField && self.isAdjust('y')) {\n            dims.push(self.yField);\n        }\n        each(dims, function (dim) {\n            var values = ArrayUtil.values(mergeData, dim);\n            values.sort(function (v1, v2) {\n                return v1 - v2;\n            });\n            valuesMap[dim] = values;\n        });\n        if (!self.yField && self.isAdjust('y')) {\n            var dim = 'y';\n            var values = [DEFAULT_Y, 1];\n            valuesMap[dim] = values;\n        }\n        return valuesMap;\n    },\n    adjustData: function adjustData(dataArray, mergeData) {\n        var self = this;\n        var valuesMap = self._getDimValues(mergeData);\n        each(dataArray, function (data, index) {\n            each(valuesMap, function (values, dim) {\n                self.adjustDim(dim, values, data, dataArray.length, index);\n            });\n        });\n    },\n    getAdjustRange: function getAdjustRange(dim, key, values) {\n        var self = this;\n        var index = values.indexOf(key);\n        var length = values.length;\n        var pre;\n        var next;\n        if (!self.yField && self.isAdjust('y')) {\n            pre = 0;\n            next = 1;\n        }\n        else if (length > 1) {\n            pre = index === 0 ? values[0] : values[index - 1];\n            next = index === length - 1 ? values[length - 1] : values[index + 1];\n            if (index !== 0) {\n                pre += (key - pre) / 2;\n            }\n            else {\n                pre -= (next - key) / 2;\n            }\n            if (index !== length - 1) {\n                next -= (next - key) / 2;\n            }\n            else {\n                next += (key - values[length - 2]) / 2;\n            }\n        }\n        else {\n            pre = key === 0 ? 0 : key - 0.5;\n            next = key === 0 ? 1 : key + 0.5;\n        }\n        return {\n            pre: pre,\n            next: next\n        };\n    },\n    groupData: function groupData(data, dim) {\n        var groups = {};\n        each(data, function (record) {\n            var value = record[dim];\n            if (value === undefined) {\n                value = record[dim] = DEFAULT_Y;\n            }\n            if (!groups[value]) {\n                groups[value] = [];\n            }\n            groups[value].push(record);\n        });\n        return groups;\n    }\n};\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/adjust/lib/mixin/adjust.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/adjust/lib/mixin/adjust.js"],"names":[],"mappings":"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","sourcesContent":["var DEFAULT_Y = 0; // 默认的y的值\n\nvar each = require('@antv/util/lib/each');\n\nvar ArrayUtil = {\n  values: require('@antv/util/lib/array/values-of-key')\n};\nmodule.exports = {\n  /**\n   * 对应的维度是否可以调整\n   * @protected\n   * @param  {String}  dimName 可以调整的维度 x,y\n   * @return {Boolean} 是否可以调整\n   */\n  isAdjust: function isAdjust(dimName) {\n    return this.adjustNames.indexOf(dimName) >= 0;\n  },\n\n  /**\n   * @protected\n   * 获取可调整度量对应的值\n   * @param  {Frame} mergeData 数据\n   * @return {Object} 值的映射\n   */\n  _getDimValues: function _getDimValues(mergeData) {\n    var self = this;\n    var valuesMap = {};\n    var dims = [];\n\n    if (self.xField && self.isAdjust('x')) {\n      dims.push(self.xField);\n    }\n\n    if (self.yField && self.isAdjust('y')) {\n      dims.push(self.yField);\n    }\n\n    each(dims, function (dim) {\n      var values = ArrayUtil.values(mergeData, dim);\n      values.sort(function (v1, v2) {\n        return v1 - v2;\n      });\n      valuesMap[dim] = values;\n    });\n\n    if (!self.yField && self.isAdjust('y')) {\n      // 只有一维的情况下,同时调整y\n      var dim = 'y';\n      var values = [DEFAULT_Y, 1]; // 默认分布在y轴的 0.1 与 0.2 之间\n\n      valuesMap[dim] = values;\n    }\n\n    return valuesMap;\n  },\n  adjustData: function adjustData(dataArray, mergeData) {\n    var self = this;\n\n    var valuesMap = self._getDimValues(mergeData);\n\n    each(dataArray, function (data, index) {\n      // 遍历所有数据集合\n      each(valuesMap, function (values, dim) {\n        // 根据不同的度量分别调整位置\n        self.adjustDim(dim, values, data, dataArray.length, index);\n      });\n    });\n  },\n  getAdjustRange: function getAdjustRange(dim, key, values) {\n    var self = this;\n    var index = values.indexOf(key);\n    var length = values.length;\n    var pre;\n    var next;\n\n    if (!self.yField && self.isAdjust('y')) {\n      pre = 0;\n      next = 1;\n    } else if (length > 1) {\n      pre = index === 0 ? values[0] : values[index - 1];\n      next = index === length - 1 ? values[length - 1] : values[index + 1];\n\n      if (index !== 0) {\n        pre += (key - pre) / 2;\n      } else {\n        pre -= (next - key) / 2;\n      }\n\n      if (index !== length - 1) {\n        next -= (next - key) / 2;\n      } else {\n        next += (key - values[length - 2]) / 2;\n      }\n    } else {\n      pre = key === 0 ? 0 : key - 0.5;\n      next = key === 0 ? 1 : key + 0.5;\n    }\n\n    return {\n      pre: pre,\n      next: next\n    };\n  },\n\n  /**\n   * 对数据进行分组\n   * @param  {Array} data 数据\n   * @param  {String} dim 分组的字段\n   * @return {Object}  分组的键值对映射\n   */\n  groupData: function groupData(data, dim) {\n    var groups = {};\n    each(data, function (record) {\n      var value = record[dim];\n\n      if (value === undefined) {\n        value = record[dim] = DEFAULT_Y;\n      }\n\n      if (!groups[value]) {\n        groups[value] = [];\n      }\n\n      groups[value].push(record);\n    });\n    return groups;\n  }\n};"]}]}
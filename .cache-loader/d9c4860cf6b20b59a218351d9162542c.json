{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/layouts/notification/index.tsx","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/layouts/notification/index.tsx","mtime":1596379644503},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nimport React from \"react\";\nimport Button from \"antd/lib/button\";\nimport \"antd/lib/button/style/index.js\";\nimport Divider from \"antd/lib/divider\";\nimport \"antd/lib/divider/style/index.js\";\nimport Drawer from \"antd/lib/drawer\";\nimport \"antd/lib/drawer/style/index.js\";\nimport Spin from \"antd/lib/spin\";\nimport \"antd/lib/spin/style/index.js\";\nimport { LocaleMessage, lang } from \"../../internationalization\";\nimport NotificationItem from \"./NotificationItem\";\nimport { Inject } from \"react.di\";\nimport { NotificationStore } from \"../../stores/NotificationStore\";\nimport { observer } from \"mobx-react\";\nimport QueueAnim from \"rc-queue-anim\";\nimport { UserStore } from \"../../stores/UserStore\";\nvar root = lang().notification;\nvar DRAWER_WIDTH = 300;\nvar NotificationPanel = (function (_super) {\n    __extends(NotificationPanel, _super);\n    function NotificationPanel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refresh = function () {\n            _this.notificationStore.refresh();\n        };\n        _this.onClose = function () {\n            _this.notificationStore.toggleNotificationDrawerShown();\n        };\n        _this.onRemove = function (id) {\n            _this.notificationStore.removeNotification(id);\n        };\n        return _this;\n    }\n    NotificationPanel.prototype.render = function () {\n        var _this = this;\n        var _a = this.notificationStore, refreshing = _a.refreshing, notifications = _a.notifications, notificationDrawerShown = _a.notificationDrawerShown, count = _a.count;\n        return React.createElement(Drawer, { title: React.createElement(LocaleMessage, { id: root.panelTitle }), placement: \"right\", closable: true, onClose: this.onClose, visible: notificationDrawerShown, width: DRAWER_WIDTH }, this.userStore.loggedIn\n            ? React.createElement(React.Fragment, null,\n                React.createElement(Button, { style: { width: \"100%\" }, type: \"primary\", onClick: this.refresh },\n                    React.createElement(LocaleMessage, { id: root.refresh })),\n                React.createElement(Divider, null),\n                React.createElement(\"div\", null,\n                    React.createElement(QueueAnim, { component: \"ul\", type: [\"right\", \"left\"], leaveReverse: true },\n                        refreshing ? React.createElement(Spin, null) : null,\n                        count === 0\n                            ? React.createElement(\"h3\", { style: { textAlign: \"center\" } },\n                                React.createElement(LocaleMessage, { id: root.none }))\n                            : notifications.map(function (x) { return React.createElement(NotificationItem, { item: x, key: x.id, onRemove: _this.onRemove }); }))))\n            : React.createElement(\"h3\", { style: { textAlign: \"center\" } },\n                React.createElement(LocaleMessage, { id: lang().common.login.needLogin })));\n    };\n    var _a, _b;\n    __decorate([\n        Inject,\n        __metadata(\"design:type\", typeof (_a = typeof NotificationStore !== \"undefined\" && NotificationStore) === \"function\" ? _a : Object)\n    ], NotificationPanel.prototype, \"notificationStore\", void 0);\n    __decorate([\n        Inject,\n        __metadata(\"design:type\", typeof (_b = typeof UserStore !== \"undefined\" && UserStore) === \"function\" ? _b : Object)\n    ], NotificationPanel.prototype, \"userStore\", void 0);\n    NotificationPanel = __decorate([\n        observer\n    ], NotificationPanel);\n    return NotificationPanel;\n}(React.Component));\nexport default NotificationPanel;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/layouts/notification/index.tsx","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/layouts/notification/index.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Button, Divider, Drawer, Spin } from \"antd\";\r\nimport { LocaleMessage, lang } from \"../../internationalization\";\r\nimport NotificationItem from \"./NotificationItem\";\r\nimport { Inject } from \"react.di\";\r\nimport { NotificationStore } from \"../../stores/NotificationStore\";\r\nimport { observer } from \"mobx-react\";\r\nimport QueueAnim from \"rc-queue-anim\";\r\nimport { UserStore } from \"../../stores/UserStore\";\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\nconst root = lang().notification;\r\n\r\nconst DRAWER_WIDTH = 300;\r\n\r\n@observer\r\nexport default class NotificationPanel extends React.Component<Props, {}> {\r\n\r\n  @Inject notificationStore: NotificationStore;\r\n  @Inject userStore: UserStore;\r\n\r\n  refresh = () => {\r\n    this.notificationStore.refresh();\r\n  }\r\n\r\n  onClose = () => {\r\n    this.notificationStore.toggleNotificationDrawerShown();\r\n  }\r\n\r\n  onRemove = (id: string) => {\r\n    this.notificationStore.removeNotification(id);\r\n  }\r\n\r\n  render() {\r\n\r\n    const { refreshing, notifications, notificationDrawerShown, count } = this.notificationStore;\r\n\r\n    return <Drawer\r\n      title={<LocaleMessage id={root.panelTitle}/>}\r\n      placement={\"right\"}\r\n      closable={true}\r\n      onClose={this.onClose}\r\n      visible={notificationDrawerShown}\r\n      width={DRAWER_WIDTH}\r\n    >\r\n      {this.userStore.loggedIn\r\n        ? <>\r\n          <Button style={{width: \"100%\"}} type={\"primary\"} onClick={this.refresh}>\r\n            <LocaleMessage id={root.refresh}/>\r\n          </Button>\r\n          <Divider/>\r\n          <div>\r\n            <QueueAnim component=\"ul\" type={[\"right\", \"left\"]} leaveReverse={true}>\r\n              {refreshing ? <Spin/> : null}\r\n              {\r\n                count === 0\r\n                  ? <h3 style={{textAlign: \"center\"}}><LocaleMessage id={root.none}/></h3>\r\n                  : notifications.map((x) => <NotificationItem item={x} key={x.id} onRemove={this.onRemove}/>)\r\n              }\r\n            </QueueAnim>\r\n          </div>\r\n        </>\r\n        : <h3 style={{textAlign: \"center\"}}><LocaleMessage id={lang().common.login.needLogin}/></h3>\r\n      }\r\n    </Drawer>;\r\n  }\r\n}\r\n"]}]}
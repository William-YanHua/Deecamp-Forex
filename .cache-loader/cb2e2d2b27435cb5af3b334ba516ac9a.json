{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\plots\\funnel\\geometry\\shape\\funnel-basic-rect.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\plots\\funnel\\geometry\\shape\\funnel-basic-rect.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import { __assign } from \"tslib\";\r\nimport { get, isNil, isArray } from '@antv/util';\r\nimport { registerShape } from '@antv/g2';\r\nimport { getStyle } from '@antv/g2/lib/geometry/shape/util/get-style';\r\nfunction _getRectPoints(cfg, isPyramid) {\r\n    if (isPyramid === void 0) {\r\n        isPyramid = false;\r\n    }\r\n    var x = cfg.x, y = cfg.y, y0 = cfg.y0, size = cfg.size;\r\n    var yMin;\r\n    var yMax;\r\n    if (isArray(y)) {\r\n        yMin = y[0];\r\n        yMax = y[1];\r\n    }\r\n    else {\r\n        yMin = y0;\r\n        yMax = y;\r\n    }\r\n    var xMin;\r\n    var xMax;\r\n    if (isArray(x)) {\r\n        xMin = x[0];\r\n        xMax = x[1];\r\n    }\r\n    else {\r\n        xMin = x - size / 2;\r\n        xMax = x + size / 2;\r\n    }\r\n    var points = [\r\n        { x: xMin, y: yMin },\r\n        { x: xMin, y: yMax },\r\n    ];\r\n    if (isPyramid) {\r\n        points.push({\r\n            x: xMax,\r\n            y: (yMax + yMin) / 2,\r\n        });\r\n    }\r\n    else {\r\n        points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\r\n    }\r\n    return points;\r\n}\r\nfunction _getFunnelPath(cfg, compare) {\r\n    var path = [];\r\n    var points = cfg.points, nextPoints = cfg.nextPoints;\r\n    if (compare) {\r\n        var yValues = compare.yValues, yValuesMax = compare.yValuesMax, yValuesNext = compare.yValuesNext;\r\n        var originY = (points[0].y + points[1].y) / 2;\r\n        var yValueTotal_1 = yValues[0] + yValues[1];\r\n        var yRatios = yValues.map(function (yValue) { return yValue / yValueTotal_1 / 0.5; });\r\n        var yOffset = (yValuesMax[0] / (yValuesMax[0] + yValuesMax[1]) - 0.5) * 0.9;\r\n        var spacing = 0.001;\r\n        if (!isNil(nextPoints)) {\r\n            var yValueTotalNext_1 = yValuesNext[0] + yValuesNext[1];\r\n            var yRatiosNext = yValuesNext.map(function (yValueNext) { return yValueNext / yValueTotalNext_1 / 0.5; });\r\n            path.push(['M', points[0].x, yOffset + (points[0].y - originY) * yRatios[0] + originY - spacing], ['L', points[1].x, yOffset + originY - spacing], ['L', nextPoints[1].x, yOffset + originY - spacing], ['L', nextPoints[0].x, yOffset + (nextPoints[3].y - originY) * yRatiosNext[0] + originY - spacing], ['Z']);\r\n            path.push(['M', points[0].x, yOffset + originY + spacing], ['L', points[1].x, yOffset + (points[1].y - originY) * yRatios[1] + originY + spacing], ['L', nextPoints[1].x, yOffset + (nextPoints[2].y - originY) * yRatiosNext[1] + originY + spacing], ['L', nextPoints[0].x, yOffset + originY + spacing], ['Z']);\r\n        }\r\n        else {\r\n            path.push(['M', points[0].x, yOffset + (points[0].y - originY) * yRatios[0] + originY], ['L', points[1].x, yOffset + originY], ['L', points[2].x, yOffset + originY], ['L', points[3].x, yOffset + (points[3].y - originY) * yRatios[0] + originY], ['Z']);\r\n            path.push(['M', points[0].x, yOffset + 0.002 + originY], ['L', points[1].x, yOffset + 0.002 + (points[1].y - originY) * yRatios[1] + originY], ['L', points[2].x, yOffset + 0.002 + (points[2].y - originY) * yRatios[1] + originY], ['L', points[3].x, yOffset + 0.002 + originY], ['Z']);\r\n        }\r\n    }\r\n    else {\r\n        if (!isNil(nextPoints)) {\r\n            path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', nextPoints[1].x, nextPoints[1].y], ['L', nextPoints[0].x, nextPoints[0].y], ['Z']);\r\n        }\r\n        else {\r\n            path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['Z']);\r\n        }\r\n    }\r\n    return path;\r\n}\r\nregisterShape('interval', 'funnel-basic-rect', {\r\n    getPoints: function (pointInfo) {\r\n        pointInfo.size = pointInfo.size * 1.8;\r\n        return _getRectPoints(pointInfo);\r\n    },\r\n    draw: function (cfg, container) {\r\n        var _a;\r\n        var style = getStyle(cfg, false, true);\r\n        var compare = get(cfg, 'data.__compare__');\r\n        var path = this.parsePath(_getFunnelPath(cfg, compare));\r\n        return container.addShape('path', (_a = {\r\n            name: 'interval',\r\n            attrs: __assign(__assign({}, style), { path: path })\r\n        },\r\n            _a['__compare__'] = compare,\r\n            _a));\r\n    },\r\n    getMarker: function (markerCfg) {\r\n        var color = markerCfg.color;\r\n        return {\r\n            symbol: 'square',\r\n            style: {\r\n                r: 4,\r\n                fill: color,\r\n            },\r\n        };\r\n    },\r\n});\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\plots\\funnel\\geometry\\shape\\funnel-basic-rect.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\plots\\funnel\\geometry\\shape\\funnel-basic-rect.js"],"names":[],"mappings":"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","sourcesContent":["import { __assign } from \"tslib\";\nimport { get, isNil, isArray } from '@antv/util';\nimport { registerShape } from '@antv/g2';\nimport { getStyle } from '@antv/g2/lib/geometry/shape/util/get-style';\n// 根据数据点生成矩形的四个关键点\nfunction _getRectPoints(cfg, isPyramid) {\n    if (isPyramid === void 0) { isPyramid = false; }\n    var x = cfg.x, y = cfg.y, y0 = cfg.y0, size = cfg.size;\n    // 有 4 种情况，\n    // 1. x, y 都不是数组\n    // 2. y是数组，x不是\n    // 3. x是数组，y不是\n    // 4. x, y 都是数组\n    var yMin;\n    var yMax;\n    if (isArray(y)) {\n        yMin = y[0];\n        yMax = y[1];\n    }\n    else {\n        yMin = y0;\n        yMax = y;\n    }\n    var xMin;\n    var xMax;\n    if (isArray(x)) {\n        xMin = x[0];\n        xMax = x[1];\n    }\n    else {\n        xMin = x - size / 2;\n        xMax = x + size / 2;\n    }\n    var points = [\n        { x: xMin, y: yMin },\n        { x: xMin, y: yMax },\n    ];\n    if (isPyramid) {\n        // 绘制尖底漏斗图\n        // 金字塔漏斗图的关键点\n        // 1\n        // |   2\n        // 0\n        points.push({\n            x: xMax,\n            y: (yMax + yMin) / 2,\n        });\n    }\n    else {\n        // 矩形的四个关键点，结构如下（左下角顺时针连接）\n        // 1 ---- 2\n        // |      |\n        // 0 ---- 3\n        points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n    }\n    return points;\n}\n// 根据关键点绘制漏斗图的 path\nfunction _getFunnelPath(cfg, compare) {\n    var path = [];\n    var points = cfg.points, nextPoints = cfg.nextPoints;\n    if (compare) {\n        // 对比漏斗\n        var yValues = compare.yValues, yValuesMax = compare.yValuesMax, yValuesNext = compare.yValuesNext;\n        var originY = (points[0].y + points[1].y) / 2;\n        var yValueTotal_1 = yValues[0] + yValues[1];\n        var yRatios = yValues.map(function (yValue) { return yValue / yValueTotal_1 / 0.5; });\n        var yOffset = (yValuesMax[0] / (yValuesMax[0] + yValuesMax[1]) - 0.5) * 0.9;\n        var spacing = 0.001;\n        if (!isNil(nextPoints)) {\n            var yValueTotalNext_1 = yValuesNext[0] + yValuesNext[1];\n            var yRatiosNext = yValuesNext.map(function (yValueNext) { return yValueNext / yValueTotalNext_1 / 0.5; });\n            path.push(['M', points[0].x, yOffset + (points[0].y - originY) * yRatios[0] + originY - spacing], ['L', points[1].x, yOffset + originY - spacing], ['L', nextPoints[1].x, yOffset + originY - spacing], ['L', nextPoints[0].x, yOffset + (nextPoints[3].y - originY) * yRatiosNext[0] + originY - spacing], ['Z']);\n            path.push(['M', points[0].x, yOffset + originY + spacing], ['L', points[1].x, yOffset + (points[1].y - originY) * yRatios[1] + originY + spacing], ['L', nextPoints[1].x, yOffset + (nextPoints[2].y - originY) * yRatiosNext[1] + originY + spacing], ['L', nextPoints[0].x, yOffset + originY + spacing], ['Z']);\n        }\n        else {\n            path.push(['M', points[0].x, yOffset + (points[0].y - originY) * yRatios[0] + originY], ['L', points[1].x, yOffset + originY], ['L', points[2].x, yOffset + originY], ['L', points[3].x, yOffset + (points[3].y - originY) * yRatios[0] + originY], ['Z']);\n            path.push(['M', points[0].x, yOffset + 0.002 + originY], ['L', points[1].x, yOffset + 0.002 + (points[1].y - originY) * yRatios[1] + originY], ['L', points[2].x, yOffset + 0.002 + (points[2].y - originY) * yRatios[1] + originY], ['L', points[3].x, yOffset + 0.002 + originY], ['Z']);\n        }\n    }\n    else {\n        // 标准漏斗\n        if (!isNil(nextPoints)) {\n            path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', nextPoints[1].x, nextPoints[1].y], ['L', nextPoints[0].x, nextPoints[0].y], ['Z']);\n        }\n        else {\n            path.push(['M', points[0].x, points[0].y], ['L', points[1].x, points[1].y], ['L', points[2].x, points[2].y], ['L', points[3].x, points[3].y], ['Z']);\n        }\n    }\n    return path;\n}\nregisterShape('interval', 'funnel-basic-rect', {\n    getPoints: function (pointInfo) {\n        pointInfo.size = pointInfo.size * 1.8; // 调整面积\n        return _getRectPoints(pointInfo);\n    },\n    draw: function (cfg, container) {\n        var _a;\n        var style = getStyle(cfg, false, true);\n        var compare = get(cfg, 'data.__compare__');\n        var path = this.parsePath(_getFunnelPath(cfg, compare));\n        return container.addShape('path', (_a = {\n                name: 'interval',\n                attrs: __assign(__assign({}, style), { path: path })\n            },\n            _a['__compare__'] = compare,\n            _a));\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color;\n        return {\n            symbol: 'square',\n            style: {\n                r: 4,\n                fill: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=funnel-basic-rect.js.map"]}]}
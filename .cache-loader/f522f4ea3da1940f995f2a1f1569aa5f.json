{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\src\\app\\api\\mock\\UserServiceMock.ts","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\src\\app\\api\\mock\\UserServiceMock.ts","mtime":1596379644455},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { Injectable } from \"react.di\";\r\nimport { UserService } from \"../UserService\";\r\nimport { UserRole } from \"../../models/user/User\";\r\nimport { waitForMs } from \"../../../utils/Wait\";\r\nvar sampleAvatar = \"https://en.gravatar.com/userimage/57315252/e9c37404163b4b2e73fd72003e391aac.jpg?size=200\";\r\nvar UserServiceMock = (function (_super) {\r\n    __extends(UserServiceMock, _super);\r\n    function UserServiceMock() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    UserServiceMock.prototype.login = function (username, password) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            return __generator(this, function (_a) {\r\n                if (username === \"user\" && password === \"user\") {\r\n                    return [2, {\r\n                            token: \"123\",\r\n                            role: UserRole.USER,\r\n                            avatarUrl: null,\r\n                            username: username,\r\n                            email: username + \"@test.com\",\r\n                            emailValidated: true,\r\n                            expireAt: Date.now().toString(),\r\n                        }];\r\n                }\r\n                else {\r\n                    throw { statusCode: 401 };\r\n                }\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    UserServiceMock.prototype.logout = function () {\r\n    };\r\n    UserServiceMock.prototype.register = function (params) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2, {\r\n                        token: \"123\",\r\n                        expireAt: \"null\",\r\n                    }];\r\n            });\r\n        });\r\n    };\r\n    UserServiceMock.prototype.requestEmailValidation = function (token) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, waitForMs(1000)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2, {\r\n                                validationToken: \"123\",\r\n                                expireAt: \"123\",\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    UserServiceMock.prototype.validateEmail = function (token, code, userToken) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            return __generator(this, function (_a) {\r\n                if (Math.random() <= 0.5) {\r\n                    throw {\r\n                        statusCode: 400,\r\n                    };\r\n                }\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    UserServiceMock.prototype.getUserProfile = function (username) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2, {\r\n                        username: username,\r\n                        email: \"smallda@outlook.com\",\r\n                        registerDate: \"123\",\r\n                        avatarUrl: sampleAvatar,\r\n                    }];\r\n            });\r\n        });\r\n    };\r\n    UserServiceMock.prototype.getUserInvestmentPreference = function (username) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2, {\r\n                        fluctuation: 10,\r\n                        profit: 5,\r\n                    }];\r\n            });\r\n        });\r\n    };\r\n    UserServiceMock.prototype.setUserInvestmentPreference = function (username, pref) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    UserServiceMock.prototype.evaluatePreference = function (answers) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4, waitForMs(2000)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2, {\r\n                                profit: 10,\r\n                                fluctuation: 5,\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    UserServiceMock.prototype.setCitiAccount = function (username, password) {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            var encrypted;\r\n            return __generator(this, function (_a) {\r\n                encrypted = this.encrypt({\r\n                    modulus: \"9e698de123c3484b174dcaadbc4cb46bc31341a2b743a1a25a1a34e44c9b655f31bfded01b9e14a9b548511d1bfdb9d93b2bbd8fe029fea49376e2f652f3dacc3cc1cf1a15d96726b3e573313803c5be73d154f30820d1e79e17e2d73b4e4fe0b0af406dcddfdb9e0a8d60ca266586bc4d64bd6d08cb37cba72de8240e72d4ed1ef46c76b1df9edd200563ec0614b820f2c6cf847283f74a3105e357a271742b1191314f5ce344f5b39db8caad53d0e6313ee3269aa54e1d3226c072f845e43d950044d77ea3879d65f2b112f7d889ebf793df4d7f247458b623d504c904a6e447fd3283db162d0c84a30b1b1c83d7a43a5ddf9e40165c306bce993bf37e22e3\",\r\n                    exponent: \"10001\", eventId: \"24FCE4D8FA4E6E1212E7196060852307\"\r\n                }, password);\r\n                console.log(encrypted);\r\n                return [2];\r\n            });\r\n        });\r\n    };\r\n    UserServiceMock.prototype.getCitiAccount = function () {\r\n        return __awaiter(this, void 0, Promise, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2, { username: null }];\r\n            });\r\n        });\r\n    };\r\n    UserServiceMock = __decorate([\r\n        Injectable\r\n    ], UserServiceMock);\r\n    return UserServiceMock;\r\n}(UserService));\r\nexport { UserServiceMock };\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\src\\app\\api\\mock\\UserServiceMock.ts","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\src\\app\\api\\mock\\UserServiceMock.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,UAAU,CAAC;AACtC,OAAO,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;AAC7C,OAAO,EAAE,QAAQ,EAAE,MAAM,wBAAwB,CAAC;AAQlD,OAAO,EAAE,SAAS,EAAE,MAAM,qBAAqB,CAAC;AAEhD,IAAM,YAAY,GAAG,0FAA0F,CAAC;AAGhH;IAAqC,mCAAW;IAAhD;;IAuFA,CAAC;IArFO,+BAAK,GAAX,UAAY,QAAgB,EAAE,QAAgB;uCAAG,OAAO;;gBAEtD,IAAI,QAAQ,KAAK,MAAM,IAAI,QAAQ,KAAK,MAAM,EAAE;oBAC9C,WAAO;4BACL,KAAK,EAAE,KAAK;4BACZ,IAAI,EAAE,QAAQ,CAAC,IAAI;4BACnB,SAAS,EAAE,IAAI;4BAEf,QAAQ,UAAA;4BACR,KAAK,EAAK,QAAQ,cAAW;4BAC7B,cAAc,EAAE,IAAI;4BACpB,QAAQ,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,QAAQ,EAAE;yBAChC,EAAC;iBACH;qBAAM;oBACL,MAAM,EAAE,UAAU,EAAE,GAAG,EAAE,CAAC;iBAC3B;;;;KACF;IAED,gCAAM,GAAN;IAEA,CAAC;IAEK,kCAAQ,GAAd,UAAe,MAAsB;uCAAG,OAAO;;gBAC7C,WAAO;wBACL,KAAK,EAAE,KAAK;wBACZ,QAAQ,EAAE,MAAM;qBACjB,EAAC;;;KACH;IAEK,gDAAsB,GAA5B,UAA6B,KAAa;uCAAG,OAAO;;;4BAClD,WAAM,SAAS,CAAC,IAAI,CAAC,EAAA;;wBAArB,SAAqB,CAAC;wBAEtB,WAAO;gCACL,eAAe,EAAE,KAAK;gCACtB,QAAQ,EAAE,KAAK;6BAChB,EAAC;;;;KACH;IAEK,uCAAa,GAAnB,UAAoB,KAAa,EAAE,IAAY,EAAE,SAAiB;uCAAG,OAAO;;gBAC1E,IAAI,IAAI,CAAC,MAAM,EAAE,IAAI,GAAG,EAAE;oBACxB,MAAM;wBACJ,UAAU,EAAE,GAAG;qBACA,CAAC;iBACnB;;;;KACF;IAEK,wCAAc,GAApB,UAAqB,QAAgB;uCAAG,OAAO;;gBAC7C,WAAO;wBACL,QAAQ,UAAA;wBACR,KAAK,EAAE,qBAAqB;wBAC5B,YAAY,EAAE,KAAK;wBACnB,SAAS,EAAE,YAAY;qBAExB,EAAC;;;KACH;IAEK,qDAA2B,GAAjC,UAAkC,QAAgB;uCAAG,OAAO;;gBAC1D,WAAO;wBACL,WAAW,EAAE,EAAE;wBACf,MAAM,EAAE,CAAC;qBACV,EAAC;;;KACH;IACK,qDAA2B,GAAjC,UAAkC,QAAgB,EAAE,IAA0B;uCAAG,OAAO;;;;;KACvF;IAEK,4CAAkB,GAAxB,UAAyB,OAAmC;uCAAG,OAAO;;;4BAEpE,WAAM,SAAS,CAAC,IAAI,CAAC,EAAA;;wBAArB,SAAqB,CAAC;wBACtB,WAAO;gCACL,MAAM,EAAE,EAAE;gCACV,WAAW,EAAE,CAAC;6BACf,EAAC;;;;KACH;IAEK,wCAAc,GAApB,UAAqB,QAAgB,EAAE,QAAgB;uCAAG,OAAO;;;gBACzD,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC;oBAC7B,OAAO,EAAE,kgBAAkgB;oBAC3gB,QAAQ,EAAE,OAAO,EAAE,OAAO,EAAE,kCAAkC;iBAAC,EAAE,QAAQ,CAAC,CAAC;gBAE7E,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;;;;KACxB;IAEK,wCAAc,GAApB;uCAAwB,OAAO;;gBAC7B,WAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAC;;;KAC3B;IAtFU,eAAe;QAD3B,UAAU;OACE,eAAe,CAuF3B;IAAD,sBAAC;CAAA,AAvFD,CAAqC,WAAW,GAuF/C;SAvFY,eAAe","sourcesContent":["import { Injectable } from \"react.di\";\r\nimport { UserService } from \"../UserService\";\r\nimport { UserRole } from \"../../models/user/User\";\r\nimport { LoginResponse } from \"../../models/user/LoginResponse\";\r\nimport { RegisterParams, RegisterResponse } from \"../../models/user/Register\";\r\nimport { EmailValidationRequestReceipt } from \"../../models/user/EmailValidation\";\r\nimport { NetworkError } from \"../NetworkResponse\";\r\nimport { UserProfile } from \"../../models/user/UserProfile\";\r\nimport { InvestmentPreference } from \"../../models/user/InvestmentPreference\";\r\nimport { PreferenceEvaluationAnswer, PreferenceEvaluationResult } from \"../../models/user/PreferenceEvaluation\";\r\nimport { waitForMs } from \"../../../utils/Wait\";\r\n\r\nconst sampleAvatar = \"https://en.gravatar.com/userimage/57315252/e9c37404163b4b2e73fd72003e391aac.jpg?size=200\";\r\n\r\n@Injectable\r\nexport class UserServiceMock extends UserService {\r\n\r\n  async login(username: string, password: string): Promise<LoginResponse> {\r\n\r\n    if (username === \"user\" && password === \"user\") {\r\n      return {\r\n        token: \"123\",\r\n        role: UserRole.USER,\r\n        avatarUrl: null,\r\n        // avatarUrl: sampleAvatar,\r\n        username,\r\n        email: `${username}@test.com`,\r\n        emailValidated: true,\r\n        expireAt: Date.now().toString(),\r\n      };\r\n    } else {\r\n      throw { statusCode: 401 };\r\n    }\r\n  }\r\n\r\n  logout() {\r\n\r\n  }\r\n\r\n  async register(params: RegisterParams): Promise<RegisterResponse> {\r\n    return {\r\n      token: \"123\",\r\n      expireAt: \"null\",\r\n    };\r\n  }\r\n\r\n  async requestEmailValidation(token: string): Promise<EmailValidationRequestReceipt> {\r\n    await waitForMs(1000);\r\n\r\n    return {\r\n      validationToken: \"123\",\r\n      expireAt: \"123\",\r\n    };\r\n  }\r\n\r\n  async validateEmail(token: string, code: string, userToken: string): Promise<void> {\r\n    if (Math.random() <= 0.5) {\r\n      throw {\r\n        statusCode: 400,\r\n      } as NetworkError;\r\n    }\r\n  }\r\n\r\n  async getUserProfile(username: string): Promise<UserProfile> {\r\n    return {\r\n      username,\r\n      email: \"smallda@outlook.com\",\r\n      registerDate: \"123\",\r\n      avatarUrl: sampleAvatar,\r\n\r\n    };\r\n  }\r\n\r\n  async getUserInvestmentPreference(username: string): Promise<InvestmentPreference> {\r\n    return {\r\n      fluctuation: 10,\r\n      profit: 5,\r\n    };\r\n  }\r\n  async setUserInvestmentPreference(username: string, pref: InvestmentPreference): Promise<void> {\r\n  }\r\n\r\n  async evaluatePreference(answers: PreferenceEvaluationAnswer): Promise<PreferenceEvaluationResult> {\r\n\r\n    await waitForMs(2000);\r\n    return {\r\n      profit: 10,\r\n      fluctuation: 5,\r\n    };\r\n  }\r\n\r\n  async setCitiAccount(username: string, password: string): Promise<void> {\r\n    const encrypted = this.encrypt({\r\n      modulus: \"9e698de123c3484b174dcaadbc4cb46bc31341a2b743a1a25a1a34e44c9b655f31bfded01b9e14a9b548511d1bfdb9d93b2bbd8fe029fea49376e2f652f3dacc3cc1cf1a15d96726b3e573313803c5be73d154f30820d1e79e17e2d73b4e4fe0b0af406dcddfdb9e0a8d60ca266586bc4d64bd6d08cb37cba72de8240e72d4ed1ef46c76b1df9edd200563ec0614b820f2c6cf847283f74a3105e357a271742b1191314f5ce344f5b39db8caad53d0e6313ee3269aa54e1d3226c072f845e43d950044d77ea3879d65f2b112f7d889ebf793df4d7f247458b623d504c904a6e447fd3283db162d0c84a30b1b1c83d7a43a5ddf9e40165c306bce993bf37e22e3\",\r\n      exponent: \"10001\", eventId: \"24FCE4D8FA4E6E1212E7196060852307\"}, password);\r\n\r\n    console.log(encrypted);\r\n  }\r\n\r\n  async getCitiAccount(): Promise<{ username: string }> {\r\n    return { username: null };\r\n  }\r\n}\r\n"]}]}
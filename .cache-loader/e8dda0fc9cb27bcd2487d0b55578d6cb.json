{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/component/lib/axis/circle.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/component/lib/axis/circle.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) {\n    var NewTarget = _getPrototypeOf(this).constructor;\n    result = Reflect.construct(Super, arguments, NewTarget);\n}\nelse {\n    result = Super.apply(this, arguments);\n} return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n} return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n} return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false; if (Reflect.construct.sham)\n    return false; if (typeof Proxy === \"function\")\n    return true; try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () { }));\n    return true;\n}\ncatch (e) {\n    return false;\n} }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\nvar Util = require('../util');\nvar Base = require('./base');\nvar vec2 = Util.MatrixUtil.vec2;\nvar Circle = function (_Base) {\n    _inheritsLoose(Circle, _Base);\n    var _super = _createSuper(Circle);\n    function Circle() {\n        return _Base.apply(this, arguments) || this;\n    }\n    var _proto = Circle.prototype;\n    _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Base.prototype.getDefaultCfg.call(this);\n        return Util.mix({}, cfg, {\n            type: 'circle',\n            tickInterval: null,\n            startAngle: -Math.PI / 2,\n            endAngle: Math.PI * 3 / 2,\n            line: {\n                lineWidth: 1,\n                stroke: '#C0D0E0'\n            },\n            tickLine: {\n                lineWidth: 1,\n                stroke: '#C0D0E0',\n                length: 5\n            },\n            _labelOffset: 5\n        });\n    };\n    _proto.parseTick = function parseTick(tick, index, length) {\n        return {\n            text: tick,\n            value: index / length\n        };\n    };\n    _proto._getCirclePoint = function _getCirclePoint(angle, radius) {\n        var self = this;\n        var center = self.get('center');\n        radius = radius || self.get('radius');\n        return {\n            x: center.x + Math.cos(angle) * radius,\n            y: center.y + Math.sin(angle) * radius\n        };\n    };\n    _proto.getTickPoint = function getTickPoint(value) {\n        var self = this;\n        var startAngle = self.get('startAngle');\n        var endAngle = self.get('endAngle');\n        var angle = startAngle + (endAngle - startAngle) * value;\n        return self._getCirclePoint(angle);\n    };\n    _proto.getSideVector = function getSideVector(offset, point) {\n        var self = this;\n        var center = self.get('center');\n        var vector = [point.x - center.x, point.y - center.y];\n        if (!Util.isNil(offset)) {\n            var vecLen = vec2.length(vector);\n            vec2.scale(vector, vector, offset / vecLen);\n        }\n        return vector;\n    };\n    _proto.getSidePoint = function getSidePoint(point, offset) {\n        var self = this;\n        var vector = self.getSideVector(offset, point);\n        return {\n            x: point.x + vector[0],\n            y: point.y + vector[1]\n        };\n    };\n    _proto.getTickEnd = function getTickEnd(start, length) {\n        var self = this;\n        var tickLine = self.get('tickLine');\n        length = length ? length : tickLine.length;\n        return self.getSidePoint(start, length);\n    };\n    _proto.getTextAnchor = function getTextAnchor(vector) {\n        var align;\n        if (Util.snapEqual(vector[0], 0)) {\n            align = 'center';\n        }\n        else if (vector[0] > 0) {\n            align = 'left';\n        }\n        else if (vector[0] < 0) {\n            align = 'right';\n        }\n        return align;\n    };\n    _proto.getLinePath = function getLinePath() {\n        var self = this;\n        var center = self.get('center');\n        var x = center.x;\n        var y = center.y;\n        var rx = self.get('radius');\n        var ry = rx;\n        var startAngle = self.get('startAngle');\n        var endAngle = self.get('endAngle');\n        var inner = self.get('inner');\n        var path = [];\n        if (Math.abs(endAngle - startAngle) === Math.PI * 2) {\n            path = [['M', x, y], ['m', 0, -ry], ['a', rx, ry, 0, 1, 1, 0, 2 * ry], ['a', rx, ry, 0, 1, 1, 0, -2 * ry], ['z']];\n        }\n        else {\n            var startPoint = self._getCirclePoint(startAngle);\n            var endPoint = self._getCirclePoint(endAngle);\n            var large = Math.abs(endAngle - startAngle) > Math.PI ? 1 : 0;\n            var sweep = startAngle > endAngle ? 0 : 1;\n            if (!inner) {\n                path = [['M', x, y], ['L', startPoint.x, startPoint.y], ['A', rx, ry, 0, large, sweep, endPoint.x, endPoint.y], ['L', x, y]];\n            }\n            else {\n                var innerStartVector = self.getSideVector(inner * rx, startPoint);\n                var innerEndVector = self.getSideVector(inner * rx, endPoint);\n                var innerStartPoint = {\n                    x: innerStartVector[0] + x,\n                    y: innerStartVector[1] + y\n                };\n                var innerEndPoint = {\n                    x: innerEndVector[0] + x,\n                    y: innerEndVector[1] + y\n                };\n                path = [['M', innerStartPoint.x, innerStartPoint.y], ['L', startPoint.x, startPoint.y], ['A', rx, ry, 0, large, sweep, endPoint.x, endPoint.y], ['L', innerEndPoint.x, innerEndPoint.y], ['A', rx * inner, ry * inner, 0, large, Math.abs(sweep - 1), innerStartPoint.x, innerStartPoint.y]];\n            }\n        }\n        return path;\n    };\n    _proto.addLabel = function addLabel(tick, point, index) {\n        var self = this;\n        var offset = self.get('label').offset || self.get('_labelOffset') || 0.001;\n        point = self.getSidePoint(point, offset);\n        _Base.prototype.addLabel.call(this, tick, point, index);\n    };\n    _proto.autoRotateLabels = function autoRotateLabels() {\n        var self = this;\n        var ticks = self.get('ticks');\n        var labelRenderer = self.get('labelRenderer');\n        if (labelRenderer && ticks.length > 12) {\n            var radius = self.get('radius');\n            var startAngle = self.get('startAngle');\n            var endAngle = self.get('endAngle');\n            var totalAngle = endAngle - startAngle;\n            var avgAngle = totalAngle / (ticks.length - 1);\n            var avgWidth = Math.sin(avgAngle / 2) * radius * 2;\n            var maxLength = self.getMaxLabelWidth(labelRenderer);\n            Util.each(labelRenderer.get('group').get('children'), function (label, index) {\n                var tick = ticks[index];\n                var angle = tick.value * totalAngle + startAngle;\n                var mode = angle % (Math.PI * 2);\n                if (maxLength < avgWidth) {\n                    if (mode <= 0) {\n                        angle = angle + Math.PI;\n                    }\n                    if (mode > Math.PI) {\n                        angle = angle - Math.PI;\n                    }\n                    angle = angle - Math.PI / 2;\n                    label.attr('textAlign', 'center');\n                }\n                else {\n                    if (mode > Math.PI / 2) {\n                        angle = angle - Math.PI;\n                    }\n                    else if (mode < Math.PI / 2 * -1) {\n                        angle = angle + Math.PI;\n                    }\n                }\n                label.rotateAtStart(angle);\n            });\n        }\n    };\n    return Circle;\n}(Base);\nmodule.exports = Circle;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/component/lib/axis/circle.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/component/lib/axis/circle.js"],"names":[],"mappings":"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","sourcesContent":["function _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar Util = require('../util');\n\nvar Base = require('./base');\n\nvar vec2 = Util.MatrixUtil.vec2;\n\nvar Circle = /*#__PURE__*/function (_Base) {\n  _inheritsLoose(Circle, _Base);\n\n  var _super = _createSuper(Circle);\n\n  function Circle() {\n    return _Base.apply(this, arguments) || this;\n  }\n\n  var _proto = Circle.prototype;\n\n  _proto.getDefaultCfg = function getDefaultCfg() {\n    var cfg = _Base.prototype.getDefaultCfg.call(this);\n\n    return Util.mix({}, cfg, {\n      /**\n       * 坐标轴的类型\n       * @type {String}\n       */\n      type: 'circle',\n\n      /**\n       * 指定刻度之间的间距\n       * @type {Number}\n       */\n      tickInterval: null,\n\n      /**\n       * 开始弧度\n       * @type {Number}\n       */\n      startAngle: -Math.PI / 2,\n\n      /**\n       * 结束弧度\n       * @type {Number}\n       */\n      endAngle: Math.PI * 3 / 2,\n      line: {\n        // @type {Attrs} 坐标轴线的图形属性,如果设置成null，则不显示轴线\n        lineWidth: 1,\n        stroke: '#C0D0E0'\n      },\n      tickLine: {\n        // @type {Attrs} 标注坐标线的图形属性\n        lineWidth: 1,\n        stroke: '#C0D0E0',\n        length: 5\n      },\n\n      /**\n       * 默认文本距离轴线的距离\n       * @type {Number}\n       */\n      _labelOffset: 5\n    });\n  };\n\n  _proto.parseTick = function parseTick(tick, index, length) {\n    return {\n      text: tick,\n      value: index / length\n    };\n  };\n\n  _proto._getCirclePoint = function _getCirclePoint(angle, radius) {\n    var self = this;\n    var center = self.get('center');\n    radius = radius || self.get('radius');\n    return {\n      x: center.x + Math.cos(angle) * radius,\n      y: center.y + Math.sin(angle) * radius\n    };\n  };\n\n  _proto.getTickPoint = function getTickPoint(value) {\n    var self = this;\n    var startAngle = self.get('startAngle');\n    var endAngle = self.get('endAngle');\n    var angle = startAngle + (endAngle - startAngle) * value;\n    return self._getCirclePoint(angle);\n  };\n\n  _proto.getSideVector = function getSideVector(offset, point) {\n    var self = this;\n    var center = self.get('center');\n    var vector = [point.x - center.x, point.y - center.y];\n\n    if (!Util.isNil(offset)) {\n      var vecLen = vec2.length(vector);\n      vec2.scale(vector, vector, offset / vecLen);\n    }\n\n    return vector;\n  };\n\n  _proto.getSidePoint = function getSidePoint(point, offset) {\n    var self = this;\n    var vector = self.getSideVector(offset, point);\n    return {\n      x: point.x + vector[0],\n      y: point.y + vector[1]\n    };\n  };\n\n  _proto.getTickEnd = function getTickEnd(start, length) {\n    var self = this;\n    var tickLine = self.get('tickLine');\n    length = length ? length : tickLine.length;\n    return self.getSidePoint(start, length);\n  };\n\n  _proto.getTextAnchor = function getTextAnchor(vector) {\n    var align;\n\n    if (Util.snapEqual(vector[0], 0)) {\n      align = 'center';\n    } else if (vector[0] > 0) {\n      align = 'left';\n    } else if (vector[0] < 0) {\n      align = 'right';\n    }\n\n    return align;\n  };\n\n  _proto.getLinePath = function getLinePath() {\n    var self = this;\n    var center = self.get('center');\n    var x = center.x;\n    var y = center.y;\n    var rx = self.get('radius');\n    var ry = rx;\n    var startAngle = self.get('startAngle');\n    var endAngle = self.get('endAngle');\n    var inner = self.get('inner');\n    var path = [];\n\n    if (Math.abs(endAngle - startAngle) === Math.PI * 2) {\n      path = [['M', x, y], ['m', 0, -ry], ['a', rx, ry, 0, 1, 1, 0, 2 * ry], ['a', rx, ry, 0, 1, 1, 0, -2 * ry], ['z']];\n    } else {\n      var startPoint = self._getCirclePoint(startAngle);\n\n      var endPoint = self._getCirclePoint(endAngle);\n\n      var large = Math.abs(endAngle - startAngle) > Math.PI ? 1 : 0;\n      var sweep = startAngle > endAngle ? 0 : 1;\n\n      if (!inner) {\n        path = [['M', x, y], ['L', startPoint.x, startPoint.y], ['A', rx, ry, 0, large, sweep, endPoint.x, endPoint.y], ['L', x, y]];\n      } else {\n        var innerStartVector = self.getSideVector(inner * rx, startPoint);\n        var innerEndVector = self.getSideVector(inner * rx, endPoint);\n        var innerStartPoint = {\n          x: innerStartVector[0] + x,\n          y: innerStartVector[1] + y\n        };\n        var innerEndPoint = {\n          x: innerEndVector[0] + x,\n          y: innerEndVector[1] + y\n        };\n        path = [['M', innerStartPoint.x, innerStartPoint.y], ['L', startPoint.x, startPoint.y], ['A', rx, ry, 0, large, sweep, endPoint.x, endPoint.y], ['L', innerEndPoint.x, innerEndPoint.y], ['A', rx * inner, ry * inner, 0, large, Math.abs(sweep - 1), innerStartPoint.x, innerStartPoint.y]];\n      }\n    }\n\n    return path;\n  };\n\n  _proto.addLabel = function addLabel(tick, point, index) {\n    var self = this;\n    var offset = self.get('label').offset || self.get('_labelOffset') || 0.001;\n    point = self.getSidePoint(point, offset);\n\n    _Base.prototype.addLabel.call(this, tick, point, index);\n  };\n\n  _proto.autoRotateLabels = function autoRotateLabels() {\n    var self = this;\n    var ticks = self.get('ticks');\n    var labelRenderer = self.get('labelRenderer');\n\n    if (labelRenderer && ticks.length > 12) {\n      // 小于12个文本时文本不旋转\n      var radius = self.get('radius');\n      var startAngle = self.get('startAngle');\n      var endAngle = self.get('endAngle');\n      var totalAngle = endAngle - startAngle;\n      var avgAngle = totalAngle / (ticks.length - 1);\n      var avgWidth = Math.sin(avgAngle / 2) * radius * 2;\n      var maxLength = self.getMaxLabelWidth(labelRenderer);\n      Util.each(labelRenderer.get('group').get('children'), function (label, index) {\n        var tick = ticks[index];\n        var angle = tick.value * totalAngle + startAngle;\n        var mode = angle % (Math.PI * 2);\n\n        if (maxLength < avgWidth) {\n          // 文本的最大宽度大于\n          if (mode <= 0) {\n            angle = angle + Math.PI;\n          }\n\n          if (mode > Math.PI) {\n            angle = angle - Math.PI;\n          }\n\n          angle = angle - Math.PI / 2;\n          label.attr('textAlign', 'center');\n        } else {\n          if (mode > Math.PI / 2) {\n            angle = angle - Math.PI;\n          } else if (mode < Math.PI / 2 * -1) {\n            angle = angle + Math.PI;\n          }\n        }\n\n        label.rotateAtStart(angle);\n      });\n    }\n  };\n\n  return Circle;\n}(Base);\n\nmodule.exports = Circle;"]}]}
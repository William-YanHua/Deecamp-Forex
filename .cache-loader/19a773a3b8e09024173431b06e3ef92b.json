{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-queue-anim\\node_modules\\rc-tween-one\\es\\plugin\\StylePlugin.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-queue-anim\\node_modules\\rc-tween-one\\es\\plugin\\StylePlugin.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import _extends from 'babel-runtime/helpers/extends';\r\nimport { cssList, checkStyleName, getGsapType, parseShadow, getColor, parseColor, isTransform, isConvert, splitFilterToObject, getTransform, stylesToCss, createMatrix } from 'style-utils';\r\nimport { startConvertToEndUnit, getTransformValue, styleValueToArray } from '../util.js';\r\nimport _plugin from '../plugins';\r\nvar StylePlugin = function StylePlugin(target, vars, type) {\r\n    this.target = target;\r\n    this.vars = vars;\r\n    this.type = type;\r\n    this.propsData = {};\r\n    this.setDefaultData();\r\n};\r\nStylePlugin.prototype = {\r\n    name: 'style'\r\n};\r\nvar p = StylePlugin.prototype;\r\np.getTweenData = function (key, $vars) {\r\n    var data = {\r\n        data: {},\r\n        dataType: {},\r\n        dataUnit: {},\r\n        dataCount: {},\r\n        dataSplitStr: {}\r\n    };\r\n    var vars = $vars;\r\n    if (styleValueToArray[key]) {\r\n        vars = vars.toString().split(' ');\r\n        vars = vars.map(function (c) {\r\n            return typeof $vars === 'number' ? c + 'px' : c;\r\n        });\r\n        vars[1] = vars[1] || vars[0];\r\n        vars[2] = vars[2] || vars[0];\r\n        vars[3] = vars[3] || vars[1] || vars[0];\r\n        vars = vars.join(' ');\r\n    }\r\n    if (key.match(/colo|fill|storker/i)) {\r\n        data.data[key] = parseColor(vars);\r\n        data.dataType[key] = 'color';\r\n    }\r\n    else if (key === 'strokeDasharray') {\r\n        data.data[key] = vars.split(',');\r\n        data.dataType[key] = 'strokeDasharray';\r\n    }\r\n    else if (key.match(/shadow/i)) {\r\n        data.data[key] = parseShadow(vars);\r\n        data.dataType[key] = 'shadow';\r\n    }\r\n    else if (typeof vars === 'string' && vars.split(/[\\s|,]/).length > 1) {\r\n        data.data[key] = vars.split(/[\\s|,]/);\r\n        data.dataSplitStr[key] = vars.replace(/[^\\s|,]/g, '').replace(/\\s+/g, ' ');\r\n        data.dataType[key] = 'string';\r\n    }\r\n    else {\r\n        data.data[key] = vars;\r\n        data.dataType[key] = 'other';\r\n    }\r\n    if (Array.isArray(data.data[key])) {\r\n        data.dataUnit[key] = data.data[key].map(function (_item) {\r\n            return _item.toString().replace(/[^a-z|%]/g, '');\r\n        });\r\n        data.dataCount[key] = data.data[key].map(function (_item) {\r\n            return _item.toString().replace(/[^+|=|-]/g, '');\r\n        });\r\n        data.data[key] = data.data[key].map(function (_item) {\r\n            return !parseFloat(_item) && parseFloat(_item) !== 0 ? _item : parseFloat(_item);\r\n        });\r\n    }\r\n    else {\r\n        data.dataUnit[key] = data.data[key].toString().replace(/[^a-z|%]/g, '');\r\n        data.dataCount[key] = data.data[key].toString().replace(/[^+|=|-]/g, '');\r\n        var d = parseFloat(data.data[key].toString().replace(/[a-z|%|=]/g, ''));\r\n        data.data[key] = !d && d !== 0 ? data.data[key] : d;\r\n    }\r\n    return data;\r\n};\r\np.setDefaultData = function () {\r\n    var _this = this;\r\n    this.propsData.data = {};\r\n    this.propsData.dataType = {};\r\n    this.propsData.dataUnit = {};\r\n    this.propsData.dataCount = {};\r\n    this.propsData.dataSplitStr = {};\r\n    Object.keys(this.vars).forEach(function (_key) {\r\n        if (_key in _plugin) {\r\n            _this.propsData.data[_key] = new _plugin[_key](_this.target, _this.vars[_key]);\r\n            return;\r\n        }\r\n        var key = getGsapType(_key);\r\n        var _data = _this.getTweenData(key, _this.vars[_key]);\r\n        _this.propsData.data[key] = _data.data[key];\r\n        _this.propsData.dataType[key] = _data.dataType[key];\r\n        _this.propsData.dataUnit[key] = _data.dataUnit[key];\r\n        _this.propsData.dataCount[key] = _data.dataCount[key];\r\n        if (_data.dataSplitStr[key]) {\r\n            _this.propsData.dataSplitStr[key] = _data.dataSplitStr[key];\r\n        }\r\n    });\r\n};\r\np.convertToMarksArray = function (computedStyle, unit, key, data, i) {\r\n    var startUnit = data.toString().replace(/[^a-z|%]/g, '');\r\n    var endUnit = unit[i];\r\n    if (startUnit === endUnit) {\r\n        return parseFloat(data);\r\n    }\r\n    else if (!parseFloat(data) && parseFloat(data) !== 0) {\r\n        return data;\r\n    }\r\n    return startConvertToEndUnit(this.target, computedStyle, key, data, startUnit, endUnit, null, key === 'transformOrigin' && !i);\r\n};\r\np.getAnimStart = function (computedStyle, tween, isSvg) {\r\n    var _this2 = this;\r\n    var style = {};\r\n    var tweenStyle = tween.style || {};\r\n    var transform = void 0;\r\n    Object.keys(this.propsData.data).forEach(function (key) {\r\n        var cssName = isConvert(key);\r\n        var startData = tweenStyle[cssName] || computedStyle[cssName];\r\n        var fixed = computedStyle.position === 'fixed';\r\n        if (!startData || startData === 'none' || startData === 'auto') {\r\n            startData = '';\r\n        }\r\n        var endUnit = void 0;\r\n        var startUnit = void 0;\r\n        if (key in _plugin) {\r\n            if (key === 'bezier') {\r\n                _this2.transform = checkStyleName('transform');\r\n                startData = computedStyle[isSvg ? 'transformSVG' : _this2.transform];\r\n                transform = transform || (tweenStyle.transform ? _extends({}, tweenStyle.transform) : style.transform || getTransform(startData));\r\n                style.transform = transform;\r\n            }\r\n            _this2.propsData.data[key].getAnimStart(computedStyle, isSvg);\r\n        }\r\n        else if (cssName === 'transform') {\r\n            _this2.transform = checkStyleName('transform');\r\n            startData = computedStyle[isSvg ? 'transformSVG' : _this2.transform];\r\n            endUnit = _this2.propsData.dataUnit[key];\r\n            transform = transform || (tweenStyle.transform ? _extends({}, tweenStyle.transform) : style.transform || getTransform(startData));\r\n            var unitReg = /%|vw|vh|em|rem/i;\r\n            if (endUnit && endUnit.match(unitReg)) {\r\n                transform[key] = transform[key] && transform[key].toString().match(unitReg) ? parseFloat(transform[key]) : startConvertToEndUnit(_this2.target, computedStyle, key, transform[key], null, endUnit);\r\n            }\r\n            style.transform = transform;\r\n        }\r\n        else if (cssName === 'filter') {\r\n            if (tweenStyle[cssName]) {\r\n                startData = tweenStyle[cssName];\r\n            }\r\n            else {\r\n                _this2.filterName = checkStyleName('filter') || 'filter';\r\n                startData = computedStyle[_this2.filterName];\r\n                _this2.filterObject = _extends({}, _this2.filterObject, splitFilterToObject(startData));\r\n                startData = _this2.filterObject[key] || 0;\r\n            }\r\n            startUnit = startData.toString().replace(/[^a-z|%]/g, '');\r\n            endUnit = _this2.propsData.dataUnit[key];\r\n            if (endUnit !== startUnit) {\r\n                startData = startConvertToEndUnit(_this2.target, computedStyle, cssName, parseFloat(startData), startUnit, endUnit, fixed);\r\n            }\r\n            style[key] = parseFloat(startData);\r\n        }\r\n        else if (key.match(/color|fill/i) || key === 'stroke') {\r\n            startData = !startData && key === 'stroke' ? 'rgba(255, 255, 255, 0)' : startData;\r\n            style[cssName] = parseColor(startData);\r\n        }\r\n        else if (key.match(/shadow/i)) {\r\n            startData = parseShadow(startData);\r\n            endUnit = _this2.propsData.dataUnit[key];\r\n            startData = startData.map(_this2.convertToMarksArray.bind(_this2, computedStyle, endUnit, key));\r\n            style[cssName] = startData;\r\n        }\r\n        else if (Array.isArray(_this2.propsData.data[key])) {\r\n            startData = startData.split(/[\\s|,]/).filter(function (c) {\r\n                return c || c === 0;\r\n            });\r\n            endUnit = _this2.propsData.dataUnit[key];\r\n            startData = startData.map(_this2.convertToMarksArray.bind(_this2, computedStyle, endUnit, key));\r\n            style[cssName] = startData;\r\n        }\r\n        else {\r\n            endUnit = _this2.propsData.dataUnit[cssName];\r\n            startUnit = startData.toString().replace(/[^a-z|%]/g, '');\r\n            if (endUnit !== startUnit) {\r\n                startData = startConvertToEndUnit(_this2.target, computedStyle, cssName, parseFloat(startData), startUnit, endUnit, fixed);\r\n            }\r\n            style[cssName] = parseFloat(startData || 0);\r\n        }\r\n    });\r\n    this.start = style;\r\n    return style;\r\n};\r\np.setArrayRatio = function (ratio, start, vars, unit, type) {\r\n    if (type === 'color' && start.length === 4 && vars.length === 3) {\r\n        vars[3] = 1;\r\n    }\r\n    var startInset = start.indexOf('inset') >= 0;\r\n    var endInset = vars.indexOf('inset') >= 0;\r\n    if (startInset && !endInset || endInset && !startInset) {\r\n        throw console.error('Error: \"box-shadow\" inset have to exist');\r\n    }\r\n    var length = endInset ? 9 : 8;\r\n    if (start.length === length && vars.length === length - 1) {\r\n        vars.splice(3, 0, 0);\r\n        unit.splice(3, 0, '');\r\n    }\r\n    else if (vars.length === length && start.length === length - 1) {\r\n        start.splice(3, 0, 0);\r\n    }\r\n    var _vars = vars.map(function (endData, i) {\r\n        var startIsAlpha = type === 'color' && i === 3 && !start[i] ? 1 : 0;\r\n        var startData = typeof start[i] === 'number' ? start[i] : startIsAlpha;\r\n        if (typeof endData === 'string') {\r\n            return endData;\r\n        }\r\n        return (endData - startData) * ratio + startData + (unit[i] || 0);\r\n    });\r\n    if (type === 'color') {\r\n        return getColor(_vars);\r\n    }\r\n    else if (type === 'shadow') {\r\n        var l = _vars.length === length ? 4 : 3;\r\n        var s = _vars.slice(0, l).map(function (item) {\r\n            if (typeof item === 'number') {\r\n                return item + 'px';\r\n            }\r\n            return item;\r\n        });\r\n        var c = _vars.slice(l, endInset ? _vars.length - 1 : _vars.length);\r\n        var color = getColor(c);\r\n        return (s.join(' ') + ' ' + color + ' ' + (endInset ? 'inset' : '')).trim();\r\n    }\r\n    return _vars;\r\n};\r\np.setRatio = function (ratio, tween, computedStyle) {\r\n    var _this3 = this;\r\n    tween.style = tween.style || {};\r\n    if (this.start.transform) {\r\n        tween.style.transform = tween.style.transform || _extends({}, this.start.transform);\r\n    }\r\n    var style = this.target.style;\r\n    Object.keys(this.propsData.data).forEach(function (key) {\r\n        var _isTransform = isTransform(key) === 'transform';\r\n        var startVars = _isTransform ? _this3.start.transform[key] : _this3.start[key];\r\n        var endVars = _this3.propsData.data[key];\r\n        var unit = _this3.propsData.dataUnit[key];\r\n        var count = _this3.propsData.dataCount[key];\r\n        if (key in _plugin) {\r\n            _this3.propsData.data[key].setRatio(ratio, tween, computedStyle);\r\n            if (key === 'bezier') {\r\n                style[_this3.transform] = getTransformValue(tween.style.transform);\r\n            }\r\n            else {\r\n                Object.keys(tween.style).forEach(function (css) {\r\n                    style[css] = tween.style[css];\r\n                });\r\n            }\r\n            return;\r\n        }\r\n        else if (_isTransform) {\r\n            if (unit && unit.match(/%|vw|vh|em|rem/i)) {\r\n                startVars = parseFloat(_this3.start.transform[key]);\r\n                if (count.charAt(1) === '=') {\r\n                    tween.style.transform[key] = startVars + endVars * ratio + unit;\r\n                }\r\n                else {\r\n                    tween.style.transform[key] = (endVars - startVars) * ratio + startVars + unit;\r\n                }\r\n            }\r\n            else if (key === 'scale') {\r\n                var xStart = _this3.start.transform.scaleX;\r\n                var yStart = _this3.start.transform.scaleY;\r\n                if (count.charAt(1) === '=') {\r\n                    tween.style.transform.scaleX = xStart + endVars * ratio;\r\n                    tween.style.transform.scaleY = yStart + endVars * ratio;\r\n                }\r\n                else {\r\n                    tween.style.transform.scaleX = (endVars - xStart) * ratio + xStart;\r\n                    tween.style.transform.scaleY = (endVars - yStart) * ratio + yStart;\r\n                }\r\n            }\r\n            else if (count.charAt(1) === '=') {\r\n                tween.style.transform[key] = startVars + endVars * ratio;\r\n            }\r\n            else {\r\n                tween.style.transform[key] = (endVars - startVars) * ratio + startVars;\r\n            }\r\n            style[_this3.transform] = getTransformValue(tween.style.transform);\r\n            if (computedStyle) {\r\n                computedStyle.transformSVG = createMatrix(style[_this3.transform]).toString();\r\n            }\r\n            return;\r\n        }\r\n        else if (Array.isArray(endVars)) {\r\n            var _type = _this3.propsData.dataType[key];\r\n            tween.style[key] = _this3.setArrayRatio(ratio, startVars, endVars, unit, _type);\r\n            if (_type === 'string') {\r\n                tween.style[key] = tween.style[key].join(_this3.propsData.dataSplitStr[key]);\r\n            }\r\n        }\r\n        else {\r\n            var styleUnit = stylesToCss(key, 0);\r\n            styleUnit = typeof styleUnit === 'number' ? '' : styleUnit.replace(/[^a-z|%]/g, '');\r\n            unit = unit || (cssList.filter.indexOf(key) >= 0 ? '' : styleUnit);\r\n            if (typeof endVars === 'string') {\r\n                tween.style[key] = endVars;\r\n            }\r\n            else if (count.charAt(1) === '=') {\r\n                tween.style[key] = startVars + endVars * ratio + unit;\r\n            }\r\n            else {\r\n                var value = (endVars - startVars) * ratio + startVars;\r\n                tween.style[key] = unit ? '' + value + unit : value;\r\n            }\r\n        }\r\n        if (cssList.filter.indexOf(key) >= 0) {\r\n            if (!_this3.filterObject) {\r\n                return;\r\n            }\r\n            _this3.filterObject[key] = tween.style[key];\r\n            var filterStyle = '';\r\n            Object.keys(_this3.filterObject).forEach(function (filterKey) {\r\n                filterStyle += ' ' + filterKey + '(' + _this3.filterObject[filterKey] + ')';\r\n            });\r\n            style[_this3.filterName] = filterStyle.trim();\r\n            return;\r\n        }\r\n        style[key] = tween.style[key];\r\n    });\r\n};\r\nexport default StylePlugin;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-queue-anim\\node_modules\\rc-tween-one\\es\\plugin\\StylePlugin.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-queue-anim\\node_modules\\rc-tween-one\\es\\plugin\\StylePlugin.js"],"names":[],"mappings":"AAAA,OAAO,QAAQ,MAAM,+BAA+B,CAAC;AAErD,OAAO,EAAE,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,WAAW,EAAE,QAAQ,EAAE,UAAU,EAAE,WAAW,EAAE,SAAS,EAAE,mBAAmB,EAAE,YAAY,EAAE,WAAW,EAAE,YAAY,EAAE,MAAM,aAAa,CAAC;AAC5L,OAAO,EAAE,qBAAqB,EAAE,iBAAiB,EAAE,iBAAiB,EAAE,MAAM,YAAY,CAAC;AACzF,OAAO,OAAO,MAAM,YAAY,CAAC;AAEjC,IAAI,WAAW,GAAG,SAAS,WAAW,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI;IACvD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACjB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACjB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACpB,IAAI,CAAC,cAAc,EAAE,CAAC;AACxB,CAAC,CAAC;AACF,WAAW,CAAC,SAAS,GAAG;IACtB,IAAI,EAAE,OAAO;CACd,CAAC;AACF,IAAI,CAAC,GAAG,WAAW,CAAC,SAAS,CAAC;AAC9B,CAAC,CAAC,YAAY,GAAG,UAAU,GAAG,EAAE,KAAK;IACnC,IAAI,IAAI,GAAG;QACT,IAAI,EAAE,EAAE;QACR,QAAQ,EAAE,EAAE;QACZ,QAAQ,EAAE,EAAE;QACZ,SAAS,EAAE,EAAE;QACb,YAAY,EAAE,EAAE;KACjB,CAAC;IACF,IAAI,IAAI,GAAG,KAAK,CAAC;IACjB,IAAI,iBAAiB,CAAC,GAAG,CAAC,EAAE;QAC1B,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAClC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC;YACzB,OAAO,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;QAC7B,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;QAC7B,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC;QACxC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACvB;IACD,IAAI,GAAG,CAAC,KAAK,CAAC,oBAAoB,CAAC,EAAE;QACnC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;QAClC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;KAC9B;SAAM,IAAI,GAAG,KAAK,iBAAiB,EAAE;QACpC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACjC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,iBAAiB,CAAC;KACxC;SAAM,IAAI,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE;QAC/B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC;QACnC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC;KAC/B;SAAM,IAAI,OAAO,IAAI,KAAK,QAAQ,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;QACtE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QACtC,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;QAC3E,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC;KAC/B;SAAM;QACL,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;KAC9B;IACD,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;QACjC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,KAAK;YACrD,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,KAAK;YACtD,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,KAAK;YACjD,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QACnF,CAAC,CAAC,CAAC;KACJ;SAAM;QACL,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;QACxE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;QACzE,IAAI,CAAC,GAAG,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC,CAAC;QACxE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACrD;IACD,OAAO,IAAI,CAAC;AACd,CAAC,CAAC;AACF,CAAC,CAAC,cAAc,GAAG;IACjB,IAAI,KAAK,GAAG,IAAI,CAAC;IAEjB,IAAI,CAAC,SAAS,CAAC,IAAI,GAAG,EAAE,CAAC;IACzB,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,EAAE,CAAC;IAC7B,IAAI,CAAC,SAAS,CAAC,QAAQ,GAAG,EAAE,CAAC;IAC7B,IAAI,CAAC,SAAS,CAAC,SAAS,GAAG,EAAE,CAAC;IAC9B,IAAI,CAAC,SAAS,CAAC,YAAY,GAAG,EAAE,CAAC;IACjC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,UAAU,IAAI;QAC3C,IAAI,IAAI,IAAI,OAAO,EAAE;YACnB,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YAC/E,OAAO;SACR;QACD,IAAI,GAAG,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC;QAC5B,IAAI,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtD,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC5C,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACpD,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QACpD,KAAK,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QACtD,IAAI,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE;YAC3B,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;SAC7D;IACH,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AACF,CAAC,CAAC,mBAAmB,GAAG,UAAU,aAAa,EAAE,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;IACjE,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;IACzD,IAAI,OAAO,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;IACtB,IAAI,SAAS,KAAK,OAAO,EAAE;QACzB,OAAO,UAAU,CAAC,IAAI,CAAC,CAAC;KACzB;SAAM,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QACtD,OAAO,IAAI,CAAC;KACb;IACD,OAAO,qBAAqB,CAAC,IAAI,CAAC,MAAM,EAAE,aAAa,EAAE,GAAG,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,KAAK,iBAAiB,IAAI,CAAC,CAAC,CAAC,CAAC;AACjI,CAAC,CAAC;AACF,CAAC,CAAC,YAAY,GAAG,UAAU,aAAa,EAAE,KAAK,EAAE,KAAK;IACpD,IAAI,MAAM,GAAG,IAAI,CAAC;IAElB,IAAI,KAAK,GAAG,EAAE,CAAC;IACf,IAAI,UAAU,GAAG,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC;IACnC,IAAI,SAAS,GAAG,KAAK,CAAC,CAAC;IACvB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG;QACpD,IAAI,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC,CAAC;QAC7B,IAAI,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,IAAI,aAAa,CAAC,OAAO,CAAC,CAAC;QAC9D,IAAI,KAAK,GAAG,aAAa,CAAC,QAAQ,KAAK,OAAO,CAAC;QAC/C,IAAI,CAAC,SAAS,IAAI,SAAS,KAAK,MAAM,IAAI,SAAS,KAAK,MAAM,EAAE;YAC9D,SAAS,GAAG,EAAE,CAAC;SAChB;QACD,IAAI,OAAO,GAAG,KAAK,CAAC,CAAC;QACrB,IAAI,SAAS,GAAG,KAAK,CAAC,CAAC;QACvB,IAAI,GAAG,IAAI,OAAO,EAAE;YAClB,IAAI,GAAG,KAAK,QAAQ,EAAE;gBACpB,MAAM,CAAC,SAAS,GAAG,cAAc,CAAC,WAAW,CAAC,CAAC;gBAC/C,SAAS,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBACrE,SAAS,GAAG,SAAS,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,IAAI,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC;gBAClI,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;aAC7B;YACD,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,YAAY,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;SAC/D;aAAM,IAAI,OAAO,KAAK,WAAW,EAAE;YAClC,MAAM,CAAC,SAAS,GAAG,cAAc,CAAC,WAAW,CAAC,CAAC;YAC/C,SAAS,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YACrE,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACzC,SAAS,GAAG,SAAS,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAE,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,IAAI,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC;YAClI,IAAI,OAAO,GAAG,iBAAiB,CAAC;YAChC,IAAI,OAAO,IAAI,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE;gBACrC,SAAS,CAAC,GAAG,CAAC,GAAG,SAAS,CAAC,GAAG,CAAC,IAAI,SAAS,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,qBAAqB,CAAC,MAAM,CAAC,MAAM,EAAE,aAAa,EAAE,GAAG,EAAE,SAAS,CAAC,GAAG,CAAC,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;aACpM;YACD,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC;SAC7B;aAAM,IAAI,OAAO,KAAK,QAAQ,EAAE;YAC/B,IAAI,UAAU,CAAC,OAAO,CAAC,EAAE;gBACvB,SAAS,GAAG,UAAU,CAAC,OAAO,CAAC,CAAC;aACjC;iBAAM;gBACL,MAAM,CAAC,UAAU,GAAG,cAAc,CAAC,QAAQ,CAAC,IAAI,QAAQ,CAAC;gBACzD,SAAS,GAAG,aAAa,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;gBAC7C,MAAM,CAAC,YAAY,GAAG,QAAQ,CAAC,EAAE,EAAE,MAAM,CAAC,YAAY,EAAE,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC;gBACxF,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;aAC3C;YACD,SAAS,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;YAC1D,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACzC,IAAI,OAAO,KAAK,SAAS,EAAE;gBACzB,SAAS,GAAG,qBAAqB,CAAC,MAAM,CAAC,MAAM,EAAE,aAAa,EAAE,OAAO,EAAE,UAAU,CAAC,SAAS,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;aAC5H;YACD,KAAK,CAAC,GAAG,CAAC,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC;SACpC;aAAM,IAAI,GAAG,CAAC,KAAK,CAAC,aAAa,CAAC,IAAI,GAAG,KAAK,QAAQ,EAAE;YACvD,SAAS,GAAG,CAAC,SAAS,IAAI,GAAG,KAAK,QAAQ,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC,SAAS,CAAC;YAClF,KAAK,CAAC,OAAO,CAAC,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC;SACxC;aAAM,IAAI,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE;YAC/B,SAAS,GAAG,WAAW,CAAC,SAAS,CAAC,CAAC;YACnC,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACzC,SAAS,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,EAAE,aAAa,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;YAChG,KAAK,CAAC,OAAO,CAAC,GAAG,SAAS,CAAC;SAC5B;aAAM,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;YACpD,SAAS,GAAG,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC;gBACtD,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACtB,CAAC,CAAC,CAAC;YACH,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACzC,SAAS,GAAG,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,mBAAmB,CAAC,IAAI,CAAC,MAAM,EAAE,aAAa,EAAE,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC;YAChG,KAAK,CAAC,OAAO,CAAC,GAAG,SAAS,CAAC;SAC5B;aAAM;YAEL,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAC7C,SAAS,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;YAC1D,IAAI,OAAO,KAAK,SAAS,EAAE;gBACzB,SAAS,GAAG,qBAAqB,CAAC,MAAM,CAAC,MAAM,EAAE,aAAa,EAAE,OAAO,EAAE,UAAU,CAAC,SAAS,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,CAAC,CAAC;aAC5H;YACD,KAAK,CAAC,OAAO,CAAC,GAAG,UAAU,CAAC,SAAS,IAAI,CAAC,CAAC,CAAC;SAC7C;IACH,CAAC,CAAC,CAAC;IACH,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACnB,OAAO,KAAK,CAAC;AACf,CAAC,CAAC;AACF,CAAC,CAAC,aAAa,GAAG,UAAU,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI;IACxD,IAAI,IAAI,KAAK,OAAO,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE;QAC/D,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;KACb;IACD,IAAI,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC7C,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IAC1C,IAAI,UAAU,IAAI,CAAC,QAAQ,IAAI,QAAQ,IAAI,CAAC,UAAU,EAAE;QACtD,MAAM,OAAO,CAAC,KAAK,CAAC,yCAAyC,CAAC,CAAC;KAChE;IACD,IAAI,MAAM,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9B,IAAI,KAAK,CAAC,MAAM,KAAK,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,MAAM,GAAG,CAAC,EAAE;QACzD,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACrB,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC;KACvB;SAAM,IAAI,IAAI,CAAC,MAAM,KAAK,MAAM,IAAI,KAAK,CAAC,MAAM,KAAK,MAAM,GAAG,CAAC,EAAE;QAChE,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KACvB;IACD,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,OAAO,EAAE,CAAC;QACvC,IAAI,YAAY,GAAG,IAAI,KAAK,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpE,IAAI,SAAS,GAAG,OAAO,KAAK,CAAC,CAAC,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC;QACvE,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;YAC/B,OAAO,OAAO,CAAC;SAChB;QACD,OAAO,CAAC,OAAO,GAAG,SAAS,CAAC,GAAG,KAAK,GAAG,SAAS,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;IACpE,CAAC,CAAC,CAAC;IACH,IAAI,IAAI,KAAK,OAAO,EAAE;QACpB,OAAO,QAAQ,CAAC,KAAK,CAAC,CAAC;KACxB;SAAM,IAAI,IAAI,KAAK,QAAQ,EAAE;QAC5B,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxC,IAAI,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,IAAI;YAC1C,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;gBAC5B,OAAO,IAAI,GAAG,IAAI,CAAC;aACpB;YACD,OAAO,IAAI,CAAC;QACd,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACnE,IAAI,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QACxB,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;KAC7E;IACD,OAAO,KAAK,CAAC;AACf,CAAC,CAAC;AAEF,CAAC,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE,KAAK,EAAE,aAAa;IAChD,IAAI,MAAM,GAAG,IAAI,CAAC;IAElB,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,IAAI,EAAE,CAAC;IAChC,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE;QACxB,KAAK,CAAC,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,SAAS,IAAI,QAAQ,CAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;KACrF;IACD,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;IAC9B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG;QACpD,IAAI,YAAY,GAAG,WAAW,CAAC,GAAG,CAAC,KAAK,WAAW,CAAC;QACpD,IAAI,SAAS,GAAG,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAC/E,IAAI,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACzC,IAAI,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;QAC1C,IAAI,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QAC5C,IAAI,GAAG,IAAI,OAAO,EAAE;YAClB,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,KAAK,EAAE,KAAK,EAAE,aAAa,CAAC,CAAC;YACjE,IAAI,GAAG,KAAK,QAAQ,EAAE;gBACpB,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,iBAAiB,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;aACpE;iBAAM;gBACL,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG;oBAC5C,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAChC,CAAC,CAAC,CAAC;aACJ;YACD,OAAO;SACR;aAAM,IAAI,YAAY,EAAE;YACvB,IAAI,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,EAAE;gBACzC,SAAS,GAAG,UAAU,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;gBACpD,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;oBAC3B,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,OAAO,GAAG,KAAK,GAAG,IAAI,CAAC;iBACjE;qBAAM;oBACL,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,GAAG,SAAS,CAAC,GAAG,KAAK,GAAG,SAAS,GAAG,IAAI,CAAC;iBAC/E;aACF;iBAAM,IAAI,GAAG,KAAK,OAAO,EAAE;gBAC1B,IAAI,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC;gBAC3C,IAAI,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC;gBAC3C,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;oBAC3B,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,MAAM,GAAG,OAAO,GAAG,KAAK,CAAC;oBACxD,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,MAAM,GAAG,OAAO,GAAG,KAAK,CAAC;iBACzD;qBAAM;oBACL,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,OAAO,GAAG,MAAM,CAAC,GAAG,KAAK,GAAG,MAAM,CAAC;oBACnE,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,OAAO,GAAG,MAAM,CAAC,GAAG,KAAK,GAAG,MAAM,CAAC;iBACpE;aACF;iBAAM,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;gBAClC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,OAAO,GAAG,KAAK,CAAC;aAC1D;iBAAM;gBACL,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,GAAG,SAAS,CAAC,GAAG,KAAK,GAAG,SAAS,CAAC;aACxE;YACD,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,iBAAiB,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;YACnE,IAAI,aAAa,EAAE;gBACjB,aAAa,CAAC,YAAY,GAAG,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC;aAC/E;YACD,OAAO;SACR;aAAM,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;YACjC,IAAI,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YAC3C,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,aAAa,CAAC,KAAK,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;YAChF,IAAI,KAAK,KAAK,QAAQ,EAAE;gBACtB,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;aAC9E;SACF;aAAM;YACL,IAAI,SAAS,GAAG,WAAW,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;YACpC,SAAS,GAAG,OAAO,SAAS,KAAK,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;YACpF,IAAI,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;YACnE,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;gBAC/B,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;aAC5B;iBAAM,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;gBAClC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,SAAS,GAAG,OAAO,GAAG,KAAK,GAAG,IAAI,CAAC;aACvD;iBAAM;gBACL,IAAI,KAAK,GAAG,CAAC,OAAO,GAAG,SAAS,CAAC,GAAG,KAAK,GAAG,SAAS,CAAC;gBACtD,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,EAAE,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;aACrD;SACF;QACD,IAAI,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;YACpC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE;gBACxB,OAAO;aACR;YACD,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAC5C,IAAI,WAAW,GAAG,EAAE,CAAC;YACrB,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,OAAO,CAAC,UAAU,SAAS;gBAC1D,WAAW,IAAI,GAAG,GAAG,SAAS,GAAG,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC,GAAG,GAAG,CAAC;YAC9E,CAAC,CAAC,CAAC;YACH,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,WAAW,CAAC,IAAI,EAAE,CAAC;YAC9C,OAAO;SACR;QACD,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AACF,eAAe,WAAW,CAAC","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\n/* eslint-disable func-names, no-console */\nimport { cssList, checkStyleName, getGsapType, parseShadow, getColor, parseColor, isTransform, isConvert, splitFilterToObject, getTransform, stylesToCss, createMatrix } from 'style-utils';\nimport { startConvertToEndUnit, getTransformValue, styleValueToArray } from '../util.js';\nimport _plugin from '../plugins';\n\nvar StylePlugin = function StylePlugin(target, vars, type) {\n  this.target = target;\n  this.vars = vars;\n  this.type = type;\n  this.propsData = {};\n  this.setDefaultData();\n};\nStylePlugin.prototype = {\n  name: 'style'\n};\nvar p = StylePlugin.prototype;\np.getTweenData = function (key, $vars) {\n  var data = {\n    data: {},\n    dataType: {},\n    dataUnit: {},\n    dataCount: {},\n    dataSplitStr: {}\n  };\n  var vars = $vars;\n  if (styleValueToArray[key]) {\n    vars = vars.toString().split(' ');\n    vars = vars.map(function (c) {\n      return typeof $vars === 'number' ? c + 'px' : c;\n    });\n    vars[1] = vars[1] || vars[0];\n    vars[2] = vars[2] || vars[0];\n    vars[3] = vars[3] || vars[1] || vars[0];\n    vars = vars.join(' ');\n  }\n  if (key.match(/colo|fill|storker/i)) {\n    data.data[key] = parseColor(vars);\n    data.dataType[key] = 'color';\n  } else if (key === 'strokeDasharray') {\n    data.data[key] = vars.split(',');\n    data.dataType[key] = 'strokeDasharray';\n  } else if (key.match(/shadow/i)) {\n    data.data[key] = parseShadow(vars);\n    data.dataType[key] = 'shadow';\n  } else if (typeof vars === 'string' && vars.split(/[\\s|,]/).length > 1) {\n    data.data[key] = vars.split(/[\\s|,]/);\n    data.dataSplitStr[key] = vars.replace(/[^\\s|,]/g, '').replace(/\\s+/g, ' ');\n    data.dataType[key] = 'string';\n  } else {\n    data.data[key] = vars;\n    data.dataType[key] = 'other';\n  }\n  if (Array.isArray(data.data[key])) {\n    data.dataUnit[key] = data.data[key].map(function (_item) {\n      return _item.toString().replace(/[^a-z|%]/g, '');\n    });\n    data.dataCount[key] = data.data[key].map(function (_item) {\n      return _item.toString().replace(/[^+|=|-]/g, '');\n    });\n\n    data.data[key] = data.data[key].map(function (_item) {\n      return !parseFloat(_item) && parseFloat(_item) !== 0 ? _item : parseFloat(_item);\n    });\n  } else {\n    data.dataUnit[key] = data.data[key].toString().replace(/[^a-z|%]/g, '');\n    data.dataCount[key] = data.data[key].toString().replace(/[^+|=|-]/g, '');\n    var d = parseFloat(data.data[key].toString().replace(/[a-z|%|=]/g, ''));\n    data.data[key] = !d && d !== 0 ? data.data[key] : d;\n  }\n  return data;\n};\np.setDefaultData = function () {\n  var _this = this;\n\n  this.propsData.data = {};\n  this.propsData.dataType = {};\n  this.propsData.dataUnit = {};\n  this.propsData.dataCount = {};\n  this.propsData.dataSplitStr = {};\n  Object.keys(this.vars).forEach(function (_key) {\n    if (_key in _plugin) {\n      _this.propsData.data[_key] = new _plugin[_key](_this.target, _this.vars[_key]);\n      return;\n    }\n    var key = getGsapType(_key);\n    var _data = _this.getTweenData(key, _this.vars[_key]);\n    _this.propsData.data[key] = _data.data[key];\n    _this.propsData.dataType[key] = _data.dataType[key];\n    _this.propsData.dataUnit[key] = _data.dataUnit[key];\n    _this.propsData.dataCount[key] = _data.dataCount[key];\n    if (_data.dataSplitStr[key]) {\n      _this.propsData.dataSplitStr[key] = _data.dataSplitStr[key];\n    }\n  });\n};\np.convertToMarksArray = function (computedStyle, unit, key, data, i) {\n  var startUnit = data.toString().replace(/[^a-z|%]/g, '');\n  var endUnit = unit[i];\n  if (startUnit === endUnit) {\n    return parseFloat(data);\n  } else if (!parseFloat(data) && parseFloat(data) !== 0) {\n    return data;\n  }\n  return startConvertToEndUnit(this.target, computedStyle, key, data, startUnit, endUnit, null, key === 'transformOrigin' && !i);\n};\np.getAnimStart = function (computedStyle, tween, isSvg) {\n  var _this2 = this;\n\n  var style = {};\n  var tweenStyle = tween.style || {};\n  var transform = void 0;\n  Object.keys(this.propsData.data).forEach(function (key) {\n    var cssName = isConvert(key);\n    var startData = tweenStyle[cssName] || computedStyle[cssName];\n    var fixed = computedStyle.position === 'fixed';\n    if (!startData || startData === 'none' || startData === 'auto') {\n      startData = '';\n    }\n    var endUnit = void 0;\n    var startUnit = void 0;\n    if (key in _plugin) {\n      if (key === 'bezier') {\n        _this2.transform = checkStyleName('transform');\n        startData = computedStyle[isSvg ? 'transformSVG' : _this2.transform];\n        transform = transform || (tweenStyle.transform ? _extends({}, tweenStyle.transform) : style.transform || getTransform(startData));\n        style.transform = transform;\n      }\n      _this2.propsData.data[key].getAnimStart(computedStyle, isSvg);\n    } else if (cssName === 'transform') {\n      _this2.transform = checkStyleName('transform');\n      startData = computedStyle[isSvg ? 'transformSVG' : _this2.transform];\n      endUnit = _this2.propsData.dataUnit[key];\n      transform = transform || (tweenStyle.transform ? _extends({}, tweenStyle.transform) : style.transform || getTransform(startData));\n      var unitReg = /%|vw|vh|em|rem/i;\n      if (endUnit && endUnit.match(unitReg)) {\n        transform[key] = transform[key] && transform[key].toString().match(unitReg) ? parseFloat(transform[key]) : startConvertToEndUnit(_this2.target, computedStyle, key, transform[key], null, endUnit);\n      }\n      style.transform = transform;\n    } else if (cssName === 'filter') {\n      if (tweenStyle[cssName]) {\n        startData = tweenStyle[cssName];\n      } else {\n        _this2.filterName = checkStyleName('filter') || 'filter';\n        startData = computedStyle[_this2.filterName];\n        _this2.filterObject = _extends({}, _this2.filterObject, splitFilterToObject(startData));\n        startData = _this2.filterObject[key] || 0;\n      }\n      startUnit = startData.toString().replace(/[^a-z|%]/g, '');\n      endUnit = _this2.propsData.dataUnit[key];\n      if (endUnit !== startUnit) {\n        startData = startConvertToEndUnit(_this2.target, computedStyle, cssName, parseFloat(startData), startUnit, endUnit, fixed);\n      }\n      style[key] = parseFloat(startData);\n    } else if (key.match(/color|fill/i) || key === 'stroke') {\n      startData = !startData && key === 'stroke' ? 'rgba(255, 255, 255, 0)' : startData;\n      style[cssName] = parseColor(startData);\n    } else if (key.match(/shadow/i)) {\n      startData = parseShadow(startData);\n      endUnit = _this2.propsData.dataUnit[key];\n      startData = startData.map(_this2.convertToMarksArray.bind(_this2, computedStyle, endUnit, key));\n      style[cssName] = startData;\n    } else if (Array.isArray(_this2.propsData.data[key])) {\n      startData = startData.split(/[\\s|,]/).filter(function (c) {\n        return c || c === 0;\n      });\n      endUnit = _this2.propsData.dataUnit[key];\n      startData = startData.map(_this2.convertToMarksArray.bind(_this2, computedStyle, endUnit, key));\n      style[cssName] = startData;\n    } else {\n      // 计算单位\n      endUnit = _this2.propsData.dataUnit[cssName];\n      startUnit = startData.toString().replace(/[^a-z|%]/g, '');\n      if (endUnit !== startUnit) {\n        startData = startConvertToEndUnit(_this2.target, computedStyle, cssName, parseFloat(startData), startUnit, endUnit, fixed);\n      }\n      style[cssName] = parseFloat(startData || 0);\n    }\n  });\n  this.start = style;\n  return style;\n};\np.setArrayRatio = function (ratio, start, vars, unit, type) {\n  if (type === 'color' && start.length === 4 && vars.length === 3) {\n    vars[3] = 1;\n  }\n  var startInset = start.indexOf('inset') >= 0;\n  var endInset = vars.indexOf('inset') >= 0;\n  if (startInset && !endInset || endInset && !startInset) {\n    throw console.error('Error: \"box-shadow\" inset have to exist');\n  }\n  var length = endInset ? 9 : 8;\n  if (start.length === length && vars.length === length - 1) {\n    vars.splice(3, 0, 0);\n    unit.splice(3, 0, '');\n  } else if (vars.length === length && start.length === length - 1) {\n    start.splice(3, 0, 0);\n  }\n  var _vars = vars.map(function (endData, i) {\n    var startIsAlpha = type === 'color' && i === 3 && !start[i] ? 1 : 0;\n    var startData = typeof start[i] === 'number' ? start[i] : startIsAlpha;\n    if (typeof endData === 'string') {\n      return endData;\n    }\n    return (endData - startData) * ratio + startData + (unit[i] || 0);\n  });\n  if (type === 'color') {\n    return getColor(_vars);\n  } else if (type === 'shadow') {\n    var l = _vars.length === length ? 4 : 3;\n    var s = _vars.slice(0, l).map(function (item) {\n      if (typeof item === 'number') {\n        return item + 'px';\n      }\n      return item;\n    });\n    var c = _vars.slice(l, endInset ? _vars.length - 1 : _vars.length);\n    var color = getColor(c);\n    return (s.join(' ') + ' ' + color + ' ' + (endInset ? 'inset' : '')).trim();\n  }\n  return _vars;\n};\n\np.setRatio = function (ratio, tween, computedStyle) {\n  var _this3 = this;\n\n  tween.style = tween.style || {};\n  if (this.start.transform) {\n    tween.style.transform = tween.style.transform || _extends({}, this.start.transform);\n  }\n  var style = this.target.style;\n  Object.keys(this.propsData.data).forEach(function (key) {\n    var _isTransform = isTransform(key) === 'transform';\n    var startVars = _isTransform ? _this3.start.transform[key] : _this3.start[key];\n    var endVars = _this3.propsData.data[key];\n    var unit = _this3.propsData.dataUnit[key];\n    var count = _this3.propsData.dataCount[key];\n    if (key in _plugin) {\n      _this3.propsData.data[key].setRatio(ratio, tween, computedStyle);\n      if (key === 'bezier') {\n        style[_this3.transform] = getTransformValue(tween.style.transform);\n      } else {\n        Object.keys(tween.style).forEach(function (css) {\n          style[css] = tween.style[css];\n        });\n      }\n      return;\n    } else if (_isTransform) {\n      if (unit && unit.match(/%|vw|vh|em|rem/i)) {\n        startVars = parseFloat(_this3.start.transform[key]);\n        if (count.charAt(1) === '=') {\n          tween.style.transform[key] = startVars + endVars * ratio + unit;\n        } else {\n          tween.style.transform[key] = (endVars - startVars) * ratio + startVars + unit;\n        }\n      } else if (key === 'scale') {\n        var xStart = _this3.start.transform.scaleX;\n        var yStart = _this3.start.transform.scaleY;\n        if (count.charAt(1) === '=') {\n          tween.style.transform.scaleX = xStart + endVars * ratio;\n          tween.style.transform.scaleY = yStart + endVars * ratio;\n        } else {\n          tween.style.transform.scaleX = (endVars - xStart) * ratio + xStart;\n          tween.style.transform.scaleY = (endVars - yStart) * ratio + yStart;\n        }\n      } else if (count.charAt(1) === '=') {\n        tween.style.transform[key] = startVars + endVars * ratio;\n      } else {\n        tween.style.transform[key] = (endVars - startVars) * ratio + startVars;\n      }\n      style[_this3.transform] = getTransformValue(tween.style.transform);\n      if (computedStyle) {\n        computedStyle.transformSVG = createMatrix(style[_this3.transform]).toString();\n      }\n      return;\n    } else if (Array.isArray(endVars)) {\n      var _type = _this3.propsData.dataType[key];\n      tween.style[key] = _this3.setArrayRatio(ratio, startVars, endVars, unit, _type);\n      if (_type === 'string') {\n        tween.style[key] = tween.style[key].join(_this3.propsData.dataSplitStr[key]);\n      }\n    } else {\n      var styleUnit = stylesToCss(key, 0);\n      styleUnit = typeof styleUnit === 'number' ? '' : styleUnit.replace(/[^a-z|%]/g, '');\n      unit = unit || (cssList.filter.indexOf(key) >= 0 ? '' : styleUnit);\n      if (typeof endVars === 'string') {\n        tween.style[key] = endVars;\n      } else if (count.charAt(1) === '=') {\n        tween.style[key] = startVars + endVars * ratio + unit;\n      } else {\n        var value = (endVars - startVars) * ratio + startVars;\n        tween.style[key] = unit ? '' + value + unit : value;\n      }\n    }\n    if (cssList.filter.indexOf(key) >= 0) {\n      if (!_this3.filterObject) {\n        return;\n      }\n      _this3.filterObject[key] = tween.style[key];\n      var filterStyle = '';\n      Object.keys(_this3.filterObject).forEach(function (filterKey) {\n        filterStyle += ' ' + filterKey + '(' + _this3.filterObject[filterKey] + ')';\n      });\n      style[_this3.filterName] = filterStyle.trim();\n      return;\n    }\n    style[key] = tween.style[key];\n  });\n};\nexport default StylePlugin;"]}]}
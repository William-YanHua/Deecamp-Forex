{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\guide\\arc.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\guide\\arc.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\r\nvar Util = require('../util');\r\nvar Guide = require('./base');\r\nvar PI = Math.PI;\r\nvar atan = Math.atan;\r\nfunction calculateAngle(point, center) {\r\n    var x = point.x - center.x;\r\n    var y = point.y - center.y;\r\n    var deg;\r\n    if (y === 0) {\r\n        if (x < 0) {\r\n            deg = PI / 2;\r\n        }\r\n        else {\r\n            deg = 270 * PI / 180;\r\n        }\r\n    }\r\n    else if (x >= 0 && y > 0) {\r\n        deg = PI * 2 - atan(x / y);\r\n    }\r\n    else if (x <= 0 && y < 0) {\r\n        deg = PI - atan(x / y);\r\n    }\r\n    else if (x > 0 && y < 0) {\r\n        deg = PI + atan(-x / y);\r\n    }\r\n    else if (x < 0 && y > 0) {\r\n        deg = atan(x / -y);\r\n    }\r\n    return deg;\r\n}\r\nvar Arc = function (_Guide) {\r\n    _inheritsLoose(Arc, _Guide);\r\n    function Arc() {\r\n        return _Guide.apply(this, arguments) || this;\r\n    }\r\n    var _proto = Arc.prototype;\r\n    _proto.getDefaultCfg = function getDefaultCfg() {\r\n        var cfg = _Guide.prototype.getDefaultCfg.call(this);\r\n        return Util.mix({}, cfg, {\r\n            name: 'arc',\r\n            start: null,\r\n            end: null,\r\n            style: {\r\n                stroke: '#999',\r\n                lineWidth: 1\r\n            }\r\n        });\r\n    };\r\n    _proto.render = function render(coord, group) {\r\n        var self = this;\r\n        var start = self.parsePoint(coord, self.get('start'));\r\n        var end = self.parsePoint(coord, self.get('end'));\r\n        var coordCenter = coord.getCenter();\r\n        var radius = Math.sqrt((start.x - coordCenter.x) * (start.x - coordCenter.x) + (start.y - coordCenter.y) * (start.y - coordCenter.y));\r\n        var path;\r\n        var startAngle = calculateAngle(start, coordCenter);\r\n        var endAngle = calculateAngle(end, coordCenter);\r\n        if (endAngle < startAngle) {\r\n            endAngle += PI * 2;\r\n        }\r\n        if (Util.isNumberEqual(start.x, end.x) && Util.isNumberEqual(start.y, end.y) && (self.get('start')[0] !== self.get('end')[0] || self.get('start')[1] !== self.get('end')[1])) {\r\n            path = [['M', start.x, start.y], ['A', radius, radius, 0, 1, 1, 2 * coordCenter.x - start.x, 2 * coordCenter.y - start.y], ['A', radius, radius, 0, 1, 1, start.x, start.y]];\r\n        }\r\n        else {\r\n            var dAngle = (endAngle - startAngle) % (PI * 2);\r\n            var largeArc = dAngle > PI ? 1 : 0;\r\n            path = [['M', start.x, start.y], ['A', radius, radius, 0, largeArc, 1, end.x, end.y]];\r\n        }\r\n        var arcShape = group.addShape('path', {\r\n            zIndex: self.get('zIndex'),\r\n            attrs: Util.mix({\r\n                path: path\r\n            }, self.get('style'))\r\n        });\r\n        arcShape.name = 'guide-arc';\r\n        self.get('appendInfo') && arcShape.setSilent('appendInfo', self.get('appendInfo'));\r\n        self.set('el', arcShape);\r\n    };\r\n    return Arc;\r\n}(Guide);\r\nmodule.exports = Arc;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\guide\\arc.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\guide\\arc.js"],"names":[],"mappings":"AAAA,SAAS,cAAc,CAAC,QAAQ,EAAE,UAAU,IAAI,QAAQ,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,GAAG,QAAQ,CAAC,CAAC,QAAQ,CAAC,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC;AAEvL,IAAI,IAAI,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AAE9B,IAAI,KAAK,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAE9B,IAAI,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;AACjB,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;AAErB,SAAS,cAAc,CAAC,KAAK,EAAE,MAAM;IACnC,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;IAC3B,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;IAC3B,IAAI,GAAG,CAAC;IAER,IAAI,CAAC,KAAK,CAAC,EAAE;QACX,IAAI,CAAC,GAAG,CAAC,EAAE;YACT,GAAG,GAAG,EAAE,GAAG,CAAC,CAAC;SACd;aAAM;YACL,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,CAAC;SACtB;KACF;SAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;QAC1B,GAAG,GAAG,EAAE,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;KAC5B;SAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;QAC1B,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;KACxB;SAAM,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;QACzB,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;KACzB;SAAM,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;QACzB,GAAG,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;KACpB;IAED,OAAO,GAAG,CAAC;AACb,CAAC;AAED,IAAI,GAAG,GAEP,UAAU,MAAM;IACd,cAAc,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IAE5B,SAAS,GAAG;QACV,OAAO,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;IAC/C,CAAC;IAED,IAAI,MAAM,GAAG,GAAG,CAAC,SAAS,CAAC;IAE3B,MAAM,CAAC,aAAa,GAAG,SAAS,aAAa;QAC3C,IAAI,GAAG,GAAG,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEpD,OAAO,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,EAAE;YAKvB,IAAI,EAAE,KAAK;YAMX,KAAK,EAAE,IAAI;YAMX,GAAG,EAAE,IAAI;YAMT,KAAK,EAAE;gBACL,MAAM,EAAE,MAAM;gBACd,SAAS,EAAE,CAAC;aACb;SACF,CAAC,CAAC;IACL,CAAC,CAAC;IAEF,MAAM,CAAC,MAAM,GAAG,SAAS,MAAM,CAAC,KAAK,EAAE,KAAK;QAC1C,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;QACtD,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;QAClD,IAAI,WAAW,GAAG,KAAK,CAAC,SAAS,EAAE,CAAC;QACpC,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QACtI,IAAI,IAAI,CAAC;QAET,IAAI,UAAU,GAAG,cAAc,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;QACpD,IAAI,QAAQ,GAAG,cAAc,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;QAEhD,IAAI,QAAQ,GAAG,UAAU,EAAE;YACzB,QAAQ,IAAI,EAAE,GAAG,CAAC,CAAC;SACpB;QAED,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YAC5K,IAAI,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;SAC9K;aAAM;YACL,IAAI,MAAM,GAAG,CAAC,QAAQ,GAAG,UAAU,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;YAChD,IAAI,QAAQ,GAAG,MAAM,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;SACvF;QAED,IAAI,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,MAAM,EAAE;YACpC,MAAM,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC;YAC1B,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC;gBACd,IAAI,EAAE,IAAI;aACX,EAAE,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;SACtB,CAAC,CAAC;QACH,QAAQ,CAAC,IAAI,GAAG,WAAW,CAAC;QAC5B,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,QAAQ,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,CAAC;QACnF,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IAC3B,CAAC,CAAC;IAEF,OAAO,GAAG,CAAC;AACb,CAAC,CAAC,KAAK,CAAC,CAAC;AAET,MAAM,CAAC,OAAO,GAAG,GAAG,CAAC","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar Util = require('../util');\n\nvar Guide = require('./base');\n\nvar PI = Math.PI;\nvar atan = Math.atan;\n\nfunction calculateAngle(point, center) {\n  var x = point.x - center.x;\n  var y = point.y - center.y;\n  var deg;\n\n  if (y === 0) {\n    if (x < 0) {\n      deg = PI / 2;\n    } else {\n      deg = 270 * PI / 180;\n    }\n  } else if (x >= 0 && y > 0) {\n    deg = PI * 2 - atan(x / y);\n  } else if (x <= 0 && y < 0) {\n    deg = PI - atan(x / y);\n  } else if (x > 0 && y < 0) {\n    deg = PI + atan(-x / y);\n  } else if (x < 0 && y > 0) {\n    deg = atan(x / -y);\n  }\n\n  return deg;\n}\n\nvar Arc =\n/*#__PURE__*/\nfunction (_Guide) {\n  _inheritsLoose(Arc, _Guide);\n\n  function Arc() {\n    return _Guide.apply(this, arguments) || this;\n  }\n\n  var _proto = Arc.prototype;\n\n  _proto.getDefaultCfg = function getDefaultCfg() {\n    var cfg = _Guide.prototype.getDefaultCfg.call(this);\n\n    return Util.mix({}, cfg, {\n      /**\n       * 辅助元素类型\n       * @type {String}\n       */\n      name: 'arc',\n\n      /**\n       * 辅助弧线的起始点\n       * @type {Object | Function | Array}\n       */\n      start: null,\n\n      /**\n       * 辅助弧线的终止点\n       * @type {Object | Function | Array}\n       */\n      end: null,\n\n      /**\n       * 辅助文本的样式配置\n       * @type {Object}\n       */\n      style: {\n        stroke: '#999',\n        lineWidth: 1\n      }\n    });\n  };\n\n  _proto.render = function render(coord, group) {\n    var self = this;\n    var start = self.parsePoint(coord, self.get('start'));\n    var end = self.parsePoint(coord, self.get('end'));\n    var coordCenter = coord.getCenter();\n    var radius = Math.sqrt((start.x - coordCenter.x) * (start.x - coordCenter.x) + (start.y - coordCenter.y) * (start.y - coordCenter.y));\n    var path; // 处理整圆的情况\n\n    var startAngle = calculateAngle(start, coordCenter);\n    var endAngle = calculateAngle(end, coordCenter);\n\n    if (endAngle < startAngle) {\n      endAngle += PI * 2;\n    }\n\n    if (Util.isNumberEqual(start.x, end.x) && Util.isNumberEqual(start.y, end.y) && (self.get('start')[0] !== self.get('end')[0] || self.get('start')[1] !== self.get('end')[1])) {\n      path = [['M', start.x, start.y], ['A', radius, radius, 0, 1, 1, 2 * coordCenter.x - start.x, 2 * coordCenter.y - start.y], ['A', radius, radius, 0, 1, 1, start.x, start.y]];\n    } else {\n      var dAngle = (endAngle - startAngle) % (PI * 2);\n      var largeArc = dAngle > PI ? 1 : 0;\n      path = [['M', start.x, start.y], ['A', radius, radius, 0, largeArc, 1, end.x, end.y]];\n    }\n\n    var arcShape = group.addShape('path', {\n      zIndex: self.get('zIndex'),\n      attrs: Util.mix({\n        path: path\n      }, self.get('style'))\n    });\n    arcShape.name = 'guide-arc';\n    self.get('appendInfo') && arcShape.setSilent('appendInfo', self.get('appendInfo'));\n    self.set('el', arcShape);\n  };\n\n  return Arc;\n}(Guide);\n\nmodule.exports = Arc;"]}]}
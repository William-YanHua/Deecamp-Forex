{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\scale\\lib\\category.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\scale\\lib\\category.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\r\nvar Base = require('./base');\r\nvar catAuto = require('./auto/cat');\r\nvar each = require('@antv/util/lib/each');\r\nvar isNumber = require('@antv/util/lib/type/is-number');\r\nvar isString = require('@antv/util/lib/type/is-string');\r\nvar Category = function (_Base) {\r\n    _inheritsLoose(Category, _Base);\r\n    function Category() {\r\n        return _Base.apply(this, arguments) || this;\r\n    }\r\n    var _proto = Category.prototype;\r\n    _proto._initDefaultCfg = function _initDefaultCfg() {\r\n        _Base.prototype._initDefaultCfg.call(this);\r\n        this.type = 'cat';\r\n        this.isCategory = true;\r\n        this.isRounding = true;\r\n    };\r\n    _proto.init = function init() {\r\n        var self = this;\r\n        var values = self.values;\r\n        var tickCount = self.tickCount;\r\n        each(values, function (v, i) {\r\n            values[i] = v.toString();\r\n        });\r\n        if (!self.ticks) {\r\n            var ticks = values;\r\n            if (tickCount) {\r\n                var temp = catAuto({\r\n                    maxCount: tickCount,\r\n                    data: values,\r\n                    isRounding: self.isRounding\r\n                });\r\n                ticks = temp.ticks;\r\n            }\r\n            this.ticks = ticks;\r\n        }\r\n    };\r\n    _proto.getText = function getText(value) {\r\n        if (this.values.indexOf(value) === -1 && isNumber(value)) {\r\n            value = this.values[Math.round(value)];\r\n        }\r\n        return _Base.prototype.getText.call(this, value);\r\n    };\r\n    _proto.translate = function translate(value) {\r\n        var index = this.values.indexOf(value);\r\n        if (index === -1 && isNumber(value)) {\r\n            index = value;\r\n        }\r\n        else if (index === -1) {\r\n            index = NaN;\r\n        }\r\n        return index;\r\n    };\r\n    _proto.scale = function scale(value) {\r\n        var rangeMin = this.rangeMin();\r\n        var rangeMax = this.rangeMax();\r\n        var percent;\r\n        if (isString(value) || this.values.indexOf(value) !== -1) {\r\n            value = this.translate(value);\r\n        }\r\n        if (this.values.length > 1) {\r\n            percent = value / (this.values.length - 1);\r\n        }\r\n        else {\r\n            percent = value;\r\n        }\r\n        return rangeMin + percent * (rangeMax - rangeMin);\r\n    };\r\n    _proto.invert = function invert(value) {\r\n        if (isString(value)) {\r\n            return value;\r\n        }\r\n        var min = this.rangeMin();\r\n        var max = this.rangeMax();\r\n        if (value < min) {\r\n            value = min;\r\n        }\r\n        if (value > max) {\r\n            value = max;\r\n        }\r\n        var percent = (value - min) / (max - min);\r\n        var index = Math.round(percent * (this.values.length - 1)) % this.values.length;\r\n        index = index || 0;\r\n        return this.values[index];\r\n    };\r\n    return Category;\r\n}(Base);\r\nBase.Cat = Category;\r\nmodule.exports = Category;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\scale\\lib\\category.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\scale\\lib\\category.js"],"names":[],"mappings":"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","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar Base = require('./base');\n\nvar catAuto = require('./auto/cat');\n\nvar each = require('@antv/util/lib/each');\n\nvar isNumber = require('@antv/util/lib/type/is-number');\n\nvar isString = require('@antv/util/lib/type/is-string');\n\nvar Category =\n/*#__PURE__*/\nfunction (_Base) {\n  _inheritsLoose(Category, _Base);\n\n  function Category() {\n    return _Base.apply(this, arguments) || this;\n  }\n\n  var _proto = Category.prototype;\n\n  _proto._initDefaultCfg = function _initDefaultCfg() {\n    _Base.prototype._initDefaultCfg.call(this);\n\n    this.type = 'cat';\n    /**\n     * 是否分类度量\n     * @type {Boolean}\n     */\n\n    this.isCategory = true;\n    this.isRounding = true; // 是否进行取整操作\n  };\n  /**\n   * @override\n   */\n\n\n  _proto.init = function init() {\n    var self = this;\n    var values = self.values;\n    var tickCount = self.tickCount;\n    each(values, function (v, i) {\n      values[i] = v.toString();\n    });\n\n    if (!self.ticks) {\n      var ticks = values;\n\n      if (tickCount) {\n        var temp = catAuto({\n          maxCount: tickCount,\n          data: values,\n          isRounding: self.isRounding\n        });\n        ticks = temp.ticks;\n      }\n\n      this.ticks = ticks;\n    }\n  };\n  /**\n   * @override\n   */\n\n\n  _proto.getText = function getText(value) {\n    if (this.values.indexOf(value) === -1 && isNumber(value)) {\n      value = this.values[Math.round(value)];\n    }\n\n    return _Base.prototype.getText.call(this, value);\n  };\n  /**\n   * @override\n   */\n\n\n  _proto.translate = function translate(value) {\n    var index = this.values.indexOf(value);\n\n    if (index === -1 && isNumber(value)) {\n      index = value;\n    } else if (index === -1) {\n      index = NaN;\n    }\n\n    return index;\n  };\n  /**\n   * @override\n   */\n\n\n  _proto.scale = function scale(value) {\n    var rangeMin = this.rangeMin();\n    var rangeMax = this.rangeMax();\n    var percent;\n\n    if (isString(value) || this.values.indexOf(value) !== -1) {\n      value = this.translate(value);\n    }\n\n    if (this.values.length > 1) {\n      percent = value / (this.values.length - 1);\n    } else {\n      percent = value;\n    }\n\n    return rangeMin + percent * (rangeMax - rangeMin);\n  };\n  /**\n   * @override\n   */\n\n\n  _proto.invert = function invert(value) {\n    if (isString(value)) {\n      // 如果已经是字符串\n      return value;\n    }\n\n    var min = this.rangeMin();\n    var max = this.rangeMax(); // 归一到 范围内\n\n    if (value < min) {\n      value = min;\n    }\n\n    if (value > max) {\n      value = max;\n    }\n\n    var percent = (value - min) / (max - min);\n    var index = Math.round(percent * (this.values.length - 1)) % this.values.length;\n    index = index || 0;\n    return this.values[index];\n  };\n\n  return Category;\n}(Base);\n\nBase.Cat = Category;\nmodule.exports = Category;"]}]}
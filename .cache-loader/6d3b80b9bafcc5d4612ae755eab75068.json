{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\interaction\\action\\element\\state.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\interaction\\action\\element\\state.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import { __extends } from \"tslib\";\r\nimport { each, isNil, get } from '@antv/util';\r\nimport { getCurrentElement, getDelegationObject, getElements, getElementValue, getScaleByField, isElementChange, isList, } from '../util';\r\nimport StateBase from './state-base';\r\nfunction getItem(shape) {\r\n    return get(shape.get('delegateObject'), 'item');\r\n}\r\nvar ElementState = (function (_super) {\r\n    __extends(ElementState, _super);\r\n    function ElementState() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.ignoreListItemStates = ['unchecked'];\r\n        return _this;\r\n    }\r\n    ElementState.prototype.isItemIgnore = function (item, list) {\r\n        var states = this.ignoreListItemStates;\r\n        var filtered = states.filter(function (state) {\r\n            return list.hasState(item, state);\r\n        });\r\n        return !!filtered.length;\r\n    };\r\n    ElementState.prototype.setStateByComponent = function (component, item, enable) {\r\n        var view = this.context.view;\r\n        var field = component.get('field');\r\n        var elements = getElements(view);\r\n        this.setElementsStateByItem(elements, field, item, enable);\r\n    };\r\n    ElementState.prototype.setStateByElement = function (element, enable) {\r\n        this.setElementState(element, enable);\r\n    };\r\n    ElementState.prototype.isMathItem = function (element, field, item) {\r\n        var view = this.context.view;\r\n        var scale = getScaleByField(view, field);\r\n        var value = getElementValue(element, field);\r\n        return !isNil(value) && item.name === scale.getText(value);\r\n    };\r\n    ElementState.prototype.setElementsStateByItem = function (elements, field, item, enable) {\r\n        var _this = this;\r\n        each(elements, function (el) {\r\n            if (_this.isMathItem(el, field, item)) {\r\n                el.setState(_this.stateName, enable);\r\n            }\r\n        });\r\n    };\r\n    ElementState.prototype.setStateEnable = function (enable) {\r\n        var element = getCurrentElement(this.context);\r\n        if (element) {\r\n            if (isElementChange(this.context)) {\r\n                this.setStateByElement(element, enable);\r\n            }\r\n        }\r\n        else {\r\n            var delegateObject = getDelegationObject(this.context);\r\n            if (isList(delegateObject)) {\r\n                var item = delegateObject.item, component = delegateObject.component;\r\n                if (item && component && !this.isItemIgnore(item, component)) {\r\n                    var event_1 = this.context.event.gEvent;\r\n                    if (event_1 && event_1.fromShape && event_1.toShape && getItem(event_1.fromShape) === getItem(event_1.toShape)) {\r\n                        return;\r\n                    }\r\n                    this.setStateByComponent(component, item, enable);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    ElementState.prototype.toggle = function () {\r\n        var element = getCurrentElement(this.context);\r\n        if (element) {\r\n            var hasState = element.hasState(this.stateName);\r\n            this.setElementState(element, !hasState);\r\n        }\r\n    };\r\n    ElementState.prototype.reset = function () {\r\n        this.setStateEnable(false);\r\n    };\r\n    return ElementState;\r\n}(StateBase));\r\nexport default ElementState;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\interaction\\action\\element\\state.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\interaction\\action\\element\\state.js"],"names":[],"mappings":"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","sourcesContent":["import { __extends } from \"tslib\";\nimport { each, isNil, get } from '@antv/util';\nimport { getCurrentElement, getDelegationObject, getElements, getElementValue, getScaleByField, isElementChange, isList, } from '../util';\nimport StateBase from './state-base';\nfunction getItem(shape) {\n    return get(shape.get('delegateObject'), 'item');\n}\n/**\n * 状态量 Action 的基类，允许多个 Element 同时拥有某个状态\n * @class\n * @ignore\n */\nvar ElementState = /** @class */ (function (_super) {\n    __extends(ElementState, _super);\n    function ElementState() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.ignoreListItemStates = ['unchecked'];\n        return _this;\n    }\n    // 是否忽略触发的列表项\n    ElementState.prototype.isItemIgnore = function (item, list) {\n        var states = this.ignoreListItemStates;\n        var filtered = states.filter(function (state) {\n            return list.hasState(item, state);\n        });\n        return !!filtered.length;\n    };\n    // 设置由组件选项导致的状态变化\n    ElementState.prototype.setStateByComponent = function (component, item, enable) {\n        var view = this.context.view;\n        var field = component.get('field');\n        var elements = getElements(view);\n        this.setElementsStateByItem(elements, field, item, enable);\n    };\n    // 处理触发源由 element 导致的状态变化\n    ElementState.prototype.setStateByElement = function (element, enable) {\n        this.setElementState(element, enable);\n    };\n    /** 组件的选项是否同 element 匹配 */\n    ElementState.prototype.isMathItem = function (element, field, item) {\n        var view = this.context.view;\n        var scale = getScaleByField(view, field);\n        var value = getElementValue(element, field);\n        return !isNil(value) && item.name === scale.getText(value);\n    };\n    ElementState.prototype.setElementsStateByItem = function (elements, field, item, enable) {\n        var _this = this;\n        each(elements, function (el) {\n            if (_this.isMathItem(el, field, item)) {\n                el.setState(_this.stateName, enable);\n            }\n        });\n    };\n    /** 设置状态是否激活 */\n    ElementState.prototype.setStateEnable = function (enable) {\n        var element = getCurrentElement(this.context);\n        if (element) {\n            // 触发源由于 element 导致\n            if (isElementChange(this.context)) {\n                this.setStateByElement(element, enable);\n            }\n        }\n        else {\n            // 触发源由组件导致\n            var delegateObject = getDelegationObject(this.context);\n            // 如果触发源时列表，图例、坐标轴\n            if (isList(delegateObject)) {\n                var item = delegateObject.item, component = delegateObject.component;\n                if (item && component && !this.isItemIgnore(item, component)) {\n                    var event_1 = this.context.event.gEvent;\n                    // 防止闪烁\n                    if (event_1 && event_1.fromShape && event_1.toShape && getItem(event_1.fromShape) === getItem(event_1.toShape)) {\n                        return;\n                    }\n                    this.setStateByComponent(component, item, enable);\n                }\n            }\n        }\n    };\n    /**\n     * 切换状态\n     */\n    ElementState.prototype.toggle = function () {\n        var element = getCurrentElement(this.context);\n        if (element) {\n            var hasState = element.hasState(this.stateName);\n            this.setElementState(element, !hasState);\n        }\n    };\n    /**\n     * 取消当前时间影响的状态\n     */\n    ElementState.prototype.reset = function () {\n        this.setStateEnable(false);\n    };\n    return ElementState;\n}(StateBase));\nexport default ElementState;\n//# sourceMappingURL=state.js.map"]}]}
{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/routing/RouteIndexPage.tsx","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/routing/RouteIndexPage.tsx","mtime":1596379644607},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from \"react\";\nimport { constructRoute } from \"./RouteConfig\";\nimport { Switch } from \"react-router\";\nexport function pathJoin() {\n    var parts = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        parts[_i] = arguments[_i];\n    }\n    var separator = \"/\";\n    var replace = new RegExp(separator + \"{1,}\", \"g\");\n    var path = parts.join(separator).replace(replace, separator);\n    return path.startsWith(\"/\") ? path : \"/\" + path;\n}\nexport default function routeIndexPage(routes, layout, combineParentPaths) {\n    if (layout === void 0) { layout = null; }\n    if (combineParentPaths === void 0) { combineParentPaths = true; }\n    return function (props) {\n        var match = props.match, location = props.location, history = props.history, staticContext = props.staticContext, rest = __rest(props, [\"match\", \"location\", \"history\", \"staticContext\"]);\n        var parentPath = combineParentPaths ? match.path : \"\";\n        var Layout = layout;\n        var s = React.createElement(Switch, null, routes.map(function (x) { return (__assign(__assign({}, x), { path: pathJoin(parentPath, x.path) })); }).map(function (x, key) { return constructRoute(x, key, rest); }));\n        if (layout) {\n            return React.createElement(Layout, null, s);\n        }\n        else {\n            return s;\n        }\n    };\n}\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/routing/RouteIndexPage.tsx","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/routing/RouteIndexPage.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,cAAc,EAA+B,MAAM,eAAe,CAAC;AAC5E,OAAO,EAAuB,MAAM,EAAc,MAAM,cAAc,CAAC;AAEvE,MAAM,UAAU,QAAQ;IAAC,eAAkB;SAAlB,UAAkB,EAAlB,qBAAkB,EAAlB,IAAkB;QAAlB,0BAAkB;;IACzC,IAAM,SAAS,GAAG,GAAG,CAAC;IACtB,IAAM,OAAO,GAAG,IAAI,MAAM,CAAC,SAAS,GAAG,MAAM,EAAE,GAAG,CAAC,CAAC;IACpD,IAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;IAC/D,OAAO,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC;AAClD,CAAC;AAcD,MAAM,CAAC,OAAO,UAAU,cAAc,CACpC,MAA0B,EAC1B,MAAkC,EAClC,kBAAkC;IADlC,uBAAA,EAAA,aAAkC;IAClC,mCAAA,EAAA,yBAAkC;IAElC,OAAO,UAAC,KAAY;QACR,IAAA,KAAK,GAAgD,KAAK,MAArD,EAAE,QAAQ,GAAsC,KAAK,SAA3C,EAAE,OAAO,GAA6B,KAAK,QAAlC,EAAE,aAAa,GAAc,KAAK,cAAnB,EAAK,IAAI,UAAK,KAAK,EAA5D,iDAAoD,CAAF,CAAW;QAEnE,IAAM,UAAU,GAAG,kBAAkB,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;QACxD,IAAM,MAAM,GAAG,MAAM,CAAC;QAEtB,IAAM,CAAC,GAAG,oBAAC,MAAM,QACd,MAAM,CAAC,GAAG,CAAC,UAAC,CAAC,IAAK,OAAA,uBACd,CAAC,KACJ,IAAI,EAAE,QAAQ,CAAC,UAAU,EAAE,CAAC,CAAC,IAAI,CAAC,IAClC,EAHiB,CAGjB,CAAC,CAAC,GAAG,CAAC,UAAC,CAAC,EAAE,GAAG,IAAK,OAAA,cAAc,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,EAA5B,CAA4B,CAAC,CAC1C,CAAC;QAEV,IAAI,MAAM,EAAE;YACV,OAAO,oBAAC,MAAM,QAAE,CAAC,CAAU,CAAC;SAC7B;aAAM;YACL,OAAO,CAAC,CAAC;SACV;IACL,CAAC,CAAC;AACJ,CAAC","sourcesContent":["import React from \"react\";\r\nimport { constructRoute, KnownRouteConfig, RouteType } from \"./RouteConfig\";\r\nimport { RouteComponentProps, Switch, withRouter } from \"react-router\";\r\n\r\nexport function pathJoin(...parts: string[]) {\r\n  const separator = \"/\";\r\n  const replace = new RegExp(separator + \"{1,}\", \"g\");\r\n  const path = parts.join(separator).replace(replace, separator);\r\n  return path.startsWith(\"/\") ? path : \"/\" + path;\r\n}\r\n\r\ninterface Props extends Partial<RouteComponentProps<any>> {\r\n  [key: string]: any;\r\n}\r\n\r\n/**\r\n * 用在一个Page的index.tsx中，常用写法为export default routeIndexPage(routes)\r\n *\r\n * 生成一个以routes为路由的Switch组件，并可选拼接父路径和使用Layout\r\n * @param routes 路由信息对象数组\r\n * @param layout 使用的Layout，默认为null。注意Layout是在父Layout的基础上再次添加，所以请不要添加重复的Layout。\r\n * @param combineParentPaths 是否拼接父路径，默认为true。若自己为路径/a的子路由组件，则自己的所有子路由都自带/a前缀。\r\n */\r\nexport default function routeIndexPage(\r\n  routes: KnownRouteConfig[],\r\n  layout: React.ComponentType = null,\r\n  combineParentPaths: boolean = true,\r\n) {\r\n  return (props: Props) => {\r\n      const { match, location, history, staticContext, ...rest } = props;\r\n\r\n      const parentPath = combineParentPaths ? match.path : \"\";\r\n      const Layout = layout;\r\n\r\n      const s = <Switch>\r\n        {routes.map((x) => ({\r\n          ...x,\r\n          path: pathJoin(parentPath, x.path),\r\n        })).map((x, key) => constructRoute(x, key, rest))}\r\n      </Switch>;\r\n\r\n      if (layout) {\r\n        return <Layout>{s}</Layout>;\r\n      } else {\r\n        return s;\r\n      }\r\n  };\r\n}\r\n"]}]}
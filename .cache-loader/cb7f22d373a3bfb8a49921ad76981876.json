{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-tween-one/es/Tween.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-tween-one/es/Tween.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _extends from 'babel-runtime/helpers/extends';\nimport { getColor, parseColor, toFixed, stylesToCss, createMatrix, getGsapType, isTransform, checkStyleName, toCssLowerCase } from 'style-utils';\nimport easingTypes from './easing';\nimport _plugin from './plugins';\nimport StylePlugin from './plugin/StylePlugin';\nimport { startConvertToEndUnit, transformOrFilter, dataToArray } from './util.js';\nvar DEFAULT_EASING = 'easeInOutQuad';\nvar DEFAULT_DURATION = 450;\nvar DEFAULT_DELAY = 0;\nfunction noop() { }\n_plugin.push(StylePlugin);\nfunction defaultData(vars, now) {\n    var duration = vars.duration || vars.duration === 0 ? vars.duration : DEFAULT_DURATION;\n    return {\n        duration: vars.type === 'set' ? 0 : duration,\n        delay: vars.delay || DEFAULT_DELAY,\n        ease: typeof vars.ease === 'function' ? vars.ease : easingTypes[vars.ease || DEFAULT_EASING],\n        onUpdate: vars.onUpdate || noop,\n        onComplete: vars.onComplete || noop,\n        onStart: vars.onStart || noop,\n        onRepeat: vars.onRepeat || noop,\n        repeat: vars.repeat || 0,\n        repeatDelay: vars.repeatDelay || 0,\n        yoyo: vars.yoyo || false,\n        type: vars.type === 'from' ? 'from' : 'to',\n        initTime: now,\n        appearTo: typeof vars.appearTo === 'number' ? vars.appearTo : null,\n        perTime: 0,\n        currentRepeat: 0\n    };\n}\nvar Tween = function Tween(target, to, attr) {\n    var toData = dataToArray(to);\n    this.target = target;\n    this.attr = attr || 'style';\n    this.accuracy = 0.00001;\n    this.totalTime = 0;\n    this.progressTime = 0;\n    this.defaultData = [];\n    this.start = {};\n    this.startDefaultData = {};\n    this.tween = {};\n    this.data = toData;\n    this.perFrame = Math.round(1000 / 60);\n    this.register = false;\n    this.isSvg = this.target.ownerSVGElement;\n    var data = this.setAttrIsStyle();\n    this.setDefaultData(data);\n};\nvar p = Tween.prototype;\np.setAttrIsStyle = function () {\n    var _this = this;\n    var data = [];\n    var defaultParam = defaultData({}, 0);\n    this.data.forEach(function (d, i) {\n        var _d = _extends({}, d);\n        if (_this.attr === 'style') {\n            data[i] = {};\n            Object.keys(_d).forEach(function (key) {\n                if (key in defaultParam) {\n                    data[i][key] = _d[key];\n                    delete _d[key];\n                }\n            });\n            data[i].style = _d;\n            _this.startDefaultData.style = _this.target.getAttribute('style') || '';\n        }\n        else if (_this.attr === 'attr') {\n            Object.keys(_d).forEach(function (key) {\n                if (key === 'style' && Array.isArray(d[key])) {\n                    throw new Error('Style should be the object.');\n                }\n                if (key === 'bezier') {\n                    _d.style = _extends({}, _d.style, { bezier: _d[key] });\n                    delete _d[key];\n                    _this.startDefaultData.style = _this.target.getAttribute('style') || '';\n                }\n                else {\n                    if (key in defaultParam) {\n                        return;\n                    }\n                    _this.startDefaultData[key] = _this.getValue(key);\n                }\n            });\n            data[i] = _d;\n        }\n    });\n    return data;\n};\np.setDefaultData = function (_vars) {\n    var _this2 = this;\n    var now = 0;\n    var repeatMax = false;\n    var data = _vars.map(function (item) {\n        var appearToBool = typeof item.appearTo === 'number';\n        if (!appearToBool) {\n            now += item.delay || 0;\n        }\n        var appearToTime = (item.appearTo || 0) + (item.delay || 0);\n        var tweenData = defaultData(item, appearToBool ? appearToTime : now);\n        tweenData.vars = {};\n        Object.keys(item).forEach(function (_key) {\n            if (!(_key in tweenData)) {\n                var _data = item[_key];\n                if (_key in _plugin) {\n                    tweenData.vars[_key] = new _plugin[_key](_this2.target, _data, tweenData.type);\n                }\n                else if ((_key === 'd' || _key === 'points') && 'SVGMorph' in _plugin) {\n                    tweenData.vars[_key] = new _plugin.SVGMorph(_this2.target, _data, _key);\n                }\n                else if (_key.match(/color/i) || _key === 'stroke' || _key === 'fill') {\n                    tweenData.vars[_key] = { type: 'color', vars: parseColor(_data) };\n                }\n                else if (typeof _data === 'number' || _data.split(/[,|\\s]/g).length <= 1) {\n                    var vars = parseFloat(_data);\n                    var unit = _data.toString().replace(/[^a-z|%]/g, '');\n                    var count = _data.toString().replace(/[^+|=|-]/g, '');\n                    tweenData.vars[_key] = { unit: unit, vars: vars, count: count };\n                }\n            }\n        });\n        if (tweenData.yoyo && !tweenData.repeat) {\n            console.warn('Warning: yoyo must be used together with repeat;');\n        }\n        if (tweenData.repeat === -1) {\n            repeatMax = true;\n        }\n        var repeat = tweenData.repeat === -1 ? 0 : tweenData.repeat;\n        if (appearToBool) {\n            var appearNow = item.appearTo + (item.delay || 0) + tweenData.duration * (repeat + 1) + tweenData.repeatDelay * repeat;\n            now = appearNow >= now ? appearNow : now;\n        }\n        else if (tweenData.delay < -tweenData.duration) {\n            now -= tweenData.delay;\n        }\n        else {\n            now += tweenData.duration * (repeat + 1) + tweenData.repeatDelay * repeat;\n        }\n        tweenData.mode = '';\n        return tweenData;\n    });\n    this.totalTime = repeatMax ? Number.MAX_VALUE : now;\n    this.defaultData = data;\n};\np.getComputedStyle = function () {\n    var style = typeof window !== 'undefined' && document.defaultView ? document.defaultView.getComputedStyle(this.target) : {};\n    if (this.isSvg) {\n        var transform = style[checkStyleName('transform')] || 'none';\n        if (transform === 'none') {\n            var attrStyle = this.target.getAttribute('style');\n            if (attrStyle && attrStyle.indexOf('transform:') >= 0) {\n                transform = attrStyle.split(';').filter(function (k) {\n                    return k.indexOf('transform:') >= 0;\n                }).map(function (item) {\n                    return createMatrix(item.split(':')[1].trim()).toString();\n                })[0];\n            }\n            else if (this.target.getAttribute('transform')) {\n                console.warn('Do not add transform on the label, otherwise it will be invalid.');\n            }\n        }\n        style.transformSVG = transform;\n    }\n    return style;\n};\np.getAnimStartData = function (item) {\n    var _this3 = this;\n    var start = {};\n    Object.keys(item).forEach(function (_key) {\n        if (_key in _plugin || _this3.attr === 'attr' && (_key === 'd' || _key === 'points')) {\n            _this3.computedStyle = _this3.computedStyle || (!_this3.target.getAttribute ? _extends({}, _this3.target) : _this3.getComputedStyle());\n            start[_key] = item[_key].getAnimStart(_this3.computedStyle, _this3.tween, _this3.isSvg);\n            return;\n        }\n        if (_this3.attr === 'attr') {\n            var attribute = _this3.getValue(_key);\n            var s = _key.match(/opacity/ig) ? 1 : 0;\n            var data = attribute === 'null' || !attribute ? s : attribute;\n            if (_key.match(/color/i) || _key === 'stroke' || _key === 'fill') {\n                data = !data && _key === 'stroke' ? 'rgba(255, 255, 255, 0)' : data;\n                data = parseColor(data);\n                start[_key] = data;\n            }\n            else if (parseFloat(data) || parseFloat(data) === 0 || data === 0) {\n                var unit = data.toString().replace(/[^a-z|%]/g, '');\n                start[_key] = unit !== item[_key].unit ? startConvertToEndUnit(_this3.target, _key, parseFloat(data), unit, item[_key].unit) : parseFloat(data);\n            }\n            return;\n        }\n        start[_key] = _this3.target[_key] || 0;\n    });\n    return start;\n};\np.setAnimData = function (data) {\n    var _this4 = this;\n    Object.keys(data).forEach(function (key) {\n        if (key in _plugin || _this4.attr === 'attr' && (key === 'd' || key === 'points')) {\n            return;\n        }\n        _this4.target[key] = data[key];\n    });\n};\np.setRatio = function (ratio, endData, i) {\n    var _this5 = this;\n    Object.keys(endData.vars).forEach(function (_key) {\n        if (_key in _plugin || _this5.attr === 'attr' && (_key === 'd' || _key === 'points')) {\n            endData.vars[_key].setRatio(ratio, _this5.tween, _this5.isSvg && _this5.computedStyle);\n            return;\n        }\n        var endVars = endData.vars[_key];\n        var startVars = _this5.start[i][_key];\n        var data = void 0;\n        if (_this5.attr === 'attr') {\n            if (!endVars.type) {\n                data = endVars.unit.charAt(1) === '=' ? startVars + endVars.vars * ratio + endVars.unit : (endVars.vars - startVars) * ratio + startVars + endVars.unit;\n                _this5.setValue(_key, endVars.unit ? data : parseFloat(data));\n            }\n            else if (endVars.type === 'color') {\n                if (endVars.vars.length === 3 && startVars.length === 4) {\n                    endVars.vars[3] = 1;\n                }\n                data = endVars.vars.map(function (_endData, _i) {\n                    var startData = startVars[_i] || 0;\n                    return (_endData - startData) * ratio + startData;\n                });\n                _this5.setValue(_key, getColor(data));\n            }\n        }\n    });\n    this.setAnimData(this.tween);\n};\np.getValue = function (key) {\n    return this.target.getAttribute ? this.target.getAttribute(key) : this.target[key];\n};\np.setValue = function (key, value) {\n    if (this.target.setAttribute) {\n        this.target.setAttribute(key, value);\n    }\n    else {\n        this.target[key] = value;\n    }\n};\np.render = function () {\n    var _this6 = this;\n    var reverse = this.reverse;\n    this.defaultData.forEach(function (item, i) {\n        var initTime = item.initTime;\n        var duration = toFixed(item.duration);\n        var repeatNum = Math.ceil((_this6.progressTime - initTime) / (duration + item.repeatDelay)) - 1 || 0;\n        repeatNum = repeatNum < 0 ? 0 : repeatNum;\n        if (item.repeat) {\n            if (item.repeat < repeatNum && item.repeat !== -1) {\n                return;\n            }\n            if (item.repeat || item.repeat <= repeatNum) {\n                initTime += repeatNum * (duration + item.repeatDelay);\n            }\n        }\n        var startData = item.yoyo && repeatNum % 2 ? 1 : 0;\n        var endData = item.yoyo && repeatNum % 2 ? 0 : 1;\n        startData = item.type === 'from' ? 1 - startData : startData;\n        endData = item.type === 'from' ? 1 - endData : endData;\n        var progressTime = toFixed(_this6.progressTime - initTime);\n        var ratio = void 0;\n        var fromDelay = item.type === 'from' ? item.delay : 0;\n        if (progressTime + fromDelay >= 0) {\n            if (!_this6.start[i]) {\n                _this6.start[i] = _this6.getAnimStartData(item.vars);\n                if (progressTime < _this6.perFrame) {\n                    ratio = !item.duration && !item.delay ? item.ease(1, startData, endData, 1) : item.ease(0, startData, endData, 1);\n                    _this6.setRatio(ratio, item, i);\n                }\n                else if (progressTime > duration) {\n                    ratio = item.ease(1, startData, endData, 1);\n                    _this6.setRatio(ratio, item, i);\n                }\n                if (!_this6.register || i && !initTime) {\n                    _this6.register = true;\n                    if (progressTime === 0 && item.duration && item.delay) {\n                        return;\n                    }\n                }\n            }\n        }\n        var e = {\n            index: i,\n            target: _this6.target\n        };\n        var cb = _extends({\n            moment: _this6.progressTime\n        }, e);\n        var maxPer = _this6.perFrame - _this6.accuracy;\n        var startTime = item.delay && reverse ? -maxPer : 0;\n        if ((progressTime >= startTime && !(progressTime > duration && item.mode === 'onComplete') || progressTime < startTime && item.mode && item.mode !== 'onStart') && _this6.start[i]) {\n            var updateAnim = _this6.updateAnim === 'update';\n            progressTime = progressTime < maxPer && !reverse && item.duration >= _this6.perFrame ? 0 : progressTime;\n            if ((progressTime >= duration - _this6.accuracy && !reverse || reverse && progressTime <= 0) && repeatNum >= item.repeat) {\n                if (item.mode === 'onComplete') {\n                    return;\n                }\n                ratio = item.ease(reverse ? 0 : 1, startData, endData, 1);\n                _this6.setRatio(ratio, item, i, item.currentRepeat !== repeatNum);\n                if ((!item.reset || item.reset && progressTime >= duration) && !updateAnim) {\n                    if (duration < maxPer) {\n                        if (!duration) {\n                            item.onStart(e);\n                            cb.mode = 'onStart';\n                            _this6.onChange(cb);\n                        }\n                        item.onUpdate(_extends({ ratio: ratio }, e));\n                        cb.mode = 'onUpdate';\n                        _this6.onChange(cb);\n                    }\n                    item.onComplete(e);\n                }\n                else if (progressTime >= duration + maxPer) {\n                    return;\n                }\n                item.mode = 'onComplete';\n            }\n            else if (duration > maxPer) {\n                var currentProgress = progressTime < 0 ? 0 : progressTime;\n                currentProgress = currentProgress > duration ? duration : currentProgress;\n                ratio = item.ease(currentProgress, startData, endData, duration);\n                _this6.setRatio(ratio, item, i);\n                if (!updateAnim) {\n                    if (item.repeat && repeatNum > 0 && item.currentRepeat !== repeatNum) {\n                        item.mode = 'onRepeat';\n                        item.currentRepeat = repeatNum;\n                        item.onRepeat(_extends({}, e, { repeatNum: repeatNum }));\n                    }\n                    else if ((item.perTime <= 0 || reverse && item.perTime >= _this6.reverseStartTime - initTime) && item.mode !== 'onStart') {\n                        item.mode = 'onStart';\n                        item.onStart(e);\n                    }\n                    else {\n                        item.mode = 'onUpdate';\n                        item.onUpdate(_extends({ ratio: ratio }, e));\n                    }\n                }\n            }\n            if (!updateAnim) {\n                cb.mode = item.mode;\n                _this6.onChange(cb);\n            }\n            item.perTime = progressTime;\n            if (item.reset) {\n                delete item.reset;\n            }\n        }\n    });\n};\np.frame = function (moment) {\n    var _this7 = this;\n    this.progressTime = moment;\n    this.defaultData.forEach(function (item) {\n        var t = _this7.progressTime - item.duration - item.initTime;\n        if (t < _this7.perFrame && t > 0) {\n            _this7.progressTime = item.duration + item.initTime;\n        }\n    });\n    this.render();\n};\np.init = p.frame;\np.resetAnimData = function () {\n    this.tween = {};\n    this.start = {};\n};\nvar getDefaultStyle = function getDefaultStyle(domStyle, defaultStyle, tweenData) {\n    var $data = defaultData({}, 0);\n    var getStyleToArray = function getStyleToArray(styleString) {\n        return styleString.split(';').filter(function (c) {\n            return c;\n        }).map(function (str) {\n            return str.split(':').map(function (s) {\n                return s.trim();\n            });\n        });\n    };\n    var styleToArray = getStyleToArray(defaultStyle);\n    var domStyleToArray = getStyleToArray(domStyle);\n    tweenData.forEach(function (value) {\n        Object.keys(value).forEach(function (name) {\n            if (!(name in $data)) {\n                var $name = name === 'bezier' ? 'transform' : name;\n                var styleName = toCssLowerCase(isTransform(getGsapType($name)));\n                domStyleToArray = domStyleToArray.filter(function (item) {\n                    if (transformOrFilter[item[0]] && transformOrFilter[styleName]) {\n                        return false;\n                    }\n                    return item[0] !== styleName;\n                });\n            }\n        });\n    });\n    styleToArray.forEach(function (item) {\n        domStyleToArray = domStyleToArray.filter(function ($item) {\n            if ($item[0] === item[0]) {\n                return false;\n            }\n            return true;\n        });\n    });\n    return styleToArray.concat(domStyleToArray).map(function (item) {\n        return item.join(':');\n    }).join(';');\n};\np.resetDefaultStyle = function () {\n    var _this8 = this;\n    this.tween = {};\n    this.defaultData = this.defaultData.map(function (item) {\n        item.reset = true;\n        delete item.mode;\n        return item;\n    });\n    var data = defaultData({}, 0);\n    Object.keys(this.startDefaultData).forEach(function (key) {\n        if (!(key in data)) {\n            if (key === 'style') {\n                var value = getDefaultStyle(_this8.target.style.cssText, _this8.startDefaultData.style, _this8.data);\n                _this8.setValue(key, value);\n            }\n            else {\n                _this8.setValue(key, _this8.startDefaultData[key]);\n            }\n            _this8.computedStyle = null;\n        }\n    });\n};\np.reStart = function (style, preStyle, isTween) {\n    var _this9 = this;\n    this.start = {};\n    this.tween = {};\n    Object.keys(style || {}).forEach(function (key) {\n        if (isTween || !preStyle || style[key] !== preStyle[key]) {\n            _this9.target.style[key] = stylesToCss(key, style[key]);\n        }\n    });\n    this.setAttrIsStyle();\n    this.computedStyle = null;\n};\np.onChange = noop;\nexport default Tween;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-tween-one/es/Tween.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-tween-one/es/Tween.js"],"names":[],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\n/* eslint-disable func-names */\n/**\n * Created by jljsj on 16/1/27.\n */\nimport { getColor, parseColor, toFixed, stylesToCss, createMatrix, getGsapType, isTransform, checkStyleName, toCssLowerCase } from 'style-utils';\n\nimport easingTypes from './easing';\nimport _plugin from './plugins';\nimport StylePlugin from './plugin/StylePlugin';\nimport { startConvertToEndUnit, transformOrFilter, dataToArray } from './util.js';\n\nvar DEFAULT_EASING = 'easeInOutQuad';\nvar DEFAULT_DURATION = 450;\nvar DEFAULT_DELAY = 0;\nfunction noop() {}\n_plugin.push(StylePlugin);\n// 设置默认数据\nfunction defaultData(vars, now) {\n  var duration = vars.duration || vars.duration === 0 ? vars.duration : DEFAULT_DURATION;\n  return {\n    duration: vars.type === 'set' ? 0 : duration,\n    delay: vars.delay || DEFAULT_DELAY,\n    ease: typeof vars.ease === 'function' ? vars.ease : easingTypes[vars.ease || DEFAULT_EASING],\n    onUpdate: vars.onUpdate || noop,\n    onComplete: vars.onComplete || noop,\n    onStart: vars.onStart || noop,\n    onRepeat: vars.onRepeat || noop,\n    repeat: vars.repeat || 0,\n    repeatDelay: vars.repeatDelay || 0,\n    yoyo: vars.yoyo || false,\n    type: vars.type === 'from' ? 'from' : 'to',\n    initTime: now,\n    appearTo: typeof vars.appearTo === 'number' ? vars.appearTo : null,\n    perTime: 0,\n    currentRepeat: 0\n  };\n}\n\nvar Tween = function Tween(target, to, attr) {\n  var toData = dataToArray(to);\n  this.target = target;\n  this.attr = attr || 'style';\n  // 时间精度补齐；\n  this.accuracy = 0.00001;\n  // 记录总时间;\n  this.totalTime = 0;\n  // 记录当前时间;\n  this.progressTime = 0;\n  // 记录时间轴数据;\n  this.defaultData = [];\n  // 每个的开始数据；\n  this.start = {};\n  // 开始默认的数据；\n  this.startDefaultData = {};\n  // 动画过程\n  this.tween = {};\n  // toData;\n  this.data = toData;\n  // 每帧的时间;\n  this.perFrame = Math.round(1000 / 60);\n  // 注册，第一次进入执行注册\n  this.register = false;\n  // svg元素\n  this.isSvg = this.target.ownerSVGElement;\n  // 设置 style\n  var data = this.setAttrIsStyle();\n  // 设置默认动画数据;\n  this.setDefaultData(data);\n};\nvar p = Tween.prototype;\np.setAttrIsStyle = function () {\n  var _this = this;\n\n  var data = [];\n  var defaultParam = defaultData({}, 0);\n  this.data.forEach(function (d, i) {\n    var _d = _extends({}, d);\n    if (_this.attr === 'style') {\n      data[i] = {};\n      Object.keys(_d).forEach(function (key) {\n        if (key in defaultParam) {\n          data[i][key] = _d[key];\n          delete _d[key];\n        }\n      });\n      data[i].style = _d;\n      _this.startDefaultData.style = _this.target.getAttribute('style') || '';\n    } else if (_this.attr === 'attr') {\n      Object.keys(_d).forEach(function (key) {\n        if (key === 'style' && Array.isArray(d[key])) {\n          throw new Error('Style should be the object.');\n        }\n        if (key === 'bezier') {\n          _d.style = _extends({}, _d.style, { bezier: _d[key] });\n          delete _d[key];\n          _this.startDefaultData.style = _this.target.getAttribute('style') || '';\n        } else {\n          if (key in defaultParam) {\n            return;\n          }\n          _this.startDefaultData[key] = _this.getValue(key);\n        }\n      });\n      data[i] = _d;\n    }\n  });\n  return data;\n};\np.setDefaultData = function (_vars) {\n  var _this2 = this;\n\n  var now = 0;\n  var repeatMax = false;\n  var data = _vars.map(function (item) {\n    var appearToBool = typeof item.appearTo === 'number';\n    // 加上延时，在没有播放过时；\n    if (!appearToBool) {\n      now += item.delay || 0;\n    }\n    var appearToTime = (item.appearTo || 0) + (item.delay || 0);\n    // 获取默认数据\n    var tweenData = defaultData(item, appearToBool ? appearToTime : now);\n    tweenData.vars = {};\n    Object.keys(item).forEach(function (_key) {\n      if (!(_key in tweenData)) {\n        var _data = item[_key];\n        if (_key in _plugin) {\n          tweenData.vars[_key] = new _plugin[_key](_this2.target, _data, tweenData.type);\n        } else if ((_key === 'd' || _key === 'points') && 'SVGMorph' in _plugin) {\n          tweenData.vars[_key] = new _plugin.SVGMorph(_this2.target, _data, _key);\n        } else if (_key.match(/color/i) || _key === 'stroke' || _key === 'fill') {\n          tweenData.vars[_key] = { type: 'color', vars: parseColor(_data) };\n        } else if (typeof _data === 'number' || _data.split(/[,|\\s]/g).length <= 1) {\n          var vars = parseFloat(_data);\n          var unit = _data.toString().replace(/[^a-z|%]/g, '');\n          var count = _data.toString().replace(/[^+|=|-]/g, '');\n          tweenData.vars[_key] = { unit: unit, vars: vars, count: count };\n        }\n      }\n    });\n    if (tweenData.yoyo && !tweenData.repeat) {\n      console.warn('Warning: yoyo must be used together with repeat;'); // eslint-disable-line\n    }\n    if (tweenData.repeat === -1) {\n      repeatMax = true;\n    }\n    var repeat = tweenData.repeat === -1 ? 0 : tweenData.repeat;\n    if (appearToBool) {\n      // 如果有 appearTo 且这条时间比 now 大时，，总时间用这条；\n      var appearNow = item.appearTo + (item.delay || 0) + tweenData.duration * (repeat + 1) + tweenData.repeatDelay * repeat;\n      now = appearNow >= now ? appearNow : now;\n    } else if (tweenData.delay < -tweenData.duration) {\n      // 如果延时小于 负时间时,,不加,再减回延时;\n      now -= tweenData.delay;\n    } else {\n      // repeat 为 -1 只记录一次。不能跟 reverse 同时使用;\n      now += tweenData.duration * (repeat + 1) + tweenData.repeatDelay * repeat;\n    }\n    tweenData.mode = '';\n    return tweenData;\n  });\n  this.totalTime = repeatMax ? Number.MAX_VALUE : now;\n  this.defaultData = data;\n};\np.getComputedStyle = function () {\n  var style = typeof window !== 'undefined' && document.defaultView ? document.defaultView.getComputedStyle(this.target) : {};\n  // 如果是 SVG, 样式全部提出为 transformSVG, 兼容 safari 不能获取 transform;\n  if (this.isSvg) {\n    var transform = style[checkStyleName('transform')] || 'none';\n    if (transform === 'none') {\n      var attrStyle = this.target.getAttribute('style');\n      if (attrStyle && attrStyle.indexOf('transform:') >= 0) {\n        transform = attrStyle.split(';').filter(function (k) {\n          return k.indexOf('transform:') >= 0;\n        }).map(function (item) {\n          return createMatrix(item.split(':')[1].trim()).toString();\n        })[0];\n      } else if (this.target.getAttribute('transform')) {\n        // 暂时不支持标签上的 transform，后期增加;\n        console.warn('Do not add transform on the label, otherwise it will be invalid.'); // eslint-disable-line no-console\n      }\n    }\n    style.transformSVG = transform;\n  }\n  return style;\n};\np.getAnimStartData = function (item) {\n  var _this3 = this;\n\n  var start = {};\n  Object.keys(item).forEach(function (_key) {\n    if (_key in _plugin || _this3.attr === 'attr' && (_key === 'd' || _key === 'points')) {\n      _this3.computedStyle = _this3.computedStyle || (!_this3.target.getAttribute ? _extends({}, _this3.target) : _this3.getComputedStyle());\n      start[_key] = item[_key].getAnimStart(_this3.computedStyle, _this3.tween, _this3.isSvg);\n      return;\n    }\n    if (_this3.attr === 'attr') {\n      // 除了d和这points外的标签动画；\n      var attribute = _this3.getValue(_key);\n      var s = _key.match(/opacity/ig) ? 1 : 0;\n      var data = attribute === 'null' || !attribute ? s : attribute;\n      if (_key.match(/color/i) || _key === 'stroke' || _key === 'fill') {\n        data = !data && _key === 'stroke' ? 'rgba(255, 255, 255, 0)' : data;\n        data = parseColor(data);\n        start[_key] = data;\n      } else if (parseFloat(data) || parseFloat(data) === 0 || data === 0) {\n        var unit = data.toString().replace(/[^a-z|%]/g, '');\n        start[_key] = unit !== item[_key].unit ? startConvertToEndUnit(_this3.target, _key, parseFloat(data), unit, item[_key].unit) : parseFloat(data);\n      }\n      return;\n    }\n    start[_key] = _this3.target[_key] || 0;\n  });\n  return start;\n};\np.setAnimData = function (data) {\n  var _this4 = this;\n\n  Object.keys(data).forEach(function (key) {\n    if (key in _plugin || _this4.attr === 'attr' && (key === 'd' || key === 'points')) {\n      return;\n    }\n    _this4.target[key] = data[key];\n  });\n};\np.setRatio = function (ratio, endData, i) {\n  var _this5 = this;\n\n  Object.keys(endData.vars).forEach(function (_key) {\n    if (_key in _plugin || _this5.attr === 'attr' && (_key === 'd' || _key === 'points')) {\n      endData.vars[_key].setRatio(ratio, _this5.tween, _this5.isSvg && _this5.computedStyle);\n      return;\n    }\n    var endVars = endData.vars[_key];\n    var startVars = _this5.start[i][_key];\n    var data = void 0;\n    if (_this5.attr === 'attr') {\n      // 除了d和这points外的标签动画；\n      if (!endVars.type) {\n        data = endVars.unit.charAt(1) === '=' ? startVars + endVars.vars * ratio + endVars.unit : (endVars.vars - startVars) * ratio + startVars + endVars.unit;\n        _this5.setValue(_key, endVars.unit ? data : parseFloat(data));\n      } else if (endVars.type === 'color') {\n        if (endVars.vars.length === 3 && startVars.length === 4) {\n          endVars.vars[3] = 1;\n        }\n        data = endVars.vars.map(function (_endData, _i) {\n          var startData = startVars[_i] || 0;\n          return (_endData - startData) * ratio + startData;\n        });\n        _this5.setValue(_key, getColor(data));\n      }\n    }\n  });\n  this.setAnimData(this.tween);\n};\np.getValue = function (key) {\n  return this.target.getAttribute ? this.target.getAttribute(key) : this.target[key];\n};\np.setValue = function (key, value) {\n  if (this.target.setAttribute) {\n    this.target.setAttribute(key, value);\n  } else {\n    this.target[key] = value;\n  }\n};\np.render = function () {\n  var _this6 = this;\n\n  var reverse = this.reverse;\n  this.defaultData.forEach(function (item, i) {\n    var initTime = item.initTime;\n    var duration = toFixed(item.duration);\n    // 处理 yoyo 和 repeat; yoyo 是在时间轴上的, 并不是倒放\n    var repeatNum = Math.ceil((_this6.progressTime - initTime) / (duration + item.repeatDelay)) - 1 || 0;\n    repeatNum = repeatNum < 0 ? 0 : repeatNum;\n    if (item.repeat) {\n      if (item.repeat < repeatNum && item.repeat !== -1) {\n        return;\n      }\n      if (item.repeat || item.repeat <= repeatNum) {\n        initTime += repeatNum * (duration + item.repeatDelay);\n      }\n    }\n    var startData = item.yoyo && repeatNum % 2 ? 1 : 0;\n    var endData = item.yoyo && repeatNum % 2 ? 0 : 1;\n    startData = item.type === 'from' ? 1 - startData : startData;\n    endData = item.type === 'from' ? 1 - endData : endData;\n    //  精度损失，只取小数点后10位。\n    var progressTime = toFixed(_this6.progressTime - initTime);\n\n    var ratio = void 0;\n\n    // 开始注册;\n    // from 时需先执行参数位置;\n    var fromDelay = item.type === 'from' ? item.delay : 0;\n    if (progressTime + fromDelay >= 0) {\n      if (!_this6.start[i]) {\n        // 设置 start\n        _this6.start[i] = _this6.getAnimStartData(item.vars);\n        if (progressTime < _this6.perFrame) {\n          ratio = !item.duration && !item.delay ? item.ease(1, startData, endData, 1) : item.ease(0, startData, endData, 1);\n          _this6.setRatio(ratio, item, i);\n        } else if (progressTime > duration) {\n          ratio = item.ease(1, startData, endData, 1);\n          _this6.setRatio(ratio, item, i);\n        }\n        if (!_this6.register || i && !initTime) {\n          _this6.register = true;\n          if (progressTime === 0 && item.duration && item.delay) {\n            return;\n          }\n        }\n      }\n    }\n\n    var e = {\n      index: i,\n      target: _this6.target\n    };\n    var cb = _extends({\n      moment: _this6.progressTime\n    }, e);\n    var maxPer = _this6.perFrame - _this6.accuracy;\n    var startTime = item.delay && reverse ? -maxPer : 0;\n    if ((progressTime >= startTime && !(progressTime > duration && item.mode === 'onComplete') || progressTime < startTime && item.mode && item.mode !== 'onStart') && _this6.start[i]) {\n      var updateAnim = _this6.updateAnim === 'update';\n      progressTime = progressTime < maxPer && !reverse && item.duration >= _this6.perFrame ? 0 : progressTime;\n      if ((progressTime >= duration - _this6.accuracy && !reverse || reverse && progressTime <= 0) && repeatNum >= item.repeat) {\n        if (item.mode === 'onComplete') {\n          return;\n        }\n        // onReveresComplete 和 onComplete 统一用 onComplete;\n        ratio = item.ease(reverse ? 0 : 1, startData, endData, 1);\n        _this6.setRatio(ratio, item, i, item.currentRepeat !== repeatNum);\n        if ((!item.reset || item.reset && progressTime >= duration) && !updateAnim) {\n          // duration 为 0 时的一个回调；\n          if (duration < maxPer) {\n            if (!duration) {\n              item.onStart(e);\n              cb.mode = 'onStart';\n              _this6.onChange(cb);\n            }\n            item.onUpdate(_extends({ ratio: ratio }, e));\n            cb.mode = 'onUpdate';\n            _this6.onChange(cb);\n          }\n          item.onComplete(e);\n        } else if (progressTime >= duration + maxPer) {\n          return;\n        }\n        item.mode = 'onComplete';\n      } else if (duration > maxPer) {\n        var currentProgress = progressTime < 0 ? 0 : progressTime;\n        currentProgress = currentProgress > duration ? duration : currentProgress;\n        ratio = item.ease(currentProgress, startData, endData, duration);\n        _this6.setRatio(ratio, item, i);\n        if (!updateAnim) {\n          if (item.repeat && repeatNum > 0 && item.currentRepeat !== repeatNum) {\n            item.mode = 'onRepeat';\n            item.currentRepeat = repeatNum;\n            item.onRepeat(_extends({}, e, { repeatNum: repeatNum }));\n          } else if ((item.perTime <= 0 || reverse && item.perTime >= _this6.reverseStartTime - initTime) && item.mode !== 'onStart') {\n            // onReveresStart 和 onStart 统一用 onStart;\n            item.mode = 'onStart';\n            item.onStart(e);\n          } else {\n            item.mode = 'onUpdate';\n            item.onUpdate(_extends({ ratio: ratio }, e));\n          }\n        }\n      }\n\n      if (!updateAnim) {\n        cb.mode = item.mode;\n        _this6.onChange(cb);\n      }\n      item.perTime = progressTime;\n      if (item.reset) {\n        delete item.reset;\n      }\n    }\n  });\n};\n// 播放帧\np.frame = function (moment) {\n  var _this7 = this;\n\n  this.progressTime = moment;\n  this.defaultData.forEach(function (item) {\n    var t = _this7.progressTime - item.duration - item.initTime;\n    if (t < _this7.perFrame && t > 0) {\n      _this7.progressTime = item.duration + item.initTime;\n    }\n  });\n  this.render();\n};\n\np.init = p.frame;\n\np.resetAnimData = function () {\n  this.tween = {};\n  this.start = {};\n};\n\nvar getDefaultStyle = function getDefaultStyle(domStyle, defaultStyle, tweenData) {\n  var $data = defaultData({}, 0);\n  var getStyleToArray = function getStyleToArray(styleString) {\n    return styleString.split(';').filter(function (c) {\n      return c;\n    }).map(function (str) {\n      return str.split(':').map(function (s) {\n        return s.trim();\n      });\n    });\n  };\n  var styleToArray = getStyleToArray(defaultStyle);\n  var domStyleToArray = getStyleToArray(domStyle);\n  tweenData.forEach(function (value) {\n    Object.keys(value).forEach(function (name) {\n      if (!(name in $data)) {\n        var $name = name === 'bezier' ? 'transform' : name;\n        var styleName = toCssLowerCase(isTransform(getGsapType($name)));\n        domStyleToArray = domStyleToArray.filter(function (item) {\n          // 去除 plugins 的特殊名称。\n          if (transformOrFilter[item[0]] && transformOrFilter[styleName]) {\n            return false;\n          }\n          return item[0] !== styleName;\n        });\n      }\n    });\n  });\n  styleToArray.forEach(function (item) {\n    domStyleToArray = domStyleToArray.filter(function ($item) {\n      if ($item[0] === item[0]) {\n        return false;\n      }\n      return true;\n    });\n  });\n  return styleToArray.concat(domStyleToArray).map(function (item) {\n    return item.join(':');\n  }).join(';');\n};\n\np.resetDefaultStyle = function () {\n  var _this8 = this;\n\n  this.tween = {};\n  this.defaultData = this.defaultData.map(function (item) {\n    item.reset = true;\n    delete item.mode;\n    return item;\n  });\n  var data = defaultData({}, 0);\n  Object.keys(this.startDefaultData).forEach(function (key) {\n    if (!(key in data)) {\n      if (key === 'style') {\n        var value = getDefaultStyle(_this8.target.style.cssText, _this8.startDefaultData.style, _this8.data);\n        _this8.setValue(key, value);\n      } else {\n        _this8.setValue(key, _this8.startDefaultData[key]);\n      }\n      _this8.computedStyle = null;\n    }\n  });\n};\n\np.reStart = function (style, preStyle, isTween) {\n  var _this9 = this;\n\n  this.start = {};\n  this.tween = {};\n  Object.keys(style || {}).forEach(function (key) {\n    if (isTween || !preStyle || style[key] !== preStyle[key]) {\n      _this9.target.style[key] = stylesToCss(key, style[key]);\n    }\n  });\n  this.setAttrIsStyle();\n  this.computedStyle = null;\n};\n\np.onChange = noop;\nexport default Tween;"]}]}
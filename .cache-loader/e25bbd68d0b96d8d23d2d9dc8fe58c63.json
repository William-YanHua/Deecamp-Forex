{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\src\\app\\pages\\InvReqPage\\InvReqDetailPage\\Bought\\Position\\Reallocation\\CompareChart.tsx","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\src\\app\\pages\\InvReqPage\\InvReqDetailPage\\Bought\\Position\\Reallocation\\CompareChart.tsx","mtime":1596379644551},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport DataSet from \"@antv/data-set\";\r\nimport { PieChart } from \"../../Chart/PieChart\";\r\nvar Container = styled.div.withConfig({ displayName: \"Container\" })(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  border: #d9d9d9 1px solid;\\n  padding-top: 20px;\\n  margin: 0px;\\n  border-radius: 5px;\\n  background-color: #fafafa;\\n  text-align: center;\\n\"], [\"\\n  border: #d9d9d9 1px solid;\\n  padding-top: 20px;\\n  margin: 0px;\\n  border-radius: 5px;\\n  background-color: #fafafa;\\n  text-align: center;\\n\"])));\r\nvar ChartContainer = styled.div.withConfig({ displayName: \"ChartContainer\" })(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\n  //margin: 20px;\\n\"], [\"\\n  //margin: 20px;\\n\"])));\r\nvar DataView = DataSet.DataView;\r\nvar CompareChart = (function (_super) {\r\n    __extends(CompareChart, _super);\r\n    function CompareChart() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.judgeIsNone = function (data) {\r\n            if (data.perOfStock || data.perOfBond || data.perOfProduct) {\r\n                return true;\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        };\r\n        return _this;\r\n    }\r\n    CompareChart.prototype.render = function () {\r\n        var lastData = [];\r\n        var lastDv = new DataView();\r\n        var currentData = [];\r\n        var currentDv = new DataView();\r\n        if (this.judgeIsNone(this.props.data[0])) {\r\n            lastData = [\r\n                {\r\n                    item: \"策略\",\r\n                    percentage: this.props.data[0].perOfStock,\r\n                },\r\n                {\r\n                    item: \"债券\",\r\n                    percentage: this.props.data[0].perOfBond,\r\n                },\r\n                {\r\n                    item: \"商品市场\",\r\n                    percentage: this.props.data[0].perOfProduct,\r\n                },\r\n            ];\r\n            lastDv.source(lastData).transform({\r\n                type: \"percent\",\r\n                field: \"percentage\",\r\n                dimension: \"item\",\r\n                as: \"percent\",\r\n            });\r\n        }\r\n        else {\r\n            lastDv = null;\r\n        }\r\n        if (this.judgeIsNone(this.props.data[1])) {\r\n            currentData = [\r\n                {\r\n                    item: \"股票\",\r\n                    percentage: this.props.data[1].perOfStock,\r\n                },\r\n                {\r\n                    item: \"债券\",\r\n                    percentage: this.props.data[1].perOfBond,\r\n                },\r\n                {\r\n                    item: \"商品市场\",\r\n                    percentage: this.props.data[1].perOfProduct,\r\n                },\r\n            ];\r\n            currentDv.source(currentData).transform({\r\n                type: \"percent\",\r\n                field: \"percentage\",\r\n                dimension: \"item\",\r\n                as: \"percent\",\r\n            });\r\n        }\r\n        else {\r\n            currentDv = null;\r\n        }\r\n        var cols = {\r\n            percentage: {\r\n                formatter: function (val) {\r\n                    val = val.toFixed(2) + \"%\";\r\n                    return val;\r\n                },\r\n            },\r\n        };\r\n        return (React.createElement(Container, null,\r\n            React.createElement(\"p\", { style: { fontSize: \"20px\" } }, \"\\u4E0A\\u6B21\\u914D\\u6BD4\"),\r\n            React.createElement(ChartContainer, null,\r\n                React.createElement(PieChart, { dataView: lastDv, cols: cols })),\r\n            React.createElement(\"p\", { style: { fontSize: \"40px\", marginBottom: \"20px\" } }, \"\\u2B07\\uFE0E\"),\r\n            React.createElement(\"p\", { style: { fontSize: \"20px\" } }, \"\\u672C\\u6B21\\u914D\\u6BD4\"),\r\n            React.createElement(ChartContainer, null,\r\n                React.createElement(PieChart, { dataView: currentDv, cols: cols }))));\r\n    };\r\n    return CompareChart;\r\n}(React.Component));\r\nexport { CompareChart };\r\nvar templateObject_1, templateObject_2;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\src\\app\\pages\\InvReqPage\\InvReqDetailPage\\Bought\\Position\\Reallocation\\CompareChart.tsx","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\src\\app\\pages\\InvReqPage\\InvReqDetailPage\\Bought\\Position\\Reallocation\\CompareChart.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DataSet from \"@antv/data-set\";\r\nimport { ReallocationLog } from \"../../../../../../models/invreq/Bought/ReallocationLog\";\r\nimport { PieChart } from \"../../Chart/PieChart\";\r\n\r\ninterface Props {\r\n  data: ReallocationLog;\r\n}\r\n\r\nconst Container = styled.div`\r\n  border: #d9d9d9 1px solid;\r\n  padding-top: 20px;\r\n  margin: 0px;\r\n  border-radius: 5px;\r\n  background-color: #fafafa;\r\n  text-align: center;\r\n`;\r\n\r\nconst ChartContainer = styled.div`\r\n  //margin: 20px;\r\n`;\r\nconst { DataView } = DataSet;\r\n\r\nexport class CompareChart extends React.Component<Props, {}> {\r\n\r\n  judgeIsNone = (data) => {\r\n    if (data.perOfStock  || data.perOfBond || data.perOfProduct ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  render() {\r\n\r\n    let lastData = [];\r\n    let lastDv = new DataView();\r\n    let currentData = [];\r\n    let currentDv = new DataView();\r\n\r\n    if (this.judgeIsNone(this.props.data[0])) {\r\n      lastData = [\r\n      {\r\n        item: \"策略\",\r\n        percentage: this.props.data[0].perOfStock,\r\n      },\r\n      {\r\n        item: \"债券\",\r\n        percentage: this.props.data[0].perOfBond,\r\n      },\r\n      {\r\n        item: \"商品市场\",\r\n        percentage: this.props.data[0].perOfProduct,\r\n      },\r\n    ];\r\n      lastDv.source(lastData).transform(\r\n      {\r\n        type: \"percent\",\r\n        field: \"percentage\",\r\n        dimension: \"item\",\r\n        as: \"percent\",\r\n      },\r\n    );\r\n    } else {\r\n      lastDv = null;\r\n    }\r\n\r\n    if (this.judgeIsNone(this.props.data[1])) {\r\n      currentData = [\r\n      {\r\n        item: \"股票\",\r\n        percentage: this.props.data[1].perOfStock,\r\n      },\r\n      {\r\n        item: \"债券\",\r\n        percentage: this.props.data[1].perOfBond,\r\n      },\r\n      {\r\n        item: \"商品市场\",\r\n        percentage: this.props.data[1].perOfProduct,\r\n      },\r\n    ];\r\n\r\n      currentDv.source(currentData).transform(\r\n      {\r\n        type: \"percent\",\r\n        field: \"percentage\",\r\n        dimension: \"item\",\r\n        as: \"percent\",\r\n      },\r\n    );\r\n    } else {\r\n      currentDv = null;\r\n    }\r\n\r\n    const cols = {\r\n      percentage: {\r\n        formatter: (val) => {\r\n          val = val.toFixed(2) + \"%\";\r\n          return val;\r\n        },\r\n      },\r\n    };\r\n\r\n    return (\r\n      <Container>\r\n        <p style={{fontSize: \"20px\"}}>上次配比</p>\r\n        <ChartContainer>\r\n          <PieChart dataView={lastDv} cols={cols}/>\r\n        </ChartContainer>\r\n\r\n        <p style={{fontSize: \"40px\", marginBottom: \"20px\"}}>⬇︎</p>\r\n        <p style={{fontSize: \"20px\"}}>本次配比</p>\r\n\r\n        <ChartContainer>\r\n          <PieChart dataView={currentDv} cols={cols}/>\r\n        </ChartContainer>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\n"]}]}
{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\component\\esm\\tooltip\\html.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\component\\esm\\tooltip\\html.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import { __assign, __extends } from \"tslib\";\r\nimport colorUtil from '@antv/color-util';\r\nimport { createDom, modifyCSS } from '@antv/dom-util';\r\nimport { each, hasKey, isElement, substitute } from '@antv/util';\r\nimport HtmlComponent from '../abstract/html-component';\r\nimport { clearDom, regionToBBox, toPx } from '../util/util';\r\nimport * as CssConst from './css-const';\r\nimport TooltipTheme from './html-theme';\r\nimport { getAlignPoint } from '../util/align';\r\nfunction hasOneKey(obj, keys) {\r\n    var result = false;\r\n    each(keys, function (key) {\r\n        if (hasKey(obj, key)) {\r\n            result = true;\r\n            return false;\r\n        }\r\n    });\r\n    return result;\r\n}\r\nvar Tooltip = (function (_super) {\r\n    __extends(Tooltip, _super);\r\n    function Tooltip() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Tooltip.prototype.getDefaultCfg = function () {\r\n        var cfg = _super.prototype.getDefaultCfg.call(this);\r\n        return __assign(__assign({}, cfg), { name: 'tooltip', type: 'html', x: 0, y: 0, items: [], customContent: null, containerTpl: \"<div class=\\\"\" + CssConst.CONTAINER_CLASS + \"\\\"><div class=\\\"\" + CssConst.TITLE_CLASS + \"\\\"></div><ul class=\\\"\" + CssConst.LIST_CLASS + \"\\\"></ul></div>\", itemTpl: \"<li class=\\\"\" + CssConst.LIST_ITEM_CLASS + \"\\\" data-index={index}>\\n          <span class=\\\"\" + CssConst.MARKER_CLASS + \"\\\" style=\\\"background:{color}\\\"></span>\\n          <span class=\\\"\" + CssConst.NAME_CLASS + \"\\\">{name}</span>:\\n          <span class=\\\"\" + CssConst.VALUE_CLASS + \"\\\">{value}</span>\\n        </li>\", xCrosshairTpl: \"<div class=\\\"\" + CssConst.CROSSHAIR_X + \"\\\"></div>\", yCrosshairTpl: \"<div class=\\\"\" + CssConst.CROSSHAIR_Y + \"\\\"></div>\", title: null, showTitle: true,\r\n            region: null,\r\n            crosshairsRegion: null, containerClassName: CssConst.CONTAINER_CLASS,\r\n            crosshairs: null, offset: 10, position: 'right', domStyles: null, defaultStyles: TooltipTheme });\r\n    };\r\n    Tooltip.prototype.render = function () {\r\n        if (this.get('customContent')) {\r\n            this.renderCustomContent();\r\n        }\r\n        else {\r\n            this.resetTitle();\r\n            this.renderItems();\r\n        }\r\n        this.resetPosition();\r\n    };\r\n    Tooltip.prototype.clear = function () {\r\n        this.clearCrosshairs();\r\n        this.setTitle('');\r\n        this.clearItemDoms();\r\n    };\r\n    Tooltip.prototype.show = function () {\r\n        var container = this.getContainer();\r\n        if (!container || this.destroyed) {\r\n            return;\r\n        }\r\n        this.set('visible', true);\r\n        modifyCSS(container, {\r\n            visibility: 'visible',\r\n        });\r\n        this.setCrossHairsVisible(true);\r\n    };\r\n    Tooltip.prototype.hide = function () {\r\n        var container = this.getContainer();\r\n        if (!container || this.destroyed) {\r\n            return;\r\n        }\r\n        this.set('visible', false);\r\n        modifyCSS(container, {\r\n            visibility: 'hidden',\r\n        });\r\n        this.setCrossHairsVisible(false);\r\n    };\r\n    Tooltip.prototype.getLocation = function () {\r\n        return { x: this.get('x'), y: this.get('y') };\r\n    };\r\n    Tooltip.prototype.setLocation = function (point) {\r\n        this.set('x', point.x);\r\n        this.set('y', point.y);\r\n        this.resetPosition();\r\n    };\r\n    Tooltip.prototype.setCrossHairsVisible = function (visible) {\r\n        var display = visible ? '' : 'none';\r\n        var xCrosshairDom = this.get('xCrosshairDom');\r\n        var yCrosshairDom = this.get('yCrosshairDom');\r\n        xCrosshairDom &&\r\n            modifyCSS(xCrosshairDom, {\r\n                display: display,\r\n            });\r\n        yCrosshairDom &&\r\n            modifyCSS(yCrosshairDom, {\r\n                display: display,\r\n            });\r\n    };\r\n    Tooltip.prototype.initContainer = function () {\r\n        _super.prototype.initContainer.call(this);\r\n        if (this.get('customContent')) {\r\n            if (this.get('container')) {\r\n                this.get('container').remove();\r\n            }\r\n            var container = this.getHtmlContentNode();\r\n            this.get('parent').appendChild(container);\r\n            this.set('container', container);\r\n            this.resetStyles();\r\n            this.applyStyles();\r\n        }\r\n    };\r\n    Tooltip.prototype.updateInner = function (cfg) {\r\n        if (this.get('customContent')) {\r\n            this.renderCustomContent();\r\n        }\r\n        else {\r\n            if (hasOneKey(cfg, ['title', 'showTitle'])) {\r\n                this.resetTitle();\r\n            }\r\n            if (hasKey(cfg, 'items')) {\r\n                this.renderItems();\r\n            }\r\n        }\r\n        _super.prototype.updateInner.call(this, cfg);\r\n    };\r\n    Tooltip.prototype.initDom = function () {\r\n        this.cacheDoms();\r\n    };\r\n    Tooltip.prototype.removeDom = function () {\r\n        _super.prototype.removeDom.call(this);\r\n        this.clearCrosshairs();\r\n    };\r\n    Tooltip.prototype.resetPosition = function () {\r\n        var x = this.get('x');\r\n        var y = this.get('y');\r\n        var offset = this.get('offset');\r\n        var _a = this.getOffset(), offsetX = _a.offsetX, offsetY = _a.offsetY;\r\n        var position = this.get('position');\r\n        var region = this.get('region');\r\n        var container = this.getContainer();\r\n        var bbox = this.getBBox();\r\n        var width = bbox.width, height = bbox.height;\r\n        var limitBox;\r\n        if (region) {\r\n            limitBox = regionToBBox(region);\r\n        }\r\n        var point = getAlignPoint(x, y, offset, width, height, position, limitBox);\r\n        modifyCSS(container, {\r\n            left: toPx(point.x + offsetX),\r\n            top: toPx(point.y + offsetY),\r\n        });\r\n        this.resetCrosshairs();\r\n    };\r\n    Tooltip.prototype.renderCustomContent = function () {\r\n        var node = this.getHtmlContentNode();\r\n        var parent = this.get('parent');\r\n        var curContainer = this.get('container');\r\n        if (curContainer && curContainer.parentNode === parent) {\r\n            parent.replaceChild(node, curContainer);\r\n        }\r\n        else {\r\n            parent.appendChild(node);\r\n        }\r\n        this.set('container', node);\r\n        this.resetStyles();\r\n        this.applyStyles();\r\n    };\r\n    Tooltip.prototype.getHtmlContentNode = function () {\r\n        var node;\r\n        var customContent = this.get('customContent');\r\n        if (customContent) {\r\n            var elem = customContent(this.get('title'), this.get('items'));\r\n            if (isElement(elem)) {\r\n                node = elem;\r\n            }\r\n            else {\r\n                node = createDom(elem);\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    Tooltip.prototype.cacheDoms = function () {\r\n        var container = this.getContainer();\r\n        var titleDom = container.getElementsByClassName(CssConst.TITLE_CLASS)[0];\r\n        var listDom = container.getElementsByClassName(CssConst.LIST_CLASS)[0];\r\n        this.set('titleDom', titleDom);\r\n        this.set('listDom', listDom);\r\n    };\r\n    Tooltip.prototype.resetTitle = function () {\r\n        var title = this.get('title');\r\n        var showTitle = this.get('showTitle');\r\n        if (showTitle && title) {\r\n            this.setTitle(title);\r\n        }\r\n        else {\r\n            this.setTitle('');\r\n        }\r\n    };\r\n    Tooltip.prototype.setTitle = function (text) {\r\n        var titleDom = this.get('titleDom');\r\n        if (titleDom) {\r\n            titleDom.innerText = text;\r\n        }\r\n    };\r\n    Tooltip.prototype.resetCrosshairs = function () {\r\n        var crosshairsRegion = this.get('crosshairsRegion');\r\n        var crosshairs = this.get('crosshairs');\r\n        if (!crosshairsRegion || !crosshairs) {\r\n            this.clearCrosshairs();\r\n        }\r\n        else {\r\n            var crosshairBox = regionToBBox(crosshairsRegion);\r\n            var xCrosshairDom = this.get('xCrosshairDom');\r\n            var yCrosshairDom = this.get('yCrosshairDom');\r\n            if (crosshairs === 'x') {\r\n                this.resetCrosshair('x', crosshairBox);\r\n                if (yCrosshairDom) {\r\n                    yCrosshairDom.remove();\r\n                    this.set('yCrosshairDom', null);\r\n                }\r\n            }\r\n            else if (crosshairs === 'y') {\r\n                this.resetCrosshair('y', crosshairBox);\r\n                if (xCrosshairDom) {\r\n                    xCrosshairDom.remove();\r\n                    this.set('xCrosshairDom', null);\r\n                }\r\n            }\r\n            else {\r\n                this.resetCrosshair('x', crosshairBox);\r\n                this.resetCrosshair('y', crosshairBox);\r\n            }\r\n            this.setCrossHairsVisible(this.get('visible'));\r\n        }\r\n    };\r\n    Tooltip.prototype.resetCrosshair = function (name, bbox) {\r\n        var croshairDom = this.checkCrosshair(name);\r\n        var value = this.get(name);\r\n        if (name === 'x') {\r\n            modifyCSS(croshairDom, {\r\n                left: toPx(value),\r\n                top: toPx(bbox.y),\r\n                height: toPx(bbox.height),\r\n            });\r\n        }\r\n        else {\r\n            modifyCSS(croshairDom, {\r\n                top: toPx(value),\r\n                left: toPx(bbox.x),\r\n                width: toPx(bbox.width),\r\n            });\r\n        }\r\n    };\r\n    Tooltip.prototype.checkCrosshair = function (name) {\r\n        var domName = name + \"CrosshairDom\";\r\n        var tplName = name + \"CrosshairTpl\";\r\n        var constName = \"CROSSHAIR_\" + name.toUpperCase();\r\n        var styleName = CssConst[constName];\r\n        var croshairDom = this.get(domName);\r\n        var parent = this.get('parent');\r\n        if (!croshairDom) {\r\n            croshairDom = createDom(this.get(tplName));\r\n            this.applyStyle(styleName, croshairDom);\r\n            parent.appendChild(croshairDom);\r\n            this.set(domName, croshairDom);\r\n        }\r\n        return croshairDom;\r\n    };\r\n    Tooltip.prototype.renderItems = function () {\r\n        this.clearItemDoms();\r\n        var items = this.get('items');\r\n        var itemTpl = this.get('itemTpl');\r\n        var listDom = this.get('listDom');\r\n        if (listDom) {\r\n            each(items, function (item) {\r\n                var color = colorUtil.toCSSGradient(item.color);\r\n                var substituteObj = __assign(__assign({}, item), { color: color });\r\n                var domStr = substitute(itemTpl, substituteObj);\r\n                var itemDom = createDom(domStr);\r\n                listDom.appendChild(itemDom);\r\n            });\r\n            this.applyChildrenStyles(listDom, this.get('domStyles'));\r\n        }\r\n    };\r\n    Tooltip.prototype.clearItemDoms = function () {\r\n        if (this.get('listDom')) {\r\n            clearDom(this.get('listDom'));\r\n        }\r\n    };\r\n    Tooltip.prototype.clearCrosshairs = function () {\r\n        var xCrosshairDom = this.get('xCrosshairDom');\r\n        var yCrosshairDom = this.get('yCrosshairDom');\r\n        xCrosshairDom && xCrosshairDom.remove();\r\n        yCrosshairDom && yCrosshairDom.remove();\r\n        this.set('xCrosshairDom', null);\r\n        this.set('yCrosshairDom', null);\r\n    };\r\n    return Tooltip;\r\n}(HtmlComponent));\r\nexport default Tooltip;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\component\\esm\\tooltip\\html.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\component\\esm\\tooltip\\html.js"],"names":[],"mappings":"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","sourcesContent":["import { __assign, __extends } from \"tslib\";\nimport colorUtil from '@antv/color-util';\nimport { createDom, modifyCSS } from '@antv/dom-util';\nimport { each, hasKey, isElement, substitute } from '@antv/util';\nimport HtmlComponent from '../abstract/html-component';\nimport { clearDom, regionToBBox, toPx } from '../util/util';\nimport * as CssConst from './css-const';\nimport TooltipTheme from './html-theme';\nimport { getAlignPoint } from '../util/align';\nfunction hasOneKey(obj, keys) {\n    var result = false;\n    each(keys, function (key) {\n        if (hasKey(obj, key)) {\n            result = true;\n            return false;\n        }\n    });\n    return result;\n}\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    function Tooltip() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Tooltip.prototype.getDefaultCfg = function () {\n        var cfg = _super.prototype.getDefaultCfg.call(this);\n        return __assign(__assign({}, cfg), { name: 'tooltip', type: 'html', x: 0, y: 0, items: [], customContent: null, containerTpl: \"<div class=\\\"\" + CssConst.CONTAINER_CLASS + \"\\\"><div class=\\\"\" + CssConst.TITLE_CLASS + \"\\\"></div><ul class=\\\"\" + CssConst.LIST_CLASS + \"\\\"></ul></div>\", itemTpl: \"<li class=\\\"\" + CssConst.LIST_ITEM_CLASS + \"\\\" data-index={index}>\\n          <span class=\\\"\" + CssConst.MARKER_CLASS + \"\\\" style=\\\"background:{color}\\\"></span>\\n          <span class=\\\"\" + CssConst.NAME_CLASS + \"\\\">{name}</span>:\\n          <span class=\\\"\" + CssConst.VALUE_CLASS + \"\\\">{value}</span>\\n        </li>\", xCrosshairTpl: \"<div class=\\\"\" + CssConst.CROSSHAIR_X + \"\\\"></div>\", yCrosshairTpl: \"<div class=\\\"\" + CssConst.CROSSHAIR_Y + \"\\\"></div>\", title: null, showTitle: true, \n            /**\n             * tooltip 限制的区域\n             * @type {Region}\n             */\n            region: null, \n            // crosshair 的限制区域\n            crosshairsRegion: null, containerClassName: CssConst.CONTAINER_CLASS, \n            // x, y, xy\n            crosshairs: null, offset: 10, position: 'right', domStyles: null, defaultStyles: TooltipTheme });\n    };\n    // tooltip 渲染时，渲染 title，items 和 corosshairs\n    Tooltip.prototype.render = function () {\n        if (this.get('customContent')) {\n            this.renderCustomContent();\n        }\n        else {\n            this.resetTitle();\n            this.renderItems();\n        }\n        // 绘制完成后，再定位\n        this.resetPosition();\n    };\n    // 复写清空函数，因为有模板的存在，所以默认的写法不合适\n    Tooltip.prototype.clear = function () {\n        // 由于 crosshair 没有在 container 内，所以需要单独清理\n        this.clearCrosshairs();\n        this.setTitle(''); // 清空标题\n        this.clearItemDoms();\n    };\n    Tooltip.prototype.show = function () {\n        var container = this.getContainer();\n        if (!container || this.destroyed) {\n            // 防止容器不存在或者被销毁时报错\n            return;\n        }\n        this.set('visible', true);\n        modifyCSS(container, {\n            visibility: 'visible',\n        });\n        this.setCrossHairsVisible(true);\n    };\n    Tooltip.prototype.hide = function () {\n        var container = this.getContainer();\n        // relative: https://github.com/antvis/g2/issues/1221\n        if (!container || this.destroyed) {\n            return;\n        }\n        this.set('visible', false);\n        modifyCSS(container, {\n            visibility: 'hidden',\n        });\n        this.setCrossHairsVisible(false);\n    };\n    // 实现 IPointLocation 的接口\n    Tooltip.prototype.getLocation = function () {\n        return { x: this.get('x'), y: this.get('y') };\n    };\n    // 实现 IPointLocation 的接口\n    Tooltip.prototype.setLocation = function (point) {\n        this.set('x', point.x);\n        this.set('y', point.y);\n        this.resetPosition();\n    };\n    Tooltip.prototype.setCrossHairsVisible = function (visible) {\n        var display = visible ? '' : 'none';\n        var xCrosshairDom = this.get('xCrosshairDom');\n        var yCrosshairDom = this.get('yCrosshairDom');\n        xCrosshairDom &&\n            modifyCSS(xCrosshairDom, {\n                display: display,\n            });\n        yCrosshairDom &&\n            modifyCSS(yCrosshairDom, {\n                display: display,\n            });\n    };\n    // 如有 customContent 则根据 customContent 设置 container\n    Tooltip.prototype.initContainer = function () {\n        _super.prototype.initContainer.call(this);\n        if (this.get('customContent')) {\n            if (this.get('container')) {\n                this.get('container').remove();\n            }\n            var container = this.getHtmlContentNode();\n            this.get('parent').appendChild(container);\n            this.set('container', container);\n            this.resetStyles();\n            this.applyStyles();\n        }\n    };\n    // 更新属性的同时，可能会引起 DOM 的变化，这里对可能引起 DOM 变化的场景做了处理\n    Tooltip.prototype.updateInner = function (cfg) {\n        if (this.get('customContent')) {\n            this.renderCustomContent();\n        }\n        else {\n            // 更新标题\n            if (hasOneKey(cfg, ['title', 'showTitle'])) {\n                this.resetTitle();\n            }\n            // 更新内容\n            if (hasKey(cfg, 'items')) {\n                this.renderItems();\n            }\n        }\n        _super.prototype.updateInner.call(this, cfg);\n    };\n    Tooltip.prototype.initDom = function () {\n        this.cacheDoms();\n    };\n    // 清理 DOM\n    Tooltip.prototype.removeDom = function () {\n        _super.prototype.removeDom.call(this);\n        this.clearCrosshairs();\n    };\n    // 调整位置\n    Tooltip.prototype.resetPosition = function () {\n        var x = this.get('x');\n        var y = this.get('y');\n        var offset = this.get('offset');\n        var _a = this.getOffset(), offsetX = _a.offsetX, offsetY = _a.offsetY;\n        var position = this.get('position');\n        var region = this.get('region');\n        var container = this.getContainer();\n        var bbox = this.getBBox();\n        var width = bbox.width, height = bbox.height;\n        var limitBox;\n        if (region) {\n            // 不限制位置\n            limitBox = regionToBBox(region);\n        }\n        var point = getAlignPoint(x, y, offset, width, height, position, limitBox);\n        modifyCSS(container, {\n            left: toPx(point.x + offsetX),\n            top: toPx(point.y + offsetY),\n        });\n        this.resetCrosshairs();\n    };\n    // 根据 customContent 渲染\n    Tooltip.prototype.renderCustomContent = function () {\n        var node = this.getHtmlContentNode();\n        var parent = this.get('parent');\n        var curContainer = this.get('container');\n        if (curContainer && curContainer.parentNode === parent) {\n            parent.replaceChild(node, curContainer);\n        }\n        else {\n            parent.appendChild(node);\n        }\n        this.set('container', node);\n        this.resetStyles();\n        this.applyStyles();\n    };\n    Tooltip.prototype.getHtmlContentNode = function () {\n        var node;\n        var customContent = this.get('customContent');\n        if (customContent) {\n            var elem = customContent(this.get('title'), this.get('items'));\n            if (isElement(elem)) {\n                node = elem;\n            }\n            else {\n                node = createDom(elem);\n            }\n        }\n        return node;\n    };\n    // 缓存模板设置的各种 DOM\n    Tooltip.prototype.cacheDoms = function () {\n        var container = this.getContainer();\n        var titleDom = container.getElementsByClassName(CssConst.TITLE_CLASS)[0];\n        var listDom = container.getElementsByClassName(CssConst.LIST_CLASS)[0];\n        this.set('titleDom', titleDom);\n        this.set('listDom', listDom);\n    };\n    // 重置 title\n    Tooltip.prototype.resetTitle = function () {\n        var title = this.get('title');\n        var showTitle = this.get('showTitle');\n        if (showTitle && title) {\n            this.setTitle(title);\n        }\n        else {\n            this.setTitle('');\n        }\n    };\n    // 设置 title 文本\n    Tooltip.prototype.setTitle = function (text) {\n        var titleDom = this.get('titleDom');\n        if (titleDom) {\n            titleDom.innerText = text;\n        }\n    };\n    // 终止 crosshair\n    Tooltip.prototype.resetCrosshairs = function () {\n        var crosshairsRegion = this.get('crosshairsRegion');\n        var crosshairs = this.get('crosshairs');\n        if (!crosshairsRegion || !crosshairs) {\n            // 不显示 crosshair，都移除，没有设定 region 也都移除掉\n            this.clearCrosshairs();\n        }\n        else {\n            var crosshairBox = regionToBBox(crosshairsRegion);\n            var xCrosshairDom = this.get('xCrosshairDom');\n            var yCrosshairDom = this.get('yCrosshairDom');\n            if (crosshairs === 'x') {\n                this.resetCrosshair('x', crosshairBox);\n                // 仅显示 x 的 crosshair，y 移除\n                if (yCrosshairDom) {\n                    yCrosshairDom.remove();\n                    this.set('yCrosshairDom', null);\n                }\n            }\n            else if (crosshairs === 'y') {\n                this.resetCrosshair('y', crosshairBox);\n                // 仅显示 y 的 crosshair，x 移除\n                if (xCrosshairDom) {\n                    xCrosshairDom.remove();\n                    this.set('xCrosshairDom', null);\n                }\n            }\n            else {\n                this.resetCrosshair('x', crosshairBox);\n                this.resetCrosshair('y', crosshairBox);\n            }\n            this.setCrossHairsVisible(this.get('visible'));\n        }\n    };\n    // 设定 crosshair 的位置，需要区分 x,y\n    Tooltip.prototype.resetCrosshair = function (name, bbox) {\n        var croshairDom = this.checkCrosshair(name);\n        var value = this.get(name);\n        if (name === 'x') {\n            modifyCSS(croshairDom, {\n                left: toPx(value),\n                top: toPx(bbox.y),\n                height: toPx(bbox.height),\n            });\n        }\n        else {\n            modifyCSS(croshairDom, {\n                top: toPx(value),\n                left: toPx(bbox.x),\n                width: toPx(bbox.width),\n            });\n        }\n    };\n    // 如果 crosshair 对应的 dom 不存在，则创建\n    Tooltip.prototype.checkCrosshair = function (name) {\n        var domName = name + \"CrosshairDom\";\n        var tplName = name + \"CrosshairTpl\";\n        var constName = \"CROSSHAIR_\" + name.toUpperCase();\n        var styleName = CssConst[constName];\n        var croshairDom = this.get(domName);\n        var parent = this.get('parent');\n        if (!croshairDom) {\n            croshairDom = createDom(this.get(tplName)); // 创建\n            this.applyStyle(styleName, croshairDom); // 设置初始样式\n            parent.appendChild(croshairDom); // 添加到跟 tooltip 同级的目录下\n            this.set(domName, croshairDom);\n        }\n        return croshairDom;\n    };\n    Tooltip.prototype.renderItems = function () {\n        this.clearItemDoms();\n        var items = this.get('items');\n        var itemTpl = this.get('itemTpl');\n        var listDom = this.get('listDom');\n        if (listDom) {\n            each(items, function (item) {\n                var color = colorUtil.toCSSGradient(item.color);\n                var substituteObj = __assign(__assign({}, item), { color: color });\n                var domStr = substitute(itemTpl, substituteObj);\n                var itemDom = createDom(domStr);\n                listDom.appendChild(itemDom);\n            });\n            this.applyChildrenStyles(listDom, this.get('domStyles'));\n        }\n    };\n    Tooltip.prototype.clearItemDoms = function () {\n        if (this.get('listDom')) {\n            clearDom(this.get('listDom'));\n        }\n    };\n    Tooltip.prototype.clearCrosshairs = function () {\n        var xCrosshairDom = this.get('xCrosshairDom');\n        var yCrosshairDom = this.get('yCrosshairDom');\n        xCrosshairDom && xCrosshairDom.remove();\n        yCrosshairDom && yCrosshairDom.remove();\n        this.set('xCrosshairDom', null);\n        this.set('yCrosshairDom', null);\n    };\n    return Tooltip;\n}(HtmlComponent));\nexport default Tooltip;\n//# sourceMappingURL=html.js.map"]}]}
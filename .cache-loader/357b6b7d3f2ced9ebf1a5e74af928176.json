{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\geometry\\shape\\line\\step.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\geometry\\shape\\line\\step.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import { __assign } from \"tslib\";\r\nimport { each } from '@antv/util';\r\nimport { registerShape } from '../base';\r\nimport { getPathPoints } from '../util/get-path-points';\r\nimport { getStyle } from '../util/get-style';\r\nimport { getLineMarker } from './util';\r\nvar interpolateCallback = function (point, nextPoint, shapeType) {\r\n    var x = point.x;\r\n    var y = point.y;\r\n    var nextX = nextPoint.x;\r\n    var nextY = nextPoint.y;\r\n    var result;\r\n    switch (shapeType) {\r\n        case 'hv':\r\n            result = [{ x: nextX, y: y }];\r\n            break;\r\n        case 'vh':\r\n            result = [{ x: x, y: nextY }];\r\n            break;\r\n        case 'hvh':\r\n            var middleX = (nextX + x) / 2;\r\n            result = [\r\n                { x: middleX, y: y },\r\n                { x: middleX, y: nextY },\r\n            ];\r\n            break;\r\n        case 'vhv':\r\n            var middleY = (y + nextY) / 2;\r\n            result = [\r\n                { x: x, y: middleY },\r\n                { x: nextX, y: middleY },\r\n            ];\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    return result;\r\n};\r\nfunction getInterpolatePoints(points, shapeType) {\r\n    var result = [];\r\n    each(points, function (point, index) {\r\n        var nextPoint = points[index + 1];\r\n        result.push(point);\r\n        if (nextPoint) {\r\n            var interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\r\n            result = result.concat(interpolatePoint);\r\n        }\r\n    });\r\n    return result;\r\n}\r\nfunction getInterpolatePath(points) {\r\n    return points.map(function (point, index) {\r\n        return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\r\n    });\r\n}\r\nfunction getInterpolateShapeAttrs(cfg, shapeType) {\r\n    var points = getPathPoints(cfg.points, cfg.connectNulls);\r\n    var path = [];\r\n    each(points, function (eachLinePoints) {\r\n        var interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\r\n        path = path.concat(getInterpolatePath(interpolatePoints));\r\n    });\r\n    return __assign(__assign({}, getStyle(cfg, true, false, 'lineWidth')), { path: path });\r\n}\r\neach(['hv', 'vh', 'hvh', 'vhv'], function (shapeType) {\r\n    registerShape('line', shapeType, {\r\n        draw: function (cfg, container) {\r\n            var attrs = getInterpolateShapeAttrs(cfg, shapeType);\r\n            var shape = container.addShape({\r\n                type: 'path',\r\n                attrs: attrs,\r\n                name: 'line',\r\n            });\r\n            return shape;\r\n        },\r\n        getMarker: function (markerCfg) {\r\n            return getLineMarker(markerCfg, shapeType);\r\n        },\r\n    });\r\n});\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\geometry\\shape\\line\\step.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\geometry\\shape\\line\\step.js"],"names":[],"mappings":"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","sourcesContent":["import { __assign } from \"tslib\";\nimport { each } from '@antv/util';\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\nvar interpolateCallback = function (point, nextPoint, shapeType) {\n    var x = point.x;\n    var y = point.y;\n    var nextX = nextPoint.x;\n    var nextY = nextPoint.y;\n    var result;\n    switch (shapeType) {\n        case 'hv':\n            result = [{ x: nextX, y: y }];\n            break;\n        case 'vh':\n            result = [{ x: x, y: nextY }];\n            break;\n        case 'hvh':\n            var middleX = (nextX + x) / 2;\n            result = [\n                { x: middleX, y: y },\n                { x: middleX, y: nextY },\n            ];\n            break;\n        case 'vhv':\n            var middleY = (y + nextY) / 2;\n            result = [\n                { x: x, y: middleY },\n                { x: nextX, y: middleY },\n            ];\n            break;\n        default:\n            break;\n    }\n    return result;\n};\nfunction getInterpolatePoints(points, shapeType) {\n    var result = [];\n    each(points, function (point, index) {\n        var nextPoint = points[index + 1];\n        result.push(point);\n        if (nextPoint) {\n            var interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n            result = result.concat(interpolatePoint);\n        }\n    });\n    return result;\n}\n// 插值的图形path，不考虑null\nfunction getInterpolatePath(points) {\n    return points.map(function (point, index) {\n        return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n    });\n}\n// 插值的图形\nfunction getInterpolateShapeAttrs(cfg, shapeType) {\n    var points = getPathPoints(cfg.points, cfg.connectNulls); // 根据 connectNulls 值处理 points\n    var path = [];\n    each(points, function (eachLinePoints) {\n        var interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n        path = path.concat(getInterpolatePath(interpolatePoints));\n    });\n    return __assign(__assign({}, getStyle(cfg, true, false, 'lineWidth')), { path: path });\n}\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], function (shapeType) {\n    registerShape('line', shapeType, {\n        draw: function (cfg, container) {\n            var attrs = getInterpolateShapeAttrs(cfg, shapeType);\n            var shape = container.addShape({\n                type: 'path',\n                attrs: attrs,\n                name: 'line',\n            });\n            return shape;\n        },\n        getMarker: function (markerCfg) {\n            return getLineMarker(markerCfg, shapeType);\n        },\n    });\n});\n//# sourceMappingURL=step.js.map"]}]}
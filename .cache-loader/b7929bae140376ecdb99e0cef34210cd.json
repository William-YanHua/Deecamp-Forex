{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\geometry\\label\\layout\\limit-in-canvas.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\geometry\\label\\layout\\limit-in-canvas.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import { each } from '@antv/util';\r\nimport { translate } from '../../../util/transform';\r\nexport function limitInCanvas(items, labels, shapes, region) {\r\n    each(labels, function (label) {\r\n        var regionMinX = region.minX, regionMinY = region.minY, regionMaxX = region.maxX, regionMaxY = region.maxY;\r\n        var _a = label.getCanvasBBox(), minX = _a.minX, minY = _a.minY, maxX = _a.maxX, maxY = _a.maxY, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n        var finalX = x;\r\n        var finalY = y;\r\n        if (minX < regionMinX || maxX < regionMinX) {\r\n            finalX = regionMinX;\r\n        }\r\n        if (minY < regionMinY || maxY < regionMinY) {\r\n            finalY = regionMinY;\r\n        }\r\n        if (minX > regionMaxX) {\r\n            finalX = regionMaxX - width;\r\n        }\r\n        else if (maxX > regionMaxX) {\r\n            finalX = finalX - (maxX - regionMaxX);\r\n        }\r\n        if (minY > regionMaxY) {\r\n            finalY = regionMaxY - height;\r\n        }\r\n        else if (maxY > regionMaxY) {\r\n            finalY = finalY - (maxY - regionMaxY);\r\n        }\r\n        if (finalX !== x || finalY !== y) {\r\n            translate(label, finalX - x, finalY - y);\r\n        }\r\n    });\r\n}\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\geometry\\label\\layout\\limit-in-canvas.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\geometry\\label\\layout\\limit-in-canvas.js"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,YAAY,CAAC;AAClC,OAAO,EAAE,SAAS,EAAE,MAAM,yBAAyB,CAAC;AAOpD,MAAM,UAAU,aAAa,CAAC,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM;IACvD,IAAI,CAAC,MAAM,EAAE,UAAU,KAAK;QACxB,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,EAAE,UAAU,GAAG,MAAM,CAAC,IAAI,EAAE,UAAU,GAAG,MAAM,CAAC,IAAI,EAAE,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC;QAC3G,IAAI,EAAE,GAAG,KAAK,CAAC,aAAa,EAAE,EAAE,IAAI,GAAG,EAAE,CAAC,IAAI,EAAE,IAAI,GAAG,EAAE,CAAC,IAAI,EAAE,IAAI,GAAG,EAAE,CAAC,IAAI,EAAE,IAAI,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,CAAC,EAAE,KAAK,GAAG,EAAE,CAAC,KAAK,EAAE,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC;QACzJ,IAAI,MAAM,GAAG,CAAC,CAAC;QACf,IAAI,MAAM,GAAG,CAAC,CAAC;QACf,IAAI,IAAI,GAAG,UAAU,IAAI,IAAI,GAAG,UAAU,EAAE;YAExC,MAAM,GAAG,UAAU,CAAC;SACvB;QACD,IAAI,IAAI,GAAG,UAAU,IAAI,IAAI,GAAG,UAAU,EAAE;YAExC,MAAM,GAAG,UAAU,CAAC;SACvB;QACD,IAAI,IAAI,GAAG,UAAU,EAAE;YAEnB,MAAM,GAAG,UAAU,GAAG,KAAK,CAAC;SAC/B;aACI,IAAI,IAAI,GAAG,UAAU,EAAE;YAExB,MAAM,GAAG,MAAM,GAAG,CAAC,IAAI,GAAG,UAAU,CAAC,CAAC;SACzC;QACD,IAAI,IAAI,GAAG,UAAU,EAAE;YAEnB,MAAM,GAAG,UAAU,GAAG,MAAM,CAAC;SAChC;aACI,IAAI,IAAI,GAAG,UAAU,EAAE;YAExB,MAAM,GAAG,MAAM,GAAG,CAAC,IAAI,GAAG,UAAU,CAAC,CAAC;SACzC;QACD,IAAI,MAAM,KAAK,CAAC,IAAI,MAAM,KAAK,CAAC,EAAE;YAC9B,SAAS,CAAC,KAAK,EAAE,MAAM,GAAG,CAAC,EAAE,MAAM,GAAG,CAAC,CAAC,CAAC;SAC5C;IACL,CAAC,CAAC,CAAC;AACP,CAAC","sourcesContent":["import { each } from '@antv/util';\nimport { translate } from '../../../util/transform';\n/**\n * @ignore\n * 将 label 限制在画布范围内，简单得将超出画布的 label 往画布内调整\n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items, labels, shapes, region) {\n    each(labels, function (label) {\n        var regionMinX = region.minX, regionMinY = region.minY, regionMaxX = region.maxX, regionMaxY = region.maxY;\n        var _a = label.getCanvasBBox(), minX = _a.minX, minY = _a.minY, maxX = _a.maxX, maxY = _a.maxY, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        var finalX = x;\n        var finalY = y;\n        if (minX < regionMinX || maxX < regionMinX) {\n            // 超出左侧\n            finalX = regionMinX;\n        }\n        if (minY < regionMinY || maxY < regionMinY) {\n            // 超出顶部\n            finalY = regionMinY;\n        }\n        if (minX > regionMaxX) {\n            // 整体超出右侧\n            finalX = regionMaxX - width;\n        }\n        else if (maxX > regionMaxX) {\n            // 超出右侧\n            finalX = finalX - (maxX - regionMaxX);\n        }\n        if (minY > regionMaxY) {\n            // 整体超出顶部\n            finalY = regionMaxY - height;\n        }\n        else if (maxY > regionMaxY) {\n            // 超出底部\n            finalY = finalY - (maxY - regionMaxY);\n        }\n        if (finalX !== x || finalY !== y) {\n            translate(label, finalX - x, finalY - y);\n        }\n    });\n}\n//# sourceMappingURL=limit-in-canvas.js.map"]}]}
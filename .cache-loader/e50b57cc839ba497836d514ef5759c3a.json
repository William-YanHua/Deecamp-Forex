{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/es6/processor/g2Update.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/es6/processor/g2Update.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["'use strict';\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n        }\n    }\n} return target; };\nvar _shared = require('../shared');\nvar _common = require('./common');\nvar _common2 = _interopRequireDefault(_common);\nvar _g2Creator = require('./g2Creator');\nvar _g2Creator2 = _interopRequireDefault(_g2Creator);\nvar _configMerge = require('./configMerge');\nvar _configMerge2 = _interopRequireDefault(_configMerge);\nvar _event = require('./event');\nvar _event2 = _interopRequireDefault(_event);\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\nelse {\n    return Array.from(arr);\n} }\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) {\n    if (keys.indexOf(i) >= 0)\n        continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i))\n        continue;\n    target[i] = obj[i];\n} return target; }\nvar COORD_FUNC_PROPS = _common2.default.COORD_FUNC_PROPS;\nvar GEOM_FUNC_PROPS = _common2.default.GEOM_FUNC_PROPS;\nvar iUpdate = {\n    needRebuildChart: function needRebuildChart(config) {\n        if (config.chart.props == null || config.chart.updateProps == null)\n            return false;\n        var chartProps = config.chart.props;\n        var nextChartProps = config.chart.updateProps;\n        if (!_shared.Util.shallowEqual(chartProps.padding, nextChartProps.padding) || !_shared.Util.shallowEqual(chartProps.background, nextChartProps.background) || !_shared.Util.shallowEqual(chartProps.plotBackground, nextChartProps.plotBackground) || !_shared.Util.shallowEqual(chartProps.pixelRatio, nextChartProps.pixelRatio))\n            return true;\n        return false;\n    },\n    needReExecute: function needReExecute(config) {\n        var geoms = config.geoms;\n        if (geoms == null)\n            return false;\n        for (var id in geoms) {\n            if (geoms[id].props && geoms[id].updateProps && (geoms[id].props.type !== geoms[id].updateProps.type || geoms[id].props.color && !geoms[id].updateProps.color || geoms[id].props.size && !geoms[id].updateProps.size || geoms[id].props.shape && !geoms[id].updateProps.shape))\n                return true;\n        }\n        return false;\n    },\n    needRepaint: function needRepaint(config) {\n        var chartConfig = config.chart;\n        var data = chartConfig.props.data;\n        var nextData = chartConfig.updateProps.data;\n        return data === nextData;\n    },\n    synchronizeG2Update: function synchronizeG2Update(chart, config) {\n        this.updateChart(chart, config.chart);\n        this.updateAxises(chart, config.axises);\n        this.updateTooltip(chart, config);\n        this.updateCoord(chart, config);\n        this.updateLegends(chart, config.legends);\n        this.updateGeoms(chart, config.geoms);\n        this.updateGuide(chart, config.guide);\n        this.updateFacet(chart, config);\n        this.updateViews(chart, config);\n    },\n    updateChart: function updateChart(chart, chartConfig) {\n        if (!chartConfig)\n            return;\n        var props = chartConfig.props;\n        var nextProps = chartConfig.updateProps;\n        var width = props.width, height = props.height, animate = props.animate, data = props.data, scale = props.scale;\n        var nextWidth = nextProps.width, nextHeight = nextProps.height, nextAnimate = nextProps.animate, nextData = nextProps.data, nextScale = nextProps.scale;\n        if (data !== nextData) {\n            chart.changeData(nextData);\n        }\n        if (!_shared.Util.shallowEqual(scale, nextScale)) {\n            if (_shared.Util.isArray(nextScale)) {\n                chart.scale(nextScale[0], nextScale[1]);\n            }\n            else {\n                chart.scale(nextScale);\n            }\n        }\n        if (animate !== nextAnimate) {\n            chart.animate(nextAnimate);\n        }\n        if (width !== nextWidth && height !== nextHeight) {\n            chart.changeSize(nextWidth, nextHeight);\n        }\n        else if (width !== nextWidth) {\n            chart.changeWidth(nextWidth);\n        }\n        else if (height !== nextHeight) {\n            chart.changeHeight(nextHeight);\n        }\n        _event2.default.updateEvents(chart, _event2.default.chartEvents, chartConfig.props, nextProps);\n        _event2.default.updateBaseEvents(chart, chartConfig.updateProps, nextProps);\n    },\n    updateAxis: function updateAxis(chart, axisConfig) {\n        var _axisConfig$props = axisConfig.props, name = _axisConfig$props.name, visible = _axisConfig$props.visible, others = _objectWithoutProperties(_axisConfig$props, ['name', 'visible']);\n        var _axisConfig$updatePro = axisConfig.updateProps, nextName = _axisConfig$updatePro.name, nextVisible = _axisConfig$updatePro.visible, nextOthers = _objectWithoutProperties(_axisConfig$updatePro, ['name', 'visible']);\n        if (visible !== nextVisible) {\n            chart.axis(name, !!nextVisible);\n        }\n        if (!_shared.Util.shallowEqual(others, nextOthers)) {\n            chart.axis(name, nextOthers);\n        }\n    },\n    updateAxises: function updateAxises(chart, axises) {\n        if (!axises)\n            return;\n        for (var id in axises) {\n            if (axises[id] && axises[id].props && axises[id].updateProps) {\n                this.updateAxis(chart, axises[id]);\n            }\n        }\n    },\n    updateTooltip: function updateTooltip(chart, config) {\n        if (!config.tooltip)\n            return;\n        var props = config.tooltip.props;\n        var nextProps = config.tooltip.updateProps;\n        if (props == null && nextProps == null) {\n            return;\n        }\n        if (!_shared.Util.shallowEqual(props, nextProps)) {\n            chart.tooltip(_extends({}, nextProps));\n        }\n    },\n    updateCoord: function updateCoord(chart, config) {\n        var coordConfig = config.coord;\n        if (!coordConfig)\n            return;\n        var props = coordConfig.props;\n        var nextProps = coordConfig.updateProps;\n        if (props == null || nextProps == null) {\n            return;\n        }\n        var nextAttrs = _shared.Util.without(nextProps, COORD_FUNC_PROPS.concat(['type']));\n        if (!_shared.Util.shallowEqual(props, nextProps)) {\n            var g2Instance = chart.coord(nextProps.type, nextAttrs);\n            coordConfig.g2Instance = g2Instance;\n            _shared.Prop.init(COORD_FUNC_PROPS, nextProps, function (value, key) {\n                if (key === 'reflect') {\n                    _shared.Util.each(value, function (v) {\n                        return g2Instance[key](v);\n                    });\n                }\n                else if (key === 'transpose') {\n                    if (value[0] === true)\n                        g2Instance[key].apply(g2Instance, _toConsumableArray(value));\n                }\n                else {\n                    g2Instance[key].apply(g2Instance, _toConsumableArray(value));\n                }\n            });\n        }\n    },\n    updateLegend: function updateLegend(chart, legendConfig) {\n        var props = legendConfig.props;\n        var nextProps = legendConfig.updateProps;\n        if (!nextProps)\n            return;\n        if (_shared.Util.shallowEqual(props, nextProps)) {\n            return;\n        }\n        var name = nextProps.name, visible = nextProps.visible, cfg = _objectWithoutProperties(nextProps, ['name', 'visible']);\n        var arg = !visible ? visible : cfg;\n        chart.legend.apply(chart, _toConsumableArray(name ? [name, arg] : [arg]));\n    },\n    updateLegends: function updateLegends(chart, legends) {\n        if (legends == null) {\n            return;\n        }\n        for (var id in legends) {\n            if (legends[id]) {\n                this.updateLegend(chart, legends[id]);\n            }\n        }\n    },\n    updateLabel: function updateLabel(geom, props, nextProps) {\n        if (props == null || nextProps == null) {\n            return;\n        }\n        var content = props.content, others = _objectWithoutProperties(props, ['content']);\n        var nextContent = nextProps.content, nextOthers = _objectWithoutProperties(nextProps, ['content']);\n        if (!_shared.Util.shallowEqual(others, nextOthers) || !_shared.Util.shallowEqual(content, nextContent)) {\n            if (_shared.Util.isArray(nextContent)) {\n                geom.label(nextContent[0], nextContent[1], nextOthers);\n            }\n            else {\n                geom.label(nextContent, nextOthers);\n            }\n        }\n    },\n    updateGeom: function updateGeom(chart, geomConfig) {\n        var props = geomConfig.props;\n        var nextProps = geomConfig.updateProps;\n        if (!props || !nextProps)\n            return;\n        if (props.type !== nextProps.type) {\n            return;\n        }\n        var geom = geomConfig.g2Instance;\n        if (_shared.Util.shallowEqual(props, nextProps)) {\n            if (geomConfig.label) {\n                this.updateLabel(geom, geomConfig.label.props, geomConfig.label.updateProps);\n            }\n            return;\n        }\n        var adjust = props.adjust, attrs = _objectWithoutProperties(props, ['adjust']);\n        var nextAdjust = nextProps.adjust, nextAttrs = _objectWithoutProperties(nextProps, ['adjust']);\n        if (adjust || nextAdjust) {\n            geom.adjust(nextAdjust);\n        }\n        _shared.Prop.update(GEOM_FUNC_PROPS, attrs, nextAttrs, function (value, key) {\n            geom[key].apply(geom, _toConsumableArray(value));\n        });\n        if (geomConfig.label) {\n            this.updateLabel(geom, geomConfig.label.props, geomConfig.label.updateProps);\n        }\n    },\n    updateGeoms: function updateGeoms(chart, geoms) {\n        if (geoms == null) {\n            return false;\n        }\n        for (var id in geoms) {\n            if (geoms[id]) {\n                this.updateGeom(chart, geoms[id]);\n            }\n        }\n        return false;\n    },\n    isTypedGuideChanged: function isTypedGuideChanged(config) {\n        if (!_shared.Util.shallowEqual(config.props, config.updateProps)) {\n            return true;\n        }\n        return false;\n    },\n    updateGuide: function updateGuide(chart, guide) {\n        if (!guide || !guide.elements) {\n            return;\n        }\n        var guides = guide.elements;\n        var needRebuildGuide = false;\n        for (var id in guides) {\n            if (guides[id]) {\n                if (guides[id].updateProps || this.isTypedGuideChanged(guides[id])) {\n                    needRebuildGuide = true;\n                    break;\n                }\n            }\n        }\n        if (needRebuildGuide) {\n            _configMerge2.default.mergeGuide(guide, true);\n            chart.guide().clear();\n            _g2Creator2.default.guide(chart, guide);\n        }\n    },\n    updateView: function updateView(chart, viewInfo) {\n        if (!viewInfo || !viewInfo.props || !viewInfo.updateProps || viewInfo.parentInfo.name === 'Facet') {\n            return;\n        }\n        var view = viewInfo.g2Instance;\n        var props = viewInfo.props;\n        var nextProps = viewInfo.updateProps;\n        var scale = props.scale, data = props.data, animate = props.animate, axis = props.axis, filter = props.filter;\n        var nextScale = nextProps.scale, nextAnimate = nextProps.animate, nextData = nextProps.data, nextAxis = nextProps.axis, nextFilter = nextProps.filter;\n        if (animate !== nextAnimate) {\n            view.animate(nextAnimate);\n        }\n        if (data !== nextData) {\n            view.changeData(nextData);\n        }\n        if (!_shared.Util.shallowEqual(scale, nextScale)) {\n            view.scale(nextScale);\n        }\n        if (!_shared.Util.shallowEqual(filter, nextFilter)) {\n            nextFilter.forEach(function (filterArg) {\n                view.filter(filterArg[0], filterArg[1]);\n            });\n        }\n        if (axis !== nextAxis) {\n            view.axis(nextAxis);\n        }\n        this.updateCoord(view, viewInfo);\n        this.updateAxises(view, viewInfo.axises);\n        this.updateGeoms(view, viewInfo.geoms);\n        this.updateGuide(view, viewInfo.guide);\n    },\n    updateViews: function updateViews(chart, config) {\n        var views = config.views;\n        if (!views)\n            return;\n        for (var id in views) {\n            var curView = views[id];\n            if (curView && (curView.needReExecute || this.needReExecute(curView))) {\n                _g2Creator2.default.synchronizeG2View(curView.g2Instance, curView);\n                views[id].needReExecute = false;\n            }\n            else {\n                this.updateView(chart, curView);\n            }\n        }\n    },\n    updateFacet: function updateFacet(chart, config) {\n        var facetConfig = config.facet;\n        if (!facetConfig)\n            return;\n        var props = facetConfig.props;\n        var nextProps = facetConfig.updateProps;\n        if (props == null || nextProps == null)\n            return;\n        var type = props.type, others = _objectWithoutProperties(props, ['type']);\n        var nextType = nextProps.type, nextOthers = _objectWithoutProperties(nextProps, ['type']);\n        if (type !== nextType || !_shared.Util.shallowEqual(others, nextOthers)) {\n            facetConfig.props = nextProps;\n            _g2Creator2.default.facet(chart, config);\n        }\n    }\n};\nexports.default = iUpdate;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/es6/processor/g2Update.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/es6/processor/g2Update.js"],"names":[],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _shared = require('../shared');\n\nvar _common = require('./common');\n\nvar _common2 = _interopRequireDefault(_common);\n\nvar _g2Creator = require('./g2Creator');\n\nvar _g2Creator2 = _interopRequireDefault(_g2Creator);\n\nvar _configMerge = require('./configMerge');\n\nvar _configMerge2 = _interopRequireDefault(_configMerge);\n\nvar _event = require('./event');\n\nvar _event2 = _interopRequireDefault(_event);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n// import interfaceEs6 from 'interface-es6';\n\n\nvar COORD_FUNC_PROPS = _common2.default.COORD_FUNC_PROPS;\nvar GEOM_FUNC_PROPS = _common2.default.GEOM_FUNC_PROPS;\n\nvar iUpdate = {\n  needRebuildChart: function needRebuildChart(config) {\n    if (config.chart.props == null || config.chart.updateProps == null) return false;\n    var chartProps = config.chart.props;\n    var nextChartProps = config.chart.updateProps;\n\n    if (!_shared.Util.shallowEqual(chartProps.padding, nextChartProps.padding) || !_shared.Util.shallowEqual(chartProps.background, nextChartProps.background) || !_shared.Util.shallowEqual(chartProps.plotBackground, nextChartProps.plotBackground) || !_shared.Util.shallowEqual(chartProps.pixelRatio, nextChartProps.pixelRatio)) return true;\n\n    return false;\n  },\n  needReExecute: function needReExecute(config) {\n    var geoms = config.geoms;\n\n    if (geoms == null) return false;\n\n    for (var id in geoms) {\n      if (geoms[id].props && geoms[id].updateProps && (geoms[id].props.type !== geoms[id].updateProps.type || geoms[id].props.color && !geoms[id].updateProps.color || geoms[id].props.size && !geoms[id].updateProps.size || geoms[id].props.shape && !geoms[id].updateProps.shape)) return true;\n    }\n    return false;\n    // return Object.keys(geoms).find((id) => {\n    //   if (!geoms[id].props || !geoms[id].updateProps) return false;\n    //   return geoms[id].props.type !== geoms[id].updateProps.type;\n    // });\n  },\n  needRepaint: function needRepaint(config) {\n    var chartConfig = config.chart;\n    var data = chartConfig.props.data;\n    var nextData = chartConfig.updateProps.data;\n\n    return data === nextData;\n  },\n  synchronizeG2Update: function synchronizeG2Update(chart, config) {\n    this.updateChart(chart, config.chart);\n    this.updateAxises(chart, config.axises);\n    this.updateTooltip(chart, config);\n    this.updateCoord(chart, config);\n    this.updateLegends(chart, config.legends);\n    this.updateGeoms(chart, config.geoms);\n    this.updateGuide(chart, config.guide);\n    this.updateFacet(chart, config);\n    this.updateViews(chart, config);\n  },\n  updateChart: function updateChart(chart, chartConfig) {\n    if (!chartConfig) return;\n\n    var props = chartConfig.props;\n    var nextProps = chartConfig.updateProps;\n    var width = props.width,\n        height = props.height,\n        animate = props.animate,\n        data = props.data,\n        scale = props.scale;\n    var nextWidth = nextProps.width,\n        nextHeight = nextProps.height,\n        nextAnimate = nextProps.animate,\n        nextData = nextProps.data,\n        nextScale = nextProps.scale;\n\n\n    if (data !== nextData) {\n      chart.changeData(nextData);\n    }\n\n    if (!_shared.Util.shallowEqual(scale, nextScale)) {\n      if (_shared.Util.isArray(nextScale)) {\n        chart.scale(nextScale[0], nextScale[1]);\n      } else {\n        chart.scale(nextScale);\n      }\n    }\n\n    if (animate !== nextAnimate) {\n      chart.animate(nextAnimate);\n    }\n\n    if (width !== nextWidth && height !== nextHeight) {\n      chart.changeSize(nextWidth, nextHeight);\n    } else if (width !== nextWidth) {\n      chart.changeWidth(nextWidth);\n    } else if (height !== nextHeight) {\n      chart.changeHeight(nextHeight);\n    }\n\n    _event2.default.updateEvents(chart, _event2.default.chartEvents, chartConfig.props, nextProps);\n    _event2.default.updateBaseEvents(chart, chartConfig.updateProps, nextProps);\n  },\n  updateAxis: function updateAxis(chart, axisConfig) {\n    var _axisConfig$props = axisConfig.props,\n        name = _axisConfig$props.name,\n        visible = _axisConfig$props.visible,\n        others = _objectWithoutProperties(_axisConfig$props, ['name', 'visible']);\n\n    var _axisConfig$updatePro = axisConfig.updateProps,\n        nextName = _axisConfig$updatePro.name,\n        nextVisible = _axisConfig$updatePro.visible,\n        nextOthers = _objectWithoutProperties(_axisConfig$updatePro, ['name', 'visible']);\n\n    // warning(name === nextName, '`name` propertry should not be changed in `<Axis />`');\n\n    if (visible !== nextVisible) {\n      chart.axis(name, !!nextVisible);\n    }\n\n    // todo others have g2Instance\n    if (!_shared.Util.shallowEqual(others, nextOthers)) {\n      chart.axis(name, nextOthers);\n    }\n  },\n  updateAxises: function updateAxises(chart, axises) {\n    if (!axises) return;\n    for (var id in axises) {\n      if (axises[id] && axises[id].props && axises[id].updateProps) {\n        this.updateAxis(chart, axises[id]);\n      }\n    }\n  },\n  updateTooltip: function updateTooltip(chart, config) {\n    if (!config.tooltip) return;\n    var props = config.tooltip.props;\n    var nextProps = config.tooltip.updateProps;\n\n    if (props == null && nextProps == null) {\n      return;\n    }\n\n    if (!_shared.Util.shallowEqual(props, nextProps)) {\n      chart.tooltip(_extends({}, nextProps));\n    }\n  },\n  updateCoord: function updateCoord(chart, config) {\n    var coordConfig = config.coord;\n    if (!coordConfig) return;\n\n    var props = coordConfig.props;\n    var nextProps = coordConfig.updateProps;\n\n    if (props == null || nextProps == null) {\n      return;\n    }\n\n    // type can not be in coord's second param.\n    var nextAttrs = _shared.Util.without(nextProps, COORD_FUNC_PROPS.concat(['type']));\n\n    if (!_shared.Util.shallowEqual(props, nextProps)) {\n      var g2Instance = chart.coord(nextProps.type, nextAttrs);\n      coordConfig.g2Instance = g2Instance;\n      _shared.Prop.init(COORD_FUNC_PROPS, nextProps, function (value, key) {\n        if (key === 'reflect') {\n          _shared.Util.each(value, function (v) {\n            return g2Instance[key](v);\n          });\n        } else if (key === 'transpose') {\n          if (value[0] === true) g2Instance[key].apply(g2Instance, _toConsumableArray(value));\n        } else {\n          g2Instance[key].apply(g2Instance, _toConsumableArray(value));\n        }\n      });\n    }\n  },\n  updateLegend: function updateLegend(chart, legendConfig) {\n    var props = legendConfig.props;\n    var nextProps = legendConfig.updateProps;\n\n    if (!nextProps) return;\n\n    if (_shared.Util.shallowEqual(props, nextProps)) {\n      return;\n    }\n\n    var name = nextProps.name,\n        visible = nextProps.visible,\n        cfg = _objectWithoutProperties(nextProps, ['name', 'visible']);\n\n    var arg = !visible ? visible : cfg;\n\n    chart.legend.apply(chart, _toConsumableArray(name ? [name, arg] : [arg]));\n  },\n  updateLegends: function updateLegends(chart, legends) {\n    if (legends == null) {\n      return;\n    }\n\n    for (var id in legends) {\n      if (legends[id]) {\n        this.updateLegend(chart, legends[id]);\n      }\n    }\n  },\n  updateLabel: function updateLabel(geom, props, nextProps) {\n    if (props == null || nextProps == null) {\n      return;\n    }\n\n    var content = props.content,\n        others = _objectWithoutProperties(props, ['content']);\n\n    var nextContent = nextProps.content,\n        nextOthers = _objectWithoutProperties(nextProps, ['content']);\n\n    if (!_shared.Util.shallowEqual(others, nextOthers) || !_shared.Util.shallowEqual(content, nextContent)) {\n      if (_shared.Util.isArray(nextContent)) {\n        geom.label(nextContent[0], nextContent[1], nextOthers);\n      } else {\n        geom.label(nextContent, nextOthers);\n      }\n    }\n  },\n  updateGeom: function updateGeom(chart, geomConfig) {\n    var props = geomConfig.props;\n    var nextProps = geomConfig.updateProps;\n\n    if (!props || !nextProps) return;\n\n    if (props.type !== nextProps.type) {\n      // needReExecute chart\n      return;\n    }\n    var geom = geomConfig.g2Instance;\n    if (_shared.Util.shallowEqual(props, nextProps)) {\n      if (geomConfig.label) {\n        this.updateLabel(geom, geomConfig.label.props, geomConfig.label.updateProps);\n      }\n      return;\n    }\n\n    var adjust = props.adjust,\n        attrs = _objectWithoutProperties(props, ['adjust']);\n\n    var nextAdjust = nextProps.adjust,\n        nextAttrs = _objectWithoutProperties(nextProps, ['adjust']);\n\n    if (adjust || nextAdjust) {\n      geom.adjust(nextAdjust);\n    }\n    _shared.Prop.update(GEOM_FUNC_PROPS, attrs, nextAttrs, function (value, key) {\n      geom[key].apply(geom, _toConsumableArray(value));\n    });\n\n    if (geomConfig.label) {\n      this.updateLabel(geom, geomConfig.label.props, geomConfig.label.updateProps);\n    }\n  },\n  updateGeoms: function updateGeoms(chart, geoms) {\n    if (geoms == null) {\n      return false;\n    }\n\n    for (var id in geoms) {\n      if (geoms[id]) {\n        this.updateGeom(chart, geoms[id]);\n      }\n    }\n\n    return false;\n  },\n  isTypedGuideChanged: function isTypedGuideChanged(config) {\n    if (!_shared.Util.shallowEqual(config.props, config.updateProps)) {\n      return true;\n    }\n\n    return false;\n  },\n  updateGuide: function updateGuide(chart, guide) {\n    if (!guide || !guide.elements) {\n      return;\n    }\n\n    var guides = guide.elements;\n    var needRebuildGuide = false;\n\n    for (var id in guides) {\n      if (guides[id]) {\n        if (guides[id].updateProps || this.isTypedGuideChanged(guides[id])) {\n          needRebuildGuide = true;\n          break;\n        }\n      }\n    }\n\n    if (needRebuildGuide) {\n      _configMerge2.default.mergeGuide(guide, true);\n      chart.guide().clear();\n      _g2Creator2.default.guide(chart, guide);\n    }\n  },\n  updateView: function updateView(chart, viewInfo) {\n    if (!viewInfo || !viewInfo.props || !viewInfo.updateProps || viewInfo.parentInfo.name === 'Facet') {\n      return;\n    }\n    var view = viewInfo.g2Instance;\n    var props = viewInfo.props;\n    var nextProps = viewInfo.updateProps;\n    /*\n       Others object must exclude geoms property.\n       Because geoms property will cover the g2 view' inner geoms property.\n    */\n    var scale = props.scale,\n        data = props.data,\n        animate = props.animate,\n        axis = props.axis,\n        filter = props.filter;\n    var nextScale = nextProps.scale,\n        nextAnimate = nextProps.animate,\n        nextData = nextProps.data,\n        nextAxis = nextProps.axis,\n        nextFilter = nextProps.filter;\n\n\n    if (animate !== nextAnimate) {\n      view.animate(nextAnimate);\n    }\n\n    if (data !== nextData) {\n      view.changeData(nextData);\n    }\n\n    if (!_shared.Util.shallowEqual(scale, nextScale)) {\n      view.scale(nextScale);\n    }\n\n    if (!_shared.Util.shallowEqual(filter, nextFilter)) {\n      nextFilter.forEach(function (filterArg) {\n        view.filter(filterArg[0], filterArg[1]);\n      });\n    }\n\n    if (axis !== nextAxis) {\n      view.axis(nextAxis);\n    }\n\n    this.updateCoord(view, viewInfo);\n    this.updateAxises(view, viewInfo.axises);\n    this.updateGeoms(view, viewInfo.geoms);\n    this.updateGuide(view, viewInfo.guide);\n  },\n  updateViews: function updateViews(chart, config) {\n    var views = config.views;\n\n    if (!views) return;\n\n    for (var id in views) {\n      var curView = views[id];\n      if (curView && (curView.needReExecute || this.needReExecute(curView))) {\n        _g2Creator2.default.synchronizeG2View(curView.g2Instance, curView);\n        views[id].needReExecute = false;\n      } else {\n        this.updateView(chart, curView);\n      }\n    }\n  },\n  updateFacet: function updateFacet(chart, config) {\n    var facetConfig = config.facet;\n    if (!facetConfig) return;\n    var props = facetConfig.props;\n    var nextProps = facetConfig.updateProps;\n    if (props == null || nextProps == null) return;\n\n    var type = props.type,\n        others = _objectWithoutProperties(props, ['type']);\n\n    var nextType = nextProps.type,\n        nextOthers = _objectWithoutProperties(nextProps, ['type']);\n\n    if (type !== nextType || !_shared.Util.shallowEqual(others, nextOthers)) {\n      facetConfig.props = nextProps;\n      _g2Creator2.default.facet(chart, config);\n    }\n  }\n};\n\nexports.default = iUpdate;"]}]}
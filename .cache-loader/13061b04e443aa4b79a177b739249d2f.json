{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\guide\\line.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\guide\\line.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\r\nvar Util = require('../util');\r\nvar Guide = require('./base');\r\nvar vec2 = Util.MatrixUtil.vec2;\r\nvar Line = function (_Guide) {\r\n    _inheritsLoose(Line, _Guide);\r\n    function Line() {\r\n        return _Guide.apply(this, arguments) || this;\r\n    }\r\n    var _proto = Line.prototype;\r\n    _proto.getDefaultCfg = function getDefaultCfg() {\r\n        var cfg = _Guide.prototype.getDefaultCfg.call(this);\r\n        return Util.mix({}, cfg, {\r\n            name: 'line',\r\n            start: null,\r\n            end: null,\r\n            lineStyle: {\r\n                stroke: '#000',\r\n                lineWidth: 1\r\n            },\r\n            text: {\r\n                position: 'end',\r\n                autoRotate: true,\r\n                style: {\r\n                    fill: '#999',\r\n                    fontSize: 12,\r\n                    fontWeight: 500,\r\n                    fontFamily: 'sans-serif'\r\n                },\r\n                content: null\r\n            }\r\n        });\r\n    };\r\n    _proto.render = function render(coord, group) {\r\n        var self = this;\r\n        var start = self.parsePoint(coord, self.get('start'));\r\n        var end = self.parsePoint(coord, self.get('end'));\r\n        var guideLineGroup = group.addGroup({\r\n            viewId: group.get('viewId')\r\n        });\r\n        self._drawLines(start, end, guideLineGroup);\r\n        var text = self.get('text');\r\n        if (text && text.content) {\r\n            self._drawText(start, end, guideLineGroup);\r\n        }\r\n        self.set('el', guideLineGroup);\r\n    };\r\n    _proto._drawLines = function _drawLines(start, end, group) {\r\n        var path = [['M', start.x, start.y], ['L', end.x, end.y]];\r\n        var guideLine = group.addShape('Path', {\r\n            attrs: Util.mix({\r\n                path: path\r\n            }, this.get('lineStyle'))\r\n        });\r\n        guideLine.name = 'guide-line';\r\n        this.get('appendInfo') && guideLine.setSilent('appendInfo', this.get('appendInfo'));\r\n    };\r\n    _proto._drawText = function _drawText(start, end, group) {\r\n        var textCfg = this.get('text');\r\n        var position = textCfg.position;\r\n        var textStyle = textCfg.style || {};\r\n        var percent;\r\n        if (position === 'start') {\r\n            percent = 0;\r\n        }\r\n        else if (position === 'center') {\r\n            percent = 0.5;\r\n        }\r\n        else if (Util.isString(position) && position.indexOf('%') !== -1) {\r\n            percent = parseInt(position, 10) / 100;\r\n        }\r\n        else if (Util.isNumber(position)) {\r\n            percent = position;\r\n        }\r\n        else {\r\n            percent = 1;\r\n        }\r\n        if (percent > 1 || percent < 0) {\r\n            percent = 1;\r\n        }\r\n        var cfg = {\r\n            x: start.x + (end.x - start.x) * percent,\r\n            y: start.y + (end.y - start.y) * percent\r\n        };\r\n        if (textCfg.offsetX) {\r\n            cfg.x += textCfg.offsetX;\r\n        }\r\n        if (textCfg.offsetY) {\r\n            cfg.y += textCfg.offsetY;\r\n        }\r\n        cfg.text = textCfg.content;\r\n        cfg = Util.mix({}, cfg, textStyle);\r\n        if (textCfg.autoRotate && Util.isNil(textStyle.rotate)) {\r\n            var angle = vec2.angleTo([end.x - start.x, end.y - start.y], [1, 0], 1);\r\n            cfg.rotate = angle;\r\n        }\r\n        else if (!Util.isNil(textStyle.rotate)) {\r\n            cfg.rotate = textStyle.rotate * Math.PI / 180;\r\n        }\r\n        var shape = group.addShape('Text', {\r\n            attrs: cfg\r\n        });\r\n        shape.name = 'guide-line-text';\r\n        this.get('appendInfo') && shape.setSilent('appendInfo', this.get('appendInfo'));\r\n    };\r\n    return Line;\r\n}(Guide);\r\nmodule.exports = Line;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\guide\\line.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\guide\\line.js"],"names":[],"mappings":"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","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar Util = require('../util');\n\nvar Guide = require('./base');\n\nvar vec2 = Util.MatrixUtil.vec2;\n\nvar Line =\n/*#__PURE__*/\nfunction (_Guide) {\n  _inheritsLoose(Line, _Guide);\n\n  function Line() {\n    return _Guide.apply(this, arguments) || this;\n  }\n\n  var _proto = Line.prototype;\n\n  _proto.getDefaultCfg = function getDefaultCfg() {\n    var cfg = _Guide.prototype.getDefaultCfg.call(this);\n\n    return Util.mix({}, cfg, {\n      /**\n       * 辅助元素类型\n       * @type {String}\n       */\n      name: 'line',\n\n      /**\n       * 辅助线的起点位置\n       * @type {Object | Function | Array}\n       */\n      start: null,\n\n      /**\n       * 辅助线的终点位置\n       * @type {Object | Function | Array}\n       */\n      end: null,\n\n      /**\n       * 辅助线的图形样式\n       * @type {Object}\n       */\n      lineStyle: {\n        stroke: '#000',\n        lineWidth: 1\n      },\n\n      /**\n       * 辅助文本配置\n       * @type {Object}\n       */\n      text: {\n        position: 'end',\n        // 文本的显示位置： start / center / end / 百分比\n        autoRotate: true,\n        // 文本是否沿着辅助线的方向自动旋转\n        style: {\n          fill: '#999',\n          fontSize: 12,\n          fontWeight: 500,\n          fontFamily: 'sans-serif'\n        },\n        // 辅助文本的样式\n        content: null // 辅助文本的文字\n\n      }\n    });\n  };\n\n  _proto.render = function render(coord, group) {\n    var self = this;\n    var start = self.parsePoint(coord, self.get('start'));\n    var end = self.parsePoint(coord, self.get('end'));\n    var guideLineGroup = group.addGroup({\n      viewId: group.get('viewId')\n    });\n\n    self._drawLines(start, end, guideLineGroup);\n\n    var text = self.get('text');\n\n    if (text && text.content) {\n      self._drawText(start, end, guideLineGroup);\n    }\n\n    self.set('el', guideLineGroup);\n  };\n\n  _proto._drawLines = function _drawLines(start, end, group) {\n    var path = [['M', start.x, start.y], ['L', end.x, end.y]];\n    var guideLine = group.addShape('Path', {\n      attrs: Util.mix({\n        path: path\n      }, this.get('lineStyle'))\n    });\n    guideLine.name = 'guide-line';\n    this.get('appendInfo') && guideLine.setSilent('appendInfo', this.get('appendInfo'));\n  };\n\n  _proto._drawText = function _drawText(start, end, group) {\n    var textCfg = this.get('text');\n    var position = textCfg.position;\n    var textStyle = textCfg.style || {};\n    var percent;\n\n    if (position === 'start') {\n      percent = 0;\n    } else if (position === 'center') {\n      percent = 0.5;\n    } else if (Util.isString(position) && position.indexOf('%') !== -1) {\n      percent = parseInt(position, 10) / 100;\n    } else if (Util.isNumber(position)) {\n      percent = position;\n    } else {\n      percent = 1;\n    }\n\n    if (percent > 1 || percent < 0) {\n      percent = 1;\n    }\n\n    var cfg = {\n      x: start.x + (end.x - start.x) * percent,\n      y: start.y + (end.y - start.y) * percent\n    };\n\n    if (textCfg.offsetX) {\n      // 设置了偏移量\n      cfg.x += textCfg.offsetX;\n    }\n\n    if (textCfg.offsetY) {\n      // 设置了偏移量\n      cfg.y += textCfg.offsetY;\n    }\n\n    cfg.text = textCfg.content;\n    cfg = Util.mix({}, cfg, textStyle);\n\n    if (textCfg.autoRotate && Util.isNil(textStyle.rotate)) {\n      // 自动旋转且用户没有设置旋转角度\n      var angle = vec2.angleTo([end.x - start.x, end.y - start.y], [1, 0], 1);\n      cfg.rotate = angle;\n    } else if (!Util.isNil(textStyle.rotate)) {\n      // 用户设置了旋转角度\n      cfg.rotate = textStyle.rotate * Math.PI / 180;\n    }\n\n    var shape = group.addShape('Text', {\n      attrs: cfg\n    });\n    shape.name = 'guide-line-text';\n    this.get('appendInfo') && shape.setSilent('appendInfo', this.get('appendInfo'));\n  };\n\n  return Line;\n}(Guide);\n\nmodule.exports = Line;"]}]}
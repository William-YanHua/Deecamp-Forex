{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\chart\\chart.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\chart\\chart.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import { __assign, __extends } from \"tslib\";\r\nimport { debounce, each, isString, get } from '@antv/util';\r\nimport { GROUP_Z_INDEX } from '../constant';\r\nimport { getEngine } from '../engine';\r\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\r\nimport View from './view';\r\nvar Chart = (function (_super) {\r\n    __extends(Chart, _super);\r\n    function Chart(props) {\r\n        var _this = this;\r\n        var container = props.container, width = props.width, height = props.height, _a = props.autoFit, autoFit = _a === void 0 ? false : _a, padding = props.padding, appendPadding = props.appendPadding, _b = props.renderer, renderer = _b === void 0 ? 'canvas' : _b, pixelRatio = props.pixelRatio, _c = props.localRefresh, localRefresh = _c === void 0 ? true : _c, _d = props.visible, visible = _d === void 0 ? true : _d, _e = props.defaultInteractions, defaultInteractions = _e === void 0 ? ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter'] : _e, options = props.options, limitInPlot = props.limitInPlot, theme = props.theme;\r\n        var ele = isString(container) ? document.getElementById(container) : container;\r\n        var wrapperElement = createDom('<div style=\"position:relative;\"></div>');\r\n        ele.appendChild(wrapperElement);\r\n        var size = getChartSize(ele, autoFit, width, height);\r\n        var G = getEngine(renderer);\r\n        var canvas = new G.Canvas(__assign({ container: wrapperElement, pixelRatio: pixelRatio,\r\n            localRefresh: localRefresh }, size));\r\n        _this = _super.call(this, {\r\n            parent: null,\r\n            canvas: canvas,\r\n            backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\r\n            middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\r\n            foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\r\n            padding: padding,\r\n            appendPadding: appendPadding,\r\n            visible: visible,\r\n            options: options,\r\n            limitInPlot: limitInPlot,\r\n            theme: theme,\r\n        }) || this;\r\n        _this.onResize = debounce(function () {\r\n            _this.forceFit();\r\n        }, 300);\r\n        var chartTheme = _this.getTheme();\r\n        if (get(chartTheme, 'background')) {\r\n            modifyCSS(wrapperElement, {\r\n                background: get(chartTheme, 'background'),\r\n            });\r\n        }\r\n        _this.ele = ele;\r\n        _this.canvas = canvas;\r\n        _this.width = size.width;\r\n        _this.height = size.height;\r\n        _this.autoFit = autoFit;\r\n        _this.localRefresh = localRefresh;\r\n        _this.renderer = renderer;\r\n        _this.wrapperElement = wrapperElement;\r\n        _this.updateCanvasStyle();\r\n        _this.bindAutoFit();\r\n        _this.initDefaultInteractions(defaultInteractions);\r\n        return _this;\r\n    }\r\n    Chart.prototype.initDefaultInteractions = function (interactions) {\r\n        var _this = this;\r\n        each(interactions, function (interaction) {\r\n            _this.interaction(interaction);\r\n        });\r\n    };\r\n    Chart.prototype.changeSize = function (width, height) {\r\n        this.width = width;\r\n        this.height = height;\r\n        this.canvas.changeSize(width, height);\r\n        this.render(true);\r\n        return this;\r\n    };\r\n    Chart.prototype.destroy = function () {\r\n        _super.prototype.destroy.call(this);\r\n        this.unbindAutoFit();\r\n        this.canvas.destroy();\r\n        removeDom(this.wrapperElement);\r\n        this.wrapperElement = null;\r\n    };\r\n    Chart.prototype.changeVisible = function (visible) {\r\n        this.wrapperElement.style.display = visible ? '' : 'none';\r\n        return this;\r\n    };\r\n    Chart.prototype.forceFit = function () {\r\n        if (!this.destroyed) {\r\n            var _a = getChartSize(this.ele, true, this.width, this.height), width = _a.width, height = _a.height;\r\n            this.changeSize(width, height);\r\n        }\r\n    };\r\n    Chart.prototype.updateCanvasStyle = function () {\r\n        modifyCSS(this.canvas.get('el'), {\r\n            display: 'inline-block',\r\n            verticalAlign: 'middle',\r\n        });\r\n    };\r\n    Chart.prototype.bindAutoFit = function () {\r\n        if (this.autoFit) {\r\n            window.addEventListener('resize', this.onResize);\r\n        }\r\n    };\r\n    Chart.prototype.unbindAutoFit = function () {\r\n        if (this.autoFit) {\r\n            window.removeEventListener('resize', this.onResize);\r\n        }\r\n    };\r\n    return Chart;\r\n}(View));\r\nexport default Chart;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\chart\\chart.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\chart\\chart.js"],"names":[],"mappings":"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","sourcesContent":["import { __assign, __extends } from \"tslib\";\nimport { debounce, each, isString, get } from '@antv/util';\nimport { GROUP_Z_INDEX } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\n/**\n * Chart 类，是使用 G2 进行绘图的入口。\n */\nvar Chart = /** @class */ (function (_super) {\n    __extends(Chart, _super);\n    // @ts-ignore\n    function Chart(props) {\n        var _this = this;\n        var container = props.container, width = props.width, height = props.height, _a = props.autoFit, autoFit = _a === void 0 ? false : _a, padding = props.padding, appendPadding = props.appendPadding, _b = props.renderer, renderer = _b === void 0 ? 'canvas' : _b, pixelRatio = props.pixelRatio, _c = props.localRefresh, localRefresh = _c === void 0 ? true : _c, _d = props.visible, visible = _d === void 0 ? true : _d, _e = props.defaultInteractions, defaultInteractions = _e === void 0 ? ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter'] : _e, options = props.options, limitInPlot = props.limitInPlot, theme = props.theme;\n        var ele = isString(container) ? document.getElementById(container) : container;\n        // 生成内部正式绘制的 div 元素\n        var wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n        ele.appendChild(wrapperElement);\n        // if autoFit, use the container size, to avoid the graph render twice.\n        var size = getChartSize(ele, autoFit, width, height);\n        var G = getEngine(renderer);\n        var canvas = new G.Canvas(__assign({ container: wrapperElement, pixelRatio: pixelRatio,\n            localRefresh: localRefresh }, size));\n        // 调用 view 的创建\n        _this = _super.call(this, {\n            parent: null,\n            canvas: canvas,\n            // create 3 group layers for views.\n            backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n            middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n            foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n            padding: padding,\n            appendPadding: appendPadding,\n            visible: visible,\n            options: options,\n            limitInPlot: limitInPlot,\n            theme: theme,\n        }) || this;\n        /**\n         * when container size changed, change chart size props, and re-render.\n         */\n        _this.onResize = debounce(function () {\n            _this.forceFit();\n        }, 300);\n        // 设置主题背景色\n        var chartTheme = _this.getTheme();\n        if (get(chartTheme, 'background')) {\n            modifyCSS(wrapperElement, {\n                background: get(chartTheme, 'background'),\n            });\n        }\n        _this.ele = ele;\n        _this.canvas = canvas;\n        _this.width = size.width;\n        _this.height = size.height;\n        _this.autoFit = autoFit;\n        _this.localRefresh = localRefresh;\n        _this.renderer = renderer;\n        _this.wrapperElement = wrapperElement;\n        // 自适应大小\n        _this.updateCanvasStyle();\n        _this.bindAutoFit();\n        _this.initDefaultInteractions(defaultInteractions);\n        return _this;\n    }\n    Chart.prototype.initDefaultInteractions = function (interactions) {\n        var _this = this;\n        each(interactions, function (interaction) {\n            _this.interaction(interaction);\n        });\n    };\n    /**\n     * 改变图表大小，同时重新渲染。\n     * @param width 图表宽度\n     * @param height 图表高度\n     * @returns\n     */\n    Chart.prototype.changeSize = function (width, height) {\n        this.width = width;\n        this.height = height;\n        this.canvas.changeSize(width, height);\n        // 重新渲染\n        this.render(true);\n        return this;\n    };\n    /**\n     * 销毁图表，同时解绑事件，销毁创建的 G.Canvas 实例。\n     * @returns void\n     */\n    Chart.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.unbindAutoFit();\n        this.canvas.destroy();\n        removeDom(this.wrapperElement);\n        this.wrapperElement = null;\n    };\n    /**\n     * 显示或隐藏图表\n     * @param visible 是否可见，true 表示显示，false 表示隐藏\n     * @returns\n     */\n    Chart.prototype.changeVisible = function (visible) {\n        this.wrapperElement.style.display = visible ? '' : 'none';\n        return this;\n    };\n    /**\n     * 自动根据容器大小 resize 画布\n     */\n    Chart.prototype.forceFit = function () {\n        // skip if already destroyed\n        if (!this.destroyed) {\n            // 注意第二参数用 true，意思是即时 autoFit = false，forceFit() 调用之后一样是适配容器\n            var _a = getChartSize(this.ele, true, this.width, this.height), width = _a.width, height = _a.height;\n            this.changeSize(width, height);\n        }\n    };\n    Chart.prototype.updateCanvasStyle = function () {\n        modifyCSS(this.canvas.get('el'), {\n            display: 'inline-block',\n            verticalAlign: 'middle',\n        });\n    };\n    Chart.prototype.bindAutoFit = function () {\n        if (this.autoFit) {\n            window.addEventListener('resize', this.onResize);\n        }\n    };\n    Chart.prototype.unbindAutoFit = function () {\n        if (this.autoFit) {\n            window.removeEventListener('resize', this.onResize);\n        }\n    };\n    return Chart;\n}(View));\nexport default Chart;\n//# sourceMappingURL=chart.js.map"]}]}
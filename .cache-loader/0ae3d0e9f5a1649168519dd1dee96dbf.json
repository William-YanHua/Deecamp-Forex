{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-animate/es/Animate.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-animate/es/Animate.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport unsafeLifecyclesPolyfill from 'rc-util/es/unsafeLifecyclesPolyfill';\nimport { toArrayChildren, mergeChildren, findShownChildInChildrenByKey, findChildInChildrenByKey, isSameChildren } from './ChildrenUtils';\nimport AnimateChild from './AnimateChild';\nimport animUtil from './util/animate';\nvar defaultKey = 'rc_animate_' + Date.now();\nfunction getChildrenFromProps(props) {\n    var children = props.children;\n    if (React.isValidElement(children)) {\n        if (!children.key) {\n            return React.cloneElement(children, {\n                key: defaultKey\n            });\n        }\n    }\n    return children;\n}\nfunction noop() { }\nvar Animate = function (_React$Component) {\n    _inherits(Animate, _React$Component);\n    function Animate(props) {\n        _classCallCheck(this, Animate);\n        var _this = _possibleConstructorReturn(this, (Animate.__proto__ || Object.getPrototypeOf(Animate)).call(this, props));\n        _initialiseProps.call(_this);\n        _this.currentlyAnimatingKeys = {};\n        _this.keysToEnter = [];\n        _this.keysToLeave = [];\n        _this.state = {\n            children: toArrayChildren(getChildrenFromProps(props))\n        };\n        _this.childrenRefs = {};\n        return _this;\n    }\n    _createClass(Animate, [{\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                var _this2 = this;\n                var showProp = this.props.showProp;\n                var children = this.state.children;\n                if (showProp) {\n                    children = children.filter(function (child) {\n                        return !!child.props[showProp];\n                    });\n                }\n                children.forEach(function (child) {\n                    if (child) {\n                        _this2.performAppear(child.key);\n                    }\n                });\n            }\n        }, {\n            key: 'componentWillReceiveProps',\n            value: function componentWillReceiveProps(nextProps) {\n                var _this3 = this;\n                this.nextProps = nextProps;\n                var nextChildren = toArrayChildren(getChildrenFromProps(nextProps));\n                var props = this.props;\n                if (props.exclusive) {\n                    Object.keys(this.currentlyAnimatingKeys).forEach(function (key) {\n                        _this3.stop(key);\n                    });\n                }\n                var showProp = props.showProp;\n                var currentlyAnimatingKeys = this.currentlyAnimatingKeys;\n                var currentChildren = props.exclusive ? toArrayChildren(getChildrenFromProps(props)) : this.state.children;\n                var newChildren = [];\n                if (showProp) {\n                    currentChildren.forEach(function (currentChild) {\n                        var nextChild = currentChild && findChildInChildrenByKey(nextChildren, currentChild.key);\n                        var newChild = void 0;\n                        if ((!nextChild || !nextChild.props[showProp]) && currentChild.props[showProp]) {\n                            newChild = React.cloneElement(nextChild || currentChild, _defineProperty({}, showProp, true));\n                        }\n                        else {\n                            newChild = nextChild;\n                        }\n                        if (newChild) {\n                            newChildren.push(newChild);\n                        }\n                    });\n                    nextChildren.forEach(function (nextChild) {\n                        if (!nextChild || !findChildInChildrenByKey(currentChildren, nextChild.key)) {\n                            newChildren.push(nextChild);\n                        }\n                    });\n                }\n                else {\n                    newChildren = mergeChildren(currentChildren, nextChildren);\n                }\n                this.setState({\n                    children: newChildren\n                });\n                nextChildren.forEach(function (child) {\n                    var key = child && child.key;\n                    if (child && currentlyAnimatingKeys[key]) {\n                        return;\n                    }\n                    var hasPrev = child && findChildInChildrenByKey(currentChildren, key);\n                    if (showProp) {\n                        var showInNext = child.props[showProp];\n                        if (hasPrev) {\n                            var showInNow = findShownChildInChildrenByKey(currentChildren, key, showProp);\n                            if (!showInNow && showInNext) {\n                                _this3.keysToEnter.push(key);\n                            }\n                        }\n                        else if (showInNext) {\n                            _this3.keysToEnter.push(key);\n                        }\n                    }\n                    else if (!hasPrev) {\n                        _this3.keysToEnter.push(key);\n                    }\n                });\n                currentChildren.forEach(function (child) {\n                    var key = child && child.key;\n                    if (child && currentlyAnimatingKeys[key]) {\n                        return;\n                    }\n                    var hasNext = child && findChildInChildrenByKey(nextChildren, key);\n                    if (showProp) {\n                        var showInNow = child.props[showProp];\n                        if (hasNext) {\n                            var showInNext = findShownChildInChildrenByKey(nextChildren, key, showProp);\n                            if (!showInNext && showInNow) {\n                                _this3.keysToLeave.push(key);\n                            }\n                        }\n                        else if (showInNow) {\n                            _this3.keysToLeave.push(key);\n                        }\n                    }\n                    else if (!hasNext) {\n                        _this3.keysToLeave.push(key);\n                    }\n                });\n            }\n        }, {\n            key: 'componentDidUpdate',\n            value: function componentDidUpdate() {\n                var keysToEnter = this.keysToEnter;\n                this.keysToEnter = [];\n                keysToEnter.forEach(this.performEnter);\n                var keysToLeave = this.keysToLeave;\n                this.keysToLeave = [];\n                keysToLeave.forEach(this.performLeave);\n            }\n        }, {\n            key: 'isValidChildByKey',\n            value: function isValidChildByKey(currentChildren, key) {\n                var showProp = this.props.showProp;\n                if (showProp) {\n                    return findShownChildInChildrenByKey(currentChildren, key, showProp);\n                }\n                return findChildInChildrenByKey(currentChildren, key);\n            }\n        }, {\n            key: 'stop',\n            value: function stop(key) {\n                delete this.currentlyAnimatingKeys[key];\n                var component = this.childrenRefs[key];\n                if (component) {\n                    component.stop();\n                }\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                var _this4 = this;\n                var props = this.props;\n                this.nextProps = props;\n                var stateChildren = this.state.children;\n                var children = null;\n                if (stateChildren) {\n                    children = stateChildren.map(function (child) {\n                        if (child === null || child === undefined) {\n                            return child;\n                        }\n                        if (!child.key) {\n                            throw new Error('must set key for <rc-animate> children');\n                        }\n                        return React.createElement(AnimateChild, {\n                            key: child.key,\n                            ref: function ref(node) {\n                                _this4.childrenRefs[child.key] = node;\n                            },\n                            animation: props.animation,\n                            transitionName: props.transitionName,\n                            transitionEnter: props.transitionEnter,\n                            transitionAppear: props.transitionAppear,\n                            transitionLeave: props.transitionLeave\n                        }, child);\n                    });\n                }\n                var Component = props.component;\n                if (Component) {\n                    var passedProps = props;\n                    if (typeof Component === 'string') {\n                        passedProps = _extends({\n                            className: props.className,\n                            style: props.style\n                        }, props.componentProps);\n                    }\n                    return React.createElement(Component, passedProps, children);\n                }\n                return children[0] || null;\n            }\n        }]);\n    return Animate;\n}(React.Component);\nAnimate.isAnimate = true;\nAnimate.propTypes = {\n    className: PropTypes.string,\n    style: PropTypes.object,\n    component: PropTypes.any,\n    componentProps: PropTypes.object,\n    animation: PropTypes.object,\n    transitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    transitionEnter: PropTypes.bool,\n    transitionAppear: PropTypes.bool,\n    exclusive: PropTypes.bool,\n    transitionLeave: PropTypes.bool,\n    onEnd: PropTypes.func,\n    onEnter: PropTypes.func,\n    onLeave: PropTypes.func,\n    onAppear: PropTypes.func,\n    showProp: PropTypes.string,\n    children: PropTypes.node\n};\nAnimate.defaultProps = {\n    animation: {},\n    component: 'span',\n    componentProps: {},\n    transitionEnter: true,\n    transitionLeave: true,\n    transitionAppear: false,\n    onEnd: noop,\n    onEnter: noop,\n    onLeave: noop,\n    onAppear: noop\n};\nvar _initialiseProps = function _initialiseProps() {\n    var _this5 = this;\n    this.performEnter = function (key) {\n        if (_this5.childrenRefs[key]) {\n            _this5.currentlyAnimatingKeys[key] = true;\n            _this5.childrenRefs[key].componentWillEnter(_this5.handleDoneAdding.bind(_this5, key, 'enter'));\n        }\n    };\n    this.performAppear = function (key) {\n        if (_this5.childrenRefs[key]) {\n            _this5.currentlyAnimatingKeys[key] = true;\n            _this5.childrenRefs[key].componentWillAppear(_this5.handleDoneAdding.bind(_this5, key, 'appear'));\n        }\n    };\n    this.handleDoneAdding = function (key, type) {\n        var props = _this5.props;\n        delete _this5.currentlyAnimatingKeys[key];\n        if (props.exclusive && props !== _this5.nextProps) {\n            return;\n        }\n        var currentChildren = toArrayChildren(getChildrenFromProps(props));\n        if (!_this5.isValidChildByKey(currentChildren, key)) {\n            _this5.performLeave(key);\n        }\n        else if (type === 'appear') {\n            if (animUtil.allowAppearCallback(props)) {\n                props.onAppear(key);\n                props.onEnd(key, true);\n            }\n        }\n        else if (animUtil.allowEnterCallback(props)) {\n            props.onEnter(key);\n            props.onEnd(key, true);\n        }\n    };\n    this.performLeave = function (key) {\n        if (_this5.childrenRefs[key]) {\n            _this5.currentlyAnimatingKeys[key] = true;\n            _this5.childrenRefs[key].componentWillLeave(_this5.handleDoneLeaving.bind(_this5, key));\n        }\n    };\n    this.handleDoneLeaving = function (key) {\n        var props = _this5.props;\n        delete _this5.currentlyAnimatingKeys[key];\n        if (props.exclusive && props !== _this5.nextProps) {\n            return;\n        }\n        var currentChildren = toArrayChildren(getChildrenFromProps(props));\n        if (_this5.isValidChildByKey(currentChildren, key)) {\n            _this5.performEnter(key);\n        }\n        else {\n            var end = function end() {\n                if (animUtil.allowLeaveCallback(props)) {\n                    props.onLeave(key);\n                    props.onEnd(key, false);\n                }\n            };\n            if (!isSameChildren(_this5.state.children, currentChildren, props.showProp)) {\n                _this5.setState({\n                    children: currentChildren\n                }, end);\n            }\n            else {\n                end();\n            }\n        }\n    };\n};\nexport default unsafeLifecyclesPolyfill(Animate);\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-animate/es/Animate.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-animate/es/Animate.js"],"names":[],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport unsafeLifecyclesPolyfill from 'rc-util/es/unsafeLifecyclesPolyfill';\nimport { toArrayChildren, mergeChildren, findShownChildInChildrenByKey, findChildInChildrenByKey, isSameChildren } from './ChildrenUtils';\nimport AnimateChild from './AnimateChild';\nimport animUtil from './util/animate';\n\nvar defaultKey = 'rc_animate_' + Date.now();\n\nfunction getChildrenFromProps(props) {\n  var children = props.children;\n  if (React.isValidElement(children)) {\n    if (!children.key) {\n      return React.cloneElement(children, {\n        key: defaultKey\n      });\n    }\n  }\n  return children;\n}\n\nfunction noop() {}\n\nvar Animate = function (_React$Component) {\n  _inherits(Animate, _React$Component);\n\n  // eslint-disable-line\n\n  function Animate(props) {\n    _classCallCheck(this, Animate);\n\n    var _this = _possibleConstructorReturn(this, (Animate.__proto__ || Object.getPrototypeOf(Animate)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.currentlyAnimatingKeys = {};\n    _this.keysToEnter = [];\n    _this.keysToLeave = [];\n\n    _this.state = {\n      children: toArrayChildren(getChildrenFromProps(props))\n    };\n\n    _this.childrenRefs = {};\n    return _this;\n  }\n\n  _createClass(Animate, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var showProp = this.props.showProp;\n      var children = this.state.children;\n      if (showProp) {\n        children = children.filter(function (child) {\n          return !!child.props[showProp];\n        });\n      }\n      children.forEach(function (child) {\n        if (child) {\n          _this2.performAppear(child.key);\n        }\n      });\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n\n      this.nextProps = nextProps;\n      var nextChildren = toArrayChildren(getChildrenFromProps(nextProps));\n      var props = this.props;\n      // exclusive needs immediate response\n      if (props.exclusive) {\n        Object.keys(this.currentlyAnimatingKeys).forEach(function (key) {\n          _this3.stop(key);\n        });\n      }\n      var showProp = props.showProp;\n      var currentlyAnimatingKeys = this.currentlyAnimatingKeys;\n      // last props children if exclusive\n      var currentChildren = props.exclusive ? toArrayChildren(getChildrenFromProps(props)) : this.state.children;\n      // in case destroy in showProp mode\n      var newChildren = [];\n      if (showProp) {\n        currentChildren.forEach(function (currentChild) {\n          var nextChild = currentChild && findChildInChildrenByKey(nextChildren, currentChild.key);\n          var newChild = void 0;\n          if ((!nextChild || !nextChild.props[showProp]) && currentChild.props[showProp]) {\n            newChild = React.cloneElement(nextChild || currentChild, _defineProperty({}, showProp, true));\n          } else {\n            newChild = nextChild;\n          }\n          if (newChild) {\n            newChildren.push(newChild);\n          }\n        });\n        nextChildren.forEach(function (nextChild) {\n          if (!nextChild || !findChildInChildrenByKey(currentChildren, nextChild.key)) {\n            newChildren.push(nextChild);\n          }\n        });\n      } else {\n        newChildren = mergeChildren(currentChildren, nextChildren);\n      }\n\n      // need render to avoid update\n      this.setState({\n        children: newChildren\n      });\n\n      nextChildren.forEach(function (child) {\n        var key = child && child.key;\n        if (child && currentlyAnimatingKeys[key]) {\n          return;\n        }\n        var hasPrev = child && findChildInChildrenByKey(currentChildren, key);\n        if (showProp) {\n          var showInNext = child.props[showProp];\n          if (hasPrev) {\n            var showInNow = findShownChildInChildrenByKey(currentChildren, key, showProp);\n            if (!showInNow && showInNext) {\n              _this3.keysToEnter.push(key);\n            }\n          } else if (showInNext) {\n            _this3.keysToEnter.push(key);\n          }\n        } else if (!hasPrev) {\n          _this3.keysToEnter.push(key);\n        }\n      });\n\n      currentChildren.forEach(function (child) {\n        var key = child && child.key;\n        if (child && currentlyAnimatingKeys[key]) {\n          return;\n        }\n        var hasNext = child && findChildInChildrenByKey(nextChildren, key);\n        if (showProp) {\n          var showInNow = child.props[showProp];\n          if (hasNext) {\n            var showInNext = findShownChildInChildrenByKey(nextChildren, key, showProp);\n            if (!showInNext && showInNow) {\n              _this3.keysToLeave.push(key);\n            }\n          } else if (showInNow) {\n            _this3.keysToLeave.push(key);\n          }\n        } else if (!hasNext) {\n          _this3.keysToLeave.push(key);\n        }\n      });\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      var keysToEnter = this.keysToEnter;\n      this.keysToEnter = [];\n      keysToEnter.forEach(this.performEnter);\n      var keysToLeave = this.keysToLeave;\n      this.keysToLeave = [];\n      keysToLeave.forEach(this.performLeave);\n    }\n  }, {\n    key: 'isValidChildByKey',\n    value: function isValidChildByKey(currentChildren, key) {\n      var showProp = this.props.showProp;\n      if (showProp) {\n        return findShownChildInChildrenByKey(currentChildren, key, showProp);\n      }\n      return findChildInChildrenByKey(currentChildren, key);\n    }\n  }, {\n    key: 'stop',\n    value: function stop(key) {\n      delete this.currentlyAnimatingKeys[key];\n      var component = this.childrenRefs[key];\n      if (component) {\n        component.stop();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var props = this.props;\n      this.nextProps = props;\n      var stateChildren = this.state.children;\n      var children = null;\n      if (stateChildren) {\n        children = stateChildren.map(function (child) {\n          if (child === null || child === undefined) {\n            return child;\n          }\n          if (!child.key) {\n            throw new Error('must set key for <rc-animate> children');\n          }\n          return React.createElement(\n            AnimateChild,\n            {\n              key: child.key,\n              ref: function ref(node) {\n                _this4.childrenRefs[child.key] = node;\n              },\n              animation: props.animation,\n              transitionName: props.transitionName,\n              transitionEnter: props.transitionEnter,\n              transitionAppear: props.transitionAppear,\n              transitionLeave: props.transitionLeave\n            },\n            child\n          );\n        });\n      }\n      var Component = props.component;\n      if (Component) {\n        var passedProps = props;\n        if (typeof Component === 'string') {\n          passedProps = _extends({\n            className: props.className,\n            style: props.style\n          }, props.componentProps);\n        }\n        return React.createElement(\n          Component,\n          passedProps,\n          children\n        );\n      }\n      return children[0] || null;\n    }\n  }]);\n\n  return Animate;\n}(React.Component);\n\nAnimate.isAnimate = true;\nAnimate.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object,\n  component: PropTypes.any,\n  componentProps: PropTypes.object,\n  animation: PropTypes.object,\n  transitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  transitionEnter: PropTypes.bool,\n  transitionAppear: PropTypes.bool,\n  exclusive: PropTypes.bool,\n  transitionLeave: PropTypes.bool,\n  onEnd: PropTypes.func,\n  onEnter: PropTypes.func,\n  onLeave: PropTypes.func,\n  onAppear: PropTypes.func,\n  showProp: PropTypes.string,\n  children: PropTypes.node\n};\nAnimate.defaultProps = {\n  animation: {},\n  component: 'span',\n  componentProps: {},\n  transitionEnter: true,\n  transitionLeave: true,\n  transitionAppear: false,\n  onEnd: noop,\n  onEnter: noop,\n  onLeave: noop,\n  onAppear: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.performEnter = function (key) {\n    // may already remove by exclusive\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n      _this5.childrenRefs[key].componentWillEnter(_this5.handleDoneAdding.bind(_this5, key, 'enter'));\n    }\n  };\n\n  this.performAppear = function (key) {\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n      _this5.childrenRefs[key].componentWillAppear(_this5.handleDoneAdding.bind(_this5, key, 'appear'));\n    }\n  };\n\n  this.handleDoneAdding = function (key, type) {\n    var props = _this5.props;\n    delete _this5.currentlyAnimatingKeys[key];\n    // if update on exclusive mode, skip check\n    if (props.exclusive && props !== _this5.nextProps) {\n      return;\n    }\n    var currentChildren = toArrayChildren(getChildrenFromProps(props));\n    if (!_this5.isValidChildByKey(currentChildren, key)) {\n      // exclusive will not need this\n      _this5.performLeave(key);\n    } else if (type === 'appear') {\n      if (animUtil.allowAppearCallback(props)) {\n        props.onAppear(key);\n        props.onEnd(key, true);\n      }\n    } else if (animUtil.allowEnterCallback(props)) {\n      props.onEnter(key);\n      props.onEnd(key, true);\n    }\n  };\n\n  this.performLeave = function (key) {\n    // may already remove by exclusive\n    if (_this5.childrenRefs[key]) {\n      _this5.currentlyAnimatingKeys[key] = true;\n      _this5.childrenRefs[key].componentWillLeave(_this5.handleDoneLeaving.bind(_this5, key));\n    }\n  };\n\n  this.handleDoneLeaving = function (key) {\n    var props = _this5.props;\n    delete _this5.currentlyAnimatingKeys[key];\n    // if update on exclusive mode, skip check\n    if (props.exclusive && props !== _this5.nextProps) {\n      return;\n    }\n    var currentChildren = toArrayChildren(getChildrenFromProps(props));\n    // in case state change is too fast\n    if (_this5.isValidChildByKey(currentChildren, key)) {\n      _this5.performEnter(key);\n    } else {\n      var end = function end() {\n        if (animUtil.allowLeaveCallback(props)) {\n          props.onLeave(key);\n          props.onEnd(key, false);\n        }\n      };\n      if (!isSameChildren(_this5.state.children, currentChildren, props.showProp)) {\n        _this5.setState({\n          children: currentChildren\n        }, end);\n      } else {\n        end();\n      }\n    }\n  };\n};\n\nexport default unsafeLifecyclesPolyfill(Animate);"]}]}
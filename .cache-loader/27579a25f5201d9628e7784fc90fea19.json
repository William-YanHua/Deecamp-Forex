{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/interaction/slider.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/interaction/slider.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _assertThisInitialized(self) { if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n} return self; }\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\nvar Range = require('./component/range');\nvar Chart = require('../chart/chart');\nvar Util = require('../util');\nvar G = require('../renderer');\nvar Global = require('../global');\nvar Interaction = require('./base');\nvar getColDef = require('./helper/get-col-def');\nvar getColDefs = require('./helper/get-col-defs');\nvar Canvas = G.Canvas;\nvar DomUtil = Util.DomUtil, isNumber = Util.isNumber;\nvar Slider = function (_Interaction) {\n    _inheritsLoose(Slider, _Interaction);\n    var _proto = Slider.prototype;\n    _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Interaction.prototype.getDefaultCfg.call(this);\n        return Util.mix({}, cfg, {\n            startEvent: null,\n            processEvent: null,\n            endEvent: null,\n            resetEvent: null,\n            height: 26,\n            width: 'auto',\n            padding: Global.plotCfg.padding,\n            container: null,\n            xAxis: null,\n            yAxis: null,\n            fillerStyle: {\n                fill: '#BDCCED',\n                fillOpacity: 0.3\n            },\n            backgroundStyle: {\n                stroke: '#CCD6EC',\n                fill: '#CCD6EC',\n                fillOpacity: 0.3,\n                lineWidth: 1\n            },\n            range: [0, 100],\n            layout: 'horizontal',\n            textStyle: {\n                fill: '#545454'\n            },\n            handleStyle: {\n                img: 'https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png',\n                width: 5\n            },\n            backgroundChart: {\n                type: ['area'],\n                color: '#CCD6EC'\n            }\n        });\n    };\n    _proto._initContainer = function _initContainer() {\n        var me = this;\n        var container = me.container;\n        if (!container) {\n            throw new Error('Please specify the container for the Slider!');\n        }\n        if (Util.isString(container)) {\n            me.domContainer = document.getElementById(container);\n        }\n        else {\n            me.domContainer = container;\n        }\n    };\n    _proto.forceFit = function forceFit() {\n        var me = this;\n        if (!me || me.destroyed) {\n            return;\n        }\n        var width = DomUtil.getWidth(me.domContainer);\n        var height = me.height;\n        if (width !== me.domWidth) {\n            var canvas = me.canvas;\n            canvas.changeSize(width, height);\n            me.bgChart && me.bgChart.changeWidth(width);\n            canvas.clear();\n            me._initWidth();\n            me._initSlider();\n            me._bindEvent();\n            canvas.draw();\n        }\n    };\n    _proto._initForceFitEvent = function _initForceFitEvent() {\n        var me = this;\n        var timer = setTimeout(Util.wrapBehavior(me, 'forceFit'), 200);\n        clearTimeout(me.resizeTimer);\n        me.resizeTimer = timer;\n    };\n    _proto._initStyle = function _initStyle() {\n        var me = this;\n        me.handleStyle = Util.mix({\n            width: me.height,\n            height: me.height\n        }, me.handleStyle);\n        if (me.width === 'auto') {\n            window.addEventListener('resize', Util.wrapBehavior(me, '_initForceFitEvent'));\n        }\n    };\n    _proto._initWidth = function _initWidth() {\n        var me = this;\n        var width;\n        if (me.width === 'auto') {\n            width = DomUtil.getWidth(me.domContainer);\n        }\n        else {\n            width = me.width;\n        }\n        me.domWidth = width;\n        var padding = Util.toAllPadding(me.padding);\n        if (me.layout === 'horizontal') {\n            me.plotWidth = width - padding[1] - padding[3];\n            me.plotPadding = padding[3];\n            me.plotHeight = me.height;\n        }\n        else if (me.layout === 'vertical') {\n            me.plotWidth = me.width;\n            me.plotHeight = me.height - padding[0] - padding[2];\n            me.plotPadding = padding[0];\n        }\n    };\n    _proto._initCanvas = function _initCanvas() {\n        var me = this;\n        var width = me.domWidth;\n        var height = me.height;\n        var canvas = new Canvas({\n            width: width,\n            height: height,\n            containerDOM: me.domContainer,\n            capture: false\n        });\n        var node = canvas.get('el');\n        node.style.position = 'absolute';\n        node.style.top = 0;\n        node.style.left = 0;\n        node.style.zIndex = 3;\n        me.canvas = canvas;\n    };\n    _proto._initBackground = function _initBackground() {\n        var _Util$deepMix;\n        var me = this;\n        var chart = this.chart;\n        var geom = chart.getAllGeoms[0];\n        var data = me.data = me.data || chart.get('data');\n        var xScale = chart.getXScale();\n        var xAxis = me.xAxis || xScale.field;\n        var yAxis = me.yAxis || chart.getYScales()[0].field;\n        var scales = Util.deepMix((_Util$deepMix = {}, _Util$deepMix[\"\" + xAxis] = {\n            range: [0, 1]\n        }, _Util$deepMix), getColDefs(chart), me.scales);\n        delete scales[xAxis].min;\n        delete scales[xAxis].max;\n        if (!data) {\n            throw new Error('Please specify the data!');\n        }\n        if (!xAxis) {\n            throw new Error('Please specify the xAxis!');\n        }\n        if (!yAxis) {\n            throw new Error('Please specify the yAxis!');\n        }\n        var backgroundChart = me.backgroundChart;\n        var type = backgroundChart.type || geom.get('type');\n        var color = backgroundChart.color || 'grey';\n        var shape = backgroundChart.shape;\n        if (!Util.isArray(type)) {\n            type = [type];\n        }\n        var padding = Util.toAllPadding(me.padding);\n        var bgChart = new Chart({\n            container: me.container,\n            width: me.domWidth,\n            height: me.height,\n            padding: [0, padding[1], 0, padding[3]],\n            animate: false\n        });\n        bgChart.source(data);\n        bgChart.scale(scales);\n        bgChart.axis(false);\n        bgChart.tooltip(false);\n        bgChart.legend(false);\n        Util.each(type, function (eachType, index) {\n            var bgGeom = bgChart[eachType]().position(xAxis + '*' + yAxis).opacity(1);\n            var colorItem = Util.isArray(color) ? color[index] : color;\n            if (colorItem) {\n                if (Util.isObject(colorItem)) {\n                    if (colorItem.field) {\n                        bgGeom.color(colorItem.field, colorItem.colors);\n                    }\n                }\n                else {\n                    bgGeom.color(colorItem);\n                }\n            }\n            var shapeItem = Util.isArray(shape) ? shape[index] : shape;\n            if (shapeItem) {\n                if (Util.isObject(shapeItem)) {\n                    if (shapeItem.field) {\n                        bgGeom.shape(shapeItem.field, shapeItem.callback || shapeItem.shapes);\n                    }\n                }\n                else {\n                    bgGeom.shape(shapeItem);\n                }\n            }\n        });\n        bgChart.render();\n        me.bgChart = bgChart;\n        me.scale = me.layout === 'horizontal' ? bgChart.getXScale() : bgChart.getYScales()[0];\n        if (me.layout === 'vertical') {\n            bgChart.destroy();\n        }\n    };\n    _proto._initRange = function _initRange() {\n        var me = this;\n        var startRadio = me.startRadio;\n        var endRadio = me.endRadio;\n        var start = me._startValue;\n        var end = me._endValue;\n        var scale = me.scale;\n        var min = 0;\n        var max = 1;\n        if (isNumber(startRadio)) {\n            min = startRadio;\n        }\n        else if (start) {\n            min = scale.scale(scale.translate(start));\n        }\n        if (isNumber(endRadio)) {\n            max = endRadio;\n        }\n        else if (end) {\n            max = scale.scale(scale.translate(end));\n        }\n        var minSpan = me.minSpan, maxSpan = me.maxSpan;\n        var totalSpan = 0;\n        if (scale.type === 'time' || scale.type === 'timeCat') {\n            var values = scale.values;\n            var firstValue = values[0];\n            var lastValue = values[values.length - 1];\n            totalSpan = lastValue - firstValue;\n        }\n        else if (scale.isLinear) {\n            totalSpan = scale.max - scale.min;\n        }\n        if (totalSpan && minSpan) {\n            me.minRange = minSpan / totalSpan * 100;\n        }\n        if (totalSpan && maxSpan) {\n            me.maxRange = maxSpan / totalSpan * 100;\n        }\n        var range = [min * 100, max * 100];\n        me.range = range;\n        return range;\n    };\n    _proto._getHandleValue = function _getHandleValue(type) {\n        var me = this;\n        var value;\n        var range = me.range;\n        var min = range[0] / 100;\n        var max = range[1] / 100;\n        var scale = me.scale;\n        if (type === 'min') {\n            value = me._startValue ? me._startValue : scale.invert(min);\n        }\n        else {\n            value = me._endValue ? me._endValue : scale.invert(max);\n        }\n        return value;\n    };\n    _proto._initSlider = function _initSlider() {\n        var me = this;\n        var canvas = me.canvas;\n        var range = me._initRange();\n        var scale = me.scale;\n        var rangeElement = canvas.addGroup(Range, {\n            middleAttr: me.fillerStyle,\n            range: range,\n            minRange: me.minRange,\n            maxRange: me.maxRange,\n            layout: me.layout,\n            width: me.plotWidth,\n            height: me.plotHeight,\n            backgroundStyle: me.backgroundStyle,\n            textStyle: me.textStyle,\n            handleStyle: me.handleStyle,\n            minText: scale.getText(me._getHandleValue('min')),\n            maxText: scale.getText(me._getHandleValue('max'))\n        });\n        if (me.layout === 'horizontal') {\n            rangeElement.translate(me.plotPadding, 0);\n        }\n        else if (me.layout === 'vertical') {\n            rangeElement.translate(0, me.plotPadding);\n        }\n        me.rangeElement = rangeElement;\n    };\n    _proto._updateElement = function _updateElement(minRatio, maxRatio) {\n        var me = this;\n        var chart = me.chart, scale = me.scale, rangeElement = me.rangeElement;\n        var field = scale.field;\n        var minTextElement = rangeElement.get('minTextElement');\n        var maxTextElement = rangeElement.get('maxTextElement');\n        var min = scale.invert(minRatio);\n        var max = scale.invert(maxRatio);\n        var minText = scale.getText(min);\n        var maxText = scale.getText(max);\n        minTextElement.attr('text', minText);\n        maxTextElement.attr('text', maxText);\n        me._startValue = minText;\n        me._endValue = maxText;\n        if (me.onChange) {\n            me.onChange({\n                startText: minText,\n                endText: maxText,\n                startValue: min,\n                endValue: max,\n                startRadio: minRatio,\n                endRadio: maxRatio\n            });\n        }\n        chart.scale(field, Util.mix({}, getColDef(chart, field), {\n            nice: false,\n            min: min,\n            max: max\n        }));\n        chart.repaint();\n    };\n    _proto._bindEvent = function _bindEvent() {\n        var me = this;\n        var rangeElement = me.rangeElement;\n        rangeElement.on('sliderchange', function (ev) {\n            var range = ev.range;\n            var minRatio = range[0] / 100;\n            var maxRatio = range[1] / 100;\n            me._updateElement(minRatio, maxRatio);\n        });\n    };\n    function Slider(cfg, chart) {\n        var _this;\n        _this = _Interaction.call(this, cfg, chart) || this;\n        var me = _assertThisInitialized(_this);\n        me._initContainer();\n        me._initStyle();\n        me.render();\n        return _this;\n    }\n    _proto.clear = function clear() {\n        var me = this;\n        me.canvas.clear();\n        me.bgChart && me.bgChart.destroy();\n        me.bgChart = null;\n        me.scale = null;\n        me.canvas.draw();\n    };\n    _proto.repaint = function repaint() {\n        var me = this;\n        me.clear();\n        me.render();\n    };\n    _proto.render = function render() {\n        var me = this;\n        me._initWidth();\n        me._initCanvas();\n        me._initBackground();\n        me._initSlider();\n        me._bindEvent();\n        me.canvas.draw();\n    };\n    _proto.destroy = function destroy() {\n        var me = this;\n        clearTimeout(me.resizeTimer);\n        var rangeElement = me.rangeElement;\n        rangeElement.off('sliderchange');\n        me.bgChart && me.bgChart.destroy();\n        me.canvas.destroy();\n        var container = me.domContainer;\n        while (container.hasChildNodes()) {\n            container.removeChild(container.firstChild);\n        }\n        window.removeEventListener('resize', Util.getWrapBehavior(me, '_initForceFitEvent'));\n        me.destroyed = true;\n    };\n    return Slider;\n}(Interaction);\nmodule.exports = Slider;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/interaction/slider.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/interaction/slider.js"],"names":[],"mappings":"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","sourcesContent":["function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar Range = require('./component/range');\n\nvar Chart = require('../chart/chart');\n\nvar Util = require('../util');\n\nvar G = require('../renderer');\n\nvar Global = require('../global');\n\nvar Interaction = require('./base');\n\nvar getColDef = require('./helper/get-col-def');\n\nvar getColDefs = require('./helper/get-col-defs');\n\nvar Canvas = G.Canvas;\nvar DomUtil = Util.DomUtil,\n    isNumber = Util.isNumber;\n\nvar Slider = /*#__PURE__*/function (_Interaction) {\n  _inheritsLoose(Slider, _Interaction);\n\n  var _proto = Slider.prototype;\n\n  _proto.getDefaultCfg = function getDefaultCfg() {\n    var cfg = _Interaction.prototype.getDefaultCfg.call(this);\n\n    return Util.mix({}, cfg, {\n      startEvent: null,\n      processEvent: null,\n      endEvent: null,\n      resetEvent: null,\n      height: 26,\n      width: 'auto',\n      // 默认自适应\n      padding: Global.plotCfg.padding,\n      container: null,\n      xAxis: null,\n      yAxis: null,\n      // 选中区域的样式\n      fillerStyle: {\n        fill: '#BDCCED',\n        fillOpacity: 0.3\n      },\n      // 滑动条背景样式\n      backgroundStyle: {\n        stroke: '#CCD6EC',\n        fill: '#CCD6EC',\n        fillOpacity: 0.3,\n        lineWidth: 1\n      },\n      range: [0, 100],\n      layout: 'horizontal',\n      // 文本颜色\n      textStyle: {\n        fill: '#545454'\n      },\n      // 滑块的样式\n      handleStyle: {\n        img: 'https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png',\n        width: 5\n      },\n      // 背景图表的配置，如果为 false 则表示不渲染\n      backgroundChart: {\n        type: ['area'],\n        // 图表的类型，可以是字符串也可是是数组\n        color: '#CCD6EC'\n      }\n    });\n  };\n\n  _proto._initContainer = function _initContainer() {\n    var me = this;\n    var container = me.container;\n\n    if (!container) {\n      throw new Error('Please specify the container for the Slider!');\n    }\n\n    if (Util.isString(container)) {\n      me.domContainer = document.getElementById(container);\n    } else {\n      me.domContainer = container;\n    }\n  };\n\n  _proto.forceFit = function forceFit() {\n    var me = this;\n\n    if (!me || me.destroyed) {\n      return;\n    }\n\n    var width = DomUtil.getWidth(me.domContainer);\n    var height = me.height;\n\n    if (width !== me.domWidth) {\n      var canvas = me.canvas;\n      canvas.changeSize(width, height); // 改变画布尺寸\n\n      me.bgChart && me.bgChart.changeWidth(width);\n      canvas.clear();\n\n      me._initWidth();\n\n      me._initSlider(); // 初始化滑动条\n\n\n      me._bindEvent();\n\n      canvas.draw();\n    }\n  };\n\n  _proto._initForceFitEvent = function _initForceFitEvent() {\n    var me = this;\n    var timer = setTimeout(Util.wrapBehavior(me, 'forceFit'), 200);\n    clearTimeout(me.resizeTimer);\n    me.resizeTimer = timer;\n  };\n\n  _proto._initStyle = function _initStyle() {\n    var me = this;\n    me.handleStyle = Util.mix({\n      width: me.height,\n      height: me.height\n    }, me.handleStyle);\n\n    if (me.width === 'auto') {\n      // 宽度自适应\n      window.addEventListener('resize', Util.wrapBehavior(me, '_initForceFitEvent'));\n    }\n  };\n\n  _proto._initWidth = function _initWidth() {\n    var me = this;\n    var width;\n\n    if (me.width === 'auto') {\n      width = DomUtil.getWidth(me.domContainer);\n    } else {\n      width = me.width;\n    }\n\n    me.domWidth = width;\n    var padding = Util.toAllPadding(me.padding);\n\n    if (me.layout === 'horizontal') {\n      me.plotWidth = width - padding[1] - padding[3];\n      me.plotPadding = padding[3];\n      me.plotHeight = me.height;\n    } else if (me.layout === 'vertical') {\n      me.plotWidth = me.width;\n      me.plotHeight = me.height - padding[0] - padding[2];\n      me.plotPadding = padding[0];\n    }\n  };\n\n  _proto._initCanvas = function _initCanvas() {\n    var me = this;\n    var width = me.domWidth;\n    var height = me.height;\n    var canvas = new Canvas({\n      width: width,\n      height: height,\n      containerDOM: me.domContainer,\n      capture: false\n    });\n    var node = canvas.get('el');\n    node.style.position = 'absolute';\n    node.style.top = 0;\n    node.style.left = 0;\n    node.style.zIndex = 3;\n    me.canvas = canvas;\n  };\n\n  _proto._initBackground = function _initBackground() {\n    var _Util$deepMix;\n\n    var me = this;\n    var chart = this.chart;\n    var geom = chart.getAllGeoms[0];\n    var data = me.data = me.data || chart.get('data');\n    var xScale = chart.getXScale();\n    var xAxis = me.xAxis || xScale.field;\n    var yAxis = me.yAxis || chart.getYScales()[0].field;\n    var scales = Util.deepMix((_Util$deepMix = {}, _Util$deepMix[\"\" + xAxis] = {\n      range: [0, 1]\n    }, _Util$deepMix), getColDefs(chart), me.scales); // 用户列定义\n\n    delete scales[xAxis].min;\n    delete scales[xAxis].max;\n\n    if (!data) {\n      // 没有数据，则不创建\n      throw new Error('Please specify the data!');\n    }\n\n    if (!xAxis) {\n      throw new Error('Please specify the xAxis!');\n    }\n\n    if (!yAxis) {\n      throw new Error('Please specify the yAxis!');\n    }\n\n    var backgroundChart = me.backgroundChart;\n    var type = backgroundChart.type || geom.get('type');\n    var color = backgroundChart.color || 'grey';\n    var shape = backgroundChart.shape;\n\n    if (!Util.isArray(type)) {\n      type = [type];\n    }\n\n    var padding = Util.toAllPadding(me.padding);\n    var bgChart = new Chart({\n      container: me.container,\n      width: me.domWidth,\n      height: me.height,\n      padding: [0, padding[1], 0, padding[3]],\n      animate: false\n    });\n    bgChart.source(data);\n    bgChart.scale(scales);\n    bgChart.axis(false);\n    bgChart.tooltip(false);\n    bgChart.legend(false);\n    Util.each(type, function (eachType, index) {\n      var bgGeom = bgChart[eachType]().position(xAxis + '*' + yAxis).opacity(1);\n      var colorItem = Util.isArray(color) ? color[index] : color;\n\n      if (colorItem) {\n        if (Util.isObject(colorItem)) {\n          // 通过 { field: 'ss', colors: [ ] } 的方式申明color\n          if (colorItem.field) {\n            bgGeom.color(colorItem.field, colorItem.colors);\n          }\n        } else {\n          bgGeom.color(colorItem);\n        }\n      }\n\n      var shapeItem = Util.isArray(shape) ? shape[index] : shape;\n\n      if (shapeItem) {\n        if (Util.isObject(shapeItem)) {\n          // 通过 { field: 'ss', shapes: [ ], callback } 的方式申明shape\n          if (shapeItem.field) {\n            bgGeom.shape(shapeItem.field, shapeItem.callback || shapeItem.shapes);\n          }\n        } else {\n          bgGeom.shape(shapeItem);\n        }\n      }\n    });\n    bgChart.render();\n    me.bgChart = bgChart;\n    me.scale = me.layout === 'horizontal' ? bgChart.getXScale() : bgChart.getYScales()[0];\n\n    if (me.layout === 'vertical') {\n      bgChart.destroy();\n    }\n  };\n\n  _proto._initRange = function _initRange() {\n    var me = this;\n    var startRadio = me.startRadio;\n    var endRadio = me.endRadio;\n    var start = me._startValue;\n    var end = me._endValue;\n    var scale = me.scale;\n    var min = 0;\n    var max = 1; // startRadio 优先级高于 start\n\n    if (isNumber(startRadio)) {\n      min = startRadio;\n    } else if (start) {\n      min = scale.scale(scale.translate(start));\n    } // endRadio 优先级高于 end\n\n\n    if (isNumber(endRadio)) {\n      max = endRadio;\n    } else if (end) {\n      max = scale.scale(scale.translate(end));\n    }\n\n    var minSpan = me.minSpan,\n        maxSpan = me.maxSpan;\n    var totalSpan = 0;\n\n    if (scale.type === 'time' || scale.type === 'timeCat') {\n      // 时间类型已排序\n      var values = scale.values;\n      var firstValue = values[0];\n      var lastValue = values[values.length - 1];\n      totalSpan = lastValue - firstValue;\n    } else if (scale.isLinear) {\n      totalSpan = scale.max - scale.min;\n    }\n\n    if (totalSpan && minSpan) {\n      me.minRange = minSpan / totalSpan * 100;\n    }\n\n    if (totalSpan && maxSpan) {\n      me.maxRange = maxSpan / totalSpan * 100;\n    }\n\n    var range = [min * 100, max * 100];\n    me.range = range;\n    return range;\n  };\n\n  _proto._getHandleValue = function _getHandleValue(type) {\n    var me = this;\n    var value;\n    var range = me.range;\n    var min = range[0] / 100;\n    var max = range[1] / 100;\n    var scale = me.scale;\n\n    if (type === 'min') {\n      value = me._startValue ? me._startValue : scale.invert(min);\n    } else {\n      value = me._endValue ? me._endValue : scale.invert(max);\n    }\n\n    return value;\n  };\n\n  _proto._initSlider = function _initSlider() {\n    var me = this;\n    var canvas = me.canvas;\n\n    var range = me._initRange();\n\n    var scale = me.scale;\n    var rangeElement = canvas.addGroup(Range, {\n      middleAttr: me.fillerStyle,\n      range: range,\n      minRange: me.minRange,\n      maxRange: me.maxRange,\n      layout: me.layout,\n      width: me.plotWidth,\n      height: me.plotHeight,\n      backgroundStyle: me.backgroundStyle,\n      textStyle: me.textStyle,\n      handleStyle: me.handleStyle,\n      minText: scale.getText(me._getHandleValue('min')),\n      maxText: scale.getText(me._getHandleValue('max'))\n    });\n\n    if (me.layout === 'horizontal') {\n      rangeElement.translate(me.plotPadding, 0);\n    } else if (me.layout === 'vertical') {\n      rangeElement.translate(0, me.plotPadding);\n    }\n\n    me.rangeElement = rangeElement;\n  };\n\n  _proto._updateElement = function _updateElement(minRatio, maxRatio) {\n    var me = this;\n    var chart = me.chart,\n        scale = me.scale,\n        rangeElement = me.rangeElement;\n    var field = scale.field;\n    var minTextElement = rangeElement.get('minTextElement');\n    var maxTextElement = rangeElement.get('maxTextElement');\n    var min = scale.invert(minRatio);\n    var max = scale.invert(maxRatio);\n    var minText = scale.getText(min);\n    var maxText = scale.getText(max);\n    minTextElement.attr('text', minText);\n    maxTextElement.attr('text', maxText);\n    me._startValue = minText;\n    me._endValue = maxText;\n\n    if (me.onChange) {\n      me.onChange({\n        startText: minText,\n        endText: maxText,\n        startValue: min,\n        endValue: max,\n        startRadio: minRatio,\n        endRadio: maxRatio\n      });\n    }\n\n    chart.scale(field, Util.mix({}, getColDef(chart, field), {\n      nice: false,\n      min: min,\n      max: max\n    }));\n    chart.repaint();\n  };\n\n  _proto._bindEvent = function _bindEvent() {\n    var me = this;\n    var rangeElement = me.rangeElement;\n    rangeElement.on('sliderchange', function (ev) {\n      var range = ev.range;\n      var minRatio = range[0] / 100;\n      var maxRatio = range[1] / 100;\n\n      me._updateElement(minRatio, maxRatio);\n    });\n  };\n\n  function Slider(cfg, chart) {\n    var _this;\n\n    _this = _Interaction.call(this, cfg, chart) || this;\n\n    var me = _assertThisInitialized(_this);\n\n    me._initContainer();\n\n    me._initStyle();\n\n    me.render();\n    return _this;\n  }\n\n  _proto.clear = function clear() {\n    var me = this;\n    me.canvas.clear();\n    me.bgChart && me.bgChart.destroy();\n    me.bgChart = null;\n    me.scale = null;\n    me.canvas.draw();\n  };\n\n  _proto.repaint = function repaint() {\n    var me = this;\n    me.clear();\n    me.render();\n  };\n\n  _proto.render = function render() {\n    var me = this;\n\n    me._initWidth();\n\n    me._initCanvas();\n\n    me._initBackground();\n\n    me._initSlider();\n\n    me._bindEvent();\n\n    me.canvas.draw();\n  };\n\n  _proto.destroy = function destroy() {\n    var me = this;\n    clearTimeout(me.resizeTimer);\n    var rangeElement = me.rangeElement;\n    rangeElement.off('sliderchange');\n    me.bgChart && me.bgChart.destroy();\n    me.canvas.destroy();\n    var container = me.domContainer;\n\n    while (container.hasChildNodes()) {\n      container.removeChild(container.firstChild);\n    }\n\n    window.removeEventListener('resize', Util.getWrapBehavior(me, '_initForceFitEvent'));\n    me.destroyed = true;\n  };\n\n  return Slider;\n}(Interaction);\n\nmodule.exports = Slider;"]}]}
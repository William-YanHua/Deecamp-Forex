{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\attr\\lib\\color-util.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\attr\\lib\\color-util.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["var isNumber = require('@antv/util/lib/type/is-number');\r\nvar isString = require('@antv/util/lib/type/is-string');\r\nvar each = require('@antv/util/lib/each');\r\nvar RGB_REG = /rgba?\\(([\\s.,0-9]+)\\)/;\r\nfunction createTmp() {\r\n    var i = document.createElement('i');\r\n    i.title = 'Web Colour Picker';\r\n    i.style.display = 'none';\r\n    document.body.appendChild(i);\r\n    return i;\r\n}\r\nfunction getValue(start, end, percent, index) {\r\n    var value = start[index] + (end[index] - start[index]) * percent;\r\n    return value;\r\n}\r\nfunction arr2rgb(arr) {\r\n    return '#' + toHex(arr[0]) + toHex(arr[1]) + toHex(arr[2]);\r\n}\r\nfunction toHex(value) {\r\n    value = Math.round(value);\r\n    value = value.toString(16);\r\n    if (value.length === 1) {\r\n        value = '0' + value;\r\n    }\r\n    return value;\r\n}\r\nfunction calColor(colors, percent) {\r\n    if (isNaN(percent) || !isNumber(percent)) {\r\n        percent = 0;\r\n    }\r\n    var steps = colors.length - 1;\r\n    var step = Math.floor(steps * percent);\r\n    var left = steps * percent - step;\r\n    var start = colors[step];\r\n    var end = step === steps ? start : colors[step + 1];\r\n    var rgb = arr2rgb([getValue(start, end, left, 0), getValue(start, end, left, 1), getValue(start, end, left, 2)]);\r\n    return rgb;\r\n}\r\nfunction rgb2arr(str) {\r\n    var arr = [];\r\n    arr.push(parseInt(str.substr(1, 2), 16));\r\n    arr.push(parseInt(str.substr(3, 2), 16));\r\n    arr.push(parseInt(str.substr(5, 2), 16));\r\n    return arr;\r\n}\r\nvar colorCache = {};\r\nvar iEl = null;\r\nvar ColorUtil = {\r\n    toRGB: function toRGB(color) {\r\n        if (color[0] === '#' && color.length === 7) {\r\n            return color;\r\n        }\r\n        if (!iEl) {\r\n            iEl = createTmp();\r\n        }\r\n        var rst;\r\n        if (colorCache[color]) {\r\n            rst = colorCache[color];\r\n        }\r\n        else {\r\n            iEl.style.color = color;\r\n            rst = document.defaultView.getComputedStyle(iEl, '').getPropertyValue('color');\r\n            var matchs = RGB_REG.exec(rst);\r\n            var cArray = matchs[1].split(/\\s*,\\s*/);\r\n            rst = arr2rgb(cArray);\r\n            colorCache[color] = rst;\r\n        }\r\n        return rst;\r\n    },\r\n    rgb2arr: rgb2arr,\r\n    gradient: function gradient(colors) {\r\n        var points = [];\r\n        if (isString(colors)) {\r\n            colors = colors.split('-');\r\n        }\r\n        each(colors, function (color) {\r\n            if (color.indexOf('#') === -1) {\r\n                color = ColorUtil.toRGB(color);\r\n            }\r\n            points.push(rgb2arr(color));\r\n        });\r\n        return function (percent) {\r\n            return calColor(points, percent);\r\n        };\r\n    }\r\n};\r\nmodule.exports = ColorUtil;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\attr\\lib\\color-util.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\attr\\lib\\color-util.js"],"names":[],"mappings":"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","sourcesContent":["/**\n * @fileOverview 颜色计算的辅助方法\n * @author dxq613@gmail.com\n */\nvar isNumber = require('@antv/util/lib/type/is-number');\n\nvar isString = require('@antv/util/lib/type/is-string');\n\nvar each = require('@antv/util/lib/each'); // const RGB_REG = /rgb\\((\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)/;\n\n\nvar RGB_REG = /rgba?\\(([\\s.,0-9]+)\\)/; // 创建辅助 tag 取颜色\n\nfunction createTmp() {\n  var i = document.createElement('i');\n  i.title = 'Web Colour Picker';\n  i.style.display = 'none';\n  document.body.appendChild(i);\n  return i;\n} // 获取颜色之间的插值\n\n\nfunction getValue(start, end, percent, index) {\n  var value = start[index] + (end[index] - start[index]) * percent;\n  return value;\n} // 数组转换成颜色\n\n\nfunction arr2rgb(arr) {\n  return '#' + toHex(arr[0]) + toHex(arr[1]) + toHex(arr[2]);\n} // 将数值从 0-255 转换成16进制字符串\n\n\nfunction toHex(value) {\n  value = Math.round(value);\n  value = value.toString(16);\n\n  if (value.length === 1) {\n    value = '0' + value;\n  }\n\n  return value;\n}\n\nfunction calColor(colors, percent) {\n  if (isNaN(percent) || !isNumber(percent)) {\n    percent = 0;\n  }\n\n  var steps = colors.length - 1;\n  var step = Math.floor(steps * percent);\n  var left = steps * percent - step;\n  var start = colors[step];\n  var end = step === steps ? start : colors[step + 1];\n  var rgb = arr2rgb([getValue(start, end, left, 0), getValue(start, end, left, 1), getValue(start, end, left, 2)]);\n  return rgb;\n} // rgb 颜色转换成数组\n\n\nfunction rgb2arr(str) {\n  var arr = [];\n  arr.push(parseInt(str.substr(1, 2), 16));\n  arr.push(parseInt(str.substr(3, 2), 16));\n  arr.push(parseInt(str.substr(5, 2), 16));\n  return arr;\n}\n\nvar colorCache = {};\nvar iEl = null;\nvar ColorUtil = {\n  /**\n   * 将颜色转换到 rgb 的格式\n   * @param  {String} color 颜色\n   * @return {String} 将颜色转换到 '#ffffff' 的格式\n   */\n  toRGB: function toRGB(color) {\n    // 如果已经是 rgb的格式\n    if (color[0] === '#' && color.length === 7) {\n      return color;\n    }\n\n    if (!iEl) {\n      // 防止防止在页头报错\n      iEl = createTmp();\n    }\n\n    var rst;\n\n    if (colorCache[color]) {\n      rst = colorCache[color];\n    } else {\n      iEl.style.color = color;\n      rst = document.defaultView.getComputedStyle(iEl, '').getPropertyValue('color');\n      var matchs = RGB_REG.exec(rst);\n      var cArray = matchs[1].split(/\\s*,\\s*/);\n      rst = arr2rgb(cArray);\n      colorCache[color] = rst;\n    }\n\n    return rst;\n  },\n  rgb2arr: rgb2arr,\n\n  /**\n   * 获取渐变函数\n   * @param  {Array} colors 多个颜色\n   * @return {String} 颜色值\n   */\n  gradient: function gradient(colors) {\n    var points = [];\n\n    if (isString(colors)) {\n      colors = colors.split('-');\n    }\n\n    each(colors, function (color) {\n      if (color.indexOf('#') === -1) {\n        color = ColorUtil.toRGB(color);\n      }\n\n      points.push(rgb2arr(color));\n    });\n    return function (percent) {\n      return calColor(points, percent);\n    };\n  }\n};\nmodule.exports = ColorUtil;"]}]}
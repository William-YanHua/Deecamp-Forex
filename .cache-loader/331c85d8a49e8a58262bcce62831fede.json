{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g\\lib\\shapes\\math\\quadratic.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g\\lib\\shapes\\math\\quadratic.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["var Util = require('../../util/index');\r\nvar vec2 = Util.vec2;\r\nfunction quadraticAt(p0, p1, p2, t) {\r\n    var onet = 1 - t;\r\n    return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\r\n}\r\nfunction quadraticProjectPoint(x1, y1, x2, y2, x3, y3, x, y, out) {\r\n    var t;\r\n    var interval = 0.005;\r\n    var d = Infinity;\r\n    var d1;\r\n    var v1;\r\n    var v2;\r\n    var _t;\r\n    var d2;\r\n    var i;\r\n    var EPSILON = 0.0001;\r\n    var v0 = [x, y];\r\n    for (_t = 0; _t < 1; _t += 0.05) {\r\n        v1 = [quadraticAt(x1, x2, x3, _t), quadraticAt(y1, y2, y3, _t)];\r\n        d1 = vec2.squaredDistance(v0, v1);\r\n        if (d1 < d) {\r\n            t = _t;\r\n            d = d1;\r\n        }\r\n    }\r\n    d = Infinity;\r\n    for (i = 0; i < 32; i++) {\r\n        if (interval < EPSILON) {\r\n            break;\r\n        }\r\n        var prev = t - interval;\r\n        var next = t + interval;\r\n        v1 = [quadraticAt(x1, x2, x3, prev), quadraticAt(y1, y2, y3, prev)];\r\n        d1 = vec2.squaredDistance(v0, v1);\r\n        if (prev >= 0 && d1 < d) {\r\n            t = prev;\r\n            d = d1;\r\n        }\r\n        else {\r\n            v2 = [quadraticAt(x1, x2, x3, next), quadraticAt(y1, y2, y3, next)];\r\n            d2 = vec2.squaredDistance(v0, v2);\r\n            if (next <= 1 && d2 < d) {\r\n                t = next;\r\n                d = d2;\r\n            }\r\n            else {\r\n                interval *= 0.5;\r\n            }\r\n        }\r\n    }\r\n    if (out) {\r\n        out.x = quadraticAt(x1, x2, x3, t);\r\n        out.y = quadraticAt(y1, y2, y3, t);\r\n    }\r\n    return Math.sqrt(d);\r\n}\r\nfunction quadraticExtrema(p0, p1, p2) {\r\n    var a = p0 + p2 - 2 * p1;\r\n    if (Util.isNumberEqual(a, 0)) {\r\n        return [0.5];\r\n    }\r\n    var rst = (p0 - p1) / a;\r\n    if (rst <= 1 && rst >= 0) {\r\n        return [rst];\r\n    }\r\n    return [];\r\n}\r\nmodule.exports = {\r\n    at: quadraticAt,\r\n    projectPoint: function projectPoint(x1, y1, x2, y2, x3, y3, x, y) {\r\n        var rst = {};\r\n        quadraticProjectPoint(x1, y1, x2, y2, x3, y3, x, y, rst);\r\n        return rst;\r\n    },\r\n    pointDistance: quadraticProjectPoint,\r\n    extrema: quadraticExtrema\r\n};\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g\\lib\\shapes\\math\\quadratic.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g\\lib\\shapes\\math\\quadratic.js"],"names":[],"mappings":"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","sourcesContent":["var Util = require('../../util/index');\n\nvar vec2 = Util.vec2;\n\nfunction quadraticAt(p0, p1, p2, t) {\n  var onet = 1 - t;\n  return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n}\n\nfunction quadraticProjectPoint(x1, y1, x2, y2, x3, y3, x, y, out) {\n  var t;\n  var interval = 0.005;\n  var d = Infinity;\n  var d1;\n  var v1;\n  var v2;\n\n  var _t;\n\n  var d2;\n  var i;\n  var EPSILON = 0.0001;\n  var v0 = [x, y];\n\n  for (_t = 0; _t < 1; _t += 0.05) {\n    v1 = [quadraticAt(x1, x2, x3, _t), quadraticAt(y1, y2, y3, _t)];\n    d1 = vec2.squaredDistance(v0, v1);\n\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n\n  d = Infinity;\n\n  for (i = 0; i < 32; i++) {\n    if (interval < EPSILON) {\n      break;\n    }\n\n    var prev = t - interval;\n    var next = t + interval;\n    v1 = [quadraticAt(x1, x2, x3, prev), quadraticAt(y1, y2, y3, prev)];\n    d1 = vec2.squaredDistance(v0, v1);\n\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      v2 = [quadraticAt(x1, x2, x3, next), quadraticAt(y1, y2, y3, next)];\n      d2 = vec2.squaredDistance(v0, v2);\n\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  }\n\n  if (out) {\n    out.x = quadraticAt(x1, x2, x3, t);\n    out.y = quadraticAt(y1, y2, y3, t);\n  }\n\n  return Math.sqrt(d);\n}\n\nfunction quadraticExtrema(p0, p1, p2) {\n  var a = p0 + p2 - 2 * p1;\n\n  if (Util.isNumberEqual(a, 0)) {\n    return [0.5];\n  }\n\n  var rst = (p0 - p1) / a;\n\n  if (rst <= 1 && rst >= 0) {\n    return [rst];\n  }\n\n  return [];\n}\n\nmodule.exports = {\n  at: quadraticAt,\n  projectPoint: function projectPoint(x1, y1, x2, y2, x3, y3, x, y) {\n    var rst = {};\n    quadraticProjectPoint(x1, y1, x2, y2, x3, y3, x, y, rst);\n    return rst;\n  },\n  pointDistance: quadraticProjectPoint,\n  extrema: quadraticExtrema\n};"]}]}
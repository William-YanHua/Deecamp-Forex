{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\interaction\\action\\element\\filter.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\interaction\\action\\element\\filter.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import { __extends } from \"tslib\";\r\nimport { each } from '@antv/util';\r\nimport Action from '../base';\r\nimport { getDelegationObject, getElements, getElementValue, getScaleByField, isList, isSlider, isMask, getMaskedElements, } from '../util';\r\nvar ElementFilter = (function (_super) {\r\n    __extends(ElementFilter, _super);\r\n    function ElementFilter() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ElementFilter.prototype.filter = function () {\r\n        var delegateObject = getDelegationObject(this.context);\r\n        var view = this.context.view;\r\n        var elements = getElements(view);\r\n        if (isMask(this.context)) {\r\n            var maskElements_1 = getMaskedElements(this.context, 10);\r\n            if (maskElements_1) {\r\n                each(elements, function (el) {\r\n                    if (maskElements_1.includes(el)) {\r\n                        el.show();\r\n                    }\r\n                    else {\r\n                        el.hide();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        else if (delegateObject) {\r\n            var component = delegateObject.component;\r\n            var field_1 = component.get('field');\r\n            if (isList(delegateObject)) {\r\n                if (field_1) {\r\n                    var unCheckedItems = component.getItemsByState('unchecked');\r\n                    var scale_1 = getScaleByField(view, field_1);\r\n                    var names_1 = unCheckedItems.map(function (item) { return item.name; });\r\n                    each(elements, function (el) {\r\n                        var value = getElementValue(el, field_1);\r\n                        var text = scale_1.getText(value);\r\n                        if (names_1.indexOf(text) >= 0) {\r\n                            el.hide();\r\n                        }\r\n                        else {\r\n                            el.show();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            else if (isSlider(delegateObject)) {\r\n                var range = component.getValue();\r\n                var min_1 = range[0], max_1 = range[1];\r\n                each(elements, function (el) {\r\n                    var value = getElementValue(el, field_1);\r\n                    if (value >= min_1 && value <= max_1) {\r\n                        el.show();\r\n                    }\r\n                    else {\r\n                        el.hide();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n    ElementFilter.prototype.clear = function () {\r\n        var elements = getElements(this.context.view);\r\n        each(elements, function (el) {\r\n            el.show();\r\n        });\r\n    };\r\n    ElementFilter.prototype.reset = function () {\r\n        this.clear();\r\n    };\r\n    return ElementFilter;\r\n}(Action));\r\nexport default ElementFilter;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\interaction\\action\\element\\filter.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\interaction\\action\\element\\filter.js"],"names":[],"mappings":"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","sourcesContent":["import { __extends } from \"tslib\";\nimport { each } from '@antv/util';\nimport Action from '../base';\nimport { getDelegationObject, getElements, getElementValue, getScaleByField, isList, isSlider, isMask, getMaskedElements, } from '../util';\n/**\n * 元素过滤的 Action，控制元素的显示隐藏\n * @ignore\n */\nvar ElementFilter = /** @class */ (function (_super) {\n    __extends(ElementFilter, _super);\n    function ElementFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * 过滤\n     */\n    ElementFilter.prototype.filter = function () {\n        var delegateObject = getDelegationObject(this.context);\n        var view = this.context.view;\n        var elements = getElements(view);\n        if (isMask(this.context)) {\n            var maskElements_1 = getMaskedElements(this.context, 10);\n            if (maskElements_1) {\n                each(elements, function (el) {\n                    if (maskElements_1.includes(el)) {\n                        el.show();\n                    }\n                    else {\n                        el.hide();\n                    }\n                });\n            }\n        }\n        else if (delegateObject) {\n            var component = delegateObject.component;\n            var field_1 = component.get('field');\n            // 列表类的组件能够触发\n            if (isList(delegateObject)) {\n                if (field_1) {\n                    var unCheckedItems = component.getItemsByState('unchecked');\n                    var scale_1 = getScaleByField(view, field_1);\n                    var names_1 = unCheckedItems.map(function (item) { return item.name; });\n                    // 直接控制显示、隐藏\n                    each(elements, function (el) {\n                        var value = getElementValue(el, field_1);\n                        var text = scale_1.getText(value);\n                        if (names_1.indexOf(text) >= 0) {\n                            el.hide();\n                        }\n                        else {\n                            el.show();\n                        }\n                    });\n                }\n            }\n            else if (isSlider(delegateObject)) {\n                var range = component.getValue();\n                var min_1 = range[0], max_1 = range[1];\n                each(elements, function (el) {\n                    var value = getElementValue(el, field_1);\n                    if (value >= min_1 && value <= max_1) {\n                        el.show();\n                    }\n                    else {\n                        el.hide();\n                    }\n                });\n            }\n        }\n    };\n    /**\n     * 清除过滤\n     */\n    ElementFilter.prototype.clear = function () {\n        var elements = getElements(this.context.view);\n        each(elements, function (el) {\n            el.show();\n        });\n    };\n    /**\n     * 恢复发生的过滤，保持同 data-filter 命名的一致\n     */\n    ElementFilter.prototype.reset = function () {\n        this.clear();\n    };\n    return ElementFilter;\n}(Action));\nexport default ElementFilter;\n//# sourceMappingURL=filter.js.map"]}]}
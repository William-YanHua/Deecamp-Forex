{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/adjust/lib/symmetric.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/adjust/lib/symmetric.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\nvar each = require('@antv/util/lib/each');\nvar maxBy = require('@antv/util/lib/math/max-by');\nvar isArray = require('@antv/util/lib/type/is-array');\nvar ArrayUtil = {\n    merge: require('@antv/util/lib/array/merge')\n};\nvar Adjust = require('./base');\nvar Symmetric = function (_Adjust) {\n    _inheritsLoose(Symmetric, _Adjust);\n    function Symmetric() {\n        return _Adjust.apply(this, arguments) || this;\n    }\n    var _proto = Symmetric.prototype;\n    _proto._initDefaultCfg = function _initDefaultCfg() {\n        this.xField = null;\n        this.yField = null;\n        this.cacheMax = null;\n        this.adjustNames = ['y'];\n        this.groupFields = null;\n    };\n    _proto._getMax = function _getMax(dim) {\n        var self = this;\n        var mergeData = self.mergeData;\n        var maxRecord = maxBy(mergeData, function (obj) {\n            var value = obj[dim];\n            if (isArray(value)) {\n                return Math.max.apply(null, value);\n            }\n            return value;\n        });\n        var maxValue = maxRecord[dim];\n        var max = isArray(maxValue) ? Math.max.apply(null, maxValue) : maxValue;\n        return max;\n    };\n    _proto._getXValuesMax = function _getXValuesMax() {\n        var self = this;\n        var yField = self.yField;\n        var xField = self.xField;\n        var cache = {};\n        var mergeData = self.mergeData;\n        each(mergeData, function (obj) {\n            var xValue = obj[xField];\n            var yValue = obj[yField];\n            var max = isArray(yValue) ? Math.max.apply(null, yValue) : yValue;\n            cache[xValue] = cache[xValue] || 0;\n            if (cache[xValue] < max) {\n                cache[xValue] = max;\n            }\n        });\n        return cache;\n    };\n    _proto.processAdjust = function processAdjust(dataArray) {\n        var self = this;\n        var mergeData = ArrayUtil.merge(dataArray);\n        self.mergeData = mergeData;\n        self._processSymmetric(dataArray);\n        self.mergeData = null;\n    };\n    _proto._processSymmetric = function _processSymmetric(dataArray) {\n        var self = this;\n        var xField = self.xField;\n        var yField = self.yField;\n        var max = self._getMax(yField);\n        var first = dataArray[0][0];\n        var cache;\n        if (first && isArray(first[yField])) {\n            cache = self._getXValuesMax();\n        }\n        each(dataArray, function (data) {\n            each(data, function (obj) {\n                var value = obj[yField];\n                var offset;\n                if (isArray(value)) {\n                    var xValue = obj[xField];\n                    var valueMax = cache[xValue];\n                    offset = (max - valueMax) / 2;\n                    var tmp = [];\n                    each(value, function (subVal) {\n                        tmp.push(offset + subVal);\n                    });\n                    obj[yField] = tmp;\n                }\n                else {\n                    offset = (max - value) / 2;\n                    obj[yField] = [offset, value + offset];\n                }\n            });\n        });\n    };\n    return Symmetric;\n}(Adjust);\nAdjust.Symmetric = Symmetric;\nmodule.exports = Symmetric;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/adjust/lib/symmetric.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/adjust/lib/symmetric.js"],"names":[],"mappings":"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","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar each = require('@antv/util/lib/each');\n\nvar maxBy = require('@antv/util/lib/math/max-by');\n\nvar isArray = require('@antv/util/lib/type/is-array');\n\nvar ArrayUtil = {\n  merge: require('@antv/util/lib/array/merge')\n};\n\nvar Adjust = require('./base');\n\nvar Symmetric =\n/*#__PURE__*/\nfunction (_Adjust) {\n  _inheritsLoose(Symmetric, _Adjust);\n\n  function Symmetric() {\n    return _Adjust.apply(this, arguments) || this;\n  }\n\n  var _proto = Symmetric.prototype;\n\n  _proto._initDefaultCfg = function _initDefaultCfg() {\n    this.xField = null; // 调整对应的 x 方向对应的字段名称\n\n    this.yField = null; // 调整对应的 y 方向对应的字段名称\n\n    this.cacheMax = null; // 缓存的最大值\n\n    this.adjustNames = ['y']; // Only support stack y\n\n    this.groupFields = null; // 参与分组的数据维度\n  }; // 获取最大的y值\n\n\n  _proto._getMax = function _getMax(dim) {\n    var self = this;\n    var mergeData = self.mergeData;\n    var maxRecord = maxBy(mergeData, function (obj) {\n      var value = obj[dim];\n\n      if (isArray(value)) {\n        return Math.max.apply(null, value);\n      }\n\n      return value;\n    });\n    var maxValue = maxRecord[dim];\n    var max = isArray(maxValue) ? Math.max.apply(null, maxValue) : maxValue;\n    return max;\n  }; // 获取每个字段最大的值\n\n\n  _proto._getXValuesMax = function _getXValuesMax() {\n    var self = this;\n    var yField = self.yField;\n    var xField = self.xField;\n    var cache = {};\n    var mergeData = self.mergeData;\n    each(mergeData, function (obj) {\n      var xValue = obj[xField];\n      var yValue = obj[yField];\n      var max = isArray(yValue) ? Math.max.apply(null, yValue) : yValue;\n      cache[xValue] = cache[xValue] || 0;\n\n      if (cache[xValue] < max) {\n        cache[xValue] = max;\n      }\n    });\n    return cache;\n  }; // 入口函数\n\n\n  _proto.processAdjust = function processAdjust(dataArray) {\n    var self = this;\n    var mergeData = ArrayUtil.merge(dataArray);\n    self.mergeData = mergeData;\n\n    self._processSymmetric(dataArray);\n\n    self.mergeData = null;\n  }; // 处理对称\n\n\n  _proto._processSymmetric = function _processSymmetric(dataArray) {\n    var self = this;\n    var xField = self.xField;\n    var yField = self.yField;\n\n    var max = self._getMax(yField);\n\n    var first = dataArray[0][0];\n    var cache;\n\n    if (first && isArray(first[yField])) {\n      cache = self._getXValuesMax();\n    }\n\n    each(dataArray, function (data) {\n      each(data, function (obj) {\n        var value = obj[yField];\n        var offset;\n\n        if (isArray(value)) {\n          var xValue = obj[xField];\n          var valueMax = cache[xValue];\n          offset = (max - valueMax) / 2;\n          var tmp = [];\n          /* eslint-disable no-loop-func */\n\n          each(value, function (subVal) {\n            // 多个字段\n            tmp.push(offset + subVal);\n          });\n          /* eslint-enable no-loop-func */\n\n          obj[yField] = tmp;\n        } else {\n          offset = (max - value) / 2;\n          obj[yField] = [offset, value + offset];\n        }\n      });\n    });\n  };\n\n  return Symmetric;\n}(Adjust);\n\nAdjust.Symmetric = Symmetric;\nmodule.exports = Symmetric;"]}]}
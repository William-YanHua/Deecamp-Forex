{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\components\\breadcrumb.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\components\\breadcrumb.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import { __assign, __extends } from \"tslib\";\r\nimport BaseComponent from './base';\r\nimport { move } from '../util/g-util';\r\nvar Breadcrumb = (function (_super) {\r\n    __extends(Breadcrumb, _super);\r\n    function Breadcrumb() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.listeners = [];\r\n        _this.onItemGroupToggleActive = function (itemGroup, active) {\r\n            return function () {\r\n                var rectShape = itemGroup.get('children').find(function (item) { return item.get('class') === 'item-background'; });\r\n                if (rectShape) {\r\n                    rectShape.attr(active ? _this.itemActiveBackgroundStyle : _this.itemBackgroundStyle);\r\n                }\r\n                _this.getCanvas().draw();\r\n            };\r\n        };\r\n        return _this;\r\n    }\r\n    Breadcrumb.prototype.destroy = function () {\r\n        this.offEvents();\r\n        _super.prototype.destroy.call(this);\r\n    };\r\n    Breadcrumb.prototype.initConfig = function (config) {\r\n        this.x = config.x;\r\n        this.y = config.y;\r\n        this.items = config.items || [];\r\n        this.itemPadding = config.itemPadding || [2, 8, 2, 8];\r\n        this.backgroundStyle = __assign({ lineWidth: 1, stroke: '#ffffff' }, (config.backgroundStyle || {}));\r\n        this.itemBackgroundStyle = __assign({ fill: '#fff' }, (config.itemBackgroundStyle || {}));\r\n        this.itemActiveBackgroundStyle = __assign({ fill: '#ccc', opacity: 0.2 }, (config.itemActiveBackgroundStyle || {}));\r\n        this.separator = config.separator || '/';\r\n        this.separatorStyle = __assign({ textBaseline: 'top', fill: '#000000', opacity: 0.45 }, (config.separatorStyle || {}));\r\n        this.itemWidth = config.itemWidth;\r\n        this.itemHeight = config.itemHeight;\r\n        this.maxItemWidth = config.maxItemWidth;\r\n        this.textStyle = __assign({ textBaseline: 'top', fill: '#000000', opacity: 0.45 }, (config.textStyle || {}));\r\n    };\r\n    Breadcrumb.prototype.renderInner = function (group) {\r\n        var startX = 0;\r\n        var startY = 0;\r\n        this.offEvents();\r\n        this.renderItems(group, startX, startY);\r\n        move(this.group, this.x, this.y);\r\n    };\r\n    Breadcrumb.prototype.renderItems = function (group, startX, startY) {\r\n        var _this = this;\r\n        var _a = this.itemPadding, topPadding = _a[0], rightPadding = _a[1], bottomPadding = _a[2], leftPadding = _a[3];\r\n        var itemHeight;\r\n        var backgroundRect = group.addShape('rect', {\r\n            class: 'breadcrumb-background',\r\n            attrs: __assign({ x: startX, y: startY, width: 1, height: 1 }, this.backgroundStyle),\r\n        });\r\n        this.items.forEach(function (item, idx) {\r\n            var itemGroup = group.addGroup({\r\n                id: \"item-group-\" + item.key,\r\n                data: item,\r\n                class: 'item-group',\r\n                attrs: {\r\n                    cursor: 'pointer',\r\n                },\r\n            });\r\n            var rectShape = itemGroup.addShape('rect', {\r\n                id: \"item-background-\" + item.key,\r\n                class: 'item-background',\r\n                attrs: __assign(__assign({ x: startX, y: startY, width: leftPadding + rightPadding, height: topPadding + bottomPadding }, _this.itemBackgroundStyle), { cursor: 'pointer' }),\r\n            });\r\n            rectShape.name = 'breadcrumb';\r\n            var textShape = itemGroup.addShape('text', {\r\n                id: \"item-text-\" + item.key,\r\n                class: 'item-text',\r\n                attrs: __assign(__assign({ x: startX + leftPadding, y: startY + topPadding, text: item.text }, _this.textStyle), { cursor: 'pointer' }),\r\n            });\r\n            textShape.name = 'breadcrumb';\r\n            var textShapeBBox = textShape.getBBox();\r\n            itemHeight = _this.itemHeight || textShapeBBox.height;\r\n            var itemWidth = _this.itemWidth || textShapeBBox.width;\r\n            if (_this.maxItemWidth) {\r\n                itemWidth = Math.min(itemWidth, _this.maxItemWidth);\r\n            }\r\n            var backgroundRectAttr = {\r\n                x: startX,\r\n                y: startY,\r\n                width: itemWidth + leftPadding + rightPadding,\r\n                height: itemHeight + topPadding + bottomPadding,\r\n            };\r\n            rectShape.attr('width', backgroundRectAttr.width);\r\n            rectShape.attr('height', backgroundRectAttr.height);\r\n            itemGroup.setClip({\r\n                type: 'rect',\r\n                attrs: backgroundRectAttr,\r\n            });\r\n            startX += backgroundRectAttr.width;\r\n            if (idx !== _this.items.length - 1) {\r\n                var sepShape = group.addShape('text', {\r\n                    attrs: __assign({ x: startX, y: startY + topPadding, text: _this.separator }, _this.separatorStyle),\r\n                    class: 'separator',\r\n                });\r\n                startX += sepShape.getBBox().width;\r\n            }\r\n        });\r\n        backgroundRect.attr({\r\n            width: startX,\r\n            height: itemHeight + topPadding + bottomPadding,\r\n        });\r\n    };\r\n    Breadcrumb.prototype.bindEvents = function (group) {\r\n        var _this = this;\r\n        var items = this.items;\r\n        var itemGroups = group.get('children').filter(function (item) { return item.get('class') === 'item-group'; });\r\n        var callback = function (event, itemGroup, emitEventName) {\r\n            return function () {\r\n                var key = itemGroup.get('data');\r\n                var item = items.find(function (val) { return val.key === key; });\r\n                _this.emit(emitEventName, {\r\n                    item: item,\r\n                });\r\n            };\r\n        };\r\n        itemGroups.forEach(function (itemGroup) {\r\n            var clickCallback = callback('click', itemGroup, 'onItemClick');\r\n            var dblclickCallback = callback('dblclick', itemGroup, 'onItemDblclick');\r\n            var mouseEnterCallback = _this.onItemGroupToggleActive(itemGroup, true);\r\n            var mouseLeaveCallback = _this.onItemGroupToggleActive(itemGroup, false);\r\n            itemGroup.on('click', clickCallback);\r\n            itemGroup.on('dblclick', dblclickCallback);\r\n            itemGroup.on('mouseenter', mouseEnterCallback);\r\n            itemGroup.on('mouseleave', mouseLeaveCallback);\r\n            _this.listeners.push({ target: itemGroup, event: 'click', callback: clickCallback });\r\n            _this.listeners.push({ target: itemGroup, event: 'dblclick', callback: dblclickCallback });\r\n            _this.listeners.push({ target: itemGroup, event: 'mouseenter', callback: mouseEnterCallback });\r\n            _this.listeners.push({ target: itemGroup, event: 'mouseleave', callback: mouseLeaveCallback });\r\n        });\r\n    };\r\n    Breadcrumb.prototype.offEvents = function () {\r\n        if (this.listeners) {\r\n            this.listeners.forEach(function (_a) {\r\n                var target = _a.target, event = _a.event, callback = _a.callback;\r\n                target.off(event, callback);\r\n            });\r\n        }\r\n        this.listeners = [];\r\n    };\r\n    return Breadcrumb;\r\n}(BaseComponent));\r\nexport default Breadcrumb;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\components\\breadcrumb.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\components\\breadcrumb.js"],"names":[],"mappings":"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","sourcesContent":["import { __assign, __extends } from \"tslib\";\nimport BaseComponent from './base';\nimport { move } from '../util/g-util';\nvar Breadcrumb = /** @class */ (function (_super) {\n    __extends(Breadcrumb, _super);\n    function Breadcrumb() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.listeners = [];\n        _this.onItemGroupToggleActive = function (itemGroup, active) { return function () {\n            var rectShape = itemGroup.get('children').find(function (item) { return item.get('class') === 'item-background'; });\n            if (rectShape) {\n                rectShape.attr(active ? _this.itemActiveBackgroundStyle : _this.itemBackgroundStyle);\n            }\n            _this.getCanvas().draw();\n        }; };\n        return _this;\n    }\n    Breadcrumb.prototype.destroy = function () {\n        this.offEvents();\n        _super.prototype.destroy.call(this);\n    };\n    Breadcrumb.prototype.initConfig = function (config) {\n        this.x = config.x;\n        this.y = config.y;\n        this.items = config.items || [];\n        this.itemPadding = config.itemPadding || [2, 8, 2, 8];\n        this.backgroundStyle = __assign({ lineWidth: 1, stroke: '#ffffff' }, (config.backgroundStyle || {}));\n        this.itemBackgroundStyle = __assign({ fill: '#fff' }, (config.itemBackgroundStyle || {}));\n        this.itemActiveBackgroundStyle = __assign({ fill: '#ccc', opacity: 0.2 }, (config.itemActiveBackgroundStyle || {}));\n        this.separator = config.separator || '/';\n        this.separatorStyle = __assign({ textBaseline: 'top', fill: '#000000', opacity: 0.45 }, (config.separatorStyle || {}));\n        this.itemWidth = config.itemWidth;\n        this.itemHeight = config.itemHeight;\n        this.maxItemWidth = config.maxItemWidth;\n        this.textStyle = __assign({ textBaseline: 'top', fill: '#000000', opacity: 0.45 }, (config.textStyle || {}));\n    };\n    Breadcrumb.prototype.renderInner = function (group) {\n        var startX = 0;\n        var startY = 0;\n        this.offEvents();\n        this.renderItems(group, startX, startY);\n        //this.bindEvents(group);\n        move(this.group, this.x, this.y);\n    };\n    Breadcrumb.prototype.renderItems = function (group, startX, startY) {\n        var _this = this;\n        var _a = this.itemPadding, topPadding = _a[0], rightPadding = _a[1], bottomPadding = _a[2], leftPadding = _a[3];\n        var itemHeight;\n        // background\n        var backgroundRect = group.addShape('rect', {\n            class: 'breadcrumb-background',\n            attrs: __assign({ x: startX, y: startY, width: 1, height: 1 }, this.backgroundStyle),\n        });\n        this.items.forEach(function (item, idx) {\n            // item group\n            var itemGroup = group.addGroup({\n                id: \"item-group-\" + item.key,\n                // data: item.key,\n                data: item,\n                class: 'item-group',\n                attrs: {\n                    cursor: 'pointer',\n                },\n            });\n            // background rect\n            var rectShape = itemGroup.addShape('rect', {\n                id: \"item-background-\" + item.key,\n                class: 'item-background',\n                attrs: __assign(__assign({ x: startX, y: startY, width: leftPadding + rightPadding, height: topPadding + bottomPadding }, _this.itemBackgroundStyle), { cursor: 'pointer' }),\n            });\n            rectShape.name = 'breadcrumb';\n            // text shape\n            var textShape = itemGroup.addShape('text', {\n                id: \"item-text-\" + item.key,\n                class: 'item-text',\n                attrs: __assign(__assign({ x: startX + leftPadding, y: startY + topPadding, text: item.text }, _this.textStyle), { cursor: 'pointer' }),\n            });\n            textShape.name = 'breadcrumb';\n            var textShapeBBox = textShape.getBBox();\n            itemHeight = _this.itemHeight || textShapeBBox.height;\n            var itemWidth = _this.itemWidth || textShapeBBox.width;\n            if (_this.maxItemWidth) {\n                itemWidth = Math.min(itemWidth, _this.maxItemWidth);\n            }\n            // update background rect\n            var backgroundRectAttr = {\n                x: startX,\n                y: startY,\n                width: itemWidth + leftPadding + rightPadding,\n                height: itemHeight + topPadding + bottomPadding,\n            };\n            rectShape.attr('width', backgroundRectAttr.width);\n            rectShape.attr('height', backgroundRectAttr.height);\n            // clip\n            itemGroup.setClip({\n                type: 'rect',\n                attrs: backgroundRectAttr,\n            });\n            startX += backgroundRectAttr.width;\n            // separator\n            if (idx !== _this.items.length - 1) {\n                var sepShape = group.addShape('text', {\n                    attrs: __assign({ x: startX, y: startY + topPadding, text: _this.separator }, _this.separatorStyle),\n                    class: 'separator',\n                });\n                startX += sepShape.getBBox().width;\n            }\n        });\n        // update background\n        backgroundRect.attr({\n            width: startX,\n            height: itemHeight + topPadding + bottomPadding,\n        });\n    };\n    Breadcrumb.prototype.bindEvents = function (group) {\n        var _this = this;\n        var items = this.items;\n        var itemGroups = group.get('children').filter(function (item) { return item.get('class') === 'item-group'; });\n        var callback = function (event, itemGroup, emitEventName) { return function () {\n            var key = itemGroup.get('data');\n            var item = items.find(function (val) { return val.key === key; });\n            _this.emit(emitEventName, {\n                item: item,\n            });\n        }; };\n        itemGroups.forEach(function (itemGroup) {\n            var clickCallback = callback('click', itemGroup, 'onItemClick');\n            var dblclickCallback = callback('dblclick', itemGroup, 'onItemDblclick');\n            var mouseEnterCallback = _this.onItemGroupToggleActive(itemGroup, true);\n            var mouseLeaveCallback = _this.onItemGroupToggleActive(itemGroup, false);\n            itemGroup.on('click', clickCallback);\n            itemGroup.on('dblclick', dblclickCallback);\n            itemGroup.on('mouseenter', mouseEnterCallback);\n            itemGroup.on('mouseleave', mouseLeaveCallback);\n            _this.listeners.push({ target: itemGroup, event: 'click', callback: clickCallback });\n            _this.listeners.push({ target: itemGroup, event: 'dblclick', callback: dblclickCallback });\n            _this.listeners.push({ target: itemGroup, event: 'mouseenter', callback: mouseEnterCallback });\n            _this.listeners.push({ target: itemGroup, event: 'mouseleave', callback: mouseLeaveCallback });\n        });\n    };\n    Breadcrumb.prototype.offEvents = function () {\n        if (this.listeners) {\n            this.listeners.forEach(function (_a) {\n                var target = _a.target, event = _a.event, callback = _a.callback;\n                target.off(event, callback);\n            });\n        }\n        this.listeners = [];\n    };\n    return Breadcrumb;\n}(BaseComponent));\nexport default Breadcrumb;\n//# sourceMappingURL=breadcrumb.js.map"]}]}
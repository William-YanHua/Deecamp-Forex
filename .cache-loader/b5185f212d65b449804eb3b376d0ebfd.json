{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-trigger\\es\\Popup.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-trigger\\es\\Popup.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import _extends from 'babel-runtime/helpers/extends';\r\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\r\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\r\nimport _inherits from 'babel-runtime/helpers/inherits';\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactDOM from 'react-dom';\r\nimport Align from 'rc-align';\r\nimport Animate from 'rc-animate';\r\nimport PopupInner from './PopupInner';\r\nimport LazyRenderBox from './LazyRenderBox';\r\nimport { saveRef } from './utils';\r\nvar Popup = function (_Component) {\r\n    _inherits(Popup, _Component);\r\n    function Popup(props) {\r\n        _classCallCheck(this, Popup);\r\n        var _this = _possibleConstructorReturn(this, _Component.call(this, props));\r\n        _initialiseProps.call(_this);\r\n        _this.state = {\r\n            stretchChecked: false,\r\n            targetWidth: undefined,\r\n            targetHeight: undefined\r\n        };\r\n        _this.savePopupRef = saveRef.bind(_this, 'popupInstance');\r\n        _this.saveAlignRef = saveRef.bind(_this, 'alignInstance');\r\n        return _this;\r\n    }\r\n    Popup.prototype.componentDidMount = function componentDidMount() {\r\n        this.rootNode = this.getPopupDomNode();\r\n        this.setStretchSize();\r\n    };\r\n    Popup.prototype.componentDidUpdate = function componentDidUpdate() {\r\n        this.setStretchSize();\r\n    };\r\n    Popup.prototype.getPopupDomNode = function getPopupDomNode() {\r\n        return ReactDOM.findDOMNode(this.popupInstance);\r\n    };\r\n    Popup.prototype.getMaskTransitionName = function getMaskTransitionName() {\r\n        var props = this.props;\r\n        var transitionName = props.maskTransitionName;\r\n        var animation = props.maskAnimation;\r\n        if (!transitionName && animation) {\r\n            transitionName = props.prefixCls + '-' + animation;\r\n        }\r\n        return transitionName;\r\n    };\r\n    Popup.prototype.getTransitionName = function getTransitionName() {\r\n        var props = this.props;\r\n        var transitionName = props.transitionName;\r\n        if (!transitionName && props.animation) {\r\n            transitionName = props.prefixCls + '-' + props.animation;\r\n        }\r\n        return transitionName;\r\n    };\r\n    Popup.prototype.getClassName = function getClassName(currentAlignClassName) {\r\n        return this.props.prefixCls + ' ' + this.props.className + ' ' + currentAlignClassName;\r\n    };\r\n    Popup.prototype.getPopupElement = function getPopupElement() {\r\n        var _this2 = this;\r\n        var savePopupRef = this.savePopupRef;\r\n        var _state = this.state, stretchChecked = _state.stretchChecked, targetHeight = _state.targetHeight, targetWidth = _state.targetWidth;\r\n        var _props = this.props, align = _props.align, visible = _props.visible, prefixCls = _props.prefixCls, style = _props.style, getClassNameFromAlign = _props.getClassNameFromAlign, destroyPopupOnHide = _props.destroyPopupOnHide, stretch = _props.stretch, children = _props.children, onMouseEnter = _props.onMouseEnter, onMouseLeave = _props.onMouseLeave, onMouseDown = _props.onMouseDown, onTouchStart = _props.onTouchStart;\r\n        var className = this.getClassName(this.currentAlignClassName || getClassNameFromAlign(align));\r\n        var hiddenClassName = prefixCls + '-hidden';\r\n        if (!visible) {\r\n            this.currentAlignClassName = null;\r\n        }\r\n        var sizeStyle = {};\r\n        if (stretch) {\r\n            if (stretch.indexOf('height') !== -1) {\r\n                sizeStyle.height = targetHeight;\r\n            }\r\n            else if (stretch.indexOf('minHeight') !== -1) {\r\n                sizeStyle.minHeight = targetHeight;\r\n            }\r\n            if (stretch.indexOf('width') !== -1) {\r\n                sizeStyle.width = targetWidth;\r\n            }\r\n            else if (stretch.indexOf('minWidth') !== -1) {\r\n                sizeStyle.minWidth = targetWidth;\r\n            }\r\n            if (!stretchChecked) {\r\n                sizeStyle.visibility = 'hidden';\r\n                setTimeout(function () {\r\n                    if (_this2.alignInstance) {\r\n                        _this2.alignInstance.forceAlign();\r\n                    }\r\n                }, 0);\r\n            }\r\n        }\r\n        var newStyle = _extends({}, sizeStyle, style, this.getZIndexStyle());\r\n        var popupInnerProps = {\r\n            className: className,\r\n            prefixCls: prefixCls,\r\n            ref: savePopupRef,\r\n            onMouseEnter: onMouseEnter,\r\n            onMouseLeave: onMouseLeave,\r\n            onMouseDown: onMouseDown,\r\n            onTouchStart: onTouchStart,\r\n            style: newStyle\r\n        };\r\n        if (destroyPopupOnHide) {\r\n            return React.createElement(Animate, {\r\n                component: '',\r\n                exclusive: true,\r\n                transitionAppear: true,\r\n                transitionName: this.getTransitionName()\r\n            }, visible ? React.createElement(Align, {\r\n                target: this.getAlignTarget(),\r\n                key: 'popup',\r\n                ref: this.saveAlignRef,\r\n                monitorWindowResize: true,\r\n                align: align,\r\n                onAlign: this.onAlign\r\n            }, React.createElement(PopupInner, _extends({\r\n                visible: true\r\n            }, popupInnerProps), children)) : null);\r\n        }\r\n        return React.createElement(Animate, {\r\n            component: '',\r\n            exclusive: true,\r\n            transitionAppear: true,\r\n            transitionName: this.getTransitionName(),\r\n            showProp: 'xVisible'\r\n        }, React.createElement(Align, {\r\n            target: this.getAlignTarget(),\r\n            key: 'popup',\r\n            ref: this.saveAlignRef,\r\n            monitorWindowResize: true,\r\n            xVisible: visible,\r\n            childrenProps: { visible: 'xVisible' },\r\n            disabled: !visible,\r\n            align: align,\r\n            onAlign: this.onAlign\r\n        }, React.createElement(PopupInner, _extends({\r\n            hiddenClassName: hiddenClassName\r\n        }, popupInnerProps), children)));\r\n    };\r\n    Popup.prototype.getZIndexStyle = function getZIndexStyle() {\r\n        var style = {};\r\n        var props = this.props;\r\n        if (props.zIndex !== undefined) {\r\n            style.zIndex = props.zIndex;\r\n        }\r\n        return style;\r\n    };\r\n    Popup.prototype.getMaskElement = function getMaskElement() {\r\n        var props = this.props;\r\n        var maskElement = void 0;\r\n        if (props.mask) {\r\n            var maskTransition = this.getMaskTransitionName();\r\n            maskElement = React.createElement(LazyRenderBox, {\r\n                style: this.getZIndexStyle(),\r\n                key: 'mask',\r\n                className: props.prefixCls + '-mask',\r\n                hiddenClassName: props.prefixCls + '-mask-hidden',\r\n                visible: props.visible\r\n            });\r\n            if (maskTransition) {\r\n                maskElement = React.createElement(Animate, {\r\n                    key: 'mask',\r\n                    showProp: 'visible',\r\n                    transitionAppear: true,\r\n                    component: '',\r\n                    transitionName: maskTransition\r\n                }, maskElement);\r\n            }\r\n        }\r\n        return maskElement;\r\n    };\r\n    Popup.prototype.render = function render() {\r\n        return React.createElement('div', null, this.getMaskElement(), this.getPopupElement());\r\n    };\r\n    return Popup;\r\n}(Component);\r\nPopup.propTypes = {\r\n    visible: PropTypes.bool,\r\n    style: PropTypes.object,\r\n    getClassNameFromAlign: PropTypes.func,\r\n    onAlign: PropTypes.func,\r\n    getRootDomNode: PropTypes.func,\r\n    align: PropTypes.any,\r\n    destroyPopupOnHide: PropTypes.bool,\r\n    className: PropTypes.string,\r\n    prefixCls: PropTypes.string,\r\n    onMouseEnter: PropTypes.func,\r\n    onMouseLeave: PropTypes.func,\r\n    onMouseDown: PropTypes.func,\r\n    onTouchStart: PropTypes.func,\r\n    stretch: PropTypes.string,\r\n    children: PropTypes.node,\r\n    point: PropTypes.shape({\r\n        pageX: PropTypes.number,\r\n        pageY: PropTypes.number\r\n    })\r\n};\r\nvar _initialiseProps = function _initialiseProps() {\r\n    var _this3 = this;\r\n    this.onAlign = function (popupDomNode, align) {\r\n        var props = _this3.props;\r\n        var currentAlignClassName = props.getClassNameFromAlign(align);\r\n        if (_this3.currentAlignClassName !== currentAlignClassName) {\r\n            _this3.currentAlignClassName = currentAlignClassName;\r\n            popupDomNode.className = _this3.getClassName(currentAlignClassName);\r\n        }\r\n        props.onAlign(popupDomNode, align);\r\n    };\r\n    this.setStretchSize = function () {\r\n        var _props2 = _this3.props, stretch = _props2.stretch, getRootDomNode = _props2.getRootDomNode, visible = _props2.visible;\r\n        var _state2 = _this3.state, stretchChecked = _state2.stretchChecked, targetHeight = _state2.targetHeight, targetWidth = _state2.targetWidth;\r\n        if (!stretch || !visible) {\r\n            if (stretchChecked) {\r\n                _this3.setState({ stretchChecked: false });\r\n            }\r\n            return;\r\n        }\r\n        var $ele = getRootDomNode();\r\n        if (!$ele)\r\n            return;\r\n        var height = $ele.offsetHeight;\r\n        var width = $ele.offsetWidth;\r\n        if (targetHeight !== height || targetWidth !== width || !stretchChecked) {\r\n            _this3.setState({\r\n                stretchChecked: true,\r\n                targetHeight: height,\r\n                targetWidth: width\r\n            });\r\n        }\r\n    };\r\n    this.getTargetElement = function () {\r\n        return _this3.props.getRootDomNode();\r\n    };\r\n    this.getAlignTarget = function () {\r\n        var point = _this3.props.point;\r\n        if (point) {\r\n            return point;\r\n        }\r\n        return _this3.getTargetElement;\r\n    };\r\n};\r\nexport default Popup;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-trigger\\es\\Popup.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-trigger\\es\\Popup.js"],"names":[],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport Align from 'rc-align';\nimport Animate from 'rc-animate';\nimport PopupInner from './PopupInner';\nimport LazyRenderBox from './LazyRenderBox';\nimport { saveRef } from './utils';\n\nvar Popup = function (_Component) {\n  _inherits(Popup, _Component);\n\n  function Popup(props) {\n    _classCallCheck(this, Popup);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.state = {\n      // Used for stretch\n      stretchChecked: false,\n      targetWidth: undefined,\n      targetHeight: undefined\n    };\n\n    _this.savePopupRef = saveRef.bind(_this, 'popupInstance');\n    _this.saveAlignRef = saveRef.bind(_this, 'alignInstance');\n    return _this;\n  }\n\n  Popup.prototype.componentDidMount = function componentDidMount() {\n    this.rootNode = this.getPopupDomNode();\n    this.setStretchSize();\n  };\n\n  Popup.prototype.componentDidUpdate = function componentDidUpdate() {\n    this.setStretchSize();\n  };\n\n  // Record size if stretch needed\n\n\n  Popup.prototype.getPopupDomNode = function getPopupDomNode() {\n    return ReactDOM.findDOMNode(this.popupInstance);\n  };\n\n  // `target` on `rc-align` can accept as a function to get the bind element or a point.\n  // ref: https://www.npmjs.com/package/rc-align\n\n\n  Popup.prototype.getMaskTransitionName = function getMaskTransitionName() {\n    var props = this.props;\n    var transitionName = props.maskTransitionName;\n    var animation = props.maskAnimation;\n    if (!transitionName && animation) {\n      transitionName = props.prefixCls + '-' + animation;\n    }\n    return transitionName;\n  };\n\n  Popup.prototype.getTransitionName = function getTransitionName() {\n    var props = this.props;\n    var transitionName = props.transitionName;\n    if (!transitionName && props.animation) {\n      transitionName = props.prefixCls + '-' + props.animation;\n    }\n    return transitionName;\n  };\n\n  Popup.prototype.getClassName = function getClassName(currentAlignClassName) {\n    return this.props.prefixCls + ' ' + this.props.className + ' ' + currentAlignClassName;\n  };\n\n  Popup.prototype.getPopupElement = function getPopupElement() {\n    var _this2 = this;\n\n    var savePopupRef = this.savePopupRef;\n    var _state = this.state,\n        stretchChecked = _state.stretchChecked,\n        targetHeight = _state.targetHeight,\n        targetWidth = _state.targetWidth;\n    var _props = this.props,\n        align = _props.align,\n        visible = _props.visible,\n        prefixCls = _props.prefixCls,\n        style = _props.style,\n        getClassNameFromAlign = _props.getClassNameFromAlign,\n        destroyPopupOnHide = _props.destroyPopupOnHide,\n        stretch = _props.stretch,\n        children = _props.children,\n        onMouseEnter = _props.onMouseEnter,\n        onMouseLeave = _props.onMouseLeave,\n        onMouseDown = _props.onMouseDown,\n        onTouchStart = _props.onTouchStart;\n\n    var className = this.getClassName(this.currentAlignClassName || getClassNameFromAlign(align));\n    var hiddenClassName = prefixCls + '-hidden';\n\n    if (!visible) {\n      this.currentAlignClassName = null;\n    }\n\n    var sizeStyle = {};\n    if (stretch) {\n      // Stretch with target\n      if (stretch.indexOf('height') !== -1) {\n        sizeStyle.height = targetHeight;\n      } else if (stretch.indexOf('minHeight') !== -1) {\n        sizeStyle.minHeight = targetHeight;\n      }\n      if (stretch.indexOf('width') !== -1) {\n        sizeStyle.width = targetWidth;\n      } else if (stretch.indexOf('minWidth') !== -1) {\n        sizeStyle.minWidth = targetWidth;\n      }\n\n      // Delay force align to makes ui smooth\n      if (!stretchChecked) {\n        sizeStyle.visibility = 'hidden';\n        setTimeout(function () {\n          if (_this2.alignInstance) {\n            _this2.alignInstance.forceAlign();\n          }\n        }, 0);\n      }\n    }\n\n    var newStyle = _extends({}, sizeStyle, style, this.getZIndexStyle());\n\n    var popupInnerProps = {\n      className: className,\n      prefixCls: prefixCls,\n      ref: savePopupRef,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onMouseDown: onMouseDown,\n      onTouchStart: onTouchStart,\n      style: newStyle\n    };\n    if (destroyPopupOnHide) {\n      return React.createElement(\n        Animate,\n        {\n          component: '',\n          exclusive: true,\n          transitionAppear: true,\n          transitionName: this.getTransitionName()\n        },\n        visible ? React.createElement(\n          Align,\n          {\n            target: this.getAlignTarget(),\n            key: 'popup',\n            ref: this.saveAlignRef,\n            monitorWindowResize: true,\n            align: align,\n            onAlign: this.onAlign\n          },\n          React.createElement(\n            PopupInner,\n            _extends({\n              visible: true\n            }, popupInnerProps),\n            children\n          )\n        ) : null\n      );\n    }\n\n    return React.createElement(\n      Animate,\n      {\n        component: '',\n        exclusive: true,\n        transitionAppear: true,\n        transitionName: this.getTransitionName(),\n        showProp: 'xVisible'\n      },\n      React.createElement(\n        Align,\n        {\n          target: this.getAlignTarget(),\n          key: 'popup',\n          ref: this.saveAlignRef,\n          monitorWindowResize: true,\n          xVisible: visible,\n          childrenProps: { visible: 'xVisible' },\n          disabled: !visible,\n          align: align,\n          onAlign: this.onAlign\n        },\n        React.createElement(\n          PopupInner,\n          _extends({\n            hiddenClassName: hiddenClassName\n          }, popupInnerProps),\n          children\n        )\n      )\n    );\n  };\n\n  Popup.prototype.getZIndexStyle = function getZIndexStyle() {\n    var style = {};\n    var props = this.props;\n    if (props.zIndex !== undefined) {\n      style.zIndex = props.zIndex;\n    }\n    return style;\n  };\n\n  Popup.prototype.getMaskElement = function getMaskElement() {\n    var props = this.props;\n    var maskElement = void 0;\n    if (props.mask) {\n      var maskTransition = this.getMaskTransitionName();\n      maskElement = React.createElement(LazyRenderBox, {\n        style: this.getZIndexStyle(),\n        key: 'mask',\n        className: props.prefixCls + '-mask',\n        hiddenClassName: props.prefixCls + '-mask-hidden',\n        visible: props.visible\n      });\n      if (maskTransition) {\n        maskElement = React.createElement(\n          Animate,\n          {\n            key: 'mask',\n            showProp: 'visible',\n            transitionAppear: true,\n            component: '',\n            transitionName: maskTransition\n          },\n          maskElement\n        );\n      }\n    }\n    return maskElement;\n  };\n\n  Popup.prototype.render = function render() {\n    return React.createElement(\n      'div',\n      null,\n      this.getMaskElement(),\n      this.getPopupElement()\n    );\n  };\n\n  return Popup;\n}(Component);\n\nPopup.propTypes = {\n  visible: PropTypes.bool,\n  style: PropTypes.object,\n  getClassNameFromAlign: PropTypes.func,\n  onAlign: PropTypes.func,\n  getRootDomNode: PropTypes.func,\n  align: PropTypes.any,\n  destroyPopupOnHide: PropTypes.bool,\n  className: PropTypes.string,\n  prefixCls: PropTypes.string,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  stretch: PropTypes.string,\n  children: PropTypes.node,\n  point: PropTypes.shape({\n    pageX: PropTypes.number,\n    pageY: PropTypes.number\n  })\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onAlign = function (popupDomNode, align) {\n    var props = _this3.props;\n    var currentAlignClassName = props.getClassNameFromAlign(align);\n    // FIX: https://github.com/react-component/trigger/issues/56\n    // FIX: https://github.com/react-component/tooltip/issues/79\n    if (_this3.currentAlignClassName !== currentAlignClassName) {\n      _this3.currentAlignClassName = currentAlignClassName;\n      popupDomNode.className = _this3.getClassName(currentAlignClassName);\n    }\n    props.onAlign(popupDomNode, align);\n  };\n\n  this.setStretchSize = function () {\n    var _props2 = _this3.props,\n        stretch = _props2.stretch,\n        getRootDomNode = _props2.getRootDomNode,\n        visible = _props2.visible;\n    var _state2 = _this3.state,\n        stretchChecked = _state2.stretchChecked,\n        targetHeight = _state2.targetHeight,\n        targetWidth = _state2.targetWidth;\n\n\n    if (!stretch || !visible) {\n      if (stretchChecked) {\n        _this3.setState({ stretchChecked: false });\n      }\n      return;\n    }\n\n    var $ele = getRootDomNode();\n    if (!$ele) return;\n\n    var height = $ele.offsetHeight;\n    var width = $ele.offsetWidth;\n\n    if (targetHeight !== height || targetWidth !== width || !stretchChecked) {\n      _this3.setState({\n        stretchChecked: true,\n        targetHeight: height,\n        targetWidth: width\n      });\n    }\n  };\n\n  this.getTargetElement = function () {\n    return _this3.props.getRootDomNode();\n  };\n\n  this.getAlignTarget = function () {\n    var point = _this3.props.point;\n\n    if (point) {\n      return point;\n    }\n    return _this3.getTargetElement;\n  };\n};\n\nexport default Popup;"]}]}
{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\scale\\lib\\linear.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\scale\\lib\\linear.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\r\nvar isNil = require('@antv/util/lib/type/is-nil');\r\nvar each = require('@antv/util/lib/each');\r\nvar Base = require('./base');\r\nvar numberAuto = require('./auto/number');\r\nvar Linear = function (_Base) {\r\n    _inheritsLoose(Linear, _Base);\r\n    function Linear() {\r\n        return _Base.apply(this, arguments) || this;\r\n    }\r\n    var _proto = Linear.prototype;\r\n    _proto._initDefaultCfg = function _initDefaultCfg() {\r\n        _Base.prototype._initDefaultCfg.call(this);\r\n        var self = this;\r\n        self.type = 'linear';\r\n        self.isLinear = true;\r\n        self.nice = false;\r\n        self.min = null;\r\n        self.minLimit = null;\r\n        self.max = null;\r\n        self.maxLimit = null;\r\n        self.tickCount = null;\r\n        self.tickInterval = null;\r\n        self.minTickInterval = null;\r\n        self.snapArray = null;\r\n    };\r\n    _proto.init = function init() {\r\n        var self = this;\r\n        if (!self.ticks) {\r\n            self.min = self.translate(self.min);\r\n            self.max = self.translate(self.max);\r\n            self.initTicks();\r\n        }\r\n        else {\r\n            var ticks = self.ticks;\r\n            var firstValue = self.translate(ticks[0]);\r\n            var lastValue = self.translate(ticks[ticks.length - 1]);\r\n            if (isNil(self.min) || self.min > firstValue) {\r\n                self.min = firstValue;\r\n            }\r\n            if (isNil(self.max) || self.max < lastValue) {\r\n                self.max = lastValue;\r\n            }\r\n        }\r\n    };\r\n    _proto.calculateTicks = function calculateTicks() {\r\n        var min = this.min, max = this.max, minLimit = this.minLimit, maxLimit = this.maxLimit, tickCount = this.tickCount, tickInterval = this.tickInterval, minTickInterval = this.minTickInterval, snapArray = this.snapArray;\r\n        if (tickCount === 1) {\r\n            throw new Error('linear scale\\'tickCount should not be 1');\r\n        }\r\n        if (max < min) {\r\n            throw new Error(\"max: \" + max + \" should not be less than min: \" + min);\r\n        }\r\n        var tmp = numberAuto({\r\n            min: min,\r\n            max: max,\r\n            minLimit: minLimit,\r\n            maxLimit: maxLimit,\r\n            minCount: tickCount,\r\n            maxCount: tickCount,\r\n            interval: tickInterval,\r\n            minTickInterval: minTickInterval,\r\n            snapArray: snapArray\r\n        });\r\n        return tmp.ticks;\r\n    };\r\n    _proto.initTicks = function initTicks() {\r\n        var self = this;\r\n        var calTicks = self.calculateTicks();\r\n        if (self.nice) {\r\n            self.ticks = calTicks;\r\n            self.min = calTicks[0];\r\n            self.max = calTicks[calTicks.length - 1];\r\n        }\r\n        else {\r\n            var ticks = [];\r\n            each(calTicks, function (tick) {\r\n                if (tick >= self.min && tick <= self.max) {\r\n                    ticks.push(tick);\r\n                }\r\n            });\r\n            if (!ticks.length) {\r\n                ticks.push(self.min);\r\n                ticks.push(self.max);\r\n            }\r\n            self.ticks = ticks;\r\n        }\r\n    };\r\n    _proto.scale = function scale(value) {\r\n        if (isNil(value)) {\r\n            return NaN;\r\n        }\r\n        var max = this.max;\r\n        var min = this.min;\r\n        if (max === min) {\r\n            return 0;\r\n        }\r\n        var percent = (value - min) / (max - min);\r\n        var rangeMin = this.rangeMin();\r\n        var rangeMax = this.rangeMax();\r\n        return rangeMin + percent * (rangeMax - rangeMin);\r\n    };\r\n    _proto.invert = function invert(value) {\r\n        var percent = (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\r\n        return this.min + percent * (this.max - this.min);\r\n    };\r\n    return Linear;\r\n}(Base);\r\nBase.Linear = Linear;\r\nmodule.exports = Linear;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\scale\\lib\\linear.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\scale\\lib\\linear.js"],"names":[],"mappings":"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","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/**\n * @fileOverview The measurement of linear data scale function\n * @author dxq613@gmail.com\n */\nvar isNil = require('@antv/util/lib/type/is-nil');\n\nvar each = require('@antv/util/lib/each');\n\nvar Base = require('./base');\n\nvar numberAuto = require('./auto/number');\n/**\n * 线性度量\n * @class Scale.Linear\n */\n\n\nvar Linear =\n/*#__PURE__*/\nfunction (_Base) {\n  _inheritsLoose(Linear, _Base);\n\n  function Linear() {\n    return _Base.apply(this, arguments) || this;\n  }\n\n  var _proto = Linear.prototype;\n\n  _proto._initDefaultCfg = function _initDefaultCfg() {\n    _Base.prototype._initDefaultCfg.call(this);\n\n    var self = this;\n    self.type = 'linear';\n    self.isLinear = true;\n    /**\n     * 是否为了用户习惯，优化min,max和ticks，如果进行优化，则会根据生成的ticks调整min,max，否则舍弃(min,max)范围之外的ticks\n     * @type {Boolean}\n     * @default false\n     */\n\n    self.nice = false;\n    /**\n     * min value of the scale\n     * @type {Number}\n     * @default null\n     */\n\n    self.min = null;\n    /**\n     * min value limitted of the scale\n     * @type {Number}\n     * @default null\n     */\n\n    self.minLimit = null;\n    /**\n     * max value of the scale\n     * @type {Number}\n     * @default null\n     */\n\n    self.max = null;\n    /**\n     * max value limitted of the scale\n     * @type {Number}\n     * @default null\n     */\n\n    self.maxLimit = null;\n    /**\n     * 自动生成标记时的个数\n     * @type {Number}\n     * @default null\n     */\n\n    self.tickCount = null;\n    /**\n     * 坐标轴点之间的间距，指的是真实数据的差值\n     * @type {Number}\n     * @default null\n     */\n\n    self.tickInterval = null;\n    /**\n     * 坐标轴点之间的最小间距，指的是真实数据的差值\n     * @type {Number}\n     * @default null\n     */\n\n    self.minTickInterval = null;\n    /**\n     * 用于计算坐标点时逼近的数组\n     * @type {Array}\n     */\n\n    self.snapArray = null;\n  };\n  /**\n   * @protected\n   * @override\n   */\n\n\n  _proto.init = function init() {\n    var self = this;\n\n    if (!self.ticks) {\n      self.min = self.translate(self.min);\n      self.max = self.translate(self.max);\n      self.initTicks();\n    } else {\n      var ticks = self.ticks;\n      var firstValue = self.translate(ticks[0]);\n      var lastValue = self.translate(ticks[ticks.length - 1]);\n\n      if (isNil(self.min) || self.min > firstValue) {\n        self.min = firstValue;\n      }\n\n      if (isNil(self.max) || self.max < lastValue) {\n        self.max = lastValue;\n      }\n    }\n  };\n  /**\n   * 计算坐标点\n   * @protected\n   * @return {Array} 计算完成的坐标点\n   */\n\n\n  _proto.calculateTicks = function calculateTicks() {\n    var min = this.min,\n        max = this.max,\n        minLimit = this.minLimit,\n        maxLimit = this.maxLimit,\n        tickCount = this.tickCount,\n        tickInterval = this.tickInterval,\n        minTickInterval = this.minTickInterval,\n        snapArray = this.snapArray;\n\n    if (tickCount === 1) {\n      throw new Error('linear scale\\'tickCount should not be 1');\n    }\n\n    if (max < min) {\n      throw new Error(\"max: \" + max + \" should not be less than min: \" + min);\n    }\n\n    var tmp = numberAuto({\n      min: min,\n      max: max,\n      minLimit: minLimit,\n      maxLimit: maxLimit,\n      minCount: tickCount,\n      maxCount: tickCount,\n      interval: tickInterval,\n      minTickInterval: minTickInterval,\n      snapArray: snapArray\n    });\n    return tmp.ticks;\n  }; // 初始化ticks\n\n\n  _proto.initTicks = function initTicks() {\n    var self = this;\n    var calTicks = self.calculateTicks();\n\n    if (self.nice) {\n      // 如果需要优化显示的tick\n      self.ticks = calTicks;\n      self.min = calTicks[0];\n      self.max = calTicks[calTicks.length - 1];\n    } else {\n      var ticks = [];\n      each(calTicks, function (tick) {\n        if (tick >= self.min && tick <= self.max) {\n          ticks.push(tick);\n        }\n      }); // 如果 ticks 为空，直接输入最小值、最大值\n\n      if (!ticks.length) {\n        ticks.push(self.min);\n        ticks.push(self.max);\n      }\n\n      self.ticks = ticks;\n    }\n  };\n  /**\n   * @override\n   */\n\n\n  _proto.scale = function scale(value) {\n    if (isNil(value)) {\n      return NaN;\n    }\n\n    var max = this.max;\n    var min = this.min;\n\n    if (max === min) {\n      return 0;\n    }\n\n    var percent = (value - min) / (max - min);\n    var rangeMin = this.rangeMin();\n    var rangeMax = this.rangeMax();\n    return rangeMin + percent * (rangeMax - rangeMin);\n  };\n  /**\n   * @override\n   */\n\n\n  _proto.invert = function invert(value) {\n    var percent = (value - this.rangeMin()) / (this.rangeMax() - this.rangeMin());\n    return this.min + percent * (this.max - this.min);\n  };\n\n  return Linear;\n}(Base);\n\nBase.Linear = Linear;\nmodule.exports = Linear;"]}]}
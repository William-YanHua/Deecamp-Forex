{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\util\\scale.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\util\\scale.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import { isNil, isNumber, filter } from '@antv/util';\r\nimport { timeIntervals } from '../interface/config';\r\nfunction adjustTimeTickInterval(interval) {\r\n    var intervals = timeIntervals;\r\n    var intervalArr = interval.split(' ');\r\n    var basicInterval = intervals[intervalArr[1]];\r\n    var intervalCount = parseInt(intervalArr[0], 10);\r\n    return [basicInterval.format, intervalCount * basicInterval.value];\r\n}\r\nexport function extractScale(desScale, axisConfig) {\r\n    if (!axisConfig) {\r\n        return desScale;\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickCount')) {\r\n        desScale.tickCount = axisConfig.tickCount;\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'type')) {\r\n        if (axisConfig.type !== 'dateTime') {\r\n            desScale.type = axisConfig.type;\r\n        }\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickInterval')) {\r\n        if (axisConfig.type === 'time') {\r\n            desScale.tickInterval = adjustTimeTickInterval(axisConfig.tickInterval);\r\n        }\r\n        else {\r\n            desScale.tickInterval = axisConfig.tickInterval;\r\n        }\r\n    }\r\n    if (axisConfig.type === 'time' && axisConfig.mask) {\r\n        desScale.mask = axisConfig.mask;\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'min')) {\r\n        desScale.min = axisConfig.min;\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'max')) {\r\n        desScale.max = axisConfig.max;\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'minLimit')) {\r\n        desScale.minLimit = axisConfig.minLimit;\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'maxLimit')) {\r\n        desScale.maxLimit = axisConfig.maxLimit;\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'nice')) {\r\n        desScale.nice = axisConfig.nice;\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'formatter')) {\r\n        desScale.formatter = axisConfig.formatter;\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'exponent')) {\r\n        desScale.exponent = axisConfig.exponent;\r\n    }\r\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'base')) {\r\n        desScale.base = axisConfig.base;\r\n    }\r\n    if (axisConfig.tickMethod) {\r\n        desScale.tickMethod = axisConfig.tickMethod;\r\n    }\r\n}\r\nexport function trySetScaleMinToZero(desScale, data) {\r\n    var validData = filter(data, function (v) { return isNumber(v); });\r\n    var min = Math.min.apply(Math, validData);\r\n    var max = Math.max.apply(Math, validData);\r\n    if (min > 0) {\r\n        if (isNil(desScale.min)) {\r\n            desScale.min = 0;\r\n        }\r\n    }\r\n    else if (max < 0) {\r\n        if (isNil(desScale.max)) {\r\n            desScale.max = 0;\r\n        }\r\n    }\r\n}\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\util\\scale.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\util\\scale.js"],"names":[],"mappings":"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","sourcesContent":["import { isNil, isNumber, filter } from '@antv/util';\nimport { timeIntervals } from '../interface/config';\nfunction adjustTimeTickInterval(interval) {\n    var intervals = timeIntervals;\n    var intervalArr = interval.split(' ');\n    var basicInterval = intervals[intervalArr[1]];\n    var intervalCount = parseInt(intervalArr[0], 10);\n    return [basicInterval.format, intervalCount * basicInterval.value];\n}\nexport function extractScale(desScale, axisConfig) {\n    if (!axisConfig) {\n        return desScale;\n    }\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickCount')) {\n        desScale.tickCount = axisConfig.tickCount;\n    }\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'type')) {\n        // fixme: dateTime plot层处理\n        if (axisConfig.type !== 'dateTime') {\n            desScale.type = axisConfig.type;\n        }\n    }\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'tickInterval')) {\n        if (axisConfig.type === 'time') {\n            desScale.tickInterval = adjustTimeTickInterval(axisConfig.tickInterval);\n        }\n        else {\n            desScale.tickInterval = axisConfig.tickInterval;\n        }\n    }\n    if (axisConfig.type === 'time' && axisConfig.mask) {\n        desScale.mask = axisConfig.mask;\n    }\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'min')) {\n        desScale.min = axisConfig.min;\n    }\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'max')) {\n        desScale.max = axisConfig.max;\n    }\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'minLimit')) {\n        desScale.minLimit = axisConfig.minLimit;\n    }\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'maxLimit')) {\n        desScale.maxLimit = axisConfig.maxLimit;\n    }\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'nice')) {\n        desScale.nice = axisConfig.nice;\n    }\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'formatter')) {\n        desScale.formatter = axisConfig.formatter;\n    }\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'exponent')) {\n        desScale.exponent = axisConfig.exponent;\n    }\n    if (Object.prototype.hasOwnProperty.call(axisConfig, 'base')) {\n        desScale.base = axisConfig.base;\n    }\n    if (axisConfig.tickMethod) {\n        desScale.tickMethod = axisConfig.tickMethod;\n    }\n}\nexport function trySetScaleMinToZero(desScale, data) {\n    var validData = filter(data, function (v) { return isNumber(v); });\n    var min = Math.min.apply(Math, validData);\n    var max = Math.max.apply(Math, validData);\n    if (min > 0) {\n        if (isNil(desScale.min)) {\n            desScale.min = 0;\n        }\n    }\n    else if (max < 0) {\n        if (isNil(desScale.max)) {\n            desScale.max = 0;\n        }\n    }\n}\n//# sourceMappingURL=scale.js.map"]}]}
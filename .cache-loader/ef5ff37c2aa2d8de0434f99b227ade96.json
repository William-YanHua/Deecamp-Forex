{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\guide\\html.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\guide\\html.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\r\nvar Util = require('../util');\r\nvar DomUtil = Util.DomUtil;\r\nvar Guide = require('./base');\r\nvar Html = function (_Guide) {\r\n    _inheritsLoose(Html, _Guide);\r\n    function Html() {\r\n        return _Guide.apply(this, arguments) || this;\r\n    }\r\n    var _proto = Html.prototype;\r\n    _proto.getDefaultCfg = function getDefaultCfg() {\r\n        var cfg = _Guide.prototype.getDefaultCfg.call(this);\r\n        return Util.mix({}, cfg, {\r\n            name: 'html',\r\n            zIndex: 7,\r\n            position: null,\r\n            alignX: 'middle',\r\n            alignY: 'middle',\r\n            offsetX: null,\r\n            offsetY: null,\r\n            html: null\r\n        });\r\n    };\r\n    _proto.render = function render(coord, container) {\r\n        var self = this;\r\n        var position = self.parsePoint(coord, self.get('position'));\r\n        var parentNode = container.get('canvas').get('el').parentNode;\r\n        var wrapperNode = DomUtil.createDom('<div class=\"g-guide\"></div>');\r\n        parentNode.appendChild(wrapperNode);\r\n        var html = self.get('htmlContent') || self.get('html');\r\n        if (Util.isFunction(html)) {\r\n            var xScales = self.get('xScales');\r\n            var yScales = self.get('yScales');\r\n            html = html(xScales, yScales);\r\n        }\r\n        var htmlNode = DomUtil.createDom(html);\r\n        wrapperNode.appendChild(htmlNode);\r\n        self._setDomPosition(wrapperNode, htmlNode, position);\r\n        self.set('el', wrapperNode);\r\n    };\r\n    _proto._setDomPosition = function _setDomPosition(parentDom, childDom, point) {\r\n        var self = this;\r\n        var alignX = self.get('alignX');\r\n        var alignY = self.get('alignY');\r\n        var domWidth = DomUtil.getOuterWidth(childDom);\r\n        var domHeight = DomUtil.getOuterHeight(childDom);\r\n        var position = {\r\n            x: point.x,\r\n            y: point.y\r\n        };\r\n        if (alignX === 'middle' && alignY === 'top') {\r\n            position.x -= Math.round(domWidth / 2);\r\n        }\r\n        else if (alignX === 'middle' && alignY === 'bottom') {\r\n            position.x -= Math.round(domWidth / 2);\r\n            position.y -= Math.round(domHeight);\r\n        }\r\n        else if (alignX === 'left' && alignY === 'bottom') {\r\n            position.y -= Math.round(domHeight);\r\n        }\r\n        else if (alignX === 'left' && alignY === 'middle') {\r\n            position.y -= Math.round(domHeight / 2);\r\n        }\r\n        else if (alignX === 'left' && alignY === 'top') {\r\n            position.x = point.x;\r\n            position.y = point.y;\r\n        }\r\n        else if (alignX === 'right' && alignY === 'bottom') {\r\n            position.x -= Math.round(domWidth);\r\n            position.y -= Math.round(domHeight);\r\n        }\r\n        else if (alignX === 'right' && alignY === 'middle') {\r\n            position.x -= Math.round(domWidth);\r\n            position.y -= Math.round(domHeight / 2);\r\n        }\r\n        else if (alignX === 'right' && alignY === 'top') {\r\n            position.x -= Math.round(domWidth);\r\n        }\r\n        else {\r\n            position.x -= Math.round(domWidth / 2);\r\n            position.y -= Math.round(domHeight / 2);\r\n        }\r\n        var offsetX = self.get('offsetX');\r\n        if (offsetX) {\r\n            position.x += offsetX;\r\n        }\r\n        var offsetY = self.get('offsetY');\r\n        if (offsetY) {\r\n            position.y += offsetY;\r\n        }\r\n        DomUtil.modifyCSS(parentDom, {\r\n            position: 'absolute',\r\n            top: Math.round(position.y) + 'px',\r\n            left: Math.round(position.x) + 'px',\r\n            visibility: 'visible',\r\n            zIndex: self.get('zIndex')\r\n        });\r\n    };\r\n    _proto.clear = function clear() {\r\n        var self = this;\r\n        var el = self.get('el');\r\n        el && el.parentNode && el.parentNode.removeChild(el);\r\n    };\r\n    return Html;\r\n}(Guide);\r\nmodule.exports = Html;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\guide\\html.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\component\\lib\\guide\\html.js"],"names":[],"mappings":"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","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar Util = require('../util');\n\nvar DomUtil = Util.DomUtil;\n\nvar Guide = require('./base');\n\nvar Html =\n/*#__PURE__*/\nfunction (_Guide) {\n  _inheritsLoose(Html, _Guide);\n\n  function Html() {\n    return _Guide.apply(this, arguments) || this;\n  }\n\n  var _proto = Html.prototype;\n\n  _proto.getDefaultCfg = function getDefaultCfg() {\n    var cfg = _Guide.prototype.getDefaultCfg.call(this);\n\n    return Util.mix({}, cfg, {\n      name: 'html',\n      zIndex: 7,\n      position: null,\n\n      /**\n       * Horizontal alignment, can be 'left'、'middle'、'right'\n       * @type {String}\n       */\n      alignX: 'middle',\n\n      /**\n       * vertical alignment, can be 'top'、'middle'、'bottom'\n       * @type {String}\n       */\n      alignY: 'middle',\n\n      /**\n       * Horizontal offset\n       * @type {Number}\n       */\n      offsetX: null,\n\n      /**\n       * Vertical offset\n       * @type {Number}\n       */\n      offsetY: null,\n\n      /**\n      * html content\n      *@type {String | Function}\n      */\n      html: null\n    });\n  };\n  /**\n   * render Html Guide\n   * @override\n   * @param {Coordinate} coord the instance of Coordinate class\n   * @param {Container} container the container which contain the guide component\n   */\n\n\n  _proto.render = function render(coord, container) {\n    var self = this;\n    var position = self.parsePoint(coord, self.get('position'));\n    var parentNode = container.get('canvas').get('el').parentNode;\n    var wrapperNode = DomUtil.createDom('<div class=\"g-guide\"></div>');\n    parentNode.appendChild(wrapperNode);\n    var html = self.get('htmlContent') || self.get('html');\n\n    if (Util.isFunction(html)) {\n      var xScales = self.get('xScales');\n      var yScales = self.get('yScales');\n      html = html(xScales, yScales);\n    }\n\n    var htmlNode = DomUtil.createDom(html);\n    wrapperNode.appendChild(htmlNode);\n\n    self._setDomPosition(wrapperNode, htmlNode, position);\n\n    self.set('el', wrapperNode);\n  };\n\n  _proto._setDomPosition = function _setDomPosition(parentDom, childDom, point) {\n    var self = this;\n    var alignX = self.get('alignX');\n    var alignY = self.get('alignY');\n    var domWidth = DomUtil.getOuterWidth(childDom);\n    var domHeight = DomUtil.getOuterHeight(childDom);\n    var position = {\n      x: point.x,\n      y: point.y\n    };\n\n    if (alignX === 'middle' && alignY === 'top') {\n      position.x -= Math.round(domWidth / 2);\n    } else if (alignX === 'middle' && alignY === 'bottom') {\n      position.x -= Math.round(domWidth / 2);\n      position.y -= Math.round(domHeight);\n    } else if (alignX === 'left' && alignY === 'bottom') {\n      position.y -= Math.round(domHeight);\n    } else if (alignX === 'left' && alignY === 'middle') {\n      position.y -= Math.round(domHeight / 2);\n    } else if (alignX === 'left' && alignY === 'top') {\n      position.x = point.x;\n      position.y = point.y;\n    } else if (alignX === 'right' && alignY === 'bottom') {\n      position.x -= Math.round(domWidth);\n      position.y -= Math.round(domHeight);\n    } else if (alignX === 'right' && alignY === 'middle') {\n      position.x -= Math.round(domWidth);\n      position.y -= Math.round(domHeight / 2);\n    } else if (alignX === 'right' && alignY === 'top') {\n      position.x -= Math.round(domWidth);\n    } else {\n      // 默认位于中心点\n      position.x -= Math.round(domWidth / 2);\n      position.y -= Math.round(domHeight / 2);\n    }\n\n    var offsetX = self.get('offsetX');\n\n    if (offsetX) {\n      position.x += offsetX;\n    }\n\n    var offsetY = self.get('offsetY');\n\n    if (offsetY) {\n      position.y += offsetY;\n    }\n\n    DomUtil.modifyCSS(parentDom, {\n      position: 'absolute',\n      top: Math.round(position.y) + 'px',\n      left: Math.round(position.x) + 'px',\n      visibility: 'visible',\n      zIndex: self.get('zIndex')\n    });\n  };\n  /**\n   * clear html guide\n   * @override\n   */\n\n\n  _proto.clear = function clear() {\n    var self = this;\n    var el = self.get('el');\n    el && el.parentNode && el.parentNode.removeChild(el);\n  };\n\n  return Html;\n}(Guide);\n\nmodule.exports = Html;"]}]}
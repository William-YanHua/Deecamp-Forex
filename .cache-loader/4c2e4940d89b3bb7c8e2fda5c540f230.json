{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\component\\esm\\util\\align.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\component\\esm\\util\\align.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["export function getOutSides(x, y, width, height, limitBox) {\r\n    var hits = {\r\n        left: x < limitBox.x,\r\n        right: x + width > limitBox.x + limitBox.width,\r\n        top: y < limitBox.y,\r\n        bottom: y + height > limitBox.y + limitBox.height,\r\n    };\r\n    return hits;\r\n}\r\nexport function getPointByPosition(x, y, offset, width, height, position) {\r\n    var px = x;\r\n    var py = y;\r\n    switch (position) {\r\n        case 'left':\r\n            px = x - width - offset;\r\n            py = y - height / 2;\r\n            break;\r\n        case 'right':\r\n            px = x + offset;\r\n            py = y - height / 2;\r\n            break;\r\n        case 'top':\r\n            px = x - width / 2;\r\n            py = y - height - offset;\r\n            break;\r\n        case 'bottom':\r\n            px = x - width / 2;\r\n            py = y + offset;\r\n            break;\r\n        default:\r\n            px = x + offset;\r\n            py = y - height - offset;\r\n            break;\r\n    }\r\n    return {\r\n        x: px,\r\n        y: py,\r\n    };\r\n}\r\nexport function getAlignPoint(x, y, offset, width, height, position, limitBox) {\r\n    var point = getPointByPosition(x, y, offset, width, height, position);\r\n    if (limitBox) {\r\n        var outSides = getOutSides(point.x, point.y, width, height, limitBox);\r\n        if (position === 'auto') {\r\n            if (outSides.right) {\r\n                point.x = x - width - offset;\r\n            }\r\n            if (outSides.top) {\r\n                point.y = y + offset;\r\n            }\r\n        }\r\n        else if (position === 'top' || position === 'bottom') {\r\n            if (outSides.left) {\r\n                point.x = limitBox.x;\r\n            }\r\n            if (outSides.right) {\r\n                point.x = limitBox.x + limitBox.width - width;\r\n            }\r\n            if (position === 'top' && outSides.top) {\r\n                point.y = y + offset;\r\n            }\r\n            if (position === 'bottom' && outSides.bottom) {\r\n                point.y = y - height - offset;\r\n            }\r\n        }\r\n        else {\r\n            if (outSides.top) {\r\n                point.y = limitBox.y;\r\n            }\r\n            if (outSides.bottom) {\r\n                point.y = limitBox.y + limitBox.height - height;\r\n            }\r\n            if (position === 'left' && outSides.left) {\r\n                point.x = x + offset;\r\n            }\r\n            if (position === 'right' && outSides.right) {\r\n                point.x = x - width - offset;\r\n            }\r\n        }\r\n    }\r\n    return point;\r\n}\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\component\\esm\\util\\align.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\component\\esm\\util\\align.js"],"names":[],"mappings":"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","sourcesContent":["// 检测各边是否超出\nexport function getOutSides(x, y, width, height, limitBox) {\n    var hits = {\n        left: x < limitBox.x,\n        right: x + width > limitBox.x + limitBox.width,\n        top: y < limitBox.y,\n        bottom: y + height > limitBox.y + limitBox.height,\n    };\n    return hits;\n}\nexport function getPointByPosition(x, y, offset, width, height, position) {\n    var px = x;\n    var py = y;\n    switch (position) {\n        case 'left': // left center\n            px = x - width - offset;\n            py = y - height / 2;\n            break;\n        case 'right':\n            px = x + offset;\n            py = y - height / 2;\n            break;\n        case 'top':\n            px = x - width / 2;\n            py = y - height - offset;\n            break;\n        case 'bottom':\n            // bottom\n            px = x - width / 2;\n            py = y + offset;\n            break;\n        default:\n            // auto, 在 top-right\n            px = x + offset;\n            py = y - height - offset;\n            break;\n    }\n    return {\n        x: px,\n        y: py,\n    };\n}\nexport function getAlignPoint(x, y, offset, width, height, position, limitBox) {\n    var point = getPointByPosition(x, y, offset, width, height, position);\n    if (limitBox) {\n        var outSides = getOutSides(point.x, point.y, width, height, limitBox);\n        if (position === 'auto') {\n            // 如果是 auto，默认 tooltip 在右上角，仅需要判定右侧和上测冲突即可\n            if (outSides.right) {\n                point.x = x - width - offset;\n            }\n            if (outSides.top) {\n                point.y = y + offset;\n            }\n        }\n        else if (position === 'top' || position === 'bottom') {\n            if (outSides.left) {\n                // 左侧躲避\n                point.x = limitBox.x;\n            }\n            if (outSides.right) {\n                // 右侧躲避\n                point.x = limitBox.x + limitBox.width - width;\n            }\n            if (position === 'top' && outSides.top) {\n                // 如果上面对齐检测上面，不检测下面\n                point.y = y + offset;\n            }\n            if (position === 'bottom' && outSides.bottom) {\n                point.y = y - height - offset;\n            }\n        }\n        else {\n            // 检测左右位置\n            if (outSides.top) {\n                point.y = limitBox.y;\n            }\n            if (outSides.bottom) {\n                point.y = limitBox.y + limitBox.height - height;\n            }\n            if (position === 'left' && outSides.left) {\n                point.x = x + offset;\n            }\n            if (position === 'right' && outSides.right) {\n                point.x = x - width - offset;\n            }\n        }\n    }\n    return point;\n}\n//# sourceMappingURL=align.js.map"]}]}
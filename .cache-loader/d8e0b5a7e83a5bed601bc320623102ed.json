{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\data-set\\src\\data-set.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\data-set\\src\\data-set.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar assign = require('@antv/util/lib/mix');\r\nvar isNil = require('@antv/util/lib/type/is-nil');\r\nvar isObject = require('@antv/util/lib/type/is-object');\r\nvar uniqueId = require('@antv/util/lib/unique-id');\r\nvar EventEmitter = require('wolfy87-eventemitter');\r\nvar View = require('./view');\r\nvar CONSTANTS = require('./constants');\r\nvar DataSet = (function (_super) {\r\n    __extends(DataSet, _super);\r\n    function DataSet(initialProps) {\r\n        if (initialProps === void 0) { initialProps = { state: {} }; }\r\n        var _this = _super.call(this) || this;\r\n        var me = _this;\r\n        assign(me, {\r\n            _onChangeTimer: null,\r\n            DataSet: DataSet,\r\n            isDataSet: true,\r\n            views: {}\r\n        }, initialProps);\r\n        return _this;\r\n    }\r\n    DataSet.prototype._getUniqueViewName = function () {\r\n        var me = this;\r\n        var name = uniqueId('view_');\r\n        while (me.views[name]) {\r\n            name = uniqueId('view_');\r\n        }\r\n        return name;\r\n    };\r\n    DataSet.prototype.createView = function (name, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var me = this;\r\n        if (isNil(name)) {\r\n            name = me._getUniqueViewName();\r\n        }\r\n        if (isObject(name)) {\r\n            options = name;\r\n            name = me._getUniqueViewName();\r\n        }\r\n        if (me.views[name]) {\r\n            throw new Error(\"data view exists: \" + name);\r\n        }\r\n        var view = new View(me, options);\r\n        me.views[name] = view;\r\n        return view;\r\n    };\r\n    DataSet.prototype.getView = function (name) {\r\n        return this.views[name];\r\n    };\r\n    DataSet.prototype.setView = function (name, view) {\r\n        this.views[name] = view;\r\n    };\r\n    DataSet.prototype.setState = function (name, value) {\r\n        var me = this;\r\n        me.state[name] = value;\r\n        if (me._onChangeTimer) {\r\n            clearTimeout(me._onChangeTimer);\r\n            me._onChangeTimer = null;\r\n        }\r\n        me._onChangeTimer = setTimeout(function () {\r\n            me.emit('statechange', name, value);\r\n        }, 16);\r\n    };\r\n    return DataSet;\r\n}(EventEmitter));\r\nassign(DataSet, {\r\n    CONSTANTS: CONSTANTS,\r\n    DataSet: DataSet,\r\n    DataView: View,\r\n    View: View,\r\n    connectors: {},\r\n    transforms: {},\r\n    registerConnector: function (name, connector) {\r\n        DataSet.connectors[name] = connector;\r\n    },\r\n    getConnector: function (name) {\r\n        return DataSet.connectors[name] || DataSet.connectors.default;\r\n    },\r\n    registerTransform: function (name, transform) {\r\n        DataSet.transforms[name] = transform;\r\n    },\r\n    getTransform: function (name) {\r\n        return DataSet.transforms[name] || DataSet.transforms.default;\r\n    }\r\n}, CONSTANTS);\r\nView.DataSet = DataSet;\r\nassign(DataSet.prototype, {\r\n    view: DataSet.prototype.createView\r\n});\r\nDataSet.version = '____DATASET_VERSION____';\r\nmodule.exports = DataSet;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\data-set\\src\\data-set.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\data-set\\src\\data-set.js"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,IAAM,MAAM,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAC7C,IAAM,KAAK,GAAG,OAAO,CAAC,4BAA4B,CAAC,CAAC;AACpD,IAAM,QAAQ,GAAG,OAAO,CAAC,+BAA+B,CAAC,CAAC;AAC1D,IAAM,QAAQ,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACrD,IAAM,YAAY,GAAG,OAAO,CAAC,sBAAsB,CAAC,CAAC;AACrD,IAAM,IAAI,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC/B,IAAM,SAAS,GAAG,OAAO,CAAC,aAAa,CAAC,CAAC;AAEzC;IAAsB,2BAAY;IAChC,iBAAY,YAA4B;QAA5B,6BAAA,EAAA,iBAAiB,KAAK,EAAE,EAAE,EAAE;QAAxC,YACE,iBAAO,SAQR;QAPC,IAAM,EAAE,GAAG,KAAI,CAAC;QAChB,MAAM,CAAC,EAAE,EAAE;YACT,cAAc,EAAE,IAAI;YACpB,OAAO,SAAA;YACP,SAAS,EAAE,IAAI;YACf,KAAK,EAAE,EAAE;SACV,EAAE,YAAY,CAAC,CAAC;;IACnB,CAAC;IAED,oCAAkB,GAAlB;QACE,IAAM,EAAE,GAAG,IAAI,CAAC;QAChB,IAAI,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC;QAC7B,OAAO,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;YACrB,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC;SAC1B;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED,4BAAU,GAAV,UAAW,IAAI,EAAE,OAAY;QAAZ,wBAAA,EAAA,YAAY;QAC3B,IAAM,EAAE,GAAG,IAAI,CAAC;QAChB,IAAI,KAAK,CAAC,IAAI,CAAC,EAAE;YACf,IAAI,GAAG,EAAE,CAAC,kBAAkB,EAAE,CAAC;SAChC;QACD,IAAI,QAAQ,CAAC,IAAI,CAAC,EAAE;YAClB,OAAO,GAAG,IAAI,CAAC;YACf,IAAI,GAAG,EAAE,CAAC,kBAAkB,EAAE,CAAC;SAChC;QACD,IAAI,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;YAClB,MAAM,IAAI,KAAK,CAAC,uBAAqB,IAAM,CAAC,CAAC;SAC9C;QACD,IAAM,IAAI,GAAG,IAAI,IAAI,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;QACnC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;QACtB,OAAO,IAAI,CAAC;IACd,CAAC;IAED,yBAAO,GAAP,UAAQ,IAAI;QACV,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IAED,yBAAO,GAAP,UAAQ,IAAI,EAAE,IAAI;QAChB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED,0BAAQ,GAAR,UAAS,IAAI,EAAE,KAAK;QAClB,IAAM,EAAE,GAAG,IAAI,CAAC;QAChB,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;QACvB,IAAI,EAAE,CAAC,cAAc,EAAE;YACrB,YAAY,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC;YAChC,EAAE,CAAC,cAAc,GAAG,IAAI,CAAC;SAC1B;QACD,EAAE,CAAC,cAAc,GAAG,UAAU,CAAC;YAC7B,EAAE,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;QACtC,CAAC,EAAE,EAAE,CAAC,CAAC;IACT,CAAC;IACH,cAAC;AAAD,CAAC,AAzDD,CAAsB,YAAY,GAyDjC;AAED,MAAM,CAAC,OAAO,EAAE;IACd,SAAS,WAAA;IACT,OAAO,SAAA;IACP,QAAQ,EAAE,IAAI;IACd,IAAI,MAAA;IACJ,UAAU,EAAE,EAAE;IACd,UAAU,EAAE,EAAE;IAEd,iBAAiB,YAAC,IAAI,EAAE,SAAS;QAC/B,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC;IACvC,CAAC;IAED,YAAY,YAAC,IAAI;QACf,OAAO,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC;IAChE,CAAC;IAED,iBAAiB,YAAC,IAAI,EAAE,SAAS;QAC/B,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC;IACvC,CAAC;IAED,YAAY,YAAC,IAAI;QACf,OAAO,OAAO,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC;IAChE,CAAC;CACF,EAAE,SAAS,CAAC,CAAC;AAEd,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AACvB,MAAM,CAAC,OAAO,CAAC,SAAS,EAAE;IACxB,IAAI,EAAE,OAAO,CAAC,SAAS,CAAC,UAAU;CACnC,CAAC,CAAC;AAEH,OAAO,CAAC,OAAO,GAAG,yBAAyB,CAAC;AAE5C,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC","sourcesContent":["const assign = require('@antv/util/lib/mix');\nconst isNil = require('@antv/util/lib/type/is-nil');\nconst isObject = require('@antv/util/lib/type/is-object');\nconst uniqueId = require('@antv/util/lib/unique-id');\nconst EventEmitter = require('wolfy87-eventemitter');\nconst View = require('./view');\nconst CONSTANTS = require('./constants');\n\nclass DataSet extends EventEmitter {\n  constructor(initialProps = { state: {} }) {\n    super();\n    const me = this;\n    assign(me, {\n      _onChangeTimer: null,\n      DataSet,\n      isDataSet: true,\n      views: {}\n    }, initialProps);\n  }\n\n  _getUniqueViewName() {\n    const me = this;\n    let name = uniqueId('view_');\n    while (me.views[name]) {\n      name = uniqueId('view_');\n    }\n    return name;\n  }\n\n  createView(name, options = {}) {\n    const me = this;\n    if (isNil(name)) {\n      name = me._getUniqueViewName();\n    }\n    if (isObject(name)) {\n      options = name;\n      name = me._getUniqueViewName();\n    }\n    if (me.views[name]) {\n      throw new Error(`data view exists: ${name}`);\n    }\n    const view = new View(me, options);\n    me.views[name] = view;\n    return view;\n  }\n\n  getView(name) {\n    return this.views[name];\n  }\n\n  setView(name, view) {\n    this.views[name] = view;\n  }\n\n  setState(name, value) {\n    const me = this;\n    me.state[name] = value;\n    if (me._onChangeTimer) {\n      clearTimeout(me._onChangeTimer);\n      me._onChangeTimer = null;\n    }\n    me._onChangeTimer = setTimeout(() => {\n      me.emit('statechange', name, value);\n    }, 16); // execute after one frame\n  }\n}\n\nassign(DataSet, {\n  CONSTANTS,\n  DataSet,\n  DataView: View, // alias\n  View,\n  connectors: {},\n  transforms: {},\n\n  registerConnector(name, connector) {\n    DataSet.connectors[name] = connector;\n  },\n\n  getConnector(name) {\n    return DataSet.connectors[name] || DataSet.connectors.default;\n  },\n\n  registerTransform(name, transform) {\n    DataSet.transforms[name] = transform;\n  },\n\n  getTransform(name) {\n    return DataSet.transforms[name] || DataSet.transforms.default;\n  }\n}, CONSTANTS);\n\nView.DataSet = DataSet;\nassign(DataSet.prototype, {\n  view: DataSet.prototype.createView // alias\n});\n\nDataSet.version = '____DATASET_VERSION____';\n\nmodule.exports = DataSet;\n"]}]}
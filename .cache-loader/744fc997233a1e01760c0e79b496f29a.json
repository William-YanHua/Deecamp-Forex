{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-queue-anim/es/QueueAnim.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-queue-anim/es/QueueAnim.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport TweenOne, { ticker } from 'rc-tween-one';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { toArrayChildren, findChildInChildrenByKey, windowIsUndefined, mergeChildren, transformArguments, getChildrenFromProps } from './utils';\nimport AnimTypes from './animTypes';\nvar noop = function noop() { };\nvar typeDefault = ['displayName', 'propTypes', 'getDefaultProps', 'defaultProps', 'childContextTypes', 'contextTypes', 'contextType'];\nvar QueueAnim = function (_React$Component) {\n    _inherits(QueueAnim, _React$Component);\n    _createClass(QueueAnim, null, [{\n            key: 'getDerivedStateFromProps',\n            value: function getDerivedStateFromProps(props, _ref) {\n                var prevProps = _ref.prevProps, children = _ref.children, prevChildShow = _ref.childrenShow, $self = _ref.$self;\n                var nextState = {\n                    prevProps: props\n                };\n                if (prevProps && props !== prevProps) {\n                    var nextChildren = toArrayChildren(props.children).filter(function (c) {\n                        return c;\n                    });\n                    var currentChildren = $self.originalChildren.filter(function (item) {\n                        return item;\n                    });\n                    if (children.length) {\n                        var leaveChild = children.filter(function (item) {\n                            return item && $self.keysToLeave.indexOf(item.key) >= 0;\n                        });\n                        $self.leaveUnfinishedChild = leaveChild.map(function (item) {\n                            if ($self.placeholderTimeoutIds[item.key]) {\n                                return item.key;\n                            }\n                            return null;\n                        }).filter(function (c) {\n                            return c;\n                        });\n                        var stateChildren = mergeChildren(currentChildren, children);\n                        var currentChild = [];\n                        var childReOrder = function childReOrder(child) {\n                            child.forEach(function (item) {\n                                var order = stateChildren.findIndex(function (c) {\n                                    return c.key === item.key;\n                                });\n                                if (currentChild.indexOf(item) !== -1) {\n                                    return;\n                                }\n                                if (order === -1) {\n                                    currentChild.push(item);\n                                }\n                                else {\n                                    currentChild.splice(order, 0, item);\n                                }\n                            });\n                        };\n                        childReOrder(leaveChild);\n                        childReOrder(currentChildren);\n                        currentChildren = currentChild.filter(function (c) {\n                            return c;\n                        });\n                    }\n                    var newChildren = mergeChildren(currentChildren, nextChildren);\n                    var childrenShow = !newChildren.length ? {} : prevChildShow;\n                    $self.keysToEnterPaused = {};\n                    var emptyBool = !nextChildren.length && !currentChildren.length && children.length;\n                    if (!emptyBool) {\n                        var nextKeys = nextChildren.map(function (c) {\n                            return c.key;\n                        });\n                        $self.keysToLeave.forEach(function (key) {\n                            if (nextKeys.indexOf(key) >= 0) {\n                                $self.keysToEnterPaused[key] = true;\n                                currentChildren = currentChildren.filter(function (item) {\n                                    return item.key !== key;\n                                });\n                                if (props.forcedReplay) {\n                                    delete childrenShow[key];\n                                }\n                            }\n                        });\n                    }\n                    $self.keysToEnter = [];\n                    $self.keysToLeave = [];\n                    nextState.childrenShow = childrenShow;\n                    nextState.children = newChildren;\n                    nextChildren.forEach(function (c) {\n                        if (!c) {\n                            return;\n                        }\n                        var key = c.key;\n                        var hasPrev = findChildInChildrenByKey(currentChildren, key);\n                        if (!hasPrev && key) {\n                            $self.keysToEnter.push(key);\n                        }\n                    });\n                    currentChildren.forEach(function (c) {\n                        if (!c) {\n                            return;\n                        }\n                        var key = c.key;\n                        var hasNext = findChildInChildrenByKey(nextChildren, key);\n                        if (!hasNext && key) {\n                            $self.keysToLeave.push(key);\n                            ticker.clear($self.placeholderTimeoutIds[key]);\n                            delete $self.placeholderTimeoutIds[key];\n                        }\n                    });\n                }\n                return nextState;\n            }\n        }]);\n    function QueueAnim(props) {\n        _classCallCheck(this, QueueAnim);\n        var _this = _possibleConstructorReturn(this, (QueueAnim.__proto__ || Object.getPrototypeOf(QueueAnim)).call(this, props));\n        _initialiseProps.call(_this);\n        _this.tweenToEnter = {};\n        _this.leaveUnfinishedChild = [];\n        _this.saveTweenOneTag = {};\n        _this.childrenShow = {};\n        _this.keysToEnter = [];\n        _this.keysToLeave = [];\n        _this.keysToEnterPaused = {};\n        _this.placeholderTimeoutIds = {};\n        _this.childRefs = {};\n        _this.currentRef = null;\n        var children = toArrayChildren(getChildrenFromProps(props));\n        var childrenShow = {};\n        children.forEach(function (child) {\n            if (!child || !child.key) {\n                return;\n            }\n            if (_this.props.appear) {\n                _this.keysToEnter.push(child.key);\n            }\n            else {\n                childrenShow[child.key] = true;\n                _this.tweenToEnter[child.key] = true;\n            }\n        });\n        _this.originalChildren = toArrayChildren(getChildrenFromProps(props));\n        _this.state = {\n            children: children,\n            childrenShow: childrenShow,\n            $self: _this\n        };\n        return _this;\n    }\n    _createClass(QueueAnim, [{\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                if (this.props.appear) {\n                    this.componentDidUpdate();\n                }\n            }\n        }, {\n            key: 'componentDidUpdate',\n            value: function componentDidUpdate() {\n                this.originalChildren = toArrayChildren(getChildrenFromProps(this.props));\n                var keysToEnter = [].concat(_toConsumableArray(this.keysToEnter));\n                var keysToLeave = [].concat(_toConsumableArray(this.keysToLeave));\n                keysToEnter.forEach(this.performEnter);\n                keysToLeave.forEach(this.performLeave);\n            }\n        }, {\n            key: 'componentWillUnmount',\n            value: function componentWillUnmount() {\n                var _this2 = this;\n                Object.keys(this.placeholderTimeoutIds).forEach(function (key) {\n                    ticker.clear(_this2.placeholderTimeoutIds[key]);\n                });\n                this.keysToEnter = [];\n                this.keysToLeave = [];\n                this.childrenShow = {};\n            }\n        }, {\n            key: 'getTweenType',\n            value: function getTweenType(type, num) {\n                var data = AnimTypes[type];\n                return this.getTweenAnimConfig(data, num);\n            }\n        }, {\n            key: 'getTweenAnimConfig',\n            value: function getTweenAnimConfig(data, num, enterOrLeave) {\n                var _this3 = this;\n                if (Array.isArray(data)) {\n                    return data.map(function (item) {\n                        return _this3.getTweenSingleConfig(item, num, enterOrLeave);\n                    });\n                }\n                return this.getTweenSingleConfig(data, num, enterOrLeave);\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                var _this4 = this;\n                var _props = this.props, component = _props.component, componentProps = _props.componentProps, interval = _props.interval, duration = _props.duration, delay = _props.delay, type = _props.type, animConfig = _props.animConfig, ease = _props.ease, leaveReverse = _props.leaveReverse, animatingClassName = _props.animatingClassName, forcedReplay = _props.forcedReplay, onEnd = _props.onEnd, appear = _props.appear, tagProps = _objectWithoutProperties(_props, ['component', 'componentProps', 'interval', 'duration', 'delay', 'type', 'animConfig', 'ease', 'leaveReverse', 'animatingClassName', 'forcedReplay', 'onEnd', 'appear']);\n                if (windowIsUndefined) {\n                    return createElement(component, _extends({}, tagProps, componentProps), this.props.children);\n                }\n                var childrenToRender = toArrayChildren(this.state.children).map(this.getChildrenToRender);\n                var props = _extends({}, tagProps, this.props.componentProps, {\n                    ref: function ref(c) {\n                        _this4.currentRef = c;\n                    }\n                });\n                return createElement(this.props.component, props, childrenToRender);\n            }\n        }]);\n    return QueueAnim;\n}(React.Component);\nQueueAnim.propTypes = {\n    children: PropTypes.any,\n    component: PropTypes.any,\n    componentProps: PropTypes.object,\n    interval: PropTypes.any,\n    duration: PropTypes.any,\n    delay: PropTypes.any,\n    type: PropTypes.any,\n    animConfig: PropTypes.any,\n    ease: PropTypes.any,\n    leaveReverse: PropTypes.bool,\n    forcedReplay: PropTypes.bool,\n    animatingClassName: PropTypes.array,\n    onEnd: PropTypes.func,\n    appear: PropTypes.bool\n};\nQueueAnim.defaultProps = {\n    component: 'div',\n    componentProps: {},\n    interval: 100,\n    duration: 450,\n    delay: 0,\n    type: 'right',\n    animConfig: null,\n    ease: 'easeOutQuart',\n    leaveReverse: false,\n    forcedReplay: false,\n    animatingClassName: ['queue-anim-entering', 'queue-anim-leaving'],\n    onEnd: noop,\n    appear: true\n};\nvar _initialiseProps = function _initialiseProps() {\n    var _this5 = this;\n    this.getTweenSingleConfig = function (data, num, enterOrLeave) {\n        var obj = {};\n        Object.keys(data).forEach(function (key) {\n            if (Array.isArray(data[key])) {\n                obj[key] = data[key][num];\n            }\n            else if (!enterOrLeave && !num || enterOrLeave && num) {\n                obj[key] = data[key];\n            }\n        });\n        return obj;\n    };\n    this.getTweenData = function (key, i, type) {\n        var props = _this5.props;\n        var enterOrLeave = type === 'enter' ? 0 : 1;\n        var start = type === 'enter' ? 1 : 0;\n        var end = type === 'enter' ? 0 : 1;\n        var animate = _this5.getAnimData(props, key, i, enterOrLeave, end);\n        var startAnim = type === 'enter' && (props.forcedReplay || !_this5.childrenShow[key]) ? _this5.getAnimData(props, key, i, enterOrLeave, start) : null;\n        var ease = transformArguments(props.ease, key, i)[enterOrLeave];\n        var duration = transformArguments(props.duration, key, i)[enterOrLeave];\n        if (Array.isArray(ease)) {\n            ease = ease.map(function (num) {\n                return num * 100;\n            });\n            ease = TweenOne.easing.path('M0,100C' + ease[0] + ',' + (100 - ease[1]) + ',' + ease[2] + ',' + (100 - ease[3]) + ',100,0', { lengthPixel: duration / 16.6667 });\n        }\n        return { startAnim: startAnim, animate: animate, ease: ease, duration: duration, isArray: Array.isArray(animate) };\n    };\n    this.getTweenSingleData = function (startAnim, animate, ease, duration, delay, onStart, onComplete) {\n        var startLength = Object.keys(startAnim || {}).length;\n        var animation = _extends({\n            onStart: onStart,\n            onComplete: onComplete,\n            duration: duration,\n            delay: delay,\n            ease: ease\n        }, animate);\n        var startAnimate = startLength ? _extends({ duration: 0 }, startAnim) : null;\n        return { animation: animation, startAnimate: startAnimate };\n    };\n    this.getTweenEnterOrLeaveData = function (key, i, delay, type) {\n        var animateData = _this5.getTweenData(key, i, type);\n        var startAnim = animateData.startAnim;\n        var animate = animateData.animate;\n        var onStart = (type === 'enter' ? _this5.enterBegin : _this5.leaveBegin).bind(_this5, key);\n        var onComplete = (type === 'enter' ? _this5.enterComplete : _this5.leaveComplete).bind(_this5, key);\n        if (animateData.isArray) {\n            var length = animate.length - 1;\n            var animation = [];\n            var startArray = [];\n            animate.forEach(function (leave, ii) {\n                var start = startAnim && startAnim[ii];\n                var animObj = _this5.getTweenSingleData(start, leave, animateData.ease, animateData.duration / length, !ii ? delay : 0, !ii ? onStart : null, ii === length ? onComplete : null);\n                animation.push(animObj.animation);\n                if (animObj.startAnimate) {\n                    startArray.push(animObj.startAnimate);\n                }\n            });\n            return startArray.concat(animation);\n        }\n        animateData = _this5.getTweenSingleData(startAnim, animate, animateData.ease, animateData.duration, delay, onStart, onComplete);\n        return [animateData.startAnimate, animateData.animation].filter(function (item) {\n            return item;\n        });\n    };\n    this.getAnimData = function (props, key, i, enterOrLeave, startOrEnd) {\n        return props.animConfig ? _this5.getTweenAnimConfig(transformArguments(props.animConfig, key, i)[enterOrLeave], startOrEnd, enterOrLeave) : _this5.getTweenType(transformArguments(props.type, key, i)[enterOrLeave], startOrEnd);\n    };\n    this.getChildrenToRender = function (child) {\n        var _props2 = _this5.props, forcedReplay = _props2.forcedReplay, leaveReverse = _props2.leaveReverse, delay = _props2.delay, interval = _props2.interval, children = _props2.children;\n        if (!child || !child.key) {\n            return child;\n        }\n        var key = child.key;\n        if (!_this5.state.childrenShow[key]) {\n            return null;\n        }\n        var i = _this5.keysToLeave.indexOf(key);\n        var animation = void 0;\n        var isFunc = typeof child.type === 'function';\n        var forcedJudg = isFunc ? {} : null;\n        if (isFunc) {\n            Object.keys(child.type).forEach(function (name) {\n                if (typeDefault.indexOf(name) === -1) {\n                    forcedJudg[name] = child.type[name];\n                }\n            });\n        }\n        var ref = function ref() {\n            delete _this5.childRefs[key];\n        };\n        if (i >= 0) {\n            if (_this5.leaveUnfinishedChild.indexOf(key) >= 0) {\n                return _this5.saveTweenOneTag[key];\n            }\n            var $interval = transformArguments(interval, key, i)[1];\n            var $delay = transformArguments(delay, key, i)[1];\n            var order = (leaveReverse ? _this5.keysToLeave.length - i - 1 : i) - _this5.leaveUnfinishedChild.length;\n            $delay = $interval * order + $delay;\n            animation = _this5.getTweenEnterOrLeaveData(key, i, $delay, 'leave');\n        }\n        else {\n            i = toArrayChildren(children).findIndex(function (c) {\n                return c && c.key === key;\n            });\n            ref = function ref(c) {\n                _this5.childRefs[key] = c && c.currentRef ? c.currentRef : c;\n            };\n            if (_this5.tweenToEnter[key] && !forcedReplay) {\n                return createElement(TweenOne, {\n                    key: key,\n                    component: child.type,\n                    forcedJudg: forcedJudg,\n                    componentProps: child.props,\n                    ref: ref\n                });\n            }\n            if (!_this5.tweenToEnter[key] || forcedReplay) {\n                animation = _this5.getTweenEnterOrLeaveData(key, i, 0, 'enter');\n            }\n        }\n        var paused = _this5.keysToEnterPaused[key] && _this5.keysToLeave.indexOf(key) === -1;\n        animation = paused ? null : animation;\n        var tag = createElement(TweenOne, {\n            key: key,\n            component: child.type,\n            forcedJudg: forcedJudg,\n            componentProps: child.props,\n            animation: animation,\n            ref: ref\n        });\n        _this5.saveTweenOneTag[key] = tag;\n        return tag;\n    };\n    this.performEnter = function (key, i) {\n        var interval = transformArguments(_this5.props.interval, key, i)[0];\n        var delay = transformArguments(_this5.props.delay, key, i)[0];\n        _this5.placeholderTimeoutIds[key] = ticker.timeout(_this5.performEnterBegin.bind(_this5, key), interval * i + delay);\n        if (_this5.keysToEnter.indexOf(key) >= 0) {\n            _this5.keysToEnter.splice(_this5.keysToEnter.indexOf(key), 1);\n        }\n    };\n    this.performEnterBegin = function (key) {\n        var childrenShow = _this5.state.childrenShow;\n        childrenShow[key] = true;\n        delete _this5.keysToEnterPaused[key];\n        ticker.clear(_this5.placeholderTimeoutIds[key]);\n        delete _this5.placeholderTimeoutIds[key];\n        _this5.setState({ childrenShow: childrenShow });\n    };\n    this.performLeave = function (key) {\n        ticker.clear(_this5.placeholderTimeoutIds[key]);\n        delete _this5.placeholderTimeoutIds[key];\n    };\n    this.enterBegin = function (key, e) {\n        var elem = e.target;\n        var animatingClassName = _this5.props.animatingClassName;\n        elem.className = elem.className.replace(animatingClassName[1], '');\n        if (elem.className.indexOf(animatingClassName[0]) === -1) {\n            elem.className = (elem.className + ' ' + animatingClassName[0]).trim();\n        }\n        _this5.childrenShow[key] = true;\n    };\n    this.enterComplete = function (key, e) {\n        if (_this5.keysToEnterPaused[key] || _this5.keysToLeave.indexOf(key) >= 0) {\n            return;\n        }\n        var elem = e.target;\n        elem.className = elem.className.replace(_this5.props.animatingClassName[0], '').trim();\n        _this5.tweenToEnter[key] = true;\n        _this5.props.onEnd({ key: key, type: 'enter', target: elem });\n    };\n    this.leaveBegin = function (key, e) {\n        var elem = e.target;\n        var animatingClassName = _this5.props.animatingClassName;\n        elem.className = elem.className.replace(animatingClassName[0], '');\n        if (elem.className.indexOf(animatingClassName[1]) === -1) {\n            elem.className = (elem.className + ' ' + animatingClassName[1]).trim();\n        }\n        delete _this5.tweenToEnter[key];\n    };\n    this.leaveComplete = function (key, e) {\n        if (toArrayChildren(_this5.props.children).findIndex(function (c) {\n            return c && c.key === key;\n        }) >= 0) {\n            return;\n        }\n        var childrenShow = _this5.state.childrenShow;\n        delete childrenShow[key];\n        delete _this5.saveTweenOneTag[key];\n        delete _this5.childrenShow[key];\n        if (_this5.keysToLeave.indexOf(key) >= 0) {\n            _this5.keysToLeave.splice(_this5.keysToLeave.indexOf(key), 1);\n        }\n        var needLeave = _this5.keysToLeave.some(function (c) {\n            return childrenShow[c];\n        });\n        if (!needLeave) {\n            var currentChildren = toArrayChildren(getChildrenFromProps(_this5.props));\n            _this5.setState({\n                children: currentChildren,\n                childrenShow: childrenShow\n            });\n        }\n        var elem = e.target;\n        elem.className = elem.className.replace(_this5.props.animatingClassName[1], '').trim();\n        _this5.props.onEnd({ key: key, type: 'leave', target: elem });\n    };\n};\nQueueAnim.isQueueAnim = true;\nexport default polyfill(QueueAnim);\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-queue-anim/es/QueueAnim.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-queue-anim/es/QueueAnim.js"],"names":[],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _toConsumableArray from 'babel-runtime/helpers/toConsumableArray';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport TweenOne, { ticker } from 'rc-tween-one';\nimport { polyfill } from 'react-lifecycles-compat';\n\nimport { toArrayChildren, findChildInChildrenByKey, windowIsUndefined, mergeChildren, transformArguments, getChildrenFromProps } from './utils';\nimport AnimTypes from './animTypes';\n\nvar noop = function noop() {};\n\nvar typeDefault = ['displayName', 'propTypes', 'getDefaultProps', 'defaultProps', 'childContextTypes', 'contextTypes', 'contextType'];\n\nvar QueueAnim = function (_React$Component) {\n  _inherits(QueueAnim, _React$Component);\n\n  _createClass(QueueAnim, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, _ref) {\n      var prevProps = _ref.prevProps,\n          children = _ref.children,\n          prevChildShow = _ref.childrenShow,\n          $self = _ref.$self;\n\n      var nextState = {\n        prevProps: props\n      };\n      if (prevProps && props !== prevProps) {\n        var nextChildren = toArrayChildren(props.children).filter(function (c) {\n          return c;\n        });\n        var currentChildren = $self.originalChildren.filter(function (item) {\n          return item;\n        });\n        if (children.length) {\n          /**\n           * 多次刷新处理\n           * 如果 state.children 里还有元素，元素还在动画，当前子级加回在出场的子级;\n           */\n          var leaveChild = children.filter(function (item) {\n            return item && $self.keysToLeave.indexOf(item.key) >= 0;\n          });\n          $self.leaveUnfinishedChild = leaveChild.map(function (item) {\n            if ($self.placeholderTimeoutIds[item.key]) {\n              return item.key;\n            }\n            return null;\n          }).filter(function (c) {\n            return c;\n          });\n          /**\n           * 获取 leaveChild 在 state.children 里的序列，再将 leaveChild 和 currentChildren 的重新排序。\n           * 避逸 state.children 在 leaveComplete 里没全部完成不触发，\n           * leaveComplete 里如果动画完成了是会删除 keyToLeave，但 state.children 是在全部出场后才触发清除，\n           * 所以这里需要处理出场完成的元素做清除。\n           */\n          var stateChildren = mergeChildren(currentChildren, children);\n          var currentChild = [];\n          var childReOrder = function childReOrder(child) {\n            child.forEach(function (item) {\n              var order = stateChildren.findIndex(function (c) {\n                return c.key === item.key;\n              });\n              if (currentChild.indexOf(item) !== -1) {\n                return;\n              }\n              // -1 不应该出现的情况，直接插入数组后面.\n              if (order === -1) {\n                currentChild.push(item);\n              } else {\n                currentChild.splice(order, 0, item);\n              }\n            });\n          };\n          childReOrder(leaveChild);\n          childReOrder(currentChildren);\n          currentChildren = currentChild.filter(function (c) {\n            return c;\n          });\n        }\n        var newChildren = mergeChildren(currentChildren, nextChildren);\n        var childrenShow = !newChildren.length ? {} : prevChildShow;\n        $self.keysToEnterPaused = {};\n        var emptyBool = !nextChildren.length && !currentChildren.length && children.length;\n        /**\n         * 在出场没结束时，childrenShow 里的值将不会清除。\n         * 再触发进场时， childrenShow 里的值是保留着的, 设置了 forcedReplay 将重新播放进场。\n         */\n        if (!emptyBool) {\n          // 空子级状态下刷新不做处理\n          var nextKeys = nextChildren.map(function (c) {\n            return c.key;\n          });\n          $self.keysToLeave.forEach(function (key) {\n            // 将所有在出场里的停止掉。避免间隔性出现\n            if (nextKeys.indexOf(key) >= 0) {\n              $self.keysToEnterPaused[key] = true;\n              currentChildren = currentChildren.filter(function (item) {\n                return item.key !== key;\n              });\n              if (props.forcedReplay) {\n                // 清掉所有出场的。\n                delete childrenShow[key];\n              }\n            }\n          });\n        }\n\n        $self.keysToEnter = [];\n        $self.keysToLeave = [];\n\n        // need render to avoid update\n        nextState.childrenShow = childrenShow;\n        nextState.children = newChildren;\n\n        nextChildren.forEach(function (c) {\n          if (!c) {\n            return;\n          }\n          var key = c.key;\n          var hasPrev = findChildInChildrenByKey(currentChildren, key);\n          if (!hasPrev && key) {\n            $self.keysToEnter.push(key);\n          }\n        });\n\n        currentChildren.forEach(function (c) {\n          if (!c) {\n            return;\n          }\n          var key = c.key;\n          var hasNext = findChildInChildrenByKey(nextChildren, key);\n          if (!hasNext && key) {\n            $self.keysToLeave.push(key);\n            ticker.clear($self.placeholderTimeoutIds[key]);\n            delete $self.placeholderTimeoutIds[key];\n          }\n        });\n      }\n      return nextState;\n    }\n  }]);\n\n  function QueueAnim(props) {\n    _classCallCheck(this, QueueAnim);\n\n    /**\n     * @param tweenToEnter;\n     * 记录强制切换时是否需要添加 animation;\n     * 如 enter 后, leave -> enter，样式是没有发生变化，就不需要添加 animation 属性。\n     */\n    var _this = _possibleConstructorReturn(this, (QueueAnim.__proto__ || Object.getPrototypeOf(QueueAnim)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.tweenToEnter = {};\n    /**\n     * @param leaveUnfinishedChild;\n     * 记录多次切换，出场没完成动画的 key。\n     */\n    _this.leaveUnfinishedChild = [];\n    /**\n     * @param saveTweenOneTag;\n     * 记录 TweenOne 标签，在 leaveUnfinishedChild 里使用，残留的元素不需要考虑 props 的变更。\n     */\n    _this.saveTweenOneTag = {};\n    /**\n     * @param childrenShow;\n     * 记录 animation 里是否需要 startAnim;\n     * 当前元素是否处在显示状态\n     * enterBegin 到 leaveComplete 之前都处于显示状态\n     */\n    _this.childrenShow = {};\n    /**\n     * @param keysToEnter;\n     * 记录进场的 key;\n     */\n    _this.keysToEnter = [];\n    /**\n     * @param keysToLeave;\n     * 记录出场的 key;\n     */\n    _this.keysToLeave = [];\n    /**\n     * @param keysToEnterPaused;\n     * 记录在进入时是否处理暂停状态\n     */\n    _this.keysToEnterPaused = {};\n    /**\n     * @param placeholderTimeoutIds;\n     * 进场时 deley 的 timeout 记录;\n     */\n    _this.placeholderTimeoutIds = {};\n    /**\n     * @param childRefs;\n     * 储存 children 的 ref;\n     */\n    _this.childRefs = {};\n    /**\n     * @param currentRef;\n     * 记录 component 是组件时的 ref;\n     */\n    _this.currentRef = null;\n    // 第一次进入，默认进场\n    var children = toArrayChildren(getChildrenFromProps(props));\n    var childrenShow = {};\n    children.forEach(function (child) {\n      if (!child || !child.key) {\n        return;\n      }\n      if (_this.props.appear) {\n        _this.keysToEnter.push(child.key);\n      } else {\n        childrenShow[child.key] = true;\n        _this.tweenToEnter[child.key] = true;\n      }\n    });\n    _this.originalChildren = toArrayChildren(getChildrenFromProps(props));\n    _this.state = {\n      children: children,\n      childrenShow: childrenShow,\n      $self: _this\n    };\n    return _this;\n  }\n\n  _createClass(QueueAnim, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.props.appear) {\n        this.componentDidUpdate();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.originalChildren = toArrayChildren(getChildrenFromProps(this.props));\n      var keysToEnter = [].concat(_toConsumableArray(this.keysToEnter));\n      var keysToLeave = [].concat(_toConsumableArray(this.keysToLeave));\n      keysToEnter.forEach(this.performEnter);\n      keysToLeave.forEach(this.performLeave);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var _this2 = this;\n\n      Object.keys(this.placeholderTimeoutIds).forEach(function (key) {\n        ticker.clear(_this2.placeholderTimeoutIds[key]);\n      });\n      this.keysToEnter = [];\n      this.keysToLeave = [];\n      this.childrenShow = {};\n    }\n  }, {\n    key: 'getTweenType',\n    value: function getTweenType(type, num) {\n      var data = AnimTypes[type];\n      return this.getTweenAnimConfig(data, num);\n    }\n  }, {\n    key: 'getTweenAnimConfig',\n    value: function getTweenAnimConfig(data, num, enterOrLeave) {\n      var _this3 = this;\n\n      if (Array.isArray(data)) {\n        return data.map(function (item) {\n          return _this3.getTweenSingleConfig(item, num, enterOrLeave);\n        });\n      }\n      return this.getTweenSingleConfig(data, num, enterOrLeave);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _props = this.props,\n          component = _props.component,\n          componentProps = _props.componentProps,\n          interval = _props.interval,\n          duration = _props.duration,\n          delay = _props.delay,\n          type = _props.type,\n          animConfig = _props.animConfig,\n          ease = _props.ease,\n          leaveReverse = _props.leaveReverse,\n          animatingClassName = _props.animatingClassName,\n          forcedReplay = _props.forcedReplay,\n          onEnd = _props.onEnd,\n          appear = _props.appear,\n          tagProps = _objectWithoutProperties(_props, ['component', 'componentProps', 'interval', 'duration', 'delay', 'type', 'animConfig', 'ease', 'leaveReverse', 'animatingClassName', 'forcedReplay', 'onEnd', 'appear']);\n\n      if (windowIsUndefined) {\n        return createElement(component, _extends({}, tagProps, componentProps), this.props.children);\n      }\n      var childrenToRender = toArrayChildren(this.state.children).map(this.getChildrenToRender);\n      var props = _extends({}, tagProps, this.props.componentProps, {\n        ref: function ref(c) {\n          _this4.currentRef = c;\n        }\n      });\n      return createElement(this.props.component, props, childrenToRender);\n    }\n  }]);\n\n  return QueueAnim;\n}(React.Component);\n\nQueueAnim.propTypes = {\n  children: PropTypes.any,\n  component: PropTypes.any,\n  componentProps: PropTypes.object,\n  interval: PropTypes.any,\n  duration: PropTypes.any,\n  delay: PropTypes.any,\n  type: PropTypes.any,\n  animConfig: PropTypes.any,\n  ease: PropTypes.any,\n  leaveReverse: PropTypes.bool,\n  forcedReplay: PropTypes.bool,\n  animatingClassName: PropTypes.array,\n  onEnd: PropTypes.func,\n  appear: PropTypes.bool\n};\nQueueAnim.defaultProps = {\n  component: 'div',\n  componentProps: {},\n  interval: 100,\n  duration: 450,\n  delay: 0,\n  type: 'right',\n  animConfig: null,\n  ease: 'easeOutQuart',\n  leaveReverse: false,\n  forcedReplay: false,\n  animatingClassName: ['queue-anim-entering', 'queue-anim-leaving'],\n  onEnd: noop,\n  appear: true\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.getTweenSingleConfig = function (data, num, enterOrLeave) {\n    var obj = {};\n    Object.keys(data).forEach(function (key) {\n      if (Array.isArray(data[key])) {\n        obj[key] = data[key][num];\n      } else if (!enterOrLeave && !num || enterOrLeave && num) {\n        obj[key] = data[key];\n      }\n    });\n    return obj;\n  };\n\n  this.getTweenData = function (key, i, type) {\n    var props = _this5.props;\n    var enterOrLeave = type === 'enter' ? 0 : 1;\n    var start = type === 'enter' ? 1 : 0;\n    var end = type === 'enter' ? 0 : 1;\n    var animate = _this5.getAnimData(props, key, i, enterOrLeave, end);\n    var startAnim = type === 'enter' && (props.forcedReplay || !_this5.childrenShow[key]) ? _this5.getAnimData(props, key, i, enterOrLeave, start) : null;\n    var ease = transformArguments(props.ease, key, i)[enterOrLeave];\n    var duration = transformArguments(props.duration, key, i)[enterOrLeave];\n    if (Array.isArray(ease)) {\n      ease = ease.map(function (num) {\n        return num * 100;\n      });\n      ease = TweenOne.easing.path('M0,100C' + ease[0] + ',' + (100 - ease[1]) + ',' + ease[2] + ',' + (100 - ease[3]) + ',100,0', { lengthPixel: duration / 16.6667 });\n    }\n    return { startAnim: startAnim, animate: animate, ease: ease, duration: duration, isArray: Array.isArray(animate) };\n  };\n\n  this.getTweenSingleData = function (startAnim, animate, ease, duration, delay, onStart, onComplete) {\n    var startLength = Object.keys(startAnim || {}).length;\n    var animation = _extends({\n      onStart: onStart,\n      onComplete: onComplete,\n      duration: duration,\n      delay: delay,\n      ease: ease\n    }, animate);\n    var startAnimate = startLength ? _extends({ duration: 0 }, startAnim) : null;\n    return { animation: animation, startAnimate: startAnimate };\n  };\n\n  this.getTweenEnterOrLeaveData = function (key, i, delay, type) {\n    var animateData = _this5.getTweenData(key, i, type);\n    var startAnim = animateData.startAnim;\n    var animate = animateData.animate;\n    var onStart = (type === 'enter' ? _this5.enterBegin : _this5.leaveBegin).bind(_this5, key);\n    var onComplete = (type === 'enter' ? _this5.enterComplete : _this5.leaveComplete).bind(_this5, key);\n    if (animateData.isArray) {\n      var length = animate.length - 1;\n      var animation = [];\n      var startArray = [];\n      animate.forEach(function (leave, ii) {\n        var start = startAnim && startAnim[ii];\n        var animObj = _this5.getTweenSingleData(start, leave, animateData.ease, animateData.duration / length, !ii ? delay : 0, !ii ? onStart : null, ii === length ? onComplete : null);\n        animation.push(animObj.animation);\n        if (animObj.startAnimate) {\n          startArray.push(animObj.startAnimate);\n        }\n      });\n      return startArray.concat(animation);\n    }\n    animateData = _this5.getTweenSingleData(startAnim, animate, animateData.ease, animateData.duration, delay, onStart, onComplete);\n    return [animateData.startAnimate, animateData.animation].filter(function (item) {\n      return item;\n    });\n  };\n\n  this.getAnimData = function (props, key, i, enterOrLeave, startOrEnd) {\n    /**\n     * transformArguments 第一个为 enter, 第二个为 leave；\n     * getTweenAnimConfig or getTweenType 第一个为到达的位置， 第二个为开始的位置。\n     * 用 tween-one 的数组来实现老的动画逻辑。。。\n     */\n    return props.animConfig ? _this5.getTweenAnimConfig(transformArguments(props.animConfig, key, i)[enterOrLeave], startOrEnd, enterOrLeave) : _this5.getTweenType(transformArguments(props.type, key, i)[enterOrLeave], startOrEnd);\n  };\n\n  this.getChildrenToRender = function (child) {\n    var _props2 = _this5.props,\n        forcedReplay = _props2.forcedReplay,\n        leaveReverse = _props2.leaveReverse,\n        delay = _props2.delay,\n        interval = _props2.interval,\n        children = _props2.children;\n\n    if (!child || !child.key) {\n      return child;\n    }\n    var key = child.key;\n    if (!_this5.state.childrenShow[key]) {\n      return null;\n    }\n    var i = _this5.keysToLeave.indexOf(key);\n    var animation = void 0;\n    var isFunc = typeof child.type === 'function';\n    var forcedJudg = isFunc ? {} : null;\n    if (isFunc) {\n      Object.keys(child.type).forEach(function (name) {\n        if (typeDefault.indexOf(name) === -1) {\n          forcedJudg[name] = child.type[name];\n        }\n      });\n    }\n    var ref = function ref() {\n      delete _this5.childRefs[key];\n    };\n    // 处理出场\n    if (i >= 0) {\n      if (_this5.leaveUnfinishedChild.indexOf(key) >= 0) {\n        return _this5.saveTweenOneTag[key];\n      }\n      var $interval = transformArguments(interval, key, i)[1];\n      var $delay = transformArguments(delay, key, i)[1];\n      // 减掉 leaveUnfinishedChild 里的个数，因为 leaveUnfinishedChild 是旧的出场，不应该计录在队列里。\n      var order = (leaveReverse ? _this5.keysToLeave.length - i - 1 : i) - _this5.leaveUnfinishedChild.length;\n      $delay = $interval * order + $delay;\n      animation = _this5.getTweenEnterOrLeaveData(key, i, $delay, 'leave');\n    } else {\n      // 处理进场;\n      i = toArrayChildren(children).findIndex(function (c) {\n        return c && c.key === key;\n      });\n      ref = function ref(c) {\n        _this5.childRefs[key] = c && c.currentRef ? c.currentRef : c;\n      };\n      // appear=\bfalse 时，设定 childrenShow 和 tweenToEnter 都为 true, 这里不渲染 animation;\n      if (_this5.tweenToEnter[key] && !forcedReplay) {\n        // 如果是已进入的，将直接返回标签。。\n        return createElement(TweenOne, {\n          key: key,\n          component: child.type,\n          forcedJudg: forcedJudg,\n          componentProps: child.props,\n          ref: ref\n        });\n      }\n      if (!_this5.tweenToEnter[key] || forcedReplay) {\n        animation = _this5.getTweenEnterOrLeaveData(key, i, 0, 'enter');\n      }\n    }\n    var paused = _this5.keysToEnterPaused[key] && _this5.keysToLeave.indexOf(key) === -1;\n    animation = paused ? null : animation;\n    var tag = createElement(TweenOne, {\n      key: key,\n      component: child.type,\n      forcedJudg: forcedJudg,\n      componentProps: child.props,\n      animation: animation,\n      ref: ref\n    });\n    _this5.saveTweenOneTag[key] = tag;\n    return tag;\n  };\n\n  this.performEnter = function (key, i) {\n    var interval = transformArguments(_this5.props.interval, key, i)[0];\n    var delay = transformArguments(_this5.props.delay, key, i)[0];\n    _this5.placeholderTimeoutIds[key] = ticker.timeout(_this5.performEnterBegin.bind(_this5, key), interval * i + delay);\n    if (_this5.keysToEnter.indexOf(key) >= 0) {\n      _this5.keysToEnter.splice(_this5.keysToEnter.indexOf(key), 1);\n    }\n  };\n\n  this.performEnterBegin = function (key) {\n    var childrenShow = _this5.state.childrenShow;\n    childrenShow[key] = true;\n    delete _this5.keysToEnterPaused[key];\n    ticker.clear(_this5.placeholderTimeoutIds[key]);\n    delete _this5.placeholderTimeoutIds[key];\n    _this5.setState({ childrenShow: childrenShow });\n  };\n\n  this.performLeave = function (key) {\n    ticker.clear(_this5.placeholderTimeoutIds[key]);\n    delete _this5.placeholderTimeoutIds[key];\n  };\n\n  this.enterBegin = function (key, e) {\n    var elem = e.target;\n    var animatingClassName = _this5.props.animatingClassName;\n    elem.className = elem.className.replace(animatingClassName[1], '');\n    if (elem.className.indexOf(animatingClassName[0]) === -1) {\n      elem.className = (elem.className + ' ' + animatingClassName[0]).trim();\n    }\n    _this5.childrenShow[key] = true;\n  };\n\n  this.enterComplete = function (key, e) {\n    if (_this5.keysToEnterPaused[key] || _this5.keysToLeave.indexOf(key) >= 0) {\n      return;\n    }\n    var elem = e.target;\n    elem.className = elem.className.replace(_this5.props.animatingClassName[0], '').trim();\n    _this5.tweenToEnter[key] = true;\n    _this5.props.onEnd({ key: key, type: 'enter', target: elem });\n  };\n\n  this.leaveBegin = function (key, e) {\n    var elem = e.target;\n    var animatingClassName = _this5.props.animatingClassName;\n    elem.className = elem.className.replace(animatingClassName[0], '');\n    if (elem.className.indexOf(animatingClassName[1]) === -1) {\n      elem.className = (elem.className + ' ' + animatingClassName[1]).trim();\n    }\n    delete _this5.tweenToEnter[key];\n  };\n\n  this.leaveComplete = function (key, e) {\n    // 切换时同时触发 onComplete。 手动跳出。。。\n    if (toArrayChildren(_this5.props.children).findIndex(function (c) {\n      return c && c.key === key;\n    }) >= 0) {\n      return;\n    }\n    var childrenShow = _this5.state.childrenShow;\n    delete childrenShow[key];\n    delete _this5.saveTweenOneTag[key];\n    delete _this5.childrenShow[key];\n    if (_this5.keysToLeave.indexOf(key) >= 0) {\n      _this5.keysToLeave.splice(_this5.keysToLeave.indexOf(key), 1);\n    }\n    var needLeave = _this5.keysToLeave.some(function (c) {\n      return childrenShow[c];\n    });\n    if (!needLeave) {\n      var currentChildren = toArrayChildren(getChildrenFromProps(_this5.props));\n      _this5.setState({\n        children: currentChildren,\n        childrenShow: childrenShow\n      });\n    }\n    var elem = e.target;\n    elem.className = elem.className.replace(_this5.props.animatingClassName[1], '').trim();\n    _this5.props.onEnd({ key: key, type: 'leave', target: elem });\n  };\n};\n\nQueueAnim.isQueueAnim = true;\nexport default polyfill(QueueAnim);"]}]}
{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/pages/InvReqPage/InvReqDetailPage/Bought/Setting/TransactionSetting.tsx","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/pages/InvReqPage/InvReqDetailPage/Bought/Setting/TransactionSetting.tsx","mtime":1596379644559},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = (this && this.__metadata) || function (k, v) {\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { observer } from \"mobx-react\";\nimport Col from \"antd/lib/col\";\nimport \"antd/lib/col/style/index.js\";\nimport Row from \"antd/lib/row\";\nimport \"antd/lib/row/style/index.js\";\nimport InputNumber from \"antd/lib/input-number\";\nimport \"antd/lib/input-number/style/index.js\";\nimport Radio from \"antd/lib/radio\";\nimport \"antd/lib/radio/style/index.js\";\nimport Button from \"antd/lib/button\";\nimport \"antd/lib/button/style/index.js\";\nimport Card from \"antd/lib/card\";\nimport \"antd/lib/card/style/index.js\";\nimport TimePicker from \"antd/lib/time-picker\";\nimport \"antd/lib/time-picker/style/index.js\";\nimport Divider from \"antd/lib/divider\";\nimport \"antd/lib/divider/style/index.js\";\nimport { Inject } from \"react.di\";\nimport { InvreqService } from \"../../../../../api/InvreqService\";\nvar FieldRow = styled(Row).withConfig({ displayName: \"FieldRow\" })(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n  margin: 4px 0;\\n\"], [\"\\n  margin: 4px 0;\\n\"])));\nvar TransactionSetting = (function (_super) {\n    __extends(TransactionSetting, _super);\n    function TransactionSetting() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            disable: _this.props.beModified,\n            defaultConfirm: _this.props.data.defaultConfirm,\n            tranTime: _this.props.data.planTranTime,\n            remindTime: _this.props.data.planRemindTime,\n            minMoney: _this.props.data.minConfirmedPrice,\n            confirmTime: _this.props.data.confirmTime,\n        };\n        _this.setRadio = function (e) {\n            _this.setState({\n                defaultConfirm: e.target.value,\n            });\n        };\n        _this.setTranTime = function (value) {\n            _this.setState({\n                tranTime: value,\n            });\n        };\n        _this.setRemindTime = function (value) {\n            _this.setState({\n                remindTime: value,\n            });\n        };\n        _this.setMinMoney = function (value) {\n            _this.setState({\n                minMoney: value,\n            });\n        };\n        _this.setConfirmTime = function (value) {\n            _this.setState({\n                confirmTime: value,\n            });\n        };\n        _this.edit = function (e) {\n            _this.setState({\n                disable: !_this.state.disable,\n            });\n        };\n        _this.save = function () { return __awaiter(_this, void 0, void 0, function () {\n            var settingData, res, e_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        settingData = {\n                            planTranTime: this.state.tranTime,\n                            planRemindTime: this.state.remindTime,\n                            minConfirmedPrice: this.state.minMoney,\n                            confirmTime: this.state.confirmTime,\n                            defaultConfirm: this.state.defaultConfirm,\n                        };\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4, this.service.setBoughtTranSetting(this.props.id, settingData)];\n                    case 2:\n                        res = _a.sent();\n                        this.setState({ disable: true });\n                        return [3, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        this.setState({ disable: true });\n                        return [3, 4];\n                    case 4: return [2];\n                }\n            });\n        }); };\n        _this.cancel = function (e) {\n            _this.setState({\n                disable: true,\n                defaultConfirm: _this.props.data.defaultConfirm,\n                tranTime: _this.props.data.planTranTime,\n                remindTime: _this.props.data.planRemindTime,\n                minMoney: _this.props.data.minConfirmedPrice,\n                confirmTime: _this.props.data.confirmTime,\n            });\n        };\n        return _this;\n    }\n    TransactionSetting.prototype.render = function () {\n        return (React.createElement(Card, null,\n            React.createElement(Row, null,\n                React.createElement(Col, { span: 3, offset: 20 },\n                    React.createElement(Button, { type: \"primary\", onClick: this.edit, hidden: !this.props.beModified }, \"\\u7F16\\u8F91\"))),\n            React.createElement(\"div\", null,\n                React.createElement(Row, { style: { margin: \"4px 0\" } },\n                    React.createElement(Col, { xs: 8 },\n                        React.createElement(\"p\", null, \"\\u8BA1\\u5212\\u4E8E\\u5317\\u4EAC\\u65F6\\u95F4\")),\n                    React.createElement(Col, { xs: 6 },\n                        React.createElement(InputNumber, { size: \"small\", style: { width: \"80px\" }, disabled: this.state.disable, min: 0, max: 23, defaultValue: this.state.tranTime, onChange: this.setTranTime })),\n                    React.createElement(Col, { xs: 10 },\n                        React.createElement(\"p\", null, \"\\u65F6(24\\u5C0F\\u65F6\\u5236)\\u8FDB\\u884C\\u4EA4\\u6613\"))),\n                React.createElement(FieldRow, null,\n                    React.createElement(Col, { span: 8 },\n                        React.createElement(\"p\", null, \"\\u5728\\u8BA1\\u5212\\u4EA4\\u6613\\u65F6\\u95F4\\u4E4B\\u524D\")),\n                    React.createElement(Col, { span: 6 },\n                        React.createElement(InputNumber, { min: 1, max: 24, defaultValue: this.state.remindTime, size: \"small\", style: { width: \"80px\" }, disabled: this.state.disable, onChange: this.setRemindTime })),\n                    React.createElement(Col, { span: 10 },\n                        React.createElement(\"p\", null, \"\\u5C0F\\u65F6\\u63D0\\u9192\\u6211\\u6709\\u4EA4\\u6613\"))),\n                React.createElement(FieldRow, null,\n                    React.createElement(Col, { span: 8 },\n                        React.createElement(\"p\", null, \"\\u4EA4\\u6613\\u989D\\u8D85\\u8FC7\")),\n                    React.createElement(Col, { span: 6 },\n                        React.createElement(InputNumber, { min: 0, step: 1, defaultValue: this.state.minMoney, size: \"small\", style: { width: \"80px\" }, disabled: this.state.disable, onChange: this.setMinMoney })),\n                    React.createElement(Col, { span: 10 },\n                        React.createElement(\"p\", null, \"\\u5143\\u9700\\u624B\\u52A8\\u786E\\u8BA4\\u4EA4\\u6613\"))),\n                React.createElement(FieldRow, null,\n                    React.createElement(Col, { span: 8 },\n                        React.createElement(\"p\", null, \"\\u82E5\\u6D88\\u606F\\u53D1\\u51FA\\u8D85\\u8FC7\")),\n                    React.createElement(Col, { span: 6 },\n                        React.createElement(InputNumber, { min: 0, max: 24, defaultValue: this.state.confirmTime, style: { width: \"80px\" }, size: \"small\", disabled: this.state.disable, onChange: this.setConfirmTime })),\n                    React.createElement(Col, { span: 10 },\n                        React.createElement(\"p\", null, \"\\u5C0F\\u65F6\\u672A\\u786E\\u8BA4\\uFF0C\\u6267\\u884C\\u9ED8\\u8BA4\\u64CD\\u4F5C\"))),\n                React.createElement(FieldRow, null,\n                    React.createElement(Col, { span: 8 },\n                        React.createElement(\"p\", null, \"\\u9ED8\\u8BA4\\u64CD\\u4F5C\")),\n                    React.createElement(Col, { span: 8 },\n                        React.createElement(Radio.Group, { onChange: this.setRadio, defaultValue: this.state.defaultConfirm, disabled: this.state.disable },\n                            React.createElement(Radio, { value: true }, \"\\u786E\\u8BA4\\u4EA4\\u6613\"),\n                            React.createElement(Radio, { value: false }, \"\\u53D6\\u6D88\\u4EA4\\u6613\"))),\n                    React.createElement(\"div\", { style: { marginTop: \"40px\", float: \"right\" }, hidden: !this.props.beModified },\n                        React.createElement(Button, { hidden: this.state.disable, type: \"primary\", onClick: this.save }, \"\\u4FDD\\u5B58\"),\n                        React.createElement(Button, { hidden: this.state.disable, style: { marginLeft: \"10px\" }, onClick: this.cancel }, \"\\u53D6\\u6D88\"))))));\n    };\n    var _a;\n    __decorate([\n        Inject,\n        __metadata(\"design:type\", typeof (_a = typeof InvreqService !== \"undefined\" && InvreqService) === \"function\" ? _a : Object)\n    ], TransactionSetting.prototype, \"service\", void 0);\n    TransactionSetting = __decorate([\n        observer\n    ], TransactionSetting);\n    return TransactionSetting;\n}(React.Component));\nexport { TransactionSetting };\nvar templateObject_1;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/pages/InvReqPage/InvReqDetailPage/Bought/Setting/TransactionSetting.tsx","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/src/app/pages/InvReqPage/InvReqDetailPage/Bought/Setting/TransactionSetting.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { observer } from \"mobx-react\";\r\nimport {Col, Row, InputNumber, Radio, Button, Card, TimePicker, Divider } from \"antd\";\r\nimport { LocaleMessage, LocaleStore } from \"../../../../../internationalization/index\";\r\nimport lang from \"../../../../../internationalization/LocaleStore/lang\";\r\nimport { Inject } from \"react.di\";\r\nimport {BoughtTranSetting} from \"../../../../../models/invreq/Bought/BoughtTranSetting\";\r\nimport moment from \"moment\";\r\nimport {InvreqServiceMock} from \"../../../../../api/mock/InvreqServiceMock\";\r\nimport { InvreqService } from \"../../../../../api/InvreqService\";\r\nimport PaddingCard from \"../../../../../components/PaddingLayouts/PaddingCard\";\r\n\r\ninterface Props {\r\n  data: BoughtTranSetting;\r\n  id: string;\r\n  beModified: boolean;\r\n}\r\n\r\ninterface State {\r\n  disable: boolean;\r\n  defaultConfirm: boolean;\r\n  tranTime: number;\r\n  remindTime: number;\r\n  minMoney: number;\r\n  confirmTime: number;\r\n}\r\n\r\nconst FieldRow = styled(Row as any)`\r\n  margin: 4px 0;\r\n`;\r\n\r\n@observer\r\nexport class TransactionSetting extends React.Component<Props, State> {\r\n  @Inject service: InvreqService;\r\n\r\n  state = {\r\n    disable: this.props.beModified,\r\n    defaultConfirm: this.props.data.defaultConfirm,\r\n    tranTime: this.props.data.planTranTime,\r\n    remindTime: this.props.data.planRemindTime,\r\n    minMoney: this.props.data.minConfirmedPrice,\r\n    confirmTime: this.props.data.confirmTime,\r\n  };\r\n\r\n  setRadio = (e) => {\r\n    this.setState({\r\n      defaultConfirm: e.target.value,\r\n    });\r\n  }\r\n\r\n  setTranTime = (value) => {\r\n    this.setState({\r\n      tranTime: value,\r\n    });\r\n  }\r\n\r\n  setRemindTime = (value) => {\r\n    this.setState({\r\n      remindTime: value,\r\n    });\r\n  }\r\n\r\n  setMinMoney = (value) => {\r\n    this.setState({\r\n      minMoney: value,\r\n    });\r\n  }\r\n\r\n  setConfirmTime = (value) => {\r\n    this.setState({\r\n      confirmTime: value,\r\n    });\r\n  }\r\n\r\n  edit = (e) => {\r\n    this.setState({\r\n      disable: !this.state.disable,\r\n    });\r\n  }\r\n\r\n  save = async () => {\r\n\r\n    const settingData = {\r\n      planTranTime: this.state.tranTime ,\r\n      planRemindTime: this.state.remindTime,\r\n      minConfirmedPrice: this.state.minMoney,\r\n      confirmTime: this.state.confirmTime,\r\n      defaultConfirm: this.state.defaultConfirm,\r\n    };\r\n\r\n    try {\r\n      const res = await this.service.setBoughtTranSetting(this.props.id, settingData);\r\n      this.setState({disable: true});\r\n    } catch (e) {\r\n      this.setState({disable: true});\r\n    }\r\n  }\r\n\r\n  cancel = (e) => {\r\n    this.setState({\r\n      disable: true,\r\n      defaultConfirm: this.props.data.defaultConfirm,\r\n      tranTime: this.props.data.planTranTime,\r\n      remindTime: this.props.data.planRemindTime,\r\n      minMoney: this.props.data.minConfirmedPrice,\r\n      confirmTime: this.props.data.confirmTime,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Card>\r\n        <Row>\r\n\r\n          <Col span={3} offset={20}>\r\n            <Button type={\"primary\"}\r\n                    onClick={this.edit}\r\n                    hidden={!this.props.beModified}\r\n            >编辑</Button>\r\n          </Col>\r\n        </Row>\r\n\r\n        <div>\r\n\r\n          <Row style={{margin: \"4px 0\"}}>\r\n            <Col xs={8}>\r\n              <p>计划于北京时间</p>\r\n            </Col>\r\n            <Col xs={6} >\r\n              <InputNumber size={\"small\"}\r\n                           style={{width: \"80px\"}}\r\n                           disabled={this.state.disable}\r\n                           min={0}\r\n                           max={23}\r\n                           defaultValue={this.state.tranTime}\r\n                           onChange={this.setTranTime}/>\r\n            </Col>\r\n            <Col xs={10}>\r\n              <p>时(24小时制)进行交易</p>\r\n            </Col>\r\n          </Row>\r\n          <FieldRow>\r\n            <Col span={8}>\r\n              <p>在计划交易时间之前</p>\r\n            </Col>\r\n            <Col span={6} >\r\n              <InputNumber min={1}\r\n                           max={24}\r\n                           defaultValue={this.state.remindTime}\r\n                           size={\"small\"}\r\n                           style={{width: \"80px\"}}\r\n                           disabled={this.state.disable}\r\n                           onChange={this.setRemindTime}/>\r\n            </Col>\r\n            <Col span={10} >\r\n              <p>小时提醒我有交易</p>\r\n            </Col>\r\n          </FieldRow>\r\n\r\n          <FieldRow>\r\n            <Col span={8}>\r\n              <p>交易额超过</p>\r\n            </Col>\r\n            <Col span={6} >\r\n              <InputNumber min={0}\r\n                           step={1}\r\n                           defaultValue={this.state.minMoney}\r\n                           size={\"small\"}\r\n                           style={{width: \"80px\"}}\r\n                           disabled={this.state.disable}\r\n                           onChange={this.setMinMoney}/>\r\n            </Col>\r\n            <Col span={10} >\r\n              <p>元需手动确认交易</p>\r\n            </Col>\r\n          </FieldRow>\r\n\r\n          <FieldRow>\r\n            <Col span={8}>\r\n              <p>若消息发出超过</p>\r\n            </Col>\r\n            <Col span={6} >\r\n              <InputNumber min={0}\r\n                           max={24}\r\n                           defaultValue={this.state.confirmTime}\r\n                           style={{width: \"80px\"}}\r\n                           size={\"small\"}\r\n                           disabled={this.state.disable} onChange={this.setConfirmTime}/>\r\n            </Col>\r\n            <Col span={10} >\r\n              <p>小时未确认，执行默认操作</p>\r\n            </Col>\r\n          </FieldRow>\r\n\r\n          <FieldRow>\r\n            <Col span={8}>\r\n              <p>默认操作</p>\r\n            </Col>\r\n            <Col span={8} >\r\n              <Radio.Group onChange={this.setRadio}\r\n                           defaultValue={this.state.defaultConfirm}\r\n                           disabled={this.state.disable}>\r\n                <Radio value={true}>确认交易</Radio>\r\n                <Radio value={false}>取消交易</Radio>\r\n              </Radio.Group>\r\n            </Col>\r\n\r\n            <div style={{marginTop: \"40px\", float: \"right\"}} hidden={!this.props.beModified}>\r\n              <Button\r\n                hidden={this.state.disable}\r\n                type={\"primary\"}\r\n                onClick={this.save}\r\n              >保存</Button>\r\n              <Button\r\n                hidden={this.state.disable}\r\n                style={{marginLeft: \"10px\"}}\r\n                onClick={this.cancel}\r\n              >取消</Button>\r\n            </div>\r\n          </FieldRow>\r\n\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n"]}]}
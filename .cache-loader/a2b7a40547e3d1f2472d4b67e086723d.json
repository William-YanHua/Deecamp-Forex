{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/controller/annotation.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/controller/annotation.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import { __assign, __extends, __rest } from \"tslib\";\nimport { contains, deepMix, each, get, isArray, isFunction, isNil, isString, keys, upperFirst } from '@antv/util';\nimport { Annotation as AnnotationComponent } from '../../dependents';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { Controller } from './base';\nvar Annotation = (function (_super) {\n    __extends(Annotation, _super);\n    function Annotation(view) {\n        var _this = _super.call(this, view) || this;\n        _this.cache = new Map();\n        _this.foregroundContainer = _this.view.getLayer(LAYER.FORE).addGroup();\n        _this.backgroundContainer = _this.view.getLayer(LAYER.BG).addGroup();\n        _this.option = [];\n        return _this;\n    }\n    Object.defineProperty(Annotation.prototype, \"name\", {\n        get: function () {\n            return 'annotation';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Annotation.prototype.init = function () { };\n    Annotation.prototype.layout = function () {\n        var _this = this;\n        var components = this.getComponents();\n        var updateComponentFn = function (co) {\n            var component = co.component, extra = co.extra;\n            var type = extra.type;\n            var theme = _this.getAnnotationTheme(type);\n            component.update(_this.getAnnotationCfg(type, extra, theme));\n        };\n        var createComponentFn = function (option) {\n            var co = _this.createAnnotation(option);\n            if (co) {\n                co.component.init();\n                if (option.type === 'regionFilter') {\n                    co.component.render();\n                }\n                _this.cache.set(option, co);\n            }\n        };\n        if (components.length) {\n            each(components, function (co) {\n                var component = co.component;\n                if (component.get('type') === 'regionFilter') {\n                    _this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, function () {\n                        updateComponentFn(co);\n                    });\n                }\n                else {\n                    updateComponentFn(co);\n                }\n            });\n        }\n        else {\n            each(this.option, function (option) {\n                if (option.type === 'regionFilter') {\n                    _this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, function () {\n                        createComponentFn(option);\n                    });\n                }\n                else {\n                    createComponentFn(option);\n                }\n            });\n        }\n    };\n    Annotation.prototype.render = function () {\n    };\n    Annotation.prototype.update = function () {\n        var _this = this;\n        var updated = new WeakMap();\n        var updateComponentFn = function (option) {\n            var type = option.type;\n            var theme = _this.getAnnotationTheme(type);\n            var cfg = _this.getAnnotationCfg(type, option, theme);\n            var existCo = _this.cache.get(option);\n            if (existCo) {\n                omit(cfg, ['container']);\n                existCo.component.update(cfg);\n                updated.set(option, true);\n            }\n            else {\n                var co = _this.createAnnotation(option);\n                if (co) {\n                    co.component.init();\n                    if (option.type === 'regionFilter') {\n                        co.component.render();\n                    }\n                    _this.cache.set(option, co);\n                    updated.set(option, true);\n                }\n            }\n        };\n        this.view.once(VIEW_LIFE_CIRCLE.AFTER_RENDER, function () {\n            each(_this.option, function (option) {\n                if (option.type === 'regionFilter') {\n                    updateComponentFn(option);\n                }\n            });\n            var newCache = new Map();\n            _this.cache.forEach(function (value, key) {\n                if (updated.has(key)) {\n                    newCache.set(key, value);\n                }\n                else {\n                    value.component.destroy();\n                }\n            });\n            _this.cache = newCache;\n        });\n        each(this.option, function (option) {\n            if (option.type !== 'regionFilter') {\n                updateComponentFn(option);\n            }\n        });\n    };\n    Annotation.prototype.clear = function (includeOption) {\n        if (includeOption === void 0) {\n            includeOption = false;\n        }\n        _super.prototype.clear.call(this);\n        this.cache.clear();\n        this.foregroundContainer.clear();\n        this.backgroundContainer.clear();\n        if (includeOption) {\n            this.option = [];\n        }\n    };\n    Annotation.prototype.destroy = function () {\n        this.clear(true);\n        this.foregroundContainer.remove(true);\n        this.backgroundContainer.remove(true);\n    };\n    Annotation.prototype.getComponents = function () {\n        var co = [];\n        this.cache.forEach(function (value) {\n            co.push(value);\n        });\n        return co;\n    };\n    Annotation.prototype.createAnnotation = function (option) {\n        var type = option.type;\n        var Ctor = AnnotationComponent[upperFirst(type)];\n        if (Ctor) {\n            var theme = this.getAnnotationTheme(type);\n            var cfg = this.getAnnotationCfg(type, option, theme);\n            var annotation = new Ctor(cfg);\n            return {\n                component: annotation,\n                layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n                direction: DIRECTION.NONE,\n                type: COMPONENT_TYPE.ANNOTATION,\n                extra: option,\n            };\n        }\n    };\n    Annotation.prototype.annotation = function (option) {\n        this.option.push(option);\n    };\n    Annotation.prototype.arc = function (option) {\n        this.annotation(__assign({ type: 'arc' }, option));\n        return this;\n    };\n    Annotation.prototype.image = function (option) {\n        this.annotation(__assign({ type: 'image' }, option));\n        return this;\n    };\n    Annotation.prototype.line = function (option) {\n        this.annotation(__assign({ type: 'line' }, option));\n        return this;\n    };\n    Annotation.prototype.region = function (option) {\n        this.annotation(__assign({ type: 'region' }, option));\n        return this;\n    };\n    Annotation.prototype.text = function (option) {\n        this.annotation(__assign({ type: 'text' }, option));\n        return this;\n    };\n    Annotation.prototype.dataMarker = function (option) {\n        this.annotation(__assign({ type: 'dataMarker' }, option));\n        return this;\n    };\n    Annotation.prototype.dataRegion = function (option) {\n        this.annotation(__assign({ type: 'dataRegion' }, option));\n    };\n    Annotation.prototype.regionFilter = function (option) {\n        this.annotation(__assign({ type: 'regionFilter' }, option));\n    };\n    Annotation.prototype.parsePosition = function (p) {\n        var xScale = this.view.getXScale();\n        var yScales = this.view.getScalesByDim('y');\n        var position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n        var x = 0;\n        var y = 0;\n        if (isArray(position)) {\n            var xPos = position[0], yPos = position[1];\n            if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n                return this.parsePercentPosition(position);\n            }\n            x = this.getNormalizedValue(xPos, xScale);\n            y = this.getNormalizedValue(yPos, Object.values(yScales)[0]);\n        }\n        else if (!isNil(position)) {\n            for (var _i = 0, _a = keys(position); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var value = position[key];\n                if (key === xScale.field) {\n                    x = this.getNormalizedValue(value, xScale);\n                }\n                if (yScales[key]) {\n                    y = this.getNormalizedValue(value, yScales[key]);\n                }\n            }\n        }\n        return this.view.getCoordinate().convert({ x: x, y: y });\n    };\n    Annotation.prototype.getRegionPoints = function (start, end) {\n        var _this = this;\n        var xScale = this.view.getXScale();\n        var yScales = this.view.getScalesByDim('y');\n        var yScale = Object.values(yScales)[0];\n        var xField = xScale.field;\n        var viewData = this.view.getData();\n        var startXValue = isArray(start) ? start[0] : start[xField];\n        var endXValue = isArray(end) ? end[0] : end[xField];\n        var arr = [];\n        var startIndex;\n        each(viewData, function (item, idx) {\n            if (item[xField] === startXValue) {\n                startIndex = idx;\n            }\n            if (idx >= startIndex) {\n                var point = _this.parsePosition([item[xField], item[yScale.field]]);\n                if (point) {\n                    arr.push(point);\n                }\n            }\n            if (item[xField] === endXValue) {\n                return false;\n            }\n        });\n        return arr;\n    };\n    Annotation.prototype.getNormalizedValue = function (val, scale) {\n        var result;\n        var scaled;\n        switch (val) {\n            case 'start':\n                result = 0;\n                break;\n            case 'end':\n                result = 1;\n                break;\n            case 'median': {\n                scaled = scale.isCategory ? (scale.values.length - 1) / 2 : (scale.min + scale.max) / 2;\n                result = scale.scale(scaled);\n                break;\n            }\n            case 'min':\n            case 'max':\n                if (scale.isCategory) {\n                    scaled = val === 'min' ? 0 : scale.values.length - 1;\n                }\n                else {\n                    scaled = scale[val];\n                }\n                result = scale.scale(scaled);\n                break;\n            default:\n                result = scale.scale(val);\n        }\n        return result;\n    };\n    Annotation.prototype.parsePercentPosition = function (position) {\n        var xPercent = parseFloat(position[0]) / 100;\n        var yPercent = parseFloat(position[1]) / 100;\n        var coordinate = this.view.getCoordinate();\n        var start = coordinate.start, end = coordinate.end;\n        var topLeft = {\n            x: Math.min(start.x, end.x),\n            y: Math.min(start.y, end.y),\n        };\n        var x = coordinate.getWidth() * xPercent + topLeft.x;\n        var y = coordinate.getHeight() * yPercent + topLeft.y;\n        return { x: x, y: y };\n    };\n    Annotation.prototype.getCoordinateBBox = function () {\n        var coordinate = this.view.getCoordinate();\n        var start = coordinate.start, end = coordinate.end;\n        var width = coordinate.getWidth();\n        var height = coordinate.getHeight();\n        var topLeft = {\n            x: Math.min(start.x, end.x),\n            y: Math.min(start.y, end.y),\n        };\n        return {\n            x: topLeft.x,\n            y: topLeft.y,\n            minX: topLeft.x,\n            minY: topLeft.y,\n            maxX: topLeft.x + width,\n            maxY: topLeft.y + height,\n            width: width,\n            height: height,\n        };\n    };\n    Annotation.prototype.getAnnotationCfg = function (type, option, theme) {\n        var coordinate = this.view.getCoordinate();\n        var o = {};\n        if (isNil(option)) {\n            return null;\n        }\n        if (type === 'arc') {\n            var _a = option, start = _a.start, end = _a.end;\n            var sp = this.parsePosition(start);\n            var ep = this.parsePosition(end);\n            var startAngle = getAngleByPoint(coordinate, sp);\n            var endAngle = getAngleByPoint(coordinate, ep);\n            if (startAngle > endAngle) {\n                endAngle = Math.PI * 2 + endAngle;\n            }\n            o = {\n                center: coordinate.getCenter(),\n                radius: getDistanceToCenter(coordinate, sp),\n                startAngle: startAngle,\n                endAngle: endAngle,\n            };\n        }\n        else if (type === 'image') {\n            var _b = option, start = _b.start, end = _b.end;\n            o = {\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n                src: option.src,\n            };\n        }\n        else if (type === 'line') {\n            var _c = option, start = _c.start, end = _c.end;\n            o = {\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n                text: get(option, 'text', null),\n            };\n        }\n        else if (type === 'region') {\n            var _d = option, start = _d.start, end = _d.end;\n            o = {\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n            };\n        }\n        else if (type === 'text') {\n            var _e = option, position = _e.position, rest = __rest(_e, [\"position\"]);\n            o = __assign(__assign({}, this.parsePosition(position)), rest);\n        }\n        else if (type === 'dataMarker') {\n            var _f = option, position = _f.position, point = _f.point, line = _f.line, text = _f.text, autoAdjust = _f.autoAdjust, direction = _f.direction;\n            o = __assign(__assign({}, this.parsePosition(position)), { coordinateBBox: this.getCoordinateBBox(), point: point,\n                line: line,\n                text: text,\n                autoAdjust: autoAdjust,\n                direction: direction });\n        }\n        else if (type === 'dataRegion') {\n            var _g = option, start = _g.start, end = _g.end, region = _g.region, text = _g.text, lineLength = _g.lineLength;\n            o = {\n                points: this.getRegionPoints(start, end),\n                region: region,\n                text: text,\n                lineLength: lineLength,\n            };\n        }\n        else if (type === 'regionFilter') {\n            var _h = option, start = _h.start, end = _h.end, apply_1 = _h.apply, color = _h.color;\n            var geometries = this.view.geometries;\n            var shapes_1 = [];\n            var addShapes_1 = function (item) {\n                if (!item) {\n                    return;\n                }\n                if (item.isGroup()) {\n                    item.getChildren().forEach(function (child) { return addShapes_1(child); });\n                }\n                else {\n                    shapes_1.push(item);\n                }\n            };\n            each(geometries, function (geom) {\n                if (apply_1) {\n                    if (contains(apply_1, geom.type)) {\n                        each(geom.elements, function (elem) {\n                            addShapes_1(elem.shape);\n                        });\n                    }\n                }\n                else {\n                    each(geom.elements, function (elem) {\n                        addShapes_1(elem.shape);\n                    });\n                }\n            });\n            o = {\n                color: color,\n                shapes: shapes_1,\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n            };\n        }\n        var cfg = deepMix({}, theme, __assign(__assign({}, o), { top: option.top, style: option.style, offsetX: option.offsetX, offsetY: option.offsetY }));\n        cfg.container = this.getComponentContainer(cfg);\n        cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate);\n        cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n        return cfg;\n    };\n    Annotation.prototype.isTop = function (option) {\n        return get(option, 'top', true);\n    };\n    Annotation.prototype.getComponentContainer = function (option) {\n        return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n    };\n    Annotation.prototype.getAnnotationTheme = function (type) {\n        return get(this.view.getTheme(), ['components', 'annotation', type], {});\n    };\n    return Annotation;\n}(Controller));\nexport default Annotation;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/controller/annotation.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/@antv/g2plot/node_modules/@antv/g2/esm/chart/controller/annotation.js"],"names":[],"mappings":"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","sourcesContent":["import { __assign, __extends, __rest } from \"tslib\";\nimport { contains, deepMix, each, get, isArray, isFunction, isNil, isString, keys, upperFirst } from '@antv/util';\nimport { Annotation as AnnotationComponent } from '../../dependents';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { Controller } from './base';\n/**\n * Annotation controller, 主要作用:\n * 1. 创建 Annotation: line、text、arc ...\n * 2. 生命周期: init、layout、render、clear、destroy\n */\nvar Annotation = /** @class */ (function (_super) {\n    __extends(Annotation, _super);\n    function Annotation(view) {\n        var _this = _super.call(this, view) || this;\n        /* 组件更新的 cache，组件配置 object : 组件 */\n        _this.cache = new Map();\n        _this.foregroundContainer = _this.view.getLayer(LAYER.FORE).addGroup();\n        _this.backgroundContainer = _this.view.getLayer(LAYER.BG).addGroup();\n        _this.option = [];\n        return _this;\n    }\n    Object.defineProperty(Annotation.prototype, \"name\", {\n        get: function () {\n            return 'annotation';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Annotation.prototype.init = function () { };\n    Annotation.prototype.layout = function () {\n        var _this = this;\n        var components = this.getComponents();\n        var updateComponentFn = function (co) {\n            var component = co.component, extra = co.extra;\n            var type = extra.type;\n            var theme = _this.getAnnotationTheme(type);\n            component.update(_this.getAnnotationCfg(type, extra, theme));\n        };\n        var createComponentFn = function (option) {\n            var co = _this.createAnnotation(option);\n            if (co) {\n                co.component.init();\n                // Note：regionFilter 特殊处理，regionFilter需要取到 Geometry 中的 Shape，需要在 view render 之后处理\n                // 其他组件使用外层的统一 render 逻辑\n                if (option.type === 'regionFilter') {\n                    co.component.render();\n                }\n                // 缓存起来\n                _this.cache.set(option, co);\n            }\n        };\n        if (components.length) {\n            each(components, function (co) {\n                var component = co.component;\n                if (component.get('type') === 'regionFilter') {\n                    // regionFilter 依赖绘制后的 Geometry Shapes\n                    _this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, function () {\n                        updateComponentFn(co);\n                    });\n                }\n                else {\n                    updateComponentFn(co);\n                }\n            });\n        }\n        else {\n            each(this.option, function (option) {\n                if (option.type === 'regionFilter') {\n                    _this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, function () {\n                        // regionFilter 依赖绘制后的 Geometry Shapes\n                        createComponentFn(option);\n                    });\n                }\n                else {\n                    createComponentFn(option);\n                }\n            });\n        }\n    };\n    Annotation.prototype.render = function () {\n        // 因为 Annotation 不参与布局，但是渲染的位置依赖于坐标系，所以可以将绘制阶段延迟到 layout() 进行\n    };\n    /**\n     * 更新\n     */\n    Annotation.prototype.update = function () {\n        var _this = this;\n        // 已经处理过的 legend\n        var updated = new WeakMap();\n        var updateComponentFn = function (option) {\n            var type = option.type;\n            var theme = _this.getAnnotationTheme(type);\n            var cfg = _this.getAnnotationCfg(type, option, theme);\n            var existCo = _this.cache.get(option);\n            // 存在，则更新\n            if (existCo) {\n                // 忽略掉一些配置\n                omit(cfg, ['container']);\n                existCo.component.update(cfg);\n                updated.set(option, true);\n            }\n            else {\n                // 不存在，则创建\n                var co = _this.createAnnotation(option);\n                if (co) {\n                    co.component.init();\n                    // Note：regionFilter 特殊处理，regionFilter需要取到 Geometry 中的 Shape，需要在 view render 之后处理\n                    // 其他组件使用外层的统一 render 逻辑\n                    if (option.type === 'regionFilter') {\n                        co.component.render();\n                    }\n                    // 缓存起来\n                    _this.cache.set(option, co);\n                    updated.set(option, true);\n                }\n            }\n        };\n        this.view.once(VIEW_LIFE_CIRCLE.AFTER_RENDER, function () {\n            // 先看是否有 regionFilter 要更新\n            each(_this.option, function (option) {\n                if (option.type === 'regionFilter') {\n                    updateComponentFn(option);\n                }\n            });\n            // 处理完成之后，销毁删除的\n            // 不在处理中的\n            var newCache = new Map();\n            _this.cache.forEach(function (value, key) {\n                if (updated.has(key)) {\n                    newCache.set(key, value);\n                }\n                else {\n                    // 不存在，则是所有需要被销毁的组件\n                    value.component.destroy();\n                }\n            });\n            // 更新缓存\n            _this.cache = newCache;\n        });\n        each(this.option, function (option) {\n            if (option.type !== 'regionFilter') {\n                updateComponentFn(option);\n            }\n        });\n    };\n    /**\n     * 清空\n     * @param includeOption 是否清空 option 配置项\n     */\n    Annotation.prototype.clear = function (includeOption) {\n        if (includeOption === void 0) { includeOption = false; }\n        _super.prototype.clear.call(this);\n        this.cache.clear();\n        this.foregroundContainer.clear();\n        this.backgroundContainer.clear();\n        // clear all option\n        if (includeOption) {\n            this.option = [];\n        }\n    };\n    Annotation.prototype.destroy = function () {\n        this.clear(true);\n        this.foregroundContainer.remove(true);\n        this.backgroundContainer.remove(true);\n    };\n    /**\n     * 复写基类的方法\n     */\n    Annotation.prototype.getComponents = function () {\n        var co = [];\n        this.cache.forEach(function (value) {\n            co.push(value);\n        });\n        return co;\n    };\n    Annotation.prototype.createAnnotation = function (option) {\n        var type = option.type;\n        var Ctor = AnnotationComponent[upperFirst(type)];\n        if (Ctor) {\n            var theme = this.getAnnotationTheme(type);\n            var cfg = this.getAnnotationCfg(type, option, theme);\n            var annotation = new Ctor(cfg);\n            return {\n                component: annotation,\n                layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n                direction: DIRECTION.NONE,\n                type: COMPONENT_TYPE.ANNOTATION,\n                extra: option,\n            };\n        }\n    };\n    // APIs for creating annotation component\n    Annotation.prototype.annotation = function (option) {\n        this.option.push(option);\n    };\n    /**\n     * 创建 Arc\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.arc = function (option) {\n        this.annotation(__assign({ type: 'arc' }, option));\n        return this;\n    };\n    /**\n     * 创建 image\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.image = function (option) {\n        this.annotation(__assign({ type: 'image' }, option));\n        return this;\n    };\n    /**\n     * 创建 Line\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.line = function (option) {\n        this.annotation(__assign({ type: 'line' }, option));\n        return this;\n    };\n    /**\n     * 创建 Region\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.region = function (option) {\n        this.annotation(__assign({ type: 'region' }, option));\n        return this;\n    };\n    /**\n     * 创建 Text\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.text = function (option) {\n        this.annotation(__assign({ type: 'text' }, option));\n        return this;\n    };\n    /**\n     * 创建 DataMarker\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.dataMarker = function (option) {\n        this.annotation(__assign({ type: 'dataMarker' }, option));\n        return this;\n    };\n    /**\n     * 创建 DataRegion\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.dataRegion = function (option) {\n        this.annotation(__assign({ type: 'dataRegion' }, option));\n    };\n    /**\n     * 创建 RegionFilter\n     * @param option\n     * @returns AnnotationController\n     */\n    Annotation.prototype.regionFilter = function (option) {\n        this.annotation(__assign({ type: 'regionFilter' }, option));\n    };\n    // end API\n    /**\n     * parse the point position to [x, y]\n     * @param p Position\n     * @returns { x, y }\n     */\n    Annotation.prototype.parsePosition = function (p) {\n        var xScale = this.view.getXScale();\n        // 转成 object\n        var yScales = this.view.getScalesByDim('y');\n        var position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n        var x = 0;\n        var y = 0;\n        // 入参是 [24, 24] 这类时\n        if (isArray(position)) {\n            var xPos = position[0], yPos = position[1];\n            // 如果数据格式是 ['50%', '50%'] 的格式\n            // fix: 原始数据中可能会包含 'xxx5%xxx' 这样的数据，需要判断下 https://github.com/antvis/f2/issues/590\n            // @ts-ignore\n            if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n                return this.parsePercentPosition(position);\n            }\n            x = this.getNormalizedValue(xPos, xScale);\n            y = this.getNormalizedValue(yPos, Object.values(yScales)[0]);\n        }\n        else if (!isNil(position)) {\n            // 入参是 object 结构，数据点\n            for (var _i = 0, _a = keys(position); _i < _a.length; _i++) {\n                var key = _a[_i];\n                var value = position[key];\n                if (key === xScale.field) {\n                    x = this.getNormalizedValue(value, xScale);\n                }\n                if (yScales[key]) {\n                    y = this.getNormalizedValue(value, yScales[key]);\n                }\n            }\n        }\n        return this.view.getCoordinate().convert({ x: x, y: y });\n    };\n    /**\n     * parse all the points between start and end\n     * @param start\n     * @param end\n     * @return Point[]\n     */\n    Annotation.prototype.getRegionPoints = function (start, end) {\n        var _this = this;\n        var xScale = this.view.getXScale();\n        var yScales = this.view.getScalesByDim('y');\n        var yScale = Object.values(yScales)[0];\n        var xField = xScale.field;\n        var viewData = this.view.getData();\n        var startXValue = isArray(start) ? start[0] : start[xField];\n        var endXValue = isArray(end) ? end[0] : end[xField];\n        var arr = [];\n        var startIndex;\n        each(viewData, function (item, idx) {\n            if (item[xField] === startXValue) {\n                startIndex = idx;\n            }\n            if (idx >= startIndex) {\n                var point = _this.parsePosition([item[xField], item[yScale.field]]);\n                if (point) {\n                    arr.push(point);\n                }\n            }\n            if (item[xField] === endXValue) {\n                return false;\n            }\n        });\n        return arr;\n    };\n    /**\n     * parse the value position\n     * @param val\n     * @param scale\n     */\n    Annotation.prototype.getNormalizedValue = function (val, scale) {\n        var result;\n        var scaled;\n        switch (val) {\n            case 'start':\n                result = 0;\n                break;\n            case 'end':\n                result = 1;\n                break;\n            case 'median': {\n                scaled = scale.isCategory ? (scale.values.length - 1) / 2 : (scale.min + scale.max) / 2;\n                result = scale.scale(scaled);\n                break;\n            }\n            case 'min':\n            case 'max':\n                if (scale.isCategory) {\n                    scaled = val === 'min' ? 0 : scale.values.length - 1;\n                }\n                else {\n                    scaled = scale[val];\n                }\n                result = scale.scale(scaled);\n                break;\n            default:\n                result = scale.scale(val);\n        }\n        return result;\n    };\n    /**\n     * parse percent position\n     * @param position\n     */\n    Annotation.prototype.parsePercentPosition = function (position) {\n        var xPercent = parseFloat(position[0]) / 100;\n        var yPercent = parseFloat(position[1]) / 100;\n        var coordinate = this.view.getCoordinate();\n        var start = coordinate.start, end = coordinate.end;\n        var topLeft = {\n            x: Math.min(start.x, end.x),\n            y: Math.min(start.y, end.y),\n        };\n        var x = coordinate.getWidth() * xPercent + topLeft.x;\n        var y = coordinate.getHeight() * yPercent + topLeft.y;\n        return { x: x, y: y };\n    };\n    /**\n     * get coordinate bbox\n     */\n    Annotation.prototype.getCoordinateBBox = function () {\n        var coordinate = this.view.getCoordinate();\n        var start = coordinate.start, end = coordinate.end;\n        var width = coordinate.getWidth();\n        var height = coordinate.getHeight();\n        var topLeft = {\n            x: Math.min(start.x, end.x),\n            y: Math.min(start.y, end.y),\n        };\n        return {\n            x: topLeft.x,\n            y: topLeft.y,\n            minX: topLeft.x,\n            minY: topLeft.y,\n            maxX: topLeft.x + width,\n            maxY: topLeft.y + height,\n            width: width,\n            height: height,\n        };\n    };\n    /**\n     * get annotation component config by different type\n     * @param type\n     * @param option 用户的配置\n     * @param theme\n     */\n    Annotation.prototype.getAnnotationCfg = function (type, option, theme) {\n        var coordinate = this.view.getCoordinate();\n        var o = {};\n        if (isNil(option)) {\n            return null;\n        }\n        if (type === 'arc') {\n            var _a = option, start = _a.start, end = _a.end;\n            var sp = this.parsePosition(start);\n            var ep = this.parsePosition(end);\n            var startAngle = getAngleByPoint(coordinate, sp);\n            var endAngle = getAngleByPoint(coordinate, ep);\n            if (startAngle > endAngle) {\n                endAngle = Math.PI * 2 + endAngle;\n            }\n            o = {\n                center: coordinate.getCenter(),\n                radius: getDistanceToCenter(coordinate, sp),\n                startAngle: startAngle,\n                endAngle: endAngle,\n            };\n        }\n        else if (type === 'image') {\n            var _b = option, start = _b.start, end = _b.end;\n            o = {\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n                src: option.src,\n            };\n        }\n        else if (type === 'line') {\n            var _c = option, start = _c.start, end = _c.end;\n            o = {\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n                text: get(option, 'text', null),\n            };\n        }\n        else if (type === 'region') {\n            var _d = option, start = _d.start, end = _d.end;\n            o = {\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n            };\n        }\n        else if (type === 'text') {\n            var _e = option, position = _e.position, rest = __rest(_e, [\"position\"]);\n            o = __assign(__assign({}, this.parsePosition(position)), rest);\n        }\n        else if (type === 'dataMarker') {\n            var _f = option, position = _f.position, point = _f.point, line = _f.line, text = _f.text, autoAdjust = _f.autoAdjust, direction = _f.direction;\n            o = __assign(__assign({}, this.parsePosition(position)), { coordinateBBox: this.getCoordinateBBox(), point: point,\n                line: line,\n                text: text,\n                autoAdjust: autoAdjust,\n                direction: direction });\n        }\n        else if (type === 'dataRegion') {\n            var _g = option, start = _g.start, end = _g.end, region = _g.region, text = _g.text, lineLength = _g.lineLength;\n            o = {\n                points: this.getRegionPoints(start, end),\n                region: region,\n                text: text,\n                lineLength: lineLength,\n            };\n        }\n        else if (type === 'regionFilter') {\n            var _h = option, start = _h.start, end = _h.end, apply_1 = _h.apply, color = _h.color;\n            var geometries = this.view.geometries;\n            var shapes_1 = [];\n            var addShapes_1 = function (item) {\n                if (!item) {\n                    return;\n                }\n                if (item.isGroup()) {\n                    item.getChildren().forEach(function (child) { return addShapes_1(child); });\n                }\n                else {\n                    shapes_1.push(item);\n                }\n            };\n            each(geometries, function (geom) {\n                if (apply_1) {\n                    if (contains(apply_1, geom.type)) {\n                        each(geom.elements, function (elem) {\n                            addShapes_1(elem.shape);\n                        });\n                    }\n                }\n                else {\n                    each(geom.elements, function (elem) {\n                        addShapes_1(elem.shape);\n                    });\n                }\n            });\n            o = {\n                color: color,\n                shapes: shapes_1,\n                start: this.parsePosition(start),\n                end: this.parsePosition(end),\n            };\n        }\n        // 合并主题，用户配置优先级高于默认主题\n        var cfg = deepMix({}, theme, __assign(__assign({}, o), { top: option.top, style: option.style, offsetX: option.offsetX, offsetY: option.offsetY }));\n        cfg.container = this.getComponentContainer(cfg);\n        cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); // 如果 view 关闭动画，则不执行\n        cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n        return cfg;\n    };\n    /**\n     * is annotation render on top\n     * @param option\n     * @return whethe on top\n     */\n    Annotation.prototype.isTop = function (option) {\n        return get(option, 'top', true);\n    };\n    /**\n     * get the container by option.top\n     * default is on top\n     * @param option\n     * @returns the container\n     */\n    Annotation.prototype.getComponentContainer = function (option) {\n        return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n    };\n    Annotation.prototype.getAnnotationTheme = function (type) {\n        return get(this.view.getTheme(), ['components', 'annotation', type], {});\n    };\n    return Annotation;\n}(Controller));\nexport default Annotation;\n//# sourceMappingURL=annotation.js.map"]}]}
{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\lib\\util\\scale.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\lib\\util\\scale.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getName = exports.syncScale = exports.createScaleByField = void 0;\r\nvar tslib_1 = require(\"tslib\");\r\nvar util_1 = require(\"@antv/util\");\r\nvar dependents_1 = require(\"../dependents\");\r\nvar dateRegex = /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\r\nfunction getDefaultType(value) {\r\n    var type = 'linear';\r\n    if (dateRegex.test(value)) {\r\n        type = 'time';\r\n    }\r\n    else if (util_1.isString(value)) {\r\n        type = 'cat';\r\n    }\r\n    return type;\r\n}\r\nfunction createScaleByField(field, data, scaleDef) {\r\n    var validData = data || [];\r\n    if (util_1.isNumber(field) || (util_1.isNil(util_1.firstValue(validData, field)) && util_1.isEmpty(scaleDef))) {\r\n        var Identity = dependents_1.getScale('identity');\r\n        return new Identity({\r\n            field: field.toString(),\r\n            values: [field],\r\n        });\r\n    }\r\n    var values = util_1.valuesOfKey(validData, field);\r\n    var type = util_1.get(scaleDef, 'type', getDefaultType(values[0]));\r\n    var ScaleCtor = dependents_1.getScale(type);\r\n    return new ScaleCtor(tslib_1.__assign({ field: field,\r\n        values: values }, scaleDef));\r\n}\r\nexports.createScaleByField = createScaleByField;\r\nfunction syncScale(scale, newScale) {\r\n    if (scale.type !== 'identity' && newScale.type !== 'identity') {\r\n        var obj = {};\r\n        for (var k in newScale) {\r\n            if (Object.prototype.hasOwnProperty.call(newScale, k)) {\r\n                obj[k] = newScale[k];\r\n            }\r\n        }\r\n        scale.change(obj);\r\n    }\r\n}\r\nexports.syncScale = syncScale;\r\nfunction getName(scale) {\r\n    return scale.alias || scale.field;\r\n}\r\nexports.getName = getName;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\lib\\util\\scale.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\lib\\util\\scale.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;AACb,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;AAC9D,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,kBAAkB,GAAG,KAAK,CAAC,CAAC;AAC1E,IAAI,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;AAC/B,IAAI,MAAM,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;AACnC,IAAI,YAAY,GAAG,OAAO,CAAC,eAAe,CAAC,CAAC;AAC5C,IAAI,SAAS,GAAG,sTAAsT,CAAC;AAOvU,SAAS,cAAc,CAAC,KAAK;IACzB,IAAI,IAAI,GAAG,QAAQ,CAAC;IACpB,IAAI,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QACvB,IAAI,GAAG,MAAM,CAAC;KACjB;SACI,IAAI,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;QAC7B,IAAI,GAAG,KAAK,CAAC;KAChB;IACD,OAAO,IAAI,CAAC;AAChB,CAAC;AASD,SAAS,kBAAkB,CAAC,KAAK,EAAE,IAAI,EAAE,QAAQ;IAC7C,IAAI,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC;IAC3B,IAAI,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAE;QAC3G,IAAI,QAAQ,GAAG,YAAY,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QACjD,OAAO,IAAI,QAAQ,CAAC;YAChB,KAAK,EAAE,KAAK,CAAC,QAAQ,EAAE;YACvB,MAAM,EAAE,CAAC,KAAK,CAAC;SAClB,CAAC,CAAC;KACN;IACD,IAAI,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IAElD,IAAI,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,EAAE,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnE,IAAI,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;IAC5C,OAAO,IAAI,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,KAAK;QAChD,MAAM,EAAE,MAAM,EAAE,EAAE,QAAQ,CAAC,CAAC,CAAC;AACrC,CAAC;AACD,OAAO,CAAC,kBAAkB,GAAG,kBAAkB,CAAC;AAQhD,SAAS,SAAS,CAAC,KAAK,EAAE,QAAQ;IAC9B,IAAI,KAAK,CAAC,IAAI,KAAK,UAAU,IAAI,QAAQ,CAAC,IAAI,KAAK,UAAU,EAAE;QAC3D,IAAI,GAAG,GAAG,EAAE,CAAC;QACb,KAAK,IAAI,CAAC,IAAI,QAAQ,EAAE;YACpB,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,EAAE;gBACnD,GAAG,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;aACxB;SACJ;QACD,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;KACrB;AACL,CAAC;AACD,OAAO,CAAC,SAAS,GAAG,SAAS,CAAC;AAO9B,SAAS,OAAO,CAAC,KAAK;IAClB,OAAO,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,KAAK,CAAC;AACtC,CAAC;AACD,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getName = exports.syncScale = exports.createScaleByField = void 0;\nvar tslib_1 = require(\"tslib\");\nvar util_1 = require(\"@antv/util\");\nvar dependents_1 = require(\"../dependents\");\nvar dateRegex = /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n/**\n * 获取字段对应数据的类型\n * @param field 数据字段名\n * @param data 数据源\n * @returns default type 返回对应的数据类型\n */\nfunction getDefaultType(value) {\n    var type = 'linear';\n    if (dateRegex.test(value)) {\n        type = 'time';\n    }\n    else if (util_1.isString(value)) {\n        type = 'cat';\n    }\n    return type;\n}\n/**\n * @ignore\n * 为指定的 `field` 字段数据创建 scale\n * @param field 字段名\n * @param [data] 数据集，可为空\n * @param [scaleDef] 列定义，可为空\n * @returns scale 返回创建的 Scale 实例\n */\nfunction createScaleByField(field, data, scaleDef) {\n    var validData = data || [];\n    if (util_1.isNumber(field) || (util_1.isNil(util_1.firstValue(validData, field)) && util_1.isEmpty(scaleDef))) {\n        var Identity = dependents_1.getScale('identity');\n        return new Identity({\n            field: field.toString(),\n            values: [field],\n        });\n    }\n    var values = util_1.valuesOfKey(validData, field);\n    // 如果已经定义过这个度量\n    var type = util_1.get(scaleDef, 'type', getDefaultType(values[0]));\n    var ScaleCtor = dependents_1.getScale(type);\n    return new ScaleCtor(tslib_1.__assign({ field: field,\n        values: values }, scaleDef));\n}\nexports.createScaleByField = createScaleByField;\n/**\n * @ignore\n * 同步 scale\n * @todo 是否可以通过 scale.update() 方法进行更新\n * @param scale 需要同步的 scale 实例\n * @param newScale 同步源 Scale\n */\nfunction syncScale(scale, newScale) {\n    if (scale.type !== 'identity' && newScale.type !== 'identity') {\n        var obj = {};\n        for (var k in newScale) {\n            if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n                obj[k] = newScale[k];\n            }\n        }\n        scale.change(obj);\n    }\n}\nexports.syncScale = syncScale;\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nfunction getName(scale) {\n    return scale.alias || scale.field;\n}\nexports.getName = getName;\n//# sourceMappingURL=scale.js.map"]}]}
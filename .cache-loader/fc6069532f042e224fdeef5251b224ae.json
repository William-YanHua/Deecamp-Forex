{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-tween-one/es/TweenOne.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-tween-one/es/TweenOne.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDom from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { objectEqual } from './util';\nimport Tween from './Tween';\nimport ticker from './ticker';\nfunction noop() { }\nvar perFrame = Math.round(1000 / 60);\nvar objectOrArray = PropTypes.oneOfType([PropTypes.object, PropTypes.array]);\nvar TweenOne = function (_Component) {\n    _inherits(TweenOne, _Component);\n    _createClass(TweenOne, null, [{\n            key: 'getDerivedStateFromProps',\n            value: function getDerivedStateFromProps(props, _ref) {\n                var prevProps = _ref.prevProps, $self = _ref.$self;\n                var nextState = {\n                    prevProps: props\n                };\n                if (prevProps && props !== prevProps) {\n                    if (!$self.tween && !$self.dom) {\n                        $self.updateAnim = true;\n                        return nextState;\n                    }\n                    var newAnimation = props.animation;\n                    var currentAnimation = prevProps.animation;\n                    var equal = objectEqual(currentAnimation, newAnimation);\n                    if (!equal) {\n                        if (props.resetStyle && $self.tween) {\n                            $self.tween.resetDefaultStyle();\n                        }\n                        $self.updateAnim = true;\n                    }\n                    var nextMoment = props.moment;\n                    if (typeof nextMoment === 'number' && nextMoment !== prevProps.moment) {\n                        if ($self.tween && !$self.updateAnim) {\n                            $self.startMoment = nextMoment;\n                            $self.startTime = ticker.time;\n                            if (props.paused) {\n                                $self.raf();\n                            }\n                            if ($self.tween.progressTime >= $self.tween.totalTime) {\n                                $self.play();\n                            }\n                        }\n                        else {\n                            $self.updateAnim = true;\n                        }\n                    }\n                    if ($self.paused !== props.paused || $self.reverse !== props.reverse) {\n                        $self.paused = props.paused;\n                        $self.reverse = props.reverse;\n                        if ($self.paused) {\n                            $self.cancelRequestAnimationFrame();\n                        }\n                        else if ($self.reverse && props.reverseDelay) {\n                            $self.cancelRequestAnimationFrame();\n                            ticker.timeout($self.restart, props.reverseDelay);\n                        }\n                        else {\n                            if ($self.tween) {\n                                $self.tween.resetAnimData();\n                                $self.tween.resetDefaultStyle();\n                            }\n                            if (!$self.updateAnim) {\n                                $self.restart();\n                            }\n                        }\n                    }\n                    var styleEqual = objectEqual(prevProps.style, props.style);\n                    if (!styleEqual) {\n                        if ($self.tween) {\n                            $self.tween.reStart(props.style, prevProps.style, $self.tween.progressTime < $self.tween.totalTime);\n                            if ($self.paused) {\n                                $self.raf();\n                            }\n                        }\n                    }\n                    $self.setForcedJudg(props);\n                }\n                return nextState;\n            }\n        }]);\n    function TweenOne(props) {\n        _classCallCheck(this, TweenOne);\n        var _this = _possibleConstructorReturn(this, (TweenOne.__proto__ || Object.getPrototypeOf(TweenOne)).call(this, props));\n        _initialiseProps.call(_this);\n        _this.rafID = -1;\n        _this.paused = props.paused;\n        _this.reverse = props.reverse;\n        _this.updateAnim = false;\n        _this.repeatNum = 0;\n        _this.currentRef = null;\n        _this.forced = {};\n        _this.setForcedJudg(props);\n        _this.state = {\n            $self: _this\n        };\n        return _this;\n    }\n    _createClass(TweenOne, [{\n            key: 'componentDidMount',\n            value: function componentDidMount() {\n                this.dom = ReactDom.findDOMNode(this);\n                if (this.dom && this.dom.nodeName !== '#text') {\n                    this.start();\n                }\n            }\n        }, {\n            key: 'componentDidUpdate',\n            value: function componentDidUpdate() {\n                if (!this.dom) {\n                    this.dom = ReactDom.findDOMNode(this);\n                }\n                if (this.updateAnim && this.dom && this.dom.nodeName !== '#text') {\n                    if (this.tween) {\n                        this.cancelRequestAnimationFrame();\n                    }\n                    this.start();\n                }\n            }\n        }, {\n            key: 'componentWillUnmount',\n            value: function componentWillUnmount() {\n                this.cancelRequestAnimationFrame();\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                var _this2 = this;\n                var _props = this.props, animation = _props.animation, component = _props.component, componentProps = _props.componentProps, reverseDelay = _props.reverseDelay, attr = _props.attr, paused = _props.paused, reverse = _props.reverse, repeat = _props.repeat, yoyo = _props.yoyo, moment = _props.moment, resetStyle = _props.resetStyle, forcedJudg = _props.forcedJudg, props = _objectWithoutProperties(_props, ['animation', 'component', 'componentProps', 'reverseDelay', 'attr', 'paused', 'reverse', 'repeat', 'yoyo', 'moment', 'resetStyle', 'forcedJudg']);\n                Object.keys(props.style || {}).forEach(function (p) {\n                    if (p.match(/filter/i)) {\n                        ['Webkit', 'Moz', 'Ms', 'ms'].forEach(function (prefix) {\n                            props.style[prefix + 'Filter'] = props.style[p];\n                        });\n                    }\n                });\n                var refFunc = function refFunc(c) {\n                    _this2.currentRef = c;\n                };\n                var className = props.className, children = props.children;\n                if (!component && typeof children !== 'string') {\n                    if (!children) {\n                        return children;\n                    }\n                    var childrenProps = children.props;\n                    var _ref2 = childrenProps || {}, childStyle = _ref2.style, childClass = _ref2.className;\n                    var newStyle = _extends({}, childStyle, props.style);\n                    var newClassName = className ? className + ' ' + childClass : childClass;\n                    return React.cloneElement(children, { style: newStyle, ref: refFunc, className: newClassName });\n                }\n                return React.createElement(component, _extends({\n                    ref: refFunc\n                }, props, componentProps));\n            }\n        }]);\n    return TweenOne;\n}(Component);\nTweenOne.propTypes = {\n    component: PropTypes.any,\n    componentProps: PropTypes.any,\n    animation: objectOrArray,\n    children: PropTypes.any,\n    style: PropTypes.object,\n    paused: PropTypes.bool,\n    reverse: PropTypes.bool,\n    reverseDelay: PropTypes.number,\n    yoyo: PropTypes.bool,\n    repeat: PropTypes.number,\n    moment: PropTypes.number,\n    attr: PropTypes.string,\n    onChange: PropTypes.func,\n    resetStyle: PropTypes.bool,\n    forcedJudg: PropTypes.object\n};\nTweenOne.defaultProps = {\n    component: 'div',\n    componentProps: {},\n    reverseDelay: 0,\n    repeat: 0,\n    attr: 'style',\n    onChange: noop\n};\nvar _initialiseProps = function _initialiseProps() {\n    var _this3 = this;\n    this.setForcedJudg = function (props) {\n        Object.keys(_this3.forced).forEach(function (key) {\n            delete _this3[key];\n            delete _this3.forced[key];\n        });\n        if (props.forcedJudg) {\n            Object.keys(props.forcedJudg).forEach(function (key) {\n                if (!_this3[key]) {\n                    _this3[key] = props.forcedJudg[key];\n                    _this3.forced[key] = 1;\n                }\n            });\n        }\n    };\n    this.setDefault = function (props) {\n        _this3.moment = props.moment || 0;\n        _this3.startMoment = props.moment || 0;\n        _this3.startTime = ticker.time;\n    };\n    this.restart = function () {\n        if (!_this3.tween) {\n            return;\n        }\n        _this3.startMoment = _this3.moment;\n        _this3.startTime = ticker.time;\n        _this3.tween.reverse = _this3.reverse;\n        _this3.tween.reverseStartTime = _this3.startMoment;\n        _this3.raf();\n        _this3.play();\n    };\n    this.start = function () {\n        _this3.updateAnim = false;\n        var props = _this3.props;\n        if (props.animation && Object.keys(props.animation).length) {\n            _this3.setDefault(props);\n            _this3.tween = new Tween(_this3.dom, props.animation, props.attr);\n            _this3.tween.reverse = _this3.reverse;\n            _this3.raf();\n            _this3.play();\n        }\n        else {\n            _this3.tween = null;\n        }\n    };\n    this.play = function () {\n        _this3.cancelRequestAnimationFrame();\n        if (_this3.paused) {\n            return;\n        }\n        _this3.rafID = ticker.add(_this3.raf);\n    };\n    this.frame = function () {\n        var yoyo = _this3.props.yoyo;\n        var repeat = _this3.props.repeat;\n        var totalTime = repeat === -1 ? Number.MAX_VALUE : _this3.tween.totalTime * (repeat + 1);\n        repeat = repeat >= 0 ? repeat : Number.MAX_VALUE;\n        var moment = ticker.time - _this3.startTime + _this3.startMoment;\n        if (_this3.reverse) {\n            moment = (_this3.startMoment || 0) - (ticker.time - _this3.startTime);\n        }\n        moment = moment > totalTime ? totalTime : moment;\n        moment = moment <= 0 ? 0 : moment;\n        var repeatNum = Math.floor(moment / _this3.tween.totalTime) || 0;\n        repeatNum = repeatNum > repeat ? repeat : repeatNum;\n        var tweenMoment = moment - _this3.tween.totalTime * repeatNum;\n        tweenMoment = tweenMoment < perFrame && !_this3.reverse && totalTime >= perFrame ? 0 : tweenMoment;\n        if (repeat && moment && moment - _this3.tween.totalTime * repeatNum < perFrame) {\n            _this3.tween.frame(_this3.tween.totalTime * repeatNum);\n        }\n        if (moment < _this3.moment && !_this3.reverse || repeat !== 0 && repeatNum && repeatNum !== _this3.repeatNum) {\n            _this3.tween.resetAnimData();\n            _this3.tween.resetDefaultStyle();\n        }\n        var yoyoReverse = yoyo && repeatNum % 2;\n        if (yoyoReverse) {\n            tweenMoment = _this3.tween.totalTime - tweenMoment;\n        }\n        _this3.tween.onChange = function (e) {\n            var cb = _extends({}, e, {\n                timelineMode: ''\n            });\n            if (_this3.moment === _this3.startMoment && !_this3.reverse && !e.index && e.mode === 'onStart' || _this3.reverse) {\n                cb.timelineMode = 'onTimelineStart';\n            }\n            else if (moment >= totalTime && !_this3.reverse || !moment && _this3.reverse) {\n                cb.timelineMode = 'onTimelineComplete';\n            }\n            else if (repeatNum !== _this3.timelineRepeatNum) {\n                cb.timelineMode = 'onTimelineRepeat';\n            }\n            else {\n                cb.timelineMode = 'onTimelineUpdate';\n            }\n            _this3.timelineRepeatNum = repeatNum;\n            _this3.props.onChange(cb);\n        };\n        _this3.moment = moment;\n        _this3.repeatNum = repeatNum;\n        _this3.tween.frame(tweenMoment);\n    };\n    this.raf = function () {\n        var tween = _this3.tween;\n        _this3.frame();\n        if (tween !== _this3.tween) {\n            return null;\n        }\n        var repeat = _this3.props.repeat;\n        var totalTime = repeat === -1 ? Number.MAX_VALUE : _this3.tween.totalTime * (repeat + 1);\n        if (_this3.moment >= totalTime && !_this3.reverse || _this3.paused || _this3.reverse && _this3.moment === 0) {\n            return _this3.cancelRequestAnimationFrame();\n        }\n        return null;\n    };\n    this.cancelRequestAnimationFrame = function () {\n        ticker.clear(_this3.rafID);\n        _this3.rafID = -1;\n    };\n};\nTweenOne.isTweenOne = true;\nexport default polyfill(TweenOne);\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-tween-one/es/TweenOne.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-tween-one/es/TweenOne.js"],"names":[],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDom from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\n\nimport { objectEqual } from './util';\nimport Tween from './Tween';\nimport ticker from './ticker';\n\nfunction noop() {}\n\nvar perFrame = Math.round(1000 / 60);\nvar objectOrArray = PropTypes.oneOfType([PropTypes.object, PropTypes.array]);\n\nvar TweenOne = function (_Component) {\n  _inherits(TweenOne, _Component);\n\n  _createClass(TweenOne, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, _ref) {\n      var prevProps = _ref.prevProps,\n          $self = _ref.$self;\n\n      var nextState = {\n        prevProps: props\n      };\n      if (prevProps && props !== prevProps) {\n        if (!$self.tween && !$self.dom) {\n          $self.updateAnim = true;\n          return nextState;\n        }\n\n        // 动画处理\n        var newAnimation = props.animation;\n        var currentAnimation = prevProps.animation;\n        var equal = objectEqual(currentAnimation, newAnimation);\n        if (!equal) {\n          if (props.resetStyle && $self.tween) {\n            $self.tween.resetDefaultStyle();\n          }\n          $self.updateAnim = true;\n        }\n\n        // 跳帧事件 moment;\n        var nextMoment = props.moment;\n        if (typeof nextMoment === 'number' && nextMoment !== prevProps.moment) {\n          if ($self.tween && !$self.updateAnim) {\n            $self.startMoment = nextMoment;\n            $self.startTime = ticker.time;\n            if (props.paused) {\n              $self.raf();\n            }\n            if ($self.tween.progressTime >= $self.tween.totalTime) {\n              $self.play();\n            }\n          } else {\n            $self.updateAnim = true;\n          }\n        }\n\n        // 暂停倒放\n        if ($self.paused !== props.paused || $self.reverse !== props.reverse) {\n          $self.paused = props.paused;\n          $self.reverse = props.reverse;\n          if ($self.paused) {\n            $self.cancelRequestAnimationFrame();\n          } else if ($self.reverse && props.reverseDelay) {\n            $self.cancelRequestAnimationFrame();\n            ticker.timeout($self.restart, props.reverseDelay);\n          } else {\n            // 在 form 状态下，暂停时拉 moment 时，start 有值恢复播放，在 delay 的时间没有处理。。\n            if ($self.tween) {\n              $self.tween.resetAnimData();\n              $self.tween.resetDefaultStyle();\n            }\n            if (!$self.updateAnim) {\n              $self.restart();\n            }\n          }\n        }\n\n        var styleEqual = objectEqual(prevProps.style, props.style);\n        if (!styleEqual) {\n          // 在动画时更改了 style, 作为更改开始数值。\n          if ($self.tween) {\n            $self.tween.reStart(props.style, prevProps.style, $self.tween.progressTime < $self.tween.totalTime);\n            if ($self.paused) {\n              $self.raf();\n            }\n          }\n        }\n        $self.setForcedJudg(props);\n      }\n      return nextState; // eslint-disable-line\n    }\n  }]);\n\n  function TweenOne(props) {\n    _classCallCheck(this, TweenOne);\n\n    var _this = _possibleConstructorReturn(this, (TweenOne.__proto__ || Object.getPrototypeOf(TweenOne)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.rafID = -1;\n    _this.paused = props.paused;\n    _this.reverse = props.reverse;\n    _this.updateAnim = false;\n    _this.repeatNum = 0;\n    // 定义 ref 给外部使用；\n    _this.currentRef = null;\n    _this.forced = {};\n    _this.setForcedJudg(props);\n    _this.state = {\n      $self: _this\n    };\n    return _this;\n  }\n\n  _createClass(TweenOne, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.dom = ReactDom.findDOMNode(this);\n      if (this.dom && this.dom.nodeName !== '#text') {\n        this.start();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (!this.dom) {\n        this.dom = ReactDom.findDOMNode(this);\n      }\n      // 样式更新了后再执行动画；\n      if (this.updateAnim && this.dom && this.dom.nodeName !== '#text') {\n        if (this.tween) {\n          this.cancelRequestAnimationFrame();\n        }\n        this.start();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.cancelRequestAnimationFrame();\n    }\n\n    /**\n     * @method setForcedJudg\n     * @param props\n     * QueueAnim 套在组件下面后导至子级变化。\n     * <QueueAnim component={Menu} >\n     *   <SubMenu key=\"a\" title=\"导航\">\n     *     <Item />\n     *   </SubMenu>\n     * </QueueAnim>\n     * rc-Menu 里是以 isXXX 来判断是 rc-Menu 的子级;\n     * 如: 用 isSubMenu 来处理 hover 事件\n     * 地址: https://github.com/react-component/menu/blob/master/src/MenuMixin.js#L172\n     * 暂时方案: 在组件里添加判断用的值。\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          animation = _props.animation,\n          component = _props.component,\n          componentProps = _props.componentProps,\n          reverseDelay = _props.reverseDelay,\n          attr = _props.attr,\n          paused = _props.paused,\n          reverse = _props.reverse,\n          repeat = _props.repeat,\n          yoyo = _props.yoyo,\n          moment = _props.moment,\n          resetStyle = _props.resetStyle,\n          forcedJudg = _props.forcedJudg,\n          props = _objectWithoutProperties(_props, ['animation', 'component', 'componentProps', 'reverseDelay', 'attr', 'paused', 'reverse', 'repeat', 'yoyo', 'moment', 'resetStyle', 'forcedJudg']);\n\n      Object.keys(props.style || {}).forEach(function (p) {\n        if (p.match(/filter/i)) {\n          ['Webkit', 'Moz', 'Ms', 'ms'].forEach(function (prefix) {\n            props.style[prefix + 'Filter'] = props.style[p];\n          });\n        }\n      });\n      var refFunc = function refFunc(c) {\n        _this2.currentRef = c;\n      };\n      // component 为空时调用子级的。。\n      var className = props.className,\n          children = props.children;\n\n      if (!component && typeof children !== 'string') {\n        if (!children) {\n          return children;\n        }\n        var childrenProps = children.props;\n\n        var _ref2 = childrenProps || {},\n            childStyle = _ref2.style,\n            childClass = _ref2.className;\n        // 合并 style 与 className。\n\n\n        var newStyle = _extends({}, childStyle, props.style);\n        var newClassName = className ? className + ' ' + childClass : childClass;\n        return React.cloneElement(children, { style: newStyle, ref: refFunc, className: newClassName });\n      }\n      return React.createElement(component, _extends({\n        ref: refFunc\n      }, props, componentProps));\n    }\n  }]);\n\n  return TweenOne;\n}(Component);\n\nTweenOne.propTypes = {\n  component: PropTypes.any,\n  componentProps: PropTypes.any,\n  animation: objectOrArray,\n  children: PropTypes.any,\n  style: PropTypes.object,\n  paused: PropTypes.bool,\n  reverse: PropTypes.bool,\n  reverseDelay: PropTypes.number,\n  yoyo: PropTypes.bool,\n  repeat: PropTypes.number,\n  moment: PropTypes.number,\n  attr: PropTypes.string,\n  onChange: PropTypes.func,\n  resetStyle: PropTypes.bool,\n  forcedJudg: PropTypes.object\n};\nTweenOne.defaultProps = {\n  component: 'div',\n  componentProps: {},\n  reverseDelay: 0,\n  repeat: 0,\n  attr: 'style',\n  onChange: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.setForcedJudg = function (props) {\n    Object.keys(_this3.forced).forEach(function (key) {\n      delete _this3[key];\n      delete _this3.forced[key];\n    });\n    if (props.forcedJudg) {\n      Object.keys(props.forcedJudg).forEach(function (key) {\n        if (!_this3[key]) {\n          _this3[key] = props.forcedJudg[key];\n          _this3.forced[key] = 1;\n        }\n      });\n    }\n  };\n\n  this.setDefault = function (props) {\n    _this3.moment = props.moment || 0;\n    _this3.startMoment = props.moment || 0;\n    _this3.startTime = ticker.time;\n  };\n\n  this.restart = function () {\n    if (!_this3.tween) {\n      return;\n    }\n    _this3.startMoment = _this3.moment;\n    _this3.startTime = ticker.time;\n    _this3.tween.reverse = _this3.reverse;\n    _this3.tween.reverseStartTime = _this3.startMoment;\n    _this3.raf();\n    _this3.play();\n  };\n\n  this.start = function () {\n    _this3.updateAnim = false;\n    var props = _this3.props;\n    if (props.animation && Object.keys(props.animation).length) {\n      _this3.setDefault(props);\n      _this3.tween = new Tween(_this3.dom, props.animation, props.attr);\n      _this3.tween.reverse = _this3.reverse;\n      // 预先注册 raf, 初始动画数值。\n      _this3.raf();\n      // 开始动画\n      _this3.play();\n    } else {\n      _this3.tween = null;\n    }\n  };\n\n  this.play = function () {\n    _this3.cancelRequestAnimationFrame();\n    if (_this3.paused) {\n      return;\n    }\n    _this3.rafID = ticker.add(_this3.raf);\n  };\n\n  this.frame = function () {\n    var yoyo = _this3.props.yoyo;\n    var repeat = _this3.props.repeat;\n\n    var totalTime = repeat === -1 ? Number.MAX_VALUE : _this3.tween.totalTime * (repeat + 1);\n    repeat = repeat >= 0 ? repeat : Number.MAX_VALUE;\n    var moment = ticker.time - _this3.startTime + _this3.startMoment;\n    if (_this3.reverse) {\n      moment = (_this3.startMoment || 0) - (ticker.time - _this3.startTime);\n    }\n    moment = moment > totalTime ? totalTime : moment;\n    moment = moment <= 0 ? 0 : moment;\n    var repeatNum = Math.floor(moment / _this3.tween.totalTime) || 0;\n    repeatNum = repeatNum > repeat ? repeat : repeatNum;\n    var tweenMoment = moment - _this3.tween.totalTime * repeatNum;\n    tweenMoment = tweenMoment < perFrame && !_this3.reverse && totalTime >= perFrame ? 0 : tweenMoment;\n    if (repeat && moment && moment - _this3.tween.totalTime * repeatNum < perFrame) {\n      // 在重置样式之前补 complete；\n      _this3.tween.frame(_this3.tween.totalTime * repeatNum);\n    }\n    if (moment < _this3.moment && !_this3.reverse || repeat !== 0 && repeatNum && repeatNum !== _this3.repeatNum) {\n      // 在 form 状态下，暂停时拉 moment 时，start 有值，，往返方向播放时，在 delay 的时间没有处理。。\n      // 与上面的处理一样，删除 start ，重新走一遍 start。。\n      _this3.tween.resetAnimData();\n      _this3.tween.resetDefaultStyle();\n    }\n    var yoyoReverse = yoyo && repeatNum % 2;\n    if (yoyoReverse) {\n      tweenMoment = _this3.tween.totalTime - tweenMoment;\n    }\n    _this3.tween.onChange = function (e) {\n      var cb = _extends({}, e, {\n        timelineMode: ''\n      });\n\n      if (_this3.moment === _this3.startMoment && !_this3.reverse && !e.index && e.mode === 'onStart' || _this3.reverse) {\n        cb.timelineMode = 'onTimelineStart';\n      } else if (moment >= totalTime && !_this3.reverse || !moment && _this3.reverse) {\n        cb.timelineMode = 'onTimelineComplete';\n      } else if (repeatNum !== _this3.timelineRepeatNum) {\n        cb.timelineMode = 'onTimelineRepeat';\n      } else {\n        cb.timelineMode = 'onTimelineUpdate';\n      }\n      _this3.timelineRepeatNum = repeatNum;\n      _this3.props.onChange(cb);\n    };\n    _this3.moment = moment;\n    _this3.repeatNum = repeatNum;\n    _this3.tween.frame(tweenMoment);\n  };\n\n  this.raf = function () {\n    var tween = _this3.tween;\n    _this3.frame();\n    if (tween !== _this3.tween) {\n      // 在 onComplete 时更换动画时，raf 没结束，所以需要强制退出，避逸两个时间的冲突。\n      return null;\n    }\n    var repeat = _this3.props.repeat;\n\n    var totalTime = repeat === -1 ? Number.MAX_VALUE : _this3.tween.totalTime * (repeat + 1);\n    if (_this3.moment >= totalTime && !_this3.reverse || _this3.paused || _this3.reverse && _this3.moment === 0) {\n      return _this3.cancelRequestAnimationFrame();\n    }\n    return null;\n  };\n\n  this.cancelRequestAnimationFrame = function () {\n    ticker.clear(_this3.rafID);\n    _this3.rafID = -1;\n  };\n};\n\nTweenOne.isTweenOne = true;\nexport default polyfill(TweenOne);"]}]}
{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-menu\\es\\Menu.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-menu\\es\\Menu.js","mtime":1540360655000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import _extends from 'babel-runtime/helpers/extends';\r\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\r\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\r\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\r\nimport _inherits from 'babel-runtime/helpers/inherits';\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Provider, create } from 'mini-store';\r\nimport { default as SubPopupMenu, getActiveKey } from './SubPopupMenu';\r\nimport { noop } from './util';\r\nvar Menu = function (_React$Component) {\r\n    _inherits(Menu, _React$Component);\r\n    function Menu(props) {\r\n        _classCallCheck(this, Menu);\r\n        var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\r\n        _initialiseProps.call(_this);\r\n        _this.isRootMenu = true;\r\n        var selectedKeys = props.defaultSelectedKeys;\r\n        var openKeys = props.defaultOpenKeys;\r\n        if ('selectedKeys' in props) {\r\n            selectedKeys = props.selectedKeys || [];\r\n        }\r\n        if ('openKeys' in props) {\r\n            openKeys = props.openKeys || [];\r\n        }\r\n        _this.store = create({\r\n            selectedKeys: selectedKeys,\r\n            openKeys: openKeys,\r\n            activeKey: { '0-menu-': getActiveKey(props, props.activeKey) }\r\n        });\r\n        return _this;\r\n    }\r\n    Menu.prototype.componentDidMount = function componentDidMount() {\r\n        this.updateMiniStore();\r\n    };\r\n    Menu.prototype.componentDidUpdate = function componentDidUpdate() {\r\n        this.updateMiniStore();\r\n    };\r\n    Menu.prototype.updateMiniStore = function updateMiniStore() {\r\n        if ('selectedKeys' in this.props) {\r\n            this.store.setState({\r\n                selectedKeys: this.props.selectedKeys || []\r\n            });\r\n        }\r\n        if ('openKeys' in this.props) {\r\n            this.store.setState({\r\n                openKeys: this.props.openKeys || []\r\n            });\r\n        }\r\n    };\r\n    Menu.prototype.render = function render() {\r\n        var _this2 = this;\r\n        var props = _objectWithoutProperties(this.props, []);\r\n        props.className += ' ' + props.prefixCls + '-root';\r\n        props = _extends({}, props, {\r\n            onClick: this.onClick,\r\n            onOpenChange: this.onOpenChange,\r\n            onDeselect: this.onDeselect,\r\n            onSelect: this.onSelect,\r\n            openTransitionName: this.getOpenTransitionName(),\r\n            parentMenu: this\r\n        });\r\n        return React.createElement(Provider, { store: this.store }, React.createElement(SubPopupMenu, _extends({}, props, { ref: function ref(c) {\r\n                return _this2.innerMenu = c;\r\n            } }), this.props.children));\r\n    };\r\n    return Menu;\r\n}(React.Component);\r\nMenu.propTypes = {\r\n    defaultSelectedKeys: PropTypes.arrayOf(PropTypes.string),\r\n    defaultActiveFirst: PropTypes.bool,\r\n    selectedKeys: PropTypes.arrayOf(PropTypes.string),\r\n    defaultOpenKeys: PropTypes.arrayOf(PropTypes.string),\r\n    openKeys: PropTypes.arrayOf(PropTypes.string),\r\n    mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']),\r\n    getPopupContainer: PropTypes.func,\r\n    onClick: PropTypes.func,\r\n    onSelect: PropTypes.func,\r\n    onDeselect: PropTypes.func,\r\n    onDestroy: PropTypes.func,\r\n    openTransitionName: PropTypes.string,\r\n    openAnimation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\r\n    subMenuOpenDelay: PropTypes.number,\r\n    subMenuCloseDelay: PropTypes.number,\r\n    forceSubMenuRender: PropTypes.bool,\r\n    triggerSubMenuAction: PropTypes.string,\r\n    level: PropTypes.number,\r\n    selectable: PropTypes.bool,\r\n    multiple: PropTypes.bool,\r\n    children: PropTypes.any,\r\n    className: PropTypes.string,\r\n    style: PropTypes.object,\r\n    activeKey: PropTypes.string,\r\n    prefixCls: PropTypes.string,\r\n    builtinPlacements: PropTypes.object,\r\n    itemIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\r\n    expandIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\r\n    overflowedIndicator: PropTypes.node\r\n};\r\nMenu.defaultProps = {\r\n    selectable: true,\r\n    onClick: noop,\r\n    onSelect: noop,\r\n    onOpenChange: noop,\r\n    onDeselect: noop,\r\n    defaultSelectedKeys: [],\r\n    defaultOpenKeys: [],\r\n    subMenuOpenDelay: 0.1,\r\n    subMenuCloseDelay: 0.1,\r\n    triggerSubMenuAction: 'hover',\r\n    prefixCls: 'rc-menu',\r\n    className: '',\r\n    mode: 'vertical',\r\n    style: {},\r\n    builtinPlacements: {},\r\n    overflowedIndicator: React.createElement('span', null, '\\xB7\\xB7\\xB7')\r\n};\r\nvar _initialiseProps = function _initialiseProps() {\r\n    var _this3 = this;\r\n    this.onSelect = function (selectInfo) {\r\n        var props = _this3.props;\r\n        if (props.selectable) {\r\n            var selectedKeys = _this3.store.getState().selectedKeys;\r\n            var selectedKey = selectInfo.key;\r\n            if (props.multiple) {\r\n                selectedKeys = selectedKeys.concat([selectedKey]);\r\n            }\r\n            else {\r\n                selectedKeys = [selectedKey];\r\n            }\r\n            if (!('selectedKeys' in props)) {\r\n                _this3.store.setState({\r\n                    selectedKeys: selectedKeys\r\n                });\r\n            }\r\n            props.onSelect(_extends({}, selectInfo, {\r\n                selectedKeys: selectedKeys\r\n            }));\r\n        }\r\n    };\r\n    this.onClick = function (e) {\r\n        _this3.props.onClick(e);\r\n    };\r\n    this.onKeyDown = function (e, callback) {\r\n        _this3.innerMenu.getWrappedInstance().onKeyDown(e, callback);\r\n    };\r\n    this.onOpenChange = function (event) {\r\n        var props = _this3.props;\r\n        var openKeys = _this3.store.getState().openKeys.concat();\r\n        var changed = false;\r\n        var processSingle = function processSingle(e) {\r\n            var oneChanged = false;\r\n            if (e.open) {\r\n                oneChanged = openKeys.indexOf(e.key) === -1;\r\n                if (oneChanged) {\r\n                    openKeys.push(e.key);\r\n                }\r\n            }\r\n            else {\r\n                var index = openKeys.indexOf(e.key);\r\n                oneChanged = index !== -1;\r\n                if (oneChanged) {\r\n                    openKeys.splice(index, 1);\r\n                }\r\n            }\r\n            changed = changed || oneChanged;\r\n        };\r\n        if (Array.isArray(event)) {\r\n            event.forEach(processSingle);\r\n        }\r\n        else {\r\n            processSingle(event);\r\n        }\r\n        if (changed) {\r\n            if (!('openKeys' in _this3.props)) {\r\n                _this3.store.setState({ openKeys: openKeys });\r\n            }\r\n            props.onOpenChange(openKeys);\r\n        }\r\n    };\r\n    this.onDeselect = function (selectInfo) {\r\n        var props = _this3.props;\r\n        if (props.selectable) {\r\n            var selectedKeys = _this3.store.getState().selectedKeys.concat();\r\n            var selectedKey = selectInfo.key;\r\n            var index = selectedKeys.indexOf(selectedKey);\r\n            if (index !== -1) {\r\n                selectedKeys.splice(index, 1);\r\n            }\r\n            if (!('selectedKeys' in props)) {\r\n                _this3.store.setState({\r\n                    selectedKeys: selectedKeys\r\n                });\r\n            }\r\n            props.onDeselect(_extends({}, selectInfo, {\r\n                selectedKeys: selectedKeys\r\n            }));\r\n        }\r\n    };\r\n    this.getOpenTransitionName = function () {\r\n        var props = _this3.props;\r\n        var transitionName = props.openTransitionName;\r\n        var animationName = props.openAnimation;\r\n        if (!transitionName && typeof animationName === 'string') {\r\n            transitionName = props.prefixCls + '-open-' + animationName;\r\n        }\r\n        return transitionName;\r\n    };\r\n};\r\nexport default Menu;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-menu\\es\\Menu.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-menu\\es\\Menu.js"],"names":[],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Provider, create } from 'mini-store';\nimport { default as SubPopupMenu, getActiveKey } from './SubPopupMenu';\nimport { noop } from './util';\n\nvar Menu = function (_React$Component) {\n  _inherits(Menu, _React$Component);\n\n  function Menu(props) {\n    _classCallCheck(this, Menu);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.isRootMenu = true;\n\n    var selectedKeys = props.defaultSelectedKeys;\n    var openKeys = props.defaultOpenKeys;\n    if ('selectedKeys' in props) {\n      selectedKeys = props.selectedKeys || [];\n    }\n    if ('openKeys' in props) {\n      openKeys = props.openKeys || [];\n    }\n\n    _this.store = create({\n      selectedKeys: selectedKeys,\n      openKeys: openKeys,\n      activeKey: { '0-menu-': getActiveKey(props, props.activeKey) }\n    });\n    return _this;\n  }\n\n  Menu.prototype.componentDidMount = function componentDidMount() {\n    this.updateMiniStore();\n  };\n\n  Menu.prototype.componentDidUpdate = function componentDidUpdate() {\n    this.updateMiniStore();\n  };\n\n  // onKeyDown needs to be exposed as a instance method\n  // e.g., in rc-select, we need to navigate menu item while\n  // current active item is rc-select input box rather than the menu itself\n\n\n  Menu.prototype.updateMiniStore = function updateMiniStore() {\n    if ('selectedKeys' in this.props) {\n      this.store.setState({\n        selectedKeys: this.props.selectedKeys || []\n      });\n    }\n    if ('openKeys' in this.props) {\n      this.store.setState({\n        openKeys: this.props.openKeys || []\n      });\n    }\n  };\n\n  Menu.prototype.render = function render() {\n    var _this2 = this;\n\n    var props = _objectWithoutProperties(this.props, []);\n\n    props.className += ' ' + props.prefixCls + '-root';\n    props = _extends({}, props, {\n      onClick: this.onClick,\n      onOpenChange: this.onOpenChange,\n      onDeselect: this.onDeselect,\n      onSelect: this.onSelect,\n      openTransitionName: this.getOpenTransitionName(),\n      parentMenu: this\n    });\n    return React.createElement(\n      Provider,\n      { store: this.store },\n      React.createElement(\n        SubPopupMenu,\n        _extends({}, props, { ref: function ref(c) {\n            return _this2.innerMenu = c;\n          } }),\n        this.props.children\n      )\n    );\n  };\n\n  return Menu;\n}(React.Component);\n\nMenu.propTypes = {\n  defaultSelectedKeys: PropTypes.arrayOf(PropTypes.string),\n  defaultActiveFirst: PropTypes.bool,\n  selectedKeys: PropTypes.arrayOf(PropTypes.string),\n  defaultOpenKeys: PropTypes.arrayOf(PropTypes.string),\n  openKeys: PropTypes.arrayOf(PropTypes.string),\n  mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']),\n  getPopupContainer: PropTypes.func,\n  onClick: PropTypes.func,\n  onSelect: PropTypes.func,\n  onDeselect: PropTypes.func,\n  onDestroy: PropTypes.func,\n  openTransitionName: PropTypes.string,\n  openAnimation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  subMenuOpenDelay: PropTypes.number,\n  subMenuCloseDelay: PropTypes.number,\n  forceSubMenuRender: PropTypes.bool,\n  triggerSubMenuAction: PropTypes.string,\n  level: PropTypes.number,\n  selectable: PropTypes.bool,\n  multiple: PropTypes.bool,\n  children: PropTypes.any,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  activeKey: PropTypes.string,\n  prefixCls: PropTypes.string,\n  builtinPlacements: PropTypes.object,\n  itemIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  expandIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  overflowedIndicator: PropTypes.node\n};\nMenu.defaultProps = {\n  selectable: true,\n  onClick: noop,\n  onSelect: noop,\n  onOpenChange: noop,\n  onDeselect: noop,\n  defaultSelectedKeys: [],\n  defaultOpenKeys: [],\n  subMenuOpenDelay: 0.1,\n  subMenuCloseDelay: 0.1,\n  triggerSubMenuAction: 'hover',\n  prefixCls: 'rc-menu',\n  className: '',\n  mode: 'vertical',\n  style: {},\n  builtinPlacements: {},\n  overflowedIndicator: React.createElement(\n    'span',\n    null,\n    '\\xB7\\xB7\\xB7'\n  )\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onSelect = function (selectInfo) {\n    var props = _this3.props;\n    if (props.selectable) {\n      // root menu\n      var selectedKeys = _this3.store.getState().selectedKeys;\n      var selectedKey = selectInfo.key;\n      if (props.multiple) {\n        selectedKeys = selectedKeys.concat([selectedKey]);\n      } else {\n        selectedKeys = [selectedKey];\n      }\n      if (!('selectedKeys' in props)) {\n        _this3.store.setState({\n          selectedKeys: selectedKeys\n        });\n      }\n      props.onSelect(_extends({}, selectInfo, {\n        selectedKeys: selectedKeys\n      }));\n    }\n  };\n\n  this.onClick = function (e) {\n    _this3.props.onClick(e);\n  };\n\n  this.onKeyDown = function (e, callback) {\n    _this3.innerMenu.getWrappedInstance().onKeyDown(e, callback);\n  };\n\n  this.onOpenChange = function (event) {\n    var props = _this3.props;\n    var openKeys = _this3.store.getState().openKeys.concat();\n    var changed = false;\n    var processSingle = function processSingle(e) {\n      var oneChanged = false;\n      if (e.open) {\n        oneChanged = openKeys.indexOf(e.key) === -1;\n        if (oneChanged) {\n          openKeys.push(e.key);\n        }\n      } else {\n        var index = openKeys.indexOf(e.key);\n        oneChanged = index !== -1;\n        if (oneChanged) {\n          openKeys.splice(index, 1);\n        }\n      }\n      changed = changed || oneChanged;\n    };\n    if (Array.isArray(event)) {\n      // batch change call\n      event.forEach(processSingle);\n    } else {\n      processSingle(event);\n    }\n    if (changed) {\n      if (!('openKeys' in _this3.props)) {\n        _this3.store.setState({ openKeys: openKeys });\n      }\n      props.onOpenChange(openKeys);\n    }\n  };\n\n  this.onDeselect = function (selectInfo) {\n    var props = _this3.props;\n    if (props.selectable) {\n      var selectedKeys = _this3.store.getState().selectedKeys.concat();\n      var selectedKey = selectInfo.key;\n      var index = selectedKeys.indexOf(selectedKey);\n      if (index !== -1) {\n        selectedKeys.splice(index, 1);\n      }\n      if (!('selectedKeys' in props)) {\n        _this3.store.setState({\n          selectedKeys: selectedKeys\n        });\n      }\n      props.onDeselect(_extends({}, selectInfo, {\n        selectedKeys: selectedKeys\n      }));\n    }\n  };\n\n  this.getOpenTransitionName = function () {\n    var props = _this3.props;\n    var transitionName = props.openTransitionName;\n    var animationName = props.openAnimation;\n    if (!transitionName && typeof animationName === 'string') {\n      transitionName = props.prefixCls + '-open-' + animationName;\n    }\n    return transitionName;\n  };\n};\n\nexport default Menu;"]}]}
{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/es6/processor/g2Creator.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/es6/processor/g2Creator.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["'use strict';\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n        }\n    }\n} return target; };\nvar _core = require('@antv/g2/lib/core');\nvar G2 = _interopRequireWildcard(_core);\nvar _shared = require('../shared');\nvar _common = require('./common');\nvar _common2 = _interopRequireDefault(_common);\nvar _event = require('./event');\nvar _event2 = _interopRequireDefault(_event);\nvar _configMerge = require('./configMerge');\nvar _configMerge2 = _interopRequireDefault(_configMerge);\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) {\n    return obj;\n}\nelse {\n    var newObj = {};\n    if (obj != null) {\n        for (var key in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, key))\n                newObj[key] = obj[key];\n        }\n    }\n    newObj.default = obj;\n    return newObj;\n} }\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\nelse {\n    return Array.from(arr);\n} }\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) {\n    if (keys.indexOf(i) >= 0)\n        continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i))\n        continue;\n    target[i] = obj[i];\n} return target; }\nvar COORD_FUNC_PROPS = _common2.default.COORD_FUNC_PROPS;\nvar GEOM_FUNC_PROPS = _common2.default.GEOM_FUNC_PROPS;\nexports.default = {\n    createChart: function createChart(config) {\n        var chartConfig = config.chart;\n        var shouldForceFit = chartConfig.props.forceFit;\n        chartConfig.props.forceFit = false;\n        var chart = new G2.Chart(chartConfig.props);\n        if (chartConfig.props.afterChartInitialized) {\n            chartConfig.props.afterChartInitialized(chart);\n        }\n        if (shouldForceFit) {\n            chart.forceFit();\n        }\n        chartConfig.g2Instance = chart;\n        return chart;\n    },\n    executeChartConfig: function executeChartConfig(chart, config) {\n        var chartConfig = config.chart;\n        var props = chartConfig.props;\n        chart.coord('rect', {});\n        chart.source(props.data, props.scale);\n        if (!config.facet && !props.axis || !config.facet || props.axis === false) {\n            chart.axis(false);\n        }\n        chart.legend(false);\n        chart.tooltip(false);\n        if (props.filter) {\n            props.filter.forEach(function (filterArg) {\n                chart.filter(filterArg[0], filterArg[1]);\n            });\n        }\n        _event2.default.bindEvents(chart, _event2.default.chartEvents, props);\n        _event2.default.bindBaseEvents(chart, props);\n    },\n    coord: function coord(chart, config) {\n        var coordConfig = config.coord;\n        if (!coordConfig || coordConfig.g2Instance) {\n            return;\n        }\n        var _coordConfig$props = coordConfig.props, type = _coordConfig$props.type, others = _objectWithoutProperties(_coordConfig$props, ['type']);\n        var coordIns = chart.coord(type || 'rect', _shared.Util.without(others, COORD_FUNC_PROPS));\n        _shared.Prop.init(COORD_FUNC_PROPS, others, function (value, key) {\n            if (key === 'reflect') {\n                _shared.Util.each(value, function (v) {\n                    return coordIns[key](v);\n                });\n            }\n            else if (key === 'transpose') {\n                if (value[0] === true)\n                    coordIns[key].apply(coordIns, _toConsumableArray(value));\n            }\n            else {\n                coordIns[key].apply(coordIns, _toConsumableArray(value));\n            }\n        });\n        coordConfig.g2Instance = coordIns;\n    },\n    createLabel: function createLabel(geom, labelConfig) {\n        if (!labelConfig || labelConfig.g2Instance) {\n            return;\n        }\n        var _labelConfig$props = labelConfig.props, content = _labelConfig$props.content, labelOthers = _objectWithoutProperties(_labelConfig$props, ['content']);\n        if (content) {\n            if (_shared.Util.isArray(content)) {\n                labelConfig.g2Instance = geom.label(content[0], content[1], labelOthers);\n            }\n            else {\n                labelConfig.g2Instance = geom.label(content, labelOthers);\n            }\n        }\n    },\n    createGeom: function createGeom(chart, geomConfig) {\n        if (geomConfig.g2Instance) {\n            if (geomConfig.label) {\n                this.createLabel(geomConfig.g2Instance, geomConfig.label);\n            }\n            return;\n        }\n        var props = geomConfig.props;\n        var geom = chart[props.type || 'interval']();\n        if (props.adjust) {\n            geom.adjust(props.adjust);\n        }\n        _shared.Prop.init(GEOM_FUNC_PROPS, props, function (value, key) {\n            geom[key].apply(geom, _toConsumableArray(value));\n        });\n        geomConfig.g2Instance = geom;\n        this.createLabel(geom, geomConfig.label);\n    },\n    geoms: function geoms(chart, config) {\n        var geoms = config.geoms;\n        if (!geoms) {\n            return;\n        }\n        for (var id in geoms) {\n            if (Object.prototype.hasOwnProperty.call(geoms, id)) {\n                this.createGeom(chart, geoms[id]);\n            }\n        }\n    },\n    legends: function legends(chart, config) {\n        var legends = config.legends;\n        for (var id in legends) {\n            if (legends[id]) {\n                var legendConfig = legends[id];\n                if (legendConfig.g2Instance) {\n                    return;\n                }\n                var _legendConfig$props = legendConfig.props, name = _legendConfig$props.name, visible = _legendConfig$props.visible, cfg = _objectWithoutProperties(_legendConfig$props, ['name', 'visible']);\n                var relVisible = visible;\n                if (!Object.prototype.hasOwnProperty.call(legendConfig.props, 'visible')) {\n                    relVisible = true;\n                }\n                var arg = !relVisible ? relVisible : cfg;\n                legendConfig.g2Instance = chart.legend.apply(chart, _toConsumableArray(name ? [name, arg] : [arg]));\n            }\n        }\n    },\n    tooltip: function tooltip(chart, config) {\n        var tooltipConfig = config.tooltip;\n        if (!tooltipConfig || tooltipConfig.g2Instance) {\n            return;\n        }\n        tooltipConfig.g2Instance = chart.tooltip(_extends({}, tooltipConfig.props));\n    },\n    createAxis: function createAxis(chart, axisConfig) {\n        if (axisConfig.g2Instance) {\n            return;\n        }\n        var _axisConfig$props = axisConfig.props, name = _axisConfig$props.name, visible = _axisConfig$props.visible, others = _objectWithoutProperties(_axisConfig$props, ['name', 'visible']);\n        if (visible || !Object.prototype.hasOwnProperty.call(axisConfig.props, 'visible')) {\n            axisConfig.g2Instance = chart.axis(name, others);\n        }\n        else {\n            axisConfig.g2Instance = chart.axis(name, false);\n        }\n    },\n    axises: function axises(chart, config) {\n        var axises = config.axises;\n        for (var id in axises) {\n            if (axises[id]) {\n                this.createAxis(chart, axises[id]);\n            }\n        }\n    },\n    views: function views(chart, config) {\n        var views = config.views;\n        for (var id in views) {\n            if (views[id]) {\n                this.createView(chart, views[id]);\n            }\n        }\n    },\n    createView: function createView(chart, viewConfig) {\n        if (viewConfig.parentInfo.name === 'Facet') {\n            return;\n        }\n        if (viewConfig.g2Instance) {\n            if (viewConfig.filter) {\n                viewConfig.filter.forEach(function (filterArg) {\n                    viewConfig.g2Instance.filter(filterArg[0], filterArg[1]);\n                });\n            }\n            this.coord(viewConfig.g2Instance, viewConfig);\n            this.axises(viewConfig.g2Instance, viewConfig);\n            this.geoms(viewConfig.g2Instance, viewConfig);\n            this.guide(viewConfig.g2Instance, viewConfig.guide);\n            return;\n        }\n        var _viewConfig$props = viewConfig.props, scale = _viewConfig$props.scale, data = _viewConfig$props.data, instance = _viewConfig$props.instance, axis = _viewConfig$props.axis, filter = _viewConfig$props.filter, geoms = _viewConfig$props.geoms, others = _objectWithoutProperties(_viewConfig$props, ['scale', 'data', 'instance', 'axis', 'filter', 'geoms']);\n        var view = void 0;\n        if (instance) {\n            view = instance;\n        }\n        else {\n            view = chart.view(_extends({}, others));\n        }\n        if (data) {\n            view.source(data, scale);\n        }\n        if (scale) {\n            view.scale(scale);\n        }\n        if (filter) {\n            filter.forEach(function (filterArg) {\n                view.filter(filterArg[0], filterArg[1]);\n            });\n        }\n        if (!(axis === true || instance)) {\n            view.axis(false);\n        }\n        viewConfig.g2Instance = view;\n        this.coord(view, viewConfig);\n        this.axises(view, viewConfig);\n        this.geoms(view, viewConfig);\n        this.guide(view, viewConfig.guide);\n    },\n    facetView: function facetView(view, viewConfig) {\n        var _viewConfig$props2 = viewConfig.props, scale = _viewConfig$props2.scale, data = _viewConfig$props2.data, axis = _viewConfig$props2.axis, geoms = _viewConfig$props2.geoms, others = _objectWithoutProperties(_viewConfig$props2, ['scale', 'data', 'axis', 'geoms']);\n        if (data) {\n            view.source(data, scale);\n        }\n        if (scale) {\n            view.scale(scale);\n        }\n        if (axis === false) {\n            view.axis(false);\n        }\n        this.coord(view, viewConfig);\n        this.axises(view, viewConfig);\n        this.geoms(view, viewConfig);\n        this.guide(view, viewConfig.guide);\n        _configMerge2.default.mergeView(viewConfig, true);\n    },\n    guide: function guide(chart, _guide) {\n        if (!_guide) {\n            return;\n        }\n        var guides = _guide.elements;\n        for (var id in guides) {\n            if (guides[id]) {\n                var guideConfig = guides[id];\n                if (!guideConfig.g2Instance) {\n                    var _guideConfig$props = guideConfig.props, type = _guideConfig$props.type, others = _objectWithoutProperties(_guideConfig$props, ['type']);\n                    guideConfig.g2Instance = chart.guide()[guideConfig.type](others);\n                }\n            }\n        }\n    },\n    facet: function facet(chart, config) {\n        var _this = this;\n        var facetConfig = config.facet;\n        if (!facetConfig || facetConfig.g2Instance) {\n            return;\n        }\n        var _facetConfig$props = facetConfig.props, children = _facetConfig$props.children, type = _facetConfig$props.type, others = _objectWithoutProperties(_facetConfig$props, ['children', 'type']);\n        if (!children) {\n            chart.facet(type, others);\n            return;\n        }\n        var views = config.views;\n        var facetView = null;\n        for (var id in views) {\n            if (views[id] && views[id].parentInfo.name === 'Facet' && views[id].parentInfo.id === facetConfig.id) {\n                facetView = views[id];\n                break;\n            }\n        }\n        if (facetView) {\n            _configMerge2.default.mergeView(facetView, true);\n            others.eachView = function (view) {\n                _this.facetView(view, facetView);\n            };\n            chart.facet(type, others);\n        }\n    },\n    synchronizeG2Add: function synchronizeG2Add(chart, config) {\n        this.coord(chart, config);\n        this.axises(chart, config);\n        this.legends(chart, config);\n        this.tooltip(chart, config);\n        this.geoms(chart, config);\n        this.facet(chart, config);\n        this.views(chart, config);\n        this.guide(chart, config.guide);\n    },\n    synchronizeG2Views: function synchronizeG2Views(chart, config) {\n        var views = config.views;\n        for (var id in views) {\n            if (views[id]) {\n                this.synchronizeG2View(views[id].g2Instance, views[id]);\n            }\n        }\n    },\n    synchronizeG2View: function synchronizeG2View(view, viewConfig) {\n        view.clear();\n        this.clearViewG2Instance(viewConfig);\n        var _viewConfig$props3 = viewConfig.props, scale = _viewConfig$props3.scale, data = _viewConfig$props3.data, instance = _viewConfig$props3.instance, axis = _viewConfig$props3.axis, geoms = _viewConfig$props3.geoms, others = _objectWithoutProperties(_viewConfig$props3, ['scale', 'data', 'instance', 'axis', 'geoms']);\n        if (data) {\n            view.source(data, scale);\n        }\n        if (scale) {\n            view.scale(scale);\n        }\n        if (!(axis === true || instance)) {\n            view.axis(false);\n        }\n        this.coord(view, viewConfig);\n        this.axises(view, viewConfig);\n        this.geoms(view, viewConfig);\n        this.guide(view, viewConfig.guide);\n    },\n    clearViewG2Instance: function clearViewG2Instance(viewConfig) {\n        if (viewConfig.coord) {\n            delete viewConfig.coord.g2Instance;\n        }\n        if (viewConfig.axises) {\n            Object.keys(viewConfig.axises).forEach(function (id) {\n                delete viewConfig.axises[id].g2Instance;\n            });\n        }\n        if (viewConfig.geoms) {\n            Object.keys(viewConfig.geoms).forEach(function (id) {\n                delete viewConfig.geoms[id].g2Instance;\n                if (viewConfig.geoms[id].label) {\n                    delete viewConfig.geoms[id].label.g2Instance;\n                }\n            });\n        }\n        if (viewConfig.guide && viewConfig.guide.elements) {\n            Object.keys(viewConfig.guide.elements).forEach(function (id) {\n                delete viewConfig.guide.elements[id].g2Instance;\n            });\n        }\n    }\n};\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/es6/processor/g2Creator.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/es6/processor/g2Creator.js"],"names":[],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _core = require('@antv/g2/lib/core');\n\nvar G2 = _interopRequireWildcard(_core);\n\nvar _shared = require('../shared');\n\nvar _common = require('./common');\n\nvar _common2 = _interopRequireDefault(_common);\n\nvar _event = require('./event');\n\nvar _event2 = _interopRequireDefault(_event);\n\nvar _configMerge = require('./configMerge');\n\nvar _configMerge2 = _interopRequireDefault(_configMerge);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar COORD_FUNC_PROPS = _common2.default.COORD_FUNC_PROPS;\nvar GEOM_FUNC_PROPS = _common2.default.GEOM_FUNC_PROPS;\n\nexports.default = {\n  createChart: function createChart(config) {\n    var chartConfig = config.chart;\n    var shouldForceFit = chartConfig.props.forceFit;\n    chartConfig.props.forceFit = false;\n    var chart = new G2.Chart(chartConfig.props);\n    if (chartConfig.props.afterChartInitialized) {\n      chartConfig.props.afterChartInitialized(chart);\n    }\n    // 保证第一次渲染是正确的\n    if (shouldForceFit) {\n      chart.forceFit();\n    }\n    chartConfig.g2Instance = chart;\n    return chart;\n  },\n  executeChartConfig: function executeChartConfig(chart, config) {\n    var chartConfig = config.chart;\n    var props = chartConfig.props;\n    chart.coord('rect', {});\n    chart.source(props.data, props.scale);\n    if (!config.facet && !props.axis || !config.facet || props.axis === false) {\n      chart.axis(false);\n    }\n    chart.legend(false);\n    chart.tooltip(false);\n    if (props.filter) {\n      props.filter.forEach(function (filterArg) {\n        chart.filter(filterArg[0], filterArg[1]);\n      });\n    }\n    _event2.default.bindEvents(chart, _event2.default.chartEvents, props);\n    _event2.default.bindBaseEvents(chart, props);\n  },\n  coord: function coord(chart, config) {\n    var coordConfig = config.coord;\n    if (!coordConfig || coordConfig.g2Instance) {\n      return;\n    }\n\n    var _coordConfig$props = coordConfig.props,\n        type = _coordConfig$props.type,\n        others = _objectWithoutProperties(_coordConfig$props, ['type']);\n\n    var coordIns = chart.coord(type || 'rect', _shared.Util.without(others, COORD_FUNC_PROPS));\n    _shared.Prop.init(COORD_FUNC_PROPS, others, function (value, key) {\n      if (key === 'reflect') {\n        _shared.Util.each(value, function (v) {\n          return coordIns[key](v);\n        });\n      } else if (key === 'transpose') {\n        if (value[0] === true) coordIns[key].apply(coordIns, _toConsumableArray(value));\n      } else {\n        coordIns[key].apply(coordIns, _toConsumableArray(value));\n      }\n    });\n    coordConfig.g2Instance = coordIns;\n  },\n  createLabel: function createLabel(geom, labelConfig) {\n    if (!labelConfig || labelConfig.g2Instance) {\n      return;\n    }\n\n    var _labelConfig$props = labelConfig.props,\n        content = _labelConfig$props.content,\n        labelOthers = _objectWithoutProperties(_labelConfig$props, ['content']);\n\n    if (content) {\n      if (_shared.Util.isArray(content)) {\n        labelConfig.g2Instance = geom.label(content[0], content[1], labelOthers);\n      } else {\n        labelConfig.g2Instance = geom.label(content, labelOthers);\n      }\n    }\n  },\n  createGeom: function createGeom(chart, geomConfig) {\n    if (geomConfig.g2Instance) {\n      if (geomConfig.label) {\n        this.createLabel(geomConfig.g2Instance, geomConfig.label);\n      }\n      return;\n    }\n\n    var props = geomConfig.props;\n    var geom = chart[props.type || 'interval']();\n\n    if (props.adjust) {\n      geom.adjust(props.adjust);\n    }\n\n    _shared.Prop.init(GEOM_FUNC_PROPS, props, function (value, key) {\n      geom[key].apply(geom, _toConsumableArray(value));\n    });\n\n    geomConfig.g2Instance = geom;\n\n    // create label\n    this.createLabel(geom, geomConfig.label);\n  },\n  geoms: function geoms(chart, config) {\n    var geoms = config.geoms;\n\n    if (!geoms) {\n      return;\n    }\n    for (var id in geoms) {\n      if (Object.prototype.hasOwnProperty.call(geoms, id)) {\n        this.createGeom(chart, geoms[id]);\n      }\n    }\n  },\n  legends: function legends(chart, config) {\n    var legends = config.legends;\n\n    for (var id in legends) {\n      if (legends[id]) {\n        var legendConfig = legends[id];\n        if (legendConfig.g2Instance) {\n          return;\n        }\n\n        var _legendConfig$props = legendConfig.props,\n            name = _legendConfig$props.name,\n            visible = _legendConfig$props.visible,\n            cfg = _objectWithoutProperties(_legendConfig$props, ['name', 'visible']);\n\n        var relVisible = visible;\n        if (!Object.prototype.hasOwnProperty.call(legendConfig.props, 'visible')) {\n          relVisible = true;\n        }\n        var arg = !relVisible ? relVisible : cfg;\n        legendConfig.g2Instance = chart.legend.apply(chart, _toConsumableArray(name ? [name, arg] : [arg]));\n      }\n    }\n  },\n  tooltip: function tooltip(chart, config) {\n    var tooltipConfig = config.tooltip;\n\n    if (!tooltipConfig || tooltipConfig.g2Instance) {\n      return;\n    }\n    tooltipConfig.g2Instance = chart.tooltip(_extends({}, tooltipConfig.props));\n  },\n  createAxis: function createAxis(chart, axisConfig) {\n    if (axisConfig.g2Instance) {\n      return;\n    }\n\n    var _axisConfig$props = axisConfig.props,\n        name = _axisConfig$props.name,\n        visible = _axisConfig$props.visible,\n        others = _objectWithoutProperties(_axisConfig$props, ['name', 'visible']);\n\n    if (visible || !Object.prototype.hasOwnProperty.call(axisConfig.props, 'visible')) {\n      axisConfig.g2Instance = chart.axis(name, others);\n    } else {\n      axisConfig.g2Instance = chart.axis(name, false);\n    }\n  },\n  axises: function axises(chart, config) {\n    var axises = config.axises;\n\n    for (var id in axises) {\n      if (axises[id]) {\n        this.createAxis(chart, axises[id]);\n      }\n    }\n  },\n  views: function views(chart, config) {\n    var views = config.views;\n\n    for (var id in views) {\n      if (views[id]) {\n        this.createView(chart, views[id]);\n      }\n    }\n  },\n  createView: function createView(chart, viewConfig) {\n    if (viewConfig.parentInfo.name === 'Facet') {\n      return;\n    }\n    if (viewConfig.g2Instance) {\n      if (viewConfig.filter) {\n        viewConfig.filter.forEach(function (filterArg) {\n          viewConfig.g2Instance.filter(filterArg[0], filterArg[1]);\n        });\n      }\n      this.coord(viewConfig.g2Instance, viewConfig);\n      this.axises(viewConfig.g2Instance, viewConfig);\n      this.geoms(viewConfig.g2Instance, viewConfig);\n      this.guide(viewConfig.g2Instance, viewConfig.guide);\n      return;\n    }\n    /*\n       Others object must exclude geoms property.\n       Because geoms property will cover the g2 view' inner geoms property.\n    */\n    /* eslint-disable  no-unused-vars */\n\n    var _viewConfig$props = viewConfig.props,\n        scale = _viewConfig$props.scale,\n        data = _viewConfig$props.data,\n        instance = _viewConfig$props.instance,\n        axis = _viewConfig$props.axis,\n        filter = _viewConfig$props.filter,\n        geoms = _viewConfig$props.geoms,\n        others = _objectWithoutProperties(_viewConfig$props, ['scale', 'data', 'instance', 'axis', 'filter', 'geoms']);\n    /* eslint-enable */\n\n\n    var view = void 0;\n    if (instance) {\n      view = instance;\n    } else {\n      view = chart.view(_extends({}, others));\n    }\n\n    if (data) {\n      view.source(data, scale);\n    }\n\n    if (scale) {\n      view.scale(scale);\n    }\n\n    if (filter) {\n      filter.forEach(function (filterArg) {\n        view.filter(filterArg[0], filterArg[1]);\n      });\n    }\n\n    if (!(axis === true || instance)) {\n      view.axis(false);\n    }\n\n    viewConfig.g2Instance = view;\n\n    this.coord(view, viewConfig);\n    this.axises(view, viewConfig);\n    this.geoms(view, viewConfig);\n    this.guide(view, viewConfig.guide);\n  },\n  facetView: function facetView(view, viewConfig) {\n    /* eslint-disable  no-unused-vars */\n    var _viewConfig$props2 = viewConfig.props,\n        scale = _viewConfig$props2.scale,\n        data = _viewConfig$props2.data,\n        axis = _viewConfig$props2.axis,\n        geoms = _viewConfig$props2.geoms,\n        others = _objectWithoutProperties(_viewConfig$props2, ['scale', 'data', 'axis', 'geoms']);\n    /* eslint-enable */\n\n\n    if (data) {\n      view.source(data, scale);\n    }\n\n    if (scale) {\n      view.scale(scale);\n    }\n\n    if (axis === false) {\n      view.axis(false);\n    }\n\n    this.coord(view, viewConfig);\n    this.axises(view, viewConfig);\n    this.geoms(view, viewConfig);\n    this.guide(view, viewConfig.guide);\n    _configMerge2.default.mergeView(viewConfig, true);\n  },\n  guide: function guide(chart, _guide) {\n    if (!_guide) {\n      return;\n    }\n\n    var guides = _guide.elements;\n\n    for (var id in guides) {\n      if (guides[id]) {\n        var guideConfig = guides[id];\n        if (!guideConfig.g2Instance) {\n          /* eslint-disable  no-unused-vars */\n          var _guideConfig$props = guideConfig.props,\n              type = _guideConfig$props.type,\n              others = _objectWithoutProperties(_guideConfig$props, ['type']);\n          /* eslint-enable */\n\n\n          guideConfig.g2Instance = chart.guide()[guideConfig.type](others);\n        }\n      }\n    }\n  },\n  facet: function facet(chart, config) {\n    var _this = this;\n\n    var facetConfig = config.facet;\n\n    if (!facetConfig || facetConfig.g2Instance) {\n      return;\n    }\n\n    var _facetConfig$props = facetConfig.props,\n        children = _facetConfig$props.children,\n        type = _facetConfig$props.type,\n        others = _objectWithoutProperties(_facetConfig$props, ['children', 'type']);\n\n    if (!children) {\n      chart.facet(type, others);\n      return;\n    }\n    var views = config.views;\n    var facetView = null;\n    for (var id in views) {\n      if (views[id] && views[id].parentInfo.name === 'Facet' && views[id].parentInfo.id === facetConfig.id) {\n        // facet view\n        facetView = views[id];\n        break;\n      }\n    }\n    if (facetView) {\n      _configMerge2.default.mergeView(facetView, true);\n      others.eachView = function (view) {\n        _this.facetView(view, facetView);\n      };\n      chart.facet(type, others);\n    }\n  },\n  synchronizeG2Add: function synchronizeG2Add(chart, config) {\n    this.coord(chart, config);\n    this.axises(chart, config);\n    this.legends(chart, config);\n    this.tooltip(chart, config);\n    this.geoms(chart, config);\n    this.facet(chart, config);\n    this.views(chart, config);\n    // this.synchronizeG2Views(chart, config);\n    this.guide(chart, config.guide);\n  },\n  synchronizeG2Views: function synchronizeG2Views(chart, config) {\n    var views = config.views;\n\n    for (var id in views) {\n      if (views[id]) {\n        this.synchronizeG2View(views[id].g2Instance, views[id]);\n      }\n    }\n  },\n  synchronizeG2View: function synchronizeG2View(view, viewConfig) {\n    /*\n       Others object must exclude geoms property.\n       Because geoms property will cover the g2 view' inner geoms property.\n    */\n    view.clear();\n    this.clearViewG2Instance(viewConfig);\n    /* eslint-disable  no-unused-vars */\n\n    var _viewConfig$props3 = viewConfig.props,\n        scale = _viewConfig$props3.scale,\n        data = _viewConfig$props3.data,\n        instance = _viewConfig$props3.instance,\n        axis = _viewConfig$props3.axis,\n        geoms = _viewConfig$props3.geoms,\n        others = _objectWithoutProperties(_viewConfig$props3, ['scale', 'data', 'instance', 'axis', 'geoms']);\n    /* eslint-enable */\n\n\n    if (data) {\n      view.source(data, scale);\n    }\n\n    if (scale) {\n      view.scale(scale);\n    }\n\n    if (!(axis === true || instance)) {\n      view.axis(false);\n    }\n    this.coord(view, viewConfig);\n    this.axises(view, viewConfig);\n    this.geoms(view, viewConfig);\n    this.guide(view, viewConfig.guide);\n  },\n  clearViewG2Instance: function clearViewG2Instance(viewConfig) {\n    if (viewConfig.coord) {\n      delete viewConfig.coord.g2Instance;\n    }\n    if (viewConfig.axises) {\n      Object.keys(viewConfig.axises).forEach(function (id) {\n        delete viewConfig.axises[id].g2Instance;\n      });\n    }\n    if (viewConfig.geoms) {\n      Object.keys(viewConfig.geoms).forEach(function (id) {\n        delete viewConfig.geoms[id].g2Instance;\n        if (viewConfig.geoms[id].label) {\n          delete viewConfig.geoms[id].label.g2Instance;\n        }\n      });\n    }\n    if (viewConfig.guide && viewConfig.guide.elements) {\n      Object.keys(viewConfig.guide.elements).forEach(function (id) {\n        delete viewConfig.guide.elements[id].g2Instance;\n      });\n    }\n  }\n};"]}]}
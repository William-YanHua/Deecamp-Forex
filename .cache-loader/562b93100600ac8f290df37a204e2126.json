{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/es6/processor/g2Delete.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/es6/processor/g2Delete.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["'use strict';\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n    }\n    return arr2;\n}\nelse {\n    return Array.from(arr);\n} }\nvar deleteFuncMap = {\n    Chart: 'deleteChart',\n    Coord: 'deleteCoord',\n    Geom: 'deleteGeom',\n    Axis: 'deleteAxis',\n    Tooltip: 'deleteTooltip',\n    Legend: 'deleteLegend',\n    Label: 'deleteLabel',\n    View: 'deleteView',\n    Guide: 'deleteGuide',\n    GuideLine: 'deleteTypedGuide',\n    GuideImage: 'deleteTypedGuide',\n    GuideText: 'deleteTypedGuide',\n    GuideRegion: 'deleteTypedGuide',\n    GuideHtml: 'deleteTypedGuide',\n    GuideArc: 'deleteTypedGuide',\n    Facet: 'deleteFacet'\n};\nvar reExecuteDeleteElements = {\n    Geom: true,\n    Label: true,\n    Facet: true\n};\nvar iDelete = {\n    deleteAxis: function deleteAxis(chart, config, id) {\n        var axisConfig = config.axises[id].props;\n        chart.axis(axisConfig.name, false);\n    },\n    deleteTooltip: function deleteTooltip(chart) {\n        chart.tooltip(false);\n    },\n    deleteCoord: function deleteCoord(chart) {\n        chart.coord('rect', {});\n    },\n    deleteLegend: function deleteLegend(chart, config, id) {\n        var legendConfig = config.legends[id].props;\n        chart.legend.apply(chart, _toConsumableArray(legendConfig.name ? [legendConfig.name, false] : [false]));\n    },\n    deleteGuide: function deleteGuide(chart) {\n        chart.guide().clear();\n    },\n    deleteView: function deleteView(chart, config, id) {\n        if (!config.views[id].g2Instance)\n            return;\n        chart.removeView(config.views[id].g2Instance);\n        delete config.views[id].g2Instance;\n    },\n    deleteViewElement: function deleteViewElement(chart, config, deleteInfos, elementInfos) {\n        var _this = this;\n        Object.keys(deleteInfos).forEach(function (id) {\n            var elementInfo = elementInfos[id];\n            var viewId = elementInfo.viewId;\n            if (viewId) {\n                if (reExecuteDeleteElements[elementInfo.name]) {\n                    config.views[viewId].needReExecute = true;\n                }\n                else if (config.views[viewId].g2Instance && _this[deleteFuncMap[elementInfo.name]]) {\n                    _this[deleteFuncMap[elementInfo.name]](config.views[viewId].g2Instance, config.views[viewId], elementInfo.id);\n                }\n            }\n        });\n    },\n    needReExecute: function needReExecute(deleteInfos, elementInfos) {\n        for (var id in deleteInfos) {\n            if (reExecuteDeleteElements[elementInfos[id].name] && !elementInfos[id].viewId) {\n                return true;\n            }\n        }\n        return false;\n    },\n    synchronizeG2Delete: function synchronizeG2Delete(chart, config, deleteInfos, elementInfos) {\n        var _this2 = this;\n        Object.keys(deleteInfos).forEach(function (id) {\n            var funName = deleteFuncMap[elementInfos[id].name];\n            if (_this2[funName] && !elementInfos[id].viewId) {\n                _this2[funName](chart, config, id);\n            }\n        });\n        this.deleteViewElement(chart, config, deleteInfos, elementInfos);\n    }\n};\nexports.default = iDelete;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/es6/processor/g2Delete.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/es6/processor/g2Delete.js"],"names":[],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar deleteFuncMap = {\n  Chart: 'deleteChart',\n  Coord: 'deleteCoord',\n  Geom: 'deleteGeom',\n  Axis: 'deleteAxis',\n  Tooltip: 'deleteTooltip',\n  Legend: 'deleteLegend',\n  Label: 'deleteLabel',\n  View: 'deleteView',\n  Guide: 'deleteGuide',\n  GuideLine: 'deleteTypedGuide',\n  GuideImage: 'deleteTypedGuide',\n  GuideText: 'deleteTypedGuide',\n  GuideRegion: 'deleteTypedGuide',\n  GuideHtml: 'deleteTypedGuide',\n  GuideArc: 'deleteTypedGuide',\n  Facet: 'deleteFacet'\n};\n\nvar reExecuteDeleteElements = {\n  Geom: true,\n  Label: true,\n  Facet: true\n};\n\nvar iDelete = {\n  deleteAxis: function deleteAxis(chart, config, id) {\n    var axisConfig = config.axises[id].props;\n    chart.axis(axisConfig.name, false);\n  },\n  deleteTooltip: function deleteTooltip(chart) {\n    chart.tooltip(false);\n  },\n  deleteCoord: function deleteCoord(chart) {\n    chart.coord('rect', {});\n  },\n  deleteLegend: function deleteLegend(chart, config, id) {\n    var legendConfig = config.legends[id].props;\n    chart.legend.apply(chart, _toConsumableArray(legendConfig.name ? [legendConfig.name, false] : [false]));\n  },\n  deleteGuide: function deleteGuide(chart) {\n    chart.guide().clear();\n  },\n  deleteView: function deleteView(chart, config, id) {\n    if (!config.views[id].g2Instance) return;\n    chart.removeView(config.views[id].g2Instance);\n    delete config.views[id].g2Instance;\n  },\n  deleteViewElement: function deleteViewElement(chart, config, deleteInfos, elementInfos) {\n    var _this = this;\n\n    // 次模块只处理元素的删除，将删除同步到 g2。\n    // 因此此处只需要将view destory 掉，如果需要则重建。\n    Object.keys(deleteInfos).forEach(function (id) {\n      var elementInfo = elementInfos[id];\n      var viewId = elementInfo.viewId;\n      if (viewId) {\n        if (reExecuteDeleteElements[elementInfo.name]) {\n          config.views[viewId].needReExecute = true;\n        } else if (config.views[viewId].g2Instance && _this[deleteFuncMap[elementInfo.name]]) {\n          _this[deleteFuncMap[elementInfo.name]](config.views[viewId].g2Instance, config.views[viewId], elementInfo.id);\n        }\n      }\n    });\n  },\n  needReExecute: function needReExecute(deleteInfos, elementInfos) {\n    for (var id in deleteInfos) {\n      if (reExecuteDeleteElements[elementInfos[id].name] && !elementInfos[id].viewId) {\n        return true;\n      }\n    }\n    return false;\n    // return Object.keys(deleteInfos).find((id) => {\n    //   return reExecuteDeleteElements[elementInfos[id].name] && !elementInfos[id].viewId;\n    // });\n  },\n  synchronizeG2Delete: function synchronizeG2Delete(chart, config, deleteInfos, elementInfos) {\n    var _this2 = this;\n\n    Object.keys(deleteInfos).forEach(function (id) {\n      var funName = deleteFuncMap[elementInfos[id].name];\n      if (_this2[funName] && !elementInfos[id].viewId) {\n        _this2[funName](chart, config, id);\n      }\n    });\n\n    this.deleteViewElement(chart, config, deleteInfos, elementInfos);\n  }\n};\n\nexports.default = iDelete;"]}]}
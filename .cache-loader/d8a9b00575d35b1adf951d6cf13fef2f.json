{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/d3-composite-projections/node_modules/d3-geo/src/clip/rejoin.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/d3-composite-projections/node_modules/d3-geo/src/clip/rejoin.js","mtime":1590566257000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import pointEqual from \"../pointEqual.js\";\nimport { epsilon } from \"../math.js\";\nfunction Intersection(point, points, other, entry) {\n    this.x = point;\n    this.z = points;\n    this.o = other;\n    this.e = entry;\n    this.v = false;\n    this.n = this.p = null;\n}\nexport default function (segments, compareIntersection, startInside, interpolate, stream) {\n    var subject = [], clip = [], i, n;\n    segments.forEach(function (segment) {\n        if ((n = segment.length - 1) <= 0)\n            return;\n        var n, p0 = segment[0], p1 = segment[n], x;\n        if (pointEqual(p0, p1)) {\n            if (!p0[2] && !p1[2]) {\n                stream.lineStart();\n                for (i = 0; i < n; ++i)\n                    stream.point((p0 = segment[i])[0], p0[1]);\n                stream.lineEnd();\n                return;\n            }\n            p1[0] += 2 * epsilon;\n        }\n        subject.push(x = new Intersection(p0, segment, null, true));\n        clip.push(x.o = new Intersection(p0, null, x, false));\n        subject.push(x = new Intersection(p1, segment, null, false));\n        clip.push(x.o = new Intersection(p1, null, x, true));\n    });\n    if (!subject.length)\n        return;\n    clip.sort(compareIntersection);\n    link(subject);\n    link(clip);\n    for (i = 0, n = clip.length; i < n; ++i) {\n        clip[i].e = startInside = !startInside;\n    }\n    var start = subject[0], points, point;\n    while (1) {\n        var current = start, isSubject = true;\n        while (current.v)\n            if ((current = current.n) === start)\n                return;\n        points = current.z;\n        stream.lineStart();\n        do {\n            current.v = current.o.v = true;\n            if (current.e) {\n                if (isSubject) {\n                    for (i = 0, n = points.length; i < n; ++i)\n                        stream.point((point = points[i])[0], point[1]);\n                }\n                else {\n                    interpolate(current.x, current.n.x, 1, stream);\n                }\n                current = current.n;\n            }\n            else {\n                if (isSubject) {\n                    points = current.p.z;\n                    for (i = points.length - 1; i >= 0; --i)\n                        stream.point((point = points[i])[0], point[1]);\n                }\n                else {\n                    interpolate(current.x, current.p.x, -1, stream);\n                }\n                current = current.p;\n            }\n            current = current.o;\n            points = current.z;\n            isSubject = !isSubject;\n        } while (!current.v);\n        stream.lineEnd();\n    }\n}\nfunction link(array) {\n    if (!(n = array.length))\n        return;\n    var n, i = 0, a = array[0], b;\n    while (++i < n) {\n        a.n = b = array[i];\n        b.p = a;\n        a = b;\n    }\n    a.n = b = array[0];\n    b.p = a;\n}\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/d3-composite-projections/node_modules/d3-geo/src/clip/rejoin.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/d3-composite-projections/node_modules/d3-geo/src/clip/rejoin.js"],"names":[],"mappings":"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","sourcesContent":["import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n"]}]}
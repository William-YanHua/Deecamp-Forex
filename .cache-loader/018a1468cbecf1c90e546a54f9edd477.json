{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\plots\\funnel\\geometry\\shape\\funnel-dynamic-rect.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\plots\\funnel\\geometry\\shape\\funnel-dynamic-rect.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import { __assign } from \"tslib\";\r\nimport { get } from '@antv/util';\r\nimport { registerShape } from '@antv/g2';\r\nimport { getStyle } from '@antv/g2/lib/geometry/shape/util/get-style';\r\nfunction lerp(a, b, factor) {\r\n    return (1 - factor) * a + factor * b;\r\n}\r\nfunction _getRectPath(points, _a) {\r\n    var reverse = _a.reverse, ratioUpper = _a.ratioUpper, ratioLower = _a.ratioLower;\r\n    var path = [];\r\n    var firstPoint = points[0];\r\n    var originX = (points[1].x + points[2].x) / 2;\r\n    var factorTop = 1.2;\r\n    var factorBottom = 0.6;\r\n    if (reverse) {\r\n        var tmp = ratioLower;\r\n        ratioLower = ratioUpper;\r\n        ratioUpper = tmp;\r\n    }\r\n    var firstPointX = (firstPoint.x - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\r\n    path.push(['M', firstPointX, firstPoint.y]);\r\n    for (var i = 1, len = points.length; i < len; i++) {\r\n        var pointX = points[i].x;\r\n        switch (i) {\r\n            case 1:\r\n            case 2:\r\n                pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioUpper) + originX;\r\n                break;\r\n            case 3:\r\n                pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\r\n                break;\r\n        }\r\n        path.push(['L', pointX, points[i].y]);\r\n    }\r\n    path.push(['L', firstPointX, firstPoint.y]);\r\n    path.push(['z']);\r\n    return path;\r\n}\r\nregisterShape('interval', 'funnel-dynamic-rect', {\r\n    draw: function (cfg, container) {\r\n        var style = getStyle(cfg, false, true);\r\n        var custom = get(cfg, 'data.__custom__');\r\n        var path = this.parsePath(_getRectPath(cfg.points, custom));\r\n        return container.addShape('path', {\r\n            attrs: __assign(__assign({}, style), { path: path }),\r\n        });\r\n    },\r\n    getMarker: function (markerCfg) {\r\n        var color = markerCfg.color, isInPolar = markerCfg.isInPolar;\r\n        return {\r\n            symbol: isInPolar ? 'circle' : 'square',\r\n            style: {\r\n                r: isInPolar ? 4.5 : 4,\r\n                fill: color,\r\n            },\r\n        };\r\n    },\r\n});\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\plots\\funnel\\geometry\\shape\\funnel-dynamic-rect.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\esm\\plots\\funnel\\geometry\\shape\\funnel-dynamic-rect.js"],"names":[],"mappings":"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","sourcesContent":["import { __assign } from \"tslib\";\nimport { get } from '@antv/util';\nimport { registerShape } from '@antv/g2';\nimport { getStyle } from '@antv/g2/lib/geometry/shape/util/get-style';\nfunction lerp(a, b, factor) {\n    return (1 - factor) * a + factor * b;\n}\n// 根据矩形关键点绘制 path\nfunction _getRectPath(points, _a) {\n    var reverse = _a.reverse, ratioUpper = _a.ratioUpper, ratioLower = _a.ratioLower;\n    var path = [];\n    var firstPoint = points[0];\n    var originX = (points[1].x + points[2].x) / 2;\n    var factorTop = 1.2;\n    var factorBottom = 0.6;\n    if (reverse) {\n        var tmp = ratioLower;\n        ratioLower = ratioUpper;\n        ratioUpper = tmp;\n    }\n    var firstPointX = (firstPoint.x - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\n    path.push(['M', firstPointX, firstPoint.y]);\n    for (var i = 1, len = points.length; i < len; i++) {\n        var pointX = points[i].x;\n        switch (i) {\n            case 1:\n            case 2:\n                pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioUpper) + originX;\n                break;\n            case 3:\n                pointX = (pointX - originX) * lerp(factorBottom, factorTop, ratioLower) + originX;\n                break;\n        }\n        path.push(['L', pointX, points[i].y]);\n    }\n    path.push(['L', firstPointX, firstPoint.y]); // 需要闭合\n    path.push(['z']);\n    return path;\n}\nregisterShape('interval', 'funnel-dynamic-rect', {\n    draw: function (cfg, container) {\n        var style = getStyle(cfg, false, true);\n        var custom = get(cfg, 'data.__custom__');\n        var path = this.parsePath(_getRectPath(cfg.points, custom));\n        return container.addShape('path', {\n            attrs: __assign(__assign({}, style), { path: path }),\n        });\n    },\n    getMarker: function (markerCfg) {\n        var color = markerCfg.color, isInPolar = markerCfg.isInPolar;\n        return {\n            symbol: isInPolar ? 'circle' : 'square',\n            style: {\n                r: isInPolar ? 4.5 : 4,\n                fill: color,\n            },\n        };\n    },\n});\n//# sourceMappingURL=funnel-dynamic-rect.js.map"]}]}
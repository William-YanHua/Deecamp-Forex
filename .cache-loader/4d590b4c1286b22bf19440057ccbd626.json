{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\animate\\animation\\util.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\animate\\animation\\util.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import { ext } from '@antv/matrix-util';\r\nexport function transformShape(shape, vector, direct) {\r\n    var scaledMatrix;\r\n    var x = vector[0], y = vector[1];\r\n    shape.applyToMatrix([x, y, 1]);\r\n    if (direct === 'x') {\r\n        shape.setMatrix(ext.transform(shape.getMatrix(), [\r\n            ['t', -x, -y],\r\n            ['s', 0.01, 1],\r\n            ['t', x, y],\r\n        ]));\r\n        scaledMatrix = ext.transform(shape.getMatrix(), [\r\n            ['t', -x, -y],\r\n            ['s', 100, 1],\r\n            ['t', x, y],\r\n        ]);\r\n    }\r\n    else if (direct === 'y') {\r\n        shape.setMatrix(ext.transform(shape.getMatrix(), [\r\n            ['t', -x, -y],\r\n            ['s', 1, 0.01],\r\n            ['t', x, y],\r\n        ]));\r\n        scaledMatrix = ext.transform(shape.getMatrix(), [\r\n            ['t', -x, -y],\r\n            ['s', 1, 100],\r\n            ['t', x, y],\r\n        ]);\r\n    }\r\n    else if (direct === 'xy') {\r\n        shape.setMatrix(ext.transform(shape.getMatrix(), [\r\n            ['t', -x, -y],\r\n            ['s', 0.01, 0.01],\r\n            ['t', x, y],\r\n        ]));\r\n        scaledMatrix = ext.transform(shape.getMatrix(), [\r\n            ['t', -x, -y],\r\n            ['s', 100, 100],\r\n            ['t', x, y],\r\n        ]);\r\n    }\r\n    return scaledMatrix;\r\n}\r\nexport function doScaleAnimate(element, animateCfg, coordinate, yMinPoint, type) {\r\n    var start = coordinate.start, end = coordinate.end;\r\n    var width = coordinate.getWidth();\r\n    var height = coordinate.getHeight();\r\n    var x;\r\n    var y;\r\n    if (type === 'y') {\r\n        x = start.x + width / 2;\r\n        y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\r\n    }\r\n    else if (type === 'x') {\r\n        x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\r\n        y = start.y + height / 2;\r\n    }\r\n    else if (type === 'xy') {\r\n        if (coordinate.isPolar) {\r\n            x = coordinate.getCenter().x;\r\n            y = coordinate.getCenter().y;\r\n        }\r\n        else {\r\n            x = (start.x + end.x) / 2;\r\n            y = (start.y + end.y) / 2;\r\n        }\r\n    }\r\n    var endMatrix = transformShape(element, [x, y], type);\r\n    element.animate({\r\n        matrix: endMatrix,\r\n    }, animateCfg);\r\n}\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\animate\\animation\\util.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2plot\\node_modules\\@antv\\g2\\esm\\animate\\animation\\util.js"],"names":[],"mappings":"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","sourcesContent":["import { ext } from '@antv/matrix-util';\n/**\n * @ignore\n * 对图形元素进行矩阵变换，同时返回变换前的图形矩阵\n * @param shape 进行矩阵变换的图形\n * @param vector 矩阵变换的中心点\n * @param direct 矩阵变换的类型\n */\nexport function transformShape(shape, vector, direct) {\n    var scaledMatrix;\n    var x = vector[0], y = vector[1];\n    shape.applyToMatrix([x, y, 1]);\n    if (direct === 'x') {\n        shape.setMatrix(ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 1],\n            ['t', x, y],\n        ]));\n        scaledMatrix = ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 1],\n            ['t', x, y],\n        ]);\n    }\n    else if (direct === 'y') {\n        shape.setMatrix(ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 1, 0.01],\n            ['t', x, y],\n        ]));\n        scaledMatrix = ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 1, 100],\n            ['t', x, y],\n        ]);\n    }\n    else if (direct === 'xy') {\n        shape.setMatrix(ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n        ]));\n        scaledMatrix = ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n        ]);\n    }\n    return scaledMatrix;\n}\n/**\n * 对图形元素进行剪切动画\n * @param element 进行动画的图形元素\n * @param animateCfg 动画配置\n * @param coordinate 当前坐标系\n * @param yMinPoint y 轴的最小值对应的图形坐标点\n * @param type 剪切动画的类型\n */\nexport function doScaleAnimate(element, animateCfg, coordinate, yMinPoint, type) {\n    var start = coordinate.start, end = coordinate.end;\n    var width = coordinate.getWidth();\n    var height = coordinate.getHeight();\n    var x;\n    var y;\n    if (type === 'y') {\n        x = start.x + width / 2;\n        y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n    }\n    else if (type === 'x') {\n        x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n        y = start.y + height / 2;\n    }\n    else if (type === 'xy') {\n        if (coordinate.isPolar) {\n            x = coordinate.getCenter().x;\n            y = coordinate.getCenter().y;\n        }\n        else {\n            x = (start.x + end.x) / 2;\n            y = (start.y + end.y) / 2;\n        }\n    }\n    var endMatrix = transformShape(element, [x, y], type);\n    element.animate({\n        matrix: endMatrix,\n    }, animateCfg);\n}\n//# sourceMappingURL=util.js.map"]}]}
{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g-gesture\\esm\\gm.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g-gesture\\esm\\gm.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import { __extends } from \"tslib\";\r\nimport EE from '@antv/event-emitter';\r\nimport { getGesture } from './gestures';\r\nvar GM = (function (_super) {\r\n    __extends(GM, _super);\r\n    function GM(element, options) {\r\n        if (options === void 0) {\r\n            options = {};\r\n        }\r\n        var _this = _super.call(this) || this;\r\n        _this.onTouchStart = function (ev) {\r\n            _this.preventEvent(ev);\r\n            _this.element.on('touchmove', _this.onTouchMove);\r\n            _this.element.on('touchend', _this.onTouchEnd);\r\n            _this.element.on('touchcancel', _this.onTouchCancel);\r\n            _this.emit('touchdown', ev);\r\n            _this.doGestures(ev);\r\n        };\r\n        _this.onTouchMove = function (ev) {\r\n            _this.preventEvent(ev);\r\n            _this.emit('touchmove', ev);\r\n            _this.doGestures(ev);\r\n        };\r\n        _this.onTouchEnd = function (ev) {\r\n            _this.preventEvent(ev);\r\n            _this.emit('touchend', ev);\r\n            _this.element.off('touchmove', _this.onTouchMove);\r\n            _this.element.off('touchend', _this.onTouchEnd);\r\n            _this.element.off('touchcancel', _this.onTouchCancel);\r\n            _this.doGestures(ev);\r\n        };\r\n        _this.onTouchCancel = function (ev) {\r\n            _this.preventEvent(ev);\r\n            _this.emit('touchcancel', ev);\r\n            _this.element.off('touchmove', _this.onTouchMove);\r\n            _this.element.off('touchend', _this.onTouchEnd);\r\n            _this.element.off('touchcancel', _this.onTouchCancel);\r\n            _this.doGestures(ev);\r\n        };\r\n        _this.element = element;\r\n        _this.options = options;\r\n        _this.initialGestures();\r\n        _this.bindTouchStart();\r\n        return _this;\r\n    }\r\n    GM.prototype.destroy = function () {\r\n        this.element.off('touchstart', this.onTouchStart);\r\n        this.off();\r\n    };\r\n    GM.prototype.initialGestures = function () {\r\n        var _this = this;\r\n        var gestures = this.options.gestures || ['Pan', 'Press', 'Swipe', 'Tap'];\r\n        this.gestures = gestures.map(function (gesture) {\r\n            var Ctor = getGesture(gesture);\r\n            return new Ctor(_this);\r\n        });\r\n    };\r\n    GM.prototype.bindTouchStart = function () {\r\n        this.element.on('touchstart', this.onTouchStart);\r\n    };\r\n    GM.prototype.preventEvent = function (ev) {\r\n        var type = ev.type;\r\n        var prevents = this.options.prevents || [];\r\n        if (prevents.includes(type)) {\r\n            ev.preventDefault();\r\n        }\r\n    };\r\n    GM.prototype.doGestures = function (ev) {\r\n        this.gestures.forEach(function (g) {\r\n            g.do(ev);\r\n        });\r\n    };\r\n    return GM;\r\n}(EE));\r\nexport { GM };\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g-gesture\\esm\\gm.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g-gesture\\esm\\gm.js"],"names":[],"mappings":"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","sourcesContent":["import { __extends } from \"tslib\";\nimport EE from '@antv/event-emitter';\nimport { getGesture } from './gestures';\n/**\n * 给 view 添加移动端的滚动能力：\n *  - 监听 touch 事件，emit wheel 事件\n *  - 滚动惯性包装\n *  - 和 pc 的 wheel 事件保持基本一致\n */\nvar GM = /** @class */ (function (_super) {\n    __extends(GM, _super);\n    function GM(element, options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this) || this;\n        /**\n         * touchstart 触发\n         * @param ev\n         */\n        _this.onTouchStart = function (ev) {\n            _this.preventEvent(ev);\n            _this.element.on('touchmove', _this.onTouchMove);\n            _this.element.on('touchend', _this.onTouchEnd);\n            _this.element.on('touchcancel', _this.onTouchCancel);\n            _this.emit('touchdown', ev);\n            _this.doGestures(ev);\n        };\n        /**\n         * touchmove 触发\n         * @param ev\n         */\n        _this.onTouchMove = function (ev) {\n            _this.preventEvent(ev);\n            _this.emit('touchmove', ev);\n            _this.doGestures(ev);\n        };\n        /**\n         * touchend 触发\n         * @param ev\n         */\n        _this.onTouchEnd = function (ev) {\n            _this.preventEvent(ev);\n            _this.emit('touchend', ev);\n            _this.element.off('touchmove', _this.onTouchMove);\n            _this.element.off('touchend', _this.onTouchEnd);\n            _this.element.off('touchcancel', _this.onTouchCancel);\n            _this.doGestures(ev);\n        };\n        /**\n         * touchcancel 触发\n         * @param ev\n         */\n        _this.onTouchCancel = function (ev) {\n            _this.preventEvent(ev);\n            _this.emit('touchcancel', ev);\n            _this.element.off('touchmove', _this.onTouchMove);\n            _this.element.off('touchend', _this.onTouchEnd);\n            _this.element.off('touchcancel', _this.onTouchCancel);\n            _this.doGestures(ev);\n        };\n        _this.element = element;\n        _this.options = options;\n        _this.initialGestures();\n        _this.bindTouchStart();\n        return _this;\n    }\n    /**\n     * 销毁，取消事件绑定\n     */\n    GM.prototype.destroy = function () {\n        this.element.off('touchstart', this.onTouchStart);\n        this.off();\n    };\n    /**\n     * 实例化手势\n     */\n    GM.prototype.initialGestures = function () {\n        var _this = this;\n        var gestures = this.options.gestures || ['Pan', 'Press', 'Swipe', 'Tap'];\n        this.gestures = gestures.map(function (gesture) {\n            var Ctor = getGesture(gesture);\n            return new Ctor(_this);\n        });\n    };\n    /**\n     * 绑定 touchstart 事件\n     */\n    GM.prototype.bindTouchStart = function () {\n        this.element.on('touchstart', this.onTouchStart);\n    };\n    GM.prototype.preventEvent = function (ev) {\n        var type = ev.type;\n        var prevents = this.options.prevents || [];\n        if (prevents.includes(type)) {\n            ev.preventDefault();\n        }\n    };\n    GM.prototype.doGestures = function (ev) {\n        this.gestures.forEach(function (g) {\n            g.do(ev);\n        });\n    };\n    return GM;\n}(EE));\nexport { GM };\n//# sourceMappingURL=gm.js.map"]}]}
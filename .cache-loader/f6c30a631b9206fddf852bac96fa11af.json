{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/component/lib/tooltip/html.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/component/lib/tooltip/html.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n        }\n    }\n} return target; }; return _extends.apply(this, arguments); }\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) {\n    var NewTarget = _getPrototypeOf(this).constructor;\n    result = Reflect.construct(Super, arguments, NewTarget);\n}\nelse {\n    result = Super.apply(this, arguments);\n} return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n} return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n} return self; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct)\n    return false; if (Reflect.construct.sham)\n    return false; if (typeof Proxy === \"function\")\n    return true; try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () { }));\n    return true;\n}\ncatch (e) {\n    return false;\n} }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\nvar G = require('@antv/g/lib');\nvar Tooltip = require('./base');\nvar Util = require('../util');\nvar DomUtil = Util.DomUtil;\nvar TooltipTheme = require('./theme');\nvar Crosshair = require('./crosshair');\nvar PositionMixin = require('./mixin/position');\nvar MarkerGroupMixin = require('./mixin/marker-group');\nvar CONTAINER_CLASS = 'g2-tooltip';\nvar TITLE_CLASS = 'g2-tooltip-title';\nvar LIST_CLASS = 'g2-tooltip-list';\nvar MARKER_CLASS = 'g2-tooltip-marker';\nvar VALUE_CLASS = 'g2-tooltip-value';\nvar LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nvar MARKER_SIZE = 5;\nvar Marker = G.Marker;\nfunction find(dom, cls) {\n    return dom.getElementsByClassName(cls)[0];\n}\nfunction mergeStyles(styles, cfg) {\n    Object.keys(styles).forEach(function (k) {\n        if (cfg[k]) {\n            styles[k] = Util.mix(styles[k], cfg[k]);\n        }\n    });\n    return styles;\n}\nvar HtmlTooltip = function (_Tooltip) {\n    _inheritsLoose(HtmlTooltip, _Tooltip);\n    var _super = _createSuper(HtmlTooltip);\n    var _proto = HtmlTooltip.prototype;\n    _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Tooltip.prototype.getDefaultCfg.call(this);\n        return Util.mix({}, cfg, {\n            containerTpl: ' <div class=\"' + CONTAINER_CLASS + '\"> ' + '<div class=\"' + TITLE_CLASS + '\"></div>' + '<ul class=\"' + LIST_CLASS + '\"></ul>' + '</div>',\n            itemTpl: \"<li data-index={index}>\\n      <svg viewBox=\\\"0 0 \" + MARKER_SIZE + \" \" + MARKER_SIZE + \"\\\" class=\\\"\" + MARKER_CLASS + \"\\\"></svg>\\n      {name}<span class=\\\"\" + VALUE_CLASS + \"\\\">{value}</span></li>\",\n            htmlContent: null,\n            follow: true,\n            enterable: false\n        });\n    };\n    function HtmlTooltip(cfg) {\n        var _this;\n        _this = _Tooltip.call(this, cfg) || this;\n        Util.assign(_assertThisInitialized(_this), PositionMixin);\n        Util.assign(_assertThisInitialized(_this), MarkerGroupMixin);\n        var style = TooltipTheme;\n        _this.style = mergeStyles(style, cfg);\n        _this._init_();\n        if (_this.get('items')) {\n            _this.render();\n        }\n        var crosshair = _this.get('crosshairs');\n        if (crosshair) {\n            var plot = crosshair.type === 'rect' ? _this.get('backPlot') : _this.get('frontPlot');\n            var crosshairGroup = new Crosshair(Util.mix({\n                plot: plot,\n                plotRange: _this.get('plotRange'),\n                canvas: _this.get('canvas')\n            }, _this.get('crosshairs')));\n            crosshairGroup.hide();\n            _this.set('crosshairGroup', crosshairGroup);\n        }\n        return _this;\n    }\n    _proto._init_ = function _init_() {\n        var self = this;\n        var containerTpl = self.get('containerTpl');\n        var outterNode = self.get('canvas').get('el').parentNode;\n        var container;\n        if (!this.get('htmlContent')) {\n            if (/^\\#/.test(containerTpl)) {\n                var id = containerTpl.replace('#', '');\n                container = document.getElementById(id);\n            }\n            else {\n                container = DomUtil.createDom(containerTpl);\n                DomUtil.modifyCSS(container, self.style[CONTAINER_CLASS]);\n                outterNode.appendChild(container);\n                outterNode.style.position = 'relative';\n            }\n            self.set('container', container);\n        }\n    };\n    _proto.render = function render() {\n        var self = this;\n        self.clear();\n        if (self.get('htmlContent')) {\n            var outterNode = self.get('canvas').get('el').parentNode;\n            var container = self._getHtmlContent();\n            outterNode.appendChild(container);\n            self.set('container', container);\n        }\n        else {\n            self._renderTpl();\n        }\n    };\n    _proto._renderTpl = function _renderTpl() {\n        var self = this;\n        var showTitle = self.get('showTitle');\n        var titleContent = self.get('titleContent');\n        var container = self.get('container');\n        var titleDom = find(container, TITLE_CLASS);\n        var listDom = find(container, LIST_CLASS);\n        var items = self.get('items');\n        if (titleDom && showTitle) {\n            DomUtil.modifyCSS(titleDom, self.style[TITLE_CLASS]);\n            titleDom.innerHTML = titleContent;\n        }\n        if (listDom) {\n            DomUtil.modifyCSS(listDom, self.style[LIST_CLASS]);\n            Util.each(items, function (item, index) {\n                listDom.appendChild(self._addItem(item, index));\n            });\n        }\n    };\n    _proto.clear = function clear() {\n        var container = this.get('container');\n        if (this.get('htmlContent')) {\n            container && container.remove();\n        }\n        else {\n            var titleDom = find(container, TITLE_CLASS);\n            var listDom = find(container, LIST_CLASS);\n            if (titleDom) {\n                titleDom.innerHTML = '';\n            }\n            if (listDom) {\n                listDom.innerHTML = '';\n            }\n        }\n    };\n    _proto.show = function show() {\n        var container = this.get('container');\n        if (!container || this.destroyed) {\n            return;\n        }\n        container.style.visibility = 'visible';\n        container.style.display = 'block';\n        var crosshairGroup = this.get('crosshairGroup');\n        crosshairGroup && crosshairGroup.show();\n        var markerGroup = this.get('markerGroup');\n        markerGroup && markerGroup.show();\n        _Tooltip.prototype.show.call(this);\n        this.get('canvas').draw();\n    };\n    _proto.hide = function hide() {\n        var container = this.get('container');\n        if (!container || this.destroyed) {\n            return;\n        }\n        container.style.visibility = 'hidden';\n        container.style.display = 'none';\n        var crosshairGroup = this.get('crosshairGroup');\n        crosshairGroup && crosshairGroup.hide();\n        var markerGroup = this.get('markerGroup');\n        markerGroup && markerGroup.hide();\n        _Tooltip.prototype.hide.call(this);\n        this.get('canvas').draw();\n    };\n    _proto.destroy = function destroy() {\n        var self = this;\n        var container = self.get('container');\n        var containerTpl = self.get('containerTpl');\n        if (container && !/^\\#/.test(containerTpl)) {\n            container.parentNode.removeChild(container);\n        }\n        var crosshairGroup = this.get('crosshairGroup');\n        crosshairGroup && crosshairGroup.destroy();\n        var markerGroup = this.get('markerGroup');\n        markerGroup && markerGroup.remove();\n        _Tooltip.prototype.destroy.call(this);\n    };\n    _proto._getMarkerSvg = function _getMarkerSvg(item) {\n        var marker = item.marker || {};\n        var symbol = marker.activeSymbol || marker.symbol;\n        var method;\n        if (Util.isFunction(symbol)) {\n            method = symbol;\n        }\n        else if (Util.isString(symbol)) {\n            method = Marker.Symbols[symbol];\n        }\n        method = Util.isFunction(method) ? method : Marker.Symbols.circle;\n        var pathArr = method(MARKER_SIZE / 2, MARKER_SIZE / 2, MARKER_SIZE / 2);\n        var path = pathArr.reduce(function (res, arr) {\n            return \"\" + res + arr[0] + arr.slice(1).join(',');\n        }, '');\n        return \"<path d=\\\"\" + path + \"\\\" fill=\\\"\" + (marker.fill || 'none') + \"\\\" stroke=\\\"\" + (marker.stroke || 'none') + \"\\\" />\";\n    };\n    _proto._addItem = function _addItem(item, index) {\n        var itemTpl = this.get('itemTpl');\n        var itemDiv = Util.substitute(itemTpl, Util.mix({\n            index: index\n        }, item));\n        var itemDOM = DomUtil.createDom(itemDiv);\n        DomUtil.modifyCSS(itemDOM, this.style[LIST_ITEM_CLASS]);\n        var markerDom = find(itemDOM, MARKER_CLASS);\n        if (markerDom) {\n            DomUtil.modifyCSS(markerDom, _extends({}, this.style[MARKER_CLASS], {\n                borderRadius: 'unset'\n            }));\n            var markerPath = this._getMarkerSvg(item);\n            markerDom.innerHTML = markerPath;\n        }\n        var valueDom = find(itemDOM, VALUE_CLASS);\n        if (valueDom) {\n            DomUtil.modifyCSS(valueDom, this.style[VALUE_CLASS]);\n        }\n        return itemDOM;\n    };\n    _proto._getHtmlContent = function _getHtmlContent() {\n        var htmlContent = this.get('htmlContent');\n        var title = this.get('titleContent');\n        var items = this.get('items');\n        var htmlString = htmlContent(title, items);\n        var ele = DomUtil.createDom(htmlString);\n        return ele;\n    };\n    _proto.setPosition = function setPosition(x, y, target) {\n        var container = this.get('container');\n        var outterNode = this.get('canvas').get('el');\n        var viewWidth = DomUtil.getWidth(outterNode);\n        var viewHeight = DomUtil.getHeight(outterNode);\n        var containerWidth = container.clientWidth;\n        var containerHeight = container.clientHeight;\n        var endx = x;\n        var endy = y;\n        var position;\n        var prePosition = this.get('prePosition') || {\n            x: 0,\n            y: 0\n        };\n        if (!containerWidth) {\n            container.style.display = 'block';\n            containerWidth = container.clientWidth;\n            containerHeight = container.clientHeight;\n            container.style.display = 'none';\n        }\n        if (this.get('enterable')) {\n            y = y - container.clientHeight / 2;\n            position = [x, y];\n            if (prePosition && x - prePosition.x > 0) {\n                x -= container.clientWidth + 1;\n            }\n            else {\n                x += 1;\n            }\n        }\n        else if (this.get('position')) {\n            position = this._calcTooltipPosition(x, y, this.get('position'), containerWidth, containerHeight, target);\n            x = position[0];\n            y = position[1];\n        }\n        else {\n            position = this._constraintPositionInBoundary(x, y, containerWidth, containerHeight, viewWidth, viewHeight);\n            x = position[0];\n            y = position[1];\n        }\n        if (this.get('inPlot')) {\n            var plotRange = this.get('plotRange');\n            position = this._constraintPositionInPlot(x, y, containerWidth, containerHeight, plotRange, this.get('enterable'));\n            x = position[0];\n            y = position[1];\n        }\n        var markerItems = this.get('markerItems');\n        if (!Util.isEmpty(markerItems)) {\n            endx = markerItems[0].x;\n            endy = markerItems[0].y;\n        }\n        this.set('prePosition', position);\n        var follow = this.get('follow');\n        if (follow) {\n            container.style.left = x + 'px';\n            container.style.top = y + 'px';\n        }\n        var crosshairGroup = this.get('crosshairGroup');\n        if (crosshairGroup) {\n            var items = this.get('items');\n            crosshairGroup.setPosition(endx, endy, items);\n        }\n        _Tooltip.prototype.setPosition.call(this, x, y);\n    };\n    return HtmlTooltip;\n}(Tooltip);\nmodule.exports = HtmlTooltip;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/component/lib/tooltip/html.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/component/lib/tooltip/html.js"],"names":[],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar G = require('@antv/g/lib');\n\nvar Tooltip = require('./base');\n\nvar Util = require('../util');\n\nvar DomUtil = Util.DomUtil;\n\nvar TooltipTheme = require('./theme');\n\nvar Crosshair = require('./crosshair');\n\nvar PositionMixin = require('./mixin/position');\n\nvar MarkerGroupMixin = require('./mixin/marker-group');\n\nvar CONTAINER_CLASS = 'g2-tooltip';\nvar TITLE_CLASS = 'g2-tooltip-title';\nvar LIST_CLASS = 'g2-tooltip-list';\nvar MARKER_CLASS = 'g2-tooltip-marker';\nvar VALUE_CLASS = 'g2-tooltip-value';\nvar LIST_ITEM_CLASS = 'g2-tooltip-list-item';\nvar MARKER_SIZE = 5;\nvar Marker = G.Marker;\n\nfunction find(dom, cls) {\n  return dom.getElementsByClassName(cls)[0];\n}\n\nfunction mergeStyles(styles, cfg) {\n  Object.keys(styles).forEach(function (k) {\n    if (cfg[k]) {\n      styles[k] = Util.mix(styles[k], cfg[k]);\n    }\n  });\n  return styles;\n}\n\nvar HtmlTooltip = /*#__PURE__*/function (_Tooltip) {\n  _inheritsLoose(HtmlTooltip, _Tooltip);\n\n  var _super = _createSuper(HtmlTooltip);\n\n  var _proto = HtmlTooltip.prototype;\n\n  _proto.getDefaultCfg = function getDefaultCfg() {\n    var cfg = _Tooltip.prototype.getDefaultCfg.call(this);\n\n    return Util.mix({}, cfg, {\n      /**\n         * tooltip 容器模板\n         * @type {String}\n      */\n      containerTpl: ' <div class=\"' + CONTAINER_CLASS + '\"> ' + '<div class=\"' + TITLE_CLASS + '\"></div>' + '<ul class=\"' + LIST_CLASS + '\"></ul>' + '</div>',\n\n      /**\n       * tooltip 列表项模板\n       * @type {String}\n       */\n      itemTpl: \"<li data-index={index}>\\n      <svg viewBox=\\\"0 0 \" + MARKER_SIZE + \" \" + MARKER_SIZE + \"\\\" class=\\\"\" + MARKER_CLASS + \"\\\"></svg>\\n      {name}<span class=\\\"\" + VALUE_CLASS + \"\\\">{value}</span></li>\",\n\n      /**\n       * tooltip html内容\n       * @type {String}\n       */\n      htmlContent: null,\n\n      /**\n       * tooltip 内容跟随鼠标移动\n       * @type {Boolean}\n       */\n      follow: true,\n\n      /**\n       * 是否允许鼠标停留在 tooltip 上，默认不允许\n       * @type {Boolean}\n       */\n      enterable: false\n    });\n  };\n\n  function HtmlTooltip(cfg) {\n    var _this;\n\n    _this = _Tooltip.call(this, cfg) || this;\n    Util.assign(_assertThisInitialized(_this), PositionMixin);\n    Util.assign(_assertThisInitialized(_this), MarkerGroupMixin);\n    var style = TooltipTheme;\n    _this.style = mergeStyles(style, cfg);\n\n    _this._init_();\n\n    if (_this.get('items')) {\n      _this.render();\n    } // crosshair\n\n\n    var crosshair = _this.get('crosshairs');\n\n    if (crosshair) {\n      var plot = crosshair.type === 'rect' ? _this.get('backPlot') : _this.get('frontPlot');\n      var crosshairGroup = new Crosshair(Util.mix({\n        plot: plot,\n        plotRange: _this.get('plotRange'),\n        canvas: _this.get('canvas')\n      }, _this.get('crosshairs')));\n      crosshairGroup.hide();\n\n      _this.set('crosshairGroup', crosshairGroup);\n    }\n\n    return _this;\n  }\n\n  _proto._init_ = function _init_() {\n    var self = this;\n    var containerTpl = self.get('containerTpl');\n    var outterNode = self.get('canvas').get('el').parentNode;\n    var container;\n\n    if (!this.get('htmlContent')) {\n      if (/^\\#/.test(containerTpl)) {\n        // 如果传入 dom 节点的 id\n        var id = containerTpl.replace('#', '');\n        container = document.getElementById(id);\n      } else {\n        container = DomUtil.createDom(containerTpl);\n        DomUtil.modifyCSS(container, self.style[CONTAINER_CLASS]);\n        outterNode.appendChild(container);\n        outterNode.style.position = 'relative';\n      }\n\n      self.set('container', container);\n    }\n  };\n\n  _proto.render = function render() {\n    var self = this;\n    self.clear();\n\n    if (self.get('htmlContent')) {\n      var outterNode = self.get('canvas').get('el').parentNode;\n\n      var container = self._getHtmlContent();\n\n      outterNode.appendChild(container);\n      self.set('container', container);\n    } else {\n      self._renderTpl();\n    }\n  };\n\n  _proto._renderTpl = function _renderTpl() {\n    var self = this;\n    var showTitle = self.get('showTitle');\n    var titleContent = self.get('titleContent');\n    var container = self.get('container');\n    var titleDom = find(container, TITLE_CLASS);\n    var listDom = find(container, LIST_CLASS);\n    var items = self.get('items');\n\n    if (titleDom && showTitle) {\n      DomUtil.modifyCSS(titleDom, self.style[TITLE_CLASS]);\n      titleDom.innerHTML = titleContent;\n    }\n\n    if (listDom) {\n      DomUtil.modifyCSS(listDom, self.style[LIST_CLASS]);\n      Util.each(items, function (item, index) {\n        listDom.appendChild(self._addItem(item, index));\n      });\n    }\n  };\n\n  _proto.clear = function clear() {\n    var container = this.get('container');\n\n    if (this.get('htmlContent')) {\n      container && container.remove();\n    } else {\n      var titleDom = find(container, TITLE_CLASS);\n      var listDom = find(container, LIST_CLASS);\n\n      if (titleDom) {\n        titleDom.innerHTML = '';\n      }\n\n      if (listDom) {\n        listDom.innerHTML = '';\n      }\n    }\n  };\n\n  _proto.show = function show() {\n    var container = this.get('container');\n\n    if (!container || this.destroyed) {\n      // 防止容器不存在或者被销毁时报错\n      return;\n    }\n\n    container.style.visibility = 'visible';\n    container.style.display = 'block';\n    var crosshairGroup = this.get('crosshairGroup');\n    crosshairGroup && crosshairGroup.show();\n    var markerGroup = this.get('markerGroup');\n    markerGroup && markerGroup.show();\n\n    _Tooltip.prototype.show.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  _proto.hide = function hide() {\n    var container = this.get('container'); // relative: https://github.com/antvis/g2/issues/1221\n\n    if (!container || this.destroyed) {\n      return;\n    }\n\n    container.style.visibility = 'hidden';\n    container.style.display = 'none';\n    var crosshairGroup = this.get('crosshairGroup');\n    crosshairGroup && crosshairGroup.hide();\n    var markerGroup = this.get('markerGroup');\n    markerGroup && markerGroup.hide();\n\n    _Tooltip.prototype.hide.call(this);\n\n    this.get('canvas').draw();\n  };\n\n  _proto.destroy = function destroy() {\n    var self = this;\n    var container = self.get('container');\n    var containerTpl = self.get('containerTpl');\n\n    if (container && !/^\\#/.test(containerTpl)) {\n      container.parentNode.removeChild(container);\n    }\n\n    var crosshairGroup = this.get('crosshairGroup');\n    crosshairGroup && crosshairGroup.destroy();\n    var markerGroup = this.get('markerGroup');\n    markerGroup && markerGroup.remove();\n\n    _Tooltip.prototype.destroy.call(this);\n  };\n\n  _proto._getMarkerSvg = function _getMarkerSvg(item) {\n    var marker = item.marker || {};\n    var symbol = marker.activeSymbol || marker.symbol;\n    var method;\n\n    if (Util.isFunction(symbol)) {\n      method = symbol;\n    } else if (Util.isString(symbol)) {\n      method = Marker.Symbols[symbol];\n    }\n\n    method = Util.isFunction(method) ? method : Marker.Symbols.circle;\n    var pathArr = method(MARKER_SIZE / 2, MARKER_SIZE / 2, MARKER_SIZE / 2);\n    var path = pathArr.reduce(function (res, arr) {\n      return \"\" + res + arr[0] + arr.slice(1).join(',');\n    }, '');\n    return \"<path d=\\\"\" + path + \"\\\" fill=\\\"\" + (marker.fill || 'none') + \"\\\" stroke=\\\"\" + (marker.stroke || 'none') + \"\\\" />\";\n  };\n\n  _proto._addItem = function _addItem(item, index) {\n    var itemTpl = this.get('itemTpl'); // TODO: 有可能是个回调函数\n\n    var itemDiv = Util.substitute(itemTpl, Util.mix({\n      index: index\n    }, item));\n    var itemDOM = DomUtil.createDom(itemDiv);\n    DomUtil.modifyCSS(itemDOM, this.style[LIST_ITEM_CLASS]);\n    var markerDom = find(itemDOM, MARKER_CLASS);\n\n    if (markerDom) {\n      DomUtil.modifyCSS(markerDom, _extends({}, this.style[MARKER_CLASS], {\n        borderRadius: 'unset'\n      }));\n\n      var markerPath = this._getMarkerSvg(item);\n\n      markerDom.innerHTML = markerPath;\n    }\n\n    var valueDom = find(itemDOM, VALUE_CLASS);\n\n    if (valueDom) {\n      DomUtil.modifyCSS(valueDom, this.style[VALUE_CLASS]);\n    }\n\n    return itemDOM;\n  };\n\n  _proto._getHtmlContent = function _getHtmlContent() {\n    var htmlContent = this.get('htmlContent');\n    var title = this.get('titleContent');\n    var items = this.get('items');\n    var htmlString = htmlContent(title, items);\n    var ele = DomUtil.createDom(htmlString);\n    return ele;\n  };\n\n  _proto.setPosition = function setPosition(x, y, target) {\n    var container = this.get('container');\n    var outterNode = this.get('canvas').get('el');\n    var viewWidth = DomUtil.getWidth(outterNode);\n    var viewHeight = DomUtil.getHeight(outterNode);\n    var containerWidth = container.clientWidth;\n    var containerHeight = container.clientHeight;\n    var endx = x;\n    var endy = y;\n    var position;\n    var prePosition = this.get('prePosition') || {\n      x: 0,\n      y: 0\n    }; // @2019-01-30 by blue.lb 由于display:none的元素获取clientWidth和clientHeight的值为0，这里强制显隐一下，其实直接在show和hide中去掉display设置最好，猜测为了更好的兼容浏览器\n\n    if (!containerWidth) {\n      container.style.display = 'block';\n      containerWidth = container.clientWidth;\n      containerHeight = container.clientHeight;\n      container.style.display = 'none';\n    }\n\n    if (this.get('enterable')) {\n      y = y - container.clientHeight / 2;\n      position = [x, y];\n\n      if (prePosition && x - prePosition.x > 0) {\n        // 留 1px 防止鼠标点击事件无法在画布上触发\n        x -= container.clientWidth + 1;\n      } else {\n        x += 1;\n      }\n    } else if (this.get('position')) {\n      // @2019-01-30 by blue.lb 这里应该是多余代码\n      // const containerWidth = container.clientWidth;\n      // const containerHeight = container.clientHeight;\n      position = this._calcTooltipPosition(x, y, this.get('position'), containerWidth, containerHeight, target);\n      x = position[0];\n      y = position[1];\n    } else {\n      position = this._constraintPositionInBoundary(x, y, containerWidth, containerHeight, viewWidth, viewHeight);\n      x = position[0];\n      y = position[1];\n    }\n\n    if (this.get('inPlot')) {\n      // tooltip 必须限制在绘图区域内\n      var plotRange = this.get('plotRange');\n      position = this._constraintPositionInPlot(x, y, containerWidth, containerHeight, plotRange, this.get('enterable'));\n      x = position[0];\n      y = position[1];\n    }\n\n    var markerItems = this.get('markerItems');\n\n    if (!Util.isEmpty(markerItems)) {\n      endx = markerItems[0].x;\n      endy = markerItems[0].y;\n    }\n\n    this.set('prePosition', position); // 记录上次的位置\n\n    var follow = this.get('follow');\n\n    if (follow) {\n      container.style.left = x + 'px';\n      container.style.top = y + 'px';\n    }\n\n    var crosshairGroup = this.get('crosshairGroup');\n\n    if (crosshairGroup) {\n      var items = this.get('items');\n      crosshairGroup.setPosition(endx, endy, items);\n    }\n\n    _Tooltip.prototype.setPosition.call(this, x, y);\n  };\n\n  return HtmlTooltip;\n}(Tooltip);\n\nmodule.exports = HtmlTooltip;"]}]}
{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/@antv/g2plot/esm/components/axis/state.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/@antv/g2plot/esm/components/axis/state.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import { each, clone, isObject, isFunction } from '@antv/util';\nvar labels;\nvar originAttrs;\nfunction onActive(plot, condition) {\n    if (!labels) {\n        getAllAxisLabels(plot);\n    }\n    each(labels, function (label) {\n        var _a = beforeCompare(label, condition), labelData = _a.labelData, con = _a.con;\n        if (compare(labelData, con)) {\n            var disableStyle = labelActiveStyle();\n            label.shape.attr(disableStyle);\n        }\n    });\n}\nfunction onDisable(plot, condition) {\n    if (!labels) {\n        getAllAxisLabels(plot);\n    }\n    each(labels, function (label, index) {\n        var _a = beforeCompare(label, condition), labelData = _a.labelData, con = _a.con;\n        if (compare(labelData, con)) {\n            var originAttr = originAttrs[index];\n            var disableStyle = labelDisableStyle(originAttr);\n            label.shape.attr(disableStyle);\n        }\n    });\n}\nfunction getAllAxisLabels(plot) {\n    labels = [];\n    originAttrs = [];\n    var axes = plot.view.getController('axis').getComponents();\n    each(axes, function (axisComponentOption) {\n        var axis = axisComponentOption.component;\n        var labelArr = [];\n        var scale = getScale(plot, axis);\n        var labelShapes = axis.get('labelRenderer').get('group').get('children');\n        each(labelShapes, function (shape) {\n            if (shape.type === 'text') {\n                labelArr.push({ shape: shape });\n                originAttrs.push(shape.attr());\n            }\n        });\n        if (scale) {\n            var ticks_1 = scale.ticks, field_1 = scale.field;\n            each(labelArr, function (label, index) {\n                label.value = ticks_1[index];\n                label.scaleField = field_1;\n                label.type = scale.type;\n            });\n        }\n        labels.push.apply(labels, labelArr);\n    });\n}\nfunction getScale(plot, axis) {\n    var props = plot.options;\n    var dim = 'y';\n    var position = axis.get('position');\n    if (position === 'bottom' || position === 'top') {\n        dim = 'x';\n    }\n    var scaleField = props[dim + \"Field\"];\n    return plot.view.get('scales')[scaleField];\n}\nfunction beforeCompare(label, condition) {\n    var _a;\n    var labelData = (_a = {}, _a[label.scaleField] = label.value, _a);\n    var con = clone(condition);\n    if (label.type === 'time' && isObject(condition) && !isFunction(con.exp)) {\n        con.exp = new Date(con.exp).getTime();\n    }\n    return { labelData: labelData, con: con };\n}\nfunction labelDisableStyle(style) {\n    var opacity = style.opacity || 1;\n    return { opacity: opacity * 0.2 };\n}\nfunction labelActiveStyle() {\n    return { opacity: 1, fontWeight: 600, fill: 'red' };\n}\nfunction compare(origin, condition) {\n    if (!isFunction(condition)) {\n        var name_1 = condition.name, exp = condition.exp;\n        if (!origin[name_1]) {\n            return false;\n        }\n        if (isFunction(exp)) {\n            return exp(origin[name_1]);\n        }\n        return origin[name_1] === exp;\n    }\n    return condition(origin);\n}\nexport default {\n    active: onActive,\n    selected: onActive,\n    disable: onDisable,\n};\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/@antv/g2plot/esm/components/axis/state.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/@antv/g2plot/esm/components/axis/state.js"],"names":[],"mappings":"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","sourcesContent":["import { each, clone, isObject, isFunction } from '@antv/util';\n// import { compare } from '../../base/controller/state';\n// 对axis label和label样式进行缓存\nvar labels;\nvar originAttrs;\nfunction onActive(plot, condition) {\n    if (!labels) {\n        getAllAxisLabels(plot);\n    }\n    each(labels, function (label) {\n        var _a = beforeCompare(label, condition), labelData = _a.labelData, con = _a.con;\n        if (compare(labelData, con)) {\n            var disableStyle = labelActiveStyle();\n            label.shape.attr(disableStyle);\n        }\n    });\n}\nfunction onDisable(plot, condition) {\n    if (!labels) {\n        getAllAxisLabels(plot);\n    }\n    each(labels, function (label, index) {\n        var _a = beforeCompare(label, condition), labelData = _a.labelData, con = _a.con;\n        if (compare(labelData, con)) {\n            var originAttr = originAttrs[index];\n            var disableStyle = labelDisableStyle(originAttr);\n            label.shape.attr(disableStyle);\n        }\n    });\n}\nfunction getAllAxisLabels(plot) {\n    labels = [];\n    originAttrs = [];\n    var axes = plot.view.getController('axis').getComponents();\n    each(axes, function (axisComponentOption) {\n        var axis = axisComponentOption.component;\n        var labelArr = [];\n        var scale = getScale(plot, axis);\n        var labelShapes = axis.get('labelRenderer').get('group').get('children');\n        each(labelShapes, function (shape) {\n            if (shape.type === 'text') {\n                labelArr.push({ shape: shape });\n                originAttrs.push(shape.attr());\n            }\n        });\n        if (scale) {\n            // 取到scale values作为原始数据，避免被label format的影响\n            var ticks_1 = scale.ticks, field_1 = scale.field;\n            each(labelArr, function (label, index) {\n                label.value = ticks_1[index];\n                label.scaleField = field_1;\n                label.type = scale.type;\n            });\n        }\n        labels.push.apply(labels, labelArr);\n    });\n}\n// 获取坐标轴对应的scale\nfunction getScale(plot, axis) {\n    var props = plot.options;\n    var dim = 'y';\n    var position = axis.get('position');\n    if (position === 'bottom' || position === 'top') {\n        dim = 'x';\n    }\n    var scaleField = props[dim + \"Field\"];\n    return plot.view.get('scales')[scaleField];\n}\nfunction beforeCompare(label, condition) {\n    var _a;\n    var labelData = (_a = {}, _a[label.scaleField] = label.value, _a);\n    var con = clone(condition);\n    if (label.type === 'time' && isObject(condition) && !isFunction(con.exp)) {\n        con.exp = new Date(con.exp).getTime();\n    }\n    return { labelData: labelData, con: con };\n}\nfunction labelDisableStyle(style) {\n    var opacity = style.opacity || 1;\n    return { opacity: opacity * 0.2 };\n}\nfunction labelActiveStyle() {\n    return { opacity: 1, fontWeight: 600, fill: 'red' };\n}\nfunction compare(origin, condition) {\n    if (!isFunction(condition)) {\n        var name_1 = condition.name, exp = condition.exp;\n        if (!origin[name_1]) {\n            return false;\n        }\n        if (isFunction(exp)) {\n            return exp(origin[name_1]);\n        }\n        return origin[name_1] === exp;\n    }\n    return condition(origin);\n}\nexport default {\n    active: onActive,\n    selected: onActive,\n    disable: onDisable,\n};\n//# sourceMappingURL=state.js.map"]}]}
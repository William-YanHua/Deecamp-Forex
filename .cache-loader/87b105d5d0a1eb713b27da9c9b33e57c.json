{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/component/plot.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/component/plot.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var Util = require('../util');\nvar _require = require('../renderer'), Group = _require.Group;\nvar AUTO_STR = 'auto';\nvar PlotBack = function PlotBack(cfg) {\n    PlotBack.superclass.constructor.call(this, cfg);\n};\nUtil.extend(PlotBack, Group);\nUtil.augment(PlotBack, {\n    getDefaultCfg: function getDefaultCfg() {\n        return {\n            type: 'plotBack',\n            padding: null,\n            background: null,\n            plotRange: null,\n            plotBackground: null\n        };\n    },\n    _beforeRenderUI: function _beforeRenderUI() {\n        this._calculateRange();\n    },\n    _renderUI: function _renderUI() {\n        this._renderBackground();\n        this._renderPlotBackground();\n    },\n    _renderBackground: function _renderBackground() {\n        var self = this;\n        var background = self.get('background');\n        if (background) {\n            var canvas = this.get('canvas');\n            var width = self.get('width') || canvas.get('width');\n            var height = self.get('height') || canvas.get('height');\n            var cfg = {\n                x: 0,\n                y: 0,\n                width: width,\n                height: height\n            };\n            var rect = self.get('backgroundShape');\n            if (!rect) {\n                rect = this.addShape('rect', {\n                    attrs: Util.mix(cfg, background)\n                });\n                this.set('backgroundShape', rect);\n            }\n            else {\n                rect.attr(cfg);\n            }\n        }\n        else {\n            return;\n        }\n    },\n    _renderPlotBackground: function _renderPlotBackground() {\n        var self = this;\n        var plotBackground = self.get('plotBackground');\n        if (plotBackground) {\n            var plotRange = self.get('plotRange');\n            var width = plotRange.br.x - plotRange.bl.x;\n            var height = plotRange.br.y - plotRange.tr.y;\n            var tl = plotRange.tl;\n            var cfg = {\n                x: tl.x,\n                y: tl.y,\n                width: width,\n                height: height\n            };\n            var plotBackShape = self.get('plotBackShape');\n            if (!plotBackShape) {\n                if (plotBackground.image) {\n                    cfg.img = plotBackground.image;\n                    plotBackShape = self.addShape('image', {\n                        attrs: cfg\n                    });\n                }\n                else {\n                    Util.mix(cfg, plotBackground);\n                    plotBackShape = self.addShape('rect', {\n                        attrs: cfg\n                    });\n                }\n                self.set('plotBackShape', plotBackShape);\n            }\n            else {\n                plotBackShape.attr(cfg);\n            }\n        }\n        else {\n            return;\n        }\n    },\n    _convert: function _convert(val, isHorizontal) {\n        if (Util.isString(val)) {\n            if (val === AUTO_STR) {\n                val = 0;\n            }\n            else if (val.includes('%')) {\n                var canvas = this.get('canvas');\n                var width = this.get('width') || canvas.get('width');\n                var height = this.get('height') || canvas.get('height');\n                val = parseInt(val, 10) / 100;\n                val = isHorizontal ? val * width : val * height;\n            }\n        }\n        return val;\n    },\n    _calculateRange: function _calculateRange() {\n        var self = this;\n        var plotRange = self.get('plotRange');\n        if (Util.isNil(plotRange)) {\n            plotRange = {};\n        }\n        var padding = self.get('padding');\n        var canvas = this.get('canvas');\n        var width = self.get('width') || canvas.get('width');\n        var height = self.get('height') || canvas.get('height');\n        var allPadding = Util.toAllPadding(padding);\n        var top = self._convert(allPadding[0], false);\n        var right = self._convert(allPadding[1], true);\n        var bottom = self._convert(allPadding[2], false);\n        var left = self._convert(allPadding[3], true);\n        var minX = Math.min(left, width - right);\n        var maxX = Math.max(left, width - right);\n        var minY = Math.min(height - bottom, top);\n        var maxY = Math.max(height - bottom, top);\n        plotRange.tl = {\n            x: minX,\n            y: minY\n        };\n        plotRange.tr = {\n            x: maxX,\n            y: minY\n        };\n        plotRange.bl = {\n            x: minX,\n            y: maxY\n        };\n        plotRange.br = {\n            x: maxX,\n            y: maxY\n        };\n        plotRange.cc = {\n            x: (maxX + minX) / 2,\n            y: (maxY + minY) / 2\n        };\n        this.set('plotRange', plotRange);\n    },\n    repaint: function repaint() {\n        this._calculateRange();\n        this._renderBackground();\n        this._renderPlotBackground();\n        return this;\n    }\n});\nmodule.exports = PlotBack;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/component/plot.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/component/plot.js"],"names":[],"mappings":"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","sourcesContent":["/**\n * @fileOverview The class of canvas plot\n * @author sima.zhang\n */\nvar Util = require('../util');\n\nvar _require = require('../renderer'),\n    Group = _require.Group;\n\nvar AUTO_STR = 'auto';\n\nvar PlotBack = function PlotBack(cfg) {\n  PlotBack.superclass.constructor.call(this, cfg);\n};\n\nUtil.extend(PlotBack, Group);\nUtil.augment(PlotBack, {\n  getDefaultCfg: function getDefaultCfg() {\n    return {\n      /**\n       * 类型\n       * @type {String}\n       */\n      type: 'plotBack',\n\n      /**\n       * 画布边距\n       * @type {Number | Array | Object | \"auto\"}\n       */\n      padding: null,\n\n      /**\n       * 大背景\n       * @type {Object}\n       */\n      background: null,\n\n      /**\n       * 绘图区域范围\n       * @type {Object}\n       */\n      plotRange: null,\n\n      /**\n       * 绘图区域背景\n       * @type {Object}\n       */\n      plotBackground: null\n    };\n  },\n  _beforeRenderUI: function _beforeRenderUI() {\n    this._calculateRange();\n  },\n  _renderUI: function _renderUI() {\n    this._renderBackground();\n\n    this._renderPlotBackground();\n  },\n  _renderBackground: function _renderBackground() {\n    var self = this;\n    var background = self.get('background');\n\n    if (background) {\n      var canvas = this.get('canvas');\n      var width = self.get('width') || canvas.get('width');\n      var height = self.get('height') || canvas.get('height');\n      var cfg = {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height\n      };\n      var rect = self.get('backgroundShape');\n\n      if (!rect) {\n        rect = this.addShape('rect', {\n          attrs: Util.mix(cfg, background)\n        });\n        this.set('backgroundShape', rect);\n      } else {\n        rect.attr(cfg);\n      }\n    } else {\n      return;\n    }\n  },\n  _renderPlotBackground: function _renderPlotBackground() {\n    var self = this;\n    var plotBackground = self.get('plotBackground');\n\n    if (plotBackground) {\n      var plotRange = self.get('plotRange');\n      var width = plotRange.br.x - plotRange.bl.x;\n      var height = plotRange.br.y - plotRange.tr.y;\n      var tl = plotRange.tl;\n      var cfg = {\n        x: tl.x,\n        y: tl.y,\n        width: width,\n        height: height\n      };\n      var plotBackShape = self.get('plotBackShape');\n\n      if (!plotBackShape) {\n        if (plotBackground.image) {\n          cfg.img = plotBackground.image;\n          plotBackShape = self.addShape('image', {\n            attrs: cfg\n          });\n        } else {\n          // 矩形\n          Util.mix(cfg, plotBackground);\n          plotBackShape = self.addShape('rect', {\n            attrs: cfg\n          });\n        }\n\n        self.set('plotBackShape', plotBackShape);\n      } else {\n        plotBackShape.attr(cfg);\n      }\n    } else {\n      return;\n    }\n  },\n  _convert: function _convert(val, isHorizontal) {\n    if (Util.isString(val)) {\n      if (val === AUTO_STR) {\n        val = 0;\n      } else if (val.includes('%')) {\n        var canvas = this.get('canvas');\n        var width = this.get('width') || canvas.get('width');\n        var height = this.get('height') || canvas.get('height');\n        val = parseInt(val, 10) / 100;\n        val = isHorizontal ? val * width : val * height;\n      }\n    }\n\n    return val;\n  },\n  _calculateRange: function _calculateRange() {\n    var self = this;\n    var plotRange = self.get('plotRange');\n\n    if (Util.isNil(plotRange)) {\n      plotRange = {};\n    }\n\n    var padding = self.get('padding');\n    var canvas = this.get('canvas');\n    var width = self.get('width') || canvas.get('width');\n    var height = self.get('height') || canvas.get('height');\n    var allPadding = Util.toAllPadding(padding);\n\n    var top = self._convert(allPadding[0], false);\n\n    var right = self._convert(allPadding[1], true);\n\n    var bottom = self._convert(allPadding[2], false);\n\n    var left = self._convert(allPadding[3], true);\n\n    var minX = Math.min(left, width - right);\n    var maxX = Math.max(left, width - right);\n    var minY = Math.min(height - bottom, top);\n    var maxY = Math.max(height - bottom, top);\n    plotRange.tl = {\n      x: minX,\n      y: minY\n    }; // top-left\n\n    plotRange.tr = {\n      x: maxX,\n      y: minY\n    }; // top-right\n\n    plotRange.bl = {\n      x: minX,\n      y: maxY\n    }; // bottom-left\n\n    plotRange.br = {\n      x: maxX,\n      y: maxY\n    }; // bottom-right\n\n    plotRange.cc = {\n      x: (maxX + minX) / 2,\n      y: (maxY + minY) / 2\n    };\n    this.set('plotRange', plotRange);\n  },\n  repaint: function repaint() {\n    this._calculateRange();\n\n    this._renderBackground();\n\n    this._renderPlotBackground();\n\n    return this;\n  }\n});\nmodule.exports = PlotBack;"]}]}
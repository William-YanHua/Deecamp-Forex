{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-form/lib/createBaseForm.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-form/lib/createBaseForm.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["'use strict';\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\nvar _extends5 = require('babel-runtime/helpers/extends');\nvar _extends6 = _interopRequireDefault(_extends5);\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\nvar _react = require('react');\nvar _react2 = _interopRequireDefault(_react);\nvar _createReactClass = require('create-react-class');\nvar _createReactClass2 = _interopRequireDefault(_createReactClass);\nvar _unsafeLifecyclesPolyfill = require('rc-util/lib/unsafeLifecyclesPolyfill');\nvar _unsafeLifecyclesPolyfill2 = _interopRequireDefault(_unsafeLifecyclesPolyfill);\nvar _asyncValidator = require('async-validator');\nvar _asyncValidator2 = _interopRequireDefault(_asyncValidator);\nvar _warning = require('warning');\nvar _warning2 = _interopRequireDefault(_warning);\nvar _get = require('lodash/get');\nvar _get2 = _interopRequireDefault(_get);\nvar _set = require('lodash/set');\nvar _set2 = _interopRequireDefault(_set);\nvar _eq = require('lodash/eq');\nvar _eq2 = _interopRequireDefault(_eq);\nvar _createFieldsStore = require('./createFieldsStore');\nvar _createFieldsStore2 = _interopRequireDefault(_createFieldsStore);\nvar _utils = require('./utils');\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\nvar DEFAULT_TRIGGER = 'onChange';\nfunction createBaseForm() {\n    var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var mixins = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var validateMessages = option.validateMessages, onFieldsChange = option.onFieldsChange, onValuesChange = option.onValuesChange, _option$mapProps = option.mapProps, mapProps = _option$mapProps === undefined ? _utils.identity : _option$mapProps, mapPropsToFields = option.mapPropsToFields, fieldNameProp = option.fieldNameProp, fieldMetaProp = option.fieldMetaProp, fieldDataProp = option.fieldDataProp, _option$formPropName = option.formPropName, formPropName = _option$formPropName === undefined ? 'form' : _option$formPropName, formName = option.name, withRef = option.withRef;\n    return function decorate(WrappedComponent) {\n        var Form = (0, _createReactClass2['default'])({\n            displayName: 'Form',\n            mixins: mixins,\n            getInitialState: function getInitialState() {\n                var _this = this;\n                var fields = mapPropsToFields && mapPropsToFields(this.props);\n                this.fieldsStore = (0, _createFieldsStore2['default'])(fields || {});\n                this.instances = {};\n                this.cachedBind = {};\n                this.clearedFieldMetaCache = {};\n                this.renderFields = {};\n                this.domFields = {};\n                ['getFieldsValue', 'getFieldValue', 'setFieldsInitialValue', 'getFieldsError', 'getFieldError', 'isFieldValidating', 'isFieldsValidating', 'isFieldsTouched', 'isFieldTouched'].forEach(function (key) {\n                    _this[key] = function () {\n                        var _fieldsStore;\n                        if (process.env.NODE_ENV !== 'production') {\n                            (0, _warning2['default'])(false, 'you should not use `ref` on enhanced form, please use `wrappedComponentRef`. ' + 'See: https://github.com/react-component/form#note-use-wrappedcomponentref-instead-of-withref-after-rc-form140');\n                        }\n                        return (_fieldsStore = _this.fieldsStore)[key].apply(_fieldsStore, arguments);\n                    };\n                });\n                return {\n                    submitting: false\n                };\n            },\n            componentDidMount: function componentDidMount() {\n                this.cleanUpUselessFields();\n            },\n            componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n                if (mapPropsToFields) {\n                    this.fieldsStore.updateFields(mapPropsToFields(nextProps));\n                }\n            },\n            componentDidUpdate: function componentDidUpdate() {\n                this.cleanUpUselessFields();\n            },\n            onCollectCommon: function onCollectCommon(name, action, args) {\n                var fieldMeta = this.fieldsStore.getFieldMeta(name);\n                if (fieldMeta[action]) {\n                    fieldMeta[action].apply(fieldMeta, (0, _toConsumableArray3['default'])(args));\n                }\n                else if (fieldMeta.originalProps && fieldMeta.originalProps[action]) {\n                    var _fieldMeta$originalPr;\n                    (_fieldMeta$originalPr = fieldMeta.originalProps)[action].apply(_fieldMeta$originalPr, (0, _toConsumableArray3['default'])(args));\n                }\n                var value = fieldMeta.getValueFromEvent ? fieldMeta.getValueFromEvent.apply(fieldMeta, (0, _toConsumableArray3['default'])(args)) : _utils.getValueFromEvent.apply(undefined, (0, _toConsumableArray3['default'])(args));\n                if (onValuesChange && value !== this.fieldsStore.getFieldValue(name)) {\n                    var valuesAll = this.fieldsStore.getAllValues();\n                    var valuesAllSet = {};\n                    valuesAll[name] = value;\n                    Object.keys(valuesAll).forEach(function (key) {\n                        return (0, _set2['default'])(valuesAllSet, key, valuesAll[key]);\n                    });\n                    onValuesChange((0, _extends6['default'])((0, _defineProperty3['default'])({}, formPropName, this.getForm()), this.props), (0, _set2['default'])({}, name, value), valuesAllSet);\n                }\n                var field = this.fieldsStore.getField(name);\n                return { name: name, field: (0, _extends6['default'])({}, field, { value: value, touched: true }), fieldMeta: fieldMeta };\n            },\n            onCollect: function onCollect(name_, action) {\n                for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n                    args[_key - 2] = arguments[_key];\n                }\n                var _onCollectCommon = this.onCollectCommon(name_, action, args), name = _onCollectCommon.name, field = _onCollectCommon.field, fieldMeta = _onCollectCommon.fieldMeta;\n                var validate = fieldMeta.validate;\n                this.fieldsStore.setFieldsAsDirty();\n                var newField = (0, _extends6['default'])({}, field, {\n                    dirty: (0, _utils.hasRules)(validate)\n                });\n                this.setFields((0, _defineProperty3['default'])({}, name, newField));\n            },\n            onCollectValidate: function onCollectValidate(name_, action) {\n                for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n                    args[_key2 - 2] = arguments[_key2];\n                }\n                var _onCollectCommon2 = this.onCollectCommon(name_, action, args), field = _onCollectCommon2.field, fieldMeta = _onCollectCommon2.fieldMeta;\n                var newField = (0, _extends6['default'])({}, field, {\n                    dirty: true\n                });\n                this.fieldsStore.setFieldsAsDirty();\n                this.validateFieldsInternal([newField], {\n                    action: action,\n                    options: {\n                        firstFields: !!fieldMeta.validateFirst\n                    }\n                });\n            },\n            getCacheBind: function getCacheBind(name, action, fn) {\n                if (!this.cachedBind[name]) {\n                    this.cachedBind[name] = {};\n                }\n                var cache = this.cachedBind[name];\n                if (!cache[action] || cache[action].oriFn !== fn) {\n                    cache[action] = {\n                        fn: fn.bind(this, name, action),\n                        oriFn: fn\n                    };\n                }\n                return cache[action].fn;\n            },\n            getFieldDecorator: function getFieldDecorator(name, fieldOption) {\n                var _this2 = this;\n                var props = this.getFieldProps(name, fieldOption);\n                return function (fieldElem) {\n                    _this2.renderFields[name] = true;\n                    var fieldMeta = _this2.fieldsStore.getFieldMeta(name);\n                    var originalProps = fieldElem.props;\n                    if (process.env.NODE_ENV !== 'production') {\n                        var valuePropName = fieldMeta.valuePropName;\n                        (0, _warning2['default'])(!(valuePropName in originalProps), '`getFieldDecorator` will override `' + valuePropName + '`, ' + ('so please don\\'t set `' + valuePropName + '` directly ') + 'and use `setFieldsValue` to set it.');\n                        var defaultValuePropName = 'default' + valuePropName[0].toUpperCase() + valuePropName.slice(1);\n                        (0, _warning2['default'])(!(defaultValuePropName in originalProps), '`' + defaultValuePropName + '` is invalid ' + ('for `getFieldDecorator` will set `' + valuePropName + '`,') + ' please use `option.initialValue` instead.');\n                    }\n                    fieldMeta.originalProps = originalProps;\n                    fieldMeta.ref = fieldElem.ref;\n                    return _react2['default'].cloneElement(fieldElem, (0, _extends6['default'])({}, props, _this2.fieldsStore.getFieldValuePropValue(fieldMeta)));\n                };\n            },\n            getFieldProps: function getFieldProps(name) {\n                var _this3 = this;\n                var usersFieldOption = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                if (!name) {\n                    throw new Error('Must call `getFieldProps` with valid name string!');\n                }\n                if (process.env.NODE_ENV !== 'production') {\n                    (0, _warning2['default'])(this.fieldsStore.isValidNestedFieldName(name), 'One field name cannot be part of another, e.g. `a` and `a.b`. Check field: ' + name);\n                    (0, _warning2['default'])(!('exclusive' in usersFieldOption), '`option.exclusive` of `getFieldProps`|`getFieldDecorator` had been remove.');\n                }\n                delete this.clearedFieldMetaCache[name];\n                var fieldOption = (0, _extends6['default'])({\n                    name: name,\n                    trigger: DEFAULT_TRIGGER,\n                    valuePropName: 'value',\n                    validate: []\n                }, usersFieldOption);\n                var rules = fieldOption.rules, trigger = fieldOption.trigger, _fieldOption$validate = fieldOption.validateTrigger, validateTrigger = _fieldOption$validate === undefined ? trigger : _fieldOption$validate, validate = fieldOption.validate;\n                var fieldMeta = this.fieldsStore.getFieldMeta(name);\n                if ('initialValue' in fieldOption) {\n                    fieldMeta.initialValue = fieldOption.initialValue;\n                }\n                var inputProps = (0, _extends6['default'])({}, this.fieldsStore.getFieldValuePropValue(fieldOption), {\n                    ref: this.getCacheBind(name, name + '__ref', this.saveRef)\n                });\n                if (fieldNameProp) {\n                    inputProps[fieldNameProp] = formName ? formName + '_' + name : name;\n                }\n                var validateRules = (0, _utils.normalizeValidateRules)(validate, rules, validateTrigger);\n                var validateTriggers = (0, _utils.getValidateTriggers)(validateRules);\n                validateTriggers.forEach(function (action) {\n                    if (inputProps[action])\n                        return;\n                    inputProps[action] = _this3.getCacheBind(name, action, _this3.onCollectValidate);\n                });\n                if (trigger && validateTriggers.indexOf(trigger) === -1) {\n                    inputProps[trigger] = this.getCacheBind(name, trigger, this.onCollect);\n                }\n                var meta = (0, _extends6['default'])({}, fieldMeta, fieldOption, {\n                    validate: validateRules\n                });\n                this.fieldsStore.setFieldMeta(name, meta);\n                if (fieldMetaProp) {\n                    inputProps[fieldMetaProp] = meta;\n                }\n                if (fieldDataProp) {\n                    inputProps[fieldDataProp] = this.fieldsStore.getField(name);\n                }\n                this.renderFields[name] = true;\n                return inputProps;\n            },\n            getFieldInstance: function getFieldInstance(name) {\n                return this.instances[name];\n            },\n            getRules: function getRules(fieldMeta, action) {\n                var actionRules = fieldMeta.validate.filter(function (item) {\n                    return !action || item.trigger.indexOf(action) >= 0;\n                }).map(function (item) {\n                    return item.rules;\n                });\n                return (0, _utils.flattenArray)(actionRules);\n            },\n            setFields: function setFields(maybeNestedFields, callback) {\n                var _this4 = this;\n                var fields = this.fieldsStore.flattenRegisteredFields(maybeNestedFields);\n                this.fieldsStore.setFields(fields);\n                if (onFieldsChange) {\n                    var changedFields = Object.keys(fields).reduce(function (acc, name) {\n                        return (0, _set2['default'])(acc, name, _this4.fieldsStore.getField(name));\n                    }, {});\n                    onFieldsChange((0, _extends6['default'])((0, _defineProperty3['default'])({}, formPropName, this.getForm()), this.props), changedFields, this.fieldsStore.getNestedAllFields());\n                }\n                this.forceUpdate(callback);\n            },\n            setFieldsValue: function setFieldsValue(changedValues, callback) {\n                var fieldsMeta = this.fieldsStore.fieldsMeta;\n                var values = this.fieldsStore.flattenRegisteredFields(changedValues);\n                var newFields = Object.keys(values).reduce(function (acc, name) {\n                    var isRegistered = fieldsMeta[name];\n                    if (process.env.NODE_ENV !== 'production') {\n                        (0, _warning2['default'])(isRegistered, 'Cannot use `setFieldsValue` until ' + 'you use `getFieldDecorator` or `getFieldProps` to register it.');\n                    }\n                    if (isRegistered) {\n                        var value = values[name];\n                        acc[name] = {\n                            value: value\n                        };\n                    }\n                    return acc;\n                }, {});\n                this.setFields(newFields, callback);\n                if (onValuesChange) {\n                    var allValues = this.fieldsStore.getAllValues();\n                    onValuesChange((0, _extends6['default'])((0, _defineProperty3['default'])({}, formPropName, this.getForm()), this.props), changedValues, allValues);\n                }\n            },\n            saveRef: function saveRef(name, _, component) {\n                if (!component) {\n                    var _fieldMeta = this.fieldsStore.getFieldMeta(name);\n                    if (!_fieldMeta.preserve) {\n                        this.clearedFieldMetaCache[name] = {\n                            field: this.fieldsStore.getField(name),\n                            meta: _fieldMeta\n                        };\n                        this.clearField(name);\n                    }\n                    delete this.domFields[name];\n                    return;\n                }\n                this.domFields[name] = true;\n                this.recoverClearedField(name);\n                var fieldMeta = this.fieldsStore.getFieldMeta(name);\n                if (fieldMeta) {\n                    var ref = fieldMeta.ref;\n                    if (ref) {\n                        if (typeof ref === 'string') {\n                            throw new Error('can not set ref string for ' + name);\n                        }\n                        else if (typeof ref === 'function') {\n                            ref(component);\n                        }\n                        else if (Object.prototype.hasOwnProperty.call(ref, 'current')) {\n                            ref.current = component;\n                        }\n                    }\n                }\n                this.instances[name] = component;\n            },\n            cleanUpUselessFields: function cleanUpUselessFields() {\n                var _this5 = this;\n                var fieldList = this.fieldsStore.getAllFieldsName();\n                var removedList = fieldList.filter(function (field) {\n                    var fieldMeta = _this5.fieldsStore.getFieldMeta(field);\n                    return !_this5.renderFields[field] && !_this5.domFields[field] && !fieldMeta.preserve;\n                });\n                if (removedList.length) {\n                    removedList.forEach(this.clearField);\n                }\n                this.renderFields = {};\n            },\n            clearField: function clearField(name) {\n                this.fieldsStore.clearField(name);\n                delete this.instances[name];\n                delete this.cachedBind[name];\n            },\n            resetFields: function resetFields(ns) {\n                var _this6 = this;\n                var newFields = this.fieldsStore.resetFields(ns);\n                if (Object.keys(newFields).length > 0) {\n                    this.setFields(newFields);\n                }\n                if (ns) {\n                    var names = Array.isArray(ns) ? ns : [ns];\n                    names.forEach(function (name) {\n                        return delete _this6.clearedFieldMetaCache[name];\n                    });\n                }\n                else {\n                    this.clearedFieldMetaCache = {};\n                }\n            },\n            recoverClearedField: function recoverClearedField(name) {\n                if (this.clearedFieldMetaCache[name]) {\n                    this.fieldsStore.setFields((0, _defineProperty3['default'])({}, name, this.clearedFieldMetaCache[name].field));\n                    this.fieldsStore.setFieldMeta(name, this.clearedFieldMetaCache[name].meta);\n                    delete this.clearedFieldMetaCache[name];\n                }\n            },\n            validateFieldsInternal: function validateFieldsInternal(fields, _ref, callback) {\n                var _this7 = this;\n                var fieldNames = _ref.fieldNames, action = _ref.action, _ref$options = _ref.options, options = _ref$options === undefined ? {} : _ref$options;\n                var allRules = {};\n                var allValues = {};\n                var allFields = {};\n                var alreadyErrors = {};\n                fields.forEach(function (field) {\n                    var name = field.name;\n                    if (options.force !== true && field.dirty === false) {\n                        if (field.errors) {\n                            (0, _set2['default'])(alreadyErrors, name, { errors: field.errors });\n                        }\n                        return;\n                    }\n                    var fieldMeta = _this7.fieldsStore.getFieldMeta(name);\n                    var newField = (0, _extends6['default'])({}, field);\n                    newField.errors = undefined;\n                    newField.validating = true;\n                    newField.dirty = true;\n                    allRules[name] = _this7.getRules(fieldMeta, action);\n                    allValues[name] = newField.value;\n                    allFields[name] = newField;\n                });\n                this.setFields(allFields);\n                Object.keys(allValues).forEach(function (f) {\n                    allValues[f] = _this7.fieldsStore.getFieldValue(f);\n                });\n                if (callback && (0, _utils.isEmptyObject)(allFields)) {\n                    callback((0, _utils.isEmptyObject)(alreadyErrors) ? null : alreadyErrors, this.fieldsStore.getFieldsValue(fieldNames));\n                    return;\n                }\n                var validator = new _asyncValidator2['default'](allRules);\n                if (validateMessages) {\n                    validator.messages(validateMessages);\n                }\n                validator.validate(allValues, options, function (errors) {\n                    var errorsGroup = (0, _extends6['default'])({}, alreadyErrors);\n                    if (errors && errors.length) {\n                        errors.forEach(function (e) {\n                            var errorFieldName = e.field;\n                            var fieldName = errorFieldName;\n                            Object.keys(allRules).some(function (ruleFieldName) {\n                                var rules = allRules[ruleFieldName] || [];\n                                if (ruleFieldName === errorFieldName) {\n                                    fieldName = ruleFieldName;\n                                    return true;\n                                }\n                                if (rules.every(function (_ref2) {\n                                    var type = _ref2.type;\n                                    return type !== 'array';\n                                }) || errorFieldName.indexOf(ruleFieldName + '.') !== 0) {\n                                    return false;\n                                }\n                                var restPath = errorFieldName.slice(ruleFieldName.length + 1);\n                                if (/^\\d+$/.test(restPath)) {\n                                    fieldName = ruleFieldName;\n                                    return true;\n                                }\n                                return false;\n                            });\n                            var field = (0, _get2['default'])(errorsGroup, fieldName);\n                            if (typeof field !== 'object' || Array.isArray(field)) {\n                                (0, _set2['default'])(errorsGroup, fieldName, { errors: [] });\n                            }\n                            var fieldErrors = (0, _get2['default'])(errorsGroup, fieldName.concat('.errors'));\n                            fieldErrors.push(e);\n                        });\n                    }\n                    var expired = [];\n                    var nowAllFields = {};\n                    Object.keys(allRules).forEach(function (name) {\n                        var fieldErrors = (0, _get2['default'])(errorsGroup, name);\n                        var nowField = _this7.fieldsStore.getField(name);\n                        if (!(0, _eq2['default'])(nowField.value, allValues[name])) {\n                            expired.push({\n                                name: name\n                            });\n                        }\n                        else {\n                            nowField.errors = fieldErrors && fieldErrors.errors;\n                            nowField.value = allValues[name];\n                            nowField.validating = false;\n                            nowField.dirty = false;\n                            nowAllFields[name] = nowField;\n                        }\n                    });\n                    _this7.setFields(nowAllFields);\n                    if (callback) {\n                        if (expired.length) {\n                            expired.forEach(function (_ref3) {\n                                var name = _ref3.name;\n                                var fieldErrors = [{\n                                        message: name + ' need to revalidate',\n                                        field: name\n                                    }];\n                                (0, _set2['default'])(errorsGroup, name, {\n                                    expired: true,\n                                    errors: fieldErrors\n                                });\n                            });\n                        }\n                        callback((0, _utils.isEmptyObject)(errorsGroup) ? null : errorsGroup, _this7.fieldsStore.getFieldsValue(fieldNames));\n                    }\n                });\n            },\n            validateFields: function validateFields(ns, opt, cb) {\n                var _this8 = this;\n                var pending = new Promise(function (resolve, reject) {\n                    var _getParams = (0, _utils.getParams)(ns, opt, cb), names = _getParams.names, options = _getParams.options;\n                    var _getParams2 = (0, _utils.getParams)(ns, opt, cb), callback = _getParams2.callback;\n                    if (!callback || typeof callback === 'function') {\n                        var oldCb = callback;\n                        callback = function callback(errors, values) {\n                            if (oldCb) {\n                                oldCb(errors, values);\n                            }\n                            if (errors) {\n                                reject({ errors: errors, values: values });\n                            }\n                            else {\n                                resolve(values);\n                            }\n                        };\n                    }\n                    var fieldNames = names ? _this8.fieldsStore.getValidFieldsFullName(names) : _this8.fieldsStore.getValidFieldsName();\n                    var fields = fieldNames.filter(function (name) {\n                        var fieldMeta = _this8.fieldsStore.getFieldMeta(name);\n                        return (0, _utils.hasRules)(fieldMeta.validate);\n                    }).map(function (name) {\n                        var field = _this8.fieldsStore.getField(name);\n                        field.value = _this8.fieldsStore.getFieldValue(name);\n                        return field;\n                    });\n                    if (!fields.length) {\n                        callback(null, _this8.fieldsStore.getFieldsValue(fieldNames));\n                        return;\n                    }\n                    if (!('firstFields' in options)) {\n                        options.firstFields = fieldNames.filter(function (name) {\n                            var fieldMeta = _this8.fieldsStore.getFieldMeta(name);\n                            return !!fieldMeta.validateFirst;\n                        });\n                    }\n                    _this8.validateFieldsInternal(fields, {\n                        fieldNames: fieldNames,\n                        options: options\n                    }, callback);\n                });\n                pending['catch'](function (e) {\n                    if (console.error && process.env.NODE_ENV !== 'production') {\n                        console.error(e);\n                    }\n                    return e;\n                });\n                return pending;\n            },\n            isSubmitting: function isSubmitting() {\n                if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n                    (0, _warning2['default'])(false, '`isSubmitting` is deprecated. ' + \"Actually, it's more convenient to handle submitting status by yourself.\");\n                }\n                return this.state.submitting;\n            },\n            submit: function submit(callback) {\n                var _this9 = this;\n                if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n                    (0, _warning2['default'])(false, '`submit` is deprecated. ' + \"Actually, it's more convenient to handle submitting status by yourself.\");\n                }\n                var fn = function fn() {\n                    _this9.setState({\n                        submitting: false\n                    });\n                };\n                this.setState({\n                    submitting: true\n                });\n                callback(fn);\n            },\n            render: function render() {\n                var _props = this.props, wrappedComponentRef = _props.wrappedComponentRef, restProps = (0, _objectWithoutProperties3['default'])(_props, ['wrappedComponentRef']);\n                var formProps = (0, _defineProperty3['default'])({}, formPropName, this.getForm());\n                if (withRef) {\n                    if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n                        (0, _warning2['default'])(false, '`withRef` is deprecated, please use `wrappedComponentRef` instead. ' + 'See: https://github.com/react-component/form#note-use-wrappedcomponentref-instead-of-withref-after-rc-form140');\n                    }\n                    formProps.ref = 'wrappedComponent';\n                }\n                else if (wrappedComponentRef) {\n                    formProps.ref = wrappedComponentRef;\n                }\n                var props = mapProps.call(this, (0, _extends6['default'])({}, formProps, restProps));\n                return _react2['default'].createElement(WrappedComponent, props);\n            }\n        });\n        return (0, _utils.argumentContainer)((0, _unsafeLifecyclesPolyfill2['default'])(Form), WrappedComponent);\n    };\n}\nexports['default'] = createBaseForm;\nmodule.exports = exports['default'];\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-form/lib/createBaseForm.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/rc-form/lib/createBaseForm.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;AAEb,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE;IAC3C,KAAK,EAAE,IAAI;CACZ,CAAC,CAAC;AAEH,IAAI,yBAAyB,GAAG,OAAO,CAAC,+CAA+C,CAAC,CAAC;AAEzF,IAAI,yBAAyB,GAAG,sBAAsB,CAAC,yBAAyB,CAAC,CAAC;AAElF,IAAI,gBAAgB,GAAG,OAAO,CAAC,sCAAsC,CAAC,CAAC;AAEvE,IAAI,gBAAgB,GAAG,sBAAsB,CAAC,gBAAgB,CAAC,CAAC;AAEhE,IAAI,SAAS,GAAG,OAAO,CAAC,+BAA+B,CAAC,CAAC;AAEzD,IAAI,SAAS,GAAG,sBAAsB,CAAC,SAAS,CAAC,CAAC;AAElD,IAAI,mBAAmB,GAAG,OAAO,CAAC,yCAAyC,CAAC,CAAC;AAE7E,IAAI,mBAAmB,GAAG,sBAAsB,CAAC,mBAAmB,CAAC,CAAC;AAEtE,IAAI,MAAM,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;AAE9B,IAAI,OAAO,GAAG,sBAAsB,CAAC,MAAM,CAAC,CAAC;AAE7C,IAAI,iBAAiB,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAEtD,IAAI,kBAAkB,GAAG,sBAAsB,CAAC,iBAAiB,CAAC,CAAC;AAEnE,IAAI,yBAAyB,GAAG,OAAO,CAAC,sCAAsC,CAAC,CAAC;AAEhF,IAAI,0BAA0B,GAAG,sBAAsB,CAAC,yBAAyB,CAAC,CAAC;AAEnF,IAAI,eAAe,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;AAEjD,IAAI,gBAAgB,GAAG,sBAAsB,CAAC,eAAe,CAAC,CAAC;AAE/D,IAAI,QAAQ,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AAElC,IAAI,SAAS,GAAG,sBAAsB,CAAC,QAAQ,CAAC,CAAC;AAEjD,IAAI,IAAI,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;AAEjC,IAAI,KAAK,GAAG,sBAAsB,CAAC,IAAI,CAAC,CAAC;AAEzC,IAAI,IAAI,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC;AAEjC,IAAI,KAAK,GAAG,sBAAsB,CAAC,IAAI,CAAC,CAAC;AAEzC,IAAI,GAAG,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;AAE/B,IAAI,IAAI,GAAG,sBAAsB,CAAC,GAAG,CAAC,CAAC;AAEvC,IAAI,kBAAkB,GAAG,OAAO,CAAC,qBAAqB,CAAC,CAAC;AAExD,IAAI,mBAAmB,GAAG,sBAAsB,CAAC,kBAAkB,CAAC,CAAC;AAErE,IAAI,MAAM,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AAEhC,SAAS,sBAAsB,CAAC,GAAG,IAAI,OAAO,GAAG,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;AAKjG,IAAI,eAAe,GAAG,UAAU,CAAC;AAEjC,SAAS,cAAc;IACrB,IAAI,MAAM,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACpF,IAAI,MAAM,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACpF,IAAI,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,EAC1C,cAAc,GAAG,MAAM,CAAC,cAAc,EACtC,cAAc,GAAG,MAAM,CAAC,cAAc,EACtC,gBAAgB,GAAG,MAAM,CAAC,QAAQ,EAClC,QAAQ,GAAG,gBAAgB,KAAK,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,gBAAgB,EAC9E,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,EAC1C,aAAa,GAAG,MAAM,CAAC,aAAa,EACpC,aAAa,GAAG,MAAM,CAAC,aAAa,EACpC,aAAa,GAAG,MAAM,CAAC,aAAa,EACpC,oBAAoB,GAAG,MAAM,CAAC,YAAY,EAC1C,YAAY,GAAG,oBAAoB,KAAK,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,oBAAoB,EACjF,QAAQ,GAAG,MAAM,CAAC,IAAI,EACtB,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC;IAG7B,OAAO,SAAS,QAAQ,CAAC,gBAAgB;QACvC,IAAI,IAAI,GAAG,CAAC,CAAC,EAAE,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC;YAC5C,WAAW,EAAE,MAAM;YAEnB,MAAM,EAAE,MAAM;YAEd,eAAe,EAAE,SAAS,eAAe;gBACvC,IAAI,KAAK,GAAG,IAAI,CAAC;gBAEjB,IAAI,MAAM,GAAG,gBAAgB,IAAI,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC9D,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,IAAI,EAAE,CAAC,CAAC;gBAErE,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;gBACpB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;gBACrB,IAAI,CAAC,qBAAqB,GAAG,EAAE,CAAC;gBAEhC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;gBACvB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;gBAGpB,CAAC,gBAAgB,EAAE,eAAe,EAAE,uBAAuB,EAAE,gBAAgB,EAAE,eAAe,EAAE,mBAAmB,EAAE,oBAAoB,EAAE,iBAAiB,EAAE,gBAAgB,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG;oBACnM,KAAK,CAAC,GAAG,CAAC,GAAG;wBACX,IAAI,YAAY,CAAC;wBAEjB,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;4BACzC,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,EAAE,+EAA+E,GAAG,+GAA+G,CAAC,CAAC;yBACrO;wBACD,OAAO,CAAC,YAAY,GAAG,KAAK,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;oBAChF,CAAC,CAAC;gBACJ,CAAC,CAAC,CAAC;gBAEH,OAAO;oBACL,UAAU,EAAE,KAAK;iBAClB,CAAC;YACJ,CAAC;YACD,iBAAiB,EAAE,SAAS,iBAAiB;gBAC3C,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC9B,CAAC;YACD,yBAAyB,EAAE,SAAS,yBAAyB,CAAC,SAAS;gBACrE,IAAI,gBAAgB,EAAE;oBACpB,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC,CAAC;iBAC5D;YACH,CAAC;YACD,kBAAkB,EAAE,SAAS,kBAAkB;gBAC7C,IAAI,CAAC,oBAAoB,EAAE,CAAC;YAC9B,CAAC;YACD,eAAe,EAAE,SAAS,eAAe,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI;gBAC1D,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;gBACpD,IAAI,SAAS,CAAC,MAAM,CAAC,EAAE;oBACrB,SAAS,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;iBAC/E;qBAAM,IAAI,SAAS,CAAC,aAAa,IAAI,SAAS,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE;oBACrE,IAAI,qBAAqB,CAAC;oBAE1B,CAAC,qBAAqB,GAAG,SAAS,CAAC,aAAa,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,qBAAqB,EAAE,CAAC,CAAC,EAAE,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;iBACnI;gBACD,IAAI,KAAK,GAAG,SAAS,CAAC,iBAAiB,CAAC,CAAC,CAAC,SAAS,CAAC,iBAAiB,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,iBAAiB,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,mBAAmB,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACzN,IAAI,cAAc,IAAI,KAAK,KAAK,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE;oBACpE,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;oBAChD,IAAI,YAAY,GAAG,EAAE,CAAC;oBACtB,SAAS,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;oBACxB,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG;wBAC1C,OAAO,CAAC,CAAC,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,YAAY,EAAE,GAAG,EAAE,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;oBAClE,CAAC,CAAC,CAAC;oBACH,cAAc,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,gBAAgB,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,YAAY,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,KAAK,CAAC,EAAE,YAAY,CAAC,CAAC;iBACjL;gBACD,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;gBAC5C,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC;YAC5H,CAAC;YACD,SAAS,EAAE,SAAS,SAAS,CAAC,KAAK,EAAE,MAAM;gBACzC,KAAK,IAAI,IAAI,GAAG,SAAS,CAAC,MAAM,EAAE,IAAI,GAAG,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,IAAI,GAAG,IAAI,EAAE,IAAI,EAAE,EAAE;oBACtG,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;iBAClC;gBAED,IAAI,gBAAgB,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,MAAM,EAAE,IAAI,CAAC,EAC5D,IAAI,GAAG,gBAAgB,CAAC,IAAI,EAC5B,KAAK,GAAG,gBAAgB,CAAC,KAAK,EAC9B,SAAS,GAAG,gBAAgB,CAAC,SAAS,CAAC;gBAE3C,IAAI,QAAQ,GAAG,SAAS,CAAC,QAAQ,CAAC;gBAGlC,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC;gBAEpC,IAAI,QAAQ,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,KAAK,EAAE;oBAClD,KAAK,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC;iBACtC,CAAC,CAAC;gBACH,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,gBAAgB,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC;YACvE,CAAC;YACD,iBAAiB,EAAE,SAAS,iBAAiB,CAAC,KAAK,EAAE,MAAM;gBACzD,KAAK,IAAI,KAAK,GAAG,SAAS,CAAC,MAAM,EAAE,IAAI,GAAG,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,KAAK,EAAE,KAAK,EAAE,EAAE;oBAC7G,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;iBACpC;gBAED,IAAI,iBAAiB,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,MAAM,EAAE,IAAI,CAAC,EAC7D,KAAK,GAAG,iBAAiB,CAAC,KAAK,EAC/B,SAAS,GAAG,iBAAiB,CAAC,SAAS,CAAC;gBAE5C,IAAI,QAAQ,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,KAAK,EAAE;oBAClD,KAAK,EAAE,IAAI;iBACZ,CAAC,CAAC;gBAEH,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC;gBAEpC,IAAI,CAAC,sBAAsB,CAAC,CAAC,QAAQ,CAAC,EAAE;oBACtC,MAAM,EAAE,MAAM;oBACd,OAAO,EAAE;wBACP,WAAW,EAAE,CAAC,CAAC,SAAS,CAAC,aAAa;qBACvC;iBACF,CAAC,CAAC;YACL,CAAC;YACD,YAAY,EAAE,SAAS,YAAY,CAAC,IAAI,EAAE,MAAM,EAAE,EAAE;gBAClD,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;oBAC1B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;iBAC5B;gBACD,IAAI,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAClC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,KAAK,KAAK,EAAE,EAAE;oBAChD,KAAK,CAAC,MAAM,CAAC,GAAG;wBACd,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,MAAM,CAAC;wBAC/B,KAAK,EAAE,EAAE;qBACV,CAAC;iBACH;gBACD,OAAO,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC;YAC1B,CAAC;YACD,iBAAiB,EAAE,SAAS,iBAAiB,CAAC,IAAI,EAAE,WAAW;gBAC7D,IAAI,MAAM,GAAG,IAAI,CAAC;gBAElB,IAAI,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;gBAClD,OAAO,UAAU,SAAS;oBAExB,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;oBAEjC,IAAI,SAAS,GAAG,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;oBACtD,IAAI,aAAa,GAAG,SAAS,CAAC,KAAK,CAAC;oBACpC,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;wBACzC,IAAI,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;wBAC5C,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa,IAAI,aAAa,CAAC,EAAE,qCAAqC,GAAG,aAAa,GAAG,KAAK,GAAG,CAAC,wBAAwB,GAAG,aAAa,GAAG,aAAa,CAAC,GAAG,qCAAqC,CAAC,CAAC;wBACjO,IAAI,oBAAoB,GAAG,SAAS,GAAG,aAAa,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;wBAC/F,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,oBAAoB,IAAI,aAAa,CAAC,EAAE,GAAG,GAAG,oBAAoB,GAAG,eAAe,GAAG,CAAC,oCAAoC,GAAG,aAAa,GAAG,IAAI,CAAC,GAAG,4CAA4C,CAAC,CAAC;qBAClO;oBACD,SAAS,CAAC,aAAa,GAAG,aAAa,CAAC;oBACxC,SAAS,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;oBAC9B,OAAO,OAAO,CAAC,SAAS,CAAC,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,KAAK,EAAE,MAAM,CAAC,WAAW,CAAC,sBAAsB,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAChJ,CAAC,CAAC;YACJ,CAAC;YACD,aAAa,EAAE,SAAS,aAAa,CAAC,IAAI;gBACxC,IAAI,MAAM,GAAG,IAAI,CAAC;gBAElB,IAAI,gBAAgB,GAAG,SAAS,CAAC,MAAM,GAAG,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;gBAE9F,IAAI,CAAC,IAAI,EAAE;oBACT,MAAM,IAAI,KAAK,CAAC,mDAAmD,CAAC,CAAC;iBACtE;gBACD,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;oBACzC,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,sBAAsB,CAAC,IAAI,CAAC,EAAE,6EAA6E,GAAG,IAAI,CAAC,CAAC;oBAC/J,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,IAAI,gBAAgB,CAAC,EAAE,4EAA4E,CAAC,CAAC;iBAC7I;gBAED,OAAO,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;gBAExC,IAAI,WAAW,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC;oBAC1C,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE,eAAe;oBACxB,aAAa,EAAE,OAAO;oBACtB,QAAQ,EAAE,EAAE;iBACb,EAAE,gBAAgB,CAAC,CAAC;gBAErB,IAAI,KAAK,GAAG,WAAW,CAAC,KAAK,EACzB,OAAO,GAAG,WAAW,CAAC,OAAO,EAC7B,qBAAqB,GAAG,WAAW,CAAC,eAAe,EACnD,eAAe,GAAG,qBAAqB,KAAK,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,qBAAqB,EACvF,QAAQ,GAAG,WAAW,CAAC,QAAQ,CAAC;gBAGpC,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;gBACpD,IAAI,cAAc,IAAI,WAAW,EAAE;oBACjC,SAAS,CAAC,YAAY,GAAG,WAAW,CAAC,YAAY,CAAC;iBACnD;gBAED,IAAI,UAAU,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,sBAAsB,CAAC,WAAW,CAAC,EAAE;oBACnG,GAAG,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,GAAG,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC;iBAC3D,CAAC,CAAC;gBACH,IAAI,aAAa,EAAE;oBACjB,UAAU,CAAC,aAAa,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,QAAQ,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;iBACrE;gBAED,IAAI,aAAa,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,sBAAsB,CAAC,CAAC,QAAQ,EAAE,KAAK,EAAE,eAAe,CAAC,CAAC;gBACzF,IAAI,gBAAgB,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,mBAAmB,CAAC,CAAC,aAAa,CAAC,CAAC;gBACtE,gBAAgB,CAAC,OAAO,CAAC,UAAU,MAAM;oBACvC,IAAI,UAAU,CAAC,MAAM,CAAC;wBAAE,OAAO;oBAC/B,UAAU,CAAC,MAAM,CAAC,GAAG,MAAM,CAAC,YAAY,CAAC,IAAI,EAAE,MAAM,EAAE,MAAM,CAAC,iBAAiB,CAAC,CAAC;gBACnF,CAAC,CAAC,CAAC;gBAGH,IAAI,OAAO,IAAI,gBAAgB,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;oBACvD,UAAU,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;iBACxE;gBAED,IAAI,IAAI,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,SAAS,EAAE,WAAW,EAAE;oBAC/D,QAAQ,EAAE,aAAa;iBACxB,CAAC,CAAC;gBACH,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;gBAC1C,IAAI,aAAa,EAAE;oBACjB,UAAU,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC;iBAClC;gBAED,IAAI,aAAa,EAAE;oBACjB,UAAU,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;iBAC7D;gBAGD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;gBAE/B,OAAO,UAAU,CAAC;YACpB,CAAC;YACD,gBAAgB,EAAE,SAAS,gBAAgB,CAAC,IAAI;gBAC9C,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;YAC9B,CAAC;YACD,QAAQ,EAAE,SAAS,QAAQ,CAAC,SAAS,EAAE,MAAM;gBAC3C,IAAI,WAAW,GAAG,SAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAU,IAAI;oBACxD,OAAO,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;gBACtD,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,IAAI;oBACnB,OAAO,IAAI,CAAC,KAAK,CAAC;gBACpB,CAAC,CAAC,CAAC;gBACH,OAAO,CAAC,CAAC,EAAE,MAAM,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,CAAC;YAC/C,CAAC;YACD,SAAS,EAAE,SAAS,SAAS,CAAC,iBAAiB,EAAE,QAAQ;gBACvD,IAAI,MAAM,GAAG,IAAI,CAAC;gBAElB,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,iBAAiB,CAAC,CAAC;gBACzE,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;gBACnC,IAAI,cAAc,EAAE;oBAClB,IAAI,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,UAAU,GAAG,EAAE,IAAI;wBAChE,OAAO,CAAC,CAAC,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC7E,CAAC,EAAE,EAAE,CAAC,CAAC;oBACP,cAAc,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,gBAAgB,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,YAAY,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,CAAC;iBACjL;gBACD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YAC7B,CAAC;YACD,cAAc,EAAE,SAAS,cAAc,CAAC,aAAa,EAAE,QAAQ;gBAC7D,IAAI,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC;gBAE7C,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,uBAAuB,CAAC,aAAa,CAAC,CAAC;gBACrE,IAAI,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,UAAU,GAAG,EAAE,IAAI;oBAC5D,IAAI,YAAY,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;oBACpC,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;wBACzC,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,YAAY,EAAE,oCAAoC,GAAG,gEAAgE,CAAC,CAAC;qBAClJ;oBACD,IAAI,YAAY,EAAE;wBAChB,IAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;wBACzB,GAAG,CAAC,IAAI,CAAC,GAAG;4BACV,KAAK,EAAE,KAAK;yBACb,CAAC;qBACH;oBACD,OAAO,GAAG,CAAC;gBACb,CAAC,EAAE,EAAE,CAAC,CAAC;gBACP,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;gBACpC,IAAI,cAAc,EAAE;oBAClB,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;oBAChD,cAAc,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,gBAAgB,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,YAAY,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,aAAa,EAAE,SAAS,CAAC,CAAC;iBACrJ;YACH,CAAC;YACD,OAAO,EAAE,SAAS,OAAO,CAAC,IAAI,EAAE,CAAC,EAAE,SAAS;gBAC1C,IAAI,CAAC,SAAS,EAAE;oBACd,IAAI,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;oBACrD,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE;wBAExB,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,GAAG;4BACjC,KAAK,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC;4BACtC,IAAI,EAAE,UAAU;yBACjB,CAAC;wBACF,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;qBACvB;oBACD,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;oBAC5B,OAAO;iBACR;gBACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;gBAC5B,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC;gBAC/B,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;gBACpD,IAAI,SAAS,EAAE;oBACb,IAAI,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC;oBACxB,IAAI,GAAG,EAAE;wBACP,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;4BAC3B,MAAM,IAAI,KAAK,CAAC,6BAA6B,GAAG,IAAI,CAAC,CAAC;yBACvD;6BAAM,IAAI,OAAO,GAAG,KAAK,UAAU,EAAE;4BACpC,GAAG,CAAC,SAAS,CAAC,CAAC;yBAChB;6BAAM,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC,EAAE;4BAC/D,GAAG,CAAC,OAAO,GAAG,SAAS,CAAC;yBACzB;qBACF;iBACF;gBACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,SAAS,CAAC;YACnC,CAAC;YACD,oBAAoB,EAAE,SAAS,oBAAoB;gBACjD,IAAI,MAAM,GAAG,IAAI,CAAC;gBAElB,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,gBAAgB,EAAE,CAAC;gBACpD,IAAI,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC,UAAU,KAAK;oBAChD,IAAI,SAAS,GAAG,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;oBACvD,OAAO,CAAC,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;gBACxF,CAAC,CAAC,CAAC;gBACH,IAAI,WAAW,CAAC,MAAM,EAAE;oBACtB,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBACtC;gBACD,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACzB,CAAC;YACD,UAAU,EAAE,SAAS,UAAU,CAAC,IAAI;gBAClC,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAClC,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;gBAC5B,OAAO,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAC/B,CAAC;YACD,WAAW,EAAE,SAAS,WAAW,CAAC,EAAE;gBAClC,IAAI,MAAM,GAAG,IAAI,CAAC;gBAElB,IAAI,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;gBACjD,IAAI,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;oBACrC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;iBAC3B;gBACD,IAAI,EAAE,EAAE;oBACN,IAAI,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;oBAC1C,KAAK,CAAC,OAAO,CAAC,UAAU,IAAI;wBAC1B,OAAO,OAAO,MAAM,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;oBACnD,CAAC,CAAC,CAAC;iBACJ;qBAAM;oBACL,IAAI,CAAC,qBAAqB,GAAG,EAAE,CAAC;iBACjC;YACH,CAAC;YACD,mBAAmB,EAAE,SAAS,mBAAmB,CAAC,IAAI;gBACpD,IAAI,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,EAAE;oBACpC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,gBAAgB,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC/G,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;oBAC3E,OAAO,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;iBACzC;YACH,CAAC;YACD,sBAAsB,EAAE,SAAS,sBAAsB,CAAC,MAAM,EAAE,IAAI,EAAE,QAAQ;gBAC5E,IAAI,MAAM,GAAG,IAAI,CAAC;gBAElB,IAAI,UAAU,GAAG,IAAI,CAAC,UAAU,EAC5B,MAAM,GAAG,IAAI,CAAC,MAAM,EACpB,YAAY,GAAG,IAAI,CAAC,OAAO,EAC3B,OAAO,GAAG,YAAY,KAAK,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC;gBAE7D,IAAI,QAAQ,GAAG,EAAE,CAAC;gBAClB,IAAI,SAAS,GAAG,EAAE,CAAC;gBACnB,IAAI,SAAS,GAAG,EAAE,CAAC;gBACnB,IAAI,aAAa,GAAG,EAAE,CAAC;gBACvB,MAAM,CAAC,OAAO,CAAC,UAAU,KAAK;oBAC5B,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;oBACtB,IAAI,OAAO,CAAC,KAAK,KAAK,IAAI,IAAI,KAAK,CAAC,KAAK,KAAK,KAAK,EAAE;wBACnD,IAAI,KAAK,CAAC,MAAM,EAAE;4BAChB,CAAC,CAAC,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,aAAa,EAAE,IAAI,EAAE,EAAE,MAAM,EAAE,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC;yBACtE;wBACD,OAAO;qBACR;oBACD,IAAI,SAAS,GAAG,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;oBACtD,IAAI,QAAQ,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;oBACpD,QAAQ,CAAC,MAAM,GAAG,SAAS,CAAC;oBAC5B,QAAQ,CAAC,UAAU,GAAG,IAAI,CAAC;oBAC3B,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC;oBACtB,QAAQ,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;oBACpD,SAAS,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC;oBACjC,SAAS,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC;gBAC7B,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBAE1B,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC;oBACxC,SAAS,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBACrD,CAAC,CAAC,CAAC;gBACH,IAAI,QAAQ,IAAI,CAAC,CAAC,EAAE,MAAM,CAAC,aAAa,CAAC,CAAC,SAAS,CAAC,EAAE;oBACpD,QAAQ,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,aAAa,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,CAAC;oBACvH,OAAO;iBACR;gBACD,IAAI,SAAS,GAAG,IAAI,gBAAgB,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC;gBAC1D,IAAI,gBAAgB,EAAE;oBACpB,SAAS,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC;iBACtC;gBACD,SAAS,CAAC,QAAQ,CAAC,SAAS,EAAE,OAAO,EAAE,UAAU,MAAM;oBACrD,IAAI,WAAW,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,aAAa,CAAC,CAAC;oBAC/D,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,EAAE;wBAC3B,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC;4BACxB,IAAI,cAAc,GAAG,CAAC,CAAC,KAAK,CAAC;4BAC7B,IAAI,SAAS,GAAG,cAAc,CAAC;4BAI/B,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAU,aAAa;gCAChD,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;gCAG1C,IAAI,aAAa,KAAK,cAAc,EAAE;oCACpC,SAAS,GAAG,aAAa,CAAC;oCAC1B,OAAO,IAAI,CAAC;iCACb;gCAGD,IAAI,KAAK,CAAC,KAAK,CAAC,UAAU,KAAK;oCAC7B,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;oCACtB,OAAO,IAAI,KAAK,OAAO,CAAC;gCAC1B,CAAC,CAAC,IAAI,cAAc,CAAC,OAAO,CAAC,aAAa,GAAG,GAAG,CAAC,KAAK,CAAC,EAAE;oCACvD,OAAO,KAAK,CAAC;iCACd;gCAGD,IAAI,QAAQ,GAAG,cAAc,CAAC,KAAK,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gCAC9D,IAAI,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;oCAC1B,SAAS,GAAG,aAAa,CAAC;oCAC1B,OAAO,IAAI,CAAC;iCACb;gCAED,OAAO,KAAK,CAAC;4BACf,CAAC,CAAC,CAAC;4BAEH,IAAI,KAAK,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;4BAC1D,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;gCACrD,CAAC,CAAC,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC,CAAC;6BAC/D;4BACD,IAAI,WAAW,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,EAAE,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;4BAClF,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;wBACtB,CAAC,CAAC,CAAC;qBACJ;oBACD,IAAI,OAAO,GAAG,EAAE,CAAC;oBACjB,IAAI,YAAY,GAAG,EAAE,CAAC;oBACtB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,UAAU,IAAI;wBAC1C,IAAI,WAAW,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;wBAC3D,IAAI,QAAQ,GAAG,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;wBAEjD,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC,EAAE;4BAC1D,OAAO,CAAC,IAAI,CAAC;gCACX,IAAI,EAAE,IAAI;6BACX,CAAC,CAAC;yBACJ;6BAAM;4BACL,QAAQ,CAAC,MAAM,GAAG,WAAW,IAAI,WAAW,CAAC,MAAM,CAAC;4BACpD,QAAQ,CAAC,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;4BACjC,QAAQ,CAAC,UAAU,GAAG,KAAK,CAAC;4BAC5B,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;4BACvB,YAAY,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC;yBAC/B;oBACH,CAAC,CAAC,CAAC;oBACH,MAAM,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;oBAC/B,IAAI,QAAQ,EAAE;wBACZ,IAAI,OAAO,CAAC,MAAM,EAAE;4BAClB,OAAO,CAAC,OAAO,CAAC,UAAU,KAAK;gCAC7B,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC;gCAEtB,IAAI,WAAW,GAAG,CAAC;wCACjB,OAAO,EAAE,IAAI,GAAG,qBAAqB;wCACrC,KAAK,EAAE,IAAI;qCACZ,CAAC,CAAC;gCACH,CAAC,CAAC,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,WAAW,EAAE,IAAI,EAAE;oCACvC,OAAO,EAAE,IAAI;oCACb,MAAM,EAAE,WAAW;iCACpB,CAAC,CAAC;4BACL,CAAC,CAAC,CAAC;yBACJ;wBAED,QAAQ,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,aAAa,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,WAAW,EAAE,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,CAAC;qBACtH;gBACH,CAAC,CAAC,CAAC;YACL,CAAC;YACD,cAAc,EAAE,SAAS,cAAc,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE;gBACjD,IAAI,MAAM,GAAG,IAAI,CAAC;gBAElB,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,UAAU,OAAO,EAAE,MAAM;oBACjD,IAAI,UAAU,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,EAC/C,KAAK,GAAG,UAAU,CAAC,KAAK,EACxB,OAAO,GAAG,UAAU,CAAC,OAAO,CAAC;oBAEjC,IAAI,WAAW,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,EAChD,QAAQ,GAAG,WAAW,CAAC,QAAQ,CAAC;oBAEpC,IAAI,CAAC,QAAQ,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;wBAC/C,IAAI,KAAK,GAAG,QAAQ,CAAC;wBACrB,QAAQ,GAAG,SAAS,QAAQ,CAAC,MAAM,EAAE,MAAM;4BACzC,IAAI,KAAK,EAAE;gCACT,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;6BACvB;4BACD,IAAI,MAAM,EAAE;gCACV,MAAM,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC;6BAC5C;iCAAM;gCACL,OAAO,CAAC,MAAM,CAAC,CAAC;6BACjB;wBACH,CAAC,CAAC;qBACH;oBACD,IAAI,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,sBAAsB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC;oBACpH,IAAI,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC,UAAU,IAAI;wBAC3C,IAAI,SAAS,GAAG,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;wBACtD,OAAO,CAAC,CAAC,EAAE,MAAM,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;oBAClD,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,IAAI;wBACnB,IAAI,KAAK,GAAG,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;wBAC9C,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;wBACrD,OAAO,KAAK,CAAC;oBACf,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;wBAClB,QAAQ,CAAC,IAAI,EAAE,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC,CAAC;wBAC9D,OAAO;qBACR;oBACD,IAAI,CAAC,CAAC,aAAa,IAAI,OAAO,CAAC,EAAE;wBAC/B,OAAO,CAAC,WAAW,GAAG,UAAU,CAAC,MAAM,CAAC,UAAU,IAAI;4BACpD,IAAI,SAAS,GAAG,MAAM,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;4BACtD,OAAO,CAAC,CAAC,SAAS,CAAC,aAAa,CAAC;wBACnC,CAAC,CAAC,CAAC;qBACJ;oBACD,MAAM,CAAC,sBAAsB,CAAC,MAAM,EAAE;wBACpC,UAAU,EAAE,UAAU;wBACtB,OAAO,EAAE,OAAO;qBACjB,EAAE,QAAQ,CAAC,CAAC;gBACf,CAAC,CAAC,CAAC;gBACH,OAAO,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC;oBAE1B,IAAI,OAAO,CAAC,KAAK,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;wBAE1D,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;qBAClB;oBACD,OAAO,CAAC,CAAC;gBACX,CAAC,CAAC,CAAC;gBACH,OAAO,OAAO,CAAC;YACjB,CAAC;YACD,YAAY,EAAE,SAAS,YAAY;gBACjC,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,MAAM,EAAE;oBAC5E,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,EAAE,gCAAgC,GAAG,yEAAyE,CAAC,CAAC;iBAChJ;gBACD,OAAO,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC;YAC/B,CAAC;YACD,MAAM,EAAE,SAAS,MAAM,CAAC,QAAQ;gBAC9B,IAAI,MAAM,GAAG,IAAI,CAAC;gBAElB,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,MAAM,EAAE;oBAC5E,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,EAAE,0BAA0B,GAAG,yEAAyE,CAAC,CAAC;iBAC1I;gBACD,IAAI,EAAE,GAAG,SAAS,EAAE;oBAClB,MAAM,CAAC,QAAQ,CAAC;wBACd,UAAU,EAAE,KAAK;qBAClB,CAAC,CAAC;gBACL,CAAC,CAAC;gBACF,IAAI,CAAC,QAAQ,CAAC;oBACZ,UAAU,EAAE,IAAI;iBACjB,CAAC,CAAC;gBACH,QAAQ,CAAC,EAAE,CAAC,CAAC;YACf,CAAC;YACD,MAAM,EAAE,SAAS,MAAM;gBACrB,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,EACnB,mBAAmB,GAAG,MAAM,CAAC,mBAAmB,EAChD,SAAS,GAAG,CAAC,CAAC,EAAE,yBAAyB,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,qBAAqB,CAAC,CAAC,CAAC;gBAE3F,IAAI,SAAS,GAAG,CAAC,CAAC,EAAE,gBAAgB,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,YAAY,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;gBACnF,IAAI,OAAO,EAAE;oBACX,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,MAAM,EAAE;wBAC5E,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,KAAK,EAAE,qEAAqE,GAAG,+GAA+G,CAAC,CAAC;qBAC3N;oBACD,SAAS,CAAC,GAAG,GAAG,kBAAkB,CAAC;iBACpC;qBAAM,IAAI,mBAAmB,EAAE;oBAC9B,SAAS,CAAC,GAAG,GAAG,mBAAmB,CAAC;iBACrC;gBACD,IAAI,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC;gBACrF,OAAO,OAAO,CAAC,SAAS,CAAC,CAAC,aAAa,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;YACnE,CAAC;SACF,CAAC,CAAC;QAEH,OAAO,CAAC,CAAC,EAAE,MAAM,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,EAAE,0BAA0B,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,gBAAgB,CAAC,CAAC;IAC3G,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,CAAC,SAAS,CAAC,GAAG,cAAc,CAAC;AACpC,MAAM,CAAC,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _extends5 = require('babel-runtime/helpers/extends');\n\nvar _extends6 = _interopRequireDefault(_extends5);\n\nvar _toConsumableArray2 = require('babel-runtime/helpers/toConsumableArray');\n\nvar _toConsumableArray3 = _interopRequireDefault(_toConsumableArray2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _createReactClass = require('create-react-class');\n\nvar _createReactClass2 = _interopRequireDefault(_createReactClass);\n\nvar _unsafeLifecyclesPolyfill = require('rc-util/lib/unsafeLifecyclesPolyfill');\n\nvar _unsafeLifecyclesPolyfill2 = _interopRequireDefault(_unsafeLifecyclesPolyfill);\n\nvar _asyncValidator = require('async-validator');\n\nvar _asyncValidator2 = _interopRequireDefault(_asyncValidator);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _get = require('lodash/get');\n\nvar _get2 = _interopRequireDefault(_get);\n\nvar _set = require('lodash/set');\n\nvar _set2 = _interopRequireDefault(_set);\n\nvar _eq = require('lodash/eq');\n\nvar _eq2 = _interopRequireDefault(_eq);\n\nvar _createFieldsStore = require('./createFieldsStore');\n\nvar _createFieldsStore2 = _interopRequireDefault(_createFieldsStore);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/* eslint-disable react/prefer-es6-class */\n/* eslint-disable prefer-promise-reject-errors */\n\nvar DEFAULT_TRIGGER = 'onChange';\n\nfunction createBaseForm() {\n  var option = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var mixins = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var validateMessages = option.validateMessages,\n      onFieldsChange = option.onFieldsChange,\n      onValuesChange = option.onValuesChange,\n      _option$mapProps = option.mapProps,\n      mapProps = _option$mapProps === undefined ? _utils.identity : _option$mapProps,\n      mapPropsToFields = option.mapPropsToFields,\n      fieldNameProp = option.fieldNameProp,\n      fieldMetaProp = option.fieldMetaProp,\n      fieldDataProp = option.fieldDataProp,\n      _option$formPropName = option.formPropName,\n      formPropName = _option$formPropName === undefined ? 'form' : _option$formPropName,\n      formName = option.name,\n      withRef = option.withRef;\n\n\n  return function decorate(WrappedComponent) {\n    var Form = (0, _createReactClass2['default'])({\n      displayName: 'Form',\n\n      mixins: mixins,\n\n      getInitialState: function getInitialState() {\n        var _this = this;\n\n        var fields = mapPropsToFields && mapPropsToFields(this.props);\n        this.fieldsStore = (0, _createFieldsStore2['default'])(fields || {});\n\n        this.instances = {};\n        this.cachedBind = {};\n        this.clearedFieldMetaCache = {};\n\n        this.renderFields = {};\n        this.domFields = {};\n\n        // HACK: https://github.com/ant-design/ant-design/issues/6406\n        ['getFieldsValue', 'getFieldValue', 'setFieldsInitialValue', 'getFieldsError', 'getFieldError', 'isFieldValidating', 'isFieldsValidating', 'isFieldsTouched', 'isFieldTouched'].forEach(function (key) {\n          _this[key] = function () {\n            var _fieldsStore;\n\n            if (process.env.NODE_ENV !== 'production') {\n              (0, _warning2['default'])(false, 'you should not use `ref` on enhanced form, please use `wrappedComponentRef`. ' + 'See: https://github.com/react-component/form#note-use-wrappedcomponentref-instead-of-withref-after-rc-form140');\n            }\n            return (_fieldsStore = _this.fieldsStore)[key].apply(_fieldsStore, arguments);\n          };\n        });\n\n        return {\n          submitting: false\n        };\n      },\n      componentDidMount: function componentDidMount() {\n        this.cleanUpUselessFields();\n      },\n      componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n        if (mapPropsToFields) {\n          this.fieldsStore.updateFields(mapPropsToFields(nextProps));\n        }\n      },\n      componentDidUpdate: function componentDidUpdate() {\n        this.cleanUpUselessFields();\n      },\n      onCollectCommon: function onCollectCommon(name, action, args) {\n        var fieldMeta = this.fieldsStore.getFieldMeta(name);\n        if (fieldMeta[action]) {\n          fieldMeta[action].apply(fieldMeta, (0, _toConsumableArray3['default'])(args));\n        } else if (fieldMeta.originalProps && fieldMeta.originalProps[action]) {\n          var _fieldMeta$originalPr;\n\n          (_fieldMeta$originalPr = fieldMeta.originalProps)[action].apply(_fieldMeta$originalPr, (0, _toConsumableArray3['default'])(args));\n        }\n        var value = fieldMeta.getValueFromEvent ? fieldMeta.getValueFromEvent.apply(fieldMeta, (0, _toConsumableArray3['default'])(args)) : _utils.getValueFromEvent.apply(undefined, (0, _toConsumableArray3['default'])(args));\n        if (onValuesChange && value !== this.fieldsStore.getFieldValue(name)) {\n          var valuesAll = this.fieldsStore.getAllValues();\n          var valuesAllSet = {};\n          valuesAll[name] = value;\n          Object.keys(valuesAll).forEach(function (key) {\n            return (0, _set2['default'])(valuesAllSet, key, valuesAll[key]);\n          });\n          onValuesChange((0, _extends6['default'])((0, _defineProperty3['default'])({}, formPropName, this.getForm()), this.props), (0, _set2['default'])({}, name, value), valuesAllSet);\n        }\n        var field = this.fieldsStore.getField(name);\n        return { name: name, field: (0, _extends6['default'])({}, field, { value: value, touched: true }), fieldMeta: fieldMeta };\n      },\n      onCollect: function onCollect(name_, action) {\n        for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n          args[_key - 2] = arguments[_key];\n        }\n\n        var _onCollectCommon = this.onCollectCommon(name_, action, args),\n            name = _onCollectCommon.name,\n            field = _onCollectCommon.field,\n            fieldMeta = _onCollectCommon.fieldMeta;\n\n        var validate = fieldMeta.validate;\n\n\n        this.fieldsStore.setFieldsAsDirty();\n\n        var newField = (0, _extends6['default'])({}, field, {\n          dirty: (0, _utils.hasRules)(validate)\n        });\n        this.setFields((0, _defineProperty3['default'])({}, name, newField));\n      },\n      onCollectValidate: function onCollectValidate(name_, action) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n          args[_key2 - 2] = arguments[_key2];\n        }\n\n        var _onCollectCommon2 = this.onCollectCommon(name_, action, args),\n            field = _onCollectCommon2.field,\n            fieldMeta = _onCollectCommon2.fieldMeta;\n\n        var newField = (0, _extends6['default'])({}, field, {\n          dirty: true\n        });\n\n        this.fieldsStore.setFieldsAsDirty();\n\n        this.validateFieldsInternal([newField], {\n          action: action,\n          options: {\n            firstFields: !!fieldMeta.validateFirst\n          }\n        });\n      },\n      getCacheBind: function getCacheBind(name, action, fn) {\n        if (!this.cachedBind[name]) {\n          this.cachedBind[name] = {};\n        }\n        var cache = this.cachedBind[name];\n        if (!cache[action] || cache[action].oriFn !== fn) {\n          cache[action] = {\n            fn: fn.bind(this, name, action),\n            oriFn: fn\n          };\n        }\n        return cache[action].fn;\n      },\n      getFieldDecorator: function getFieldDecorator(name, fieldOption) {\n        var _this2 = this;\n\n        var props = this.getFieldProps(name, fieldOption);\n        return function (fieldElem) {\n          // We should put field in record if it is rendered\n          _this2.renderFields[name] = true;\n\n          var fieldMeta = _this2.fieldsStore.getFieldMeta(name);\n          var originalProps = fieldElem.props;\n          if (process.env.NODE_ENV !== 'production') {\n            var valuePropName = fieldMeta.valuePropName;\n            (0, _warning2['default'])(!(valuePropName in originalProps), '`getFieldDecorator` will override `' + valuePropName + '`, ' + ('so please don\\'t set `' + valuePropName + '` directly ') + 'and use `setFieldsValue` to set it.');\n            var defaultValuePropName = 'default' + valuePropName[0].toUpperCase() + valuePropName.slice(1);\n            (0, _warning2['default'])(!(defaultValuePropName in originalProps), '`' + defaultValuePropName + '` is invalid ' + ('for `getFieldDecorator` will set `' + valuePropName + '`,') + ' please use `option.initialValue` instead.');\n          }\n          fieldMeta.originalProps = originalProps;\n          fieldMeta.ref = fieldElem.ref;\n          return _react2['default'].cloneElement(fieldElem, (0, _extends6['default'])({}, props, _this2.fieldsStore.getFieldValuePropValue(fieldMeta)));\n        };\n      },\n      getFieldProps: function getFieldProps(name) {\n        var _this3 = this;\n\n        var usersFieldOption = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        if (!name) {\n          throw new Error('Must call `getFieldProps` with valid name string!');\n        }\n        if (process.env.NODE_ENV !== 'production') {\n          (0, _warning2['default'])(this.fieldsStore.isValidNestedFieldName(name), 'One field name cannot be part of another, e.g. `a` and `a.b`. Check field: ' + name);\n          (0, _warning2['default'])(!('exclusive' in usersFieldOption), '`option.exclusive` of `getFieldProps`|`getFieldDecorator` had been remove.');\n        }\n\n        delete this.clearedFieldMetaCache[name];\n\n        var fieldOption = (0, _extends6['default'])({\n          name: name,\n          trigger: DEFAULT_TRIGGER,\n          valuePropName: 'value',\n          validate: []\n        }, usersFieldOption);\n\n        var rules = fieldOption.rules,\n            trigger = fieldOption.trigger,\n            _fieldOption$validate = fieldOption.validateTrigger,\n            validateTrigger = _fieldOption$validate === undefined ? trigger : _fieldOption$validate,\n            validate = fieldOption.validate;\n\n\n        var fieldMeta = this.fieldsStore.getFieldMeta(name);\n        if ('initialValue' in fieldOption) {\n          fieldMeta.initialValue = fieldOption.initialValue;\n        }\n\n        var inputProps = (0, _extends6['default'])({}, this.fieldsStore.getFieldValuePropValue(fieldOption), {\n          ref: this.getCacheBind(name, name + '__ref', this.saveRef)\n        });\n        if (fieldNameProp) {\n          inputProps[fieldNameProp] = formName ? formName + '_' + name : name;\n        }\n\n        var validateRules = (0, _utils.normalizeValidateRules)(validate, rules, validateTrigger);\n        var validateTriggers = (0, _utils.getValidateTriggers)(validateRules);\n        validateTriggers.forEach(function (action) {\n          if (inputProps[action]) return;\n          inputProps[action] = _this3.getCacheBind(name, action, _this3.onCollectValidate);\n        });\n\n        // make sure that the value will be collect\n        if (trigger && validateTriggers.indexOf(trigger) === -1) {\n          inputProps[trigger] = this.getCacheBind(name, trigger, this.onCollect);\n        }\n\n        var meta = (0, _extends6['default'])({}, fieldMeta, fieldOption, {\n          validate: validateRules\n        });\n        this.fieldsStore.setFieldMeta(name, meta);\n        if (fieldMetaProp) {\n          inputProps[fieldMetaProp] = meta;\n        }\n\n        if (fieldDataProp) {\n          inputProps[fieldDataProp] = this.fieldsStore.getField(name);\n        }\n\n        // This field is rendered, record it\n        this.renderFields[name] = true;\n\n        return inputProps;\n      },\n      getFieldInstance: function getFieldInstance(name) {\n        return this.instances[name];\n      },\n      getRules: function getRules(fieldMeta, action) {\n        var actionRules = fieldMeta.validate.filter(function (item) {\n          return !action || item.trigger.indexOf(action) >= 0;\n        }).map(function (item) {\n          return item.rules;\n        });\n        return (0, _utils.flattenArray)(actionRules);\n      },\n      setFields: function setFields(maybeNestedFields, callback) {\n        var _this4 = this;\n\n        var fields = this.fieldsStore.flattenRegisteredFields(maybeNestedFields);\n        this.fieldsStore.setFields(fields);\n        if (onFieldsChange) {\n          var changedFields = Object.keys(fields).reduce(function (acc, name) {\n            return (0, _set2['default'])(acc, name, _this4.fieldsStore.getField(name));\n          }, {});\n          onFieldsChange((0, _extends6['default'])((0, _defineProperty3['default'])({}, formPropName, this.getForm()), this.props), changedFields, this.fieldsStore.getNestedAllFields());\n        }\n        this.forceUpdate(callback);\n      },\n      setFieldsValue: function setFieldsValue(changedValues, callback) {\n        var fieldsMeta = this.fieldsStore.fieldsMeta;\n\n        var values = this.fieldsStore.flattenRegisteredFields(changedValues);\n        var newFields = Object.keys(values).reduce(function (acc, name) {\n          var isRegistered = fieldsMeta[name];\n          if (process.env.NODE_ENV !== 'production') {\n            (0, _warning2['default'])(isRegistered, 'Cannot use `setFieldsValue` until ' + 'you use `getFieldDecorator` or `getFieldProps` to register it.');\n          }\n          if (isRegistered) {\n            var value = values[name];\n            acc[name] = {\n              value: value\n            };\n          }\n          return acc;\n        }, {});\n        this.setFields(newFields, callback);\n        if (onValuesChange) {\n          var allValues = this.fieldsStore.getAllValues();\n          onValuesChange((0, _extends6['default'])((0, _defineProperty3['default'])({}, formPropName, this.getForm()), this.props), changedValues, allValues);\n        }\n      },\n      saveRef: function saveRef(name, _, component) {\n        if (!component) {\n          var _fieldMeta = this.fieldsStore.getFieldMeta(name);\n          if (!_fieldMeta.preserve) {\n            // after destroy, delete data\n            this.clearedFieldMetaCache[name] = {\n              field: this.fieldsStore.getField(name),\n              meta: _fieldMeta\n            };\n            this.clearField(name);\n          }\n          delete this.domFields[name];\n          return;\n        }\n        this.domFields[name] = true;\n        this.recoverClearedField(name);\n        var fieldMeta = this.fieldsStore.getFieldMeta(name);\n        if (fieldMeta) {\n          var ref = fieldMeta.ref;\n          if (ref) {\n            if (typeof ref === 'string') {\n              throw new Error('can not set ref string for ' + name);\n            } else if (typeof ref === 'function') {\n              ref(component);\n            } else if (Object.prototype.hasOwnProperty.call(ref, 'current')) {\n              ref.current = component;\n            }\n          }\n        }\n        this.instances[name] = component;\n      },\n      cleanUpUselessFields: function cleanUpUselessFields() {\n        var _this5 = this;\n\n        var fieldList = this.fieldsStore.getAllFieldsName();\n        var removedList = fieldList.filter(function (field) {\n          var fieldMeta = _this5.fieldsStore.getFieldMeta(field);\n          return !_this5.renderFields[field] && !_this5.domFields[field] && !fieldMeta.preserve;\n        });\n        if (removedList.length) {\n          removedList.forEach(this.clearField);\n        }\n        this.renderFields = {};\n      },\n      clearField: function clearField(name) {\n        this.fieldsStore.clearField(name);\n        delete this.instances[name];\n        delete this.cachedBind[name];\n      },\n      resetFields: function resetFields(ns) {\n        var _this6 = this;\n\n        var newFields = this.fieldsStore.resetFields(ns);\n        if (Object.keys(newFields).length > 0) {\n          this.setFields(newFields);\n        }\n        if (ns) {\n          var names = Array.isArray(ns) ? ns : [ns];\n          names.forEach(function (name) {\n            return delete _this6.clearedFieldMetaCache[name];\n          });\n        } else {\n          this.clearedFieldMetaCache = {};\n        }\n      },\n      recoverClearedField: function recoverClearedField(name) {\n        if (this.clearedFieldMetaCache[name]) {\n          this.fieldsStore.setFields((0, _defineProperty3['default'])({}, name, this.clearedFieldMetaCache[name].field));\n          this.fieldsStore.setFieldMeta(name, this.clearedFieldMetaCache[name].meta);\n          delete this.clearedFieldMetaCache[name];\n        }\n      },\n      validateFieldsInternal: function validateFieldsInternal(fields, _ref, callback) {\n        var _this7 = this;\n\n        var fieldNames = _ref.fieldNames,\n            action = _ref.action,\n            _ref$options = _ref.options,\n            options = _ref$options === undefined ? {} : _ref$options;\n\n        var allRules = {};\n        var allValues = {};\n        var allFields = {};\n        var alreadyErrors = {};\n        fields.forEach(function (field) {\n          var name = field.name;\n          if (options.force !== true && field.dirty === false) {\n            if (field.errors) {\n              (0, _set2['default'])(alreadyErrors, name, { errors: field.errors });\n            }\n            return;\n          }\n          var fieldMeta = _this7.fieldsStore.getFieldMeta(name);\n          var newField = (0, _extends6['default'])({}, field);\n          newField.errors = undefined;\n          newField.validating = true;\n          newField.dirty = true;\n          allRules[name] = _this7.getRules(fieldMeta, action);\n          allValues[name] = newField.value;\n          allFields[name] = newField;\n        });\n        this.setFields(allFields);\n        // in case normalize\n        Object.keys(allValues).forEach(function (f) {\n          allValues[f] = _this7.fieldsStore.getFieldValue(f);\n        });\n        if (callback && (0, _utils.isEmptyObject)(allFields)) {\n          callback((0, _utils.isEmptyObject)(alreadyErrors) ? null : alreadyErrors, this.fieldsStore.getFieldsValue(fieldNames));\n          return;\n        }\n        var validator = new _asyncValidator2['default'](allRules);\n        if (validateMessages) {\n          validator.messages(validateMessages);\n        }\n        validator.validate(allValues, options, function (errors) {\n          var errorsGroup = (0, _extends6['default'])({}, alreadyErrors);\n          if (errors && errors.length) {\n            errors.forEach(function (e) {\n              var errorFieldName = e.field;\n              var fieldName = errorFieldName;\n\n              // Handle using array validation rule.\n              // ref: https://github.com/ant-design/ant-design/issues/14275\n              Object.keys(allRules).some(function (ruleFieldName) {\n                var rules = allRules[ruleFieldName] || [];\n\n                // Exist if match rule\n                if (ruleFieldName === errorFieldName) {\n                  fieldName = ruleFieldName;\n                  return true;\n                }\n\n                // Skip if not match array type\n                if (rules.every(function (_ref2) {\n                  var type = _ref2.type;\n                  return type !== 'array';\n                }) || errorFieldName.indexOf(ruleFieldName + '.') !== 0) {\n                  return false;\n                }\n\n                // Exist if match the field name\n                var restPath = errorFieldName.slice(ruleFieldName.length + 1);\n                if (/^\\d+$/.test(restPath)) {\n                  fieldName = ruleFieldName;\n                  return true;\n                }\n\n                return false;\n              });\n\n              var field = (0, _get2['default'])(errorsGroup, fieldName);\n              if (typeof field !== 'object' || Array.isArray(field)) {\n                (0, _set2['default'])(errorsGroup, fieldName, { errors: [] });\n              }\n              var fieldErrors = (0, _get2['default'])(errorsGroup, fieldName.concat('.errors'));\n              fieldErrors.push(e);\n            });\n          }\n          var expired = [];\n          var nowAllFields = {};\n          Object.keys(allRules).forEach(function (name) {\n            var fieldErrors = (0, _get2['default'])(errorsGroup, name);\n            var nowField = _this7.fieldsStore.getField(name);\n            // avoid concurrency problems\n            if (!(0, _eq2['default'])(nowField.value, allValues[name])) {\n              expired.push({\n                name: name\n              });\n            } else {\n              nowField.errors = fieldErrors && fieldErrors.errors;\n              nowField.value = allValues[name];\n              nowField.validating = false;\n              nowField.dirty = false;\n              nowAllFields[name] = nowField;\n            }\n          });\n          _this7.setFields(nowAllFields);\n          if (callback) {\n            if (expired.length) {\n              expired.forEach(function (_ref3) {\n                var name = _ref3.name;\n\n                var fieldErrors = [{\n                  message: name + ' need to revalidate',\n                  field: name\n                }];\n                (0, _set2['default'])(errorsGroup, name, {\n                  expired: true,\n                  errors: fieldErrors\n                });\n              });\n            }\n\n            callback((0, _utils.isEmptyObject)(errorsGroup) ? null : errorsGroup, _this7.fieldsStore.getFieldsValue(fieldNames));\n          }\n        });\n      },\n      validateFields: function validateFields(ns, opt, cb) {\n        var _this8 = this;\n\n        var pending = new Promise(function (resolve, reject) {\n          var _getParams = (0, _utils.getParams)(ns, opt, cb),\n              names = _getParams.names,\n              options = _getParams.options;\n\n          var _getParams2 = (0, _utils.getParams)(ns, opt, cb),\n              callback = _getParams2.callback;\n\n          if (!callback || typeof callback === 'function') {\n            var oldCb = callback;\n            callback = function callback(errors, values) {\n              if (oldCb) {\n                oldCb(errors, values);\n              }\n              if (errors) {\n                reject({ errors: errors, values: values });\n              } else {\n                resolve(values);\n              }\n            };\n          }\n          var fieldNames = names ? _this8.fieldsStore.getValidFieldsFullName(names) : _this8.fieldsStore.getValidFieldsName();\n          var fields = fieldNames.filter(function (name) {\n            var fieldMeta = _this8.fieldsStore.getFieldMeta(name);\n            return (0, _utils.hasRules)(fieldMeta.validate);\n          }).map(function (name) {\n            var field = _this8.fieldsStore.getField(name);\n            field.value = _this8.fieldsStore.getFieldValue(name);\n            return field;\n          });\n          if (!fields.length) {\n            callback(null, _this8.fieldsStore.getFieldsValue(fieldNames));\n            return;\n          }\n          if (!('firstFields' in options)) {\n            options.firstFields = fieldNames.filter(function (name) {\n              var fieldMeta = _this8.fieldsStore.getFieldMeta(name);\n              return !!fieldMeta.validateFirst;\n            });\n          }\n          _this8.validateFieldsInternal(fields, {\n            fieldNames: fieldNames,\n            options: options\n          }, callback);\n        });\n        pending['catch'](function (e) {\n          // eslint-disable-next-line no-console\n          if (console.error && process.env.NODE_ENV !== 'production') {\n            // eslint-disable-next-line no-console\n            console.error(e);\n          }\n          return e;\n        });\n        return pending;\n      },\n      isSubmitting: function isSubmitting() {\n        if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n          (0, _warning2['default'])(false, '`isSubmitting` is deprecated. ' + \"Actually, it's more convenient to handle submitting status by yourself.\");\n        }\n        return this.state.submitting;\n      },\n      submit: function submit(callback) {\n        var _this9 = this;\n\n        if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n          (0, _warning2['default'])(false, '`submit` is deprecated. ' + \"Actually, it's more convenient to handle submitting status by yourself.\");\n        }\n        var fn = function fn() {\n          _this9.setState({\n            submitting: false\n          });\n        };\n        this.setState({\n          submitting: true\n        });\n        callback(fn);\n      },\n      render: function render() {\n        var _props = this.props,\n            wrappedComponentRef = _props.wrappedComponentRef,\n            restProps = (0, _objectWithoutProperties3['default'])(_props, ['wrappedComponentRef']); // eslint-disable-line\n\n        var formProps = (0, _defineProperty3['default'])({}, formPropName, this.getForm());\n        if (withRef) {\n          if (process.env.NODE_ENV !== 'production' && process.env.NODE_ENV !== 'test') {\n            (0, _warning2['default'])(false, '`withRef` is deprecated, please use `wrappedComponentRef` instead. ' + 'See: https://github.com/react-component/form#note-use-wrappedcomponentref-instead-of-withref-after-rc-form140');\n          }\n          formProps.ref = 'wrappedComponent';\n        } else if (wrappedComponentRef) {\n          formProps.ref = wrappedComponentRef;\n        }\n        var props = mapProps.call(this, (0, _extends6['default'])({}, formProps, restProps));\n        return _react2['default'].createElement(WrappedComponent, props);\n      }\n    });\n\n    return (0, _utils.argumentContainer)((0, _unsafeLifecyclesPolyfill2['default'])(Form), WrappedComponent);\n  };\n}\n\nexports['default'] = createBaseForm;\nmodule.exports = exports['default'];"]}]}
{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\scale\\lib\\base.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\scale\\lib\\base.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["var mix = require('@antv/util/lib/mix');\r\nvar each = require('@antv/util/lib/each');\r\nvar isObject = require('@antv/util/lib/type/is-object');\r\nvar isNil = require('@antv/util/lib/type/is-nil');\r\nvar Scale = function () {\r\n    var _proto = Scale.prototype;\r\n    _proto._initDefaultCfg = function _initDefaultCfg() {\r\n        this.type = 'base';\r\n        this.formatter = null;\r\n        this.range = [0, 1];\r\n        this.ticks = null;\r\n        this.values = [];\r\n    };\r\n    function Scale(cfg) {\r\n        this._initDefaultCfg();\r\n        mix(this, cfg);\r\n        this.init();\r\n    }\r\n    _proto.init = function init() { };\r\n    _proto.getTicks = function getTicks() {\r\n        var self = this;\r\n        var ticks = self.ticks;\r\n        var rst = [];\r\n        each(ticks, function (tick) {\r\n            var obj;\r\n            if (isObject(tick)) {\r\n                obj = tick;\r\n            }\r\n            else {\r\n                obj = {\r\n                    text: self.getText(tick),\r\n                    tickValue: tick,\r\n                    value: self.scale(tick)\r\n                };\r\n            }\r\n            rst.push(obj);\r\n        });\r\n        return rst;\r\n    };\r\n    _proto.getText = function getText(value, key) {\r\n        var formatter = this.formatter;\r\n        value = formatter ? formatter(value, key) : value;\r\n        if (isNil(value) || !value.toString) {\r\n            value = '';\r\n        }\r\n        return value.toString();\r\n    };\r\n    _proto.rangeMin = function rangeMin() {\r\n        return this.range[0];\r\n    };\r\n    _proto.rangeMax = function rangeMax() {\r\n        var range = this.range;\r\n        return range[range.length - 1];\r\n    };\r\n    _proto.invert = function invert(value) {\r\n        return value;\r\n    };\r\n    _proto.translate = function translate(value) {\r\n        return value;\r\n    };\r\n    _proto.scale = function scale(value) {\r\n        return value;\r\n    };\r\n    _proto.clone = function clone() {\r\n        var self = this;\r\n        var constr = self.constructor;\r\n        var cfg = {};\r\n        each(self, function (v, k) {\r\n            cfg[k] = self[k];\r\n        });\r\n        return new constr(cfg);\r\n    };\r\n    _proto.change = function change(info) {\r\n        this.ticks = null;\r\n        mix(this, info);\r\n        this.init();\r\n        return this;\r\n    };\r\n    return Scale;\r\n}();\r\nmodule.exports = Scale;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\scale\\lib\\base.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\g2\\node_modules\\@antv\\scale\\lib\\base.js"],"names":[],"mappings":"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","sourcesContent":["var mix = require('@antv/util/lib/mix');\n\nvar each = require('@antv/util/lib/each');\n\nvar isObject = require('@antv/util/lib/type/is-object');\n\nvar isNil = require('@antv/util/lib/type/is-nil');\n\nvar Scale =\n/*#__PURE__*/\nfunction () {\n  var _proto = Scale.prototype;\n\n  _proto._initDefaultCfg = function _initDefaultCfg() {\n    this.type = 'base';\n    /**\n     * 格式化函数,输出文本或者tick时的格式化函数\n     * @type {Function}\n     */\n\n    this.formatter = null;\n    /**\n     * 输出的值域\n     * @type {Array}\n     */\n\n    this.range = [0, 1];\n    /**\n     * 度量的标记\n     * @type {Array}\n     */\n\n    this.ticks = null;\n    /**\n     * 参与度量计算的值，可选项\n     * @type {Array}\n     */\n\n    this.values = [];\n  };\n\n  function Scale(cfg) {\n    this._initDefaultCfg();\n\n    mix(this, cfg);\n    this.init();\n  }\n  /**\n   * 度量初始化\n   * @protected\n   */\n\n\n  _proto.init = function init() {};\n  /**\n   * 获取该度量的ticks,返回的是多个对象，\n   *   - text: tick 的文本\n   *   - value: 对应的度量转换后的值\n   * <code>\n   *   [\n   *     {text: 0,value:0}\n   *     {text: 1,value:0.2}\n   *     {text: 2,value:0.4}\n   *     {text: 3,value:0.6}\n   *     {text: 4,value:0.8}\n   *     {text: 5,value:1}\n   *   ]\n   * </code>\n   * @param {Number} count 输出tick的个数的近似值，默认是 10\n   * @return {Array} 返回 ticks 数组\n   */\n\n\n  _proto.getTicks = function getTicks() {\n    var self = this;\n    var ticks = self.ticks;\n    var rst = [];\n    each(ticks, function (tick) {\n      var obj;\n\n      if (isObject(tick)) {\n        obj = tick;\n      } else {\n        obj = {\n          text: self.getText(tick),\n          tickValue: tick,\n          value: self.scale(tick)\n        };\n      }\n\n      rst.push(obj);\n    });\n    return rst;\n  };\n  /**\n   * 获取格式化后的文本\n   * @param  {*} value 输入的数据\n   * @param  {*} key 字段的 key\n   * @return {String} 格式化的文本\n   */\n\n\n  _proto.getText = function getText(value, key) {\n    var formatter = this.formatter;\n    value = formatter ? formatter(value, key) : value;\n\n    if (isNil(value) || !value.toString) {\n      value = '';\n    }\n\n    return value.toString();\n  };\n  /**\n   * 输出的值域最小值\n   * @protected\n   * @return {Number} 返回最小的值\n   */\n\n\n  _proto.rangeMin = function rangeMin() {\n    return this.range[0];\n  };\n  /**\n   * 输出的值域最大值\n   * @protected\n   * @return {Number} 返回最大的值\n   */\n\n\n  _proto.rangeMax = function rangeMax() {\n    var range = this.range;\n    return range[range.length - 1];\n  };\n  /**\n   * 度量转换后的结果，翻转回输入域\n   * @param  {Number} value 需要翻转的数值\n   * @return {*} 度量的输入值\n   */\n\n\n  _proto.invert = function invert(value) {\n    return value;\n  };\n  /**\n   * 将传入的值从非数值转换成数值格式，如分类字符串、时间字符串等\n   * @param  {*} value 传入的值\n   * @return {Number} 转换的值\n   */\n\n\n  _proto.translate = function translate(value) {\n    return value;\n  };\n  /**\n   * 进行度量转换\n   * @param  {*} value 输入值\n   * @return {Number} 输出值，在设定的输出值域之间，默认[0,1]\n   */\n\n\n  _proto.scale = function scale(value) {\n    return value;\n  };\n  /**\n   * 克隆一个新的scale,拥有跟当前scale相同的输入域、输出域等\n   * @return {Scale} 克隆的度量\n   */\n\n\n  _proto.clone = function clone() {\n    var self = this;\n    var constr = self.constructor;\n    var cfg = {};\n    each(self, function (v, k) {\n      cfg[k] = self[k];\n    });\n    return new constr(cfg);\n  };\n  /**\n   * 更改度量的属性信息\n   * @param  {Object} info 属性信息\n   * @chainable\n   * @return {Scale} 返回自身的引用\n   */\n\n\n  _proto.change = function change(info) {\n    this.ticks = null;\n    mix(this, info);\n    this.init();\n    return this;\n  };\n\n  return Scale;\n}();\n\nmodule.exports = Scale;"]}]}
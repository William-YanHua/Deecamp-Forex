{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-time-picker\\lib\\Header.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-time-picker\\lib\\Header.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["'use strict';\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\r\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\r\nvar _createClass2 = require('babel-runtime/helpers/createClass');\r\nvar _createClass3 = _interopRequireDefault(_createClass2);\r\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\r\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\r\nvar _inherits2 = require('babel-runtime/helpers/inherits');\r\nvar _inherits3 = _interopRequireDefault(_inherits2);\r\nvar _react = require('react');\r\nvar _react2 = _interopRequireDefault(_react);\r\nvar _propTypes = require('prop-types');\r\nvar _propTypes2 = _interopRequireDefault(_propTypes);\r\nvar _moment = require('moment');\r\nvar _moment2 = _interopRequireDefault(_moment);\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\r\nvar Header = function (_Component) {\r\n    (0, _inherits3['default'])(Header, _Component);\r\n    function Header(props) {\r\n        (0, _classCallCheck3['default'])(this, Header);\r\n        var _this = (0, _possibleConstructorReturn3['default'])(this, (Header.__proto__ || Object.getPrototypeOf(Header)).call(this, props));\r\n        _initialiseProps.call(_this);\r\n        var value = props.value, format = props.format;\r\n        _this.state = {\r\n            str: value && value.format(format) || '',\r\n            invalid: false\r\n        };\r\n        return _this;\r\n    }\r\n    (0, _createClass3['default'])(Header, [{\r\n            key: 'componentDidMount',\r\n            value: function componentDidMount() {\r\n                var _this2 = this;\r\n                if (this.props.focusOnOpen) {\r\n                    var requestAnimationFrame = window.requestAnimationFrame || window.setTimeout;\r\n                    requestAnimationFrame(function () {\r\n                        _this2.refs.input.focus();\r\n                        _this2.refs.input.select();\r\n                    });\r\n                }\r\n            }\r\n        }, {\r\n            key: 'componentWillReceiveProps',\r\n            value: function componentWillReceiveProps(nextProps) {\r\n                var value = nextProps.value, format = nextProps.format;\r\n                this.setState({\r\n                    str: value && value.format(format) || '',\r\n                    invalid: false\r\n                });\r\n            }\r\n        }, {\r\n            key: 'getClearButton',\r\n            value: function getClearButton() {\r\n                var _props = this.props, prefixCls = _props.prefixCls, allowEmpty = _props.allowEmpty, clearIcon = _props.clearIcon;\r\n                if (!allowEmpty) {\r\n                    return null;\r\n                }\r\n                return _react2['default'].createElement('a', {\r\n                    role: 'button',\r\n                    className: prefixCls + '-clear-btn',\r\n                    title: this.props.clearText,\r\n                    onMouseDown: this.onClear\r\n                }, clearIcon || _react2['default'].createElement('i', { className: prefixCls + '-clear-btn-icon' }));\r\n            }\r\n        }, {\r\n            key: 'getProtoValue',\r\n            value: function getProtoValue() {\r\n                return this.props.value || this.props.defaultOpenValue;\r\n            }\r\n        }, {\r\n            key: 'getInput',\r\n            value: function getInput() {\r\n                var _props2 = this.props, prefixCls = _props2.prefixCls, placeholder = _props2.placeholder, inputReadOnly = _props2.inputReadOnly;\r\n                var _state = this.state, invalid = _state.invalid, str = _state.str;\r\n                var invalidClass = invalid ? prefixCls + '-input-invalid' : '';\r\n                return _react2['default'].createElement('input', {\r\n                    className: prefixCls + '-input  ' + invalidClass,\r\n                    ref: 'input',\r\n                    onKeyDown: this.onKeyDown,\r\n                    value: str,\r\n                    placeholder: placeholder,\r\n                    onChange: this.onInputChange,\r\n                    readOnly: !!inputReadOnly\r\n                });\r\n            }\r\n        }, {\r\n            key: 'render',\r\n            value: function render() {\r\n                var prefixCls = this.props.prefixCls;\r\n                return _react2['default'].createElement('div', { className: prefixCls + '-input-wrap' }, this.getInput(), this.getClearButton());\r\n            }\r\n        }]);\r\n    return Header;\r\n}(_react.Component);\r\nHeader.propTypes = {\r\n    format: _propTypes2['default'].string,\r\n    prefixCls: _propTypes2['default'].string,\r\n    disabledDate: _propTypes2['default'].func,\r\n    placeholder: _propTypes2['default'].string,\r\n    clearText: _propTypes2['default'].string,\r\n    value: _propTypes2['default'].object,\r\n    inputReadOnly: _propTypes2['default'].bool,\r\n    hourOptions: _propTypes2['default'].array,\r\n    minuteOptions: _propTypes2['default'].array,\r\n    secondOptions: _propTypes2['default'].array,\r\n    disabledHours: _propTypes2['default'].func,\r\n    disabledMinutes: _propTypes2['default'].func,\r\n    disabledSeconds: _propTypes2['default'].func,\r\n    onChange: _propTypes2['default'].func,\r\n    onClear: _propTypes2['default'].func,\r\n    onEsc: _propTypes2['default'].func,\r\n    allowEmpty: _propTypes2['default'].bool,\r\n    defaultOpenValue: _propTypes2['default'].object,\r\n    currentSelectPanel: _propTypes2['default'].string,\r\n    focusOnOpen: _propTypes2['default'].bool,\r\n    onKeyDown: _propTypes2['default'].func,\r\n    clearIcon: _propTypes2['default'].node\r\n};\r\nHeader.defaultProps = {\r\n    inputReadOnly: false\r\n};\r\nvar _initialiseProps = function _initialiseProps() {\r\n    var _this3 = this;\r\n    this.onInputChange = function (event) {\r\n        var str = event.target.value;\r\n        _this3.setState({\r\n            str: str\r\n        });\r\n        var _props3 = _this3.props, format = _props3.format, hourOptions = _props3.hourOptions, minuteOptions = _props3.minuteOptions, secondOptions = _props3.secondOptions, disabledHours = _props3.disabledHours, disabledMinutes = _props3.disabledMinutes, disabledSeconds = _props3.disabledSeconds, onChange = _props3.onChange, allowEmpty = _props3.allowEmpty;\r\n        if (str) {\r\n            var originalValue = _this3.props.value;\r\n            var value = _this3.getProtoValue().clone();\r\n            var parsed = (0, _moment2['default'])(str, format, true);\r\n            if (!parsed.isValid()) {\r\n                _this3.setState({\r\n                    invalid: true\r\n                });\r\n                return;\r\n            }\r\n            value.hour(parsed.hour()).minute(parsed.minute()).second(parsed.second());\r\n            if (hourOptions.indexOf(value.hour()) < 0 || minuteOptions.indexOf(value.minute()) < 0 || secondOptions.indexOf(value.second()) < 0) {\r\n                _this3.setState({\r\n                    invalid: true\r\n                });\r\n                return;\r\n            }\r\n            var disabledHourOptions = disabledHours();\r\n            var disabledMinuteOptions = disabledMinutes(value.hour());\r\n            var disabledSecondOptions = disabledSeconds(value.hour(), value.minute());\r\n            if (disabledHourOptions && disabledHourOptions.indexOf(value.hour()) >= 0 || disabledMinuteOptions && disabledMinuteOptions.indexOf(value.minute()) >= 0 || disabledSecondOptions && disabledSecondOptions.indexOf(value.second()) >= 0) {\r\n                _this3.setState({\r\n                    invalid: true\r\n                });\r\n                return;\r\n            }\r\n            if (originalValue) {\r\n                if (originalValue.hour() !== value.hour() || originalValue.minute() !== value.minute() || originalValue.second() !== value.second()) {\r\n                    var changedValue = originalValue.clone();\r\n                    changedValue.hour(value.hour());\r\n                    changedValue.minute(value.minute());\r\n                    changedValue.second(value.second());\r\n                    onChange(changedValue);\r\n                }\r\n            }\r\n            else if (originalValue !== value) {\r\n                onChange(value);\r\n            }\r\n        }\r\n        else if (allowEmpty) {\r\n            onChange(null);\r\n        }\r\n        else {\r\n            _this3.setState({\r\n                invalid: true\r\n            });\r\n            return;\r\n        }\r\n        _this3.setState({\r\n            invalid: false\r\n        });\r\n    };\r\n    this.onKeyDown = function (e) {\r\n        var _props4 = _this3.props, onEsc = _props4.onEsc, onKeyDown = _props4.onKeyDown;\r\n        if (e.keyCode === 27) {\r\n            onEsc();\r\n        }\r\n        onKeyDown(e);\r\n    };\r\n    this.onClear = function () {\r\n        _this3.setState({ str: '' });\r\n        _this3.props.onClear();\r\n    };\r\n};\r\nexports['default'] = Header;\r\nmodule.exports = exports['default'];\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-time-picker\\lib\\Header.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-time-picker\\lib\\Header.js"],"names":[],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar Header = function (_Component) {\n  (0, _inherits3['default'])(Header, _Component);\n\n  function Header(props) {\n    (0, _classCallCheck3['default'])(this, Header);\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, (Header.__proto__ || Object.getPrototypeOf(Header)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var value = props.value,\n        format = props.format;\n\n    _this.state = {\n      str: value && value.format(format) || '',\n      invalid: false\n    };\n    return _this;\n  }\n\n  (0, _createClass3['default'])(Header, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.props.focusOnOpen) {\n        // Wait one frame for the panel to be positioned before focusing\n        var requestAnimationFrame = window.requestAnimationFrame || window.setTimeout;\n        requestAnimationFrame(function () {\n          _this2.refs.input.focus();\n          _this2.refs.input.select();\n        });\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var value = nextProps.value,\n          format = nextProps.format;\n\n      this.setState({\n        str: value && value.format(format) || '',\n        invalid: false\n      });\n    }\n  }, {\n    key: 'getClearButton',\n    value: function getClearButton() {\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          allowEmpty = _props.allowEmpty,\n          clearIcon = _props.clearIcon;\n\n      if (!allowEmpty) {\n        return null;\n      }\n      return _react2['default'].createElement(\n        'a',\n        {\n          role: 'button',\n          className: prefixCls + '-clear-btn',\n          title: this.props.clearText,\n          onMouseDown: this.onClear\n        },\n        clearIcon || _react2['default'].createElement('i', { className: prefixCls + '-clear-btn-icon' })\n      );\n    }\n  }, {\n    key: 'getProtoValue',\n    value: function getProtoValue() {\n      return this.props.value || this.props.defaultOpenValue;\n    }\n  }, {\n    key: 'getInput',\n    value: function getInput() {\n      var _props2 = this.props,\n          prefixCls = _props2.prefixCls,\n          placeholder = _props2.placeholder,\n          inputReadOnly = _props2.inputReadOnly;\n      var _state = this.state,\n          invalid = _state.invalid,\n          str = _state.str;\n\n      var invalidClass = invalid ? prefixCls + '-input-invalid' : '';\n      return _react2['default'].createElement('input', {\n        className: prefixCls + '-input  ' + invalidClass,\n        ref: 'input',\n        onKeyDown: this.onKeyDown,\n        value: str,\n        placeholder: placeholder,\n        onChange: this.onInputChange,\n        readOnly: !!inputReadOnly\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var prefixCls = this.props.prefixCls;\n\n      return _react2['default'].createElement(\n        'div',\n        { className: prefixCls + '-input-wrap' },\n        this.getInput(),\n        this.getClearButton()\n      );\n    }\n  }]);\n  return Header;\n}(_react.Component);\n\nHeader.propTypes = {\n  format: _propTypes2['default'].string,\n  prefixCls: _propTypes2['default'].string,\n  disabledDate: _propTypes2['default'].func,\n  placeholder: _propTypes2['default'].string,\n  clearText: _propTypes2['default'].string,\n  value: _propTypes2['default'].object,\n  inputReadOnly: _propTypes2['default'].bool,\n  hourOptions: _propTypes2['default'].array,\n  minuteOptions: _propTypes2['default'].array,\n  secondOptions: _propTypes2['default'].array,\n  disabledHours: _propTypes2['default'].func,\n  disabledMinutes: _propTypes2['default'].func,\n  disabledSeconds: _propTypes2['default'].func,\n  onChange: _propTypes2['default'].func,\n  onClear: _propTypes2['default'].func,\n  onEsc: _propTypes2['default'].func,\n  allowEmpty: _propTypes2['default'].bool,\n  defaultOpenValue: _propTypes2['default'].object,\n  currentSelectPanel: _propTypes2['default'].string,\n  focusOnOpen: _propTypes2['default'].bool,\n  onKeyDown: _propTypes2['default'].func,\n  clearIcon: _propTypes2['default'].node\n};\nHeader.defaultProps = {\n  inputReadOnly: false\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onInputChange = function (event) {\n    var str = event.target.value;\n    _this3.setState({\n      str: str\n    });\n    var _props3 = _this3.props,\n        format = _props3.format,\n        hourOptions = _props3.hourOptions,\n        minuteOptions = _props3.minuteOptions,\n        secondOptions = _props3.secondOptions,\n        disabledHours = _props3.disabledHours,\n        disabledMinutes = _props3.disabledMinutes,\n        disabledSeconds = _props3.disabledSeconds,\n        onChange = _props3.onChange,\n        allowEmpty = _props3.allowEmpty;\n\n\n    if (str) {\n      var originalValue = _this3.props.value;\n      var value = _this3.getProtoValue().clone();\n      var parsed = (0, _moment2['default'])(str, format, true);\n      if (!parsed.isValid()) {\n        _this3.setState({\n          invalid: true\n        });\n        return;\n      }\n      value.hour(parsed.hour()).minute(parsed.minute()).second(parsed.second());\n\n      // if time value not allowed, response warning.\n      if (hourOptions.indexOf(value.hour()) < 0 || minuteOptions.indexOf(value.minute()) < 0 || secondOptions.indexOf(value.second()) < 0) {\n        _this3.setState({\n          invalid: true\n        });\n        return;\n      }\n\n      // if time value is disabled, response warning.\n      var disabledHourOptions = disabledHours();\n      var disabledMinuteOptions = disabledMinutes(value.hour());\n      var disabledSecondOptions = disabledSeconds(value.hour(), value.minute());\n      if (disabledHourOptions && disabledHourOptions.indexOf(value.hour()) >= 0 || disabledMinuteOptions && disabledMinuteOptions.indexOf(value.minute()) >= 0 || disabledSecondOptions && disabledSecondOptions.indexOf(value.second()) >= 0) {\n        _this3.setState({\n          invalid: true\n        });\n        return;\n      }\n\n      if (originalValue) {\n        if (originalValue.hour() !== value.hour() || originalValue.minute() !== value.minute() || originalValue.second() !== value.second()) {\n          // keep other fields for rc-calendar\n          var changedValue = originalValue.clone();\n          changedValue.hour(value.hour());\n          changedValue.minute(value.minute());\n          changedValue.second(value.second());\n          onChange(changedValue);\n        }\n      } else if (originalValue !== value) {\n        onChange(value);\n      }\n    } else if (allowEmpty) {\n      onChange(null);\n    } else {\n      _this3.setState({\n        invalid: true\n      });\n      return;\n    }\n\n    _this3.setState({\n      invalid: false\n    });\n  };\n\n  this.onKeyDown = function (e) {\n    var _props4 = _this3.props,\n        onEsc = _props4.onEsc,\n        onKeyDown = _props4.onKeyDown;\n\n    if (e.keyCode === 27) {\n      onEsc();\n    }\n\n    onKeyDown(e);\n  };\n\n  this.onClear = function () {\n    _this3.setState({ str: '' });\n    _this3.props.onClear();\n  };\n};\n\nexports['default'] = Header;\nmodule.exports = exports['default'];"]}]}
{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\src\\app\\layouts\\nav\\Header\\index.tsx","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\src\\app\\layouts\\nav\\Header\\index.tsx","mtime":1596379644487},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["var __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport React from \"react\";\r\nimport Dropdown from \"antd/lib/dropdown\";\r\nimport \"antd/lib/dropdown/style/index.js\";\r\nimport Icon from \"antd/lib/icon\";\r\nimport \"antd/lib/icon/style/index.js\";\r\nimport Layout from \"antd/lib/layout\";\r\nimport \"antd/lib/layout/style/index.js\";\r\nimport Menu from \"antd/lib/menu\";\r\nimport \"antd/lib/menu/style/index.js\";\r\nimport Popover from \"antd/lib/popover\";\r\nimport \"antd/lib/popover/style/index.js\";\r\nimport { dropdownMenuStyle, horizontalMenuStyle, MarginedDiv } from \"../../components/utils\";\r\nimport { NavbarUserIndicator } from \"../NavbarUserIndicator\";\r\nimport LanguageSelector from \"../../../components/LanguageSelector\";\r\nimport styled from \"styled-components\";\r\nimport { mainNavs } from \"./mainNavs\";\r\nimport { Inject } from \"react.di\";\r\nimport { RouterStore } from \"../../../routing/RouterStore\";\r\nimport { LocaleMessage } from \"../../../internationalization/components\";\r\nimport { observer } from \"mobx-react\";\r\nimport MediaQuery from \"react-responsive\";\r\nimport SvgImg from \"../../../components/SvgImg\";\r\nimport { NavStore } from \"../NavStore\";\r\nimport { action } from \"mobx\";\r\nimport { layoutConstants } from \"../../components/constants\";\r\nimport HeaderIcon from \"../../components/HeaderIcon\";\r\nvar AntdHeader = Layout.Header;\r\nexport var Head = styled(AntdHeader).withConfig({ displayName: \"Head\" })(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    height: \", \"px;\\n    //background: #405AB9;\\n    padding: 4px;\\n\\n\"], [\"\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    height: \", \"px;\\n    //background: #405AB9;\\n    padding: 4px;\\n\\n\"])), layoutConstants.headerHeight);\r\nexport var ColoredLanguageSelector = styled(LanguageSelector).withConfig({ displayName: \"ColoredLanguageSelector\" })(templateObject_2 || (templateObject_2 = __makeTemplateObject([\"\\ncolor: \", \";\\n\"], [\"\\ncolor: \", \";\\n\"])), layoutConstants.headerIconColor);\r\nexport function HeaderNavMenu(_a) {\r\n    var vertical = _a.vertical, selectedKeys = _a.selectedKeys, to = _a.to;\r\n    return React.createElement(Menu, { theme: \"dark\", mode: vertical ? \"vertical\" : \"horizontal\", selectedKeys: selectedKeys, style: vertical ? dropdownMenuStyle : horizontalMenuStyle }, mainNavs.map(function (x) {\r\n        return React.createElement(Menu.Item, { key: x.path, onClick: function () { return to(x.path); } },\r\n            React.createElement(Icon, { type: x.iconName }),\r\n            React.createElement(LocaleMessage, { id: x.id }));\r\n    }));\r\n}\r\nvar LogoContainer = styled(SvgImg).withConfig({ displayName: \"LogoContainer\" })(templateObject_3 || (templateObject_3 = __makeTemplateObject([\"\\n  :hover {\\n    cursor: pointer;\\n  }\\n\"], [\"\\n  :hover {\\n    cursor: pointer;\\n  }\\n\"])));\r\nvar Header = (function (_super) {\r\n    __extends(Header, _super);\r\n    function Header() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.collapse = function () {\r\n            _this.navStore.sidebarCollapsed = !_this.navStore.sidebarCollapsed;\r\n        };\r\n        _this.to = function (path) {\r\n            _this.routerStore.push(path);\r\n        };\r\n        _this.toHome = function () {\r\n            _this.routerStore.push(\"/\");\r\n        };\r\n        return _this;\r\n    }\r\n    Header.prototype.render = function () {\r\n        var _this = this;\r\n        var selectedKeys = mainNavs.filter(function (x) { return x.match(_this.routerStore.path); }).map(function (x) { return x.path; });\r\n        return React.createElement(Head, null,\r\n            React.createElement(MarginedDiv, null,\r\n                this.navStore.hasSider\r\n                    ? React.createElement(\"a\", { onClick: this.collapse },\r\n                        React.createElement(HeaderIcon, { type: this.navStore.sidebarCollapsed ? \"menu-fold\" : \"menu-unfold\" }))\r\n                    : null,\r\n                React.createElement(LogoContainer, { height: layoutConstants.headerHeight * 1.5, width: 130, filePath: \"landscape.svg\", onClick: this.toHome })),\r\n            React.createElement(MarginedDiv, null,\r\n                React.createElement(MediaQuery, { minWidth: layoutConstants.menuBreakpoint }, function (matches) { return matches\r\n                    ? React.createElement(React.Fragment, null,\r\n                        React.createElement(HeaderNavMenu, { vertical: false, selectedKeys: selectedKeys, to: _this.to }),\r\n                        React.createElement(NavbarUserIndicator, null))\r\n                    : React.createElement(React.Fragment, null,\r\n                        React.createElement(NavbarUserIndicator, null),\r\n                        React.createElement(Dropdown, { overlay: React.createElement(HeaderNavMenu, { vertical: true, selectedKeys: selectedKeys, to: _this.to }), trigger: [\"click\"] },\r\n                            React.createElement(HeaderIcon, { type: \"bars\" }))); })));\r\n    };\r\n    var _a, _b;\r\n    __decorate([\r\n        Inject,\r\n        __metadata(\"design:type\", typeof (_a = typeof RouterStore !== \"undefined\" && RouterStore) === \"function\" ? _a : Object)\r\n    ], Header.prototype, \"routerStore\", void 0);\r\n    __decorate([\r\n        Inject,\r\n        __metadata(\"design:type\", typeof (_b = typeof NavStore !== \"undefined\" && NavStore) === \"function\" ? _b : Object)\r\n    ], Header.prototype, \"navStore\", void 0);\r\n    __decorate([\r\n        action,\r\n        __metadata(\"design:type\", Object)\r\n    ], Header.prototype, \"collapse\", void 0);\r\n    Header = __decorate([\r\n        observer\r\n    ], Header);\r\n    return Header;\r\n}(React.Component));\r\nexport { Header };\r\nvar templateObject_1, templateObject_2, templateObject_3;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\src\\app\\layouts\\nav\\Header\\index.tsx","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\src\\app\\layouts\\nav\\Header\\index.tsx"],"names":[],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Dropdown, Icon, Layout, Menu, Popover } from \"antd\";\r\nimport { dropdownMenuStyle, horizontalMenuStyle, MarginedDiv } from \"../../components/utils\";\r\nimport { NavbarUserIndicator } from \"../NavbarUserIndicator\";\r\nimport LanguageSelector from \"../../../components/LanguageSelector\";\r\nimport styled from \"styled-components\";\r\nimport { mainNavs } from \"./mainNavs\";\r\nimport { Inject } from \"react.di\";\r\nimport { RouterStore } from \"../../../routing/RouterStore\";\r\nimport { LocaleMessage } from \"../../../internationalization/components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { observer } from \"mobx-react\";\r\nimport MediaQuery from \"react-responsive\";\r\nimport SvgImg from \"../../../components/SvgImg\";\r\nimport { NavStore } from \"../NavStore\";\r\nimport { action, observable } from \"mobx\";\r\nimport NotificationIndicator from \"../../notification/NotificationIndicator\";\r\nimport { layoutConstants } from \"../../components/constants\";\r\nimport HeaderIcon, { HeaderColoredIcon } from \"../../components/HeaderIcon\";\r\nimport HeaderItemContainer from \"../../components/HeaderItemContainer\";\r\n\r\nconst {Header: AntdHeader} = Layout;\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\nexport const Head = styled(AntdHeader)`\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    height: ${layoutConstants.headerHeight}px;\r\n    //background: #405AB9;\r\n    padding: 4px;\r\n\r\n`;\r\n\r\nexport const ColoredLanguageSelector = styled(LanguageSelector)`\r\ncolor: ${layoutConstants.headerIconColor};\r\n`;\r\n\r\nexport function HeaderNavMenu({vertical, selectedKeys, to}:\r\n                                { vertical: boolean, selectedKeys: string[], to(path: string): void }) {\r\n  return <Menu theme={\"dark\"}\r\n               mode={vertical ? \"vertical\" : \"horizontal\"}\r\n               selectedKeys={selectedKeys}\r\n               style={vertical ? dropdownMenuStyle : horizontalMenuStyle}>\r\n    {mainNavs.map((x) =>\r\n      <Menu.Item\r\n        key={x.path}\r\n        onClick={() => to(x.path)}>\r\n        <Icon type={x.iconName}/>\r\n        <LocaleMessage id={x.id}/>\r\n      </Menu.Item>,\r\n    )}\r\n  </Menu>;\r\n}\r\n\r\nconst LogoContainer = styled(SvgImg)`\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\n@observer\r\nexport class Header extends React.Component<Props, {}> {\r\n\r\n  @Inject routerStore: RouterStore;\r\n  @Inject navStore: NavStore;\r\n\r\n  @action collapse = () => {\r\n    this.navStore.sidebarCollapsed = !this.navStore.sidebarCollapsed;\r\n  }\r\n\r\n  to = (path: string) => {\r\n    this.routerStore.push(path);\r\n  }\r\n\r\n  toHome = () => {\r\n    this.routerStore.push(\"/\");\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    const selectedKeys = mainNavs.filter((x) => x.match(this.routerStore.path)).map((x) => x.path);\r\n\r\n    return <Head>\r\n      <MarginedDiv>\r\n        {this.navStore.hasSider\r\n          ? <a onClick={this.collapse}>\r\n            <HeaderIcon type={this.navStore.sidebarCollapsed ? \"menu-fold\" : \"menu-unfold\"}\r\n            />\r\n          </a>\r\n          : null}\r\n        <LogoContainer height={layoutConstants.headerHeight * 1.5}\r\n                       width={130}\r\n                       filePath={\"landscape.svg\"}\r\n                       onClick={this.toHome}\r\n        />\r\n      </MarginedDiv>\r\n      <MarginedDiv>\r\n        <MediaQuery minWidth={layoutConstants.menuBreakpoint}>\r\n          {(matches) => matches\r\n            ? <>\r\n              <HeaderNavMenu vertical={false} selectedKeys={selectedKeys} to={this.to}/>\r\n\r\n              {/*<ColoredLanguageSelector/>*/}\r\n              <NavbarUserIndicator/>\r\n            </>\r\n            : <>\r\n              {/*<ColoredLanguageSelector/>*/}\r\n              <NavbarUserIndicator/>\r\n\r\n              <Dropdown overlay={<HeaderNavMenu\r\n                vertical={true}\r\n                selectedKeys={selectedKeys}\r\n                to={this.to}\r\n              />}\r\n                trigger={[\"click\"]}\r\n              >\r\n                <HeaderIcon type={\"bars\"}/>\r\n              </Dropdown>\r\n            </>\r\n          }\r\n        </MediaQuery>\r\n      </MarginedDiv>\r\n    </Head>;\r\n  }\r\n}\r\n"]}]}
{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-table\\es\\TableRow.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-table\\es\\TableRow.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\r\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\r\nimport _extends from 'babel-runtime/helpers/extends';\r\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\r\nimport _createClass from 'babel-runtime/helpers/createClass';\r\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\r\nimport _inherits from 'babel-runtime/helpers/inherits';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'mini-store';\r\nimport { polyfill } from 'react-lifecycles-compat';\r\nimport classNames from 'classnames';\r\nimport TableCell from './TableCell';\r\nimport { warningOnce } from './utils';\r\nvar TableRow = function (_React$Component) {\r\n    _inherits(TableRow, _React$Component);\r\n    function TableRow(props) {\r\n        _classCallCheck(this, TableRow);\r\n        var _this = _possibleConstructorReturn(this, (TableRow.__proto__ || Object.getPrototypeOf(TableRow)).call(this, props));\r\n        _this.onRowClick = function (event) {\r\n            var _this$props = _this.props, record = _this$props.record, index = _this$props.index, onRowClick = _this$props.onRowClick;\r\n            if (onRowClick) {\r\n                onRowClick(record, index, event);\r\n            }\r\n        };\r\n        _this.onRowDoubleClick = function (event) {\r\n            var _this$props2 = _this.props, record = _this$props2.record, index = _this$props2.index, onRowDoubleClick = _this$props2.onRowDoubleClick;\r\n            if (onRowDoubleClick) {\r\n                onRowDoubleClick(record, index, event);\r\n            }\r\n        };\r\n        _this.onContextMenu = function (event) {\r\n            var _this$props3 = _this.props, record = _this$props3.record, index = _this$props3.index, onRowContextMenu = _this$props3.onRowContextMenu;\r\n            if (onRowContextMenu) {\r\n                onRowContextMenu(record, index, event);\r\n            }\r\n        };\r\n        _this.onMouseEnter = function (event) {\r\n            var _this$props4 = _this.props, record = _this$props4.record, index = _this$props4.index, onRowMouseEnter = _this$props4.onRowMouseEnter, onHover = _this$props4.onHover, rowKey = _this$props4.rowKey;\r\n            onHover(true, rowKey);\r\n            if (onRowMouseEnter) {\r\n                onRowMouseEnter(record, index, event);\r\n            }\r\n        };\r\n        _this.onMouseLeave = function (event) {\r\n            var _this$props5 = _this.props, record = _this$props5.record, index = _this$props5.index, onRowMouseLeave = _this$props5.onRowMouseLeave, onHover = _this$props5.onHover, rowKey = _this$props5.rowKey;\r\n            onHover(false, rowKey);\r\n            if (onRowMouseLeave) {\r\n                onRowMouseLeave(record, index, event);\r\n            }\r\n        };\r\n        _this.shouldRender = props.visible;\r\n        _this.state = {};\r\n        return _this;\r\n    }\r\n    _createClass(TableRow, [{\r\n            key: 'componentDidMount',\r\n            value: function componentDidMount() {\r\n                if (this.state.shouldRender) {\r\n                    this.saveRowRef();\r\n                }\r\n            }\r\n        }, {\r\n            key: 'shouldComponentUpdate',\r\n            value: function shouldComponentUpdate(nextProps) {\r\n                return !!(this.props.visible || nextProps.visible);\r\n            }\r\n        }, {\r\n            key: 'componentDidUpdate',\r\n            value: function componentDidUpdate() {\r\n                if (this.state.shouldRender && !this.rowRef) {\r\n                    this.saveRowRef();\r\n                }\r\n            }\r\n        }, {\r\n            key: 'setExpanedRowHeight',\r\n            value: function setExpanedRowHeight() {\r\n                var _props = this.props, store = _props.store, rowKey = _props.rowKey;\r\n                var _store$getState = store.getState(), expandedRowsHeight = _store$getState.expandedRowsHeight;\r\n                var height = this.rowRef.getBoundingClientRect().height;\r\n                expandedRowsHeight = _extends({}, expandedRowsHeight, _defineProperty({}, rowKey, height));\r\n                store.setState({ expandedRowsHeight: expandedRowsHeight });\r\n            }\r\n        }, {\r\n            key: 'setRowHeight',\r\n            value: function setRowHeight() {\r\n                var _props2 = this.props, store = _props2.store, rowKey = _props2.rowKey;\r\n                var _store$getState2 = store.getState(), fixedColumnsBodyRowsHeight = _store$getState2.fixedColumnsBodyRowsHeight;\r\n                var height = this.rowRef.getBoundingClientRect().height;\r\n                store.setState({\r\n                    fixedColumnsBodyRowsHeight: _extends({}, fixedColumnsBodyRowsHeight, _defineProperty({}, rowKey, height))\r\n                });\r\n            }\r\n        }, {\r\n            key: 'getStyle',\r\n            value: function getStyle() {\r\n                var _props3 = this.props, height = _props3.height, visible = _props3.visible;\r\n                if (height && height !== this.style.height) {\r\n                    this.style = _extends({}, this.style, { height: height });\r\n                }\r\n                if (!visible && !this.style.display) {\r\n                    this.style = _extends({}, this.style, { display: 'none' });\r\n                }\r\n                return this.style;\r\n            }\r\n        }, {\r\n            key: 'saveRowRef',\r\n            value: function saveRowRef() {\r\n                this.rowRef = ReactDOM.findDOMNode(this);\r\n                var _props4 = this.props, isAnyColumnsFixed = _props4.isAnyColumnsFixed, fixed = _props4.fixed, expandedRow = _props4.expandedRow, ancestorKeys = _props4.ancestorKeys;\r\n                if (!isAnyColumnsFixed) {\r\n                    return;\r\n                }\r\n                if (!fixed && expandedRow) {\r\n                    this.setExpanedRowHeight();\r\n                }\r\n                if (!fixed && ancestorKeys.length >= 0) {\r\n                    this.setRowHeight();\r\n                }\r\n            }\r\n        }, {\r\n            key: 'render',\r\n            value: function render() {\r\n                if (!this.state.shouldRender) {\r\n                    return null;\r\n                }\r\n                var _props5 = this.props, prefixCls = _props5.prefixCls, columns = _props5.columns, record = _props5.record, rowKey = _props5.rowKey, index = _props5.index, onRow = _props5.onRow, indent = _props5.indent, indentSize = _props5.indentSize, hovered = _props5.hovered, height = _props5.height, visible = _props5.visible, components = _props5.components, hasExpandIcon = _props5.hasExpandIcon, renderExpandIcon = _props5.renderExpandIcon, renderExpandIconCell = _props5.renderExpandIconCell;\r\n                var BodyRow = components.body.row;\r\n                var BodyCell = components.body.cell;\r\n                var className = this.props.className;\r\n                if (hovered) {\r\n                    className += ' ' + prefixCls + '-hover';\r\n                }\r\n                var cells = [];\r\n                renderExpandIconCell(cells);\r\n                for (var i = 0; i < columns.length; i++) {\r\n                    var column = columns[i];\r\n                    warningOnce(column.onCellClick === undefined, 'column[onCellClick] is deprecated, please use column[onCell] instead.');\r\n                    cells.push(React.createElement(TableCell, {\r\n                        prefixCls: prefixCls,\r\n                        record: record,\r\n                        indentSize: indentSize,\r\n                        indent: indent,\r\n                        index: index,\r\n                        column: column,\r\n                        key: column.key || column.dataIndex,\r\n                        expandIcon: hasExpandIcon(i) && renderExpandIcon(),\r\n                        component: BodyCell\r\n                    }));\r\n                }\r\n                var _ref = onRow(record, index) || {}, customClassName = _ref.className, customStyle = _ref.style, rowProps = _objectWithoutProperties(_ref, ['className', 'style']);\r\n                var style = { height: height };\r\n                if (!visible) {\r\n                    style.display = 'none';\r\n                }\r\n                style = _extends({}, style, customStyle);\r\n                var rowClassName = classNames(prefixCls, className, prefixCls + '-level-' + indent, customClassName);\r\n                return React.createElement(BodyRow, _extends({\r\n                    onClick: this.onRowClick,\r\n                    onDoubleClick: this.onRowDoubleClick,\r\n                    onMouseEnter: this.onMouseEnter,\r\n                    onMouseLeave: this.onMouseLeave,\r\n                    onContextMenu: this.onContextMenu\r\n                }, rowProps, {\r\n                    className: rowClassName,\r\n                    style: style,\r\n                    'data-row-key': rowKey\r\n                }), cells);\r\n            }\r\n        }], [{\r\n            key: 'getDerivedStateFromProps',\r\n            value: function getDerivedStateFromProps(nextProps, prevState) {\r\n                if (prevState.visible || !prevState.visible && nextProps.visible) {\r\n                    return {\r\n                        shouldRender: true,\r\n                        visible: nextProps.visible\r\n                    };\r\n                }\r\n                return {\r\n                    visible: nextProps.visible\r\n                };\r\n            }\r\n        }]);\r\n    return TableRow;\r\n}(React.Component);\r\nTableRow.propTypes = {\r\n    onRow: PropTypes.func,\r\n    onRowClick: PropTypes.func,\r\n    onRowDoubleClick: PropTypes.func,\r\n    onRowContextMenu: PropTypes.func,\r\n    onRowMouseEnter: PropTypes.func,\r\n    onRowMouseLeave: PropTypes.func,\r\n    record: PropTypes.object,\r\n    prefixCls: PropTypes.string,\r\n    onHover: PropTypes.func,\r\n    columns: PropTypes.array,\r\n    height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n    index: PropTypes.number,\r\n    rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\r\n    className: PropTypes.string,\r\n    indent: PropTypes.number,\r\n    indentSize: PropTypes.number,\r\n    hasExpandIcon: PropTypes.func,\r\n    hovered: PropTypes.bool.isRequired,\r\n    visible: PropTypes.bool.isRequired,\r\n    store: PropTypes.object.isRequired,\r\n    fixed: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\r\n    renderExpandIcon: PropTypes.func,\r\n    renderExpandIconCell: PropTypes.func,\r\n    components: PropTypes.any,\r\n    expandedRow: PropTypes.bool,\r\n    isAnyColumnsFixed: PropTypes.bool,\r\n    ancestorKeys: PropTypes.array.isRequired\r\n};\r\nTableRow.defaultProps = {\r\n    onRow: function onRow() { },\r\n    onHover: function onHover() { },\r\n    hasExpandIcon: function hasExpandIcon() { },\r\n    renderExpandIcon: function renderExpandIcon() { },\r\n    renderExpandIconCell: function renderExpandIconCell() { }\r\n};\r\nfunction getRowHeight(state, props) {\r\n    var expandedRowsHeight = state.expandedRowsHeight, fixedColumnsBodyRowsHeight = state.fixedColumnsBodyRowsHeight;\r\n    var fixed = props.fixed, rowKey = props.rowKey;\r\n    if (!fixed) {\r\n        return null;\r\n    }\r\n    if (expandedRowsHeight[rowKey]) {\r\n        return expandedRowsHeight[rowKey];\r\n    }\r\n    if (fixedColumnsBodyRowsHeight[rowKey]) {\r\n        return fixedColumnsBodyRowsHeight[rowKey];\r\n    }\r\n    return null;\r\n}\r\npolyfill(TableRow);\r\nexport default connect(function (state, props) {\r\n    var currentHoverKey = state.currentHoverKey, expandedRowKeys = state.expandedRowKeys;\r\n    var rowKey = props.rowKey, ancestorKeys = props.ancestorKeys;\r\n    var visible = ancestorKeys.length === 0 || ancestorKeys.every(function (k) {\r\n        return ~expandedRowKeys.indexOf(k);\r\n    });\r\n    return {\r\n        visible: visible,\r\n        hovered: currentHoverKey === rowKey,\r\n        height: getRowHeight(state, props)\r\n    };\r\n})(TableRow);\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-table\\es\\TableRow.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\rc-table\\es\\TableRow.js"],"names":[],"mappings":"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","sourcesContent":["import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _defineProperty from 'babel-runtime/helpers/defineProperty';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'mini-store';\nimport { polyfill } from 'react-lifecycles-compat';\nimport classNames from 'classnames';\nimport TableCell from './TableCell';\nimport { warningOnce } from './utils';\n\nvar TableRow = function (_React$Component) {\n  _inherits(TableRow, _React$Component);\n\n  function TableRow(props) {\n    _classCallCheck(this, TableRow);\n\n    var _this = _possibleConstructorReturn(this, (TableRow.__proto__ || Object.getPrototypeOf(TableRow)).call(this, props));\n\n    _this.onRowClick = function (event) {\n      var _this$props = _this.props,\n          record = _this$props.record,\n          index = _this$props.index,\n          onRowClick = _this$props.onRowClick;\n\n      if (onRowClick) {\n        onRowClick(record, index, event);\n      }\n    };\n\n    _this.onRowDoubleClick = function (event) {\n      var _this$props2 = _this.props,\n          record = _this$props2.record,\n          index = _this$props2.index,\n          onRowDoubleClick = _this$props2.onRowDoubleClick;\n\n      if (onRowDoubleClick) {\n        onRowDoubleClick(record, index, event);\n      }\n    };\n\n    _this.onContextMenu = function (event) {\n      var _this$props3 = _this.props,\n          record = _this$props3.record,\n          index = _this$props3.index,\n          onRowContextMenu = _this$props3.onRowContextMenu;\n\n      if (onRowContextMenu) {\n        onRowContextMenu(record, index, event);\n      }\n    };\n\n    _this.onMouseEnter = function (event) {\n      var _this$props4 = _this.props,\n          record = _this$props4.record,\n          index = _this$props4.index,\n          onRowMouseEnter = _this$props4.onRowMouseEnter,\n          onHover = _this$props4.onHover,\n          rowKey = _this$props4.rowKey;\n\n      onHover(true, rowKey);\n      if (onRowMouseEnter) {\n        onRowMouseEnter(record, index, event);\n      }\n    };\n\n    _this.onMouseLeave = function (event) {\n      var _this$props5 = _this.props,\n          record = _this$props5.record,\n          index = _this$props5.index,\n          onRowMouseLeave = _this$props5.onRowMouseLeave,\n          onHover = _this$props5.onHover,\n          rowKey = _this$props5.rowKey;\n\n      onHover(false, rowKey);\n      if (onRowMouseLeave) {\n        onRowMouseLeave(record, index, event);\n      }\n    };\n\n    _this.shouldRender = props.visible;\n\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(TableRow, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.state.shouldRender) {\n        this.saveRowRef();\n      }\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      return !!(this.props.visible || nextProps.visible);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.state.shouldRender && !this.rowRef) {\n        this.saveRowRef();\n      }\n    }\n  }, {\n    key: 'setExpanedRowHeight',\n    value: function setExpanedRowHeight() {\n      var _props = this.props,\n          store = _props.store,\n          rowKey = _props.rowKey;\n\n      var _store$getState = store.getState(),\n          expandedRowsHeight = _store$getState.expandedRowsHeight;\n\n      var height = this.rowRef.getBoundingClientRect().height;\n      expandedRowsHeight = _extends({}, expandedRowsHeight, _defineProperty({}, rowKey, height));\n      store.setState({ expandedRowsHeight: expandedRowsHeight });\n    }\n  }, {\n    key: 'setRowHeight',\n    value: function setRowHeight() {\n      var _props2 = this.props,\n          store = _props2.store,\n          rowKey = _props2.rowKey;\n\n      var _store$getState2 = store.getState(),\n          fixedColumnsBodyRowsHeight = _store$getState2.fixedColumnsBodyRowsHeight;\n\n      var height = this.rowRef.getBoundingClientRect().height;\n      store.setState({\n        fixedColumnsBodyRowsHeight: _extends({}, fixedColumnsBodyRowsHeight, _defineProperty({}, rowKey, height))\n      });\n    }\n  }, {\n    key: 'getStyle',\n    value: function getStyle() {\n      var _props3 = this.props,\n          height = _props3.height,\n          visible = _props3.visible;\n\n\n      if (height && height !== this.style.height) {\n        this.style = _extends({}, this.style, { height: height });\n      }\n\n      if (!visible && !this.style.display) {\n        this.style = _extends({}, this.style, { display: 'none' });\n      }\n\n      return this.style;\n    }\n  }, {\n    key: 'saveRowRef',\n    value: function saveRowRef() {\n      this.rowRef = ReactDOM.findDOMNode(this);\n\n      var _props4 = this.props,\n          isAnyColumnsFixed = _props4.isAnyColumnsFixed,\n          fixed = _props4.fixed,\n          expandedRow = _props4.expandedRow,\n          ancestorKeys = _props4.ancestorKeys;\n\n\n      if (!isAnyColumnsFixed) {\n        return;\n      }\n\n      if (!fixed && expandedRow) {\n        this.setExpanedRowHeight();\n      }\n\n      if (!fixed && ancestorKeys.length >= 0) {\n        this.setRowHeight();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!this.state.shouldRender) {\n        return null;\n      }\n\n      var _props5 = this.props,\n          prefixCls = _props5.prefixCls,\n          columns = _props5.columns,\n          record = _props5.record,\n          rowKey = _props5.rowKey,\n          index = _props5.index,\n          onRow = _props5.onRow,\n          indent = _props5.indent,\n          indentSize = _props5.indentSize,\n          hovered = _props5.hovered,\n          height = _props5.height,\n          visible = _props5.visible,\n          components = _props5.components,\n          hasExpandIcon = _props5.hasExpandIcon,\n          renderExpandIcon = _props5.renderExpandIcon,\n          renderExpandIconCell = _props5.renderExpandIconCell;\n\n\n      var BodyRow = components.body.row;\n      var BodyCell = components.body.cell;\n\n      var className = this.props.className;\n\n\n      if (hovered) {\n        className += ' ' + prefixCls + '-hover';\n      }\n\n      var cells = [];\n\n      renderExpandIconCell(cells);\n\n      for (var i = 0; i < columns.length; i++) {\n        var column = columns[i];\n\n        warningOnce(column.onCellClick === undefined, 'column[onCellClick] is deprecated, please use column[onCell] instead.');\n\n        cells.push(React.createElement(TableCell, {\n          prefixCls: prefixCls,\n          record: record,\n          indentSize: indentSize,\n          indent: indent,\n          index: index,\n          column: column,\n          key: column.key || column.dataIndex,\n          expandIcon: hasExpandIcon(i) && renderExpandIcon(),\n          component: BodyCell\n        }));\n      }\n\n      var _ref = onRow(record, index) || {},\n          customClassName = _ref.className,\n          customStyle = _ref.style,\n          rowProps = _objectWithoutProperties(_ref, ['className', 'style']);\n\n      var style = { height: height };\n\n      if (!visible) {\n        style.display = 'none';\n      }\n\n      style = _extends({}, style, customStyle);\n\n      var rowClassName = classNames(prefixCls, className, prefixCls + '-level-' + indent, customClassName);\n\n      return React.createElement(\n        BodyRow,\n        _extends({\n          onClick: this.onRowClick,\n          onDoubleClick: this.onRowDoubleClick,\n          onMouseEnter: this.onMouseEnter,\n          onMouseLeave: this.onMouseLeave,\n          onContextMenu: this.onContextMenu\n        }, rowProps, {\n          className: rowClassName,\n          style: style,\n          'data-row-key': rowKey\n        }),\n        cells\n      );\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (prevState.visible || !prevState.visible && nextProps.visible) {\n        return {\n          shouldRender: true,\n          visible: nextProps.visible\n        };\n      }\n      return {\n        visible: nextProps.visible\n      };\n    }\n  }]);\n\n  return TableRow;\n}(React.Component);\n\nTableRow.propTypes = {\n  onRow: PropTypes.func,\n  onRowClick: PropTypes.func,\n  onRowDoubleClick: PropTypes.func,\n  onRowContextMenu: PropTypes.func,\n  onRowMouseEnter: PropTypes.func,\n  onRowMouseLeave: PropTypes.func,\n  record: PropTypes.object,\n  prefixCls: PropTypes.string,\n  onHover: PropTypes.func,\n  columns: PropTypes.array,\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  index: PropTypes.number,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  className: PropTypes.string,\n  indent: PropTypes.number,\n  indentSize: PropTypes.number,\n  hasExpandIcon: PropTypes.func,\n  hovered: PropTypes.bool.isRequired,\n  visible: PropTypes.bool.isRequired,\n  store: PropTypes.object.isRequired,\n  fixed: PropTypes.oneOfType([PropTypes.string, PropTypes.bool]),\n  renderExpandIcon: PropTypes.func,\n  renderExpandIconCell: PropTypes.func,\n  components: PropTypes.any,\n  expandedRow: PropTypes.bool,\n  isAnyColumnsFixed: PropTypes.bool,\n  ancestorKeys: PropTypes.array.isRequired\n};\nTableRow.defaultProps = {\n  onRow: function onRow() {},\n  onHover: function onHover() {},\n  hasExpandIcon: function hasExpandIcon() {},\n  renderExpandIcon: function renderExpandIcon() {},\n  renderExpandIconCell: function renderExpandIconCell() {}\n};\n\n\nfunction getRowHeight(state, props) {\n  var expandedRowsHeight = state.expandedRowsHeight,\n      fixedColumnsBodyRowsHeight = state.fixedColumnsBodyRowsHeight;\n  var fixed = props.fixed,\n      rowKey = props.rowKey;\n\n\n  if (!fixed) {\n    return null;\n  }\n\n  if (expandedRowsHeight[rowKey]) {\n    return expandedRowsHeight[rowKey];\n  }\n\n  if (fixedColumnsBodyRowsHeight[rowKey]) {\n    return fixedColumnsBodyRowsHeight[rowKey];\n  }\n\n  return null;\n}\n\npolyfill(TableRow);\n\nexport default connect(function (state, props) {\n  var currentHoverKey = state.currentHoverKey,\n      expandedRowKeys = state.expandedRowKeys;\n  var rowKey = props.rowKey,\n      ancestorKeys = props.ancestorKeys;\n\n  var visible = ancestorKeys.length === 0 || ancestorKeys.every(function (k) {\n    return ~expandedRowKeys.indexOf(k);\n  });\n\n  return {\n    visible: visible,\n    hovered: currentHoverKey === rowKey,\n    height: getRowHeight(state, props)\n  };\n})(TableRow);"]}]}
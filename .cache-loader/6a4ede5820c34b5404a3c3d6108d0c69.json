{"remainingRequest":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js??ref--4-1!/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/facet/list.js","dependencies":[{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/facet/list.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\nvar Base = require('./base');\nvar List = function (_Base) {\n    _inheritsLoose(List, _Base);\n    function List() {\n        return _Base.apply(this, arguments) || this;\n    }\n    var _proto = List.prototype;\n    _proto.getDefaultCfg = function getDefaultCfg() {\n        var cfg = _Base.prototype.getDefaultCfg.call(this);\n        cfg.type = 'list';\n        cfg.cols = null;\n        return cfg;\n    };\n    _proto.generateFacets = function generateFacets(data) {\n        var self = this;\n        var fields = self.fields;\n        var colField = fields[0];\n        if (!colField) {\n            throw 'Please specify for the field for facet!';\n        }\n        var colValues = self.getFieldValues(colField, data);\n        var count = colValues.length;\n        var cols = self.cols || count;\n        var rows = parseInt((count + cols - 1) / cols);\n        var rst = [];\n        colValues.forEach(function (xVal, index) {\n            var row = parseInt(index / cols);\n            var col = index % cols;\n            var conditions = [{\n                    field: colField,\n                    value: xVal,\n                    values: colValues\n                }];\n            var filter = self.getFilter(conditions);\n            var subData = data.filter(filter);\n            var facet = {\n                type: self.type,\n                count: count,\n                colValue: xVal,\n                colField: colField,\n                rowField: null,\n                rowValue: xVal,\n                colIndex: col,\n                rowIndex: row,\n                cols: cols,\n                rows: rows,\n                data: subData,\n                region: self.getRegion(rows, cols, col, row)\n            };\n            rst.push(facet);\n        });\n        return rst;\n    };\n    _proto.setXAxis = function setXAxis(xField, axes, facet) {\n        if (facet.rowIndex !== facet.rows - 1 && facet.cols * facet.rowIndex + facet.colIndex + 1 + facet.cols <= facet.count) {\n            axes[xField].label = null;\n            axes[xField].title = null;\n        }\n    };\n    _proto.setYAxis = function setYAxis(yField, axes, facet) {\n        if (facet.colIndex !== 0) {\n            axes[yField].title = null;\n            axes[yField].label = null;\n        }\n    };\n    return List;\n}(Base);\nmodule.exports = List;\n",{"version":3,"file":"/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/facet/list.js","sourceRoot":"","sources":["/run/media/williamyh/新加卷/project/Deecamp-project/system/Web/node_modules/bizcharts/node_modules/@antv/g2/lib/facet/list.js"],"names":[],"mappings":"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","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/**\n * @fileOverview list facets, support cols\n */\nvar Base = require('./base');\n/**\n * 用于生成分面的类\n * @class Facets.List\n */\n\n\nvar List = /*#__PURE__*/function (_Base) {\n  _inheritsLoose(List, _Base);\n\n  function List() {\n    return _Base.apply(this, arguments) || this;\n  }\n\n  var _proto = List.prototype;\n\n  _proto.getDefaultCfg = function getDefaultCfg() {\n    var cfg = _Base.prototype.getDefaultCfg.call(this);\n\n    cfg.type = 'list';\n    cfg.cols = null; // 用户不设置时就显示一行\n\n    return cfg;\n  };\n\n  _proto.generateFacets = function generateFacets(data) {\n    var self = this;\n    var fields = self.fields;\n    var colField = fields[0];\n\n    if (!colField) {\n      throw 'Please specify for the field for facet!';\n    }\n\n    var colValues = self.getFieldValues(colField, data);\n    var count = colValues.length;\n    var cols = self.cols || count;\n    var rows = parseInt((count + cols - 1) / cols);\n    var rst = [];\n    colValues.forEach(function (xVal, index) {\n      var row = parseInt(index / cols);\n      var col = index % cols;\n      var conditions = [{\n        field: colField,\n        value: xVal,\n        values: colValues\n      }];\n      var filter = self.getFilter(conditions);\n      var subData = data.filter(filter);\n      var facet = {\n        type: self.type,\n        count: count,\n        colValue: xVal,\n        colField: colField,\n        rowField: null,\n        rowValue: xVal,\n        colIndex: col,\n        rowIndex: row,\n        cols: cols,\n        rows: rows,\n        data: subData,\n        region: self.getRegion(rows, cols, col, row)\n      };\n      rst.push(facet);\n    });\n    return rst;\n  } // 设置 x 坐标轴的文本、title 是否显示\n  ;\n\n  _proto.setXAxis = function setXAxis(xField, axes, facet) {\n    // 当是最后一行或者下面没有 view 时文本不显示\n    if (facet.rowIndex !== facet.rows - 1 && facet.cols * facet.rowIndex + facet.colIndex + 1 + facet.cols <= facet.count) {\n      axes[xField].label = null;\n      axes[xField].title = null;\n    }\n  } // 设置 y 坐标轴的文本、title 是否显示\n  ;\n\n  _proto.setYAxis = function setYAxis(yField, axes, facet) {\n    if (facet.colIndex !== 0) {\n      axes[yField].title = null;\n      axes[yField].label = null;\n    }\n  };\n\n  return List;\n}(Base);\n\nmodule.exports = List;"]}]}
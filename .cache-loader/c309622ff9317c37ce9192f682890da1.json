{"remainingRequest":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js??ref--4-1!D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\hierarchy\\lib\\layout\\hierarchy.js","dependencies":[{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\hierarchy\\lib\\layout\\hierarchy.js","mtime":499162500000},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1595520254649},{"path":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\ts-loader\\index.js","mtime":1537906253000}],"contextDependencies":[],"result":["var util = require('../util');\r\nvar PEM = 18;\r\nvar DEFAULT_HEIGHT = PEM * 2;\r\nvar DEFAULT_GAP = PEM;\r\nvar DEFAULT_OPTIONS = {\r\n    getId: function getId(d) {\r\n        return d.id || d.name;\r\n    },\r\n    getHGap: function getHGap(d) {\r\n        return d.hgap || DEFAULT_GAP;\r\n    },\r\n    getVGap: function getVGap(d) {\r\n        return d.vgap || DEFAULT_GAP;\r\n    },\r\n    getChildren: function getChildren(d) {\r\n        return d.children;\r\n    },\r\n    getHeight: function getHeight(d) {\r\n        return d.height || DEFAULT_HEIGHT;\r\n    },\r\n    getWidth: function getWidth(d) {\r\n        var name = d.name || ' ';\r\n        return d.width || name.split('').length * PEM;\r\n    }\r\n};\r\nfunction Node(data, options) {\r\n    var me = this;\r\n    me.vgap = me.hgap = 0;\r\n    if (data instanceof Node)\r\n        return data;\r\n    me.data = data;\r\n    var hgap = options.getHGap(data);\r\n    var vgap = options.getVGap(data);\r\n    me.width = options.getWidth(data);\r\n    me.height = options.getHeight(data);\r\n    me.id = options.getId(data);\r\n    me.x = me.y = 0;\r\n    me.depth = 0;\r\n    if (!me.children) {\r\n        me.children = [];\r\n    }\r\n    me.addGap(hgap, vgap);\r\n    return me;\r\n}\r\nutil.assign(Node.prototype, {\r\n    isRoot: function isRoot() {\r\n        return this.depth === 0;\r\n    },\r\n    isLeaf: function isLeaf() {\r\n        return this.children.length === 0;\r\n    },\r\n    addGap: function addGap(hgap, vgap) {\r\n        var me = this;\r\n        me.hgap += hgap;\r\n        me.vgap += vgap;\r\n        me.width += 2 * hgap;\r\n        me.height += 2 * vgap;\r\n    },\r\n    eachNode: function eachNode(callback) {\r\n        var me = this;\r\n        var nodes = [me];\r\n        var current;\r\n        while (current = nodes.pop()) {\r\n            callback(current);\r\n            nodes = nodes.concat(current.children);\r\n        }\r\n    },\r\n    DFTraverse: function DFTraverse(callback) {\r\n        this.eachNode(callback);\r\n    },\r\n    BFTraverse: function BFTraverse(callback) {\r\n        var me = this;\r\n        var nodes = [me];\r\n        var current;\r\n        while (current = nodes.shift()) {\r\n            callback(current);\r\n            nodes = nodes.concat(current.children);\r\n        }\r\n    },\r\n    getBoundingBox: function getBoundingBox() {\r\n        var bb = {\r\n            left: Number.MAX_VALUE,\r\n            top: Number.MAX_VALUE,\r\n            width: 0,\r\n            height: 0\r\n        };\r\n        this.eachNode(function (node) {\r\n            bb.left = Math.min(bb.left, node.x);\r\n            bb.top = Math.min(bb.top, node.y);\r\n            bb.width = Math.max(bb.width, node.x + node.width);\r\n            bb.height = Math.max(bb.height, node.y + node.height);\r\n        });\r\n        return bb;\r\n    },\r\n    translate: function translate(tx, ty) {\r\n        if (tx === void 0) {\r\n            tx = 0;\r\n        }\r\n        if (ty === void 0) {\r\n            ty = 0;\r\n        }\r\n        this.eachNode(function (node) {\r\n            node.x += tx;\r\n            node.y += ty;\r\n        });\r\n    },\r\n    right2left: function right2left() {\r\n        var me = this;\r\n        var bb = me.getBoundingBox();\r\n        me.eachNode(function (node) {\r\n            node.x = node.x - (node.x - bb.left) * 2 - node.width;\r\n        });\r\n        me.translate(bb.width, 0);\r\n    },\r\n    bottom2top: function bottom2top() {\r\n        var me = this;\r\n        var bb = me.getBoundingBox();\r\n        me.eachNode(function (node) {\r\n            node.y = node.y - (node.y - bb.top) * 2 - node.height;\r\n        });\r\n        me.translate(0, bb.height);\r\n    }\r\n});\r\nfunction hierarchy(data, options, isolated) {\r\n    if (options === void 0) {\r\n        options = {};\r\n    }\r\n    options = util.assign({}, DEFAULT_OPTIONS, options);\r\n    var root = new Node(data, options);\r\n    var nodes = [root];\r\n    var node;\r\n    if (!isolated && !data.collapsed) {\r\n        while (node = nodes.pop()) {\r\n            if (!node.data.collapsed) {\r\n                var children = options.getChildren(node.data);\r\n                var length = children ? children.length : 0;\r\n                node.children = new Array(length);\r\n                if (children && length) {\r\n                    for (var i = 0; i < length; i++) {\r\n                        var child = new Node(children[i], options);\r\n                        node.children[i] = child;\r\n                        nodes.push(child);\r\n                        child.parent = node;\r\n                        child.depth = node.depth + 1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return root;\r\n}\r\nmodule.exports = hierarchy;\r\n",{"version":3,"file":"D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\hierarchy\\lib\\layout\\hierarchy.js","sourceRoot":"","sources":["D:\\project\\Deecamp-project\\system\\Web\\node_modules\\@antv\\hierarchy\\lib\\layout\\hierarchy.js"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable no-cond-assign */\nvar util = require('../util');\n\nvar PEM = 18;\nvar DEFAULT_HEIGHT = PEM * 2;\nvar DEFAULT_GAP = PEM;\nvar DEFAULT_OPTIONS = {\n  getId: function getId(d) {\n    return d.id || d.name;\n  },\n  getHGap: function getHGap(d) {\n    return d.hgap || DEFAULT_GAP;\n  },\n  getVGap: function getVGap(d) {\n    return d.vgap || DEFAULT_GAP;\n  },\n  getChildren: function getChildren(d) {\n    return d.children;\n  },\n  getHeight: function getHeight(d) {\n    return d.height || DEFAULT_HEIGHT;\n  },\n  getWidth: function getWidth(d) {\n    var name = d.name || ' ';\n    return d.width || name.split('').length * PEM; // FIXME DO NOT get width like this\n  }\n};\n\nfunction Node(data, options) {\n  var me = this;\n  me.vgap = me.hgap = 0;\n  if (data instanceof Node) return data;\n  me.data = data;\n  /*\n   * Gaps: filling space between nodes\n   * (x, y) ----------------------\n   * |            vgap            |\n   * |    --------------------    h\n   * | h |                    |   e\n   * | g |                    |   i\n   * | a |                    |   g\n   * | p |                    |   h\n   * |   ---------------------    t\n   * |                            |\n   *  -----------width------------\n   */\n\n  var hgap = options.getHGap(data);\n  var vgap = options.getVGap(data);\n  me.width = options.getWidth(data);\n  me.height = options.getHeight(data);\n  me.id = options.getId(data);\n  me.x = me.y = 0;\n  me.depth = 0;\n\n  if (!me.children) {\n    me.children = [];\n  }\n\n  me.addGap(hgap, vgap);\n  return me;\n}\n\nutil.assign(Node.prototype, {\n  isRoot: function isRoot() {\n    return this.depth === 0;\n  },\n  isLeaf: function isLeaf() {\n    return this.children.length === 0;\n  },\n  addGap: function addGap(hgap, vgap) {\n    var me = this;\n    me.hgap += hgap;\n    me.vgap += vgap;\n    me.width += 2 * hgap;\n    me.height += 2 * vgap;\n  },\n  eachNode: function eachNode(callback) {\n    // Depth First traverse\n    var me = this;\n    var nodes = [me];\n    var current;\n\n    while (current = nodes.pop()) {\n      callback(current);\n      nodes = nodes.concat(current.children);\n    }\n  },\n  DFTraverse: function DFTraverse(callback) {\n    // Depth First traverse\n    this.eachNode(callback);\n  },\n  BFTraverse: function BFTraverse(callback) {\n    // Breadth First traverse\n    var me = this;\n    var nodes = [me];\n    var current;\n\n    while (current = nodes.shift()) {\n      callback(current);\n      nodes = nodes.concat(current.children);\n    }\n  },\n  getBoundingBox: function getBoundingBox() {\n    // BBox for just one tree node\n    var bb = {\n      left: Number.MAX_VALUE,\n      top: Number.MAX_VALUE,\n      width: 0,\n      height: 0\n    };\n    this.eachNode(function (node) {\n      bb.left = Math.min(bb.left, node.x);\n      bb.top = Math.min(bb.top, node.y);\n      bb.width = Math.max(bb.width, node.x + node.width);\n      bb.height = Math.max(bb.height, node.y + node.height);\n    });\n    return bb;\n  },\n  // translate\n  translate: function translate(tx, ty) {\n    if (tx === void 0) {\n      tx = 0;\n    }\n\n    if (ty === void 0) {\n      ty = 0;\n    }\n\n    this.eachNode(function (node) {\n      node.x += tx;\n      node.y += ty;\n    });\n  },\n  right2left: function right2left() {\n    var me = this;\n    var bb = me.getBoundingBox();\n    me.eachNode(function (node) {\n      node.x = node.x - (node.x - bb.left) * 2 - node.width; // node.x = - node.x;\n    });\n    me.translate(bb.width, 0);\n  },\n  bottom2top: function bottom2top() {\n    var me = this;\n    var bb = me.getBoundingBox();\n    me.eachNode(function (node) {\n      node.y = node.y - (node.y - bb.top) * 2 - node.height; // node.y = - node.y;\n    });\n    me.translate(0, bb.height);\n  }\n});\n\nfunction hierarchy(data, options, isolated) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  options = util.assign({}, DEFAULT_OPTIONS, options);\n  var root = new Node(data, options);\n  var nodes = [root];\n  var node;\n\n  if (!isolated && !data.collapsed) {\n    while (node = nodes.pop()) {\n      if (!node.data.collapsed) {\n        var children = options.getChildren(node.data);\n        var length = children ? children.length : 0;\n        node.children = new Array(length);\n\n        if (children && length) {\n          for (var i = 0; i < length; i++) {\n            var child = new Node(children[i], options);\n            node.children[i] = child;\n            nodes.push(child);\n            child.parent = node;\n            child.depth = node.depth + 1;\n          }\n        }\n      }\n    }\n  }\n\n  return root;\n}\n\nmodule.exports = hierarchy;"]}]}
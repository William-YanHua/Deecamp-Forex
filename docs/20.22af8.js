(window.webpackJsonp=window.webpackJsonp||[]).push([[20,23],Array(498).concat([function(t,e,n){"use strict";n.r(e);var r=function(){return new i};function i(){this.reset()}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(t){o(a,t,this.t),o(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new i;function o(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}var s=1e-6,u=Math.PI,c=u/2,l=u/4,h=2*u,f=180/u,p=u/180,d=Math.abs,g=Math.atan,v=Math.atan2,y=Math.cos,m=Math.ceil,x=Math.exp,_=(Math.floor,Math.log),w=Math.pow,b=Math.sin,M=Math.sign||function(t){return t>0?1:t<0?-1:0},S=Math.sqrt,E=Math.tan;function C(t){return t>1?0:t<-1?u:Math.acos(t)}function k(t){return t>1?c:t<-1?-c:Math.asin(t)}function P(t){return(t=b(t/2))*t}function T(){}function A(t,e){t&&O.hasOwnProperty(t.type)&&O[t.type](t,e)}var I={Feature:function(t,e){A(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)A(n[r].geometry,e)}},O={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){L(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)L(n[r],e,0)},Polygon:function(t,e){j(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)j(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)A(n[r],e)}};function L(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function j(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)L(t[n],e,1);e.polygonEnd()}var R,D,N,B,F,z=function(t,e){t&&I.hasOwnProperty(t.type)?I[t.type](t,e):A(t,e)},G=r(),V=r(),q={point:T,lineStart:T,lineEnd:T,polygonStart:function(){G.reset(),q.lineStart=H,q.lineEnd=Y},polygonEnd:function(){var t=+G;V.add(t<0?h+t:t),this.lineStart=this.lineEnd=this.point=T},sphere:function(){V.add(h)}};function H(){q.point=W}function Y(){U(R,D)}function W(t,e){q.point=U,R=t,D=e,N=t*=p,B=y(e=(e*=p)/2+l),F=b(e)}function U(t,e){e=(e*=p)/2+l;var n=(t*=p)-N,r=n>=0?1:-1,i=r*n,a=y(e),o=b(e),s=F*o,u=B*a+s*y(i),c=s*r*b(i);G.add(v(c,u)),N=t,B=a,F=o}var X=function(t){return V.reset(),z(t,q),2*V};function Z(t){return[v(t[1],t[0]),k(t[2])]}function Q(t){var e=t[0],n=t[1],r=y(n);return[r*y(e),r*b(e),b(n)]}function J(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function K(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function tt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function et(t){var e=S(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var nt,rt,it,at,ot,st,ut,ct,lt,ht,ft=r(),pt={point:dt,lineStart:vt,lineEnd:yt,polygonStart:function(){pt.point=mt,pt.lineStart=xt,pt.lineEnd=_t,ft.reset(),q.polygonStart()},polygonEnd:function(){q.polygonEnd(),pt.point=dt,pt.lineStart=vt,pt.lineEnd=yt,G<0?(nt=-(it=180),rt=-(at=90)):ft>s?at=90:ft<-s&&(rt=-90),ht[0]=nt,ht[1]=it}};function dt(t,e){lt.push(ht=[nt=t,it=t]),e<rt&&(rt=e),e>at&&(at=e)}function gt(t,e){var n=Q([t*p,e*p]);if(ct){var r=$(ct,n),i=$([r[1],-r[0],0],r);et(i),i=Z(i);var a,o=t-ot,s=o>0?1:-1,u=i[0]*f*s,c=d(o)>180;c^(s*ot<u&&u<s*t)?(a=i[1]*f)>at&&(at=a):c^(s*ot<(u=(u+360)%360-180)&&u<s*t)?(a=-i[1]*f)<rt&&(rt=a):(e<rt&&(rt=e),e>at&&(at=e)),c?t<ot?wt(nt,t)>wt(nt,it)&&(it=t):wt(t,it)>wt(nt,it)&&(nt=t):it>=nt?(t<nt&&(nt=t),t>it&&(it=t)):t>ot?wt(nt,t)>wt(nt,it)&&(it=t):wt(t,it)>wt(nt,it)&&(nt=t)}else lt.push(ht=[nt=t,it=t]);e<rt&&(rt=e),e>at&&(at=e),ct=n,ot=t}function vt(){pt.point=gt}function yt(){ht[0]=nt,ht[1]=it,pt.point=dt,ct=null}function mt(t,e){if(ct){var n=t-ot;ft.add(d(n)>180?n+(n>0?360:-360):n)}else st=t,ut=e;q.point(t,e),gt(t,e)}function xt(){q.lineStart()}function _t(){mt(st,ut),q.lineEnd(),d(ft)>s&&(nt=-(it=180)),ht[0]=nt,ht[1]=it,ct=null}function wt(t,e){return(e-=t)<0?e+360:e}function bt(t,e){return t[0]-e[0]}function Mt(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var St,Et,Ct,kt,Pt,Tt,At,It,Ot,Lt,jt,Rt,Dt,Nt,Bt,Ft,zt=function(t){var e,n,r,i,a,o,s;if(at=it=-(nt=rt=1/0),lt=[],z(t,pt),n=lt.length){for(lt.sort(bt),e=1,a=[r=lt[0]];e<n;++e)Mt(r,(i=lt[e])[0])||Mt(r,i[1])?(wt(r[0],i[1])>wt(r[0],r[1])&&(r[1]=i[1]),wt(i[0],r[1])>wt(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,e=0,r=a[n=a.length-1];e<=n;r=i,++e)i=a[e],(s=wt(r[1],i[0]))>o&&(o=s,nt=i[0],it=r[1])}return lt=ht=null,nt===1/0||rt===1/0?[[NaN,NaN],[NaN,NaN]]:[[nt,rt],[it,at]]},Gt={sphere:T,point:Vt,lineStart:Ht,lineEnd:Ut,polygonStart:function(){Gt.lineStart=Xt,Gt.lineEnd=Zt},polygonEnd:function(){Gt.lineStart=Ht,Gt.lineEnd=Ut}};function Vt(t,e){t*=p;var n=y(e*=p);qt(n*y(t),n*b(t),b(e))}function qt(t,e,n){Ct+=(t-Ct)/++St,kt+=(e-kt)/St,Pt+=(n-Pt)/St}function Ht(){Gt.point=Yt}function Yt(t,e){t*=p;var n=y(e*=p);Nt=n*y(t),Bt=n*b(t),Ft=b(e),Gt.point=Wt,qt(Nt,Bt,Ft)}function Wt(t,e){t*=p;var n=y(e*=p),r=n*y(t),i=n*b(t),a=b(e),o=v(S((o=Bt*a-Ft*i)*o+(o=Ft*r-Nt*a)*o+(o=Nt*i-Bt*r)*o),Nt*r+Bt*i+Ft*a);Et+=o,Tt+=o*(Nt+(Nt=r)),At+=o*(Bt+(Bt=i)),It+=o*(Ft+(Ft=a)),qt(Nt,Bt,Ft)}function Ut(){Gt.point=Vt}function Xt(){Gt.point=Qt}function Zt(){Jt(Rt,Dt),Gt.point=Vt}function Qt(t,e){Rt=t,Dt=e,t*=p,e*=p,Gt.point=Jt;var n=y(e);Nt=n*y(t),Bt=n*b(t),Ft=b(e),qt(Nt,Bt,Ft)}function Jt(t,e){t*=p;var n=y(e*=p),r=n*y(t),i=n*b(t),a=b(e),o=Bt*a-Ft*i,s=Ft*r-Nt*a,u=Nt*i-Bt*r,c=S(o*o+s*s+u*u),l=k(c),h=c&&-l/c;Ot+=h*o,Lt+=h*s,jt+=h*u,Et+=l,Tt+=l*(Nt+(Nt=r)),At+=l*(Bt+(Bt=i)),It+=l*(Ft+(Ft=a)),qt(Nt,Bt,Ft)}var $t=function(t){St=Et=Ct=kt=Pt=Tt=At=It=Ot=Lt=jt=0,z(t,Gt);var e=Ot,n=Lt,r=jt,i=e*e+n*n+r*r;return i<1e-12&&(e=Tt,n=At,r=It,Et<s&&(e=Ct,n=kt,r=Pt),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[v(n,e)*f,k(r/S(i))*f]},Kt=function(t){return function(){return t}},te=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};function ee(t,e){return[t>u?t-h:t<-u?t+h:t,e]}function ne(t,e,n){return(t%=h)?e||n?te(ie(t),ae(e,n)):ie(t):e||n?ae(e,n):ee}function re(t){return function(e,n){return[(e+=t)>u?e-h:e<-u?e+h:e,n]}}function ie(t){var e=re(t);return e.invert=re(-t),e}function ae(t,e){var n=y(t),r=b(t),i=y(e),a=b(e);function o(t,e){var o=y(e),s=y(t)*o,u=b(t)*o,c=b(e),l=c*n+s*r;return[v(u*i-l*a,s*n-c*r),k(l*i+u*a)]}return o.invert=function(t,e){var o=y(e),s=y(t)*o,u=b(t)*o,c=b(e),l=c*i-u*a;return[v(u*i+c*a,s*n+l*r),k(l*n-s*r)]},o}ee.invert=ee;var oe=function(t){function e(e){return(e=t(e[0]*p,e[1]*p))[0]*=f,e[1]*=f,e}return t=ne(t[0]*p,t[1]*p,t.length>2?t[2]*p:0),e.invert=function(e){return(e=t.invert(e[0]*p,e[1]*p))[0]*=f,e[1]*=f,e},e};function se(t,e,n,r,i,a){if(n){var o=y(e),s=b(e),u=r*n;null==i?(i=e+r*h,a=e-u/2):(i=ue(o,i),a=ue(o,a),(r>0?i<a:i>a)&&(i+=r*h));for(var c,l=i;r>0?l>a:l<a;l-=u)c=Z([o,-s*y(l),-s*b(l)]),t.point(c[0],c[1])}}function ue(t,e){(e=Q(e))[0]-=t,et(e);var n=C(-e[1]);return((-e[2]<0?-n:n)+h-s)%h}var ce=function(){var t,e,n=Kt([0,0]),r=Kt(90),i=Kt(6),a={point:function(n,r){t.push(n=e(n,r)),n[0]*=f,n[1]*=f}};function o(){var o=n.apply(this,arguments),s=r.apply(this,arguments)*p,u=i.apply(this,arguments)*p;return t=[],e=ne(-o[0]*p,-o[1]*p,0).invert,se(a,s,u,1),o={type:"Polygon",coordinates:[t]},t=e=null,o}return o.center=function(t){return arguments.length?(n="function"==typeof t?t:Kt([+t[0],+t[1]]),o):n},o.radius=function(t){return arguments.length?(r="function"==typeof t?t:Kt(+t),o):r},o.precision=function(t){return arguments.length?(i="function"==typeof t?t:Kt(+t),o):i},o},le=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:T,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},he=function(t,e,n,r,i,a){var o,s=t[0],u=t[1],c=0,l=1,h=e[0]-s,f=e[1]-u;if(o=n-s,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>c&&(c=o)}if(o=i-s,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<l&&(l=o)}if(o=r-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<l&&(l=o)}else if(f>0){if(o>l)return;o>c&&(c=o)}if(o=a-u,f||!(o<0)){if(o/=f,f<0){if(o>l)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<l&&(l=o)}return c>0&&(t[0]=s+c*h,t[1]=u+c*f),l<1&&(e[0]=s+l*h,e[1]=u+l*f),!0}}}}},fe=function(t,e){return d(t[0]-e[0])<s&&d(t[1]-e[1])<s};function pe(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var de=function(t,e,n,r,i){var a,o,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],o=t[e];if(fe(r,o)){for(i.lineStart(),a=0;a<e;++a)i.point((r=t[a])[0],r[1]);i.lineEnd()}else s.push(n=new pe(r,t,null,!0)),u.push(n.o=new pe(r,null,n,!1)),s.push(n=new pe(o,t,null,!1)),u.push(n.o=new pe(o,null,n,!0))}}),s.length){for(u.sort(e),ge(s),ge(u),a=0,o=u.length;a<o;++a)u[a].e=n=!n;for(var c,l,h=s[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(a=0,o=c.length;a<o;++a)i.point((l=c[a])[0],l[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(c=f.p.z,a=c.length-1;a>=0;--a)i.point((l=c[a])[0],l[1]);else r(f.x,f.p.x,-1,i);f=f.p}c=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}};function ge(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var ve=n(524),ye=1e9,me=-ye;function xe(t,e,n,r){function i(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function a(i,a,s,u){var l=0,h=0;if(null==i||(l=o(i,s))!==(h=o(a,s))||c(i,a)<0^s>0)do{u.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+s+4)%4)!==h);else u.point(a[0],a[1])}function o(r,i){return d(r[0]-t)<s?i>0?0:3:d(r[0]-n)<s?i>0?2:1:d(r[1]-e)<s?i>0?1:0:i>0?3:2}function u(t,e){return c(t.x,e.x)}function c(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){var s,c,l,h,f,p,d,g,v,y,m,x=o,_=le(),w={point:b,lineStart:function(){w.point=M,c&&c.push(l=[]);y=!0,v=!1,d=g=NaN},lineEnd:function(){s&&(M(h,f),p&&v&&_.rejoin(),s.push(_.result()));w.point=b,v&&x.lineEnd()},polygonStart:function(){x=_,s=[],c=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var a,o,s=c[n],u=1,l=s.length,h=s[0],f=h[0],p=h[1];u<l;++u)a=f,o=p,h=s[u],f=h[0],p=h[1],o<=r?p>r&&(f-a)*(r-o)>(p-o)*(t-a)&&++e:p<=r&&(f-a)*(r-o)<(p-o)*(t-a)&&--e;return e}(),n=m&&e,i=(s=Object(ve.merge)(s)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&de(s,u,e,a,o),o.polygonEnd());x=o,s=c=l=null}};function b(t,e){i(t,e)&&x.point(t,e)}function M(a,o){var s=i(a,o);if(c&&l.push([a,o]),y)h=a,f=o,p=s,y=!1,s&&(x.lineStart(),x.point(a,o));else if(s&&v)x.point(a,o);else{var u=[d=Math.max(me,Math.min(ye,d)),g=Math.max(me,Math.min(ye,g))],_=[a=Math.max(me,Math.min(ye,a)),o=Math.max(me,Math.min(ye,o))];he(u,_,t,e,n,r)?(v||(x.lineStart(),x.point(u[0],u[1])),x.point(_[0],_[1]),s||x.lineEnd(),m=!1):s&&(x.lineStart(),x.point(a,o),m=!1)}d=a,g=o,v=s}return w}}var _e,we,be,Me=function(){var t,e,n,r=0,i=0,a=960,o=500;return n={stream:function(n){return t&&e===n?t:t=xe(r,i,a,o)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],a=+s[1][0],o=+s[1][1],t=e=null,n):[[r,i],[a,o]]}}},Se=r(),Ee=function(t,e){var n=e[0],r=e[1],i=[b(n),-y(n),0],a=0,o=0;Se.reset();for(var c=0,f=t.length;c<f;++c)if(d=(p=t[c]).length)for(var p,d,g=p[d-1],m=g[0],x=g[1]/2+l,_=b(x),w=y(x),M=0;M<d;++M,m=E,_=P,w=T,g=S){var S=p[M],E=S[0],C=S[1]/2+l,P=b(C),T=y(C),A=E-m,I=A>=0?1:-1,O=I*A,L=O>u,j=_*P;if(Se.add(v(j*I*b(O),w*T+j*y(O))),a+=L?A+I*h:A,L^m>=n^E>=n){var R=$(Q(g),Q(S));et(R);var D=$(i,R);et(D);var N=(L^A>=0?-1:1)*k(D[2]);(r>N||r===N&&(R[0]||R[1]))&&(o+=L^A>=0?1:-1)}}return(a<-s||a<s&&Se<-s)^1&o},Ce=r(),ke={sphere:T,point:T,lineStart:function(){ke.point=Te,ke.lineEnd=Pe},lineEnd:T,polygonStart:T,polygonEnd:T};function Pe(){ke.point=ke.lineEnd=T}function Te(t,e){_e=t*=p,we=b(e*=p),be=y(e),ke.point=Ae}function Ae(t,e){t*=p;var n=b(e*=p),r=y(e),i=d(t-_e),a=y(i),o=r*b(i),s=be*n-we*r*a,u=we*n+be*r*a;Ce.add(v(S(o*o+s*s),u)),_e=t,we=n,be=r}var Ie=function(t){return Ce.reset(),z(t,ke),+Ce},Oe=[null,null],Le={type:"LineString",coordinates:Oe},je=function(t,e){return Oe[0]=t,Oe[1]=e,Ie(Le)},Re={Feature:function(t,e){return Ne(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Ne(n[r].geometry,e))return!0;return!1}},De={Sphere:function(){return!0},Point:function(t,e){return Be(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Be(n[r],e))return!0;return!1},LineString:function(t,e){return Fe(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Fe(n[r],e))return!0;return!1},Polygon:function(t,e){return ze(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(ze(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Ne(n[r],e))return!0;return!1}};function Ne(t,e){return!(!t||!De.hasOwnProperty(t.type))&&De[t.type](t,e)}function Be(t,e){return 0===je(t,e)}function Fe(t,e){var n=je(t[0],t[1]);return je(t[0],e)+je(e,t[1])<=n+s}function ze(t,e){return!!Ee(t.map(Ge),Ve(e))}function Ge(t){return(t=t.map(Ve)).pop(),t}function Ve(t){return[t[0]*p,t[1]*p]}var qe=function(t,e){return(t&&Re.hasOwnProperty(t.type)?Re[t.type]:Ne)(t,e)};function He(t,e,n){var r=Object(ve.range)(t,e-s,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function Ye(t,e,n){var r=Object(ve.range)(t,e-s,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function We(){var t,e,n,r,i,a,o,u,c,l,h,f,p=10,g=p,v=90,y=360,x=2.5;function _(){return{type:"MultiLineString",coordinates:w()}}function w(){return Object(ve.range)(m(r/v)*v,n,v).map(h).concat(Object(ve.range)(m(u/y)*y,o,y).map(f)).concat(Object(ve.range)(m(e/p)*p,t,p).filter(function(t){return d(t%v)>s}).map(c)).concat(Object(ve.range)(m(a/g)*g,i,g).filter(function(t){return d(t%y)>s}).map(l))}return _.lines=function(){return w().map(function(t){return{type:"LineString",coordinates:t}})},_.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(f(o).slice(1),h(n).reverse().slice(1),f(u).reverse().slice(1))]}},_.extent=function(t){return arguments.length?_.extentMajor(t).extentMinor(t):_.extentMinor()},_.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),u>o&&(t=u,u=o,o=t),_.precision(x)):[[r,u],[n,o]]},_.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),a>i&&(n=a,a=i,i=n),_.precision(x)):[[e,a],[t,i]]},_.step=function(t){return arguments.length?_.stepMajor(t).stepMinor(t):_.stepMinor()},_.stepMajor=function(t){return arguments.length?(v=+t[0],y=+t[1],_):[v,y]},_.stepMinor=function(t){return arguments.length?(p=+t[0],g=+t[1],_):[p,g]},_.precision=function(s){return arguments.length?(x=+s,c=He(a,i,90),l=Ye(e,t,x),h=He(u,o,90),f=Ye(r,n,x),_):x},_.extentMajor([[-180,-90+s],[180,90-s]]).extentMinor([[-180,-80-s],[180,80+s]])}function Ue(){return We()()}var Xe,Ze,Qe,Je,$e=function(t,e){var n=t[0]*p,r=t[1]*p,i=e[0]*p,a=e[1]*p,o=y(r),s=b(r),u=y(a),c=b(a),l=o*y(n),h=o*b(n),d=u*y(i),g=u*b(i),m=2*k(S(P(a-r)+o*u*P(i-n))),x=b(m),_=m?function(t){var e=b(t*=m)/x,n=b(m-t)/x,r=n*l+e*d,i=n*h+e*g,a=n*s+e*c;return[v(i,r)*f,v(a,S(r*r+i*i))*f]}:function(){return[n*f,r*f]};return _.distance=m,_},Ke=function(t){return t},tn=r(),en=r(),nn={point:T,lineStart:T,lineEnd:T,polygonStart:function(){nn.lineStart=rn,nn.lineEnd=sn},polygonEnd:function(){nn.lineStart=nn.lineEnd=nn.point=T,tn.add(d(en)),en.reset()},result:function(){var t=tn/2;return tn.reset(),t}};function rn(){nn.point=an}function an(t,e){nn.point=on,Xe=Qe=t,Ze=Je=e}function on(t,e){en.add(Je*t-Qe*e),Qe=t,Je=e}function sn(){on(Xe,Ze)}var un=nn,cn=1/0,ln=cn,hn=-cn,fn=hn;var pn,dn,gn,vn,yn={point:function(t,e){t<cn&&(cn=t);t>hn&&(hn=t);e<ln&&(ln=e);e>fn&&(fn=e)},lineStart:T,lineEnd:T,polygonStart:T,polygonEnd:T,result:function(){var t=[[cn,ln],[hn,fn]];return hn=fn=-(ln=cn=1/0),t}},mn=0,xn=0,_n=0,wn=0,bn=0,Mn=0,Sn=0,En=0,Cn=0,kn={point:Pn,lineStart:Tn,lineEnd:On,polygonStart:function(){kn.lineStart=Ln,kn.lineEnd=jn},polygonEnd:function(){kn.point=Pn,kn.lineStart=Tn,kn.lineEnd=On},result:function(){var t=Cn?[Sn/Cn,En/Cn]:Mn?[wn/Mn,bn/Mn]:_n?[mn/_n,xn/_n]:[NaN,NaN];return mn=xn=_n=wn=bn=Mn=Sn=En=Cn=0,t}};function Pn(t,e){mn+=t,xn+=e,++_n}function Tn(){kn.point=An}function An(t,e){kn.point=In,Pn(gn=t,vn=e)}function In(t,e){var n=t-gn,r=e-vn,i=S(n*n+r*r);wn+=i*(gn+t)/2,bn+=i*(vn+e)/2,Mn+=i,Pn(gn=t,vn=e)}function On(){kn.point=Pn}function Ln(){kn.point=Rn}function jn(){Dn(pn,dn)}function Rn(t,e){kn.point=Dn,Pn(pn=gn=t,dn=vn=e)}function Dn(t,e){var n=t-gn,r=e-vn,i=S(n*n+r*r);wn+=i*(gn+t)/2,bn+=i*(vn+e)/2,Mn+=i,Sn+=(i=vn*t-gn*e)*(gn+t),En+=i*(vn+e),Cn+=3*i,Pn(gn=t,vn=e)}var Nn=kn;function Bn(t){this._context=t}Bn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,h)}},result:T};var Fn,zn,Gn,Vn,qn,Hn=r(),Yn={point:T,lineStart:function(){Yn.point=Wn},lineEnd:function(){Fn&&Un(zn,Gn),Yn.point=T},polygonStart:function(){Fn=!0},polygonEnd:function(){Fn=null},result:function(){var t=+Hn;return Hn.reset(),t}};function Wn(t,e){Yn.point=Un,zn=Vn=t,Gn=qn=e}function Un(t,e){Vn-=t,qn-=e,Hn.add(S(Vn*Vn+qn*qn)),Vn=t,qn=e}var Xn=Yn;function Zn(){this._string=[]}function Qn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Zn.prototype={_radius:4.5,_circle:Qn(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Qn(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Jn=function(t,e){var n,r,i=4.5;function a(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),z(t,n(r))),r.result()}return a.area=function(t){return z(t,n(un)),un.result()},a.measure=function(t){return z(t,n(Xn)),Xn.result()},a.bounds=function(t){return z(t,n(yn)),yn.result()},a.centroid=function(t){return z(t,n(Nn)),Nn.result()},a.projection=function(e){return arguments.length?(n=null==e?(t=null,Ke):(t=e).stream,a):t},a.context=function(t){return arguments.length?(r=null==t?(e=null,new Zn):new Bn(e=t),"function"!=typeof i&&r.pointRadius(i),a):e},a.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),a):i},a.projection(t).context(e)},$n=function(t,e,n,r){return function(i,a){var o,s,u,c=e(a),l=i.invert(r[0],r[1]),h=le(),f=e(h),p=!1,d={point:g,lineStart:y,lineEnd:m,polygonStart:function(){d.point=x,d.lineStart=_,d.lineEnd=w,s=[],o=[]},polygonEnd:function(){d.point=g,d.lineStart=y,d.lineEnd=m,s=Object(ve.merge)(s);var t=Ee(o,l);s.length?(p||(a.polygonStart(),p=!0),de(s,tr,t,n,a)):t&&(p||(a.polygonStart(),p=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),p&&(a.polygonEnd(),p=!1),s=o=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function g(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function v(t,e){var n=i(t,e);c.point(n[0],n[1])}function y(){d.point=v,c.lineStart()}function m(){d.point=g,c.lineEnd()}function x(t,e){u.push([t,e]);var n=i(t,e);f.point(n[0],n[1])}function _(){f.lineStart(),u=[]}function w(){x(u[0][0],u[0][1]),f.lineEnd();var t,e,n,r,i=f.clean(),c=h.result(),l=c.length;if(u.pop(),o.push(u),u=null,l)if(1&i){if((e=(n=c[0]).length-1)>0){for(p||(a.polygonStart(),p=!0),a.lineStart(),t=0;t<e;++t)a.point((r=n[t])[0],r[1]);a.lineEnd()}}else l>1&&2&i&&c.push(c.pop().concat(c.shift())),s.push(c.filter(Kn))}return d}};function Kn(t){return t.length>1}function tr(t,e){return((t=t.x)[0]<0?t[1]-c-s:c-t[1])-((e=e.x)[0]<0?e[1]-c-s:c-e[1])}var er=$n(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var l,h,f,p,v,m,x,_=a>0?u:-u,w=d(a-n);d(w-u)<s?(t.point(n,r=(r+o)/2>0?c:-c),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(_,r),t.point(a,r),e=0):i!==_&&w>=u&&(d(n-i)<s&&(n-=i*s),d(a-_)<s&&(a-=_*s),h=r,p=o,x=b((l=n)-(f=a)),r=d(x)>s?g((b(h)*(m=y(p))*b(f)-b(p)*(v=y(h))*b(l))/(v*m*x)):(h+p)/2,t.point(i,r),t.lineEnd(),t.lineStart(),t.point(_,r),e=0),t.point(n=a,r=o),i=_},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*c,r.point(-u,i),r.point(0,i),r.point(u,i),r.point(u,0),r.point(u,-i),r.point(0,-i),r.point(-u,-i),r.point(-u,0),r.point(-u,i);else if(d(t[0]-e[0])>s){var a=t[0]<e[0]?u:-u;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])},[-u,-c]);var nr=function(t,e){var n=y(t),r=n>0,i=d(n)>s;function a(t,e){return y(t)*y(e)>n}function o(t,e,r){var i=[1,0,0],a=$(Q(t),Q(e)),o=J(a,a),c=a[0],l=o-c*c;if(!l)return!r&&t;var h=n*o/l,f=-n*c/l,p=$(i,a),g=tt(i,h);K(g,tt(a,f));var v=p,y=J(g,v),m=J(v,v),x=y*y-m*(J(g,g)-1);if(!(x<0)){var _=S(x),w=tt(v,(-y-_)/m);if(K(w,g),w=Z(w),!r)return w;var b,M=t[0],E=e[0],C=t[1],k=e[1];E<M&&(b=M,M=E,E=b);var P=E-M,T=d(P-u)<s;if(!T&&k<C&&(b=C,C=k,k=b),T||P<s?T?C+k>0^w[1]<(d(w[0]-M)<s?C:k):C<=w[1]&&w[1]<=k:P>u^(M<=w[0]&&w[0]<=E)){var A=tt(v,(-y+_)/m);return K(A,g),[w,Z(A)]}}}function c(e,n){var i=r?t:u-t,a=0;return e<-i?a|=1:e>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return $n(a,function(t){var e,n,l,h,f;return{lineStart:function(){h=l=!1,f=1},point:function(p,d){var g,v=[p,d],y=a(p,d),m=r?y?0:c(p,d):y?c(p+(p<0?u:-u),d):0;if(!e&&(h=l=y)&&t.lineStart(),y!==l&&(!(g=o(e,v))||fe(e,g)||fe(v,g))&&(v[0]+=s,v[1]+=s,y=a(v[0],v[1])),y!==l)f=0,y?(t.lineStart(),g=o(v,e),t.point(g[0],g[1])):(g=o(e,v),t.point(g[0],g[1]),t.lineEnd()),e=g;else if(i&&e&&r^y){var x;m&n||!(x=o(v,e,!0))||(f=0,r?(t.lineStart(),t.point(x[0][0],x[0][1]),t.point(x[1][0],x[1][1]),t.lineEnd()):(t.point(x[1][0],x[1][1]),t.lineEnd(),t.lineStart(),t.point(x[0][0],x[0][1])))}!y||e&&fe(e,v)||t.point(v[0],v[1]),e=v,l=y,n=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return f|(h&&l)<<1}}},function(n,r,i,a){se(a,t,e,i,n,r)},r?[0,-t]:[-u,t-u])},rr=function(t){return{stream:ir(t)}};function ir(t){return function(e){var n=new ar;for(var r in t)n[r]=t[r];return n.stream=e,n}}function ar(){}function or(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=a&&t.clipExtent(null),z(n,t.stream(yn));var o=yn.result(),s=Math.min(r/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),u=+e[0][0]+(r-s*(o[1][0]+o[0][0]))/2,c=+e[0][1]+(i-s*(o[1][1]+o[0][1]))/2;return null!=a&&t.clipExtent(a),t.scale(150*s).translate([u,c])}function sr(t,e,n){return or(t,[[0,0],e],n)}ar.prototype={constructor:ar,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ur=16,cr=y(30*p),lr=function(t,e){return+e?function(t,e){function n(r,i,a,o,u,c,l,h,f,p,g,y,m,x){var _=l-r,w=h-i,b=_*_+w*w;if(b>4*e&&m--){var M=o+p,E=u+g,C=c+y,P=S(M*M+E*E+C*C),T=k(C/=P),A=d(d(C)-1)<s||d(a-f)<s?(a+f)/2:v(E,M),I=t(A,T),O=I[0],L=I[1],j=O-r,R=L-i,D=w*j-_*R;(D*D/b>e||d((_*j+w*R)/b-.5)>.3||o*p+u*g+c*y<cr)&&(n(r,i,a,o,u,c,O,L,A,M/=P,E/=P,C,m,x),x.point(O,L),n(O,L,A,M,E,C,l,h,f,p,g,y,m,x))}}return function(e){var r,i,a,o,s,u,c,l,h,f,p,d,g={point:v,lineStart:y,lineEnd:x,polygonStart:function(){e.polygonStart(),g.lineStart=_},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){l=NaN,g.point=m,e.lineStart()}function m(r,i){var a=Q([r,i]),o=t(r,i);n(l,h,c,f,p,d,l=o[0],h=o[1],c=r,f=a[0],p=a[1],d=a[2],ur,e),e.point(l,h)}function x(){g.point=v,e.lineEnd()}function _(){y(),g.point=w,g.lineEnd=b}function w(t,e){m(r=t,e),i=l,a=h,o=f,s=p,u=d,g.point=m}function b(){n(l,h,c,f,p,d,i,a,r,o,s,u,ur,e),g.lineEnd=x,x()}return g}}(t,e):(n=t,ir({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}));var n};var hr=ir({point:function(t,e){this.stream.point(t*p,e*p)}});function fr(t){return pr(function(){return t})()}function pr(t){var e,n,r,i,a,o,s,u,c,l,h=150,d=480,g=250,v=0,y=0,m=0,x=0,_=0,w=null,b=er,M=null,E=Ke,C=.5,k=lr(A,C);function P(t){return[(t=a(t[0]*p,t[1]*p))[0]*h+n,r-t[1]*h]}function T(t){return(t=a.invert((t[0]-n)/h,(r-t[1])/h))&&[t[0]*f,t[1]*f]}function A(t,i){return[(t=e(t,i))[0]*h+n,r-t[1]*h]}function I(){a=te(i=ne(m,x,_),e);var t=e(v,y);return n=d-t[0]*h,r=g+t[1]*h,O()}function O(){return c=l=null,P}return P.stream=function(t){return c&&l===t?c:c=hr(b(i,k(E(l=t))))},P.clipAngle=function(t){return arguments.length?(b=+t?nr(w=t*p,6*p):(w=null,er),O()):w*f},P.clipExtent=function(t){return arguments.length?(E=null==t?(M=o=s=u=null,Ke):xe(M=+t[0][0],o=+t[0][1],s=+t[1][0],u=+t[1][1]),O()):null==M?null:[[M,o],[s,u]]},P.scale=function(t){return arguments.length?(h=+t,I()):h},P.translate=function(t){return arguments.length?(d=+t[0],g=+t[1],I()):[d,g]},P.center=function(t){return arguments.length?(v=t[0]%360*p,y=t[1]%360*p,I()):[v*f,y*f]},P.rotate=function(t){return arguments.length?(m=t[0]%360*p,x=t[1]%360*p,_=t.length>2?t[2]%360*p:0,I()):[m*f,x*f,_*f]},P.precision=function(t){return arguments.length?(k=lr(A,C=t*t),O()):S(C)},P.fitExtent=function(t,e){return or(P,t,e)},P.fitSize=function(t,e){return sr(P,t,e)},function(){return e=t.apply(this,arguments),P.invert=e.invert&&T,I()}}function dr(t){var e=0,n=u/3,r=pr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*p,n=t[1]*p):[e*f,n*f]},i}function gr(t,e){var n=b(t),r=(n+b(e))/2;if(d(r)<s)return function(t){var e=y(t);function n(t,n){return[t*e,b(n)/e]}return n.invert=function(t,n){return[t/e,k(n*e)]},n}(t);var i=1+n*(2*r-n),a=S(i)/r;function o(t,e){var n=S(i-2*r*b(e))/r;return[n*b(t*=r),a-n*y(t)]}return o.invert=function(t,e){var n=a-e;return[v(t,d(n))/r*M(n),k((i-(t*t+n*n)*r*r)/(2*r))]},o}var vr=function(){return dr(gr).scale(155.424).center([0,33.6442])},yr=function(){return vr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var mr=function(){var t,e,n,r,i,a,o=yr(),u=vr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=vr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){a=[t,e]}};function h(t){var e=t[0],o=t[1];return a=null,n.point(e,o),a||(r.point(e,o),a)||(i.point(e,o),a)}function f(){return t=e=null,h}return h.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:o).invert(t)},h.stream=function(n){return t&&e===n?t:(r=[o.stream(e=n),u.stream(n),c.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},h.precision=function(t){return arguments.length?(o.precision(t),u.precision(t),c.precision(t),f()):o.precision()},h.scale=function(t){return arguments.length?(o.scale(t),u.scale(.35*t),c.scale(t),h.translate(o.translate())):o.scale()},h.translate=function(t){if(!arguments.length)return o.translate();var e=o.scale(),a=+t[0],h=+t[1];return n=o.translate(t).clipExtent([[a-.455*e,h-.238*e],[a+.455*e,h+.238*e]]).stream(l),r=u.translate([a-.307*e,h+.201*e]).clipExtent([[a-.425*e+s,h+.12*e+s],[a-.214*e-s,h+.234*e-s]]).stream(l),i=c.translate([a-.205*e,h+.212*e]).clipExtent([[a-.214*e+s,h+.166*e+s],[a-.115*e-s,h+.234*e-s]]).stream(l),f()},h.fitExtent=function(t,e){return or(h,t,e)},h.fitSize=function(t,e){return sr(h,t,e)},h.scale(1070)};function xr(t){return function(e,n){var r=y(e),i=y(n),a=t(r*i);return[a*i*b(e),a*b(n)]}}function _r(t){return function(e,n){var r=S(e*e+n*n),i=t(r),a=b(i),o=y(i);return[v(e*a,r*o),k(r&&n*a/r)]}}var wr=xr(function(t){return S(2/(1+t))});wr.invert=_r(function(t){return 2*k(t/2)});var br=function(){return fr(wr).scale(124.75).clipAngle(179.999)},Mr=xr(function(t){return(t=C(t))&&t/b(t)});Mr.invert=_r(function(t){return t});var Sr=function(){return fr(Mr).scale(79.4188).clipAngle(179.999)};function Er(t,e){return[t,_(E((c+e)/2))]}Er.invert=function(t,e){return[t,2*g(x(e))-c]};var Cr=function(){return kr(Er).scale(961/h)};function kr(t){var e,n,r,i=fr(t),a=i.center,o=i.scale,s=i.translate,c=i.clipExtent,l=null;function h(){var a=u*o(),s=i(oe(i.rotate()).invert([0,0]));return c(null==l?[[s[0]-a,s[1]-a],[s[0]+a,s[1]+a]]:t===Er?[[Math.max(s[0]-a,l),e],[Math.min(s[0]+a,n),r]]:[[l,Math.max(s[1]-a,e)],[n,Math.min(s[1]+a,r)]])}return i.scale=function(t){return arguments.length?(o(t),h()):o()},i.translate=function(t){return arguments.length?(s(t),h()):s()},i.center=function(t){return arguments.length?(a(t),h()):a()},i.clipExtent=function(t){return arguments.length?(null==t?l=e=n=r=null:(l=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),h()):null==l?null:[[l,e],[n,r]]},h()}function Pr(t){return E((c+t)/2)}function Tr(t,e){var n=y(t),r=t===e?b(t):_(n/y(e))/_(Pr(e)/Pr(t)),i=n*w(Pr(t),r)/r;if(!r)return Er;function a(t,e){i>0?e<-c+s&&(e=-c+s):e>c-s&&(e=c-s);var n=i/w(Pr(e),r);return[n*b(r*t),i-n*y(r*t)]}return a.invert=function(t,e){var n=i-e,a=M(r)*S(t*t+n*n);return[v(t,d(n))/r*M(n),2*g(w(i/a,1/r))-c]},a}var Ar=function(){return dr(Tr).scale(109.5).parallels([30,30])};function Ir(t,e){return[t,e]}Ir.invert=Ir;var Or=function(){return fr(Ir).scale(152.63)};function Lr(t,e){var n=y(t),r=t===e?b(t):(n-y(e))/(e-t),i=n/r+t;if(d(r)<s)return Ir;function a(t,e){var n=i-e,a=r*t;return[n*b(a),i-n*y(a)]}return a.invert=function(t,e){var n=i-e;return[v(t,d(n))/r*M(n),i-M(r)*S(t*t+n*n)]},a}var jr=function(){return dr(Lr).scale(131.154).center([0,13.9389])};function Rr(t,e){var n=y(e),r=y(t)*n;return[n*b(t)/r,b(e)/r]}Rr.invert=_r(g);var Dr=function(){return fr(Rr).scale(144.049).clipAngle(60)};function Nr(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?Ke:ir({point:function(i,a){this.stream.point(i*t+n,a*e+r)}})}var Br=function(){var t,e,n,r,i,a,o=1,s=0,u=0,c=1,l=1,h=Ke,f=null,p=Ke;function d(){return r=i=null,a}return a={stream:function(t){return r&&i===t?r:r=h(p(i=t))},clipExtent:function(r){return arguments.length?(p=null==r?(f=t=e=n=null,Ke):xe(f=+r[0][0],t=+r[0][1],e=+r[1][0],n=+r[1][1]),d()):null==f?null:[[f,t],[e,n]]},scale:function(t){return arguments.length?(h=Nr((o=+t)*c,o*l,s,u),d()):o},translate:function(t){return arguments.length?(h=Nr(o*c,o*l,s=+t[0],u=+t[1]),d()):[s,u]},reflectX:function(t){return arguments.length?(h=Nr(o*(c=t?-1:1),o*l,s,u),d()):c<0},reflectY:function(t){return arguments.length?(h=Nr(o*c,o*(l=t?-1:1),s,u),d()):l<0},fitExtent:function(t,e){return or(a,t,e)},fitSize:function(t,e){return sr(a,t,e)}}};function Fr(t,e){return[y(e)*b(t),b(e)]}Fr.invert=_r(k);var zr=function(){return fr(Fr).scale(249.5).clipAngle(90+s)};function Gr(t,e){var n=y(e),r=1+y(t)*n;return[n*b(t)/r,b(e)/r]}Gr.invert=_r(function(t){return 2*g(t)});var Vr=function(){return fr(Gr).scale(250).clipAngle(142)};function qr(t,e){return[_(E((c+e)/2)),-t]}qr.invert=function(t,e){return[-e,2*g(x(t))-c]};var Hr=function(){var t=kr(qr),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};n.d(e,"geoArea",function(){return X}),n.d(e,"geoBounds",function(){return zt}),n.d(e,"geoCentroid",function(){return $t}),n.d(e,"geoCircle",function(){return ce}),n.d(e,"geoClipExtent",function(){return Me}),n.d(e,"geoContains",function(){return qe}),n.d(e,"geoDistance",function(){return je}),n.d(e,"geoGraticule",function(){return We}),n.d(e,"geoGraticule10",function(){return Ue}),n.d(e,"geoInterpolate",function(){return $e}),n.d(e,"geoLength",function(){return Ie}),n.d(e,"geoPath",function(){return Jn}),n.d(e,"geoAlbers",function(){return yr}),n.d(e,"geoAlbersUsa",function(){return mr}),n.d(e,"geoAzimuthalEqualArea",function(){return br}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return wr}),n.d(e,"geoAzimuthalEquidistant",function(){return Sr}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return Mr}),n.d(e,"geoConicConformal",function(){return Ar}),n.d(e,"geoConicConformalRaw",function(){return Tr}),n.d(e,"geoConicEqualArea",function(){return vr}),n.d(e,"geoConicEqualAreaRaw",function(){return gr}),n.d(e,"geoConicEquidistant",function(){return jr}),n.d(e,"geoConicEquidistantRaw",function(){return Lr}),n.d(e,"geoEquirectangular",function(){return Or}),n.d(e,"geoEquirectangularRaw",function(){return Ir}),n.d(e,"geoGnomonic",function(){return Dr}),n.d(e,"geoGnomonicRaw",function(){return Rr}),n.d(e,"geoIdentity",function(){return Br}),n.d(e,"geoProjection",function(){return fr}),n.d(e,"geoProjectionMutator",function(){return pr}),n.d(e,"geoMercator",function(){return Cr}),n.d(e,"geoMercatorRaw",function(){return Er}),n.d(e,"geoOrthographic",function(){return zr}),n.d(e,"geoOrthographicRaw",function(){return Fr}),n.d(e,"geoStereographic",function(){return Vr}),n.d(e,"geoStereographicRaw",function(){return Gr}),n.d(e,"geoTransverseMercator",function(){return Hr}),n.d(e,"geoTransverseMercatorRaw",function(){return qr}),n.d(e,"geoRotation",function(){return oe}),n.d(e,"geoStream",function(){return z}),n.d(e,"geoTransform",function(){return rr})},,function(t,e,n){var r=n(691),i=r.mix({},r,{assign:r.mix,merge:r.deepMix,cloneDeep:r.clone,isFinite:isFinite,isNaN:isNaN,snapEqual:r.isNumberEqual,remove:r.pull,inArray:r.contains,toAllPadding:function(t){var e=0,n=0,r=0,a=0;return i.isNumber(t)||i.isString(t)?e=n=r=a=t:i.isArray(t)?(e=t[0],r=i.isNil(t[1])?t[0]:t[1],a=i.isNil(t[2])?t[0]:t[2],n=i.isNil(t[3])?r:t[3]):i.isObject(t)&&(e=t.top||0,r=t.right||0,a=t.bottom||0,n=t.left||0),[e,r,a,n]}});i.Array={groupToMap:r.groupToMap,group:r.group,merge:r.merge,values:r.valuesOfKey,getRange:r.getRange,firstValue:r.firstValue,remove:r.pull},t.exports=i},function(t,e){function n(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}t.exports=function(t,e,r,i){return e&&n(t,e),r&&n(t,r),i&&n(t,i),t}},function(t,e,n){var r=n(535),i=n(504);t.exports=function(t,e){if(t)if(i(t))for(var n=0,a=t.length;n<a&&!1!==e(t[n],n);n++);else if(r(t))for(var o in t)if(t.hasOwnProperty(o)&&!1===e(t[o],o))break}},function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=n(501),o=n(514),s=n(535),u=n(595),c=n(547),l=n(555),h=n(622),f=function(t){function e(n){void 0===n&&(n={state:{}});var r=t.call(this)||this;return a(r,{_onChangeTimer:null,DataSet:e,isDataSet:!0,views:{}},n),r}return i(e,t),e.prototype._getUniqueViewName=function(){for(var t=u("view_");this.views[t];)t=u("view_");return t},e.prototype.createView=function(t,e){void 0===e&&(e={});var n=this;if(o(t)&&(t=n._getUniqueViewName()),s(t)&&(e=t,t=n._getUniqueViewName()),n.views[t])throw new Error("data view exists: "+t);var r=new l(n,e);return n.views[t]=r,r},e.prototype.getView=function(t){return this.views[t]},e.prototype.setView=function(t,e){this.views[t]=e},e.prototype.setState=function(t,e){var n=this;n.state[t]=e,n._onChangeTimer&&(clearTimeout(n._onChangeTimer),n._onChangeTimer=null),n._onChangeTimer=setTimeout(function(){n.emit("statechange",t,e)},16)},e}(c);a(f,{CONSTANTS:h,DataSet:f,DataView:l,View:l,connectors:{},transforms:{},registerConnector:function(t,e){f.connectors[t]=e},getConnector:function(t){return f.connectors[t]||f.connectors.default},registerTransform:function(t,e){f.transforms[t]=e},getTransform:function(t){return f.transforms[t]||f.transforms.default}},h),l.DataSet=f,a(f.prototype,{view:f.prototype.createView}),f.version="____DATASET_VERSION____",t.exports=f},function(t,e,n){var r=n(521),i=Array.isArray?Array.isArray:function(t){return r(t,"Array")};t.exports=i},,function(t,e,n){var r=n(655),i={};r.merge(i,r,{mixin:function(t,e){var n=t.CFG?"CFG":"ATTRS";if(t&&e){t._mixins=e,t[n]=t[n]||{};var r={};i.each(e,function(e){i.augment(t,e);var a=e[n];a&&i.merge(r,a)}),t[n]=i.merge(r,t[n])}}}),t.exports=i},function(t,e,n){var r=n(521);t.exports=function(t){return r(t,"String")}},function(t,e,n){var r=n(546),i=n(691),a=i.mix({assign:i.mix,isFinite:isFinite,isNaN:isNaN,Group:r.Group,Event:r.Event},i);t.exports=a},function(t,e,n){var r=n(504),i=n(507),a="Invalid field: it must be a string!",o="Invalid fields: it must be an array!";t.exports={getField:function(t,e){var n=t.field,o=t.fields;if(i(n))return n;if(r(n))return console.warn(a),n[0];if(console.warn(a+" will try to get fields instead."),i(o))return o;if(r(o)&&o.length)return o[0];if(e)return e;throw new TypeError(a)},getFields:function(t,e){var n=t.field,a=t.fields;if(r(a))return a;if(i(a))return console.warn(o),[a];if(console.warn(o+" will try to get field instead."),i(n))return console.warn(o),[n];if(r(n)&&n.length)return console.warn(o),n;if(e)return e;throw new TypeError(o)}}},function(t,e,n){var r;try{r=n(758)}catch(t){}r||(r=window._),t.exports=r},function(t,e,n){var r=n(521);t.exports=function(t){return r(t,"Function")}},function(t,e,n){var r=n(500),i=n(714),a={version:"3.3.3",renderer:"canvas",trackable:!0,trackingInfo:{},animate:!0,widthRatio:{column:.5,rose:.9999999,multiplePie:1/1.3},showSinglePoint:!1,connectNulls:!1,scales:{},registerTheme:function(t,e){i[t]=e},setTheme:function(t){var e={};e=r.isObject(t)?t:-1!==r.indexOf(Object.keys(i),t)?i[t]:i.default,r.deepMix(a,e)}};a.setTheme("default"),t.exports=a},,function(t,e){t.exports=function(t){return null===t||void 0===t}},function(t,e,n){var r=n(521);t.exports=function(t){return r(t,"Number")}},function(t,e,n){var r=n(506),i=n(845),a=n(675),o=n(602),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={},r.extend(s,a);var u={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};r.augment(s,i,{isShape:!0,drawInner:function(t){var e=this,n=e._attrs;e.createPath(t);var i=t.globalAlpha;if(e.hasFill()){var a=n.fillOpacity;r.isNil(a)||1===a?t.fill():(t.globalAlpha=a,t.fill(),t.globalAlpha=i)}if(e.hasStroke()&&e._attrs.lineWidth>0){var o=n.strokeOpacity;r.isNil(o)||1===o||(t.globalAlpha=o),t.stroke()}e.afterPath(t)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(t,e){var n=this,r=[t,e,1];if(n.invert(r),n.isHitBox()){var i=n.getBBox();if(i&&!o.box(i.minX,i.maxX,i.minY,i.maxY,r[0],r[1]))return!1}var a=n._attrs.clip;return a?(a.invert(r,n.get("canvas")),!!a.isPointInPath(r[0],r[1])&&n.isPointInPath(r[0],r[1])):n.isPointInPath(r[0],r[1])},calculateBox:function(){return null},getHitLineWidth:function(){var t=this._attrs,e=t.lineAppendWidth||0;return(t.lineWidth||0)+e},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var t=this._cfg.box;return t||((t=this.calculateBox())&&(t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY),this._cfg.box=t),t},clone:function(){var t=null,e=this._attrs,n={};return r.each(e,function(t,i){u[i]&&r.isArray(e[i])?n[i]=function(t){for(var e=[],n=0;n<t.length;n++)r.isArray(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(e[i]):n[i]=e[i]}),t=new this.constructor({attrs:n}),t._cfg.zIndex=this._cfg.zIndex,t}}),t.exports=s},function(t,e,n){"use strict";var r=n(510),i=n(523).Graph;function a(t,e,n,i){var a;do{a=r.uniqueId(i)}while(t.hasNode(a));return n.dummy=e,t.setNode(a,n),a}function o(t){return r.max(r.map(t.nodes(),function(e){var n=t.node(e).rank;if(!r.isUndefined(n))return n}))}t.exports={addDummyNode:a,simplify:function(t){var e=(new i).setGraph(t.graph());return r.forEach(t.nodes(),function(n){e.setNode(n,t.node(n))}),r.forEach(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e},asNonCompoundGraph:function(t){var e=new i({multigraph:t.isMultigraph()}).setGraph(t.graph());return r.forEach(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),r.forEach(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e},successorWeights:function(t){var e=r.map(t.nodes(),function(e){var n={};return r.forEach(t.outEdges(e),function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight}),n});return r.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=r.map(t.nodes(),function(e){var n={};return r.forEach(t.inEdges(e),function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight}),n});return r.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,i=t.x,a=t.y,o=e.x-i,s=e.y-a,u=t.width/2,c=t.height/2;if(!o&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*u>Math.abs(o)*c?(s<0&&(c=-c),n=c*o/s,r=c):(o<0&&(u=-u),n=u,r=u*s/o);return{x:i+n,y:a+r}},buildLayerMatrix:function(t){var e=r.map(r.range(o(t)+1),function(){return[]});return r.forEach(t.nodes(),function(n){var i=t.node(n),a=i.rank;r.isUndefined(a)||(e[a][i.order]=n)}),e},normalizeRanks:function(t){var e=r.minBy(r.map(t.nodes(),function(e){return t.node(e).rank}));r.forEach(t.nodes(),function(n){var i=t.node(n);r.has(i,"rank")&&(i.rank-=e)})},removeEmptyRanks:function(t){var e=r.minBy(r.map(t.nodes(),function(e){return t.node(e).rank})),n=[];r.forEach(t.nodes(),function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)});var i=0,a=t.graph().nodeRankFactor;r.forEach(n,function(e,n){r.isUndefined(e)&&n%a!=0?--i:i&&r.forEach(e,function(e){t.node(e).rank+=i})})},addBorderNode:function(t,e,n,r){var i={width:0,height:0};arguments.length>=4&&(i.rank=n,i.order=r);return a(t,"border",i,e)},maxRank:o,partition:function(t,e){var n={lhs:[],rhs:[]};return r.forEach(t,function(t){e(t)?n.lhs.push(t):n.rhs.push(t)}),n},time:function(t,e){var n=r.now();try{return e()}finally{console.log(t+" time: "+(r.now()-n)+"ms")}},notime:function(t,e){return e()}}},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=n(613),a=n(922),o=n(711),s=n(500),u=n(512),c=n(930),l=n(519),h=n(962),f=n(963),p=n(964),d=n(965),g=["color","shape","size"],v="_origin";function y(t){return(s.isString(t)||s.isPlainObject(t))&&(t=[t]),s.each(t,function(e,n){s.isObject(e)||(t[n]={type:e})}),t}var m=function(t){var e,n;n=t,(e=m).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=m.prototype;function m(e){var n;return(n=t.call(this,e)||this).viewTheme=n.get("viewTheme"),s.assign(r(r(n)),h,f,p),n.get("container")&&n._initContainer(),n._initOptions(),n}return o.getDefaultCfg=function(){return{_id:null,type:"base",coord:null,attrs:{},view:null,data:[],scales:{},container:null,labelContainer:null,shapeContainer:null,attrOptions:{},styleOptions:null,selectedOptions:null,activedOptions:null,hasDefaultAdjust:!1,adjusts:null,shapeType:null,generatePoints:!1,sortable:!1,labelCfg:null,shareTooltip:!0,tooltipCfg:null,animate:!0,animateCfg:null,visible:!0}},o._initOptions=function(){var t=this.get("adjusts");t&&(t=y(t),this.set("adjusts",t))},o._createScale=function(t,e){var n=this.get("scales"),r=n[t];return r||(r=this.get("view").createScale(t,e),n[t]=r),r},o._setAttrOptions=function(t,e){this.get("attrOptions")[t]=e},o._createAttrOption=function(t,e,n,r){var i={};i.field=e,n?s.isFunction(n)?i.callback=n:i.values=n:"color"!==t&&(i.values=r),this._setAttrOptions(t,i)},o.position=function(t){return this._setAttrOptions("position",{field:t}),this},o.color=function(t,e){var n=this.viewTheme||u;return this._createAttrOption("color",t,e,n.colors),this},o.size=function(t,e){var n=this.viewTheme||u;return this._createAttrOption("size",t,e,n.sizes),this},o.shape=function(t,e){var n=this.viewTheme||u,r=this.get("type"),i=n.shapes[r]||[];return this._createAttrOption("shape",t,e,i),this},o.opacity=function(t,e){var n=this.viewTheme||u;return this._createAttrOption("opacity",t,e,n.opacities),this},o.style=function(t,e){var n,r=this.get("styleOptions");return r||(r={},this.set("styleOptions",r)),s.isObject(t)&&(e=t,t=null),t&&(n=d(t)),r.fields=n,r.style=e,this},o.label=function(t,e,n){var r,i=this.get("labelCfg");return i||(i={},this.set("labelCfg",i)),t&&(r=d(t)),i.fields=r,s.isFunction(e)?(n||(n={}),i.callback=e):s.isObject(e)&&(n=e),i.globalCfg=n,this},o.tooltip=function(t,e){var n,r=this.get("tooltipCfg");(r||(r={}),!1===t)?this.set("tooltipCfg",!1):(t&&(n=d(t)),r.fields=n,r.cfg=e);return this.set("tooltipCfg",r),this},o.animate=function(t){return this.set("animateCfg",t),this},o.active=function(t,e){return!1===t?this.set("allowActive",!1):s.isObject(t)?(this.set("allowActive",!0),this.set("activedOptions",t)):(this.set("allowActive",!0),this.set("activedOptions",e)),this},o.adjust=function(t){return this.get("hasDefaultAdjust")||(t&&(t=y(t)),this.set("adjusts",t)),this},o.select=function(t,e){return!1===t?this.set("allowSelect",!1):s.isObject(t)?(this.set("allowSelect",!0),this.set("selectedOptions",t)):(this.set("allowSelect",!0),this.set("selectedOptions",e)),this},o.hasAdjust=function(t){var e=this.get("adjusts");if(!t)return!1;var n=!1;return s.each(e,function(e){if(e.type===t)return n=!0,!1}),n},o.hasStack=function(){var t=this.get("isStacked");return s.isNil(t)&&(t=this.hasAdjust("stack"),this.set("isStacked",t)),t},o.isInCircle=function(){var t=this.get("coord");return t&&t.isPolar},o._initContainer=function(){var t=this,e=t.get("shapeContainer");if(!e){var n=t.get("container"),r=t.get("view"),i=r&&r.get("_id");e=n.addGroup({viewId:i,visible:t.get("visible")}),t.set("shapeContainer",e)}},o.init=function(){var t=this;if(t._initContainer(),t._initAttrs(),t.get("tooltipCfg")&&t.get("tooltipCfg").fields){var e=t.get("tooltipCfg").fields;s.each(e,function(e){t._createScale(e)})}var n=t._processData();t.get("adjusts")&&t._adjust(n),t.set("dataArray",n)},o._initAttrs=function(){var t=this,e=t.get("attrs"),n=t.get("attrOptions"),r=t.get("coord"),a=t.viewTheme||u,o=!1;for(var c in n)if(n.hasOwnProperty(c)){var l=n[c],h=s.upperFirst(c),f=d(l.field);"position"===c&&(l.coord=r,1===f.length&&"theta"===r.type&&(f.unshift("1"),o=!0));for(var p=[],g=0;g<f.length;g++){var v=f[g],y=t._createScale(v);"color"===c&&s.isNil(l.values)&&(y.values.length<=8?l.values=o?a.colors_pie:a.colors:y.values.length<=16?l.values=o?a.colors_pie_16:a.colors_16:l.values=a.colors_24,s.isNil(l.values)&&(l.values=a.colors)),p.push(y)}if("theta"===r.type&&"position"===c&&p.length>1){var m=p[1];m.change({nice:!1,min:0,max:Math.max.apply(null,m.values)})}l.scales=p;var x=new i[h](l);e[c]=x}},o._processData=function(){for(var t=this.get("data"),e=[],n=this._groupData(t),r=0;r<n.length;r++){var i=n[r],a=this._saveOrigin(i);this._numberic(a),e.push(a)}return e},o._groupData=function(t){var e=this._getGroupScales().map(function(t){return t.field});return s.Array.group(t,e)},o._saveOrigin=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i={};for(var a in r)i[a]=r[a];i[v]=r,e.push(i)}return e},o._numberic=function(t){for(var e=this.getAttr("position").scales,n=0;n<t.length;n++)for(var r=t[n],i=0;i<Math.min(2,e.length);i++){var a=e[i];if(a.isCategory){var o=a.field;r[o]=a.translate(r[o])}}},o._getGroupScales=function(){var t=this.get("groupScales");if(!t){t=[];var e=this.get("attrs");s.each(e,function(e){if(-1!==g.indexOf(e.type)){var n=e.scales;s.each(n,function(e){e.isCategory&&-1===s.indexOf(t,e)&&t.push(e)})}}),this.set("groupScales",t)}return t},o._updateStackRange=function(t,e,n){for(var r=s.Array.merge(n),i=e.min,a=e.max,o=0;o<r.length;o++){var u=r[o],c=Math.min.apply(null,u[t]),l=Math.max.apply(null,u[t]);c<i&&(i=c),l>a&&(a=l)}(i<e.min||a>e.max)&&e.change({min:i,max:a})},o._adjust=function(t){var e=this,n=e.get("adjusts"),r=this.viewTheme||u,i=e.getYScale(),o=e.getXScale(),c=o.field,l=i?i.field:null;s.each(n,function(n){var u=s.mix({xField:c,yField:l},n),h=s.upperFirst(n.type);if("Dodge"===h){var f=[];if(o.isCategory||o.isIdentity)f.push("x");else{if(i)throw new Error("dodge is not support linear attribute, please use category attribute!");f.push("y")}u.adjustNames=f,u.dodgeRatio=r.widthRatio.column}else if("Stack"===h){var p=e.get("coord");if(!i){u.height=p.getHeight();var d=e.getDefaultValue("size")||3;u.size=d}!p.isTransposed&&s.isNil(u.reverseOrder)&&(u.reverseOrder=!0)}new a[h](u).processAdjust(t),"Stack"===h&&i&&e._updateStackRange(l,i,t)})},o.setCoord=function(t){this.set("coord",t);var e=this.getAttr("position");this.get("shapeContainer").setMatrix(t.matrix),e&&(e.coord=t)},o.paint=function(){var t=this,e=t.get("dataArray"),n=[],r=t.getShapeFactory();r.setCoord(t.get("coord"));var i=t.get("shapeContainer");t._beforeMapping(e);for(var a=0;a<e.length;a++){var o=e[a],u=a;o=t._mapping(o),n.push(o),t.draw(o,i,r,u)}t.get("labelCfg")&&t._addLabels(s.union.apply(null,n),i.get("children")),t.get("sortable")?t.set("dataArray",n):t._sort(n)},o._sort=function(t){var e=this.getXScale(),n=e.field;s.each(t,function(t){t.sort(function(t,r){return e.translate(t[v][n])-e.translate(r[v][n])})}),this.set("dataArray",t)},o._beforeMapping=function(t){var e=this;if(e.get("sortable")){var n=e.getXScale(),r=n.field;s.each(t,function(t){t.sort(function(t,e){return n.translate(t[r])-n.translate(e[r])})})}e.get("generatePoints")&&(s.each(t,function(t){e._generatePoints(t)}),s.each(t,function(e,n){var r=t[n+1];r&&(e[0].nextPoints=r[0].points)}))},o._addLabels=function(t,e){var n=this,r=n.get("type"),i=n.get("viewTheme")||u,a=n.get("coord"),o=c.getLabelsClass(a.type,r),l=n.get("container"),h=s.map(n.get("labelCfg").fields,function(t){return n._createScale(t)}),f=l.addGroup(o,{_id:this.get("_id"),labelCfg:s.mix({scales:h},n.get("labelCfg")),coord:a,geom:n,geomType:r,viewTheme:i,visible:n.get("visible")});f.showLabels(t,e),n.set("labelContainer",f)},o.getShapeFactory=function(){var t=this.get("shapeFactory");if(!t){var e=this.get("shapeType");t=l.getShapeFactory(e),this.set("shapeFactory",t)}return t},o._generatePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttr("shape"),r=0;r<t.length;r++){var i=t[r],a=this.createShapePointsCfg(i),o=n?this._getAttrValues(n,i):null,s=e.getShapePoints(o,a);i.points=s}},o.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale();return{x:this._normalizeValues(t[e.field],e),y:n?this._normalizeValues(t[n.field],n):t.y?t.y:.1,y0:n?n.scale(this.getYMinValue()):void 0}},o.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max;return e>=0?e:n<=0?n:0},o._normalizeValues=function(t,e){var n=[];if(s.isArray(t))for(var r=0;r<t.length;r++){var i=t[r];n.push(e.scale(i))}else n=e.scale(t);return n},o._mapping=function(t){for(var e=this.get("attrs"),n=[],r=0;r<t.length;r++){var i=t[r],a={};for(var o in a[v]=i[v],a.points=i.points,a.nextPoints=i.nextPoints,e)if(e.hasOwnProperty(o)){var u=e[o],c=u.names,l=this._getAttrValues(u,i);if(c.length>1)for(var h=0;h<l.length;h++){var f=l[h];a[c[h]]=s.isArray(f)&&1===f.length?f[0]:f}else a[c[0]]=1===l.length?l[0]:l}n.push(a)}return n},o._getAttrValues=function(t,e){for(var n=t.scales,r=[],i=0;i<n.length;i++){var a=n[i],o=a.field;"identity"===a.type?r.push(a.value):r.push(e[o])}return t.mapping.apply(t,r)},o.getAttrValue=function(t,e){var n=this.getAttr(t),r=null;n&&(r=this._getAttrValues(n,e)[0]);return r},o.getDefaultValue=function(t){var e=this.get(t),n=this.getAttr(t);if(n){var r=n.getScale(t);"identity"===r.type&&(e=r.value)}return e},o.draw=function(t,e,n,r){for(var i=0;i<t.length;i++){var a=t[i];this.drawPoint(a,e,n,r+i)}},o.getCallbackCfg=function(t,e,n){if(!t)return e;var r={},i=t.map(function(t){return n[t]});return s.each(e,function(t,e){s.isFunction(t)?r[e]=t.apply(null,i):r[e]=t}),r},o._getShapeId=function(t){var e=this.get("_id"),n=this.get("keyFields");if(n&&n.length>0)s.each(n,function(n){e+="-"+t[n]});else{var r,i=this.get("type"),a=this.getXScale(),o=this.getYScale(),u=a.field||"x",c=o.field||"y",l=t[c];r=a.isIdentity?a.value:t[u],e+="interval"===i||"schema"===i?"-"+r:"line"===i||"area"===i||"path"===i?"-"+i:"-"+r+"-"+l;var h=this._getGroupScales();s.isEmpty(h)||s.each(h,function(n){var r=n.field;"identity"!==n.type&&(e+="-"+t[r])})}return e},o.getDrawCfg=function(t){var e={origin:t,x:t.x,y:t.y,color:t.color,size:t.size,shape:t.shape,isInCircle:this.isInCircle(),opacity:t.opacity},n=this.get("styleOptions");return n&&n.style&&(e.style=this.getCallbackCfg(n.fields,n.style,t[v])),this.get("generatePoints")&&(e.points=t.points,e.nextPoints=t.nextPoints),this.get("animate")&&(e._id=this._getShapeId(t[v])),e},o.appendShapeInfo=function(t,e){t&&(t.setSilent("index",e),t.setSilent("coord",this.get("coord")),this.get("animate")&&this.get("animateCfg")&&t.setSilent("animateCfg",this.get("animateCfg")))},o.drawPoint=function(t,e,n,r){var i=t.shape,a=this.getDrawCfg(t),o=n.drawShape(i,a,e);this.appendShapeInfo(o,r)},o.getAttr=function(t){return this.get("attrs")[t]},o.getXScale=function(){return this.getAttr("position").scales[0]},o.getYScale=function(){return this.getAttr("position").scales[1]},o.getShapes=function(){var t=[],e=this.get("shapeContainer").get("children");return s.each(e,function(e){e.get("origin")&&t.push(e)}),t},o.getAttrsForLegend=function(){var t=this.get("attrs"),e=[];return s.each(t,function(t){-1!==g.indexOf(t.type)&&e.push(t)}),e},o.getFieldsForLegend=function(){var t=[],e=this.get("attrOptions");return s.each(g,function(n){var r=e[n];r&&r.field&&s.isString(r.field)&&(t=t.concat(r.field.split("*")))}),s.uniq(t)},o.changeVisible=function(t,e){this.set("visible",t);var n=this.get("shapeContainer");n&&n.set("visible",t);var r=this.get("labelContainer");(r&&r.set("visible",t),!e&&n)&&n.get("canvas").draw()},o.reset=function(){this.set("attrOptions",{}),this.clearInner()},o.clearInner=function(){this.clearActivedShapes(),this.clearSelected();var t=this.get("shapeContainer");t&&t.clear();var e=this.get("labelContainer");e&&e.remove(),this.set("attrs",{}),this.set("groupScales",null),this.set("labelContainer",null),this.set("xDistance",null),this.set("isStacked",null)},o.clear=function(){this.clearInner(),this.set("scales",{})},o.destroy=function(){this.clear();var e=this.get("shapeContainer");e&&e.remove(),this.offEvents(),t.prototype.destroy.call(this)},o.bindEvents=function(){this.get("view")&&(this._bindActiveAction(),this._bindSelectedAction())},o.offEvents=function(){this.get("view")&&(this._offActiveAction(),this._offSelectedAction())},m}(o);t.exports=m},function(t,e,n){var r=n(500),i=n(533),a=r.PathUtil,o={},s={_coord:null,draw:function(t,e){return this.drawShape?this.drawShape(t,e):null},setCoord:function(t){this._coord=t},parsePath:function(t,e){var n=this._coord;return t=a.parsePathString(t),t=n.isPolar&&!1!==e?i.convertPolarPath(n,t):i.convertNormalPath(n,t)},parsePoint:function(t){return this._coord.convertPoint(t)},parsePoints:function(t){var e=this._coord,n=[];return r.each(t,function(t){n.push(e.convertPoint(t))}),n}},u={defaultShapeType:null,setCoord:function(t){this._coord=t},getShape:function(t){r.isArray(t)&&(t=t[0]);var e=this[t]||this[this.defaultShapeType];return e._coord=this._coord,e},getShapePoints:function(t,e){var n=this.getShape(t);return(n.getPoints||n.getShapePoints||this.getDefaultPoints)(e)},getDefaultPoints:function(){return[]},getMarkerCfg:function(t,e){var n=this.getShape(t);if(!n.getMarkerCfg){var r=this.defaultShapeType;n=this.getShape(r)}return n.getMarkerCfg(e)},getSelectedCfg:function(){return{}},drawShape:function(t,e,n){var r=this.getShape(t).draw(e,n);return r&&(r.setSilent("origin",e.origin),r._id=e.yIndex?e._id+e.yIndex:e._id,r.name=this.name),r}};o.registerFactory=function(t,e){var n=r.upperFirst(t),i=r.assign({},u,e);return o[n]=i,i.name=t,i},o.registerShape=function(t,e,n){var i=r.upperFirst(t),a=o[i],u=r.assign({},s,n);return a[e]=u,u},o.getShapeFactory=function(t){return t=t||"point",this[r.upperFirst(t)]},t.exports=o},function(t,e,n){var r;try{r=n(758)}catch(t){}r||(r=window._),t.exports=r},function(t,e){var n={}.toString;t.exports=function(t,e){return n.call(t)==="[object "+e+"]"}},function(t,e,n){var r=n(504),i=n(511),a=n(507),o=n(612),s=n(1033);t.exports=function(t,e,n){void 0===n&&(n=[]);var u,c=t;return n&&n.length&&(c=s(t,n)),i(e)?u=e:r(e)?u=function(t){return"_"+e.map(function(e){return t[e]}).join("-")}:a(e)&&(u=function(t){return"_"+t[e]}),o(c,u)}},function(t,e,n){var r;try{r=n(1074)}catch(t){}r||(r=window.graphlib),t.exports=r},function(t,e,n){"use strict";n.r(e);var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},i=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}};var a=i(r),o=a.right,s=a.left,u=o,c=function(t,e){null==e&&(e=l);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return a};function l(t,e){return[t,e]}var h=function(t,e,n){var r,i,a,o,s=t.length,u=e.length,c=new Array(s*u);for(null==n&&(n=l),r=a=0;r<s;++r)for(o=t[r],i=0;i<u;++i,++a)c[a]=n(o,e[i]);return c},f=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},p=function(t){return null===t?NaN:+t},d=function(t,e){var n,r,i=t.length,a=0,o=-1,s=0,u=0;if(null==e)for(;++o<i;)isNaN(n=p(t[o]))||(u+=(r=n-s)*(n-(s+=r/++a)));else for(;++o<i;)isNaN(n=p(e(t[o],o,t)))||(u+=(r=n-s)*(n-(s+=r/++a)));if(a>1)return u/(a-1)},g=function(t,e){var n=d(t,e);return n?Math.sqrt(n):n},v=function(t,e){var n,r,i,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=i=n;++o<a;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},y=Array.prototype,m=y.slice,x=y.map,_=function(t){return function(){return t}},w=function(t){return t},b=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a},M=Math.sqrt(50),S=Math.sqrt(10),E=Math.sqrt(2),C=function(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=k(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;return r&&a.reverse(),a};function k(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=M?10:a>=S?5:a>=E?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=M?10:a>=S?5:a>=E?2:1)}function P(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=M?i*=10:a>=S?i*=5:a>=E&&(i*=2),e<t?-i:i}var T=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},A=function(){var t=w,e=v,n=T;function r(r){var i,a,o=r.length,s=new Array(o);for(i=0;i<o;++i)s[i]=t(r[i],i,r);var c=e(s),l=c[0],h=c[1],f=n(s,l,h);Array.isArray(f)||(f=P(l,h,f),f=b(Math.ceil(l/f)*f,h,f));for(var p=f.length;f[0]<=l;)f.shift(),--p;for(;f[p-1]>h;)f.pop(),--p;var d,g=new Array(p+1);for(i=0;i<=p;++i)(d=g[i]=[]).x0=i>0?f[i-1]:l,d.x1=i<p?f[i]:h;for(i=0;i<o;++i)l<=(a=s[i])&&a<=h&&g[u(f,a,0,p)].push(r[i]);return g}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:_(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:_([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?_(m.call(t)):_(t),r):n},r},I=function(t,e,n){if(null==n&&(n=p),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(i-a)}},O=function(t,e,n){return t=x.call(t,p).sort(r),Math.ceil((n-e)/(2*(I(t,.75)-I(t,.25))*Math.pow(t.length,-1/3)))},L=function(t,e,n){return Math.ceil((n-e)/(3.5*g(t)*Math.pow(t.length,-1/3)))},j=function(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&n>r&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&n>r&&(r=n);return r},R=function(t,e){var n,r=t.length,i=r,a=-1,o=0;if(null==e)for(;++a<r;)isNaN(n=p(t[a]))?--i:o+=n;else for(;++a<r;)isNaN(n=p(e(t[a],a,t)))?--i:o+=n;if(i)return o/i},D=function(t,e){var n,i=t.length,a=-1,o=[];if(null==e)for(;++a<i;)isNaN(n=p(t[a]))||o.push(n);else for(;++a<i;)isNaN(n=p(e(t[a],a,t)))||o.push(n);return I(o.sort(r),.5)},N=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--o]=r[e];return n},B=function(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&r>n&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&r>n&&(r=n);return r},F=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},z=function(t,e){if(n=t.length){var n,i,a=0,o=0,s=t[o];for(null==e&&(e=r);++a<n;)(e(i=t[a],s)<0||0!==e(s,s))&&(s=i,o=a);return 0===e(s,s)?o:void 0}},G=function(t,e,n){for(var r,i,a=(null==n?t.length:n)-(e=null==e?0:+e);a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},V=function(t,e){var n,r=t.length,i=-1,a=0;if(null==e)for(;++i<r;)(n=+t[i])&&(a+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(a+=n);return a},q=function(t){if(!(i=t.length))return[];for(var e=-1,n=B(t,H),r=new Array(n);++e<n;)for(var i,a=-1,o=r[e]=new Array(i);++a<i;)o[a]=t[a][e];return r};function H(t){return t.length}var Y=function(){return q(arguments)};n.d(e,"bisect",function(){return u}),n.d(e,"bisectRight",function(){return o}),n.d(e,"bisectLeft",function(){return s}),n.d(e,"ascending",function(){return r}),n.d(e,"bisector",function(){return i}),n.d(e,"cross",function(){return h}),n.d(e,"descending",function(){return f}),n.d(e,"deviation",function(){return g}),n.d(e,"extent",function(){return v}),n.d(e,"histogram",function(){return A}),n.d(e,"thresholdFreedmanDiaconis",function(){return O}),n.d(e,"thresholdScott",function(){return L}),n.d(e,"thresholdSturges",function(){return T}),n.d(e,"max",function(){return j}),n.d(e,"mean",function(){return R}),n.d(e,"median",function(){return D}),n.d(e,"merge",function(){return N}),n.d(e,"min",function(){return B}),n.d(e,"pairs",function(){return c}),n.d(e,"permute",function(){return F}),n.d(e,"quantile",function(){return I}),n.d(e,"range",function(){return b}),n.d(e,"scan",function(){return z}),n.d(e,"shuffle",function(){return G}),n.d(e,"sum",function(){return V}),n.d(e,"ticks",function(){return C}),n.d(e,"tickIncrement",function(){return k}),n.d(e,"tickStep",function(){return P}),n.d(e,"transpose",function(){return q}),n.d(e,"variance",function(){return d}),n.d(e,"zip",function(){return Y})},function(t,e){t.exports=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e,n){var r=n(508),i=n(719),a=["min","max","median","start","end"],o=function(t){var e,n;function o(){return t.apply(this,arguments)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=o.prototype;return s.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{xScales:null,yScales:null,el:null})},s.render=function(){},s.clear=function(){var t=this.get("el");t&&t.remove()},s.changeVisible=function(t){this.set("visible",t);var e=this.get("el");e&&(e.set?e.set("visible",t):e.style.display=t?"":"none")},s.parsePoint=function(t,e){var n,a,o=this,s=o.get("xScales"),u=o.get("yScales");if(r.isFunction(e)&&(e=e(s,u)),r.isArray(e)&&r.isString(e[0])&&-1!==e[0].indexOf("%"))return this._parsePercentPoint(t,e);if(r.isArray(e))n=o._getNormalizedValue(e[0],i.getFirstScale(s)),a=o._getNormalizedValue(e[1],i.getFirstScale(u));else for(var c in e){var l=e[c];s[c]&&(n=o._getNormalizedValue(l,s[c])),u[c]&&(a=o._getNormalizedValue(l,u[c],"y"))}return r.isNil(n)||r.isNil(a)?void 0:t.convert({x:n,y:a})},s._getNormalizedValue=function(t,e){var n,i;-1!==r.indexOf(a,t)?"start"===t?n=0:"end"===t?n=1:"median"===t?(i=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(i)):(i=e.isCategory?"min"===t?0:e.values.length-1:e[t],n=e.scale(i)):n=e.scale(t);return n},s._parsePercentPoint=function(t,e){var n=parseFloat(e[0])/100,r=parseFloat(e[1])/100,i=t.start,a=t.end,o=Math.min(i.x,a.x),s=Math.min(i.y,a.y);return{x:t.width*n+o,y:t.height*r+s}},o}(n(553));t.exports=o},function(t,e,n){"use strict";n.r(e);var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},a=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.hasOwnProperty(e)?{space:i[e],local:t}:t};var o=function(t){var e=a(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===r&&e.documentElement.namespaceURI===r?e.createElement(t):e.createElementNS(n,t)}})(e)};function s(){}var u=function(t){return null==t?s:function(){return this.querySelector(t)}};function c(){return[]}var l=function(t){return null==t?c:function(){return this.querySelectorAll(t)}},h=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var f=document.documentElement;if(!f.matches){var p=f.webkitMatchesSelector||f.msMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector;h=function(t){return function(){return p.call(this,t)}}}}var d=h,g=function(t){return new Array(t.length)};function v(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}v.prototype={constructor:v,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var y="$";function m(t,e,n,r,i,a){for(var o,s=0,u=e.length,c=a.length;s<c;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new v(t,a[s]);for(;s<u;++s)(o=e[s])&&(i[s]=o)}function x(t,e,n,r,i,a,o){var s,u,c,l={},h=e.length,f=a.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=c=y+o.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<f;++s)(u=l[c=y+o.call(t,a[s],s,a)])?(r[s]=u,u.__data__=a[s],l[c]=null):n[s]=new v(t,a[s]);for(s=0;s<h;++s)(u=e[s])&&l[p[s]]===u&&(i[s]=u)}function _(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var w=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function b(t,e){return t.style.getPropertyValue(e)||w(t).getComputedStyle(t,null).getPropertyValue(e)}function M(t){return t.trim().split(/^|\s+/)}function S(t){return t.classList||new E(t)}function E(t){this._node=t,this._names=M(t.getAttribute("class")||"")}function C(t,e){for(var n=S(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function k(t,e){for(var n=S(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}E.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function P(){this.textContent=""}function T(){this.innerHTML=""}function A(){this.nextSibling&&this.parentNode.appendChild(this)}function I(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function O(){return null}function L(){var t=this.parentNode;t&&t.removeChild(this)}function j(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function R(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var D={},N=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(D={mouseenter:"mouseover",mouseleave:"mouseout"}));function B(t,e,n){return t=F(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function F(t,e,n){return function(r){var i=N;N=r;try{t.call(this,this.__data__,e,n)}finally{N=i}}}function z(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function G(t,e,n){var r=D.hasOwnProperty(t.type)?B:F;return function(i,a,o){var s,u=this.__on,c=r(e,a,o);if(u)for(var l=0,h=u.length;l<h;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function V(t,e,n,r){var i=N;t.sourceEvent=N,N=t;try{return e.apply(n,r)}finally{N=i}}function q(t,e,n){var r=w(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var H=[null];function Y(t,e){this._groups=t,this._parents=e}function W(){return new Y([[document.documentElement]],H)}Y.prototype=W.prototype={constructor:Y,select:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],c=s.length,l=r[i]=new Array(c),h=0;h<c;++h)(a=s[h])&&(o=t.call(a,a.__data__,h,s))&&("__data__"in a&&(o.__data__=a.__data__),l[h]=o);return new Y(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=l(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],u=s.length,c=0;c<u;++c)(o=s[c])&&(r.push(t.call(o,o.__data__,c,s)),i.push(o));return new Y(r,i)},filter:function(t){"function"!=typeof t&&(t=d(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],c=0;c<s;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&u.push(a);return new Y(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var n,r=e?x:m,i=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,s=new Array(o),u=new Array(o),c=new Array(o),l=0;l<o;++l){var h=i[l],f=a[l],p=f.length,d=t.call(h,h&&h.__data__,l,i),g=d.length,v=u[l]=new Array(g),y=s[l]=new Array(g);r(h,f,v,y,c[l]=new Array(p),d,e);for(var _,w,b=0,M=0;b<g;++b)if(_=v[b]){for(b>=M&&(M=b+1);!(w=y[M])&&++M<g;);_._next=w||null}}return(s=new Y(s,i))._enter=u,s._exit=c,s},enter:function(){return new Y(this._enter||this._groups.map(g),this._parents)},exit:function(){return new Y(this._exit||this._groups.map(g),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,c=e[s],l=n[s],h=c.length,f=o[s]=new Array(h),p=0;p<h;++p)(u=c[p]||l[p])&&(f[p]=u);for(;s<r;++s)o[s]=e[s];return new Y(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=_);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,c=i[a]=new Array(u),l=0;l<u;++l)(o=s[l])&&(c[l]=o);c.sort(e)}return new Y(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=a(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):b(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=M(t+"");if(arguments.length<2){for(var r=S(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?C:k)(this,t)}}:e?function(t){return function(){C(this,t)}}:function(t){return function(){k(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?P:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?T:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(A)},lower:function(){return this.each(I)},append:function(t){var e="function"==typeof t?t:o(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:o(t),r=null==e?O:"function"==typeof e?e:u(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(L)},clone:function(t){return this.select(t?R:j)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),o=a.length;if(!(arguments.length<2)){for(s=e?G:z,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return q(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return q(this,t,e)}})(t,e))}};var U=W,X=function(t){return"string"==typeof t?new Y([[document.querySelector(t)]],[document.documentElement]):new Y([[t]],H)},Z=function(t){return X(o(t).call(document.documentElement))},Q=0;function J(){return new $}function $(){this._="@"+(++Q).toString(36)}$.prototype=J.prototype={constructor:$,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var K=function(){for(var t,e=N;t=e.sourceEvent;)e=t;return e},tt=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},et=function(t){var e=K();return e.changedTouches&&(e=e.changedTouches[0]),tt(t,e)},nt=function(t){return"string"==typeof t?new Y([document.querySelectorAll(t)],[document.documentElement]):new Y([null==t?[]:t],H)},rt=function(t,e,n){arguments.length<3&&(n=e,e=K().changedTouches);for(var r,i=0,a=e?e.length:0;i<a;++i)if((r=e[i]).identifier===n)return tt(t,r);return null},it=function(t,e){null==e&&(e=K().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=tt(t,e[n]);return i};n.d(e,"create",function(){return Z}),n.d(e,"creator",function(){return o}),n.d(e,"local",function(){return J}),n.d(e,"matcher",function(){return d}),n.d(e,"mouse",function(){return et}),n.d(e,"namespace",function(){return a}),n.d(e,"namespaces",function(){return i}),n.d(e,"clientPoint",function(){return tt}),n.d(e,"select",function(){return X}),n.d(e,"selectAll",function(){return nt}),n.d(e,"selection",function(){return U}),n.d(e,"selector",function(){return u}),n.d(e,"selectorAll",function(){return l}),n.d(e,"style",function(){return b}),n.d(e,"touch",function(){return rt}),n.d(e,"touches",function(){return it}),n.d(e,"window",function(){return w}),n.d(e,"event",function(){return N}),n.d(e,"customEvent",function(){return V})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0),a=s(i),o=s(n(1));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=function(t){function e(t,n){u(this,e);var r=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.getParentInfo=function(){return{id:r.id,name:r.name}},r.name=n,r}return l(e,i.Component),r(e,[{key:"getChildContext",value:function(){return{addElement:this.context.addElement,updateElement:this.context.updateElement,deleteElement:this.context.deleteElement,createId:this.context.createId,getParentInfo:this.getParentInfo,getViewId:this.context.getViewId}}},{key:"componentWillMount",value:function(){var t=this.context;this.id=t.createId(),t.addElement(this.name,this.id,this.props,t.getParentInfo(),t.getViewId())}},{key:"componentWillReceiveProps",value:function(t){this.context.updateElement(this.name,this.id,t,this.context.getParentInfo(),this.context.getViewId())}},{key:"componentWillUnmount",value:function(){this.context.deleteElement(this.name,this.id)}},{key:"render",value:function(){var t=this.props.children;return t?t.length&&(t=a.default.createElement("div",null,t)):t=null,t}}]),e}();h.contextTypes={addElement:o.default.func,updateElement:o.default.func,deleteElement:o.default.func,createId:o.default.func,getParentInfo:o.default.func,getViewId:o.default.func},h.childContextTypes={addElement:o.default.func,updateElement:o.default.func,deleteElement:o.default.func,createId:o.default.func,getParentInfo:o.default.func,getViewId:o.default.func},h.generateBaseTypedComponent=function(t){var e=function(e){function n(e){return u(this,n),c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t))}return l(n,h),r(n,[{key:"getChildContext",value:function(){return{addElement:this.context.addElement,updateElement:this.context.updateElement,deleteElement:this.context.deleteElement,createId:this.context.createId,getParentInfo:this.getParentInfo,getViewId:this.context.getViewId}}}]),n}();return e.contextTypes={addElement:o.default.func,updateElement:o.default.func,deleteElement:o.default.func,createId:o.default.func,getParentInfo:o.default.func,getViewId:o.default.func},e.childContextTypes={addElement:o.default.func,updateElement:o.default.func,deleteElement:o.default.func,createId:o.default.func,getParentInfo:o.default.func,getViewId:o.default.func},e},e.default=h},function(t,e,n){"use strict";function r(t){var e,n,r=t.length;if(1===r)e=0,n=t[0][1];else{for(var i,a,o,s=0,u=0,c=0,l=0,h=0;h<r;h++)s+=a=(i=t[h])[0],u+=o=i[1],c+=a*a,l+=a*o;n=u/r-(e=(r*l-s*u)/(r*c-s*s))*s/r}return{m:e,b:n}}function i(t){return function(e){return t.b+t.m*e}}function a(t){if(0===t.length)return 0;for(var e,n=t[0],r=0,i=1;i<t.length;i++)e=n+t[i],Math.abs(n)>=Math.abs(t[i])?r+=n-e+t[i]:r+=t[i]-e+n,n=e;return n+r}function o(t){if(0===t.length)throw new Error("mean requires at least one data point");return a(t)/t.length}function s(t,e){var n,r,i=o(t),a=0;if(2===e)for(r=0;r<t.length;r++)a+=(n=t[r]-i)*n;else for(r=0;r<t.length;r++)a+=Math.pow(t[r]-i,e);return a}function u(t){if(0===t.length)throw new Error("variance requires at least one data point");return s(t,2)/t.length}function c(t){if(1===t.length)return 0;var e=u(t);return Math.sqrt(e)}function l(t,e){if(t.length<2)return 1;for(var n=0,r=0;r<t.length;r++)n+=t[r][1];for(var i=n/t.length,a=0,o=0;o<t.length;o++)a+=Math.pow(i-t[o][1],2);for(var s=0,u=0;u<t.length;u++)s+=Math.pow(t[u][1]-e(t[u][0]),2);return 1-s/a}function h(t){if(0===t.length)throw new Error("mode requires at least one data point");if(1===t.length)return t[0];for(var e=t[0],n=NaN,r=0,i=1,a=1;a<t.length+1;a++)t[a]!==e?(i>r&&(r=i,n=e),i=1,e=t[a]):i++;return n}function f(t){return t.slice().sort(function(t,e){return t-e})}function p(t){return h(f(t))}function d(t){for(var e,n=new Map,r=0,i=0;i<t.length;i++){var a=n.get(t[i]);void 0===a?a=1:a++,a>r&&(e=t[i],r=a),n.set(t[i],a)}if(0===r)throw new Error("mode requires at last one data point");return e}function g(t){if(0===t.length)throw new Error("min requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]<e&&(e=t[n]);return e}function v(t){if(0===t.length)throw new Error("max requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]>e&&(e=t[n]);return e}function y(t){if(0===t.length)throw new Error("extent requires at least one data point");for(var e=t[0],n=t[0],r=1;r<t.length;r++)t[r]>n&&(n=t[r]),t[r]<e&&(e=t[r]);return[e,n]}function m(t){return t[0]}function x(t){return t[t.length-1]}function _(t){return[t[0],t[t.length-1]]}function w(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function b(t){for(var e=1,n=0;n<t.length;n++)e*=t[n];return e}function M(t,e){var n=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function S(t,e,n,r){for(n=n||0,r=r||t.length-1;r>n;){if(r-n>600){var i=r-n+1,a=e-n+1,o=Math.log(i),s=.5*Math.exp(2*o/3),u=.5*Math.sqrt(o*s*(i-s)/i);a-i/2<0&&(u*=-1),S(t,e,Math.max(n,Math.floor(e-a*s/i+u)),Math.min(r,Math.floor(e+(i-a)*s/i+u)))}var c=t[e],l=n,h=r;for(E(t,n,e),t[r]>c&&E(t,n,r);l<h;){for(E(t,l,h),l++,h--;t[l]<c;)l++;for(;t[h]>c;)h--}t[n]===c?E(t,n,h):E(t,++h,r),h<=e&&(n=h+1),e<=h&&(r=h-1)}}function E(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function C(t,e){var n=t.slice();if(Array.isArray(e)){!function(t,e){for(var n=[0],r=0;r<e.length;r++)n.push(T(t.length,e[r]));n.push(t.length-1),n.sort(P);for(var i=[0,n.length-1];i.length;){var a=Math.ceil(i.pop()),o=Math.floor(i.pop());if(!(a-o<=1)){var s=Math.floor((o+a)/2);k(t,n[s],Math.floor(n[o]),Math.ceil(n[a])),i.push(o,s,s,a)}}}(n,e);for(var r=[],i=0;i<e.length;i++)r[i]=M(n,e[i]);return r}return k(n,T(n.length,e),0,n.length-1),M(n,e)}function k(t,e,n,r){e%1==0?S(t,e,n,r):(S(t,e=Math.floor(e),n,r),S(t,e+1,e+1,r))}function P(t,e){return t-e}function T(t,e){var n=t*e;return 1===e?t-1:0===e?0:n%1!=0?Math.ceil(n)-1:t%2==0?n-.5:n}function A(t,e){if(e<t[0])return 0;if(e>t[t.length-1])return 1;var n=function(t,e){for(var n=0,r=0,i=t.length;r<i;)e<=t[n=r+i>>>1]?i=n:r=-~n;return r}(t,e);if(t[n]!==e)return n/t.length;n++;var r=function(t,e){for(var n=0,r=0,i=t.length;r<i;)e>=t[n=r+i>>>1]?r=-~n:i=n;return r}(t,e);if(r===n)return n/t.length;var i=r-n+1;return i*(r+n)/2/i/t.length}function I(t,e){return A(f(t),e)}function O(t){var e=C(t,.75),n=C(t,.25);if("number"==typeof e&&"number"==typeof n)return e-n}function L(t){return+C(t,.5)}function j(t){for(var e=L(t),n=[],r=0;r<t.length;r++)n.push(Math.abs(t[r]-e));return L(n)}function R(t,e){var n=[];if(e<1)throw new Error("chunk size must be a positive number");if(Math.floor(e)!==e)throw new Error("chunk size must be an integer");for(var r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}function D(t,e,n){if(0===t.length)return[];n=n||Math.random;for(var r=t.length,i=[],a=0;a<e;a++){var o=Math.floor(n()*r);i.push(t[o])}return i}function N(t,e){e=e||Math.random;for(var n,r,i=t.length;i>0;)r=Math.floor(e()*i--),n=t[i],t[i]=t[r],t[r]=n;return t}function B(t,e){return N(t.slice().slice(),e)}function F(t,e,n){return B(t,n).slice(0,e)}function z(t){for(var e,n=0,r=0;r<t.length;r++)0!==r&&t[r]===e||(e=t[r],n++);return n}function G(t,e){for(var n=[],r=0;r<t;r++){for(var i=[],a=0;a<e;a++)i.push(0);n.push(i)}return n}function V(t,e,n,r){var i;if(t>0){var a=(n[e]-n[t-1])/(e-t+1);i=r[e]-r[t-1]-(e-t+1)*a*a}else i=r[e]-n[e]*n[e]/(e+1);return i<0?0:i}function q(t,e,n,r,i,a,o){if(!(t>e)){var s=Math.floor((t+e)/2);r[n][s]=r[n-1][s-1],i[n][s]=s;var u=n;t>n&&(u=Math.max(u,i[n][t-1]||0)),u=Math.max(u,i[n-1][s]||0);var c,l,h,f=s-1;e<r.length-1&&(f=Math.min(f,i[n][e+1]||0));for(var p=f;p>=u&&!((c=V(p,s,a,o))+r[n-1][u-1]>=r[n][s]);--p)(l=V(u,s,a,o)+r[n-1][u-1])<r[n][s]&&(r[n][s]=l,i[n][s]=u),u++,(h=c+r[n-1][p-1])<r[n][s]&&(r[n][s]=h,i[n][s]=p);q(t,s-1,n,r,i,a,o),q(s+1,e,n,r,i,a,o)}}function H(t,e){if(e>t.length)throw new Error("cannot generate more classes than there are data values");var n=f(t);if(1===z(n))return[n];var r=G(e,n.length),i=G(e,n.length);!function(t,e,n){for(var r=e[0].length,i=t[Math.floor(r/2)],a=[],o=[],s=0,u=void 0;s<r;++s)u=t[s]-i,0===s?(a.push(u),o.push(u*u)):(a.push(a[s-1]+u),o.push(o[s-1]+u*u)),e[0][s]=V(0,s,a,o),n[0][s]=0;for(var c=1;c<e.length;++c)q(c<e.length-1?c:r-1,r-1,c,e,n,a,o)}(n,r,i);for(var a=[],o=i[0].length-1,s=i.length-1;s>=0;s--){var u=i[s][o];a[s]=n.slice(u,o+1),s>0&&(o=u-1)}return a}function Y(t,e){if(t.length<2)return t;for(var n=g(t),r=v(t),i=[n],a=(r-n)/e,o=1;o<e;o++)i.push(i[0]+a*o);return i.push(r),i}function W(t,e){if(t.length!==e.length)throw new Error("sampleCovariance requires samples with equal lengths");if(t.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var n=o(t),r=o(e),i=0,a=0;a<t.length;a++)i+=(t[a]-n)*(e[a]-r);return i/(t.length-1)}function U(t){if(t.length<2)throw new Error("sampleVariance requires at least two data points");return s(t,2)/(t.length-1)}function X(t){var e=U(t);return Math.sqrt(e)}function Z(t,e){return W(t,e)/X(t)/X(e)}function Q(t){if(t.length<3)throw new Error("sampleSkewness requires at least three data points");for(var e,n=o(t),r=0,i=0,a=0;a<t.length;a++)r+=(e=t[a]-n)*e,i+=e*e*e;var s=Math.sqrt(r/(t.length-1)),u=t.length;return u*i/((u-1)*(u-2)*Math.pow(s,3))}function J(t){var e=t.length;if(e<4)throw new Error("sampleKurtosis requires at least four data points");for(var n,r=o(t),i=0,a=0,s=0;s<e;s++)i+=(n=t[s]-r)*n,a+=n*n*n*n;return(e-1)/((e-2)*(e-3))*(e*(e+1)*a/(i*i)-3*(e-1))}function $(t){for(var e=new Array(t.length),n=[t.slice()],r=0;r<t.length;r++)e[r]=0;for(var i=0;i<t.length;)if(e[i]<i){var a=0;i%2!=0&&(a=e[i]);var o=t[a];t[a]=t[i],t[i]=o,n.push(t.slice()),e[i]++,i=0}else e[i]=0,i++;return n}function K(t,e){var n,r,i,a,o=[];for(n=0;n<t.length;n++)if(1===e)o.push([t[n]]);else for(i=K(t.slice(n+1,t.length),e-1),r=0;r<i.length;r++)(a=i[r]).unshift(t[n]),o.push(a);return o}function tt(t,e){for(var n=[],r=0;r<t.length;r++)if(1===e)n.push([t[r]]);else for(var i=tt(t.slice(r,t.length),e-1),a=0;a<i.length;a++)n.push([t[r]].concat(i[a]));return n}function et(t,e,n){return t+(n-t)/(e+1)}function nt(t,e,n,r){return(t*e+n*r)/(e+r)}function rt(t,e,n,r,i,a){var o=nt(e,n,i,a);return(n*(t+Math.pow(e-o,2))+a*(r+Math.pow(i-o,2)))/(n+a)}function it(t){if(0===t.length)throw new Error("geometricMean requires at least one data point");for(var e=1,n=0;n<t.length;n++){if(t[n]<=0)throw new Error("geometricMean requires only positive numbers as input");e*=t[n]}return Math.pow(e,1/t.length)}function at(t){if(0===t.length)throw new Error("harmonicMean requires at least one data point");for(var e=0,n=0;n<t.length;n++){if(t[n]<=0)throw new Error("harmonicMean requires only positive numbers as input");e+=1/t[n]}return t.length/e}function ot(t){return M(t,.5)}function st(t,e,n){return(t*e-n)/(e-1)}function ut(t){if(0===t.length)throw new Error("rootMeanSquare requires at least one data point");for(var e=0,n=0;n<t.length;n++)e+=Math.pow(t[n],2);return Math.sqrt(e/t.length)}function ct(t,e){return(o(t)-e)/(c(t)/Math.sqrt(t.length))}function lt(t,e,n){var r=t.length,i=e.length;if(!r||!i)return null;n||(n=0);var a=o(t),s=o(e),u=U(t),c=U(e);return"number"==typeof a&&"number"==typeof s&&"number"==typeof u&&"number"==typeof c?(a-s-n)/Math.sqrt(((r-1)*u+(i-1)*c)/(r+i-2)*(1/r+1/i)):void 0}function ht(){this.totalCount=0,this.data={}}function ft(){this.weights=[],this.bias=0}n.r(e),n.d(e,"linearRegression",function(){return r}),n.d(e,"linearRegressionLine",function(){return i}),n.d(e,"standardDeviation",function(){return c}),n.d(e,"rSquared",function(){return l}),n.d(e,"mode",function(){return p}),n.d(e,"modeFast",function(){return d}),n.d(e,"modeSorted",function(){return h}),n.d(e,"min",function(){return g}),n.d(e,"max",function(){return v}),n.d(e,"extent",function(){return y}),n.d(e,"minSorted",function(){return m}),n.d(e,"maxSorted",function(){return x}),n.d(e,"extentSorted",function(){return _}),n.d(e,"sum",function(){return a}),n.d(e,"sumSimple",function(){return w}),n.d(e,"product",function(){return b}),n.d(e,"quantile",function(){return C}),n.d(e,"quantileSorted",function(){return M}),n.d(e,"quantileRank",function(){return I}),n.d(e,"quantileRankSorted",function(){return A}),n.d(e,"interquartileRange",function(){return O}),n.d(e,"iqr",function(){return O}),n.d(e,"medianAbsoluteDeviation",function(){return j}),n.d(e,"mad",function(){return j}),n.d(e,"chunk",function(){return R}),n.d(e,"sampleWithReplacement",function(){return D}),n.d(e,"shuffle",function(){return B}),n.d(e,"shuffleInPlace",function(){return N}),n.d(e,"sample",function(){return F}),n.d(e,"ckmeans",function(){return H}),n.d(e,"uniqueCountSorted",function(){return z}),n.d(e,"sumNthPowerDeviations",function(){return s}),n.d(e,"equalIntervalBreaks",function(){return Y}),n.d(e,"sampleCovariance",function(){return W}),n.d(e,"sampleCorrelation",function(){return Z}),n.d(e,"sampleVariance",function(){return U}),n.d(e,"sampleStandardDeviation",function(){return X}),n.d(e,"sampleSkewness",function(){return Q}),n.d(e,"sampleKurtosis",function(){return J}),n.d(e,"permutationsHeap",function(){return $}),n.d(e,"combinations",function(){return K}),n.d(e,"combinationsReplacement",function(){return tt}),n.d(e,"addToMean",function(){return et}),n.d(e,"combineMeans",function(){return nt}),n.d(e,"combineVariances",function(){return rt}),n.d(e,"geometricMean",function(){return it}),n.d(e,"harmonicMean",function(){return at}),n.d(e,"average",function(){return o}),n.d(e,"mean",function(){return o}),n.d(e,"median",function(){return L}),n.d(e,"medianSorted",function(){return ot}),n.d(e,"subtractFromMean",function(){return st}),n.d(e,"rootMeanSquare",function(){return ut}),n.d(e,"rms",function(){return ut}),n.d(e,"variance",function(){return u}),n.d(e,"tTest",function(){return ct}),n.d(e,"tTestTwoSample",function(){return lt}),n.d(e,"BayesianClassifier",function(){return ht}),n.d(e,"bayesian",function(){return ht}),n.d(e,"PerceptronModel",function(){return ft}),n.d(e,"perceptron",function(){return ft}),n.d(e,"epsilon",function(){return pt}),n.d(e,"factorial",function(){return dt}),n.d(e,"gamma",function(){return gt}),n.d(e,"gammaln",function(){return xt}),n.d(e,"bernoulliDistribution",function(){return _t}),n.d(e,"binomialDistribution",function(){return wt}),n.d(e,"poissonDistribution",function(){return bt}),n.d(e,"chiSquaredDistributionTable",function(){return Mt}),n.d(e,"chiSquaredGoodnessOfFit",function(){return St}),n.d(e,"kernelDensityEstimation",function(){return Pt}),n.d(e,"kde",function(){return Pt}),n.d(e,"zScore",function(){return Tt}),n.d(e,"cumulativeStdNormalProbability",function(){return jt}),n.d(e,"standardNormalTable",function(){return Ot}),n.d(e,"errorFunction",function(){return Rt}),n.d(e,"erf",function(){return Rt}),n.d(e,"inverseErrorFunction",function(){return Dt}),n.d(e,"probit",function(){return Nt}),n.d(e,"permutationTest",function(){return Bt}),n.d(e,"bisect",function(){return zt}),n.d(e,"quickselect",function(){return S}),n.d(e,"sign",function(){return Ft}),n.d(e,"numericSort",function(){return f}),ht.prototype.train=function(t,e){for(var n in this.data[e]||(this.data[e]={}),t){var r=t[n];void 0===this.data[e][n]&&(this.data[e][n]={}),void 0===this.data[e][n][r]&&(this.data[e][n][r]=0),this.data[e][n][r]++}this.totalCount++},ht.prototype.score=function(t){var e,n={};for(var r in t){var i=t[r];for(e in this.data)n[e]={},n[e][r+"_"+i]=this.data[e][r]?(this.data[e][r][i]||0)/this.totalCount:0}var a={};for(e in n)for(var o in a[e]=0,n[e])a[e]+=n[e][o];return a},ft.prototype.predict=function(t){if(t.length!==this.weights.length)return null;for(var e=0,n=0;n<this.weights.length;n++)e+=this.weights[n]*t[n];return(e+=this.bias)>0?1:0},ft.prototype.train=function(t,e){if(0!==e&&1!==e)return null;t.length!==this.weights.length&&(this.weights=t,this.bias=1);var n=this.predict(t);if(n!==e){for(var r=e-n,i=0;i<this.weights.length;i++)this.weights[i]+=r*t[i];this.bias+=r}return this};var pt=1e-4;function dt(t){if(t<0)throw new Error("factorial requires a non-negative value");if(Math.floor(t)!==t)throw new Error("factorial requires an integer input");for(var e=1,n=2;n<=t;n++)e*=n;return e}function gt(t){if("number"==typeof(e=t)&&isFinite(e)&&Math.floor(e)===e)return t<=0?NaN:dt(t-1);var e;if(--t<0)return Math.PI/(Math.sin(Math.PI*-t)*gt(-t));var n=t+.25;return Math.pow(t/Math.E,t)*Math.sqrt(2*Math.PI*(t+1/6))*(1+1/144/Math.pow(n,2)-1/12960/Math.pow(n,3)-257/207360/Math.pow(n,4)-52/2612736/Math.pow(n,5)+5741173/9405849600/Math.pow(n,6)+37529/18811699200/Math.pow(n,7))}var vt=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],yt=607/128,mt=Math.log(Math.sqrt(2*Math.PI));function xt(t){if(t<=0)return 1/0;t--;for(var e=vt[0],n=1;n<15;n++)e+=vt[n]/(t+n);var r=yt+.5+t;return mt+Math.log(e)-r+(t+.5)*Math.log(r)}function _t(t){if(t<0||t>1)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-t,t]}function wt(t,e){if(!(e<0||e>1||t<=0||t%1!=0)){var n=0,r=0,i=[],a=1;do{i[n]=a*Math.pow(e,n)*Math.pow(1-e,t-n),r+=i[n],a=a*(t-++n+1)/n}while(r<1-pt);return i}}function bt(t){if(!(t<=0)){var e=0,n=0,r=[],i=1;do{r[e]=Math.exp(-t)*Math.pow(t,e)/i,n+=r[e],i*=++e}while(n<1-pt);return r}}var Mt={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}};function St(t,e,n){for(var r=0,i=e(o(t)),a=[],s=[],u=0;u<t.length;u++)void 0===a[t[u]]&&(a[t[u]]=0),a[t[u]]++;for(var c=0;c<a.length;c++)void 0===a[c]&&(a[c]=0);for(var l in i)l in a&&(s[+l]=i[l]*t.length);for(var h=s.length-1;h>=0;h--)s[h]<3&&(s[h-1]+=s[h],s.pop(),a[h-1]+=a[h],a.pop());for(var f=0;f<a.length;f++)r+=Math.pow(a[f]-s[f],2)/s[f];return Mt[a.length-1-1][n]<r}var Et=Math.sqrt(2*Math.PI),Ct={gaussian:function(t){return Math.exp(-.5*t*t)/Et}},kt={nrd:function(t){var e=X(t),n=O(t);return"number"==typeof n&&(e=Math.min(e,n/1.34)),1.06*e*Math.pow(t.length,-.2)}};function Pt(t,e,n){var r,i;if(void 0===e)r=Ct.gaussian;else if("string"==typeof e){if(!Ct[e])throw new Error('Unknown kernel "'+e+'"');r=Ct[e]}else r=e;if(void 0===n)i=kt.nrd(t);else if("string"==typeof n){if(!kt[n])throw new Error('Unknown bandwidth method "'+n+'"');i=kt[n](t)}else i=n;return function(e){var n=0,a=0;for(n=0;n<t.length;n++)a+=r((e-t[n])/i);return a/i/t.length}}function Tt(t,e,n){return(t-e)/n}var At=Math.sqrt(2*Math.PI);function It(t){for(var e=t,n=t,r=1;r<15;r++)e+=n*=t*t/(2*r+1);return Math.round(1e4*(.5+e/At*Math.exp(-t*t/2)))/1e4}for(var Ot=[],Lt=0;Lt<=3.09;Lt+=.01)Ot.push(It(Lt));function jt(t){var e=Math.abs(t),n=Math.min(Math.round(100*e),Ot.length-1);return t>=0?Ot[n]:+(1-Ot[n]).toFixed(4)}function Rt(t){var e=1/(1+.5*Math.abs(t)),n=e*Math.exp(-Math.pow(t,2)-1.26551223+1.00002368*e+.37409196*Math.pow(e,2)+.09678418*Math.pow(e,3)-.18628806*Math.pow(e,4)+.27886807*Math.pow(e,5)-1.13520398*Math.pow(e,6)+1.48851587*Math.pow(e,7)-.82215223*Math.pow(e,8)+.17087277*Math.pow(e,9));return t>=0?1-n:n-1}function Dt(t){var e=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),n=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*e)+Math.log(1-t*t)/2,2)-Math.log(1-t*t)/e)-(2/(Math.PI*e)+Math.log(1-t*t)/2));return t>=0?n:-n}function Nt(t){return 0===t?t=pt:t>=1&&(t=1-pt),Math.sqrt(2)*Dt(2*t-1)}function Bt(t,e,n,r){if(void 0===r&&(r=1e4),void 0===n&&(n="two_side"),"two_side"!==n&&"greater"!==n&&"less"!==n)throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var i=o(t)-o(e),a=new Array(r),s=t.concat(e),u=Math.floor(s.length/2),c=0;c<r;c++){N(s);var l=s.slice(0,u),h=s.slice(u,s.length),f=o(l)-o(h);a[c]=f}var p=0;if("two_side"===n)for(var d=0;d<=r;d++)Math.abs(a[d])>=Math.abs(i)&&(p+=1);else if("greater"===n)for(var g=0;g<=r;g++)a[g]>=i&&(p+=1);else for(var v=0;v<=r;v++)a[v]<=i&&(p+=1);return p/r}function Ft(t){if("number"==typeof t)return t<0?-1:0===t?0:1;throw new TypeError("not a number")}function zt(t,e,n,r,i){if("function"!=typeof t)throw new TypeError("func must be a function");for(var a=0;a<r;a++){var o=(e+n)/2;if(0===t(o)||Math.abs((n-e)/2)<i)return o;Ft(t(o))===Ft(t(e))?e=o:n=o}throw new Error("maximum number of iterations exceeded")}},function(t,e,n){var r=n(501),i=n(502),a=n(535),o=n(514),s=function(){var t=e.prototype;function e(t){this._initDefaultCfg(),r(this,t),this.init()}return t._initDefaultCfg=function(){this.type="base",this.formatter=null,this.range=[0,1],this.ticks=null,this.values=[]},t.init=function(){},t.getTicks=function(){var t=this,e=t.ticks,n=[];return i(e,function(e){var r;r=a(e)?e:{text:t.getText(e),tickValue:e,value:t.scale(e)},n.push(r)}),n},t.getText=function(t,e){var n=this.formatter;return t=n?n(t,e):t,!o(t)&&t.toString||(t=""),t.toString()},t.rangeMin=function(){return this.range[0]},t.rangeMax=function(){var t=this.range;return t[t.length-1]},t.invert=function(t){return t},t.translate=function(t){return t},t.scale=function(t){return t},t.clone=function(){var t=this,e=t.constructor,n={};return i(t,function(e,r){n[r]=t[r]}),new e(n)},t.change=function(t){return this.ticks=null,r(this,t),this.init(),this},e}();t.exports=s},function(t,e,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(504);t.exports=function t(e){if("object"!==(void 0===e?"undefined":r(e))||null===e)return e;var n=void 0;if(i(e)){n=[];for(var a=0,o=e.length;a<o;a++)"object"===r(e[a])&&null!=e[a]?n[a]=t(e[a]):n[a]=e[a]}else for(var s in n={},e)"object"===r(e[s])&&null!=e[s]?n[s]=t(e[s]):n[s]=e[s];return n}},function(t,e,n){var r=n(502),i=n(511),a=Object.keys?function(t){return Object.keys(t)}:function(t){var e=[];return r(t,function(n,r){i(t)&&"prototype"===r||e.push(r)}),e};t.exports=a},function(t,e,n){var r=n(500),i=n(959);function a(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function o(t,e){for(var n=t.length,r=[t[0]],i=1;i<n;i+=2){var a=e.convertPoint({x:t[i],y:t[i+1]});r.push(a.x,a.y)}return r}var s={getLinePath:function(t,e){return function(t,e){if(!t.length)return[];for(var n=[],r=0,i=t.length;r<i;r++){var a=t[r];0===r?n.push(["M",a.x,a.y]):n.push(["L",a.x,a.y])}return e&&n.push(["Z"]),n}(t,e)},getSplinePath:function(t,e,n){var a=[],o=t[0],u=null;if(t.length<=2)return s.getLinePath(t,e);r.each(t,function(t){u&&u.x===t.x&&u.y===t.y||(a.push(t.x),a.push(t.y),u=t)}),n=n||[[0,0],[1,1]];var c=i.catmullRom2bezier(a,e,n);return c.unshift(["M",o.x,o.y]),c},getPointRadius:function(t,e){return a(t,e)},getPointAngle:function(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)},convertNormalPath:function(t,e){var n=[];return r.each(e,function(e){switch(e[0].toLowerCase()){case"m":case"l":case"c":n.push(o(e,t));break;case"z":default:n.push(e)}}),n},convertPolarPath:function(t,e){var n,i,s,u,c=[];return r.each(e,function(r,u){switch(r[0].toLowerCase()){case"m":case"c":case"q":c.push(o(r,t));break;case"l":n=e[u-1],i=r,s=t.isTransposed,(s?n[n.length-2]===i[1]:n[n.length-1]===i[2])?c=c.concat(function(t,e,n){var r=n.isTransposed,i=n.startAngle,o=n.endAngle,s={x:t[1],y:t[2]},u={x:e[1],y:e[2]},c=[],l=r?"y":"x",h=Math.abs(u[l]-s[l])*(o-i),f=u[l]>=s[l]?1:0,p=h>Math.PI?1:0,d=n.convertPoint(u),g=a(n,d);if(g>=.5)if(h===2*Math.PI){var v={x:(u.x+s.x)/2,y:(u.y+s.y)/2},y=n.convertPoint(v);c.push(["A",g,g,0,p,f,y.x,y.y]),c.push(["A",g,g,0,p,f,d.x,d.y])}else c.push(["A",g,g,0,p,f,d.x,d.y]);return c}(n,i,t)):c.push(o(r,t));break;case"z":default:c.push(r)}}),u=c,r.each(u,function(t,e){if("a"===t[0].toLowerCase()){var n=u[e-1],r=u[e+1];r&&"a"===r[0].toLowerCase()?n&&"l"===n[0].toLowerCase()&&(n[0]="M"):n&&"a"===n[0].toLowerCase()&&r&&"l"===r[0].toLowerCase()&&(r[0]="M")}}),c}};t.exports=s},,function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e=void 0===t?"undefined":n(t);return null!==t&&"object"===e||"function"===e}},function(t,e,n){var r=n(546);t.exports=r},function(t,e,n){var r=n(597),i=n(521);t.exports=function(t){if(!r(t)||!i(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,n){var r=n(502),i=n(537),a=Object.prototype.hasOwnProperty;t.exports=function(t,e){if(null===t||!i(t))return{};var n={};return r(e,function(e){a.call(t,e)&&(n[e]=t[e])}),n}},function(t,e,n){var r=n(501);t.exports={assign:r}},,function(t,e,n){t.exports={Axis:n(931),Component:n(615),Guide:n(939),Label:n(948),Legend:n(949),Tooltip:n(955)}},function(t,e,n){"use strict";function r(t,e){return t.parent===e.parent?1:2}function i(t,e){return t+e.x}function a(t,e){return Math.max(t,e.y)}n.r(e);var o=function(){var t=r,e=1,n=1,o=!1;function s(r){var s,u=0;r.eachAfter(function(e){var n,r=e.children;r?(e.x=(n=r).reduce(i,0)/n.length,e.y=1+r.reduce(a,0)):(e.x=s?u+=t(e,s):0,e.y=0,s=e)});var c=function(t){for(var e;e=t.children;)t=e[0];return t}(r),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),h=c.x-t(c,l)/2,f=l.x+t(l,c)/2;return r.eachAfter(o?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-h)/(f-h)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return s.separation=function(e){return arguments.length?(t=e,s):t},s.size=function(t){return arguments.length?(o=!1,e=+t[0],n=+t[1],s):o?null:[e,n]},s.nodeSize=function(t){return arguments.length?(o=!0,e=+t[0],n=+t[1],s):o?[e,n]:null},s};function s(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function u(t,e){var n,r,i,a,o,s=new f(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=c);n=l.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(o=i.length))for(n.children=new Array(o),a=o-1;a>=0;--a)l.push(r=n.children[a]=new f(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(h)}function c(t){return t.children}function l(t){t.data=t.data.data}function h(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function f(t){this.data=t,this.depth=this.height=0,this.parent=null}f.prototype=u.prototype={constructor:f,count:function(){return this.eachAfter(s)},each:function(t){var e,n,r,i,a=this,o=[a];do{for(e=o.reverse(),o=[];a=e.pop();)if(t(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r])}while(o.length);return this},eachAfter:function(t){for(var e,n,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)a.push(e[n]);for(;i=o.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return u(this).eachBefore(l)}};var p=Array.prototype.slice;var d=function(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(p.call(t))).length,a=[];r<i;)e=t[r],n&&y(n,e)?++r:(n=x(a=g(a,e)),r=0);return n};function g(t,e){var n,r;if(m(e,t))return[e];for(n=0;n<t.length;++n)if(v(e,t[n])&&m(_(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(v(_(t[n],t[r]),e)&&v(_(t[n],e),t[r])&&v(_(t[r],e),t[n])&&m(w(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function v(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function y(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function m(t,e){for(var n=0;n<e.length;++n)if(!y(t,e[n]))return!1;return!0}function x(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return _(t[0],t[1]);case 3:return w(t[0],t[1],t[2])}var e}function _(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,u=a-n,c=o-r,l=s-i,h=Math.sqrt(u*u+c*c);return{x:(n+a+u/h*l)/2,y:(r+o+c/h*l)/2,r:(h+i+s)/2}}function w(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,u=e.r,c=n.x,l=n.y,h=n.r,f=r-o,p=r-c,d=i-s,g=i-l,v=u-a,y=h-a,m=r*r+i*i-a*a,x=m-o*o-s*s+u*u,_=m-c*c-l*l+h*h,w=p*d-f*g,b=(d*_-g*x)/(2*w)-r,M=(g*v-d*y)/w,S=(p*x-f*_)/(2*w)-i,E=(f*y-p*v)/w,C=M*M+E*E-1,k=2*(a+b*M+S*E),P=b*b+S*S-a*a,T=-(C?(k+Math.sqrt(k*k-4*C*P))/(2*C):P/k);return{x:r+b+M*T,y:i+S+E*T,r:T}}function b(t,e,n){var r,i,a,o,s=t.x-e.x,u=t.y-e.y,c=s*s+u*u;c?(i=e.r+n.r,i*=i,o=t.r+n.r,i>(o*=o)?(r=(c+o-i)/(2*c),a=Math.sqrt(Math.max(0,o/c-r*r)),n.x=t.x-r*s-a*u,n.y=t.y-r*u+a*s):(r=(c+i-o)/(2*c),a=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*s-a*u,n.y=e.y+r*u+a*s)):(n.x=e.x+n.r,n.y=e.y)}function M(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function S(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function E(t){this._=t,this.next=null,this.previous=null}function C(t){if(!(i=t.length))return 0;var e,n,r,i,a,o,s,u,c,l,h;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;b(n,e,r=t[2]),e=new E(e),n=new E(n),r=new E(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){b(e._,n._,r=t[s]),r=new E(r),u=n.next,c=e.previous,l=n._.r,h=e._.r;do{if(l<=h){if(M(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}l+=u._.r,u=u.next}else{if(M(c._,r._)){(e=c).next=n,n.previous=e,--s;continue t}h+=c._.r,c=c.previous}}while(u!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,a=S(e);(r=r.next)!==n;)(o=S(r))<a&&(e=r,a=o);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=d(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}var k=function(t){return C(t),t};function P(t){if("function"!=typeof t)throw new Error;return t}function T(){return 0}var A=function(t){return function(){return t}};function I(t){return Math.sqrt(t.value)}var O=function(){var t=null,e=1,n=1,r=T;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(L(t)).eachAfter(j(r,.5)).eachBefore(R(1)):i.eachBefore(L(I)).eachAfter(j(T,1)).eachAfter(j(r,i.r/Math.min(e,n))).eachBefore(R(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=null==(n=e)?null:P(n),i):t;var n},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:A(+t),i):r},i};function L(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function j(t,e){return function(n){if(r=n.children){var r,i,a,o=r.length,s=t(n)*e||0;if(s)for(i=0;i<o;++i)r[i].r+=s;if(a=C(r),s)for(i=0;i<o;++i)r[i].r-=s;n.r=a+s}}}function R(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var D=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},N=function(t,e,n,r,i){for(var a,o=t.children,s=-1,u=o.length,c=t.value&&(r-e)/t.value;++s<u;)(a=o[s]).y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*c},B=function(){var t=1,e=1,n=0,r=!1;function i(i){var a,o,s=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/s,i.eachBefore((a=e,o=s,function(t){t.children&&N(t,t.x0,a*(t.depth+1)/o,t.x1,a*(t.depth+2)/o);var e=t.x0,r=t.y0,i=t.x1-n,s=t.y1-n;i<e&&(e=i=(e+i)/2),s<r&&(r=s=(r+s)/2),t.x0=e,t.y0=r,t.x1=i,t.y1=s})),r&&i.eachBefore(D),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},F="$",z={depth:-1},G={};function V(t){return t.id}function q(t){return t.parentId}var H=function(){var t=V,e=q;function n(n){var r,i,a,o,s,u,c,l=n.length,p=new Array(l),d={};for(i=0;i<l;++i)r=n[i],s=p[i]=new f(r),null!=(u=t(r,i,n))&&(u+="")&&(d[c=F+(s.id=u)]=c in d?G:s);for(i=0;i<l;++i)if(s=p[i],null!=(u=e(n[i],i,n))&&(u+="")){if(!(o=d[F+u]))throw new Error("missing: "+u);if(o===G)throw new Error("ambiguous: "+u);o.children?o.children.push(s):o.children=[s],s.parent=o}else{if(a)throw new Error("multiple roots");a=s}if(!a)throw new Error("no root");if(a.parent=z,a.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(h),a.parent=null,l>0)throw new Error("cycle");return a}return n.id=function(e){return arguments.length?(t=P(e),n):t},n.parentId=function(t){return arguments.length?(e=P(t),n):e},n};function Y(t,e){return t.parent===e.parent?1:2}function W(t){var e=t.children;return e?e[0]:t.t}function U(t){var e=t.children;return e?e[e.length-1]:t.t}function X(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}X.prototype=Object.create(f.prototype);var Z=function(){var t=Y,e=1,n=1,r=null;function i(i){var u=function(t){for(var e,n,r,i,a,o=new X(t,0),s=[o];e=s.pop();)if(r=e._.children)for(e.children=new Array(a=r.length),i=a-1;i>=0;--i)s.push(n=e.children[i]=new X(r[i],i)),n.parent=e;return(o.parent=new X(null,0)).children=[o],o}(i);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(o),r)i.eachBefore(s);else{var c=i,l=i,h=i;i.eachBefore(function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>h.depth&&(h=t)});var f=c===l?1:t(c,l)/2,p=f-c.x,d=e/(l.x+f+p),g=n/(h.depth||1);i.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*g})}return i}function a(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)(e=i[a]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var a=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,a=e,o=e,s=n,u=a.parent.children[0],c=a.m,l=o.m,h=s.m,f=u.m;s=U(s),a=W(a),s&&a;)u=W(u),(o=U(o)).a=e,(i=s.z+h-a.z-c+t(s._,a._))>0&&(m=e,x=r,p=(y=s).a.parent===m.parent?y.a:x,void 0,v=(g=i)/((d=e).i-p.i),d.c-=v,d.s+=g,p.c+=v,d.z+=g,d.m+=g,c+=i,l+=i),h+=s.m,c+=a.m,f+=u.m,l+=o.m;s&&!U(o)&&(o.t=s,o.m+=h-l),a&&!W(u)&&(u.t=a,u.m+=c-f,r=e)}var p,d,g,v;var y,m,x;return r}(e,i,e.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},Q=function(t,e,n,r,i){for(var a,o=t.children,s=-1,u=o.length,c=t.value&&(i-n)/t.value;++s<u;)(a=o[s]).x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*c},J=(1+Math.sqrt(5))/2;function $(t,e,n,r,i,a){for(var o,s,u,c,l,h,f,p,d,g,v,y=[],m=e.children,x=0,_=0,w=m.length,b=e.value;x<w;){u=i-n,c=a-r;do{l=m[_++].value}while(!l&&_<w);for(h=f=l,v=l*l*(g=Math.max(c/u,u/c)/(b*t)),d=Math.max(f/v,v/h);_<w;++_){if(l+=s=m[_].value,s<h&&(h=s),s>f&&(f=s),v=l*l*g,(p=Math.max(f/v,v/h))>d){l-=s;break}d=p}y.push(o={value:l,dice:u<c,children:m.slice(x,_)}),o.dice?N(o,n,r,i,b?r+=c*l/b:a):Q(o,n,r,b?n+=u*l/b:i,a),b-=l,x=_}return y}var K=function t(e){function n(t,n,r,i,a){$(e,t,n,r,i,a)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(J),tt=function(){var t=K,e=!1,n=1,r=1,i=[0],a=T,o=T,s=T,u=T,c=T;function l(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(D),t}function h(e){var n=i[e.depth],r=e.x0+n,l=e.y0+n,h=e.x1-n,f=e.y1-n;h<r&&(r=h=(r+h)/2),f<l&&(l=f=(l+f)/2),e.x0=r,e.y0=l,e.x1=h,e.y1=f,e.children&&(n=i[e.depth+1]=a(e)/2,r+=c(e)-n,l+=o(e)-n,h-=s(e)-n,f-=u(e)-n,h<r&&(r=h=(r+h)/2),f<l&&(l=f=(l+f)/2),t(e,r,l,h,f))}return l.round=function(t){return arguments.length?(e=!!t,l):e},l.size=function(t){return arguments.length?(n=+t[0],r=+t[1],l):[n,r]},l.tile=function(e){return arguments.length?(t=P(e),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:A(+t),l):a},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:A(+t),l):o},l.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:A(+t),l):s},l.paddingBottom=function(t){return arguments.length?(u="function"==typeof t?t:A(+t),l):u},l.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:A(+t),l):c},l},et=function(t,e,n,r,i){var a,o,s=t.children,u=s.length,c=new Array(u+1);for(c[0]=o=a=0;a<u;++a)c[a+1]=o+=s[a].value;!function t(e,n,r,i,a,o,u){if(e>=n-1){var l=s[e];return l.x0=i,l.y0=a,l.x1=o,void(l.y1=u)}var h=c[e],f=r/2+h,p=e+1,d=n-1;for(;p<d;){var g=p+d>>>1;c[g]<f?p=g+1:d=g}f-c[p-1]<c[p]-f&&e+1<p&&--p;var v=c[p]-h,y=r-v;if(o-i>u-a){var m=(i*y+o*v)/r;t(e,p,v,i,a,m,u),t(p,n,y,m,a,o,u)}else{var x=(a*y+u*v)/r;t(e,p,v,i,a,o,x),t(p,n,y,i,x,o,u)}}(0,u,t.value,e,n,r,i)},nt=function(t,e,n,r,i){(1&t.depth?Q:N)(t,e,n,r,i)},rt=function t(e){function n(t,n,r,i,a){if((o=t._squarify)&&o.ratio===e)for(var o,s,u,c,l,h=-1,f=o.length,p=t.value;++h<f;){for(u=(s=o[h]).children,c=s.value=0,l=u.length;c<l;++c)s.value+=u[c].value;s.dice?N(s,n,r,i,r+=(a-r)*s.value/p):Q(s,n,r,n+=(i-n)*s.value/p,a),p-=s.value}else t._squarify=o=$(e,t,n,r,i,a),o.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(J);n.d(e,"cluster",function(){return o}),n.d(e,"hierarchy",function(){return u}),n.d(e,"pack",function(){return O}),n.d(e,"packSiblings",function(){return k}),n.d(e,"packEnclose",function(){return d}),n.d(e,"partition",function(){return B}),n.d(e,"stratify",function(){return H}),n.d(e,"tree",function(){return Z}),n.d(e,"treemap",function(){return tt}),n.d(e,"treemapBinary",function(){return et}),n.d(e,"treemapDice",function(){return N}),n.d(e,"treemapSlice",function(){return Q}),n.d(e,"treemapSliceDice",function(){return nt}),n.d(e,"treemapSquarify",function(){return K}),n.d(e,"treemapResquarify",function(){return rt})},function(t,e,n){"use strict";n.r(e);var r=Math.PI,i=2*r,a=i-1e-6;function o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new o}o.prototype=s.prototype={constructor:o,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,i,a){t=+t,e=+e,n=+n,i=+i,a=+a;var o=this._x1,s=this._y1,u=n-t,c=i-e,l=o-t,h=s-e,f=l*l+h*h;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(h*u-c*l)>1e-6&&a){var p=n-o,d=i-s,g=u*u+c*c,v=p*p+d*d,y=Math.sqrt(g),m=Math.sqrt(f),x=a*Math.tan((r-Math.acos((g+f-v)/(2*y*m)))/2),_=x/m,w=x/y;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*l)+","+(e+_*h)),this._+="A"+a+","+a+",0,0,"+ +(h*p>l*d)+","+(this._x1=t+w*u)+","+(this._y1=e+w*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,o,s,u){t=+t,e=+e;var c=(n=+n)*Math.cos(o),l=n*Math.sin(o),h=t+c,f=e+l,p=1^u,d=u?o-s:s-o;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+f:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+h+","+f),n&&(d<0&&(d=d%i+i),d>a?this._+="A"+n+","+n+",0,1,"+p+","+(t-c)+","+(e-l)+"A"+n+","+n+",0,1,"+p+","+(this._x1=h)+","+(this._y1=f):d>1e-6&&(this._+="A"+n+","+n+",0,"+ +(d>=r)+","+p+","+(this._x1=t+n*Math.cos(s))+","+(this._y1=e+n*Math.sin(s))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var u=s;n.d(e,"path",function(){return u})},,function(t,e,n){var r=n(514);t.exports=function(t){return r(t)?"":t.toString()}},function(t,e,n){t.exports={Canvas:n(837),Group:n(674),Shape:n(516),Arc:n(678),Circle:n(679),Dom:n(680),Ellipse:n(681),Fan:n(682),Image:n(683),Line:n(684),Marker:n(604),Path:n(685),Polygon:n(686),Polyline:n(687),Rect:n(688),Text:n(689),PathSegment:n(571),PathUtil:n(605),Event:n(673),version:"3.3.4"}},function(t,e,n){var r;
/*!
 * EventEmitter v5.1.0 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */!function(e){"use strict";function i(){}var a=i.prototype,o=e.EventEmitter;function s(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function u(t){return function(){return this[t].apply(this,arguments)}}a.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp)for(n in e={},r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n]);else e=r[t]||(r[t]=[]);return e},a.flattenListeners=function(t){var e,n=[];for(e=0;e<t.length;e+=1)n.push(t[e].listener);return n},a.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&((e={})[t]=n),e||n},a.addListener=function(t,e){if(!function t(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&t(e.listener)}(e))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(t),i="object"==typeof e;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],e)&&r[n].push(i?e:{listener:e,once:!1});return this},a.on=u("addListener"),a.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},a.once=u("addOnceListener"),a.defineEvent=function(t){return this.getListeners(t),this},a.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},a.removeListener=function(t,e){var n,r,i=this.getListenersAsObject(t);for(r in i)i.hasOwnProperty(r)&&-1!==(n=s(i[r],e))&&i[r].splice(n,1);return this},a.off=u("removeListener"),a.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},a.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},a.manipulateListeners=function(t,e,n){var r,i,a=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(r=n.length;r--;)a.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(i=e[r])&&("function"==typeof i?a.call(this,r,i):o.call(this,r,i));return this},a.removeEvent=function(t){var e,n=typeof t,r=this._getEvents();if("string"===n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},a.removeAllListeners=u("removeEvent"),a.emitEvent=function(t,e){var n,r,i,a,o=this.getListenersAsObject(t);for(a in o)if(o.hasOwnProperty(a))for(n=o[a].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(t,r.listener),r.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},a.trigger=u("emitEvent"),a.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},a.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},a._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},a._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return e.EventEmitter=o,i},void 0===(r=function(){return i}.call(e,n,e,t))||(t.exports=r)}(this||{})},function(t,e,n){var r=n(506),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,a=/[^\s\,]+/gi,o={};t.exports={parseRadius:function(t){var e=0,n=0,i=0,a=0;return r.isArray(t)?1===t.length?e=n=i=a=t[0]:2===t.length?(e=i=t[0],n=a=t[1]):3===t.length?(e=t[0],n=a=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],a=t[3]):e=n=i=a=t,{r1:e,r2:n,r3:i,r4:a}},parsePath:function(t){return t=t||[],r.isArray(t)?t:r.isString(t)?(t=t.match(i),r.each(t,function(e,n){if((e=e.match(a))[0].length>1){var i=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=i}r.each(e,function(t,n){isNaN(t)||(e[n]=+t)}),t[n]=e}),t):void 0},numberToColor:function(t){var e=o[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,o[t]=e}return e}}},function(t,e,n){var r=n(502),i=n(511),a=Object.values?function(t){return Object.values(t)}:function(t){var e=[];return r(t,function(n,r){i(t)&&"prototype"===r||e.push(n)}),e};t.exports=a},function(t,e,n){var r=n(507),i=n(504),a=n(501),o=n(502);function s(t,e){return r(e)?e:t.invert(t.scale(e))}var u=function(){function t(t){this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[],this.linear=null,a(this,t)}var e=t.prototype;return e._getAttrValue=function(t,e){var n=this.values;if(t.isCategory&&!this.linear)return n[t.translate(e)%n.length];var r=t.scale(e);return this.getLinearValue(r)},e.getLinearValue=function(t){var e=this.values,n=e.length-1,r=Math.floor(n*t),i=n*t-r,a=e[r];return a+((r===n?a:e[r+1])-a)*i},e.callback=function(t){var e=this.scales[0];return"identity"===e.type?e.value:this._getAttrValue(e,t)},e.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),r=[],i=0;i<n;i++)r.push(e[i]);return r},e.getFields=function(){var t=this.scales,e=[];return o(t,function(t){e.push(t.field)}),e},e.getScale=function(t){return this.scales[this.names.indexOf(t)]},e.mapping=function(){for(var t=this.scales,e=this.callback,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r;if(e){for(var o=0,s=r.length;o<s;o++)r[o]=this._toOriginParam(r[o],t[o]);a=e.apply(this,r)}return a=[].concat(a)},e._toOriginParam=function(t,e){var n=t;if(!e.isLinear)if(i(t)){n=[];for(var r=0,a=t.length;r<a;r++)n.push(s(e,t[r]))}else n=s(e,t);return n},t}();t.exports=u},function(t,e,n){var r=n(501),i=function(){var t=e.prototype;function e(t){this._initDefaultCfg(),r(this,t)}return t._initDefaultCfg=function(){this.adjustNames=["x","y"]},t.processAdjust=function(){},e}();t.exports=i},function(t,e,n){var r=n(553),i=n(508),a=n(716),o=n(717),s=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=r.prototype;return s.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{_id:null,zIndex:4,ticks:null,line:null,tickLine:null,subTickCount:0,subTickLine:null,grid:null,label:{textStyle:{},autoRotate:!0,formatter:null},labelItems:[],title:{autoRotate:!0,textStyle:{}},autoPaint:!0})},s.beforeRender=function(){var t=this.get("title"),e=this.get("label"),n=this.get("grid"),r=this.get("viewTheme")||{};t&&this.set("title",i.deepMix({autoRotate:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:r.fontFamily,textAlign:"center"},offset:48},t)),e&&this.set("label",i.deepMix({autoRotate:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:r.fontFamily},offset:10},e)),n&&this.set("grid",i.deepMix({lineStyle:{lineWidth:1,stroke:"#C0D0E0"}},n))},s.render=function(){this.beforeRender(),this.get("label")&&this.renderLabels(),this.get("autoPaint")&&this.paint(),i.isNil(this.get("title"))||this.renderTitle(),this.get("group").sort()},s.renderLabels=function(){var t=this.get("group"),e=this.get("label"),n=new o;this.set("labelRenderer",n),n.set("labelCfg",e);i.each(["formatter","htmlTemplate","labelLine","textStyle","useHtml"],function(t){e[t]&&n.set(t,e[t])}),n.set("coord",this.get("coord")),n.set("group",t.addGroup()),n.set("canvas",this.get("canvas"))},s._parseTicks=function(t){for(var e=(t=t||[]).length,n=0;n<e;n++){var r=t[n];i.isObject(r)||(t[n]=this.parseTick(r,n,e))}return this.set("ticks",t),t},s._parseCatTicks=function(t){for(var e=(t=t||[]).length,n=0;n<e;n++){var r=t[n];i.isObject(r)||(t[n]=this.parseTick(r,n,e))}return this.set("ticks",t),t},s._addTickItem=function(t,e,n,r){void 0===r&&(r="");var i=this.get("tickItems"),a=this.get("subTickItems"),o=this.getTickEnd(e,n,t),s={x1:e.x,y1:e.y,x2:o.x,y2:o.y};i||(i=[]),a||(a=[]),"sub"===r?a.push(s):i.push(s),this.set("tickItems",i),this.set("subTickItems",a)},s._renderLine=function(){var t,e=this.get("line");if(e){t=this.getLinePath(),e=i.mix({path:t},e);var n=this.get("group").addShape("path",{attrs:e});n.name="axis-line",this.get("appendInfo")&&n.setSilent("appendInfo",this.get("appendInfo")),this.set("lineShape",n)}},s._processCatTicks=function(){var t=this,e=t.get("label"),n=t.get("tickLine"),r=t.get("ticks");r=t._parseTicks(r);for(var i=t._getNormalizedTicks(r),a=0;a<i.length;a+=3){var o=t.getTickPoint(i[a]),s=t.getTickPoint(i[a+1]),u=t.getTickPoint(i[a+2]),c=Math.floor(a/3),l=r[c];n&&(0===c&&t._addTickItem(c,s,n.length),t._addTickItem(c,u,n.length)),e&&t.addLabel(l,o,c)}},s._getNormalizedTicks=function(t){var e=0;t.length>1&&(e=(t[1].value-t[0].value)/2);for(var n=[],r=0;r<t.length;r++){var a=t[r],o=a.value,s=a.value-e,u=a.value+e;n.push(o,s,u)}var c=i.arrayUtil.getRange(n);return n.map(function(t){return(t-c.min)/(c.max-c.min)})},s.addLabel=function(t,e,n){var r=this.get("labelItems"),a=this.get("labelRenderer"),o=i.mix({},this.get("label"));if(a){var s=this.get("_labelOffset");i.isNil(this.get("label").offset)||(s=this.get("label").offset);var u=this.getSideVector(s,e,n);e={x:e.x+u[0],y:e.y+u[1]},o.text=t.text,o.x=e.x,o.y=e.y,o.point=e,o.textAlign=this.getTextAnchor(u),e.rotate&&(o.rotate=e.rotate),r.push(o)}},s._processTicks=function(){var t=this,e=t.get("label"),n=t.get("subTickCount"),r=t.get("tickLine"),a=t.get("ticks");if(a=t._parseTicks(a),i.each(a,function(n,i){var a=t.getTickPoint(n.value,i);r&&t._addTickItem(i,a,r.length),e&&t.addLabel(n,a,i)}),n){var o=t.get("subTickLine");i.each(a,function(e,i){if(i>0){var s=e.value-a[i-1].value;s/=t.get("subTickCount")+1;for(var u=1;u<=n;u++){var c={text:"",value:i?a[i-1].value+u*s:u*s},l=t.getTickPoint(c.value),h=void 0;h=o&&o.length?o.length:parseInt(.6*r.length,10),t._addTickItem(u-1,l,h,"sub")}}})}},s._addTickLine=function(t,e){var n=i.mix({},e),r=[];i.each(t,function(t){r.push(["M",t.x1,t.y1]),r.push(["L",t.x2,t.y2])}),delete n.length,n.path=r;var a=this.get("group").addShape("path",{attrs:n});a.name="axis-ticks",a._id=this.get("_id")+"-ticks",a.set("coord",this.get("coord")),this.get("appendInfo")&&a.setSilent("appendInfo",this.get("appendInfo"))},s._renderTicks=function(){var t=this.get("tickItems"),e=this.get("subTickItems");if(!i.isEmpty(t)){var n=this.get("tickLine");this._addTickLine(t,n)}if(!i.isEmpty(e)){var r=this.get("subTickLine")||this.get("tickLine");this._addTickLine(e,r)}},s._renderGrid=function(){var t=this.get("grid");if(t){t.coord=this.get("coord"),t.appendInfo=this.get("appendInfo");var e=this.get("group");this.set("gridGroup",e.addGroup(a,t))}},s._renderLabels=function(){var t=this.get("labelRenderer"),e=this.get("labelItems");t&&(t.set("items",e),t._dryDraw())},s.paint=function(){var t=this.get("tickLine"),e=!0;t&&t.hasOwnProperty("alignWithLabel")&&(e=t.alignWithLabel),this._renderLine();var n=this.get("type");("cat"===n||"timeCat"===n)&&!1===e?this._processCatTicks():this._processTicks(),this._renderTicks(),this._renderGrid(),this._renderLabels();var r=this.get("label");r&&r.autoRotate&&this.autoRotateLabels()},s.parseTick=function(t,e,n){return{text:t,value:e/(n-1)}},s.getTextAnchor=function(t){return Math.abs(t[1]/t[0])>=1?"center":t[0]>0?"start":"end"},s.getMaxLabelWidth=function(t){var e=t.get("group").get("children"),n=0;return i.each(e,function(t){var e=t.getBBox().width;n<e&&(n=e)}),n},s.destroy=function(){if(!this.destroyed){t.prototype.destroy.call(this);var e=this.get("gridGroup");e&&e.remove();var n=this.get("labelRenderer");n&&n.destroy(),this.get("group").destroy(),this.destroyed=!0}},s.clear=function(){var t=this.get("group");if(!t.get("destroyed")&&t.get("children").length){var e=this.get("gridGroup");e&&e.clear();var n=this.get("labelRenderer");n&&n.clear(),this.get("group").clear()}},s.autoRotateLabels=function(){},s.renderTitle=function(){},s.getLinePath=function(){},s.getTickPoint=function(){},s.getTickEnd=function(){},s.getSideVector=function(){},r}(r);t.exports=s},function(t,e,n){var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){return{_id:null,canvas:null,container:null,group:null,capture:!1,coord:null,offset:[0,0],plotRange:null,position:[0,0],visible:!0,zIndex:1}},i._init=function(){},i.clear=function(){},i.destroy=function(){},i.beforeRender=function(){},i.render=function(){},i.afterRender=function(){},i.beforeDraw=function(){},i.draw=function(){},i.afterDraw=function(){},i.show=function(){},i.hide=function(){},i.setOffset=function(){},i.setPosition=function(){},i.setVisible=function(){},i.setZIndex=function(){},r}(n(615));t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(594);function a(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function o(t){return i.Util.isArray(t)?t.length:i.Util.isObject(t)?Object.keys(t).length:0}e.default=i.Util.mix({},i.Util,{shallowEqual:function(t,e){if(a(t,e))return!0;if("object"!==(void 0===t?"undefined":r(t))||null===t||"object"!==(void 0===e?"undefined":r(e))||null===e)return!1;if(i.Util.isArray(t)!==i.Util.isArray(e))return!1;if(o(t)!==o(e))return!1;var n=!0;return i.Util.each(t,function(t,r){return!!a(t,e[r])||(n=!1)}),n},without:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return i.Util.each(t,function(t,r){-1===i.Util.indexOf(e,r)&&(n[r]=t)}),n},length:o})},function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=n(547),o=n(501),s=n(531),u=n(531),c=n(693),l=n(502),h=n(504),f=n(537),p=n(607),d=n(535),g=n(507),v=n(532),y=n(538);var m=function(t){function e(e,n){var r=t.call(this)||this,i=r;if(n=n||{},(e=e||{}).isDataSet||(n=e,e=null),o(i,{dataSet:e,loose:!e,dataType:"table",isView:!0,isDataView:!0,origin:[],rows:[],transforms:[],watchingStates:null},n),!i.loose){var a=i.watchingStates;e.on("statechange",function(t){h(a)?a.indexOf(t)>-1&&i._reExecute():i._reExecute()})}return r}return i(e,t),e.prototype._parseStateExpression=function(t){var e=this.dataSet,n=/^\$state\.(\w+)/.exec(t);return n?e.state[n[1]]:t},e.prototype._preparseOptions=function(t){var e,n=this,r=(e={},l(t,function(t,n){d(t)&&t.isView?e[n]=t:h(t)?e[n]=t.concat([]):f(t)?e[n]=s(t):e[n]=t}),e);return n.loose?r:(l(r,function(t,e){g(t)&&/^\$state\./.test(t)&&(r[e]=n._parseStateExpression(t))}),r)},e.prototype._prepareSource=function(t,n){var r=this,i=e.DataSet;if(r._source={source:t,options:n},n)n=r._preparseOptions(n),r.origin=i.getConnector(n.type)(t,n,r);else if(t instanceof e||g(t))r.origin=i.getConnector("default")(t,r.dataSet);else if(h(t))r.origin=t;else{if(!d(t)||!t.type)throw new TypeError("Invalid source");n=r._preparseOptions(t),r.origin=i.getConnector(n.type)(n,r)}return r.rows=u(r.origin),r},e.prototype.source=function(t,e){return this._prepareSource(t,e),this._reExecuteTransforms(),this.trigger("change"),this},e.prototype.transform=function(t){void 0===t&&(t={});return this.transforms.push(t),this._executeTransform(t),this},e.prototype._executeTransform=function(t){t=this._preparseOptions(t),e.DataSet.getTransform(t.type)(this,t)},e.prototype._reExecuteTransforms=function(){var t=this;t.transforms.forEach(function(e){t._executeTransform(e)})},e.prototype.addRow=function(t){this.rows.push(t)},e.prototype.removeRow=function(t){this.rows.splice(t,1)},e.prototype.updateRow=function(t,e){o(this.rows[t],e)},e.prototype.findRows=function(t){return this.rows.filter(function(e){return p(e,t)})},e.prototype.findRow=function(t){return c(this.rows,t)},e.prototype.getColumnNames=function(){var t=this.rows[0];return t?v(t):[]},e.prototype.getColumnName=function(t){return this.getColumnNames()[t]},e.prototype.getColumnIndex=function(t){return this.getColumnNames().indexOf(t)},e.prototype.getColumn=function(t){return this.rows.map(function(e){return e[t]})},e.prototype.getColumnData=function(t){return this.getColumn(t)},e.prototype.getSubset=function(t,e,n){for(var r=[],i=t;i<=e;i++)r.push(y(this.rows[i],n));return r},e.prototype.toString=function(t){return t?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},e.prototype._reExecute=function(){var t=this._source,e=t.source,n=t.options;this._prepareSource(e,n),this._reExecuteTransforms(),this.trigger("change")},e}(a);t.exports=m},,,function(t,e,n){"use strict";n(34),n(627)},,,,function(t,e,n){"use strict";n(34),n(627)},,,function(t,e,n){var r=n(514),i=n(502),a=n(530),o=n(830),s=function(t){var e,n;function a(){return t.apply(this,arguments)||this}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=a.prototype;return s._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this);var e=this;e.type="linear",e.isLinear=!0,e.nice=!1,e.min=null,e.minLimit=null,e.max=null,e.maxLimit=null,e.tickCount=null,e.tickInterval=null,e.minTickInterval=null,e.snapArray=null},s.init=function(){var t=this;if(t.ticks){var e=t.ticks,n=t.translate(e[0]),i=t.translate(e[e.length-1]);(r(t.min)||t.min>n)&&(t.min=n),(r(t.max)||t.max<i)&&(t.max=i)}else t.min=t.translate(t.min),t.max=t.translate(t.max),t.initTicks()},s.calculateTicks=function(){var t=this.min,e=this.max,n=this.minLimit,r=this.maxLimit,i=this.tickCount,a=this.tickInterval,s=this.minTickInterval,u=this.snapArray;if(1===i)throw new Error("linear scale'tickCount should not be 1");if(e<t)throw new Error("max: "+e+" should not be less than min: "+t);return o({min:t,max:e,minLimit:n,maxLimit:r,minCount:i,maxCount:i,interval:a,minTickInterval:s,snapArray:u}).ticks},s.initTicks=function(){var t=this,e=t.calculateTicks();if(t.nice)t.ticks=e,t.min=e[0],t.max=e[e.length-1];else{var n=[];i(e,function(e){e>=t.min&&e<=t.max&&n.push(e)}),n.length||(n.push(t.min),n.push(t.max)),t.ticks=n}},s.scale=function(t){if(r(t))return NaN;var e=this.max,n=this.min;if(e===n)return 0;var i=(t-n)/(e-n),a=this.rangeMin();return a+i*(this.rangeMax()-a)},s.invert=function(t){var e=(t-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+e*(this.max-this.min)},a}(a);a.Linear=s,t.exports=s},function(t,e,n){var r=n(525);t.exports=function(t){return r(t)?Array.prototype.slice.call(t):[]}},function(t,e){t.exports=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-5;return Math.abs(t-e)<n}},function(t,e,n){var r=n(506).vec2;t.exports={at:function(t,e,n){return(e-t)*n+t},pointDistance:function(t,e,n,i,a,o){var s=[n-t,i-e];if(r.exactEquals(s,[0,0]))return NaN;var u=[-s[1],s[0]];r.normalize(u,u);var c=[a-t,o-e];return Math.abs(r.dot(c,u))},box:function(t,e,n,r,i){var a=i/2,o=Math.min(t,n),s=Math.max(t,n);return{minX:o-a,minY:Math.min(e,r)-a,maxX:s+a,maxY:Math.max(e,r)+a}},len:function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}}},function(t,e,n){var r=n(506);function i(t,e,n,r){return{x:Math.cos(r)*n+t,y:Math.sin(r)*n+e}}function a(t,e,n,r){var i,a;return r?t<e?(i=e-t,a=2*Math.PI-n+t):t>n&&(i=2*Math.PI-t+e,a=t-n):(i=t-e,a=n-t),i>a?n:e}function o(t,e,n,i){var o=0;return n-e>=2*Math.PI&&(o=2*Math.PI),e=r.mod(e,2*Math.PI),n=r.mod(n,2*Math.PI)+o,t=r.mod(t,2*Math.PI),i?e>=n?t>n&&t<e?t:a(t,n,e,!0):t<e||t>n?t:a(t,e,n):e<=n?e<t&&t<n?t:a(t,e,n,!0):t>e||t<n?t:a(t,n,e)}function s(t,e,n,i,a,s,u,c,l){var h=[u,c],f=[t,e],p=r.vec2.subtract([],h,f),d=r.vec2.angleTo([1,0],p);d=o(d,i,a,s);var g=[n*Math.cos(d)+t,n*Math.sin(d)+e];return l&&(l.x=g[0],l.y=g[1]),r.vec2.distance(g,h)}t.exports={nearAngle:o,projectPoint:function(t,e,n,r,i,a,o,u){var c={};return s(t,e,n,r,i,a,o,u,c),c},pointDistance:s,box:function(t,e,n,a,s,u){var c=Math.PI/2,l=Math.PI,h=3*Math.PI/2,f=[],p=o(0,a,s,u);0===p&&f.push(i(t,e,n,0)),(p=o(c,a,s,u))===c&&f.push(i(t,e,n,c)),(p=o(l,a,s,u))===l&&f.push(i(t,e,n,l)),(p=o(h,a,s,u))===h&&f.push(i(t,e,n,h)),f.push(i(t,e,n,a)),f.push(i(t,e,n,s));var d=1/0,g=-1/0,v=1/0,y=-1/0;return r.each(f,function(t){d>t.x&&(d=t.x),g<t.x&&(g=t.x),v>t.y&&(v=t.y),y<t.y&&(y=t.y)}),{minX:d,minY:v,maxX:g,maxY:y}}}},function(t,e,n){var r=n(548),i=n(571),a=Math.PI,o=Math.sin,s=Math.cos,u=Math.atan2,c=10,l=a/3;function h(t,e,n,r,i,h,f){var p,d,g,v,y,m,x;if(!e.fill){var _=e.arrowLength||c,w=e.arrowAngle?e.arrowAngle*a/180:l;x=u(r-h,n-i),y=Math.abs(e.lineWidth*s(x))/2,m=Math.abs(e.lineWidth*o(x))/2,f&&(y=-y,m=-m),p=i+_*s(x+w/2),d=h+_*o(x+w/2),g=i+_*s(x-w/2),v=h+_*o(x-w/2),t.beginPath(),t.moveTo(p-y,d-m),t.lineTo(i-y,h-m),t.lineTo(g-y,v-m),t.moveTo(i-y,h-m),t.lineTo(i+y,h+m),t.moveTo(i,h),t.stroke()}}function f(t,e,n,a,o,s,u){var c=u?e.startArrow:e.endArrow,l=c.d,h=0,f=o-n,p=s-a,d=Math.atan(f/p);0===p&&f<0?h=Math.PI:f>0&&p>0?h=Math.PI/2-d:f<0&&p<0?h=-Math.PI/2-d:f>=0&&p<0?h=-d-Math.PI/2:f<=0&&p>0&&(h=Math.PI/2-d);var g=function(t){var e,n=[],a=r.parsePath(t.path);if(!Array.isArray(a)||0===a.length||"M"!==a[0][0]&&"m"!==a[0][0])return!1;for(var o=a.length,s=0;s<a.length;s++){var u=a[s];e=new i(u,e,s===o-1),n.push(e)}return n}(c);if(g){l&&(u?(o+=Math.sin(Math.abs(d))*l,s=s+Math.cos(Math.abs(d))*l-.5*t.lineWidth):(o-=Math.sin(Math.abs(d))*l,s=s-Math.cos(Math.abs(d))*l+.5*t.lineWidth)),t.save(),t.beginPath(),t.translate(o,s),t.rotate(h);for(var v=0;v<g.length;v++)g[v].draw(t);t.setTransform(1,0,0,1,0,0),t.fillStyle=t.strokeStyle,t.fill(),t.restore()}}t.exports={addStartArrow:function(t,e,n,r,i,a){"object"==typeof e.startArrow?f(t,e,n,r,i,a,!0):e.startArrow&&h(t,e,n,r,i,a,!0)},addEndArrow:function(t,e,n,r,i,a){"object"==typeof e.endArrow?f(t,e,n,r,i,a,!1):e.endArrow&&h(t,e,n,r,i,a,!1)}}},function(t,e,n){var r=n(506),i=n(602),a=n(603),o=n(676),s=n(677),u=r.vec3,c=r.mat3,l=["m","l","c","a","q","h","v","t","s","z"];function h(t,e,n){return{x:n.x+t,y:n.y+e}}function f(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function p(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function d(t,e){return(t[0]*e[0]+t[1]*e[1])/(p(t)*p(e))}function g(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(d(t,e))}var v=function(t,e,n){this.preSegment=e,this.isLast=n,this.init(t,e)};r.augment(v,{init:function(t,e){var n=t[0];e=e||{endPoint:{x:0,y:0}};var i,a,o,s,u=l.indexOf(n)>=0,c=u?n.toUpperCase():n,p=t,v=e.endPoint,y=p[1],m=p[2];switch(c){default:break;case"M":s=u?h(y,m,v):{x:y,y:m},this.command="M",this.params=[v,s],this.subStart=s,this.endPoint=s;break;case"L":s=u?h(y,m,v):{x:y,y:m},this.command="L",this.params=[v,s],this.subStart=e.subStart,this.endPoint=s,this.endTangent=function(){return[s.x-v.x,s.y-v.y]},this.startTangent=function(){return[v.x-s.x,v.y-s.y]};break;case"H":s=u?h(y,0,v):{x:y,y:v.y},this.command="L",this.params=[v,s],this.subStart=e.subStart,this.endPoint=s,this.endTangent=function(){return[s.x-v.x,s.y-v.y]},this.startTangent=function(){return[v.x-s.x,v.y-s.y]};break;case"V":s=u?h(0,y,v):{x:v.x,y:y},this.command="L",this.params=[v,s],this.subStart=e.subStart,this.endPoint=s,this.endTangent=function(){return[s.x-v.x,s.y-v.y]},this.startTangent=function(){return[v.x-s.x,v.y-s.y]};break;case"Q":u?(i=h(y,m,v),a=h(p[3],p[4],v)):(i={x:y,y:m},a={x:p[3],y:p[4]}),this.command="Q",this.params=[v,i,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-i.x,a.y-i.y]},this.startTangent=function(){return[v.x-i.x,v.y-i.y]};break;case"T":a=u?h(y,m,v):{x:y,y:m},"Q"===e.command?(i=f(e.params[1],v),this.command="Q",this.params=[v,i,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-i.x,a.y-i.y]},this.startTangent=function(){return[v.x-i.x,v.y-i.y]}):(this.command="TL",this.params=[v,a],this.subStart=e.subStart,this.endPoint=a,this.endTangent=function(){return[a.x-v.x,a.y-v.y]},this.startTangent=function(){return[v.x-a.x,v.y-a.y]});break;case"C":u?(i=h(y,m,v),a=h(p[3],p[4],v),o=h(p[5],p[6],v)):(i={x:y,y:m},a={x:p[3],y:p[4]},o={x:p[5],y:p[6]}),this.command="C",this.params=[v,i,a,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-a.x,o.y-a.y]},this.startTangent=function(){return[v.x-i.x,v.y-i.y]};break;case"S":u?(a=h(y,m,v),o=h(p[3],p[4],v)):(a={x:y,y:m},o={x:p[3],y:p[4]}),"C"===e.command?(i=f(e.params[2],v),this.command="C",this.params=[v,i,a,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-a.x,o.y-a.y]},this.startTangent=function(){return[v.x-i.x,v.y-i.y]}):(this.command="SQ",this.params=[v,a,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-a.x,o.y-a.y]},this.startTangent=function(){return[v.x-a.x,v.y-a.y]});break;case"A":var x=y,_=m,w=p[3],b=p[4],M=p[5];s=u?h(p[6],p[7],v):{x:p[6],y:p[7]},this.command="A";var S=function(t,e,n,i,a,o,s){var u=r.mod(r.toRadian(s),2*Math.PI),c=t.x,l=t.y,h=e.x,f=e.y,p=Math.cos(u)*(c-h)/2+Math.sin(u)*(l-f)/2,v=-1*Math.sin(u)*(c-h)/2+Math.cos(u)*(l-f)/2,y=p*p/(a*a)+v*v/(o*o);y>1&&(a*=Math.sqrt(y),o*=Math.sqrt(y));var m=a*a*(v*v)+o*o*(p*p),x=Math.sqrt((a*a*(o*o)-m)/m);n===i&&(x*=-1),isNaN(x)&&(x=0);var _=x*a*v/o,w=x*-o*p/a,b=(c+h)/2+Math.cos(u)*_-Math.sin(u)*w,M=(l+f)/2+Math.sin(u)*_+Math.cos(u)*w,S=g([1,0],[(p-_)/a,(v-w)/o]),E=[(p-_)/a,(v-w)/o],C=[(-1*p-_)/a,(-1*v-w)/o],k=g(E,C);return d(E,C)<=-1&&(k=Math.PI),d(E,C)>=1&&(k=0),0===i&&k>0&&(k-=2*Math.PI),1===i&&k<0&&(k+=2*Math.PI),[t,b,M,a,o,S,k,u,i]}(v,s,b,M,x,_,w);this.params=S;var E=e.subStart;this.subStart=E,this.endPoint=s;var C=S[5]%(2*Math.PI);r.isNumberEqual(C,2*Math.PI)&&(C=0);var k=S[6]%(2*Math.PI);r.isNumberEqual(k,2*Math.PI)&&(k=0);var P=.001;this.startTangent=function(){0===M&&(P*=-1);var t=S[3]*Math.cos(C-P)+S[1],e=S[4]*Math.sin(C-P)+S[2];return[t-E.x,e-E.y]},this.endTangent=function(){var t=S[6];t-2*Math.PI<1e-4&&(t=0);var e=S[3]*Math.cos(C+t+P)+S[1],n=S[4]*Math.sin(C+t-P)+S[2];return[v.x-e,v.y-n]};break;case"Z":this.command="Z",this.params=[v,e.subStart],this.subStart=e.subStart,this.endPoint=e.subStart}},isInside:function(t,e,n){var r=this.command,a=this.params,o=this.box;if(o&&!i.box(o.minX,o.maxX,o.minY,o.maxY,t,e))return!1;switch(r){default:break;case"M":return!1;case"TL":case"L":case"Z":return i.line(a[0].x,a[0].y,a[1].x,a[1].y,n,t,e);case"SQ":case"Q":return i.quadraticline(a[0].x,a[0].y,a[1].x,a[1].y,a[2].x,a[2].y,n,t,e);case"C":return i.cubicline(a[0].x,a[0].y,a[1].x,a[1].y,a[2].x,a[2].y,a[3].x,a[3].y,n,t,e);case"A":var s=a,l=s[1],h=s[2],f=s[3],p=s[4],d=s[5],g=s[6],v=s[7],y=s[8],m=f>p?f:p,x=f>p?1:f/p,_=f>p?p/f:1;s=[t,e,1];var w=[1,0,0,0,1,0,0,0,1];return c.translate(w,w,[-l,-h]),c.rotate(w,w,-v),c.scale(w,w,[1/x,1/_]),u.transformMat3(s,s,w),i.arcline(0,0,m,d,d+g,1-y,n,s[0],s[1])}return!1},draw:function(t){var e,n,r,i=this.command,a=this.params;switch(i){default:break;case"M":t.moveTo(a[1].x,a[1].y);break;case"TL":case"L":t.lineTo(a[1].x,a[1].y);break;case"SQ":case"Q":e=a[1],n=a[2],t.quadraticCurveTo(e.x,e.y,n.x,n.y);break;case"C":e=a[1],n=a[2],r=a[3],t.bezierCurveTo(e.x,e.y,n.x,n.y,r.x,r.y);break;case"A":var o=a,s=o[1],u=o[2],c=o[3],l=o[4],h=o[5],f=o[6],p=o[7],d=o[8],g=c>l?c:l,v=c>l?1:c/l,y=c>l?l/c:1;t.translate(s,u),t.rotate(p),t.scale(v,y),t.arc(0,0,g,h,h+f,1-d),t.scale(1/v,1/y),t.rotate(-p),t.translate(-s,-u);break;case"Z":t.closePath()}},getBBox:function(t){var e,n,r,i,u=t/2,c=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(c[0].x,c[1].x)-u,maxX:Math.max(c[0].x,c[1].x)+u,minY:Math.min(c[0].y,c[1].y)-u,maxY:Math.max(c[0].y,c[1].y)+u};break;case"SQ":case"Q":for(r=0,i=(n=o.extrema(c[0].x,c[1].x,c[2].x)).length;r<i;r++)n[r]=o.at(c[0].x,c[1].x,c[2].x,n[r]);for(n.push(c[0].x,c[2].x),r=0,i=(e=o.extrema(c[0].y,c[1].y,c[2].y)).length;r<i;r++)e[r]=o.at(c[0].y,c[1].y,c[2].y,e);e.push(c[0].y,c[2].y),this.box={minX:Math.min.apply(Math,n)-u,maxX:Math.max.apply(Math,n)+u,minY:Math.min.apply(Math,e)-u,maxY:Math.max.apply(Math,e)+u};break;case"C":for(r=0,i=(n=a.extrema(c[0].x,c[1].x,c[2].x,c[3].x)).length;r<i;r++)n[r]=a.at(c[0].x,c[1].x,c[2].x,c[3].x,n[r]);for(r=0,i=(e=a.extrema(c[0].y,c[1].y,c[2].y,c[3].y)).length;r<i;r++)e[r]=a.at(c[0].y,c[1].y,c[2].y,c[3].y,e[r]);n.push(c[0].x,c[3].x),e.push(c[0].y,c[3].y),this.box={minX:Math.min.apply(Math,n)-u,maxX:Math.max.apply(Math,n)+u,minY:Math.min.apply(Math,e)-u,maxY:Math.max.apply(Math,e)+u};break;case"A":var l=c,h=l[1],f=l[2],p=l[3],d=l[4],g=l[5],v=l[6],y=l[7],m=l[8],x=g,_=g+v,w=s.xExtrema(y,p,d),b=1/0,M=-1/0,S=[x,_];for(r=2*-Math.PI;r<=2*Math.PI;r+=Math.PI){var E=w+r;1===m?x<E&&E<_&&S.push(E):_<E&&E<x&&S.push(E)}for(r=0,i=S.length;r<i;r++){var C=s.xAt(y,p,d,h,S[r]);C<b&&(b=C),C>M&&(M=C)}var k=s.yExtrema(y,p,d),P=1/0,T=-1/0,A=[x,_];for(r=2*-Math.PI;r<=2*Math.PI;r+=Math.PI){var I=k+r;1===m?x<I&&I<_&&A.push(I):_<I&&I<x&&A.push(I)}for(r=0,i=A.length;r<i;r++){var O=s.yAt(y,p,d,f,A[r]);O<P&&(P=O),O>T&&(T=O)}this.box={minX:b-u,maxX:M+u,minY:P-u,maxY:T+u}}}}),t.exports=v},function(t,e,n){var r=n(525),i=Array.prototype.indexOf;t.exports=function(t,e){return!!r(t)&&i.call(t,e)>-1}},function(t,e){t.exports=function(t){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e}},function(t,e,n){t.exports={mat3:n(600),vec2:n(670),vec3:n(671),transform:n(672)}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var a=n(574),o=n(501),s=a.mat3,u=a.vec3,c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=this.getDefaultCfg();o(this,n,e),this.init()}return i(t,[{key:"getDefaultCfg",value:function(){return{isTransposed:!1,matrix:[1,0,0,0,1,0,0,0,1]}}}]),i(t,[{key:"init",value:function(){var t=this.start,e=this.end,n={x:(t.x+e.x)/2,y:(t.y+e.y)/2};this.center=n,this.width=Math.abs(e.x-t.x),this.height=Math.abs(e.y-t.y)}},{key:"_swapDim",value:function(t){var e=this[t];if(e){var n=e.start;e.start=e.end,e.end=n}}},{key:"getCenter",value:function(){return this.center}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"convertDim",value:function(t,e){var n=this[e],r=n.start;return r+t*(n.end-r)}},{key:"invertDim",value:function(t,e){var n=this[e],r=n.start;return(t-r)/(n.end-r)}},{key:"convertPoint",value:function(t){return t}},{key:"invertPoint",value:function(t){return t}},{key:"applyMatrix",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.matrix,i=[t,e,n];return u.transformMat3(i,i,r),i}},{key:"invertMatrix",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.matrix,i=s.invert([],r),a=[t,e,n];return u.transformMat3(a,a,i),a}},{key:"convert",value:function(t){var e=this.convertPoint(t),n=e.x,r=e.y,i=this.applyMatrix(n,r,1);return{x:i[0],y:i[1]}}},{key:"invert",value:function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})}},{key:"rotate",value:function(t){var e=this.matrix,n=this.center;return s.translate(e,e,[-n.x,-n.y]),s.rotate(e,e,t),s.translate(e,e,[n.x,n.y]),this}},{key:"reflect",value:function(t){switch(t){case"x":this._swapDim("x");break;case"y":this._swapDim("y");break;default:this._swapDim("y")}return this}},{key:"scale",value:function(t,e){var n=this.matrix,r=this.center;return s.translate(n,n,[-r.x,-r.y]),s.scale(n,n,[t,e]),s.translate(n,n,[r.x,r.y]),this}},{key:"translate",value:function(t,e){var n=this.matrix;return s.translate(n,n,[t,e]),this}},{key:"transpose",value:function(){return this.isTransposed=!this.isTransposed,this}}]),t}();t.exports=c},function(t,e,n){var r=n(512),i=n(500),a=i.assign,o=i.isNil,s=i.isArray,u=i.cloneDeep,c=i.wrapBehavior,l=i.getWrapBehavior,h=function(){var t=e.prototype;function e(t){var e=this.getDefaultCfg();a(this,e,t),this.init()}return t.getDefaultCfg=function(){return{chart:null,group:null,showTitle:!0,autoSetAxis:!0,padding:10,eachView:null,fields:[],colTitle:{offsetY:-15,style:{fontSize:14,textAlign:"center",fill:"#666",fontFamily:r.fontFamily}},rowTitle:{offsetX:15,style:{fontSize:14,textAlign:"center",rotate:90,fill:"#666",fontFamily:r.fontFamily}}}},t.init=function(){if(!this.chart)throw new Error("Facets Error: please specify the chart!");this._bindEvent(),this.initContainer(),this.chart.get("data")&&this.initViews()},t.initContainer=function(){var t=this.chart.get("frontPlot").addGroup();this.group=t},t.initViews=function(){for(var t=this.chart,e=t.get("data"),n=this.eachView,r=this.generateFacets(e),i=0;i<r.length;i++){var a=r[i],o=a.region,s=t.view({start:o.start,end:o.end,padding:this.padding});s.source(a.data),this.beforeProcessView(s,a),n&&n(s,a),this.afterProcessView(s,a),a.view=s}this.facets=r},t.beforeProcessView=function(){},t.afterProcessView=function(t,e){this.autoSetAxis&&this.processAxis(t,e)},t.processAxis=function(t,e){var n=t.get("options"),r=t.get("geoms");if((!n.coord.type||"rect"===n.coord.type)&&r.length){var i=r[0].get("attrOptions").position.field,a=s(i)?i:i.split("*").map(function(t){return t.trim()}),u=a[0],c=a[1];o(n.axes)&&(n.axes={});var l=n.axes;!1!==l&&(u&&!1!==l[u]&&(l[u]=l[u]||{},this.setXAxis(u,l,e)),c&&!1!==l[c]&&(l[c]=l[c]||{},this.setYAxis(c,l,e)))}},t.setXAxis=function(){},t.setYAxis=function(){},t.renderTitle=function(t,e){this.drawColTitle(t,e)},t.getScaleText=function(t,e,n){var r;if(t){var i=n.get("scales")[t];i||(i=n.createScale(t)),r=i.getText(e)}else r=e;return r},t.drawColTitle=function(t,e){var n=this.getScaleText(e.colField,e.colValue,t),r=a({position:["50%","0%"],content:n},this.colTitle);t.guide().text(r)},t.drawRowTitle=function(t,e){var n=this.getScaleText(e.rowField,e.rowValue,t),r=a({position:["100%","50%"],content:n},u(this.rowTitle));t.guide().text(r)},t.getFilter=function(t){return function(e){var n=!0;return t.forEach(function(t){var r=t.field,i=t.value,a=!0;!o(i)&&r&&(a=e[r]===i),n=n&&a}),n}},t.getFieldValues=function(t,e){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i][t];o(a)||r[a]||(n.push(a),r[a]=!0)}return n},t.getRegion=function(t,e,n,r){var i=1/e,a=1/t,o={x:i*n,y:a*r};return{start:o,end:{x:o.x+i,y:o.y+a}}},t.generateFacets=function(){return[]},t._bindEvent=function(){var t=this.chart;t.on("afterchangedata",c(this,"onDataChange")),t.on("beforeclear",c(this,"onClear")),t.on("beforedestroy",c(this,"destroy")),t.on("beforepaint",c(this,"onPaint")),t.on("setdata",c(this,"onDataChange"))},t._clearEvent=function(){var t=this.chart;t&&(t.off("afterchangedata",l(this,"onDataChange")),t.off("beforeclear",l(this,"onClear")),t.off("beforedestroy",l(this,"destroy")),t.off("beforepaint",l(this,"onPaint")),t.off("setdata",l(this,"onDataChange")))},t._clearFacets=function(){var t=this.facets,e=this.chart;if(t)for(var n=0;n<t.length;n++){var r=t[n];e.removeView(r.view)}this.facets=null},t.onClear=function(){this.onRemove()},t.onPaint=function(){if(this.showTitle)for(var t=this.facets,e=0;e<t.length;e++){var n=t[e],r=n.view;this.renderTitle(r,n)}},t.onDataChange=function(){this._clearFacets(),this.initViews()},t.onRemove=function(){this._clearFacets(),this._clearEvent(),this.group&&this.group.remove(),this.chart=null,this.facets=null,this.group=null},t.destroy=function(){this.onRemove(),this.destroyed=!0},e}();t.exports=h},function(t,e){var n=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};t.exports=function(t,e){void 0===e&&(e=1);for(var r=n(t,2),i=r[0],a=r[1],o=[],s=i;s<a;)o.push(s),s+=e;return o.push(a),o}},function(t,e,n){var r=n(529),i=r.standardDeviation,a=r.interquartileRange;t.exports={silverman:function(t){var e=i(t),n=4*Math.pow(e,5),r=3*t.length;return Math.pow(n/r,.2)},nrd:function(t){var e=i(t),n=a(t);return"number"==typeof n&&(e=Math.min(e,n/1.34)),1.06*e*Math.pow(t.length,-.2)}}},function(t,e,n){"use strict";var r=n(510);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),function n(i){var a=t.node(i);if(r.has(e,i))return a.rank;e[i]=!0;var o=r.minBy(r.map(t.outEdges(i),function(e){return n(e.w)-t.edge(e).minlen}));o!==Number.POSITIVE_INFINITY&&void 0!==o&&null!==o||(o=0);return a.rank=o})},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e,n){var r=n(746),i=function(){function t(t,e){void 0===e&&(e={});this.options=e,this.rootNode=r(t,e)}return t.prototype.execute=function(){throw new Error("please override this method")},t}();t.exports=i},function(t,e,n){"use strict";n.r(e);var r=n(540);function i(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}var a=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),a=t[r],o=t[r+1],s=r>0?t[r-1]:2*a-o,u=r<e-1?t[r+2]:2*o-a;return i((n-r/e)*e,s,a,o,u)}},o=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),a=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],u=t[(r+2)%e];return i((n-r/e)*e,a,o,s,u)}},s=function(t){return function(){return t}};function u(t,e){return function(n){return t+n*e}}function c(t,e){var n=e-t;return n?u(t,n>180||n<-180?n-360*Math.round(n/360):n):s(isNaN(t)?e:t)}function l(t){return 1==(t=+t)?h:function(e,n){return n-e?(r=e,i=n,a=t,r=Math.pow(r,a),i=Math.pow(i,a)-r,a=1/a,function(t){return Math.pow(r+t*i,a)}):s(isNaN(e)?n:e);var r,i,a}}function h(t,e){var n=e-t;return n?u(t,n):s(isNaN(t)?e:t)}var f=function t(e){var n=l(e);function i(t,e){var i=n((t=Object(r.f)(t)).r,(e=Object(r.f)(e)).r),a=n(t.g,e.g),o=n(t.b,e.b),s=h(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=a(e),t.b=o(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function p(t){return function(e){var n,i,a=e.length,o=new Array(a),s=new Array(a),u=new Array(a);for(n=0;n<a;++n)i=Object(r.f)(e[n]),o[n]=i.r||0,s[n]=i.g||0,u[n]=i.b||0;return o=t(o),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=o(t),i.g=s(t),i.b=u(t),i+""}}}var d=p(a),g=p(o),v=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=k(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}},y=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}},m=function(t,e){return e-=t=+t,function(n){return t+e*n}},x=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=k(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,w=new RegExp(_.source,"g");var b,M,S,E,C=function(t,e){var n,r,i,a,o,s=_.lastIndex=w.lastIndex=0,u=-1,c=[],l=[];for(t+="",e+="";(n=_.exec(t))&&(r=w.exec(e));)(i=r.index)>s&&(i=e.slice(s,i),c[u]?c[u]+=i:c[++u]=i),(n=n[0])===(r=r[0])?c[u]?c[u]+=r:c[++u]=r:(c[++u]=null,l.push({i:u,x:m(n,r)})),s=w.lastIndex;return s<e.length&&(i=e.slice(s),c[u]?c[u]+=i:c[++u]=i),c.length<2?l[0]?(o=l[0].x,function(t){return o(t)+""}):(a=e,function(){return a}):(e=l.length,function(t){for(var n,r=0;r<e;++r)c[(n=l[r]).i]=n.x(t);return c.join("")})},k=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?s(e):("number"===i?m:"string"===i?(n=Object(r.a)(e))?(e=n,f):C:e instanceof r.a?f:e instanceof Date?y:Array.isArray(e)?v:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?x:m)(t,e)},P=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},T=180/Math.PI,A={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},I=function(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*T,skewX:Math.atan(u)*T,scaleX:o,scaleY:s}};function O(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var s,u,c,l,h,f,p=[],d=[];return a=t(a),o=t(o),function(t,r,i,a,o,s){if(t!==i||r!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:m(t,i)},{i:u-2,x:m(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,p,d),s=a.rotate,u=o.rotate,c=p,s!==u?(s-u>180?u+=360:u-s>180&&(s+=360),d.push({i:c.push(i(c)+"rotate(",null,r)-2,x:m(s,u)})):u&&c.push(i(c)+"rotate("+u+r),l=a.skewX,h=o.skewX,f=p,l!==h?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:m(l,h)}):h&&f.push(i(f)+"skewX("+h+r),function(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:m(t,n)},{i:s-2,x:m(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,p,d),a=o=null,function(t){for(var e,n=-1,r=d.length;++n<r;)p[(e=d[n]).i]=e.x(t);return p.join("")}}}var L=O(function(t){return"none"===t?A:(b||(b=document.createElement("DIV"),M=document.documentElement,S=document.defaultView),b.style.transform=t,t=S.getComputedStyle(M.appendChild(b),null).getPropertyValue("transform"),M.removeChild(b),t=t.slice(7,-1).split(","),I(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),j=O(function(t){return null==t?A:(E||(E=document.createElementNS("http://www.w3.org/2000/svg","g")),E.setAttribute("transform",t),(t=E.transform.baseVal.consolidate())?(t=t.matrix,I(t.a,t.b,t.c,t.d,t.e,t.f)):A)},", ",")",")"),R=Math.SQRT2;function D(t){return((t=Math.exp(t))+1/t)/2}var N=function(t,e){var n,r,i=t[0],a=t[1],o=t[2],s=e[0],u=e[1],c=e[2],l=s-i,h=u-a,f=l*l+h*h;if(f<1e-12)r=Math.log(c/o)/R,n=function(t){return[i+t*l,a+t*h,o*Math.exp(R*t*r)]};else{var p=Math.sqrt(f),d=(c*c-o*o+4*f)/(2*o*2*p),g=(c*c-o*o-4*f)/(2*c*2*p),v=Math.log(Math.sqrt(d*d+1)-d),y=Math.log(Math.sqrt(g*g+1)-g);r=(y-v)/R,n=function(t){var e,n,s=t*r,u=D(v),c=o/(2*p)*(u*(n=R*s+v,((n=Math.exp(2*n))-1)/(n+1))-(e=v,((e=Math.exp(e))-1/e)/2));return[i+c*l,a+c*h,o*u/D(R*s+v)]}}return n.duration=1e3*r,n};function B(t){return function(e,n){var i=t((e=Object(r.d)(e)).h,(n=Object(r.d)(n)).h),a=h(e.s,n.s),o=h(e.l,n.l),s=h(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(t),e.opacity=s(t),e+""}}}var F=B(c),z=B(h);function G(t,e){var n=h((t=Object(r.e)(t)).l,(e=Object(r.e)(e)).l),i=h(t.a,e.a),a=h(t.b,e.b),o=h(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=a(e),t.opacity=o(e),t+""}}function V(t){return function(e,n){var i=t((e=Object(r.c)(e)).h,(n=Object(r.c)(n)).h),a=h(e.c,n.c),o=h(e.l,n.l),s=h(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=a(t),e.l=o(t),e.opacity=s(t),e+""}}}var q=V(c),H=V(h);function Y(t){return function e(n){function i(e,i){var a=t((e=Object(r.b)(e)).h,(i=Object(r.b)(i)).h),o=h(e.s,i.s),s=h(e.l,i.l),u=h(e.opacity,i.opacity);return function(t){return e.h=a(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,i.gamma=e,i}(1)}var W=Y(c),U=Y(h),X=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n};n.d(e,"interpolate",function(){return k}),n.d(e,"interpolateArray",function(){return v}),n.d(e,"interpolateBasis",function(){return a}),n.d(e,"interpolateBasisClosed",function(){return o}),n.d(e,"interpolateDate",function(){return y}),n.d(e,"interpolateNumber",function(){return m}),n.d(e,"interpolateObject",function(){return x}),n.d(e,"interpolateRound",function(){return P}),n.d(e,"interpolateString",function(){return C}),n.d(e,"interpolateTransformCss",function(){return L}),n.d(e,"interpolateTransformSvg",function(){return j}),n.d(e,"interpolateZoom",function(){return N}),n.d(e,"interpolateRgb",function(){return f}),n.d(e,"interpolateRgbBasis",function(){return d}),n.d(e,"interpolateRgbBasisClosed",function(){return g}),n.d(e,"interpolateHsl",function(){return F}),n.d(e,"interpolateHslLong",function(){return z}),n.d(e,"interpolateLab",function(){return G}),n.d(e,"interpolateHcl",function(){return q}),n.d(e,"interpolateHclLong",function(){return H}),n.d(e,"interpolateCubehelix",function(){return W}),n.d(e,"interpolateCubehelixLong",function(){return U}),n.d(e,"quantize",function(){return X})},,,,,,,,,,,,,function(t,e,n){var r=n(647),i=n(536),a=n(690),o=n(710),s=n(512),u=n(519),c=n(500),l={version:s.version,Animate:a,Chart:o,Global:s,Scale:r,Shape:u,Util:c,G:i,DomUtil:c.DomUtil,MatrixUtil:c.MatrixUtil,PathUtil:c.PathUtil,track:function(t){s.trackable=t}};n(982),"undefined"!=typeof window&&(window.G2?console.warn("There are multiple versions of G2. Version "+l.version+"'s reference is 'window.G2_3'"):window.G2=l),t.exports=l},function(t,e){var n,r=(n={},function(t){return n[t=t||"g"]?n[t]+=1:n[t]=1,t+n[t]});t.exports=r},function(t,e,n){var r=n(537),i=n(504),a=5;function o(t,e,n,s){for(var u in n=n||0,s=s||a,e)if(e.hasOwnProperty(u)){var c=e[u];null!==c&&r(c)?(r(t[u])||(t[u]={}),n<s?o(t[u],c,n+1,s):t[u]=e[u]):i(c)?(t[u]=[],t[u]=t[u].concat(c)):void 0!==c&&(t[u]=c)}}t.exports=function(){for(var t=new Array(arguments.length),e=t.length,n=0;n<e;n++)t[n]=arguments[n];for(var r=t[0],i=1;i<e;i++)o(r,t[i]);return r}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":n(t))&&null!==t}},function(t,e,n){var r=n(597),i=n(525),a=n(507);t.exports=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(a(e)||a(n))return!1;if(i(e)||i(n)){if(e.length!==n.length)return!1;for(var o=!0,s=0;s<e.length&&(o=t(e[s],n[s]));s++);return o}if(r(e)||r(n)){var u=Object.keys(e),c=Object.keys(n);if(u.length!==c.length)return!1;for(var l=!0,h=0;h<u.length&&(l=t(e[u[h]],n[u[h]]));h++);return l}return!1}},function(t,e){t.exports=function(t,e,n){return t<e?e:t>n?n:t}},function(t,e,n){var r=n(838);r.translate=function(t,e,n){var i=new Array(9);return r.fromTranslation(i,n),r.multiply(t,i,e)},r.rotate=function(t,e,n){var i=new Array(9);return r.fromRotation(i,n),r.multiply(t,i,e)},r.scale=function(t,e,n){var i=new Array(9);return r.fromScaling(i,n),r.multiply(t,i,e)},t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*i},e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))};var r=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var i=Math.PI/180},function(t,e,n){var r=n(568),i=n(676),a=n(603),o=n(569);t.exports={line:function(t,e,n,i,a,o,s){var u=r.box(t,e,n,i,a);if(!this.box(u.minX,u.maxX,u.minY,u.maxY,o,s))return!1;var c=r.pointDistance(t,e,n,i,o,s);return!isNaN(c)&&c<=a/2},polyline:function(t,e,n,r){var i=t.length-1;if(i<1)return!1;for(var a=0;a<i;a++){var o=t[a][0],s=t[a][1],u=t[a+1][0],c=t[a+1][1];if(this.line(o,s,u,c,e,n,r))return!0}return!1},cubicline:function(t,e,n,r,i,o,s,u,c,l,h){return a.pointDistance(t,e,n,r,i,o,s,u,l,h)<=c/2},quadraticline:function(t,e,n,r,a,o,s,u,c){return i.pointDistance(t,e,n,r,a,o,u,c)<=s/2},arcline:function(t,e,n,r,i,a,s,u,c){return o.pointDistance(t,e,n,r,i,a,u,c)<=s/2},rect:function(t,e,n,r,i,a){return t<=i&&i<=t+n&&e<=a&&a<=e+r},circle:function(t,e,n,r,i){return Math.pow(r-t,2)+Math.pow(i-e,2)<=Math.pow(n,2)},box:function(t,e,n,r,i,a){return t<=i&&i<=e&&n<=a&&a<=r}}},function(t,e,n){var r=n(506),i=r.vec2;function a(t,e,n,r,i){var a=1-i;return a*a*(a*r+3*i*n)+i*i*(i*t+3*a*e)}function o(t,e,n,r,o,s,u,c,l,h,f){var p,d,g,v,y,m,x,_,w=.005,b=1/0,M=[l,h];for(d=0;d<1;d+=.05)g=[a(t,n,o,u,d),a(e,r,s,c,d)],(v=i.squaredDistance(M,g))<b&&(p=d,b=v);b=1/0;for(var S=0;S<32&&!(w<1e-4);S++)_=p+w,g=[a(t,n,o,u,x=p-w),a(e,r,s,c,x)],v=i.squaredDistance(M,g),x>=0&&v<b?(p=x,b=v):(m=[a(t,n,o,u,_),a(e,r,s,c,_)],y=i.squaredDistance(M,m),_<=1&&y<b?(p=_,b=y):w*=.5);return f&&(f.x=a(t,n,o,u,p),f.y=a(e,r,s,c,p)),Math.sqrt(b)}function s(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}t.exports={at:a,derivativeAt:function(t,e,n,r,i){var a=1-i;return 3*(((e-t)*a+2*(n-e)*i)*a+(r-n)*i*i)},projectPoint:function(t,e,n,r,i,a,s,u,c,l){var h={};return o(t,e,n,r,i,a,s,u,c,l,h),h},pointDistance:o,extrema:function(t,e,n,i){var a,o,s,u=3*t-9*e+9*n-3*i,c=6*e-12*n+6*i,l=3*n-3*i,h=[];if(r.isNumberEqual(u,0))r.isNumberEqual(c,0)||(a=-l/c)>=0&&a<=1&&h.push(a);else{var f=c*c-4*u*l;r.isNumberEqual(f,0)?h.push(-c/(2*u)):f>0&&(o=(-c-(s=Math.sqrt(f)))/(2*u),(a=(-c+s)/(2*u))>=0&&a<=1&&h.push(a),o>=0&&o<=1&&h.push(o))}return h},len:function(t,e,n,i,a,o,u,c,l){r.isNil(l)&&(l=1);for(var h=(l=l>1?1:l<0?0:l)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,g=0;g<12;g++){var v=h*f[g]+h,y=s(v,t,n,a,u),m=s(v,e,i,o,c),x=y*y+m*m;d+=p[g]*Math.sqrt(x)}return h*d}}},function(t,e,n){var r=n(506),i=n(516),a=n(548),o=n(571),s=function t(e){t.superclass.constructor.call(this,e)};s.Symbols={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},s.ATTRS={path:null,lineWidth:1},r.extend(s,i),r.augment(s,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.radius,i=this.getHitLineWidth()/2+r;return{minX:e-i,minY:n-i,maxX:e+i,maxY:n+i}},_getPath:function(){var t=this._attrs,e=t.x,n=t.y,i=t.radius||t.r,a=t.symbol||"circle";return(r.isFunction(a)?a:s.Symbols[a])(e,n,i)},createPath:function(t){var e=this._cfg.segments;if(!e||this._cfg.hasUpdate){var n,r=a.parsePath(this._getPath());t.beginPath(),e=[];for(var i=0;i<r.length;i++){var s=r[i];n=new o(s,n,i===r.length-1),e.push(n),n.draw(t)}this._cfg.segments=e,this._cfg.hasUpdate=!1}else{t.beginPath();for(var u=0;u<e.length;u++)e[u].draw(t)}}}),t.exports=s},function(t,e,n){var r=n(655),i="\t\n\v\f\r   ᠎             　\u2028\u2029",a=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),o=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),s=function(t){if(!t)return null;if(typeof t==typeof[])return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},n=[];return String(t).replace(a,function(t,r,i){var a=[],s=r.toLowerCase();if(i.replace(o,function(t,e){e&&a.push(+e)}),"m"===s&&a.length>2&&(n.push([r].concat(a.splice(0,2))),s="l",r="m"===r?"l":"L"),"o"===s&&1===a.length&&n.push([r,a[0]]),"r"===s)n.push([r].concat(a));else for(;a.length>=e[s]&&(n.push([r].concat(a.splice(0,e[s]))),e[s]););}),n},u=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var a=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?a[3]={x:+t[0],y:+t[1]}:i-2===r&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?a[3]=a[2]:r||(a[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return n},c=function(t,e,n,r,i){var a=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var o=Math.PI/180,s=t+n*Math.cos(-r*o),u=t+n*Math.cos(-i*o);a=[["M",s,e+n*Math.sin(-r*o)],["A",n,n,0,+(i-r>180),0,u,e+n*Math.sin(-i*o)]]}else a=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return a},l=function(t){if(!(t=s(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,a=0,o=0,l=0,h=0;"M"===t[0][0]&&(o=i=+t[0][1],l=a=+t[0][2],h++,r[0]=["M",i,a]);for(var f,p,d=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),g=h,v=t.length;g<v;g++){if(r.push(f=[]),(e=(p=t[g])[0])!==e.toUpperCase())switch(f[0]=e.toUpperCase(),f[0]){case"A":f[1]=p[1],f[2]=p[2],f[3]=p[3],f[4]=p[4],f[5]=p[5],f[6]=+p[6]+i,f[7]=+p[7]+a;break;case"V":f[1]=+p[1]+a;break;case"H":f[1]=+p[1]+i;break;case"R":for(var y=2,m=(n=[i,a].concat(p.slice(1))).length;y<m;y++)n[y]=+n[y]+i,n[++y]=+n[y]+a;r.pop(),r=r.concat(u(n,d));break;case"O":r.pop(),(n=c(i,a,p[1],p[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(c(i,a,p[1],p[2],p[3])),f=["U"].concat(r[r.length-1].slice(-2));break;case"M":o=+p[1]+i,l=+p[2]+a;break;default:for(var x=1,_=p.length;x<_;x++)f[x]=+p[x]+(x%2?i:a)}else if("R"===e)n=[i,a].concat(p.slice(1)),r.pop(),r=r.concat(u(n,d)),f=["R"].concat(p.slice(-2));else if("O"===e)r.pop(),(n=c(i,a,p[1],p[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(c(i,a,p[1],p[2],p[3])),f=["U"].concat(r[r.length-1].slice(-2));else for(var w=0,b=p.length;w<b;w++)f[w]=p[w];if("O"!==(e=e.toUpperCase()))switch(f[0]){case"Z":i=+o,a=+l;break;case"H":i=f[1];break;case"V":a=f[1];break;case"M":o=f[f.length-2],l=f[f.length-1];break;default:i=f[f.length-2],a=f[f.length-1]}}return r},h=function(t,e,n,r){return[t,e,n,r,n,r]},f=function(t,e,n,r,i,a){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*a+2/3*r,i,a]},p=function(t,e){var n,r=l(t),i=e&&l(e),a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],c="",p="",d=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(function t(e,n,r,i,a,o,s,u,c,l){r===i&&(r+=1);var h,f,p,d,g,v=120*Math.PI/180,y=Math.PI/180*(+a||0),m=[],x=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(l)f=l[0],p=l[1],d=l[2],g=l[3];else{e=(h=x(e,n,-y)).x,n=h.y,u=(h=x(u,c,-y)).x,c=h.y,e===u&&n===c&&(u+=1,c+=1);var _=(e-u)/2,w=(n-c)/2,b=_*_/(r*r)+w*w/(i*i);b>1&&(r*=b=Math.sqrt(b),i*=b);var M=r*r,S=i*i,E=(o===s?-1:1)*Math.sqrt(Math.abs((M*S-M*w*w-S*_*_)/(M*w*w+S*_*_)));d=E*r*w/i+(e+u)/2,g=E*-i*_/r+(n+c)/2,f=Math.asin(((n-g)/i).toFixed(9)),p=Math.asin(((c-g)/i).toFixed(9)),f=e<d?Math.PI-f:f,p=u<d?Math.PI-p:p,f<0&&(f=2*Math.PI+f),p<0&&(p=2*Math.PI+p),s&&f>p&&(f-=2*Math.PI),!s&&p>f&&(p-=2*Math.PI)}var C=p-f;if(Math.abs(C)>v){var k=p,P=u,T=c;p=f+v*(s&&p>f?1:-1),m=t(u=d+r*Math.cos(p),c=g+i*Math.sin(p),r,i,a,0,s,P,T,[p,k,d,g])}C=p-f;var A=Math.cos(f),I=Math.sin(f),O=Math.cos(p),L=Math.sin(p),j=Math.tan(C/4),R=4/3*r*j,D=4/3*i*j,N=[e,n],B=[e+R*I,n-D*A],F=[u+R*L,c-D*O],z=[u,c];if(B[0]=2*N[0]-B[0],B[1]=2*N[1]-B[1],l)return[B,F,z].concat(m);for(var G=[],V=0,q=(m=[B,F,z].concat(m).join().split(",")).length;V<q;V++)G[V]=V%2?x(m[V-1],m[V],y).y:x(m[V],m[V+1],y).x;return G}.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(f(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(f(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(h(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(h(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(h(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(h(e.x,e.y,e.X,e.Y))}return t},g=function(t,e){if(t[e].length>7){t[e].shift();for(var a=t[e];a.length;)s[e]="A",i&&(u[e]="A"),t.splice(e++,0,["C"].concat(a.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},v=function(t,e,a,o,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",o.x,o.y]),a.bx=0,a.by=0,a.x=t[s][1],a.y=t[s][2],n=Math.max(r.length,i&&i.length||0))};n=Math.max(r.length,i&&i.length||0);for(var y=0;y<n;y++){r[y]&&(c=r[y][0]),"C"!==c&&(s[y]=c,y&&(p=s[y-1])),r[y]=d(r[y],a,p),"A"!==s[y]&&"C"===c&&(s[y]="C"),g(r,y),i&&(i[y]&&(c=i[y][0]),"C"!==c&&(u[y]=c,y&&(p=u[y-1])),i[y]=d(i[y],o,p),"A"!==u[y]&&"C"===c&&(u[y]="C"),g(i,y)),v(r,i,a,o,y),v(i,r,o,a,y);var m=r[y],x=i&&i[y],_=m.length,w=i&&x.length;a.x=m[_-2],a.y=m[_-1],a.bx=parseFloat(m[_-4])||a.x,a.by=parseFloat(m[_-3])||a.y,o.bx=i&&(parseFloat(x[w-4])||o.x),o.by=i&&(parseFloat(x[w-3])||o.y),o.x=i&&x[w-2],o.y=i&&x[w-1]}return i?[r,i]:r},d=/,?([a-z]),?/gi,g=function(t){return t.join(",").replace(d,"$1")},v=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},y=function(t,e,n,r,i,a,o,s,u){null===u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,p=0;p<12;p++){var d=c*l[p]+c,g=v(d,t,n,i,o),y=v(d,e,r,a,s),m=g*g+y*y;f+=h[p]*Math.sqrt(m)}return c*f},m=function(t,e,n,r,i,a,o,s){if(!(Math.max(t,n)<Math.min(i,o)||Math.min(t,n)>Math.max(i,o)||Math.max(e,r)<Math.min(a,s)||Math.min(e,r)>Math.max(a,s))){var u=(t-n)*(a-s)-(e-r)*(i-o);if(u){var c=((t*r-e*n)*(i-o)-(t-n)*(i*s-a*o))/u,l=((t*r-e*n)*(a-s)-(e-r)*(i*s-a*o))/u,h=+c.toFixed(2),f=+l.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(i,o).toFixed(2)||h>+Math.max(i,o).toFixed(2)||f<+Math.min(e,r).toFixed(2)||f>+Math.max(e,r).toFixed(2)||f<+Math.min(a,s).toFixed(2)||f>+Math.max(a,s).toFixed(2)))return{x:c,y:l}}}},x=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},_=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var a=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return a.parsePathArray=g,a},w=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:_(t,e,n,r),vb:[t,e,n,r].join(" ")}},b=function(t,e,n,i,a,o,s,u){r.isArray(t)||(t=[t,e,n,i,a,o,s,u]);var c=function(t,e,n,r,i,a,o,s){for(var u,c,l,h,f=[],p=[[],[]],d=0;d<2;++d)if(0===d?(c=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*o,l=3*n-3*t):(c=6*e-12*r+6*a,u=-3*e+9*r-9*a+3*s,l=3*r-3*e),Math.abs(u)<1e-12){if(Math.abs(c)<1e-12)continue;(h=-l/c)>0&&h<1&&f.push(h)}else{var g=c*c-4*l*u,v=Math.sqrt(g);if(!(g<0)){var y=(-c+v)/(2*u);y>0&&y<1&&f.push(y);var m=(-c-v)/(2*u);m>0&&m<1&&f.push(m)}}for(var x,_=f.length,w=_;_--;)x=1-(h=f[_]),p[0][_]=x*x*x*t+3*x*x*h*n+3*x*h*h*i+h*h*h*o,p[1][_]=x*x*x*e+3*x*x*h*r+3*x*h*h*a+h*h*h*s;return p[0][w]=t,p[1][w]=e,p[0][w+1]=o,p[1][w+1]=s,p[0].length=p[1].length=w+2,{min:{x:Math.min.apply(0,p[0]),y:Math.min.apply(0,p[1])},max:{x:Math.max.apply(0,p[0]),y:Math.max.apply(0,p[1])}}}.apply(null,t);return w(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},M=function(t,e,n,r,i,a,o,s,u){var c=1-u,l=Math.pow(c,3),h=Math.pow(c,2),f=u*u,p=f*u,d=t+2*u*(n-t)+f*(i-2*n+t),g=e+2*u*(r-e)+f*(a-2*r+e),v=n+2*u*(i-n)+f*(o-2*i+n),y=r+2*u*(a-r)+f*(s-2*a+r);return{x:l*t+3*h*u*n+3*c*u*u*i+p*o,y:l*e+3*h*u*r+3*c*u*u*a+p*s,m:{x:d,y:g},n:{x:v,y:y},start:{x:c*t+u*n,y:c*e+u*r},end:{x:c*i+u*o,y:c*a+u*s},alpha:90-180*Math.atan2(d-v,g-y)/Math.PI}},S=function(t,e,n){var r,i,a=b(t),o=b(e);if(i=o,r=w(r=a),i=w(i),!(x(i,r.x,r.y)||x(i,r.x2,r.y)||x(i,r.x,r.y2)||x(i,r.x2,r.y2)||x(r,i.x,i.y)||x(r,i.x2,i.y)||x(r,i.x,i.y2)||x(r,i.x2,i.y2)||(r.x<i.x2&&r.x>i.x||i.x<r.x2&&i.x>r.x)&&(r.y<i.y2&&r.y>i.y||i.y<r.y2&&i.y>r.y)))return n?0:[];for(var s=~~(y.apply(0,t)/8),u=~~(y.apply(0,e)/8),c=[],l=[],h={},f=n?0:[],p=0;p<s+1;p++){var d=M.apply(0,t.concat(p/s));c.push({x:d.x,y:d.y,t:p/s})}for(var g=0;g<u+1;g++){var v=M.apply(0,e.concat(g/u));l.push({x:v.x,y:v.y,t:g/u})}for(var _=0;_<s;_++)for(var S=0;S<u;S++){var E=c[_],C=c[_+1],k=l[S],P=l[S+1],T=Math.abs(C.x-E.x)<.001?"y":"x",A=Math.abs(P.x-k.x)<.001?"y":"x",I=m(E.x,E.y,C.x,C.y,k.x,k.y,P.x,P.y);if(I){if(h[I.x.toFixed(4)]===I.y.toFixed(4))continue;h[I.x.toFixed(4)]=I.y.toFixed(4);var O=E.t+Math.abs((I[T]-E[T])/(C[T]-E[T]))*(C.t-E.t),L=k.t+Math.abs((I[A]-k[A])/(P[A]-k[A]))*(P.t-k.t);O>=0&&O<=1&&L>=0&&L<=1&&(n?f++:f.push({x:I.x,y:I.y,t1:O,t2:L}))}}return f};function E(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var a=[],o=0;o<e.length-1;o++)0===o&&n.push(e[0]),o===e.length-2&&r.push(e[o+1]),a[o]=[(1-i)*e[o][0]+i*e[o+1][0],(1-i)*e[o][1]+i*e[o+1][1]];t(a,i)}}(t,e),{left:n,right:r.reverse()}}var C=function(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var a=r,o=1/n,s=0;s<n-1;s++){var u=E(a,o/(1-o*s));i.push(u.left),a=u.right}return i.push(a),i.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])})}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var a=0;a<=n-1;a++)r.push(i)}return r},k=function(t,e){if(t.length!==e.length)return!1;var n=!0;return r.each(t,function(t,r){if(t!==e[r])return n=!1,!1}),n};function P(t,e,n){for(var r,i=[].concat(t),a=1/(n+1),o=T(e)[0],s=1;s<=n;s++)a*=s,0===(r=Math.floor(t.length*a))?i.unshift([o[0]*a+t[r][0]*(1-a),o[1]*a+t[r][1]*(1-a)]):i.splice(r,0,[o[0]*a+t[r][0]*(1-a),o[1]*a+t[r][1]*(1-a)]);return i}function T(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}t.exports={parsePathString:s,parsePathArray:g,pathTocurve:p,pathToAbsolute:l,catmullRomToBezier:u,rectPath:_,fillPath:function(t,e){if(1===t.length)return t;var n=t.length-1,r=e.length-1,i=n/r,a=[];if(1===t.length&&"M"===t[0][0]){for(var o=0;o<r-n;o++)t.push(t[0]);return t}for(var s=0;s<r;s++){var u=Math.floor(i*s);a[u]=(a[u]||0)+1}var c=a.reduce(function(e,r,i){return i===n?e.concat(t[n]):e.concat(C(t[i],t[i+1],r))},[]);return c.unshift(t[0]),"Z"!==e[r]&&"z"!==e[r]||c.push("Z"),c},fillPathByDiff:function(t,e){var n=function(t,e){var n,r,i=t.length,a=e.length,o=0;if(0===i||0===a)return null;for(var s,u,c,l,h=[],f=0;f<=i;f++)h[f]=[],h[f][0]={min:f};for(var p=0;p<=a;p++)h[0][p]={min:p};for(var d=1;d<=i;d++){n=t[d-1];for(var g=1;g<=a;g++){r=e[g-1],o=k(n,r)?0:1;var v=h[d-1][g].min+1,y=h[d][g-1].min+1,m=h[d-1][g-1].min+o;h[d][g]=(s=v,c=void 0,l=void 0,c=null,(u=y)<(l=m)&&(l=u,c="add"),s<l&&(l=s,c="del"),{type:c,min:l})}}return h}(t,e),r=t.length,i=e.length,a=[],o=1,s=1;if(n[r][i]!==r){for(var u=1;u<=r;u++){var c=n[u][u].min;s=u;for(var l=o;l<=i;l++)n[u][l].min<c&&(c=n[u][l].min,s=l);o=s,n[u][o].type&&a.push({index:u-1,type:n[u][o].type})}for(var h=a.length-1;h>=0;h--)o=a[h].index,"add"===a[h].type?t.splice(o,0,[].concat(t[o])):t.splice(o,1)}var f=i-(r=t.length);if(r<i)for(var p=0;p<f;p++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t},formatPath:function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=T(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=P(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(r>0)){t[r]=e[r];break}n=P(n,t[r-1],2)}t[r]=["C"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(n.length<2){if(!(r>0)){t[r]=e[r];break}n=P(n,t[r-1],1)}t[r]=["S"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;default:t[r]=e[r]}return t},intersection:function(t,e){return function(t,e,n){var r,i,a,o,s,u,c,l,h,f;t=p(t),e=p(e);for(var d=n?0:[],g=0,v=t.length;g<v;g++){var y=t[g];if("M"===y[0])r=s=y[1],i=u=y[2];else{"C"===y[0]?(r=(h=[r,i].concat(y.slice(1)))[6],i=h[7]):(h=[r,i,r,i,s,u,s,u],r=s,i=u);for(var m=0,x=e.length;m<x;m++){var _=e[m];if("M"===_[0])a=c=_[1],o=l=_[2];else{"C"===_[0]?(a=(f=[a,o].concat(_.slice(1)))[6],o=f[7]):(f=[a,o,a,o,c,l,c,l],a=c,o=l);var w=S(h,f,n);if(n)d+=w;else{for(var b=0,M=w.length;b<M;b++)w[b].segment1=g,w[b].segment2=m,w[b].bez1=h,w[b].bez2=f;d=d.concat(w)}}}}}return d}(t,e)}}},function(t,e,n){var r=n(502),i=n(525);t.exports=function(t,e){if(!i(t))return t;var n=[];return r(t,function(t,r){e(t,r)&&n.push(t)}),n}},function(t,e,n){var r=n(532),i=n(514);t.exports=function(t,e){var n=r(e),a=n.length;if(i(t))return!a;for(var o=0;o<a;o+=1){var s=n[o];if(e[s]!==t[s]||!(s in t))return!1}return!0}},function(t,e,n){var r=n(504);t.exports=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(r(e))for(var i=0;i<e.length;i+=1)t(e[i],n);else n.push(e);return n}},function(t,e,n){var r=n(502),i=n(572);t.exports=function(t){var e=[];return r(t,function(t){i(e,t)||e.push(t)}),e}},function(t,e,n){var r=n(514),i=n(504),a=n(502);t.exports=function(t,e){for(var n=[],o={},s=0;s<t.length;s++){var u=t[s][e];r(u)||(i(u)||(u=[u]),a(u,function(t){o[t]||(n.push(t),o[t]=!0)}))}return n}},function(t,e){t.exports=function(t,e){return t.hasOwnProperty(e)}},function(t,e,n){var r=n(502),i=n(504),a=Object.prototype.hasOwnProperty;t.exports=function(t,e){if(!e||!i(t))return t;var n={},o=null;return r(t,function(t){o=e(t),a.call(n,o)?n[o].push(t):n[o]=[t]}),n}},function(t,e,n){t.exports={Position:n(917),Color:n(918),Shape:n(919),Size:n(920),Opacity:n(921),ColorUtil:n(712)}},function(t,e,n){var r=n(536).Group,i=n(541).Label,a=n(512),o=n(500),s=["line","point","path"];var u=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=r.prototype;return u.getDefaultCfg=function(){return{label:a.label,labelCfg:null,coord:null,geomType:null,zIndex:6}},u._renderUI=function(){t.prototype._renderUI.call(this),this.initLabelsCfg();var e=this.addGroup(),n=this.addGroup({elCls:"x-line-group"}),r=this.get("labelRenderer");this.set("labelsGroup",e),this.set("lineGroup",n),this.get("labelRenderer").set("group",e),r.set("group",e),r.set("lineGroup",n)},u.initLabelsCfg=function(){var t=new i,e=this.getDefaultLabelCfg(),n=this.get("labelCfg");o.deepMix(e,n.globalCfg||n.cfg),t.set("labelCfg",e),e.labelLine&&t.set("labelLine",e.labelLine),t.set("coord",this.get("coord")),this.set("labelRenderer",t),this.set("label",e)},u.getDefaultLabelCfg=function(){var t=this.get("labelCfg").cfg,e=this.get("geomType"),n=this.get("viewTheme")||a;return"polygon"===e||t&&t.offset<0&&-1===o.indexOf(s,e)?o.deepMix({},this.get("label"),n.innerLabels):o.deepMix({},n.label,this.get("label"))},u.getLabelsItems=function(t,e){var n=this,r=[],i=n.get("geom"),a=n.get("coord");n._getLabelCfgs(t,e);var s=n.get("labelItemCfgs");return o.each(t,function(t,e){var u=t._origin,c=s[e];if(c){o.isArray(c.text)||(c.text=[c.text]);var l=c.length;o.each(c.text,function(e,s){if(o.isNil(e)||""===e)r.push(null);else{var h=n.getLabelPoint(c,t,s);(h=o.mix({},c,h)).textAlign||(h.textAlign=n.getLabelAlign(h,s,l)),i&&(h._id=i._getShapeId(u)+"-glabel-"+s+"-"+h.text),h.coord=a,r.push(h)}})}else r.push(null)}),r},u.adjustItems=function(t){return t},u.drawLines=function(t){var e=this;o.each(t,function(t){t&&(t._offset[0]>0||t._offset[1]>0)&&e.lineToLabel(t)})},u.lineToLabel=function(){},u.getLabelPoint=function(t,e,n){var r=this.get("coord"),i=t.text.length;function a(e,n){var r,i;return o.isArray(e)&&(1===t.text.length?e.length<=2?e=e[e.length-1]:(r=e,i=0,o.each(r,function(t){i+=t}),e=i/r.length):e=e[n]),e}var s={text:t.text[n]};if(e&&"polygon"===this.get("geomType")){var u=function(t,e){for(var n,r,i=-1,a=0,o=0,s=t.length-1,u=0;++i<t.length;)n=s,s=i,u+=r=t[n]*e[s]-t[s]*e[n],a+=(t[n]+t[s])*r,o+=(e[n]+e[s])*r;return[a/(u*=3),o/u]}(e.x,e.y);s.x=u[0],s.y=u[1]}else s.x=a(e.x,n),s.y=a(e.y,n);if(e&&e.nextPoints&&("funnel"===e.shape||"pyramid"===e.shape)){var c=-1/0;e.nextPoints.forEach(function(t){(t=r.convert(t)).x>c&&(c=t.x)}),s.x=(s.x+c)/2}"pyramid"===e.shape&&!e.nextPoints&&e.points&&e.points.forEach(function(t){t=r.convert(t),(o.isArray(t.x)&&-1===e.x.indexOf(t.x)||o.isNumber(t.x)&&e.x!==t.x)&&(s.x=(s.x+t.x)/2)}),t.position&&this.setLabelPosition(s,e,n,t.position);var l=this.getLabelOffset(t,n,i);return this.transLabelPoint(s),s.x+=l[0],s.y+=l[1],s.color=e.color,s._offset={x:l[0],y:l[1]},s},u.setLabelPosition=function(){},u.transLabelPoint=function(t){var e=this.get("coord").applyMatrix(t.x,t.y,1);t.x=e[0],t.y=e[1]},u.getDefaultOffset=function(t){var e,n=t.offset||[0,0],r=this.get("coord");return[(e=r.isTransposed?r.applyMatrix(n[1],n[0]):r.applyMatrix(n[0],n[1]))[0],e[1]]},u.getLabelOffset=function(t,e,n){var r=this.getDefaultOffset(t),i=this.get("coord").isTransposed?1:-1,a={x:0,y:0};return e<=0&&1!==n&&(i*=-1),a.x=r[0]*i,a.y=r[1]*i,[a.x,a.y]},u.getLabelAlign=function(t,e,n){var r="center";if(this.get("coord").isTransposed){var i=t._offset;r=i[0]<0?"right":0===i[0]?"center":"left",n>1&&0===e&&("right"===r?r="left":"left"===r&&(r="right"))}return r},u._getLabelValue=function(t,e){o.isArray(e)||(e=[e]);var n=[];return o.each(e,function(e){var r=t[e.field];if(o.isArray(r)){var i=[];o.each(r,function(t){i.push(e.getText(t))}),r=i}else r=e.getText(r);(o.isNil(r)||""===r)&&n.push(null),n.push(r)}),n},u._getLabelCfgs=function(t){var e=this,n=this.get("labelCfg"),r=n.scales,i=this.get("label"),a=[];n.globalCfg&&n.globalCfg.type&&e.set("type",n.globalCfg.type),o.each(t,function(t,s){var u={},c=t._origin,l=e._getLabelValue(c,r);if(n.callback){var h=r.map(function(t){return c[t.field]});u=n.callback.apply(null,h)}if(u||0===u){if(o.isString(u)||o.isNumber(u)?u={text:u}:u.text=l[0],u=o.mix({},i,n.globalCfg||{},u),t.point=c,u.htmlTemplate&&(u.text=u.htmlTemplate.call(null,u.text,t,s),delete u.htmlTemplate),u.formatter&&(u.text=u.formatter.call(null,u.text,t,s),delete u.formatter),u.label){var f=u.label;delete u.label,u=o.mix(u,f)}if(u.textStyle){delete u.textStyle.offset;var p=u.textStyle;o.isFunction(p)&&(u.textStyle=p.call(null,l,c,s))}var d=u.offset||[0,0];o.isArray(d)||(d=[0,d]),u.labelLine&&(u.labelLine=o.mix({},i.labelLine,u.labelLine)),u.textStyle=o.mix({},i.textStyle,u.textStyle),u.offset=d,delete u.items,a.push(u)}else a.push(null)}),this.set("labelItemCfgs",a)},u.showLabels=function(t,e){var n=this.get("labelRenderer"),r=this.getLabelsItems(t,e);e=[].concat(e);var i=this.get("type");r=this.adjustItems(r,e),this.drawLines(r),n.set("items",r.filter(function(t,n){return!!t||(e.splice(n,1),!1)})),i&&(n.set("shapes",e),n.set("type",i),n.set("points",t)),n.set("canvas",this.get("canvas")),n.draw()},u.destroy=function(){this.get("labelRenderer").destroy(),t.prototype.destroy.call(this)},r}(r);t.exports=u},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=n(547),a=n(508),o=function(t){var e,n;n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=o.prototype;function o(e){var n,i=r(r(n=t.call(this)||this)),o={visible:!0},s=i.getDefaultCfg();return i._attrs=o,a.deepMix(o,s,e),n}return i.getDefaultCfg=function(){return{}},i.get=function(t){return this._attrs[t]},i.set=function(t,e){this._attrs[t]=e},i.changeVisible=function(){},i.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},o}(i);t.exports=o},function(t,e,n){var r=n(508),i=n(721),a=r.Event,o=r.Group,s=n(952),u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=i.prototype;return u.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"continuous-legend",items:null,layout:"vertical",width:20,height:156,textStyle:{fill:"#333",textAlign:"center",textBaseline:"middle",stroke:"#fff",lineWidth:5,fontFamily:'"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'},hoverTextStyle:{fill:"rgba(0,0,0,0.25)"},slidable:!0,triggerAttr:{fill:"#fff",shadowBlur:10,shadowColor:"rgba(0,0,0,0.65)",radius:2},_range:[0,100],middleBackgroundStyle:{fill:"#D9D9D9"},textOffset:4,lineStyle:{lineWidth:1,stroke:"#fff"},pointerStyle:{fill:"rgb(230, 230, 230)"}})},u._calStartPoint=function(){var t={x:10,y:this.get("titleGap")-8},e=this.get("titleShape");if(e){var n=e.getBBox();t.y+=n.height}return t},u.beforeRender=function(){var e=this.get("items");r.isArray(e)&&!r.isEmpty(e)&&(t.prototype.beforeRender.call(this),this.set("firstItem",e[0]),this.set("lastItem",e[e.length-1]))},u._formatItemValue=function(t){var e=this.get("formatter")||this.get("itemFormatter");return e&&(t=e.call(this,t)),t},u.render=function(){t.prototype.render.call(this),this.get("slidable")?this._renderSlider():this._renderUnslidable()},u._renderSlider=function(){var t=new o,e=new o,n=new o,r=this._calStartPoint(),i=this.get("group").addGroup(s,{minHandleElement:t,maxHandleElement:e,backgroundElement:n,layout:this.get("layout"),range:this.get("_range"),width:this.get("width"),height:this.get("height")});i.translate(r.x,r.y),this.set("slider",i),this._renderSliderShape().attr("clip",i.get("middleHandleElement")),this._renderTrigger()},u._addMiddleBar=function(t,e,n){return t.addShape(e,{attrs:r.mix({},n,this.get("middleBackgroundStyle"))}),t.addShape(e,{attrs:n})},u._renderTrigger=function(){var t=this.get("firstItem"),e=this.get("lastItem"),n=this.get("layout"),i=this.get("textStyle"),a=this.get("triggerAttr"),o=r.mix({},a),s=r.mix({},a),u=r.mix({text:this._formatItemValue(t.value)+""},i),c=r.mix({text:this._formatItemValue(e.value)+""},i);"vertical"===n?(this._addVerticalTrigger("min",o,u),this._addVerticalTrigger("max",s,c)):(this._addHorizontalTrigger("min",o,u),this._addHorizontalTrigger("max",s,c))},u._addVerticalTrigger=function(t,e,n){var i=this.get("slider").get(t+"HandleElement"),a=this.get("width"),o=i.addShape("rect",{attrs:r.mix({x:a/2-8-2,y:"min"===t?0:-8,width:18,height:8},e)}),s=i.addShape("text",{attrs:r.mix(n,{x:a+this.get("textOffset"),y:"max"===t?-4:4,textAlign:"start",lineHeight:1,textBaseline:"middle"})}),u="vertical"===this.get("layout")?"ns-resize":"ew-resize";o.attr("cursor",u),s.attr("cursor",u),this.set(t+"ButtonElement",o),this.set(t+"TextElement",s)},u._addHorizontalTrigger=function(t,e,n){var i=this.get("slider").get(t+"HandleElement"),a=i.addShape("rect",{attrs:r.mix({x:"min"===t?-8:0,y:-8-this.get("height")/2,width:8,height:16},e)}),o=i.addShape("text",{attrs:r.mix(n,{x:"min"===t?-12:12,y:4+this.get("textOffset")+10,textAlign:"min"===t?"end":"start",textBaseline:"middle"})}),s="vertical"===this.get("layout")?"ns-resize":"ew-resize";a.attr("cursor",s),o.attr("cursor",s),this.set(t+"ButtonElement",a),this.set(t+"TextElement",o)},u._bindEvents=function(){var t=this;this.get("slidable")&&this.get("slider").on("sliderchange",function(e){var n=e.range,r=t.get("firstItem").value,i=t.get("lastItem").value,o=r+n[0]/100*(i-r),s=r+n[1]/100*(i-r);t._updateElement(o,s);var u=new a("itemfilter",e,!0,!0);u.range=[o,s],t.emit("itemfilter",u)});this.get("hoverable")&&(this.get("group").on("mousemove",r.wrapBehavior(this,"_onMouseMove")),this.get("group").on("mouseleave",r.wrapBehavior(this,"_onMouseLeave")))},u._updateElement=function(t,e){var n=this.get("minTextElement"),r=this.get("maxTextElement");e>1&&(t=parseInt(t,10),e=parseInt(e,10)),n.attr("text",this._formatItemValue(t)+""),r.attr("text",this._formatItemValue(e)+"")},u._onMouseLeave=function(){var t=this.get("group").findById("hoverPointer");t&&t.destroy();var e=this.get("group").findById("hoverText");e&&e.destroy(),this.get("canvas").draw()},u._onMouseMove=function(t){var e,n=this.get("height"),r=this.get("width"),i=this.get("items"),a=this.get("canvas").get("el").getBoundingClientRect(),o=this.get("group").getBBox();if("vertical"===this.get("layout")){var s=5;"color-legend"===this.get("type")&&(s=30);var u=this.get("titleGap"),c=this.get("titleShape");c&&(u+=c.getBBox().maxY-c.getBBox().minY);var l=t.clientY||t.event.clientY;l=l-a.y-this.get("group").attr("matrix")[7]+o.y-s+u,e=i[0].value+(1-l/n)*(i[i.length-1].value-i[0].value)}else{var h=t.clientX||t.event.clientX;h=h-a.x-this.get("group").attr("matrix")[6],e=i[0].value+h/r*(i[i.length-1].value-i[0].value)}e=e.toFixed(2),this.activate(e),this.emit("mousehover",{value:e})},u.activate=function(t){if(t){var e=this.get("group").findById("hoverPointer"),n=this.get("group").findById("hoverText"),i=this.get("items");if(!(t<i[0].value||t>i[i.length-1].value)){var a,o=this.get("height"),s=this.get("width"),u=this.get("titleShape"),c=this.get("titleGap"),l=[],h=(t-i[0].value)/(i[i.length-1].value-i[0].value);if("vertical"===this.get("layout")){var f=0,p=0;"color-legend"===this.get("type")&&(f=c,u&&(f+=u.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?f-=13:(f=c-15,u&&(f+=u.getBBox().height)),p+=10),l=[[p,(h=(1-h)*o)+f],[p-10,h+f-5],[p-10,h+f+5]],a=r.mix({},{x:s+this.get("textOffset")/2+p,y:h+f,text:this._formatItemValue(t)+""},this.get("textStyle"),{textAlign:"start"})}else{var d=0,g=0;"color-legend"===this.get("type")&&(d=c,u&&(d+=u.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?d-=7:(d=c,u||(d-=7)),g+=10),l=[[(h*=s)+g,d],[h+g-5,d-10],[h+g+5,d-10]],a=r.mix({},{x:h-5,y:o+this.get("textOffset")+d,text:this._formatItemValue(t)+""},this.get("textStyle"))}var v=r.mix(a,this.get("hoverTextStyle"));n?n.attr(v):(n=this.get("group").addShape("text",{attrs:v})).set("id","hoverText"),e?e.attr(r.mix({points:l},this.get("pointerStyle"))):(e=this.get("group").addShape("Polygon",{attrs:r.mix({points:l},this.get("pointerStyle"))})).set("id","hoverPointer"),this.get("canvas").draw()}}},u.unactivate=function(){var t=this.get("group").findById("hoverPointer");t&&t.destroy();var e=this.get("group").findById("hoverText");e&&e.destroy(),this.get("canvas").draw()},i}(i);t.exports=u},function(t,e,n){var r=n(615),i=n(508),a=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{x:0,y:0,items:null,titleContent:null,showTitle:!0,plotRange:null,offset:10,timeStamp:0,inPlot:!0,crosshairs:null})},a.isContentChange=function(t,e){var n=this.get("titleContent"),r=this.get("items"),a=!(t===n&&r.length===e.length);return a||i.each(e,function(t,e){var n=r[e];for(var o in t)if(t.hasOwnProperty(o)&&!i.isObject(t[o])&&t[o]!==n[o]){a=!0;break}if(a)return!1}),a},a.setContent=function(t,e){var n=(new Date).valueOf();return this.set("items",e),this.set("titleContent",t),this.set("timeStamp",n),this.render(),this},a.setPosition=function(t,e){this.set("x",t),this.set("y",e)},a.render=function(){},a.clear=function(){},a.show=function(){this.set("visible",!0)},a.hide=function(){this.set("visible",!1)},a.destroy=function(){},r}(r);t.exports=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={Chart:"deleteChart",Coord:"deleteCoord",Geom:"deleteGeom",Axis:"deleteAxis",Tooltip:"deleteTooltip",Legend:"deleteLegend",Label:"deleteLabel",View:"deleteView",Guide:"deleteGuide",GuideLine:"deleteTypedGuide",GuideImage:"deleteTypedGuide",GuideText:"deleteTypedGuide",GuideRegion:"deleteTypedGuide",GuideHtml:"deleteTypedGuide",GuideArc:"deleteTypedGuide",GuideRegionFilter:"deleteTypedGuide",GuideDataMarker:"deleteTypedGuide",GuideDataRegion:"deleteTypedGuide",Facet:"deleteFacet"},i={merge:function(t,e,n,r){this.mergeDelete(t,e,n),this.mergeUpdate(t,r)},mergeDelete:function(t,e,n){var i=this;Object.keys(e).forEach(function(e){var a=r[n[e].name],o=t;n[e].viewId&&(o=t.views[n[e].viewId]),i[a]&&i[a](o,e,n[e].parentInfo.id)})},deleteAxis:function(t,e){t&&delete t.axises[e]},deleteTooltip:function(t){t&&delete t.tooltip},deleteCoord:function(t){t&&delete t.coord},deleteLegend:function(t,e){t&&delete t.legends[e]},deleteGuide:function(t){t&&delete t.guide},deleteGeom:function(t,e){t&&t.geoms&&delete t.geoms[e]},deleteLabel:function(t,e,n){t&&t.geoms&&t.geoms[n]&&delete t.geoms[n].label},deleteFacet:function(t){t&&delete t.facet},deleteTypedGuide:function(t,e){t&&t.guide&&delete t.guide.elements[e]},deleteView:function(t,e){t&&delete t.views[e]},mergeUpdate:function(t,e){this.mergeChart(t,e),this.mergeAxises(t,e),this.mergeCoord(t,e),this.mergeGeoms(t.geoms,e),this.mergeLegends(t.legends,e),this.mergeTooltip(t,e),this.mergeViews(t.views,e),this.mergeGuide(t.guide,e)},mergeChart:function(t,e){t.chart&&t.chart.updateProps&&(t.chart.props=t.chart.updateProps),e&&delete t.chart.g2Instance},mergeAxises:function(t,e){var n=t.axises;if(null!=!n)for(var r in n)n[r]&&n[r].updateProps&&(n[r].props=n[r].updateProps),e&&delete n[r].g2Instance},mergeTooltip:function(t,e){t.tooltip&&(e&&delete t.tooltip.g2Instance,t.tooltip.updateProps&&(t.tooltip.props=t.tooltip.updateProps))},mergeCoord:function(t,e){t.coord&&(e&&delete t.coord.g2Instance,t.coord.updateProps&&(t.coord.props=t.coord.updateProps))},mergeLegends:function(t,e){if(t)for(var n in t)if(t[n]){var r=t[n];e&&delete r.g2Instance,r.updateProps&&(r.props=r.updateProps)}},mergeGeoms:function(t,e){if(null!=t)for(var n in t)t[n]&&(e&&(delete t[n].g2Instance,t[n].label&&t[n].label.g2Instance&&(t[n].label.updateProps&&(t[n].label.props=t[n].label.updateProps),delete t[n].label.g2Instance)),t[n].updateProps&&(t[n].props=t[n].updateProps))},mergeGuide:function(t,e){if(null!=t){var n=t.elements;for(var r in n)n[r]&&(e&&delete n[r].g2Instance,n[r].updateProps&&(n[r].props=n[r].updateProps))}},mergeView:function(t,e){t&&(e&&t.g2Instance&&delete t.g2Instance,t.updateProps&&(t.props=t.updateProps),this.mergeCoord(t,e),this.mergeAxises(t,e),this.mergeGeoms(t.geoms,e),this.mergeGuide(t.guide,e))},mergeViews:function(t,e){if(null!=t)for(var n in t)t[n]&&this.mergeView(t[n],e)}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Prop=e.Util=void 0;var r=a(n(554)),i=a(n(990));function a(t){return t&&t.__esModule?t:{default:t}}e.Util=r.default,e.Prop=i.default},function(t,e,n){var r=n(500),i={splitPoints:function(t){var e=[],n=t.x,i=t.y;return i=r.isArray(i)?i:[i],r.each(i,function(t,i){var a={x:r.isArray(n)?n[i]:n,y:t};e.push(a)}),e}};t.exports=i},function(t,e,n){var r=n(512),i=n(500);var a={getDefaultSize:function(){var t=this.get("defaultSize"),e=this.get("viewTheme")||r;if(!t){var n,a=this.get("coord"),o=this.getXScale(),s=o.values,u=this.get("dataArray");if(o.isLinear&&s.length>1){s.sort();var c=function(t,e){var n=t.length;i.isString(t[0])&&(t=t.map(function(t){return e.translate(t)}));for(var r=t[1]-t[0],a=2;a<n;a++){var o=t[a]-t[a-1];r>o&&(r=o)}return r}(s,o);n=(o.max-o.min)/c,s.length>n&&(n=s.length)}else n=s.length;var l=o.range,h=1/n,f=1;if(this.isInCircle()?f=a.isTransposed&&n>1?e.widthRatio.multiplePie:e.widthRatio.rose:(o.isLinear&&(h*=l[1]-l[0]),f=e.widthRatio.column),h*=f,this.hasAdjust("dodge"))h/=this._getDodgeCount(u);t=h,this.set("defaultSize",t)}return t},_getDodgeCount:function(t){var e,n=this.get("adjusts"),r=t.length;if(i.each(n,function(t){"dodge"===t.type&&(e=t.dodgeBy)}),e){var a=i.Array.merge(t);r=i.Array.values(a,e).length}return r},getDimWidth:function(t){var e=this.get("coord"),n=e.convertPoint({x:0,y:0}),r=e.convertPoint({x:"x"===t?1:0,y:"x"===t?0:1}),i=0;return n&&r&&(i=Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2))),i},_getWidth:function(){var t=this.get("coord");return this.isInCircle()&&!t.isTransposed?(t.endAngle-t.startAngle)*t.radius:this.getDimWidth("x")},_toNormalizedSize:function(t){return t/this._getWidth()},_toCoordSize:function(t){return this._getWidth()*t},getNormalizedSize:function(t){var e=this.getAttrValue("size",t);return e=i.isNil(e)?this.getDefaultSize():this._toNormalizedSize(e)},getSize:function(t){var e=this.getAttrValue("size",t);if(i.isNil(e)){var n=this.getDefaultSize();e=this._toCoordSize(n)}return e}};t.exports=a},function(t,e){t.exports={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]}},function(t,e){function n(t){return Math.abs(t)<=1?.5:0}t.exports={boxcar:n,cosine:function(t){return Math.abs(t)<=1?Math.PI/4*Math.cos(Math.PI/2*t):0},epanechnikov:function(t){return Math.abs(t)<1?.75*(1-t*t):0},gaussian:function(t){return.3989422804*Math.exp(-.5*t*t)},quartic:function(t){if(Math.abs(t)<1){var e=1-t*t;return.9375*e*e}return 0},triangular:function(t){var e=Math.abs(t);return e<1?1-e:0},tricube:function(t){return Math.abs(t)<1?70/81*(e=t,n=1-Math.pow(Math.abs(e),3),Math.pow(n,3)):0;var e,n},triweight:function(t){if(Math.abs(t)<1){var e=1-t*t;return 35/32*e*e*e}return 0},uniform:n}},function(t,e,n){"use strict";var r=n(520);t.exports=s;var i="\0",a="\0",o="";function s(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[a]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function u(t,e){t[e]?t[e]++:t[e]=1}function c(t,e){--t[e]||delete t[e]}function l(t,e,n,a){var s=""+e,u=""+n;if(!t&&s>u){var c=s;s=u,u=c}return s+o+u+o+(r.isUndefined(a)?i:a)}function h(t,e){return l(t,e.v,e.w,e.name)}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(t){return this._label=t,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return r.keys(this._nodes)},s.prototype.sources=function(){var t=this;return r.filter(this.nodes(),function(e){return r.isEmpty(t._in[e])})},s.prototype.sinks=function(){var t=this;return r.filter(this.nodes(),function(e){return r.isEmpty(t._out[e])})},s.prototype.setNodes=function(t,e){var n=arguments,i=this;return r.each(t,function(t){n.length>1?i.setNode(t,e):i.setNode(t)}),this},s.prototype.setNode=function(t,e){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=a,this._children[t]={},this._children[a][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},s.prototype.node=function(t){return this._nodes[t]},s.prototype.hasNode=function(t){return r.has(this._nodes,t)},s.prototype.removeNode=function(t){var e=this;if(r.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),function(t){e.setParent(t)}),delete this._children[t]),r.each(r.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},s.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(e))e=a;else{for(var n=e+="";!r.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},s.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},s.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==a)return e}},s.prototype.children=function(t){if(r.isUndefined(t)&&(t=a),this._isCompound){var e=this._children[t];if(e)return r.keys(e)}else{if(t===a)return this.nodes();if(this.hasNode(t))return[]}},s.prototype.predecessors=function(t){var e=this._preds[t];if(e)return r.keys(e)},s.prototype.successors=function(t){var e=this._sucs[t];if(e)return r.keys(e)},s.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return r.union(e,this.successors(t))},s.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},s.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;r.each(this._nodes,function(n,r){t(r)&&e.setNode(r,n)}),r.each(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))});var i={};return this._isCompound&&r.each(e.nodes(),function(t){e.setParent(t,function t(r){var a=n.parent(r);return void 0===a||e.hasNode(a)?(i[r]=a,a):a in i?i[a]:t(a)}(t))}),e},s.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return r.values(this._edgeObjs)},s.prototype.setPath=function(t,e){var n=this,i=arguments;return r.reduce(t,function(t,r){return i.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r}),this},s.prototype.setEdge=function(){var t,e,n,i,a=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(t=o.v,e=o.w,n=o.name,2===arguments.length&&(i=arguments[1],a=!0)):(t=o,e=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],a=!0)),t=""+t,e=""+e,r.isUndefined(n)||(n=""+n);var s=l(this._isDirected,t,e,n);if(r.has(this._edgeLabels,s))return a&&(this._edgeLabels[s]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[s]=a?i:this._defaultEdgeLabelFn(t,e,n);var c=function(t,e,n,r){var i=""+e,a=""+n;if(!t&&i>a){var o=i;i=a,a=o}var s={v:i,w:a};r&&(s.name=r);return s}(this._isDirected,t,e,n);return t=c.v,e=c.w,Object.freeze(c),this._edgeObjs[s]=c,u(this._preds[e],t),u(this._sucs[t],e),this._in[e][s]=c,this._out[t][s]=c,this._edgeCount++,this},s.prototype.edge=function(t,e,n){var r=1===arguments.length?h(this._isDirected,arguments[0]):l(this._isDirected,t,e,n);return this._edgeLabels[r]},s.prototype.hasEdge=function(t,e,n){var i=1===arguments.length?h(this._isDirected,arguments[0]):l(this._isDirected,t,e,n);return r.has(this._edgeLabels,i)},s.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?h(this._isDirected,arguments[0]):l(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],c(this._preds[e],t),c(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},s.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var i=r.values(n);return e?r.filter(i,function(t){return t.v===e}):i}},s.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var i=r.values(n);return e?r.filter(i,function(t){return t.w===e}):i}},s.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e,n){var r={compactBox:n(1115),dendrogram:n(1117),indented:n(1119),mindmap:n(1121)};t.exports=r},function(t,e,n){var r=n(747),i=["LR","RL","TB","BT","H","V"],a=["LR","RL","H"],o=i[0];t.exports=function(t,e,n){var s,u=e.direction||o;if(e.isHorizontal=(s=u,a.indexOf(s)>-1),u&&-1===i.indexOf(u))throw new TypeError("Invalid direction: "+u);if(u===i[0])n(t,e);else if(u===i[1])n(t,e),t.right2left();else if(u===i[2])n(t,e);else if(u===i[3])n(t,e),t.bottom2top();else if(u===i[4]||u===i[5]){var c=r(t,e),l=c.left,h=c.right;n(l,e),n(h,e),e.isHorizontal?l.right2left():l.bottom2top(),h.translate(l.x-h.x,l.y-h.y),t.x=l.x,t.y=h.y;var f=t.getBoundingBox();e.isHorizontal?f.top<0&&t.translate(0,-f.top):f.left<0&&t.translate(-f.left,0)}return t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t}},,,,,,,,,function(t,e,n){n(1029),n(1031),n(1032),n(1034),n(1035),n(1036),n(1037),n(738),n(1040),n(1041),n(1043),n(1044),n(1045),n(1046),n(1047),n(1048),n(1049),n(1050),n(1051),n(1052),n(1053),n(1054),n(1055),n(1056),n(1057),n(1058),n(1059),n(1060),n(1061),n(1063),n(1064),n(1065),n(1066),n(1067),n(1068),n(1069),n(1070),n(1071),n(1072),n(1111),n(1112),n(1113),n(1114),n(1123),n(1124),n(1125),n(1126),n(1127),n(1128),n(1129),n(1131),n(1132),n(1133),t.exports=n(503)},,,,,,,,,,,,function(t,e,n){var r=n(648),i=n(530);i.Linear=n(565),i.Identity=n(831),i.Cat=n(650),i.Time=n(832),i.TimeCat=n(834),i.Log=n(835),i.Pow=n(836);var a=function(t){if(i.hasOwnProperty(t)){var e=r(t);i[e]=function(e){return new i[t](e)}}};for(var o in i)a(o);var s=["cat","timeCat"];i.isCategory=function(t){return s.indexOf(t)>=0},t.exports=i},function(t,e,n){var r=n(545);t.exports=function(t){var e=r(t);return e.charAt(0).toLowerCase()+e.substring(1)}},function(t,e){var n=12;function r(t,e){var n=t.length;if(0===n)return NaN;var r=t[0];if(e<t[0])return NaN;if(e>=t[n-1])return t[n-1];for(var i=1;i<t.length&&!(e<t[i]);i++)r=t[i];return r}function i(t,e){var n,r=t.length;if(0===r)return NaN;if(e>t[r-1])return NaN;if(e<t[0])return t[0];for(var i=1;i<t.length;i++)if(e<=t[i]){n=t[i];break}return n}var a={snapFactorTo:function(t,e,r){if(isNaN(t))return NaN;var i=1;if(0!==t){t<0&&(i=-1);var o=function(t){var e=1;if(t===1/0||t===-1/0)throw new Error("Not support Infinity!");if(t<1){for(var r=0;t<1;)e/=10,t*=10,r++;e.toString().length>n&&(e=parseFloat(e.toFixed(r)))}else for(;t>10;)e*=10,t/=10;return e}(t*=i);i*=o,t/=o}var s=(t="floor"===r?a.snapFloor(e,t):"ceil"===r?a.snapCeiling(e,t):a.snapTo(e,t))*i;Math.abs(i)<1&&s.toString().length>n&&(s=t/parseInt(1/i)*(i>0?1:-1));return s},snapMultiple:function(t,e,n){return("ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e))*e},snapTo:function(t,e){var n=r(t,e),a=i(t,e);if(isNaN(n)||isNaN(a)){if(t[0]>=e)return t[0];var o=t[t.length-1];if(o<=e)return o}return Math.abs(e-n)<Math.abs(a-e)?n:a},snapFloor:function(t,e){return r(t,e)},snapCeiling:function(t,e){return i(t,e)},fixedBase:function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))}};t.exports=a},function(t,e,n){var r=n(530),i=n(651),a=n(502),o=n(515),s=n(507),u=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=r.prototype;return u._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="cat",this.isCategory=!0,this.isRounding=!0},u.init=function(){var t=this.values,e=this.tickCount;if(a(t,function(e,n){t[n]=e.toString()}),!this.ticks){var n=t;if(e)n=i({maxCount:e,data:t,isRounding:this.isRounding}).ticks;this.ticks=n}},u.getText=function(e){return-1===this.values.indexOf(e)&&o(e)&&(e=this.values[Math.round(e)]),t.prototype.getText.call(this,e)},u.translate=function(t){var e=this.values.indexOf(t);return-1===e&&o(t)?e=t:-1===e&&(e=NaN),e},u.scale=function(t){var e=this.rangeMin(),n=this.rangeMax();return(s(t)||-1!==this.values.indexOf(t))&&(t=this.translate(t)),e+(this.values.length>1?t/(this.values.length-1):t)*(n-e)},u.invert=function(t){if(s(t))return t;var e=this.rangeMin(),n=this.rangeMax();t<e&&(t=e),t>n&&(t=n);var r=(t-e)/(n-e),i=Math.round(r*(this.values.length-1))%this.values.length;return i=i||0,this.values[i]},r}(r);r.Cat=u,t.exports=u},function(t,e,n){var r=n(502);t.exports=function(t){var e,n,i,a={},o=[],s=t.isRounding,u=(e=t.data,n=[],r(e,function(t){n=n.concat(t)}),n),c=u.length,l=t.maxCount||8;if(s?2===(i=function(t,e){var n;for(n=e;n>0&&t%n!=0;n--);if(1===n)for(n=e;n>0&&(t-1)%n!=0;n--);return n}(c-1,l-1)+1)?i=l:i<l-4&&(i=l-4):i=l,!s&&c<=i+i/2)o=[].concat(u);else{for(var h=parseInt(c/(i-1),10),f=u.map(function(t,e){return e%h==0?u.slice(e,e+h):null}).filter(function(t){return t}),p=1,d=f.length;p<d&&(s?p*h<c-h:p<i-1);p++)o.push(f[p][0]);if(u.length){o.unshift(u[0]);var g=u[c-1];-1===o.indexOf(g)&&o.push(g)}}return a.categories=u,a.ticks=o,a}},function(t,e,n){var r;!function(i){"use strict";var a={},o=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,s=/\d\d?/,u=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,c=/\[([^]*?)\]/gm,l=function(){};function h(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}function f(t){return function(e,n,r){var i=r[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~i&&(e.month=i)}}function p(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g=["January","February","March","April","May","June","July","August","September","October","November","December"],v=h(g,3),y=h(d,3);a.i18n={dayNamesShort:y,dayNames:d,monthNamesShort:v,monthNames:g,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!=10)*t%10]}};var m={D:function(t){return t.getDate()},DD:function(t){return p(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return p(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return p(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return String(t.getFullYear()).substr(2)},YYYY:function(t){return p(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return p(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return p(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return p(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return p(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return p(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return p(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(e>0?"-":"+")+p(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},x={D:[s,function(t,e){t.day=e}],Do:[new RegExp(s.source+u.source),function(t,e){t.day=parseInt(e,10)}],M:[s,function(t,e){t.month=e-1}],YY:[s,function(t,e){var n=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(e>68?n-1:n)+e}],h:[s,function(t,e){t.hour=e}],m:[s,function(t,e){t.minute=e}],s:[s,function(t,e){t.second=e}],YYYY:[/\d{4}/,function(t,e){t.year=e}],S:[/\d/,function(t,e){t.millisecond=100*e}],SS:[/\d{2}/,function(t,e){t.millisecond=10*e}],SSS:[/\d{3}/,function(t,e){t.millisecond=e}],d:[s,l],ddd:[u,l],MMM:[u,f("monthNamesShort")],MMMM:[u,f("monthNames")],a:[u,function(t,e,n){var r=e.toLowerCase();r===n.amPm[0]?t.isPm=!1:r===n.amPm[1]&&(t.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(t,e){"Z"===e&&(e="+00:00");var n,r=(e+"").match(/([\+\-]|\d\d)/gi);r&&(n=60*r[1]+parseInt(r[2],10),t.timezoneOffset="+"===r[0]?n:-n)}]};x.dd=x.d,x.dddd=x.ddd,x.DD=x.D,x.mm=x.m,x.hh=x.H=x.HH=x.h,x.MM=x.M,x.ss=x.s,x.A=x.a,a.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},a.format=function(t,e,n){var r=n||a.i18n;if("number"==typeof t&&(t=new Date(t)),"[object Date]"!==Object.prototype.toString.call(t)||isNaN(t.getTime()))throw new Error("Invalid Date in fecha.format");var i=[];return(e=(e=(e=a.masks[e]||e||a.masks.default).replace(c,function(t,e){return i.push(e),"??"})).replace(o,function(e){return e in m?m[e](t,r):e.slice(1,e.length-1)})).replace(/\?\?/g,function(){return i.shift()})},a.parse=function(t,e,n){var r=n||a.i18n;if("string"!=typeof e)throw new Error("Invalid format in fecha.parse");if(e=a.masks[e]||e,t.length>1e3)return!1;var i=!0,s={};if(e.replace(o,function(e){if(x[e]){var n=x[e],a=t.search(n[0]);~a?t.replace(n[0],function(e){return n[1](s,e,r),t=t.substr(a+e.length),e}):i=!1}return x[e]?"":e.slice(1,e.length-1)}),!i)return!1;var u,c=new Date;return!0===s.isPm&&null!=s.hour&&12!=+s.hour?s.hour=+s.hour+12:!1===s.isPm&&12==+s.hour&&(s.hour=0),null!=s.timezoneOffset?(s.minute=+(s.minute||0)-+s.timezoneOffset,u=new Date(Date.UTC(s.year||c.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0))):u=new Date(s.year||c.getFullYear(),s.month||0,s.day||1,s.hour||0,s.minute||0,s.second||0,s.millisecond||0),u},t.exports?t.exports=a:void 0===(r=function(){return a}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){var r=n(507),i=n(654);t.exports={toTimeStamp:function(t){return r(t)&&(t=t.indexOf("T")>0?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),i(t)&&(t=t.getTime()),t}}},function(t,e,n){var r=n(521);t.exports=function(t){return r(t,"Date")}},function(t,e,n){t.exports={isFunction:n(511),isObject:n(535),isBoolean:n(656),isNil:n(514),isString:n(507),isArray:n(504),isNumber:n(515),isEmpty:n(657),uniqueId:n(595),clone:n(531),deepMix:n(596),assign:n(501),merge:n(596),upperFirst:n(660),each:n(502),isEqual:n(598),toArray:n(566),extend:n(661),augment:n(662),remove:n(663),isNumberEqual:n(567),toRadian:n(664),toDegree:n(665),mod:n(666),clamp:n(599),createDom:n(667),modifyCSS:n(668),requestAnimationFrame:n(669),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:n(600),vec2:n(670),vec3:n(671),transform:n(672)}},function(t,e,n){var r=n(521);t.exports=function(t){return r(t,"Boolean")}},function(t,e,n){var r=n(514),i=n(525),a=n(658),o=n(659),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(r(t))return!0;if(i(t))return!t.length;var e=a(t);if("Map"===e||"Set"===e)return!t.size;if(o(t))return!Object.keys(t).length;for(var n in t)if(s.call(t,n))return!1;return!0}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).replace(/^\[object /,"").replace(/\]$/,"")}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(545);t.exports=function(t){var e=r(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,n){var r=n(511),i=n(501);t.exports=function(t,e,n,a){r(e)||(n=e,e=t,t=function(){});var o=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},s=o(e.prototype,t);return t.prototype=i(s,t.prototype),t.superclass=o(e.prototype,e),i(s,n),i(t,a),t}},function(t,e,n){var r=n(511),i=n(566),a=n(501);t.exports=function(t){for(var e=i(arguments),n=1;n<e.length;n++){var o=e[n];r(o)&&(o=o.prototype),a(t.prototype,o)}}},function(t,e){var n=Array.prototype,r=n.splice,i=n.indexOf,a=n.slice;t.exports=function(t){for(var e=a.call(arguments,1),n=0;n<e.length;n++)for(var o=e[n],s=-1;(s=i.call(t,o))>-1;)r.call(t,s,1);return t}},function(t,e){var n=Math.PI/180;t.exports=function(t){return n*t}},function(t,e){var n=180/Math.PI;t.exports=function(t){return n*t}},function(t,e){t.exports=function(t,e){return(t%e+e)%e}},function(t,e){var n=document.createElement("table"),r=document.createElement("tr"),i=/^\s*<(\w+|!)[^>]*>/,a={tr:document.createElement("tbody"),tbody:n,thead:n,tfoot:n,td:r,th:r,"*":document.createElement("div")};t.exports=function(t){var e=i.test(t)&&RegExp.$1;e in a||(e="*");var n=a[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var r=n.childNodes[0];return n.removeChild(r),r}},function(t,e){t.exports=function(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}},function(t,e){t.exports=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,n){var r=n(839),i=n(599);r.angle=function(t,e){var n=r.dot(t,e)/(r.length(t)*r.length(e));return Math.acos(i(n,-1,1))},r.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},r.angleTo=function(t,e,n){var i=r.angle(t,e),a=r.direction(t,e)>=0;return n?a?2*Math.PI-i:i:a?i:2*Math.PI-i},r.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t},t.exports=r},function(t,e,n){var r=n(840);t.exports=r},function(t,e,n){var r=n(531),i=n(502),a=n(600);t.exports=function(t,e){return t=r(t),i(e,function(e){switch(e[0]){case"t":a.translate(t,t,[e[1],e[2]]);break;case"s":a.scale(t,t,[e[1],e[2]]);break;case"r":a.rotate(t,t,e[1]);break;case"m":a.multiply(t,t,e[1]);break;default:return!1}}),t}},function(t,e,n){var r=n(506),i=function(t,e,n,r){this.type=t,this.target=null,this.currentTarget=null,this.bubbles=n,this.cancelable=r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=e};r.augment(i,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return r.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),t.exports=i},function(t,e,n){var r=n(506),i=n(675),a=n(844),o={},s="_INDEX";function u(t,e,n){for(var r,i=t.length-1;i>=0;i--){var a=t[i];if(a._cfg.visible&&a._cfg.capture&&(a.isGroup?r=a.getShape(e,n):a.isHit(e,n)&&(r=a)),r)break}return r}var c=function t(e){t.superclass.constructor.call(this,e),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};r.extend(c,i),r.augment(c,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return function t(e){if(!e._cfg&&e!==c){var n=e.superclass.constructor;n&&!n._cfg&&t(n),e._cfg={},r.merge(e._cfg,n._cfg),r.merge(e._cfg,e.CFG)}}(this.constructor),r.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(t,e){var n=this.get("canvas");e=e||{};var i=o[t];if(i||(i=r.upperFirst(t),o[t]=i),e.attrs&&n){var s=e.attrs;if("text"===t){var u=n.get("fontFamily");u&&(s.fontFamily=s.fontFamily?s.fontFamily:u)}}e.canvas=n,e.type=t;var c=new a[i](e);return this.add(c),c},addGroup:function(t,e){var n,i=this.get("canvas");if(e=r.merge({},e),r.isFunction(t))e?(e.canvas=i,e.parent=this,n=new t(e)):n=new t({canvas:i,parent:this}),this.add(n);else if(r.isObject(t))t.canvas=i,n=new c(t),this.add(n);else{if(void 0!==t)return!1;n=new c,this.add(n)}return n},renderBack:function(t,e){var n=this.get("backShape"),i=this.getBBox();return r.merge(e,{x:i.minX-t[3],y:i.minY-t[0],width:i.width+t[1]+t[3],height:i.height+t[0]+t[2]}),n?n.attr(e):n=this.addShape("rect",{zIndex:-1,attrs:e}),this.set("backShape",n),this.sort(),n},removeChild:function(t,e){if(arguments.length>=2)this.contain(t)&&t.remove(e);else{if(1===arguments.length){if(!r.isBoolean(t))return this.contain(t)&&t.remove(!0),this;e=t}0===arguments.length&&(e=!0),c.superclass.remove.call(this,e)}return this},add:function(t){var e=this,n=e.get("children");if(r.isArray(t))r.each(t,function(t){var n=t.get("parent");n&&n.removeChild(t,!1),e._setCfgProperty(t)}),e._cfg.children=n.concat(t);else{var i=t,a=i.get("parent");a&&a.removeChild(i,!1),e._setCfgProperty(i),n.push(i)}return e},_setCfgProperty:function(t){var e=this._cfg;t.set("parent",this),t.set("canvas",e.canvas),e.timeline&&t.set("timeline",e.timeline)},contain:function(t){return this.get("children").indexOf(t)>-1},getChildByIndex:function(t){return this.get("children")[t]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var t=this.get("children").length-1;return this.getChildByIndex(t)},getBBox:function(){var t=1/0,e=-1/0,n=1/0,i=-1/0,a=this.get("children");a.length>0?r.each(a,function(r){if(r.get("visible")){if(r.isGroup&&0===r.get("children").length)return;var a=r.getBBox();if(!a)return!0;var o=[a.minX,a.minY,1],s=[a.minX,a.maxY,1],u=[a.maxX,a.minY,1],c=[a.maxX,a.maxY,1];r.apply(o),r.apply(s),r.apply(u),r.apply(c);var l=Math.min(o[0],s[0],u[0],c[0]),h=Math.max(o[0],s[0],u[0],c[0]),f=Math.min(o[1],s[1],u[1],c[1]),p=Math.max(o[1],s[1],u[1],c[1]);l<t&&(t=l),h>e&&(e=h),f<n&&(n=f),p>i&&(i=p)}}):(t=0,e=0,n=0,i=0);var o={minX:t,minY:n,maxX:e,maxY:i};return o.x=o.minX,o.y=o.minY,o.width=o.maxX-o.minX,o.height=o.maxY-o.minY,o},getCount:function(){return this.get("children").length},sort:function(){var t,e=this.get("children");return r.each(e,function(t,e){return t[s]=e,t}),e.sort((t=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(e,n){var r=t(e,n);return 0===r?e[s]-n[s]:r})),this},findById:function(t){return this.find(function(e){return e.get("id")===t})},find:function(t){if(r.isString(t))return this.findById(t);var e=this.get("children"),n=null;return r.each(e,function(e){if(t(e)?n=e:e.find&&(n=e.find(t)),n)return!1}),n},findAll:function(t){var e=this.get("children"),n=[],i=[];return r.each(e,function(e){t(e)&&n.push(e),e.findAllBy&&(i=e.findAllBy(t),n=n.concat(i))}),n},findBy:function(t){var e=this.get("children"),n=null;return r.each(e,function(e){if(t(e)?n=e:e.findBy&&(n=e.findBy(t)),n)return!1}),n},findAllBy:function(t){var e=this.get("children"),n=[],i=[];return r.each(e,function(e){t(e)&&n.push(e),e.findAllBy&&(i=e.findAllBy(t),n=n.concat(i))}),n},getShape:function(t,e){var n,r=this._attrs.clip,i=this._cfg.children;if(r){var a=[t,e,1];r.invert(a,this.get("canvas")),r.isPointInPath(a[0],a[1])&&(n=u(i,t,e))}else n=u(i,t,e);return n},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var t=this._cfg.children,e=0;e<t.length;e++){t[e].clearTotalMatrix()}}},clear:function(t){for(var e=this._cfg.children,n=e.length-1;n>=0;n--)e[n].remove(!0,t);return this._cfg.children=[],this},destroy:function(){this.get("destroyed")||(this.clear(),c.superclass.destroy.call(this))},clone:function(){var t=this._cfg.children,e=new c;return r.each(t,function(t){e.add(t.clone())}),e}}),t.exports=c},function(t,e,n){var r=n(506),i=n(841),a=n(842),o=n(843),s=n(547),u=function(t){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},r.assign(this._cfg,this.getDefaultCfg(),t),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()};u.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},r.augment(u,i,a,s,o,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(t,e){return"zIndex"===t&&this._beforeSetZIndex&&this._beforeSetZIndex(e),"loading"===t&&this._beforeSetLoading&&this._beforeSetLoading(e),this._cfg[t]=e,this},setSilent:function(t,e){this._cfg[t]=e},get:function(t){return this._cfg[t]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(t,e){var n=this._cfg,i=n.parent,a=n.el;return i&&r.remove(i.get("children"),this),a&&(e?i&&i._cfg.tobeRemoved.push(a):a.parentNode.removeChild(a)),(t||void 0===t)&&this.destroy(),this},destroy:function(){this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var t=this._cfg,e=t.parent;if(e){var n=e._cfg.children,r=t.el,i=n.indexOf(this);n.splice(i,1),n.push(this),r&&(r.parentNode.removeChild(r),t.el=null)}},toBack:function(){var t=this._cfg,e=t.parent;if(e){var n=e._cfg.children,r=t.el,i=n.indexOf(this);if(n.splice(i,1),n.unshift(this),r){var a=r.parentNode;a.removeChild(r),a.insertBefore(r,a.firstChild)}}},_beforeSetZIndex:function(t){var e=this._cfg.parent;this._cfg.zIndex=t,r.isNil(e)||e.sort();var n=this._cfg.el;if(n){var i=e._cfg.children,a=i.indexOf(this),o=n.parentNode;o.removeChild(n),a===i.length-1?o.appendChild(n):o.insertBefore(n,o.childNodes[a])}return t},_setAttrs:function(t){return this.attr(t),t},setZIndex:function(t){return this._cfg.zIndex=t,this._beforeSetZIndex(t)},clone:function(){return r.clone(this)},getBBox:function(){}}),t.exports=u},function(t,e,n){var r=n(506),i=r.vec2;function a(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function o(t,e,n,r,o,s,u,c,l){var h,f,p,d,g,v,y,m=.005,x=1/0,_=[u,c];for(g=0;g<1;g+=.05)p=[a(t,n,o,g),a(e,r,s,g)],(f=i.squaredDistance(_,p))<x&&(h=g,x=f);for(x=1/0,y=0;y<32&&!(m<1e-4);y++){var w=h-m,b=h+m;p=[a(t,n,o,w),a(e,r,s,w)],f=i.squaredDistance(_,p),w>=0&&f<x?(h=w,x=f):(d=[a(t,n,o,b),a(e,r,s,b)],v=i.squaredDistance(_,d),b<=1&&v<x?(h=b,x=v):m*=.5)}return l&&(l.x=a(t,n,o,h),l.y=a(e,r,s,h)),Math.sqrt(x)}t.exports={at:a,projectPoint:function(t,e,n,r,i,a,s,u){var c={};return o(t,e,n,r,i,a,s,u,c),c},pointDistance:o,extrema:function(t,e,n){var i=t+n-2*e;if(r.isNumberEqual(i,0))return[.5];var a=(t-e)/i;return a<=1&&a>=0?[a]:[]}}},function(t,e){t.exports={xAt:function(t,e,n,r,i){return e*Math.cos(t)*Math.cos(i)-n*Math.sin(t)*Math.sin(i)+r},yAt:function(t,e,n,r,i){return e*Math.sin(t)*Math.cos(i)+n*Math.cos(t)*Math.sin(i)+r},xExtrema:function(t,e,n){return Math.atan(-n/e*Math.tan(t))},yExtrema:function(t,e,n){return Math.atan(n/(e*Math.tan(t)))}}},function(t,e,n){var r=n(506),i=n(516),a=n(569),o=n(570);function s(t,e,n){return t+e*Math.cos(n)}function u(t,e,n){return t+e*Math.sin(n)}var c=function t(e){t.superclass.constructor.call(this,e)};c.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(c,i),r.augment(c,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.r,i=t.startAngle,o=t.endAngle,s=t.clockwise,u=this.getHitLineWidth()/2,c=a.box(e,n,r,i,o,s);return c.minX-=u,c.minY-=u,c.maxX+=u,c.maxY+=u,c},getStartTangent:function(){var t=this._attrs,e=t.x,n=t.y,r=t.startAngle,i=t.r,a=t.clockwise,o=Math.PI/180;a&&(o*=-1);var c=[],l=s(e,i,r+o),h=u(n,i,r+o),f=s(e,i,r),p=u(n,i,r);return c.push([l,h]),c.push([f,p]),c},getEndTangent:function(){var t=this._attrs,e=t.x,n=t.y,r=t.endAngle,i=t.r,a=t.clockwise,o=Math.PI/180,c=[];a&&(o*=-1);var l=s(e,i,r+o),h=u(n,i,r+o),f=s(e,i,r),p=u(n,i,r);return c.push([f,p]),c.push([l,h]),c},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.r,a=e.startAngle,o=e.endAngle,s=e.clockwise;(t=t||self.get("context")).beginPath(),t.arc(n,r,i,a,o,s)},afterPath:function(t){var e=this._attrs;if(t=t||this.get("context"),e.startArrow){var n=this.getStartTangent();o.addStartArrow(t,e,n[0][0],n[0][1],n[1][0],n[1][1])}if(e.endArrow){var r=this.getEndTangent();o.addEndArrow(t,e,r[0][0],r[0][1],r[1][0],r[1][1])}}}),t.exports=c},function(t,e,n){var r=n(506),i=n(516),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,r:0,lineWidth:1},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.r,i=this.getHitLineWidth()/2+r;return{minX:e-i,minY:n-i,maxX:e+i,maxY:n+i}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()}}),t.exports=a},function(t,e,n){var r=n(506),i=n(516),a=function t(e){t.superclass.constructor.call(this,e)};r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.width,i=t.height,a=this.getHitLineWidth()/2;return{minX:e-a,minY:n-a,maxX:e+r+a,maxY:n+i+a}}}),t.exports=a},function(t,e,n){var r=n(506),i=n(516),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.rx,i=t.ry,a=this.getHitLineWidth(),o=r+a/2,s=i+a/2;return{minX:e-o,minY:n-s,maxX:e+o,maxY:n+s}},createPath:function(t){var e=this._attrs,n=e.x,i=e.y,a=e.rx,o=e.ry;t=t||self.get("context");var s=a>o?a:o,u=a>o?1:a/o,c=a>o?o/a:1,l=[1,0,0,0,1,0,0,0,1];r.mat3.scale(l,l,[u,c]),r.mat3.translate(l,l,[n,i]),t.beginPath(),t.save(),t.transform(l[0],l[1],l[3],l[4],l[6],l[7]),t.arc(0,0,s,0,2*Math.PI),t.restore(),t.closePath()}}),t.exports=a},function(t,e,n){var r=n(506),i=n(516),a=n(569),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},r.extend(o,i),r.augment(o,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.rs,i=t.re,o=t.startAngle,s=t.endAngle,u=t.clockwise,c=this.getHitLineWidth(),l=a.box(e,n,r,o,s,u),h=a.box(e,n,i,o,s,u),f=c/2;return{minX:Math.min(l.minX,h.minX)-f,minY:Math.min(l.minY,h.minY)-f,maxX:Math.max(l.maxX,h.maxX)+f,maxY:Math.max(l.maxY,h.maxY)+f}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.rs,a=e.re,o=e.startAngle,s=e.endAngle,u=e.clockwise,c={x:Math.cos(o)*i+n,y:Math.sin(o)*i+r},l={x:Math.cos(o)*a+n,y:Math.sin(o)*a+r},h={x:Math.cos(s)*i+n,y:Math.sin(s)*i+r};(t=t||self.get("context")).beginPath(),t.moveTo(c.x,c.y),t.lineTo(l.x,l.y),t.arc(n,r,a,o,s,u),t.lineTo(h.x,h.y),t.arc(n,r,i,s,o,!u),t.closePath()}}),t.exports=o},function(t,e,n){var r=n(506),i=n(516),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},r.extend(a,i),r.augment(a,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===t.img||this._setAttrImg();var e=t.x,n=t.y;return{minX:e,minY:n,maxX:e+t.width,maxY:n+t.height}},_beforeSetLoading:function(t){var e=this.get("canvas");return!1===t&&!0===this.get("toDraw")&&(this._cfg.loading=!1,e.draw()),t},_setAttrImg:function(){var t=this,e=t._attrs,n=e.img;if(!r.isString(n))return n instanceof Image?(e.width||t.attr("width",n.width),e.height||t.attr("height",n.height),n):n instanceof HTMLElement&&r.isString(n.nodeName)&&"CANVAS"===n.nodeName.toUpperCase()?(e.width||t.attr("width",Number(n.getAttribute("width"))),e.height||t.attr("height",Number(n.getAttribute("height"))),n):n instanceof ImageData?(e.width||t.attr("width",n.width),e.height||t.attr("height",n.height),n):null;var i=new Image;i.onload=function(){if(t.get("destroyed"))return!1;t.attr("imgSrc",n),t.attr("img",i);var e=t.get("callback");e&&e.call(t),t.set("loading",!1)},i.src=n,i.crossOrigin="Anonymous",t.set("loading",!0)},drawInner:function(t){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(t),this._cfg.hasUpdate=!1)},_drawImage:function(t){var e=this._attrs,n=e.x,i=e.y,a=e.img,o=e.width,s=e.height,u=e.sx,c=e.sy,l=e.swidth,h=e.sheight;this.set("toDraw",!1);var f=a;if(f instanceof ImageData&&((f=new Image).src=a),f instanceof Image||f instanceof HTMLElement&&r.isString(f.nodeName)&&"CANVAS"===f.nodeName.toUpperCase()){if(r.isNil(u)||r.isNil(c)||r.isNil(l)||r.isNil(h))return void t.drawImage(f,n,i,o,s);if(!(r.isNil(u)||r.isNil(c)||r.isNil(l)||r.isNil(h)))return void t.drawImage(f,u,c,l,h,n,i,o,s)}}}),t.exports=a},function(t,e,n){var r=n(506),i=n(516),a=n(570),o=n(568),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(s,i),r.augment(s,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x1,n=t.y1,r=t.x2,i=t.y2,a=this.getHitLineWidth();return o.box(e,n,r,i,a)},createPath:function(t){var e=this._attrs,n=e.x1,r=e.y1,i=e.x2,a=e.y2;(t=t||self.get("context")).beginPath(),t.moveTo(n,r),t.lineTo(i,a)},afterPath:function(t){var e=this._attrs,n=e.x1,r=e.y1,i=e.x2,o=e.y2;t=t||this.get("context"),e.startArrow&&a.addStartArrow(t,e,i,o,n,r),e.endArrow&&a.addEndArrow(t,e,n,r,i,o)},getPoint:function(t){var e=this._attrs;return{x:o.at(e.x1,e.x2,t),y:o.at(e.y1,e.y2,t)}}}),t.exports=s},function(t,e,n){var r=n(506),i=n(516),a=n(571),o=n(548),s=n(570),u=n(605),c=n(603),l=function t(e){t.superclass.constructor.call(this,e)};l.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(l,i),r.augment(l,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(t){if(r.isNil(t))return this.setSilent("segments",null),void this.setSilent("box",void 0);var e,n=o.parsePath(t),i=[];if(r.isArray(n)&&0!==n.length&&("M"===n[0][0]||"m"===n[0][0])){for(var s=n.length,u=0;u<n.length;u++){var c=n[u];e=new a(c,e,u===s-1),i.push(e)}this.setSilent("segments",i),this.setSilent("tCache",null),this.setSilent("box",null)}},calculateBox:function(){var t=this.get("segments");if(!t)return null;var e=this.getHitLineWidth(),n=1/0,i=-1/0,a=1/0,o=-1/0;return r.each(t,function(t){t.getBBox(e);var r=t.box;r&&(r.minX<n&&(n=r.minX),r.maxX>i&&(i=r.maxX),r.minY<a&&(a=r.minY),r.maxY>o&&(o=r.maxY))}),n===1/0||a===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:n,minY:a,maxX:i,maxY:o}},_setTcache:function(){var t,e,n,i,a=0,o=0,s=[],u=this._cfg.curve;u&&(r.each(u,function(t,e){n=u[e+1],i=t.length,n&&(a+=c.len(t[i-2],t[i-1],n[1],n[2],n[3],n[4],n[5],n[6]))}),r.each(u,function(r,l){n=u[l+1],i=r.length,n&&((t=[])[0]=o/a,e=c.len(r[i-2],r[i-1],n[1],n[2],n[3],n[4],n[5],n[6]),o+=e,t[1]=o/a,s.push(t))}),this._cfg.tCache=s)},_calculateCurve:function(){var t=this._attrs.path;this._cfg.curve=u.pathTocurve(t)},getStartTangent:function(){var t,e,n,i,a=this.get("segments");if(a.length>1)if(t=a[0].endPoint,e=a[1].endPoint,n=a[1].startTangent,i=[],r.isFunction(n)){var o=n();i.push([t.x-o[0],t.y-o[1]]),i.push([t.x,t.y])}else i.push([e.x,e.y]),i.push([t.x,t.y]);return i},getEndTangent:function(){var t,e,n,i,a=this.get("segments"),o=a.length;if(o>1)if(t=a[o-2].endPoint,e=a[o-1].endPoint,n=a[o-1].endTangent,i=[],r.isFunction(n)){var s=n();i.push([e.x-s[0],e.y-s[1]]),i.push([e.x,e.y])}else i.push([t.x,t.y]),i.push([e.x,e.y]);return i},getPoint:function(t){var e,n,i=this._cfg.tCache;i||(this._calculateCurve(),this._setTcache(),i=this._cfg.tCache);var a=this._cfg.curve;if(!i)return a?{x:a[0][1],y:a[0][2]}:null;r.each(i,function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)});var o=a[n];if(r.isNil(o)||r.isNil(n))return null;var s=o.length,u=a[n+1];return{x:c.at(o[s-2],u[1],u[3],u[5],1-e),y:c.at(o[s-1],u[2],u[4],u[6],1-e)}},createPath:function(t){var e=this.get("segments");if(r.isArray(e)){(t=t||this.get("context")).beginPath();for(var n=e.length,i=0;i<n;i++)e[i].draw(t)}},afterPath:function(t){var e=this._attrs,n=this.get("segments"),i=e.path;if(t=t||this.get("context"),r.isArray(n)&&1!==n.length&&(e.startArrow||e.endArrow)&&"z"!==i[i.length-1]&&"Z"!==i[i.length-1]&&!e.fill){var a=this.getStartTangent();s.addStartArrow(t,e,a[0][0],a[0][1],a[1][0],a[1][1]);var o=this.getEndTangent();s.addEndArrow(t,e,o[0][0],o[0][1],o[1][0],o[1][1])}}}),t.exports=l},function(t,e,n){var r=n(506),i=n(516),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={points:null,lineWidth:1},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs.points,e=this.getHitLineWidth();if(!t||0===t.length)return null;var n=1/0,i=1/0,a=-1/0,o=-1/0;r.each(t,function(t){var e=t[0],r=t[1];e<n&&(n=e),e>a&&(a=e),r<i&&(i=r),r>o&&(o=r)});var s=e/2;return{minX:n-s,minY:i-s,maxX:a+s,maxY:o+s}},createPath:function(t){var e=this._attrs.points;e.length<2||((t=t||this.get("context")).beginPath(),r.each(e,function(e,n){0===n?t.moveTo(e[0],e[1]):t.lineTo(e[0],e[1])}),t.closePath())}}),t.exports=a},function(t,e,n){var r=n(506),i=n(516),a=n(570),o=n(568),s=function t(e){t.superclass.constructor.call(this,e)};s.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},r.extend(s,i),r.augment(s,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=this.getHitLineWidth(),n=t.points;if(!n||0===n.length)return null;var i=1/0,a=1/0,o=-1/0,s=-1/0;r.each(n,function(t){var e=t[0],n=t[1];e<i&&(i=e),e>o&&(o=e),n<a&&(a=n),n>s&&(s=n)});var u=e/2;return{minX:i-u,minY:a-u,maxX:o+u,maxY:s+u}},_setTcache:function(){var t,e,n=this._attrs.points,i=0,a=0,s=[];n&&0!==n.length&&(r.each(n,function(t,e){n[e+1]&&(i+=o.len(t[0],t[1],n[e+1][0],n[e+1][1]))}),i<=0||(r.each(n,function(r,u){n[u+1]&&((t=[])[0]=a/i,e=o.len(r[0],r[1],n[u+1][0],n[u+1][1]),a+=e,t[1]=a/i,s.push(t))}),this.tCache=s))},createPath:function(t){var e,n,r=this._attrs.points;if(!(r.length<2)){for((t=t||this.get("context")).beginPath(),t.moveTo(r[0][0],r[0][1]),n=1,e=r.length-1;n<e;n++)t.lineTo(r[n][0],r[n][1]);t.lineTo(r[e][0],r[e][1])}},getStartTangent:function(){var t=this.__attrs.points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},getEndTangent:function(){var t=this.__attrs.points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},afterPath:function(t){var e=this._attrs,n=e.points,r=n.length-1;t=t||this.get("context"),e.startArrow&&a.addStartArrow(t,e,n[1][0],n[1][1],n[0][0],n[0][1]),e.endArrow&&a.addEndArrow(t,e,n[r-1][0],n[r-1][1],n[r][0],n[r][1])},getPoint:function(t){var e,n,i=this._attrs.points,a=this.tCache;return a||(this._setTcache(),a=this.tCache),r.each(a,function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)}),{x:o.at(i[n][0],i[n+1][0],e),y:o.at(i[n][1],i[n+1][1],e)}}}),t.exports=s},function(t,e,n){var r=n(506),i=n(548).parseRadius,a=n(516),o=function t(e){t.superclass.constructor.call(this,e)};o.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},r.extend(o,a),r.augment(o,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.width,i=t.height,a=this.getHitLineWidth()/2;return{minX:e-a,minY:n-a,maxX:e+r+a,maxY:n+i+a}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,a=e.width,o=e.height,s=e.radius;if((t=t||this.get("context")).beginPath(),0===s)t.rect(n,r,a,o);else{var u=i(s);t.moveTo(n+u.r1,r),t.lineTo(n+a-u.r2,r),0!==u.r2&&t.arc(n+a-u.r2,r+u.r2,u.r2,-Math.PI/2,0),t.lineTo(n+a,r+o-u.r3),0!==u.r3&&t.arc(n+a-u.r3,r+o-u.r3,u.r3,0,Math.PI/2),t.lineTo(n+u.r4,r+o),0!==u.r4&&t.arc(n+u.r4,r+o-u.r4,u.r4,Math.PI/2,Math.PI),t.lineTo(n,r+u.r1),0!==u.r1&&t.arc(n+u.r1,r+u.r1,u.r1,Math.PI,1.5*Math.PI),t.closePath()}}}),t.exports=o},function(t,e,n){var r=n(506),i=n(516),a=function t(e){t.superclass.constructor.call(this,e)};a.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},r.extend(a,i),r.augment(a,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var t=this._attrs.fontSize;t&&+t<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",+t/12,+t/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var t=this._attrs,e=t.fontSize,n=t.fontFamily,r=t.fontWeight,i=t.fontStyle,a=t.fontVariant;t.font=[i,a,r,e+"px",n].join(" ")},_setAttrText:function(){var t=this._attrs,e=t.text,n=null;if(r.isString(e)&&-1!==e.indexOf("\n")){var i=(n=e.split("\n")).length;t.lineCount=i}t.textArr=n},_getTextHeight:function(){var t=this._attrs,e=t.lineCount,n=1*t.fontSize;return e>1?n*e+this._getSpaceingY()*(e-1):n},isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs,e=this._cfg;e.attrs&&!e.hasUpdate||(this._assembleFont(),this._setAttrText()),t.textArr||this._setAttrText();var n=t.x,r=t.y,i=this.measureText();if(!i)return{minX:n,minY:r,maxX:n,maxY:r};var a=this._getTextHeight(),o=t.textAlign,s=t.textBaseline,u=this.getHitLineWidth(),c={x:n,y:r-a};o&&("end"===o||"right"===o?c.x-=i:"center"===o&&(c.x-=i/2)),s&&("top"===s?c.y+=a:"middle"===s&&(c.y+=a/2)),this.set("startPoint",c);var l=u/2;return{minX:c.x-l,minY:c.y-l,maxX:c.x+i+l,maxY:c.y+a+l}},_getSpaceingY:function(){var t=this._attrs,e=t.lineHeight,n=1*t.fontSize;return e?e-n:.14*n},drawInner:function(t){var e=this._attrs,n=this._cfg;n.attrs&&!n.hasUpdate||(this._assembleFont(),this._setAttrText()),t.font=e.font;var i=e.text;if(i){var a=e.textArr,o=e.x,s=e.y;if(t.beginPath(),this.hasStroke()){var u=e.strokeOpacity;r.isNil(u)||1===u||(t.globalAlpha=u),a?this._drawTextArr(t,!1):t.strokeText(i,o,s),t.globalAlpha=1}if(this.hasFill()){var c=e.fillOpacity;r.isNil(c)||1===c||(t.globalAlpha=c),a?this._drawTextArr(t,!0):t.fillText(i,o,s)}n.hasUpdate=!1}},_drawTextArr:function(t,e){var n,i=this._attrs.textArr,a=this._attrs.textBaseline,o=1*this._attrs.fontSize,s=this._getSpaceingY(),u=this._attrs.x,c=this._attrs.y,l=this.getBBox(),h=l.maxY-l.minY;r.each(i,function(r,i){n=c+i*(s+o)-h+o,"middle"===a&&(n+=h-o-(h-o)/2),"top"===a&&(n+=h-o),e?t.fillText(r,u,n):t.strokeText(r,u,n)})},measureText:function(){var t,e=this._attrs,n=e.text,i=e.font,a=e.textArr,o=0;if(!r.isNil(n)){var s=document.createElement("canvas").getContext("2d");return s.save(),s.font=i,a?r.each(a,function(e){t=s.measureText(e).width,o<t&&(o=t),s.restore()}):(o=s.measureText(n).width,s.restore()),o}}}),t.exports=a},function(t,e,n){var r=n(500),i=n(915),a={appear:{duration:450,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut",delay:100},leave:{duration:350,easing:"easeQuadIn"}},o={line:{appear:function(){return i.appear.clipIn},enter:function(){return i.enter.clipIn},leave:function(){return i.leave.lineWidthOut}},path:{appear:function(){return i.appear.clipIn},enter:function(){return i.enter.clipIn},leave:function(){return i.leave.lineWidthOut}},area:{appear:function(){return i.appear.clipIn},enter:function(){return i.enter.fadeIn},leave:function(){return i.leave.fadeOut},cfg:{appear:{duration:500,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:600,delay:150,easing:"easeQuadInOut"},leave:{easing:"easeQuadOut",duration:350}}},polygon:{appear:function(){return i.appear.zoomIn},enter:function(){return i.enter.zoomIn},leave:function(){return i.leave.zoomOut}},edge:{appear:function(){return i.appear.pathIn},enter:function(){return i.enter.pathIn},leave:function(){return i.leave.pathOut}},interval:{appear:function(t){var e;return t.isPolar?(e=i.appear.zoomIn,(t.isTransposed||"theta"===t.type)&&(e=i.appear.fanIn)):e=t.isRect?t.isTransposed?i.appear.scaleInX:i.appear.scaleInY:i.appear.zoomIn,e},enter:function(t){return t.isRect||t.isTransposed||"theta"===t.type?i.enter.fadeIn:i.enter.zoomIn},leave:function(){return i.leave.fadeOut},update:function(t){if("theta"===t.type)return i.update.fanIn}},point:{appear:function(){return i.appear.zoomIn},enter:function(){return i.enter.zoomIn},leave:function(){return i.leave.zoomOut}},schema:{appear:function(){return i.appear.clipIn},enter:function(){return i.enter.clipIn},leave:function(){return i.leave.lineWidthOut}},contour:null,heatmap:null,label:{appear:function(){return i.appear.fadeIn},enter:function(){return i.enter.fadeIn},leave:function(){return i.leave.fadeOut},cfg:{appear:{duration:900}}},"axis-label":{enter:function(){return i.appear.fadeIn},leave:function(){return i.leave.fadeOut},update:function(t){if(t.isPolar)return i.appear.fadeIn}},"axis-ticks":{enter:function(){return i.appear.fadeIn},leave:function(){return i.leave.fadeOut},update:function(t){if(t.isPolar)return i.appear.fadeIn}},"axis-grid":{enter:function(){return i.appear.fadeIn},leave:function(){return i.leave.fadeOut},update:function(t){if(t.isPolar)return i.appear.fadeIn}},"axis-grid-rect":{enter:function(){return i.appear.fadeIn},leave:function(){return i.leave.fadeOut},update:function(){return i.leave.fadeIn}},labelLine:{appear:function(){return i.appear.pathIn},enter:function(){return i.enter.pathIn},leave:function(){return i.leave.pathOut}}};o.Action=i,o.defaultCfg=a,o.getAnimation=function(t,e,n){var i=this[t];if(i){var a=i[n];if(r.isFunction(a))return a(e)}return!1},o.getAnimateCfg=function(t,e){var n=a[e];return this[t]&&this[t].cfg&&this[t].cfg[e]?r.deepMix({},n,this[t].cfg[e]):n},o.registerAnimation=function(t,e,n){this.Action[t]||(this.Action[t]={}),this.Action[t][e]=n},t.exports=o},function(t,e,n){var r=n(502),i=n(501),a=n(860),o=n(869),s=n(876),u=n(879),c=n(883),l=n(574),h=n(892),f=n(896),p=n(902),d=n(906),g={DOMUtil:a,DomUtil:a,MatrixUtil:l,PathUtil:f,arrayUtil:o,domUtil:a,eventUtil:s,formatUtil:u,mathUtil:c,matrixUtil:l,objectUtil:h,stringUtil:p,pathUtil:f,typeUtil:d,augment:n(662),clone:n(531),debounce:n(911),deepMix:n(596),each:r,extend:n(661),filter:n(606),group:n(707),groupBy:n(612),groupToMap:n(708),indexOf:n(912),isEmpty:n(657),isEqual:n(598),isEqualWith:n(913),map:n(709),mix:i,pick:n(538),throttle:n(914),toArray:n(566),toString:n(545),uniqueId:n(595)};r([a,o,s,u,c,l,h,f,p,d],function(t){i(g,t)}),t.exports=g},function(t,e,n){var r=n(606),i=n(572);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r(t,function(t){return!i(e,t)})}},function(t,e,n){var r=n(511),i=n(537),a=n(607);t.exports=function(t,e){var n=void 0;if(r(e)&&(n=e),i(e)&&(n=function(t){return a(t,e)}),n)for(var o=0;o<t.length;o+=1)if(n(t[o]))return t[o];return null}},function(t,e,n){var r=n(525),i=Array.prototype.splice;t.exports=function(t,e){if(!r(t))return[];for(var n=t?e.length:0,a=n-1;n--;){var o=void 0,s=e[n];n!==a&&s===o||(o=s,i.call(t,s,1))}return t}},function(t,e,n){var r=n(507),i=n(511),a=n(504);t.exports=function(t,e){var n=void 0;if(i(e))n=function(t,n){return e(t)-e(n)};else{var o=[];r(e)?o.push(e):a(e)&&(o=e),n=function(t,e){for(var n=0;n<o.length;n+=1){var r=o[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0}}return t.sort(n),t}},function(t,e,n){var r=n(504),i=n(511),a=n(502);t.exports=function(t,e){if(r(t)){var n=t[0],o=void 0;o=i(e)?e(t[0]):t[0][e];var s=void 0;return a(t,function(t){(s=i(e)?e(t):t[e])>o&&(n=t,o=s)}),n}}},function(t,e){t.exports=parseInt},function(t,e,n){var r=n(699);t.exports=function(t,e,n,i,a){if(a)return[["M",+t+ +a,e],["l",n-2*a,0],["a",a,a,0,0,1,a,a],["l",0,i-2*a],["a",a,a,0,0,1,-a,a],["l",2*a-n,0],["a",a,a,0,0,1,-a,-a],["l",0,2*a-i],["a",a,a,0,0,1,a,-a],["z"]];var o=[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]];return o.parsePathArray=r,o}},function(t,e){var n=/,?([a-z]),?/gi;t.exports=function(t){return t.join(",").replace(n,"$1")}},function(t,e,n){var r=n(701),i=function(t,e,n,r){return[t,e,n,r,n,r]},a=function(t,e,n,r,i,a){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*a+2/3*r,i,a]};t.exports=function(t,e){var n=r(t),o=e&&r(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=[],l=[],h="",f="",p=void 0,d=function(t,e,n){var r=void 0,o=void 0;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(function t(e,n,r,i,a,o,s,u,c,l){r===i&&(r+=1);var h=120*Math.PI/180,f=Math.PI/180*(+a||0),p=[],d=void 0,g=void 0,v=void 0,y=void 0,m=void 0,x=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(l)g=l[0],v=l[1],y=l[2],m=l[3];else{e=(d=x(e,n,-f)).x,n=d.y,u=(d=x(u,c,-f)).x,c=d.y,e===u&&n===c&&(u+=1,c+=1);var _=(e-u)/2,w=(n-c)/2,b=_*_/(r*r)+w*w/(i*i);b>1&&(r*=b=Math.sqrt(b),i*=b);var M=r*r,S=i*i,E=(o===s?-1:1)*Math.sqrt(Math.abs((M*S-M*w*w-S*_*_)/(M*w*w+S*_*_)));y=E*r*w/i+(e+u)/2,m=E*-i*_/r+(n+c)/2,g=Math.asin(((n-m)/i).toFixed(9)),v=Math.asin(((c-m)/i).toFixed(9)),g=e<y?Math.PI-g:g,v=u<y?Math.PI-v:v,g<0&&(g=2*Math.PI+g),v<0&&(v=2*Math.PI+v),s&&g>v&&(g-=2*Math.PI),!s&&v>g&&(v-=2*Math.PI)}var C=v-g;if(Math.abs(C)>h){var k=v,P=u,T=c;v=g+h*(s&&v>g?1:-1),p=t(u=y+r*Math.cos(v),c=m+i*Math.sin(v),r,i,a,0,s,P,T,[v,k,y,m])}C=v-g;var A=Math.cos(g),I=Math.sin(g),O=Math.cos(v),L=Math.sin(v),j=Math.tan(C/4),R=4/3*r*j,D=4/3*i*j,N=[e,n],B=[e+R*I,n-D*A],F=[u+R*L,c-D*O],z=[u,c];if(B[0]=2*N[0]-B[0],B[1]=2*N[1]-B[1],l)return[B,F,z].concat(p);for(var G=[],V=0,q=(p=[B,F,z].concat(p).join().split(",")).length;V<q;V++)G[V]=V%2?x(p[V-1],p[V],f).y:x(p[V],p[V+1],f).x;return G}.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,o=2*e.y-e.by):(r=e.x,o=e.y),t=["C",r,o].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(a(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(a(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(i(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(i(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(i(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(i(e.x,e.y,e.X,e.Y))}return t},g=function(t,e){if(t[e].length>7){t[e].shift();for(var r=t[e];r.length;)c[e]="A",o&&(l[e]="A"),t.splice(e++,0,["C"].concat(r.splice(0,6)));t.splice(e,1),p=Math.max(n.length,o&&o.length||0)}},v=function(t,e,r,i,a){t&&e&&"M"===t[a][0]&&"M"!==e[a][0]&&(e.splice(a,0,["M",i.x,i.y]),r.bx=0,r.by=0,r.x=t[a][1],r.y=t[a][2],p=Math.max(n.length,o&&o.length||0))};p=Math.max(n.length,o&&o.length||0);for(var y=0;y<p;y++){n[y]&&(h=n[y][0]),"C"!==h&&(c[y]=h,y&&(f=c[y-1])),n[y]=d(n[y],s,f),"A"!==c[y]&&"C"===h&&(c[y]="C"),g(n,y),o&&(o[y]&&(h=o[y][0]),"C"!==h&&(l[y]=h,y&&(f=l[y-1])),o[y]=d(o[y],u,f),"A"!==l[y]&&"C"===h&&(l[y]="C"),g(o,y)),v(n,o,s,u,y),v(o,n,u,s,y);var m=n[y],x=o&&o[y],_=m.length,w=o&&x.length;s.x=m[_-2],s.y=m[_-1],s.bx=parseFloat(m[_-4])||s.x,s.by=parseFloat(m[_-3])||s.y,u.bx=o&&(parseFloat(x[w-4])||u.x),u.by=o&&(parseFloat(x[w-3])||u.y),u.x=o&&x[w-2],u.y=o&&x[w-1]}return o?[n,o]:n}},function(t,e,n){var r=n(702),i=n(703);function a(t,e,n,r,i){var a=[];if(null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i){var o=Math.PI/180,s=t+n*Math.cos(-r*o),u=t+n*Math.cos(-i*o);a=[["M",s,e+n*Math.sin(-r*o)],["A",n,n,0,+(i-r>180),0,u,e+n*Math.sin(-i*o)]]}else a=[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]];return a}t.exports=function(t){if(!(t=r(t))||!t.length)return[["M",0,0]];var e=[],n=0,o=0,s=0,u=0,c=0,l=void 0,h=void 0;"M"===t[0][0]&&(s=n=+t[0][1],u=o=+t[0][2],c++,e[0]=["M",n,o]);for(var f,p,d=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),g=c,v=t.length;g<v;g++){if(e.push(f=[]),(l=(p=t[g])[0])!==l.toUpperCase())switch(f[0]=l.toUpperCase(),f[0]){case"A":f[1]=p[1],f[2]=p[2],f[3]=p[3],f[4]=p[4],f[5]=p[5],f[6]=+p[6]+n,f[7]=+p[7]+o;break;case"V":f[1]=+p[1]+o;break;case"H":f[1]=+p[1]+n;break;case"R":for(var y=2,m=(h=[n,o].concat(p.slice(1))).length;y<m;y++)h[y]=+h[y]+n,h[++y]=+h[y]+o;e.pop(),e=e.concat(i(h,d));break;case"O":e.pop(),(h=a(n,o,p[1],p[2])).push(h[0]),e=e.concat(h);break;case"U":e.pop(),e=e.concat(a(n,o,p[1],p[2],p[3])),f=["U"].concat(e[e.length-1].slice(-2));break;case"M":s=+p[1]+n,u=+p[2]+o;break;default:for(var x=1,_=p.length;x<_;x++)f[x]=+p[x]+(x%2?n:o)}else if("R"===l)h=[n,o].concat(p.slice(1)),e.pop(),e=e.concat(i(h,d)),f=["R"].concat(p.slice(-2));else if("O"===l)e.pop(),(h=a(n,o,p[1],p[2])).push(h[0]),e=e.concat(h);else if("U"===l)e.pop(),e=e.concat(a(n,o,p[1],p[2],p[3])),f=["U"].concat(e[e.length-1].slice(-2));else for(var w=0,b=p.length;w<b;w++)f[w]=p[w];if("O"!==(l=l.toUpperCase()))switch(f[0]){case"Z":n=+s,o=+u;break;case"H":n=f[1];break;case"V":o=f[1];break;case"M":s=f[f.length-2],u=f[f.length-1];break;default:n=f[f.length-2],o=f[f.length-1]}}return e}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="\t\n\v\f\r   ᠎             　\u2028\u2029",i=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),a=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig");t.exports=function(t){if(!t)return null;if((void 0===t?"undefined":n(t))===n([]))return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},r=[];return String(t).replace(i,function(t,n,i){var o=[],s=n.toLowerCase();if(i.replace(a,function(t,e){e&&o.push(+e)}),"m"===s&&o.length>2&&(r.push([n].concat(o.splice(0,2))),s="l",n="m"===n?"l":"L"),"o"===s&&1===o.length&&r.push([n,o[0]]),"r"===s)r.push([n].concat(o));else for(;o.length>=e[s]&&(r.push([n].concat(o.splice(0,e[s]))),e[s]););}),r}},function(t,e){t.exports=function(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var a=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?a[3]={x:+t[0],y:+t[1]}:i-2===r&&(a[2]={x:+t[0],y:+t[1]},a[3]={x:+t[2],y:+t[3]}):a[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?a[3]=a[2]:r||(a[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return n}},function(t,e,n){var r=n(545);t.exports=function(t){return r(t).toLowerCase()}},function(t,e,n){var r=n(545);t.exports=function(t){return r(t).toUpperCase()}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(708);t.exports=function(t,e){if(!e)return[t];var n=r(t,e),i=[];for(var a in n)i.push(n[a]);return i}},function(t,e,n){var r=n(511),i=n(504),a=n(612);t.exports=function(t,e){if(!e)return{0:t};if(!r(e)){var n=i(e)?e:e.replace(/\s+/g,"").split("*");e=function(t){for(var e="_",r=0,i=n.length;r<i;r++)e+=t[n[r]]&&t[n[r]].toString();return e}}return a(t,e)}},function(t,e,n){var r=n(502),i=n(525);t.exports=function(t,e){if(!i(t))return t;var n=[];return r(t,function(t,r){n.push(e(t,r))}),n}},function(t,e,n){var r=n(500),i=n(916),a=n(536).Canvas,o=r.DomUtil,s=n(512),u=n(981),c=n(728);function l(t,e){return r.isEqualWith(t,e,function(t,e){return t===e})}var h=function(t){var e,n;function h(){return t.apply(this,arguments)||this}n=t,(e=h).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var f=h.prototype;return f.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix(e,{id:null,forceFit:!1,container:null,wrapperEl:null,canvas:null,width:500,height:500,pixelRatio:null,backPlot:null,frontPlot:null,plotBackground:null,padding:s.plotCfg.padding,background:null,autoPaddingAppend:5,renderer:s.renderer,views:[]})},f.init=function(){var e=this,n=e.get("viewTheme");e._initCanvas(),e._initPlot(),e._initEvents(),t.prototype.init.call(this);var r=new c.Tooltip({chart:e,viewTheme:n,options:{}});e.set("tooltipController",r);var i=new c.Legend({chart:e,viewTheme:n});e.set("legendController",i),e.set("_id","chart"),e.emit("afterinit")},f._isAutoPadding=function(){var t=this.get("padding");return r.isArray(t)?-1!==t.indexOf("auto"):"auto"===t},f._getAutoPadding=function(){for(var t,e,n=this.get("padding"),i=this.get("frontPlot").getBBox(),a=this.get("backPlot").getBBox(),o=(t=i,e=a,{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}),s=[0-o.minY,o.maxX-this.get("width"),o.maxY-this.get("height"),0-o.minX],u=r.toAllPadding(n),c=0;c<u.length;c++)if("auto"===u[c]){var l=Math.max(0,s[c]);u[c]=l+this.get("autoPaddingAppend")}return u},f._initCanvas=function(){var t=this.get("container"),e=this.get("id");!t&&e&&(t=e,this.set("container",e));var n=this.get("width"),i=this.get("height");if(r.isString(t)){if(!(t=document.getElementById(t)))throw new Error("Please specify the container for the chart!");this.set("container",t)}var s=o.createDom('<div style="position:relative;"></div>');t.appendChild(s),this.set("wrapperEl",s),this.get("forceFit")&&(n=o.getWidth(t,n),this.set("width",n));var u=new a({containerDOM:s,width:n,height:i,pixelRatio:this.get("pixelRatio"),renderer:this.get("renderer")});this.set("canvas",u)},f._initPlot=function(){this._initPlotBack();var t=this.get("canvas"),e=t.addGroup({zIndex:1}),n=t.addGroup({zIndex:2}),r=t.addGroup({zIndex:3});this.set("backPlot",e),this.set("middlePlot",n),this.set("frontPlot",r)},f._initPlotBack=function(){var t=this.get("canvas"),e=this.get("viewTheme"),n=t.addGroup(u,{padding:this.get("padding"),plotBackground:r.mix({},e.plotBackground,this.get("plotBackground")),background:r.mix({},e.background,this.get("background"))});this.set("plot",n),this.set("plotRange",n.get("plotRange"))},f._initEvents=function(){this.get("forceFit")&&window.addEventListener("resize",r.wrapBehavior(this,"_initForceFitEvent"))},f._initForceFitEvent=function(){var t=setTimeout(r.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer")),this.set("resizeTimer",t)},f._renderLegends=function(){var t=this.get("options").legends;if(r.isNil(t)||!1!==t){var e=this.get("legendController");if(e.options=t||{},e.plotRange=this.get("plotRange"),t&&t.custom)e.addCustomLegend();else{var n=this.getAllGeoms(),i=[];r.each(n,function(t){var n=t.get("view"),a=t.getAttrsForLegend();r.each(a,function(a){var o,s,u,c=a.type,l=a.getScale(c);if(l.field&&"identity"!==l.type&&(o=i,s=l,u=!1,r.each(o,function(t){var e=[].concat(t.values),n=[].concat(s.values);t.type!==s.type||t.field!==s.field||e.sort().toString()!==n.sort().toString()||(u=!0)}),!u)){i.push(l);var h=n.getFilteredOutValues(l.field);e.addLegend(l,a,t,h)}})});var a=this.getYScales();0===i.length&&a.length>1&&e.addMixedLegend(a,n)}e.alignLegends()}},f._renderTooltips=function(){var t=this.get("options");if(r.isNil(t.tooltip)||!1!==t.tooltip){var e=this.get("tooltipController");e.options=t.tooltip||{},e.renderTooltip()}},f.getAllGeoms=function(){var t=[];t=t.concat(this.get("geoms"));var e=this.get("views");return r.each(e,function(e){t=t.concat(e.get("geoms"))}),t},f.forceFit=function(){if(this&&!this.destroyed){var t=this.get("container"),e=this.get("width"),n=o.getWidth(t,e);if(0!==n&&n!==e){var r=this.get("height");this.changeSize(n,r)}return this}},f.resetPlot=function(){var t=this.get("plot"),e=this.get("padding");l(e,t.get("padding"))||(t.set("padding",e),t.repaint())},f.changeSize=function(t,e){this.get("canvas").changeSize(t,e);var n=this.get("plot");return this.set("width",t),this.set("height",e),n.repaint(),this.set("keepPadding",!0),this.repaint(),this.set("keepPadding",!1),this.emit("afterchangesize"),this},f.changeWidth=function(t){return this.changeSize(t,this.get("height"))},f.changeHeight=function(t){return this.changeSize(this.get("width"),t)},f.view=function(t){(t=t||{}).theme=this.get("theme"),t.parent=this,t.backPlot=this.get("backPlot"),t.middlePlot=this.get("middlePlot"),t.frontPlot=this.get("frontPlot"),t.canvas=this.get("canvas"),r.isNil(t.animate)&&(t.animate=this.get("animate")),t.options=r.mix({},this._getSharedOptions(),t.options);var e=new i(t);return e.set("_id","view"+this.get("views").length),this.get("views").push(e),this.emit("addview",{view:e}),e},f.removeView=function(t){var e=this.get("views");r.Array.remove(e,t),t.destroy()},f._getSharedOptions=function(){var t=this.get("options"),e={};return r.each(["scales","coord","axes"],function(n){e[n]=r.cloneDeep(t[n])}),e},f.getViewRegion=function(){var t=this.get("plotRange");return{start:t.bl,end:t.tr}},f.legend=function(t,e){var n=this.get("options");n.legends||(n.legends={});var i={};return!1===t?n.legends=!1:r.isObject(t)?i=t:r.isString(t)?i[t]=e:i=e,r.mix(n.legends,i),this},f.tooltip=function(t,e){var n=this.get("options");return n.tooltip||(n.tooltip={}),!1===t?n.tooltip=!1:r.isObject(t)?r.mix(n.tooltip,t):r.mix(n.tooltip,e),this},f.clear=function(){this.emit("beforeclear");for(var e=this.get("views");e.length>0;){e.shift().destroy()}t.prototype.clear.call(this);var n=this.get("canvas");return this.resetPlot(),n.draw(),this.emit("afterclear"),this},f.clearInner=function(){var e=this.get("views");r.each(e,function(t){t.clearInner()});var n=this.get("tooltipController");if(n&&n.clear(),!this.get("keepLegend")){var i=this.get("legendController");i&&i.clear()}t.prototype.clearInner.call(this)},f.drawComponents=function(){t.prototype.drawComponents.call(this),this.get("keepLegend")||this._renderLegends()},f.render=function(){if(!this.get("keepPadding")&&this._isAutoPadding()){this.beforeRender(),this.drawComponents();var e=this._getAutoPadding(),n=this.get("plot");l(n.get("padding"),e)||(n.set("padding",e),n.repaint())}t.prototype.render.call(this),this._renderTooltips()},f.repaint=function(){this.get("keepPadding")||this.resetPlot(),t.prototype.repaint.call(this)},f.changeVisible=function(t){var e=this.get("wrapperEl"),n=t?"":"none";e.style.display=n},f.toDataURL=function(){var t=this.get("canvas"),e=this.get("renderer"),n=t.get("el"),r="";if("svg"===e){var i=n.cloneNode(!0),a=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),o=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",a);o.replaceChild(i,o.documentElement);var s=(new XMLSerializer).serializeToString(o);r="data:image/svg+xml;charset=utf8,"+encodeURIComponent(s)}else"canvas"===e&&(r=n.toDataURL("image/png"));return r},f.downloadImage=function(t){var e=this,n=document.createElement("a"),r=e.get("renderer"),i=(t||"chart")+("svg"===r?".svg":".png");e.get("canvas").get("timeline").stopAllAnimations(),setTimeout(function(){var t=e.toDataURL();if(window.Blob&&window.URL&&"svg"!==r){for(var a=t.split(","),o=a[0].match(/:(.*?);/)[1],s=atob(a[1]),u=s.length,c=new Uint8Array(u);u--;)c[u]=s.charCodeAt(u);var l=new Blob([c],{type:o});window.navigator.msSaveBlob?window.navigator.msSaveBlob(l,i):n.addEventListener("click",function(){n.download=i,n.href=window.URL.createObjectURL(l)})}else n.addEventListener("click",function(){n.download=i,n.href=t});var h=document.createEvent("MouseEvents");h.initEvent("click",!1,!1),n.dispatchEvent(h)},16)},f.showTooltip=function(t){var e=this.getViewsByPoint(t);e.length&&this.get("tooltipController").showTooltip(t,e);return this},f.hideTooltip=function(){return this.get("tooltipController").hideTooltip(),this},f.getTooltipItems=function(t){var e=this.getViewsByPoint(t),n=[];return r.each(e,function(e){var i=e.get("geoms");r.each(i,function(e){var i=e.get("dataArray"),a=[];r.each(i,function(n){var r=e.findPoint(t,n);if(r){var i=e.getTipItems(r);a=a.concat(i)}}),n=n.concat(a)})}),n},f.destroy=function(){this.emit("beforedestroy"),clearTimeout(this.get("resizeTimer"));var e=this.get("canvas"),n=this.get("wrapperEl");n.parentNode.removeChild(n),t.prototype.destroy.call(this),e.destroy(),window.removeEventListener("resize",r.getWrapBehavior(this,"_initForceFitEvent")),this.emit("afterdestroy")},h}(i);t.exports=h},function(t,e,n){var r=n(547),i=n(500),a=function(t){var e,n;n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=a.prototype;function a(e){var n,r={visible:!0},a=(n=t.call(this)||this).getDefaultCfg();return n._attrs=r,i.assign(r,a,e),n}return r.getDefaultCfg=function(){return{}},r.get=function(t){return this._attrs[t]},r.set=function(t,e){this._attrs[t]=e},r.show=function(){this.get("visible")||(this.set("visible",!0),this.changeVisible(!0))},r.hide=function(){this.get("visible")&&(this.set("visible",!1),this.changeVisible(!1))},r.changeVisible=function(){},r.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},a}(r);t.exports=a},function(t,e,n){var r=n(515),i=n(507),a=n(502),o=/rgba?\(([\s.,0-9]+)\)/;function s(t,e,n,r){return t[r]+(e[r]-t[r])*n}function u(t){return"#"+c(t[0])+c(t[1])+c(t[2])}function c(t){return 1===(t=(t=Math.round(t)).toString(16)).length&&(t="0"+t),t}function l(t){var e=[];return e.push(parseInt(t.substr(1,2),16)),e.push(parseInt(t.substr(3,2),16)),e.push(parseInt(t.substr(5,2),16)),e}var h={},f=null,p={toRGB:function(t){if("#"===t[0]&&7===t.length)return t;var e,n;(f||((e=document.createElement("i")).title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),f=e),h[t])?n=h[t]:(f.style.color=t,n=document.defaultView.getComputedStyle(f,"").getPropertyValue("color"),n=u(o.exec(n)[1].split(/\s*,\s*/)),h[t]=n);return n},rgb2arr:l,gradient:function(t){var e=[];return i(t)&&(t=t.split("-")),a(t,function(t){-1===t.indexOf("#")&&(t=p.toRGB(t)),e.push(l(t))}),function(t){return function(t,e){!isNaN(e)&&r(e)||(e=0);var n=t.length-1,i=Math.floor(n*e),a=n*e-i,o=t[i],c=i===n?o:t[i+1];return u([s(o,c,a,0),s(o,c,a,1),s(o,c,a,2)])}(e,t)}}};t.exports=p},function(t,e,n){var r=n(502),i={values:n(610)};t.exports={isAdjust:function(t){return this.adjustNames.indexOf(t)>=0},_getDimValues:function(t){var e={},n=[];if(this.xField&&this.isAdjust("x")&&n.push(this.xField),this.yField&&this.isAdjust("y")&&n.push(this.yField),r(n,function(n){var r=i.values(t,n);r.sort(function(t,e){return t-e}),e[n]=r}),!this.yField&&this.isAdjust("y")){var a=[0,1];e.y=a}return e},adjustData:function(t,e){var n=this,i=n._getDimValues(e);r(t,function(e,a){r(i,function(r,i){n.adjustDim(i,r,e,t.length,a)})})},getAdjustRange:function(t,e,n){var r,i,a=n.indexOf(e),o=n.length;return!this.yField&&this.isAdjust("y")?(r=0,i=1):o>1?(r=0===a?n[0]:n[a-1],i=a===o-1?n[o-1]:n[a+1],0!==a?r+=(e-r)/2:r-=(i-e)/2,a!==o-1?i-=(i-e)/2:i+=(e-n[o-2])/2):(r=0===e?0:e-.5,i=0===e?1:e+.5),{pre:r,next:i}},groupData:function(t,e){var n={};return r(t,function(t){var r=t[e];void 0===r&&(r=t[e]=0),n[r]||(n[r]=[]),n[r].push(t)}),n}}},function(t,e,n){var r={default:n(715),dark:n(929)};t.exports=r},function(t,e){var n,r,i="#1890FF",a='"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"',o={defaultColor:i,plotCfg:{padding:[20,20,95,80]},fontFamily:a,defaultLegendPosition:"bottom",colors:["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],colors_16:["#1890FF","#41D9C7","#2FC25B","#FACC14","#E6965C","#223273","#7564CC","#8543E0","#5C8EE6","#13C2C2","#5CA3E6","#3436C7","#B381E6","#F04864","#D598D9"],colors_24:["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],colors_pie:["#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864","#8543E0","#3436C7","#223273"],colors_pie_16:["#1890FF","#73C9E6","#13C2C2","#6CD9B3","#2FC25B","#9DD96C","#FACC14","#E6965C","#F04864","#D66BCA","#8543E0","#8E77ED","#3436C7","#737EE6","#223273","#7EA2E6"],shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},sizes:[1,10],opacities:[.1,.9],axis:{top:{position:"top",title:null,label:{offset:16,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:a},autoRotate:!0},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},bottom:{position:"bottom",title:null,label:{offset:16,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:a}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},left:{position:"left",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:a}},line:null,tickLine:null,grid:{zIndex:-1,lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},right:{position:"right",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:a}},line:null,tickLine:null,grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},circle:{zIndex:1,title:null,label:{offset:8,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,fontFamily:a}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},radius:{zIndex:0,label:{offset:12,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",lineHeight:16,fontFamily:a}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},type:"circle"}},helix:{grid:null,label:null,title:null,line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,length:4,stroke:"#BFBFBF",alignWithLabel:!0}}},label:{offset:20,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",fontFamily:a}},treemapLabels:{offset:10,textStyle:{fill:"#fff",fontSize:12,textBaseline:"top",fontStyle:"bold",fontFamily:a}},innerLabels:{textStyle:{fill:"#fff",fontSize:12,textBaseline:"middle",fontFamily:a}},thetaLabels:{labelLine:{lineWidth:1},labelHeight:14,offset:30},legend:{right:{position:"right",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,legendStyle:{LIST_CLASS:{textAlign:"left"}},textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:0,fontFamily:a},unCheckColor:"#bfbfbf"},left:{position:"left",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:a},unCheckColor:"#bfbfbf"},top:{position:"top",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:a},unCheckColor:"#bfbfbf"},bottom:{position:"bottom",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:a},unCheckColor:"#bfbfbf"},html:(n={},n["g2-legend"]={height:"auto",width:"auto",position:"absolute",overflow:"auto",fontSize:"12px",fontFamily:a,lineHeight:"20px",color:"#8C8C8C"},n["g2-legend-title"]={marginBottom:"4px"},n["g2-legend-list"]={listStyleType:"none",margin:0,padding:0},n["g2-legend-list-item"]={cursor:"pointer",marginBottom:"5px",marginRight:"24px"},n["g2-legend-marker"]={width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"},n),gradient:{textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"center",textBaseline:"middle",lineHeight:20,fontFamily:a},lineStyle:{lineWidth:1,stroke:"#fff"},unCheckColor:"#bfbfbf"},margin:[0,20,24,5],legendMargin:24},tooltip:(r={useHtml:!0,crosshairs:!1,offset:15},r["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:a,lineHeight:"20px",padding:"10px 10px 6px 10px"},r["g2-tooltip-title"]={marginBottom:"4px"},r["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},r["g2-tooltip-list-item"]={marginBottom:"4px"},r["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},r),tooltipMarker:{symbol:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,radius:4},tooltipCrosshairsRect:{type:"rect",style:{fill:"#CCD6EC",opacity:.3}},tooltipCrosshairsLine:{style:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1}},shape:{point:{lineWidth:1,fill:i,radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:i,radius:3},interval:{lineWidth:0,fill:i,fillOpacity:.85},hollowInterval:{fill:"#fff",stroke:i,fillOpacity:0,lineWidth:2},area:{lineWidth:0,fill:i,fillOpacity:.6},polygon:{lineWidth:0,fill:i,fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:i,fillOpacity:0,lineWidth:2},hollowArea:{fill:"#fff",stroke:i,fillOpacity:0,lineWidth:2},line:{stroke:i,lineWidth:2,fill:null},edge:{stroke:i,lineWidth:1,fill:null},schema:{stroke:i,lineWidth:1,fill:null}},guide:{line:{lineStyle:{stroke:"rgba(0, 0, 0, .65)",lineDash:[2,2],lineWidth:1},text:{position:"start",autoRotate:!0,style:{fill:"rgba(0, 0, 0, .45)",fontSize:12,textAlign:"start",fontFamily:a,textBaseline:"bottom"}}},text:{style:{fill:"rgba(0,0,0,.5)",fontSize:12,textBaseline:"middle",textAlign:"start",fontFamily:a}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}},html:{alignX:"middle",alignY:"middle"},dataRegion:{style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}},dataMarker:{top:!0,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"rgba(0, 0, 0, .65)",opacity:1,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0}},pixelRatio:null};t.exports=o},function(t,e,n){var r=n(546).Group,i=n(508),a=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.getDefaultCfg=function(){return{zIndex:1,type:"line",lineStyle:null,items:null,alternateColor:null,matrix:null,hideFirstLine:!1,hideLastLine:!1,hightLightZero:!1,zeroLineStyle:{stroke:"#595959",lineDash:[0,0]}}},a._renderUI=function(){t.prototype._renderUI.call(this),this._drawLines()},a._drawLines=function(){var t=this.get("lineStyle"),e=this.get("items");e&&e.length&&(this._precessItems(e),this._drawGridLines(e,t))},a._precessItems=function(t){var e,n=this;i.each(t,function(t,r){e&&n.get("alternateColor")&&n._drawAlternativeBg(t,e,r),e=t})},a._drawGridLines=function(t,e){var n,r,a,o,s=this,u=this.get("type"),c=t.length;"line"===u||"polygon"===u?i.each(t,function(t,l){s.get("hideFirstLine")&&0===l||s.get("hideLastLine")&&l===c-1||(o=t.points,r=[],"line"===u?(r.push(["M",o[0].x,o[0].y]),r.push(["L",o[o.length-1].x,o[o.length-1].y])):i.each(o,function(t,e){0===e?r.push(["M",t.x,t.y]):r.push(["L",t.x,t.y])}),a=s._drawZeroLine(u,l)?i.mix({},s.get("zeroLineStyle"),{path:r}):i.mix({},e,{path:r}),(n=s.addShape("path",{attrs:a})).name="axis-grid",n._id=t._id,n.set("coord",s.get("coord")),s.get("appendInfo")&&n.setSilent("appendInfo",s.get("appendInfo")))}):i.each(t,function(t,u){s.get("hideFirstLine")&&0===u||s.get("hideLastLine")&&u===c-1||(o=t.points,r=[],i.each(o,function(t,e){var n=t.radius;0===e?r.push(["M",t.x,t.y]):r.push(["A",n,n,0,0,t.flag,t.x,t.y])}),a=i.mix({},e,{path:r}),(n=s.addShape("path",{attrs:a})).name="axis-grid",n._id=t._id,n.set("coord",s.get("coord")),s.get("appendInfo")&&n.setSilent("appendInfo",s.get("appendInfo")))})},a._drawZeroLine=function(t,e){var n=this.get("tickValues");return!("line"!==t||!n||0!==n[e]||!this.get("hightLightZero"))},a._drawAlternativeBg=function(t,e,n){var r,a,o,s=this.get("alternateColor");i.isString(s)?a=s:i.isArray(s)&&(a=s[0],o=s[1]),n%2==0?o&&(r=this._getBackItem(e.points,t.points,o)):a&&(r=this._getBackItem(e.points,t.points,a));var u=this.addShape("Path",{attrs:r});u.name="axis-grid-rect",u._id=t._id&&t._id.replace("grid","grid-rect"),u.set("coord",this.get("coord")),this.get("appendInfo")&&u.setSilent("appendInfo",this.get("appendInfo"))},a._getBackItem=function(t,e,n){var r=[],a=this.get("type");if("line"===a)r.push(["M",t[0].x,t[0].y]),r.push(["L",t[t.length-1].x,t[t.length-1].y]),r.push(["L",e[e.length-1].x,e[e.length-1].y]),r.push(["L",e[0].x,e[0].y]),r.push(["Z"]);else if("polygon"===a){i.each(t,function(t,e){0===e?r.push(["M",t.x,t.y]):r.push(["L",t.x,t.y])});for(var o=e.length-1;o>=0;o--)r.push(["L",e[o].x,e[o].y]);r.push(["Z"])}else{var s=t[0].flag;i.each(t,function(t,e){var n=t.radius;0===e?r.push(["M",t.x,t.y]):r.push(["A",n,n,0,0,t.flag,t.x,t.y])});for(var u=e.length-1;u>=0;u--){var c=e[u],l=c.radius;u===e.length-1?r.push(["M",c.x,c.y]):r.push(["A",l,l,0,0,1===s?0:1,c.x,c.y])}}return{fill:n,path:r}},r}(r);t.exports=a},function(t,e,n){var r=n(508),i=r.DomUtil,a=n(553),o={scatter:n(932),map:n(933),treemap:n(934)},s=function(t){var e,n;function a(){return t.apply(this,arguments)||this}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=a.prototype;return s.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"label",type:"default",textStyle:null,formatter:null,items:null,useHtml:!1,containerTpl:'<div class="g-labels" style="position:absolute;top:0;left:0;"></div>',itemTpl:'<div class="g-label" style="position:absolute;">{text}</div>',labelLine:!1,lineGroup:null,shapes:null})},s.clear=function(){var e=this.get("group"),n=this.get("container");e&&!e.get("destroyed")&&e.clear(),n&&(n.innerHTML=""),t.prototype.clear.call(this)},s.destroy=function(){var t=this.get("group"),e=this.get("container");t.destroy||t.destroy(),e&&(e.innerHTML="")},s.render=function(){this.clear(),this._init(),this.beforeDraw(),this.draw(),this.afterDraw()},s._dryDraw=function(){var t=this,e=t.get("items"),n=t.getLabels(),i=n.length;r.each(e,function(e,r){if(r<i){var a=n[r];t.changeLabel(a,e)}else{var o=t._addLabel(e,r);o&&(o._id=e._id,o.set("coord",e.coord))}});for(var a=i-1;a>=e.length;a--)n[a].remove();t._adjustLabels(),(t.get("labelLine")||e&&e.length&&e[0].labelLine)&&t.drawLines()},s.draw=function(){this._dryDraw(),this.get("canvas").draw()},s.changeLabel=function(t,e){if(t)if(this.get("useHtml")){var n=this._createDom(e);t.innerHTML=n.innerHTML,this._setCustomPosition(e,t)}else if(t._id=e._id,t.attr("text",e.text),t.attr("x")!==e.x||t.attr("y")!==e.y){var r=t.get("attrs").rotate;r?(t.rotateAtStart(-r),t.attr(e),t.rotateAtStart(r)):t.attr(e)}},s.show=function(){var t=this.get("group"),e=this.get("container");t&&t.show(),e&&(e.style.opacity=1)},s.hide=function(){var t=this.get("group"),e=this.get("container");t&&t.hide(),e&&(e.style.opacity=0)},s.drawLines=function(){var t=this;"boolean"==typeof t.get("labelLine")&&t.set("labelLine",{});var e=t.get("lineGroup");!e||e.get("destroyed")?(e=t.get("group").addGroup({elCls:"x-line-group"}),t.set("lineGroup",e)):e.clear(),r.each(t.get("items"),function(n){t.lineToLabel(n,e)})},s.lineToLabel=function(t,e){var n=t.labelLine||this.get("labelLine"),i=n.path;if(i&&r.isFunction(n.path)&&(i=n.path(t)),!i){var a={x:t.x-t._offset.x,y:t.y-t._offset.y};i=[["M",a.x,a.y],["L",t.x,t.y]]}var o=e.addShape("path",{attrs:r.mix({path:i,fill:null,stroke:t.color||"#000"},n)});o.name="labelLine",o._id=t._id&&t._id.replace("glabel","glabelline"),o.set("coord",this.get("coord"))},s._adjustLabels=function(){var t=this.get("type"),e=this.getLabels(),n=this.get("shapes"),r=o[t];"default"!==t&&r&&r(e,n)},s.getLabels=function(){var t=this.get("container");return t?r.toArray(t.childNodes):this.get("group").get("children")},s._addLabel=function(t,e){var n=this._getLabelCfg(t,e);return this._createText(n)},s._getLabelCfg=function(t,e){var n=this.get("textStyle")||{},i=this.get("formatter"),a=this.get("htmlTemplate");if(t._offset&&t.textStyle)return t.textStyle=r.mix({},n,t.textStyle),t;if(!r.isObject(t)){var o=t;(t={}).text=o}return r.isFunction(n)&&(n=n(t.text,t,e)),i&&(t.text=i(t.text,t,e)),r.isFunction(a)&&(t.text=a(t.text,t,e)),r.isNil(t.text)&&(t.text=""),t.text=t.text+"",r.mix({},t,n,{x:t.x||0,y:t.y||0})},s._init=function(){if(!this.get("group")){var t=this.get("canvas").addGroup({id:"label-group"});this.set("group",t)}},s.initHtmlContainer=function(){var t=this.get("container");if(t)r.isString(t)&&(t=document.getElementById(t))&&this.set("container",t);else{var e=this.get("containerTpl"),n=this.get("canvas").get("el").parentNode;t=i.createDom(e),n.style.position="relative",n.appendChild(t),this.set("container",t)}return t},s._createText=function(t){var e,n=this.get("container");if(!t.useHtml){var i=t.point,a=this.get("group");delete t.point;var o=t.rotate;return t.textStyle&&(t=r.mix({x:t.x,y:t.y,textAlign:t.textAlign,text:t.text},t.textStyle)),e=a.addShape("text",{attrs:t}),o&&e.transform([["t",-t.x,-t.y],["r",o],["t",t.x,t.y]]),e.setSilent("origin",i||t),e.name="label",this.get("appendInfo")&&e.setSilent("appendInfo",this.get("appendInfo")),e}n||(n=this.initHtmlContainer());var s=this._createDom(t);n.appendChild(s),this._setCustomPosition(t,s)},s._createDom=function(t){var e=this.get("itemTpl"),n=r.substitute(e,{text:t.text});return i.createDom(n)},s._setCustomPosition=function(t,e){var n=t.textAlign||"left",r=t.y,a=t.x,o=i.getOuterWidth(e);r-=i.getOuterHeight(e)/2,"center"===n?a-=o/2:"right"===n&&(a-=o),e.style.top=parseInt(r,10)+"px",e.style.left=parseInt(a,10)+"px"},a}(a);t.exports=s},function(t,e){var n=function(){function t(){this.bitmap=[]}var e=t.prototype;return e.hasGap=function(t){for(var e=!0,n=this.bitmap,r=Math.floor(t.minX),i=Math.ceil(t.maxX),a=Math.floor(t.minY),o=Math.ceil(t.maxY)-1,s=r;s<i;s++)if(n[s]){if(s===r||s===i-1){for(var u=a;u<=o;u++)if(n[s][u]){e=!1;break}}else if(n[s][a]||n[s][o]){e=!1;break}}else n[s]=[];return e},e.fillGap=function(t){for(var e=this.bitmap,n=Math.floor(t.minX),r=Math.ceil(t.maxX)-1,i=Math.floor(t.minY),a=Math.ceil(t.maxY)-1,o=n;o<=r;o++){for(var s=i;s<a;s+=8)e[o]||(e[o]=[]),e[o][s]=!0;e[o][a]=!0}for(var u=i;u<=a;u++)e[n][u]=!0,e[r][u]=!0},t}();t.exports=n},function(t,e,n){var r=n(508);t.exports={getFirstScale:function(t){var e;return r.each(t,function(t){if(t)return e=t,!1}),e}}},function(t,e,n){var r=n(508),i=n(721),a=r.Event,o=r.Group;function s(t,e){var n=null,i=e instanceof o||"legendGroup"===e.name?e.get("value"):e;return r.each(t,function(t){if(t.value===i)return n=t,!1}),n}function u(t,e){return t.findBy(function(t){return t.name===e})}var c=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"category-legend",items:null,itemGap:5,itemMarginBottom:8,itemsGroup:null,layout:"horizontal",allowAllCanceled:!1,backPadding:[0,0,0,0],unCheckColor:"#ccc",background:{fill:"#fff",fillOpacity:0},itemWidth:null,textStyle:{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:'"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'},_wordSpaceing:8,clickable:!0,selectedMode:"multiple",reversed:!1,autoWrap:!0,highlight:!1})},o.render=function(){t.prototype.render.call(this),this._renderItems(),this.get("autoWrap")&&this._adjustItems()},o._bindEvents=function(){this.get("hoverable")&&(this.get("group").on("mousemove",r.wrapBehavior(this,"_onMousemove")),this.get("group").on("mouseleave",r.wrapBehavior(this,"_onMouseleave"))),this.get("clickable")&&this.get("group").on("click",r.wrapBehavior(this,"_onClick"))},o._getLegendItem=function(t){var e=t.get("parent");return e&&"legendGroup"===e.name?e:null},o.activate=function(t){var e=this,n=void 0;this.get("itemsGroup").get("children").forEach(function(r){if(n=u(r,"legend-marker")){var i=r.get("checked");e.get("highlight")?r.get("value")===t&&i?n.attr("stroke","#333"):n.attr("stroke",null):r.get("value")===t?n.attr("fillOpacity",.5):n.attr("fillOpacity",1)}}),this.get("canvas").draw()},o.unactivate=function(){var t=this,e=this.get("itemsGroup").get("children"),n=void 0,r=this.get("unCheckColor");e.forEach(function(e){if(n=u(e,"legend-marker"))if(t.get("highlight")){var i=n.get("oriStroke"),a=e.get("checked");i=i&&!a?r:"",n.attr("stroke",i)}else n.attr("fillOpacity",1)}),this.get("canvas").draw()},o._onMousemove=function(t){var e=this._getLegendItem(t.currentTarget);if(e&&e.get("checked")){var n=this.get("items"),r=new a("itemhover",t,!0,!0);r.item=s(n,e),r.checked=e.get("checked"),r.currentTarget=t.currentTarget,this.unactivate(),this.activate(e.get("value")),this.emit("itemhover",r)}else this.unactivate(),this.emit("itemunhover",t);this.get("canvas").draw()},o._onMouseleave=function(t){this.unactivate(),this.get("canvas").draw(),this.emit("itemunhover",t)},o._onClick=function(t){var e=this._getLegendItem(t.currentTarget),n=this.get("items");if(e&&!e.get("destroyed")){var i=e.get("checked"),o=this.get("selectedMode"),c=s(n,e),l=new a("itemclick",t,!0,!0);if(l.item=c,l.currentTarget=e,l.appendInfo=t.currentTarget.get("appendInfo"),l.checked="single"===o||!i,!this.get("allowAllCanceled")&&i&&1===this.getCheckedCount())return void this.emit("clicklastitem",l);var h=this.get("unCheckColor"),f=this.get("textStyle").fill,p=void 0,d=void 0,g=void 0;if("single"===o){var v=this.get("itemsGroup").get("children");r.each(v,function(t){p=u(t,"legend-marker"),d=u(t,"legend-text"),g=u(t,"legend-item"),t!==e?(p.attr("fill")&&p.attr("fill",h),p.attr("stroke")&&p.attr("stroke",h),d.attr("fill",h),p.setSilent("checked",!1),d.setSilent("checked",!1),g.setSilent("checked",!1),t.setSilent("checked",!1)):(p.attr("fill")&&c&&c.marker&&p.attr("fill",c.marker.fill),p.attr("stroke")&&c&&c.marker&&p.attr("stroke",c.marker.stroke),d.attr("fill",f),p.setSilent("checked",!0),d.setSilent("checked",!0),g.setSilent("checked",!0),t.setSilent("checked",!0))})}else p=u(e,"legend-marker"),d=u(e,"legend-text"),g=u(e,"legend-item"),p.attr("fill")&&c&&c.marker&&p.attr("fill",i?h:c.marker.fill),p.attr("stroke")&&c&&c.marker&&p.attr("stroke",i?h:c.marker.stroke),d.attr("fill",i?h:f),e.setSilent("checked",!i),p.setSilent("checked",!i),d.setSilent("checked",!i),g.setSilent("checked",!i);this.emit("itemclick",l)}this.get("canvas").draw()},o._renderItems=function(){var t=this,e=this.get("items");if(this.get("reversed")&&e.reverse(),r.each(e,function(e,n){t._addItem(e,n)}),this.get("highlight")){var n=void 0;this.get("itemsGroup").get("children").forEach(function(t){(n=u(t,"legend-marker")).get("oriStroke")||(n.attr("stroke")?n.set("oriStroke",n.attr("stroke")):n.set("oriStroke",""))})}},o._formatItemValue=function(t){var e=this.get("formatter")||this.get("itemFormatter");return e&&(t=e.call(this,t)),t},o._getNextX=function(){var t=this.get("layout"),e=this.get("itemGap"),n=this.get("itemsGroup"),i=this.get("itemWidth"),a=n.get("children"),o=0;return"horizontal"===t&&r.each(a,function(t){o+=(i||t.getBBox().width)+e}),o},o._getNextY=function(){var t=this.get("itemMarginBottom"),e=this.get("titleShape")?this.get("titleGap"):0,n=this.get("layout"),i=this.get("itemsGroup"),a=this.get("titleShape"),o=i.get("children"),s=e;return a&&(s+=a.getBBox().height),"vertical"===n&&r.each(o,function(e){s+=e.getBBox().height+t}),s},o._addItem=function(t){var e=this.get("itemsGroup"),n=this._getNextX(),i=this._getNextY(),a=this.get("unCheckColor"),o=e.addGroup({x:n,y:i,value:t.value,checked:t.checked});o.set("viewId",this.get("viewId"));var s=this.get("textStyle"),u=this.get("_wordSpaceing"),c=0;if(t.marker){var l=r.mix({},t.marker,{x:t.marker.radius+n,y:i});t.checked||(l.fill&&(l.fill=a),l.stroke&&(l.stroke=a));var h=o.addShape("marker",{type:"marker",attrs:l});h.attr("cursor","pointer"),h.name="legend-marker",c+=h.getBBox().width+u}var f=r.mix({},{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:'"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'},s,{x:c+n,y:i,text:this._formatItemValue(t.value)});t.checked||r.mix(f,{fill:a});var p=o.addShape("text",{attrs:f});p.attr("cursor","pointer"),p.name="legend-text",this.get("appendInfo")&&p.setSilent("appendInfo",this.get("appendInfo"));var d=o.getBBox(),g=this.get("itemWidth"),v=o.addShape("rect",{attrs:{x:n,y:i-d.height/2,fill:"#fff",fillOpacity:0,width:g||d.width,height:d.height}});return v.attr("cursor","pointer"),v.setSilent("origin",t),v.name="legend-item",this.get("appendInfo")&&v.setSilent("appendInfo",this.get("appendInfo")),o.name="legendGroup",o},o._adjustHorizontal=function(){var t=this.get("itemsGroup"),e=t.get("children"),n=this.get("maxLength"),i=this.get("itemGap"),a=this.get("itemMarginBottom"),o=this.get("titleShape")?this.get("titleGap"):0,s=0,u=0,c=void 0,l=void 0,h=void 0,f=this.get("itemWidth");t.getBBox().width>n&&r.each(e,function(t){h=t.getBBox(),c=f||h.width,l=h.height+a,n-u<c&&(s++,u=0),t.move(u,s*l+o),u+=c+i})},o._adjustVertical=function(){var t=this.get("itemsGroup"),e=this.get("titleShape"),n=t.get("children"),i=this.get("maxLength"),a=this.get("itemGap"),o=this.get("itemMarginBottom"),s=this.get("titleGap"),u=e?e.getBBox().height+s:0,c=this.get("itemWidth"),l=u,h=void 0,f=void 0,p=void 0,d=0,g=0;t.getBBox().height>i&&r.each(n,function(t){p=t.getBBox(),h=p.width,f=p.height,c?d=c+a:h>d&&(d=h+a),i-l<f?(l=u,g+=d,t.move(g,u)):t.move(g,l),l+=f+o})},o._adjustItems=function(){"horizontal"===this.get("layout")?this._adjustHorizontal():this._adjustVertical()},o.getWidth=function(){return t.prototype.getWidth.call(this)},o.getHeight=function(){return t.prototype.getHeight.call(this)},o.move=function(e,n){t.prototype.move.call(this,e,n)},i}(i);t.exports=c},function(t,e,n){var r=n(508),i=function(t){var e,n;n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=a.prototype;function a(e){var n;return(n=t.call(this,e)||this)._init(),n.beforeRender(),n.render(),n._adjustPositionOffset(),n._bindEvents(),n}return i.getDefaultCfg=function(){return{container:null,title:null,formatter:null,hoverable:!0,titleGap:15,position:[0,0],offset:[0,0],offsetX:null,offsetY:null}},i._init=function(){var t=this.get("group"),e=this.get("container");this.set("canvas",e.get("canvas"));var n=this.get("position");t||(t=e.addGroup({x:0-n[0],y:0-n[1]})),this.set("group",t)},i._adjustPositionOffset=function(){var t=this.get("position"),e=this.get("offset"),n=this.get("offsetX"),i=this.get("offsetY");r.isArray(e)||(e="vertical"===this.get("layout")?[e,0]:[0,e]);n&&(e[0]=n),i&&(e[1]=i);var a=this.get("group").getBBox();this.move(-a.minX+t[0]+e[0],-a.minY+t[1]+e[1])},i.beforeRender=function(){var t=this.get("group").addGroup();this.set("itemsGroup",t)},i.render=function(){this._renderTitle()},i._renderTitle=function(){var t=this.get("title"),e=this.get("titleGap");if(e=e||0,t&&t.text){var n=this.get("group").addShape("text",{attrs:r.mix({x:0,y:0-e,fill:"#333",textBaseline:"middle",fontFamily:'"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'},t)});n.name="legend-title",this.get("appendInfo")&&n.setSilent("appendInfo",this.get("appendInfo")),this.set("titleShape",n)}},i.getCheckedCount=function(){var t=this.get("itemsGroup").get("children");return r.filter(t,function(t){return t.get("checked")}).length},i.setItems=function(t){this.set("items",t),this.clear(),this.render()},i.addItem=function(t){this.get("items").push(t),this.clear(),this.render()},i.clear=function(){this.get("itemsGroup").clear(),this.get("group").clear(),this.beforeRender()},i.destroy=function(){this.get("group").destroy(),this._attrs={},this.removeAllListeners(),this.destroyed=!0},i.getWidth=function(){return this.get("group").getBBox().width},i.getHeight=function(){return this.get("group").getBBox().height},i.move=function(t,e){this.get("group").move(t,e)},i.draw=function(){this.get("canvas").draw()},a}(n(553));t.exports=i},function(t,e,n){var r=n(508),i=n(720),a=r.DomUtil,o=r.Group,s="g2-legend",u="g2-legend-title",c="g2-legend-list",l="g2-legend-list-item",h="g2-legend-text",f="g2-legend-marker";function p(t,e){return t.getElementsByClassName(e)[0]}function d(t,e){var n=t.className;return r.isNil(n)?t:(n=n.split(" ")).indexOf(e)>-1?t:t.parentNode?t.parentNode.className===s?t.parentNode:d(t.parentNode,e):null}function g(t,e){var n=null,i=e instanceof o?e.get("value"):e;return r.each(t,function(t){if(t.value===i)return n=t,!1}),n}var v=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"category-legend",container:null,containerTpl:'<div class="'+s+'"><h4 class="'+u+'"></h4><ul class="'+c+'"></ul></div>',itemTpl:'<li class="'+l+' item-{index} {checked}" data-color="{originColor}" data-value="{originValue}"><i class="'+f+'" style="background-color:{color};"></i><span class="'+h+'">{value}</span></li>',legendStyle:{},textStyle:{fill:"#333",fontSize:12,textAlign:"middle",textBaseline:"top",fontFamily:'"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'},abridgeText:!1,tipTpl:'<div class="textTip"></div>',tipStyle:{display:"none",fontSize:"12px",backgroundColor:"#fff",position:"absolute",width:"auto",height:"auto",padding:"3px",boxShadow:"2px 2px 5px #888"},autoPosition:!0})},o._init=function(){},o.beforeRender=function(){},o.render=function(){this._renderHTML()},o._bindEvents=function(){var t=this,e=p(this.get("legendWrapper"),c);this.get("hoverable")&&(e.onmousemove=function(e){return t._onMousemove(e)},e.onmouseout=function(e){return t._onMouseleave(e)}),this.get("clickable")&&(e.onclick=function(e){return t._onClick(e)})},o._onMousemove=function(t){var e=this.get("items"),n=t.target,r=n.className;if(!((r=r.split(" ")).indexOf(s)>-1||r.indexOf(c)>-1)){var i=d(n,l),a=g(e,i.getAttribute("data-value"));a?(this.unactivate(),this.activate(i.getAttribute("data-value")),this.emit("itemhover",{item:a,currentTarget:i,checked:a.checked})):a||(this.unactivate(),this.emit("itemunhover",t))}},o._onMouseleave=function(t){this.unactivate(),this.emit("itemunhover",t)},o._onClick=function(t){var e=this,n=p(this.get("legendWrapper"),c),i=this.get("unCheckColor"),a=this.get("items"),o=this.get("selectedMode"),u=n.childNodes,v=t.target,y=v.className;if(!((y=y.split(" ")).indexOf(s)>-1||y.indexOf(c)>-1)){var m=d(v,l),x=p(m,h),_=p(m,f),w=g(a,m.getAttribute("data-value"));if(w){var b=m.className,M=m.getAttribute("data-color");if("single"===o)w.checked=!0,r.each(u,function(t){t!==m?(p(t,f).style.backgroundColor=i,t.className=t.className.replace("checked","unChecked"),t.style.color=i,g(a,t.getAttribute("data-value")).checked=!1):(x&&(x.style.color=e.get("textStyle").fill),_&&(_.style.backgroundColor=M),m.className=b.replace("unChecked","checked"))});else{var S=-1!==b.indexOf("checked"),E=0;if(r.each(u,function(t){-1!==t.className.indexOf("checked")&&E++}),!this.get("allowAllCanceled")&&S&&1===E)return void this.emit("clicklastitem",{item:w,currentTarget:m,checked:"single"===o||w.checked});w.checked=!w.checked,S?(_&&(_.style.backgroundColor=i),m.className=b.replace("checked","unChecked"),m.style.color=i):(_&&(_.style.backgroundColor=M),m.className=b.replace("unChecked","checked"),m.style.color=this.get("textStyle").fill)}this.emit("itemclick",{item:w,currentTarget:m,checked:"single"===o||w.checked})}}},o.activate=function(t){var e=this,n=this.get("items"),r=g(n,t);p(this.get("legendWrapper"),c).childNodes.forEach(function(t){var i=p(t,f),a=g(n,t.getAttribute("data-value"));if(e.get("highlight")){if(a===r&&a.checked)return void(i.style.border="1px solid #333")}else a===r?i.style.opacity=1:a.checked&&(i.style.opacity=.5)})},o.unactivate=function(){var t=this;p(this.get("legendWrapper"),c).childNodes.forEach(function(e){var n=p(e,f);t.get("highlight")?n.style.border="1px solid #fff":n.style.opacity=1})},o._renderHTML=function(){var t=this,e=this.get("container"),n=this.get("title"),i=this.get("containerTpl"),o=a.createDom(i),d=p(o,u),g=p(o,c),v=this.get("unCheckColor"),y=r.deepMix({},{CONTAINER_CLASS:{height:"auto",width:"auto",position:"absolute",overflowY:"auto",fontSize:"12px",fontFamily:this.fontFamily,lineHeight:"20px",color:"#8C8C8C"},TITLE_CLASS:{marginBottom:this.get("titleGap")+"px",fontSize:"12px",color:"#333",textBaseline:"middle",fontFamily:this.fontFamily},LIST_CLASS:{listStyleType:"none",margin:0,padding:0,textAlign:"center"},LIST_ITEM_CLASS:{cursor:"pointer",marginBottom:"5px",marginRight:"24px"},MARKER_CLASS:{width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"4px",verticalAlign:"middle"}},this.get("legendStyle"));if(/^\#/.test(e)||"string"==typeof e&&e.constructor===String){var m=e.replace("#","");(e=document.getElementById(m)).appendChild(o)}else{var x=this.get("position"),_={};_="left"===x||"right"===x?{maxHeight:(this.get("maxLength")||e.offsetHeight)+"px"}:{maxWidth:(this.get("maxLength")||e.offsetWidth)+"px"},a.modifyCSS(o,r.mix({},y.CONTAINER_CLASS,_,this.get(s))),e.appendChild(o)}a.modifyCSS(g,r.mix({},y.LIST_CLASS,this.get(c))),d&&(n&&n.text?(d.innerHTML=n.text,a.modifyCSS(d,r.mix({},y.TITLE_CLASS,this.get(u),n))):o.removeChild(d));var w=this.get("items"),b=this.get("itemTpl"),M=this.get("position"),S=this.get("layout"),E="right"===M||"left"===M||"vertical"===S?"block":"inline-block",C=r.mix({},y.LIST_ITEM_CLASS,{display:E},this.get(l)),k=r.mix({},y.MARKER_CLASS,this.get(f));if(r.each(w,function(e,n){var i,s=e.checked,u=t._formatItemValue(e.value),c=e.marker.fill||e.marker.stroke,l=s?c:v;i=r.isFunction(b)?b(u,l,s,n):b;var d=r.substitute(i,r.mix({},e,{index:n,checked:s?"checked":"unChecked",value:u,color:l,originColor:c,originValue:e.value.replace(/\"/g,"&quot;")})),y=a.createDom(d);y.style.color=t.get("textStyle").fill;var m=p(y,f),x=p(y,h);if(a.modifyCSS(y,C),m&&a.modifyCSS(m,k),s||(y.style.color=v,m&&(m.style.backgroundColor=v)),g.appendChild(y),t.get("abridgeText")){var _=u,w=y.offsetWidth,M=t.get("textStyle").fontSize;isNaN(M)&&(-1!==M.indexOf("pt")?M=1*parseFloat(M.substr(0,M.length-2))/72*96:-1!==M.indexOf("px")&&(M=parseFloat(M.substr(0,M.length-2))));var S=M*_.length,E=Math.floor(w/M);w<2*M?_="":w<S&&E>1&&(_=_.substr(0,E-1)+"..."),x.innerText=_,y.addEventListener("mouseover",function(){var t=p(o.parentNode,"textTip");t.style.display="block",t.style.left=y.offsetLeft+y.offsetWidth+"px",t.style.top=y.offsetTop+15+"px",t.innerText=u}),y.addEventListener("mouseout",function(){p(o.parentNode,"textTip").style.display="none"})}}),this.get("abridgeText")){var P=this.get("tipTpl"),T=a.createDom(P),A=this.get("tipStyle");a.modifyCSS(T,A),o.parentNode.appendChild(T),T.addEventListener("mouseover",function(){T.style.display="none"})}this.set("legendWrapper",o)},o._adjustPositionOffset=function(){var t=this.get("position"),e=this.get("offset"),n=this.get("offsetX"),r=this.get("offsetY");n&&(e[0]=n),r&&(e[1]=r);var i=this.get("legendWrapper");i.style.left=t[0]+"px",i.style.top=t[1]+"px",i.style.marginLeft=e[0]+"px",i.style.marginTop=e[1]+"px"},o.getWidth=function(){return a.getOuterWidth(this.get("legendWrapper"))},o.getHeight=function(){return a.getOuterHeight(this.get("legendWrapper"))},o.move=function(e,n){/^\#/.test(this.get("container"))?t.prototype.move.call(this,e,n):(a.modifyCSS(this.get("legendWrapper"),{left:e+"px",top:n+"px"}),this.set("x",e),this.set("y",n))},o.destroy=function(){var t=this.get("legendWrapper");t&&t.parentNode&&t.parentNode.removeChild(t)},i}(i);t.exports=v},function(t,e,n){var r=n(553),i=n(508),a=function(t){var e,n;n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=a.prototype;function a(e){var n;return(n=t.call(this,e)||this)._init_(),n.render(),n}return r.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{type:null,plot:null,plotRange:null,rectStyle:{fill:"#CCD6EC",opacity:.3},lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},isTransposed:!1})},r._init_=function(){var t,e=this.get("plot");t="rect"===this.type?e.addGroup({zIndex:0}):e.addGroup(),this.set("container",t)},r._addLineShape=function(t,e){var n=this.get("container").addShape("line",{capture:!1,attrs:t});return this.set("crossLineShape"+e,n),n},r._renderHorizontalLine=function(t,e){var n=this.get("lineStyle"),r=i.mix({x1:e?e.bl.x:t.get("width"),y1:0,x2:e?e.br.x:0,y2:0},n);this._addLineShape(r,"X")},r._renderVerticalLine=function(t,e){var n=this.get("lineStyle"),r=i.mix({x1:0,y1:e?e.bl.y:t.get("height"),x2:0,y2:e?e.tl.y:0},n);this._addLineShape(r,"Y")},r._renderBackground=function(t,e){var n=this.get("rectStyle"),r=this.get("container"),a=i.mix({x:e?e.tl.x:0,y:e?e.tl.y:t.get("height"),width:e?e.br.x-e.bl.x:t.get("width"),height:e?Math.abs(e.tl.y-e.bl.y):t.get("height")},n),o=r.addShape("rect",{attrs:a,capture:!1});return this.set("crosshairsRectShape",o),o},r._updateRectShape=function(t){var e,n=this.get("crosshairsRectShape"),r=this.get("isTransposed"),a=t[0],o=t[t.length-1],s=r?"y":"x",u=r?"height":"width",c=a[s];if(t.length>1&&a[s]>o[s]&&(c=o[s]),this.get("width"))n.attr(s,c-this.get("crosshairs").width/2),n.attr(u,this.get("width"));else if(i.isArray(a.point[s])&&!a.size){var l=a.point[s][1]-a.point[s][0];n.attr(s,a.point[s][0]),n.attr(u,l)}else e=3*a.size/4,n.attr(s,c-e),1===t.length?n.attr(u,3*a.size/2):n.attr(u,Math.abs(o[s]-a[s])+2*e)},r.render=function(){var t=this.get("canvas"),e=this.get("plotRange"),n=this.get("isTransposed");switch(this.clear(),this.get("type")){case"x":this._renderHorizontalLine(t,e);break;case"y":this._renderVerticalLine(t,e);break;case"cross":this._renderHorizontalLine(t,e),this._renderVerticalLine(t,e);break;case"rect":this._renderBackground(t,e);break;default:n?this._renderHorizontalLine(t,e):this._renderVerticalLine(t,e)}},r.show=function(){var e=this.get("container");t.prototype.show.call(this),e.show()},r.hide=function(){var e=this.get("container");t.prototype.hide.call(this),e.hide()},r.clear=function(){var e=this.get("container");this.set("crossLineShapeX",null),this.set("crossLineShapeY",null),this.set("crosshairsRectShape",null),t.prototype.clear.call(this),e.clear()},r.destroy=function(){var e=this.get("container");t.prototype.destroy.call(this),e.remove()},r.setPosition=function(t,e,n){var r=this.get("crossLineShapeX"),i=this.get("crossLineShapeY"),a=this.get("crosshairsRectShape");i&&i.move(t,0),r&&r.move(0,e),a&&this._updateRectShape(n)},a}(r);t.exports=a},function(t,e){var n={_calcTooltipPosition:function(t,e,n,r,i,a){var o=0,s=0,u=20;if(a){var c=a.getBBox();o=c.width,s=c.height,t=c.x,e=c.y,u=5}switch(n){case"inside":t=t+o/2-r/2,e=e+s/2-i/2;break;case"top":t=t+o/2-r/2,e=e-i-u;break;case"left":t=t-r-u,e=e+s/2-i/2;break;case"right":t=t+o+u,e=e+s/2-i/2;break;case"bottom":default:t=t+o/2-r/2,e=e+s+u}return[t,e]},_constraintPositionInBoundary:function(t,e,n,r,i,a){return t+n+20>i?t=(t-=n+20)<0?0:t:t+20<0?t=20:t+=20,e+r+20>a?e=(e-=r+20)<0?0:e:e+20<0?e=20:e+=20,[t,e]},_constraintPositionInPlot:function(t,e,n,r,i,a){return t+n>i.tr.x&&(t-=n+40),t<i.tl.x&&(t=i.tl.x),a||(e+r>i.bl.y&&(e-=r+40),e<i.tl.y&&(e=i.tl.y)),[t,e]}};t.exports=n},function(t,e,n){var r=n(508),i={setMarkers:function(t,e){var n=this.get("markerGroup"),i=this.get("frontPlot");n?n.clear():(n=i.addGroup({zIndex:1,capture:!1}),this.set("markerGroup",n)),r.each(t,function(t){n.addShape("marker",{color:t.color,attrs:r.mix({fill:t.color,symbol:"circle",shadowColor:t.color},e,{x:t.x,y:t.y})})}),this.set("markerItems",t)},clearMarkers:function(){var t=this.get("markerGroup");t&&t.clear()}};t.exports=i},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=n(546),a=n(723),o=n(725),s=n(724),u=n(617),c=n(508),l=c.DomUtil,h=c.MatrixUtil,f=function(t){var e,n;n=t,(e=f).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=f.prototype;function f(e){var n;n=t.call(this,e)||this,c.assign(r(r(n)),s),c.assign(r(r(n)),o);var i=n.get("crosshairs");if(i){var u="rect"===i.type?n.get("backPlot"):n.get("frontPlot"),l=new a(c.mix({plot:u,plotRange:n.get("plotRange"),canvas:n.get("canvas")},n.get("crosshairs")));l.hide(),n.set("crosshairGroup",l)}return n._init_(),n.get("items")&&n.render(),n}return u.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return c.mix({},e,{boardStyle:{x:0,y:0,width:100,height:100,fill:"rgba(255, 255, 255, 0.9)",radius:4,stroke:"#e2e2e2",lineWidth:1},titleStyle:{fontFamily:"PingFang SC",text:"",textBaseline:"top",fontSize:12,fill:"rgb(87, 87, 87)",lineHeight:20,padding:20},markerStyle:{radius:4},nameStyle:{fontFamily:"PingFang SC",fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:8},valueStyle:{fontFamily:"PingFang SC",fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:30},padding:{top:20,right:20,bottom:20,left:20},itemGap:10,animationDuration:200})},u._init_=function(){var t=this,e=t.get("padding"),n=t.get("frontPlot"),r=n.addGroup({capture:!1});t.set("markerGroup",r);var i=n.addGroup();i.hide(),t.set("container",i);var a=i.addShape("rect",{attrs:c.mix({},t.get("boardStyle"))});t.set("board",a);var o=t.get("titleStyle");if(t.get("showTitle")){var s=i.addShape("text",{attrs:c.mix({x:e.left,y:e.top},o)});t.set("titleShape",s),s.name="tooltip-title"}var u=i.addGroup();u.move(e.left,e.top+o.lineHeight+o.padding),t.set("itemsGroup",u)},u.render=function(){var t=this;t.clear();var e=t.get("container"),n=t.get("board"),r=t.get("showTitle"),i=t.get("titleContent"),a=this.get("titleShape"),o=this.get("itemsGroup"),s=t.get("items"),u=t.get("padding");if(a&&r&&a.attr("text",i),o){var l=t.get("itemGap"),h=0;c.each(s,function(e){var n=t._addItem(e);n.move(0,h),o.add(n);var r=n.getBBox().height;h+=r+l})}var f=e.getBBox(),p=f.width+u.right,d=f.height+u.bottom;n.attr("width",p),n.attr("height",d),t._alignToRight(p)},u.clear=function(){var t=this.get("titleShape"),e=this.get("itemsGroup"),n=this.get("board");t.text="",e.clear(),n.attr("width",0),n.attr("height",0)},u.show=function(){this.get("container").show();var e=this.get("crosshairGroup");e&&e.show();var n=this.get("markerGroup");n&&n.show(),t.prototype.show.call(this),this.get("canvas").draw()},u.hide=function(){this.get("container").hide();var e=this.get("crosshairGroup");e&&e.hide();var n=this.get("markerGroup");n&&n.hide(),t.prototype.hide.call(this),this.get("canvas").draw()},u.destroy=function(){var e=this.get("container"),n=this.get("crosshairGroup");n&&n.destroy();var r=this.get("markerGroup");r&&r.remove(),t.prototype.destroy.call(this),e.remove()},u.setPosition=function(e,n,r){var i,a=this.get("container"),o=this.get("canvas").get("el"),s=l.getWidth(o),u=l.getHeight(o),f=a.getBBox(),p=f.width,d=f.height,g=e,v=n;if(this.get("position")){var y=f.width,m=f.height;e=(i=this._calcTooltipPosition(e,n,this.get("position"),y,m,r))[0],n=i[1]}else e=(i=this._constraintPositionInBoundary(e,n,p,d,s,u))[0],n=i[1];if(this.get("inPlot")){var x=this.get("plotRange");e=(i=this._constraintPositionInPlot(e,n,p,d,x,this.get("enterable")))[0],n=i[1]}var _=this.get("markerItems");c.isEmpty(_)||(g=_[0].x,v=_[0].y);var w=h.transform([1,0,0,0,1,0,0,0,1],[["t",e,n]]);a.stopAnimate(),a.animate({matrix:w},this.get("animationDuration"));var b=this.get("crosshairGroup");if(b){var M=this.get("items");b.setPosition(g,v,M)}t.prototype.setPosition.call(this,e,n)},u._addItem=function(t){var e=new i.Group,n=this.get("markerStyle").radius;if(t.marker){var r=c.mix({},t.marker,{x:t.marker.radius/2,y:0});e.addShape("marker",{attrs:r}),n=t.marker.radius}var a=this.get("nameStyle");e.addShape("text",{attrs:c.mix({x:n+a.padding,y:0,text:t.name},a)});var o=this.get("valueStyle");return e.addShape("text",{attrs:c.mix({x:e.getBBox().width+o.padding,y:0,text:t.value},o)}),e},u._alignToRight=function(t){var e=this,n=this.get("itemsGroup").get("children");c.each(n,function(n){var r=n.get("children")[2],i=r.getBBox().width,a=t-i-2*e.get("padding").right;r.attr("x",a)})},f}(u);t.exports=f},function(t,e,n){var r=n(614),i=n(533),a=n(500),o=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getPointRauis=function(t,e){return i.getPointRadius(t,e)},o.getCirclePoint=function(t,e,n){var r=this.get("coord"),i=r.getCenter(),a=this._isEmitLabels(),o=this.getPointRauis(r,n);if(0===o)return null;if(r.isTransposed){if(o>e[0]&&!a){var s=Math.asin(e[1]/(2*o));o+=e[0],t+=2*s}}else t+=2*Math.asin(e[0]/(2*o)),o+=e[1];return{x:i.x+o*Math.cos(t),y:i.y+o*Math.sin(t),angle:t,r:o}},o.getArcPoint=function(t,e){var n;return e=e||0,n=a.isArray(t.x)||a.isArray(t.y)?{x:a.isArray(t.x)?t.x[e]:t.x,y:a.isArray(t.y)?t.y[e]:t.y}:t,this.transLabelPoint(n),n},o.getPointAngle=function(t){var e=this.get("coord");return i.getPointAngle(e,t)},o.getMiddlePoint=function(t){var e=this.get("coord"),n=t.length,r={x:0,y:0};return a.each(t,function(t){r.x+=t.x,r.y+=t.y}),r.x/=n,r.y/=n,r=e.convert(r)},o._isToMiddle=function(t){return t.x.length>2},o.getLabelPoint=function(t,e,n){var r,i=t.text[n],a=1;this._isToMiddle(e)?r=this.getMiddlePoint(e.points):(1===t.text.length&&0===n?n=1:0===n&&(a=-1),r=this.getArcPoint(e,n));var o=t.offset;o=[o[0]*a,o[1]*a],t._offset=o;var s=this.getPointAngle(r),u=this.getCirclePoint(s,o,r);return u?(u.text=i,u.angle=s,u.color=e.color):u={text:""},u.rotate=this.getLabelRotate(s,o,e),u},o._isEmitLabels=function(){return this.get("label").labelEmit},o.getLabelRotate=function(t){var e;return e=180*t/Math.PI,e+=90,this._isEmitLabels()&&(e-=90),e&&(e>90?e-=180:e<-90&&(e+=180)),e/180*Math.PI},o.getLabelAlign=function(t){var e,n=this.get("coord");if(this._isEmitLabels())e=t.angle<=Math.PI/2&&t.angle>-Math.PI/2?"left":"right";else if(n.isTransposed){var r=n.getCenter(),i=this.getDefaultOffset(t);e=Math.abs(t.x-r.x)<1?"center":t.angle>Math.PI||t.angle<=0?i>0?"left":"right":i>0?"right":"left"}else e="center";return e},r}(r);t.exports=o},function(t,e,n){t.exports={Scale:n(966),Coord:n(967),Axis:n(972),Guide:n(973),Legend:n(976),Tooltip:n(978),Event:n(979)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={COORD_FUNC_PROPS:["rotate","scale","reflect","transpose"],GEOM_FUNC_PROPS:["position","color","size","shape","opacity","tooltip","style","animate","active","select"]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(594)),a=n(619),o=c(n(729)),s=c(n(731)),u=c(n(618));function c(t){return t&&t.__esModule?t:{default:t}}function l(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function h(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var f=o.default.COORD_FUNC_PROPS,p=o.default.GEOM_FUNC_PROPS;e.default={createChart:function(t){var e=t.chart,n=new i.Chart(e.props);return e.g2Instance=n,n},executeChartConfig:function(t,e){var n=e.chart.props;t.coord("rect",{}),t.source(n.data,n.scale),(e.facet||n.axis)&&e.facet&&!1!==n.axis||t.axis(!1),t.legend(!1),t.tooltip(!1),n.filter&&n.filter.forEach(function(e){t.filter(e[0],e[1])}),s.default.bindEvents(t,s.default.chartEvents,n),s.default.bindBaseEvents(t,n)},coord:function(t,e){var n=e.coord;if(n&&!n.g2Instance){var r=n.props,i=r.type,o=h(r,["type"]),s=t.coord(i||"rect",a.Util.without(o,f));a.Prop.init(f,o,function(t,e){s[e].apply(s,l(t))}),n.g2Instance=s}},createLabel:function(t,e){if(e&&!e.g2Instance){var n=e.props,r=n.content,i=h(n,["content"]);r&&(a.Util.isArray(r)?e.g2Instance=t.label(r[0],r[1],i):e.g2Instance=t.label(r,i))}},createGeom:function(t,e){if(e.g2Instance)e.label&&this.createLabel(e.g2Instance,e.label);else{var n=e.props,r=t[n.type||"interval"]();n.adjust&&r.adjust(n.adjust),a.Prop.init(p,n,function(t,e){r[e].apply(r,l(t))}),e.g2Instance=r,this.createLabel(r,e.label)}},geoms:function(t,e){var n=e.geoms;if(n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&this.createGeom(t,n[r])},legends:function(t,e){var n=e.legends;for(var r in n)if(n[r]){var i=n[r];if(i.g2Instance)return;var a=i.props,o=a.name,s=a.visible,u=h(a,["name","visible"]),c=s;Object.prototype.hasOwnProperty.call(i.props,"visible")||(c=!0);var f=c?u:c;i.g2Instance=t.legend.apply(t,l(o?[o,f]:[f]))}},tooltip:function(t,e){var n=e.tooltip;n&&!n.g2Instance&&(n.g2Instance=t.tooltip(r({},n.props)))},createAxis:function(t,e){if(!e.g2Instance){var n=e.props,r=n.name,i=n.visible,a=h(n,["name","visible"]);i||!Object.prototype.hasOwnProperty.call(e.props,"visible")?e.g2Instance=t.axis(r,a):e.g2Instance=t.axis(r,!1)}},axises:function(t,e){var n=e.axises;for(var r in n)n[r]&&this.createAxis(t,n[r])},views:function(t,e){var n=e.views;for(var r in n)n[r]&&this.createView(t,n[r])},createView:function(t,e){if("Facet"!==e.parentInfo.name){if(e.g2Instance)return e.filter&&e.filter.forEach(function(t){e.g2Instance.filter(t[0],t[1])}),this.coord(e.g2Instance,e),this.axises(e.g2Instance,e),this.geoms(e.g2Instance,e),void this.guide(e.g2Instance,e.guide);var n=e.props,i=n.scale,a=n.data,o=n.instance,s=n.axis,u=n.filter,c=(n.geoms,h(n,["scale","data","instance","axis","filter","geoms"])),l=void 0;l=o||t.view(r({},c)),a&&l.source(a,i),i&&l.scale(i),u&&u.forEach(function(t){l.filter(t[0],t[1])}),!0===s||o||l.axis(!1),e.g2Instance=l,this.coord(l,e),this.axises(l,e),this.geoms(l,e),this.guide(l,e.guide)}},facetView:function(t,e){var n=e.props,r=n.scale,i=n.data,a=n.axis;n.geoms,h(n,["scale","data","axis","geoms"]);i&&t.source(i,r),r&&t.scale(r),!1===a&&t.axis(!1),this.coord(t,e),this.axises(t,e),this.geoms(t,e),this.guide(t,e.guide),u.default.mergeView(e,!0)},guide:function(t,e){if(e){var n=e.elements;for(var r in n)if(n[r]){var i=n[r];if(!i.g2Instance){var a=i.props,o=(a.type,h(a,["type"]));i.g2Instance=t.guide()[i.type](o)}}}},facet:function(t,e){var n=this,r=e.facet;if(r&&!r.g2Instance){var i=r.props,a=i.children,o=i.type,s=h(i,["children","type"]);if(a){var c=e.views,l=null;for(var f in c)if(c[f]&&"Facet"===c[f].parentInfo.name&&c[f].parentInfo.id===r.id){l=c[f];break}l&&(u.default.mergeView(l,!0),s.eachView=function(t){n.facetView(t,l)},t.facet(o,s))}else t.facet(o,s)}},synchronizeG2Add:function(t,e){this.coord(t,e),this.axises(t,e),this.legends(t,e),this.tooltip(t,e),this.geoms(t,e),this.facet(t,e),this.views(t,e),this.guide(t,e.guide)},synchronizeG2Views:function(t,e){var n=e.views;for(var r in n)n[r]&&this.synchronizeG2View(n[r].g2Instance,n[r])},synchronizeG2View:function(t,e){t.clear(),this.clearViewG2Instance(e);var n=e.props,r=n.scale,i=n.data,a=n.instance,o=n.axis;n.geoms,h(n,["scale","data","instance","axis","geoms"]);i&&t.source(i,r),r&&t.scale(r),!0===o||a||t.axis(!1),this.coord(t,e),this.axises(t,e),this.geoms(t,e),this.guide(t,e.guide)},clearViewG2Instance:function(t){t.coord&&delete t.coord.g2Instance,t.axises&&Object.keys(t.axises).forEach(function(e){delete t.axises[e].g2Instance}),t.geoms&&Object.keys(t.geoms).forEach(function(e){delete t.geoms[e].g2Instance,t.geoms[e].label&&delete t.geoms[e].label.g2Instance}),t.guide&&t.guide.elements&&Object.keys(t.guide.elements).forEach(function(e){delete t.guide.elements[e].g2Instance})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(1)),i=a(n(554));function a(t){return t&&t.__esModule?t:{default:t}}for(var o=["mouseenter","mousemove","mouseleave","click","dblclick","mousedown","mouseup","touchstart","touchmove","touchend"],s=["Mouseenter","Mousemove","Mouseleave","Click","Dblclick","Mousedown","Mouseup","Touchstart","Touchmove","Touchend"],u=["point","area","line","path","interval","schema","polygon","edge","axis-title","axis-label","axis-ticks","axis-line","axis-grid","legend-title","legend-item","legend-marker","legend-text","guide-text","guide-region","guide-line","guide-image","label"],c=["onPoint","onArea","onLine","onPath","onInterval","onSchema","onPolygon","onEdge","onAxisTitle","onAxisLabel","onAxisTicks","onAxisLine","onAxisGrid","onLegendTitle","onLegendItem","onLegendMarker","onLegendText","onGuideText","onGuideRegion","onGuideLine","onGuideImage","onLabel"],l=[],h=0;h<u.length;h+=1)for(var f=0;f<o.length;f+=1)l.push({prop:""+c[h]+s[f],event:u[h]+":"+o[f]});var p=[{prop:"onPlotMove",event:"plotmove"},{prop:"onPlotEnter",event:"plotenter"},{prop:"onPlotLeave",event:"plotleave"},{prop:"onPlotClick",event:"plotclick"},{prop:"onPlotDblClick",event:"plotdblclick"},{prop:"onItemSelected",event:"itemselected"},{prop:"onItemUnselected",event:"itemunselected"},{prop:"onItemSelectedChange",event:"itemselectedchange"},{prop:"onTooltipChange",event:"tooltip:change"},{prop:"onTooltipShow",event:"tooltip:show"},{prop:"onTooltipHide",event:"tooltip:hide"}].concat(l);function d(){return[{prop:"onMouseEnter",event:"mouseenter"},{prop:"onMouseMove",event:"mousemove"},{prop:"onMouseLeave",event:"mouseleave"},{prop:"onClick",event:"click"},{prop:"onDblClick",event:"dblclick"},{prop:"onMouseDown",event:"mousedown"},{prop:"onMouseUp",event:"mouseup"},{prop:"onTouchStart",event:"touchstart"},{prop:"onTouchMove",event:"touchmove"},{prop:"onTouchEnd",event:"touchend"}]}var g=[{prop:"onMouseEnter",event:"mouseenter"},{prop:"onMouseMove",event:"mousemove"},{prop:"onMouseLeave",event:"mouseleave"},{prop:"onClick",event:"click"},{prop:"onDblClick",event:"dblclick"},{prop:"onMouseDown",event:"mousedown"},{prop:"onMouseUp",event:"mouseup"},{prop:"onTouchStart",event:"touchstart"},{prop:"onTouchMove",event:"touchmove"},{prop:"onTouchEnd",event:"touchend"}],v={onMouseEnter:r.default.object,onMouseMove:r.default.object,onMouseLeave:r.default.object,onClick:r.default.oneOfType([r.default.object,r.default.func]),onDblClick:r.default.object,onMouseDown:r.default.object,onMouseUp:r.default.object,onTouchStart:r.default.object,onTouchMove:r.default.object,onTouchEnd:r.default.object},y={onMouseEnter:r.default.func,onMouseMove:r.default.func,onMouseLeave:r.default.func,onClick:r.default.func,onDblClick:r.default.func,onMouseDown:r.default.func,onMouseUp:r.default.func,onTouchStart:r.default.func,onTouchMove:r.default.func,onTouchEnd:r.default.func};function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];i.default.each(e,function(e){var r=e.prop,a=e.event,o=n[r];if(i.default.isFunction(o))t.on(a,o);else if(i.default.isObject(o))for(var s in o)void 0!==o[s]&&t.on(s+":"+a,o[s])})}function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments[3];i.default.each(e,function(e){var a=e.prop,o=e.event,s=n[a],u=r[a],c=void 0;if(!i.default.shallowEqual(s,u))if(i.default.isFunction(s)&&i.default.isFunction(u))t.off(o,s),t.on(o,u);else if(i.default.isObject(s)&&i.default.isObject(u)){for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&t.off(c+":"+o,s[c]);for(c in u)Object.prototype.hasOwnProperty.call(u,c)&&t.on(c+":"+o,u[c])}})}function _(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];i.default.each(e,function(e){var r=e.prop,a=e.event,o=n[r];if(i.default.isFunction(o))t.off(a,o);else if(i.default.isObject(o))for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&t.off(s+":"+a,o[s])})}e.default={baseEventObjectTypes:v,baseEventFuncTypes:y,genBaseEvents:d,genItemBaseEvents:function(t){var e=[{prop:"onMouseEnter",event:"mouseenter"},{prop:"onMouseMove",event:"mousemove"},{prop:"onMouseLeave",event:"mouseleave"},{prop:"onClick",event:"click"},{prop:"onDblClick",event:"dblclick"},{prop:"onMouseDown",event:"mousedown"},{prop:"onMouseUp",event:"mouseup"},{prop:"onTouchStart",event:"touchstart"},{prop:"onTouchMove",event:"touchmove"},{prop:"onTouchEnd",event:"touchend"}];return i.default.map(e,function(e){var n=e.event;return e.event=t+":"+n,e}),e},bindEvents:m,bindBaseEvents:function(t,e){m(t,g,e)},updateEvents:x,updateBaseEvents:function(t,e,n){x(t,g,e,n)},unbindEvents:_,unbindBaseEvents:function(t,e){_(t,g,e)},chartEvents:p}},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=n(518),a=n(733),o=n(500),s=function(t){var e,n;n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=s.prototype;function s(e){var n;return n=t.call(this,e)||this,o.assign(r(r(n)),a),n}return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="path",e.shapeType="line",e},i.getDrawCfg=function(e){var n=t.prototype.getDrawCfg.call(this,e);return n.isStack=this.hasStack(),n},i.draw=function(t,e,n,r){var i=this,a=this.splitData(t),s=this.getDrawCfg(t[0]);s.origin=t,o.each(a,function(t,a){if(!o.isEmpty(t)){s.splitedIndex=a,s.points=t;var u=n.drawShape(s.shape,s,e);i.appendShapeInfo(u,r+a)}})},s}(i);i.Path=s,t.exports=s},function(t,e,n){var r=n(500),i=n(512);t.exports={splitData:function(t){var e=this.get("viewTheme")||i;if(!t.length)return[];var n,a=[],o=[],s=this.getYScale().field;return r.each(t,function(t){n=t._origin?t._origin[s]:t[s],e.connectNulls?r.isNil(n)||o.push(t):r.isArray(n)&&r.isNil(n[0])||r.isNil(n)?o.length&&(a.push(o),o=[]):o.push(t)}),o.length&&a.push(o),a}}},function(t,e,n){var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="rect",e},i.generateFacets=function(t){var e=this,n=e.fields,r=[],i=1,a=1,o=n[0],s=n[1],u=[""],c=[""];return o&&(u=e.getFieldValues(o,t),a=u.length),s&&(c=e.getFieldValues(s,t),i=c.length),u.forEach(function(n,l){c.forEach(function(h,f){var p=[{field:o,value:n,values:u},{field:s,value:h,values:c}],d=e.getFilter(p),g=t.filter(d),v={type:e.type,colValue:n,rowValue:h,colField:o,rowField:s,colIndex:l,rowIndex:f,cols:a,rows:i,data:g,region:e.getRegion(i,a,l,f)};r.push(v)})}),r},i.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1?(e[t].title=null,e[t].label=null):n.colIndex!==parseInt((n.cols-1)/2)&&(e[t].title=null)},i.setYAxis=function(t,e,n){0!==n.colIndex?(e[t].title=null,e[t].label=null):n.rowIndex!==parseInt((n.rows-1)/2)&&(e[t].title=null)},i.renderTitle=function(t,e){0===e.rowIndex&&this.drawColTitle(t,e),e.colIndex===e.cols-1&&this.drawRowTitle(t,e)},r}(n(576));t.exports=r},function(t,e,n){var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="list",e.cols=null,e},i.generateFacets=function(t){var e=this,n=e.fields[0];if(!n)throw"Please specify for the field for facet!";var r=e.getFieldValues(n,t),i=r.length,a=e.cols||i,o=parseInt((i+a-1)/a),s=[];return r.forEach(function(u,c){var l=parseInt(c/a),h=c%a,f=[{field:n,value:u,values:r}],p=e.getFilter(f),d=t.filter(p),g={type:e.type,count:i,colValue:u,colField:n,rowField:null,rowValue:u,colIndex:h,rowIndex:l,cols:a,rows:o,data:d,region:e.getRegion(o,a,h,l)};s.push(g)}),s},i.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1&&n.cols*n.rowIndex+n.colIndex+1+n.cols<=n.count&&(e[t].label=null,e[t].title=null)},i.setYAxis=function(t,e,n){0!==n.colIndex&&(e[t].title=null,e[t].label=null)},r}(n(576));t.exports=r},function(t,e,n){var r=n(511),i=n(507),a=n(498),o=n(748),s=n(1030);t.exports=function(t,e){if(r(t))return e?t:t();if(i(t)){if(a[t])return e?a[t]:a[t]();if(o[t])return e?o[t]:o[t]();if(s[t])return e?s[t]:s[t]()}return null}},function(t,e){t.exports=function(t){for(var e=1/t,n=[],r=0;r<=1;r+=e)n.push(r);return n}},function(t,e,n){var r=n(739),i=n(531),a=n(498).geoPath,o=n(503),s=o.GEO,u=o.registerConnector,c=a();function l(t,e,n){n.dataType=s;var a=i(t.features);return a.forEach(function(t){t.name=t.properties.name,t.longitude=[],t.latitude=[];var e=t.pathData=c(t);r(e)._path.forEach(function(e){t.longitude.push(e[1]),t.latitude.push(e[2])});var n=c.centroid(t);t.centroidX=n[0],t.centroidY=n[1]}),a}u("geo",l),u("geojson",l),u("GeoJSON",l),t.exports=l},function(t,e,n){var r=n(1038),i=n(319),a=n(1039);function o(t){if(!(this instanceof o))return new o(t);this._path=i(t)?t:r(t),this._path=a(this._path),this._path=function(t){for(var e=[],n=["L",0,0],r=0,i=t.length;r<i;r++){var a=t[r];switch(a[0]){case"M":n=["L",a[1],a[2]],e.push(a);break;case"Z":e.push(n);break;default:e.push(a)}}return e}(this._path)}function s(t,e,n,r){var i=t-n,a=e-r;return Math.sqrt(i*i+a*a)}t.exports=o,o.prototype.at=function(t,e){return this._walk(t,e).pos},o.prototype.length=function(){return this._walk(null).length},o.prototype._walk=function(t,e){var n,r,i,a,o,u,c,l,h=[0,0],f=[0,0,0],p=0;"number"==typeof t&&(t*=1.045);for(var d=0;d<this._path.length;d++){var g=this._path[d];if("M"===g[0]){if(h[0]=g[1],h[1]=g[2],0===t)return{length:p,pos:h}}else if("C"===g[0]){f[0]=h[0],f[1]=h[1],f[2]=p;for(var v=100,y=0;y<=v;y++){var m=(c=g,l=w=y/v,Math.pow(1-l,3)*h[0]+3*Math.pow(1-l,2)*l*c[1]+3*(1-l)*Math.pow(l,2)*c[3]+Math.pow(l,3)*c[5]),x=(o=g,u=w,Math.pow(1-u,3)*h[1]+3*Math.pow(1-u,2)*u*o[2]+3*(1-u)*Math.pow(u,2)*o[4]+Math.pow(u,3)*o[6]);if(p+=s(h[0],h[1],m,x),h[0]=m,h[1]=x,"number"==typeof t&&p>=t){var _=(p-t)/(p-f[2]);return{length:p,pos:[h[0]*(1-_)+f[0]*_,h[1]*(1-_)+f[1]*_]}}f[0]=h[0],f[1]=h[1],f[2]=p}}else if("Q"===g[0]){f[0]=h[0],f[1]=h[1],f[2]=p;for(v=100,y=0;y<=v;y++){var w;m=(i=g,a=w=y/v,Math.pow(1-a,2)*h[0]+2*(1-a)*a*i[1]+Math.pow(a,2)*i[3]),x=(n=g,r=w,Math.pow(1-r,2)*h[1]+2*(1-r)*r*n[2]+Math.pow(r,2)*n[4]);if(p+=s(h[0],h[1],m,x),h[0]=m,h[1]=x,"number"==typeof t&&p>=t){_=(p-t)/(p-f[2]);return{length:p,pos:[h[0]*(1-_)+f[0]*_,h[1]*(1-_)+f[1]*_]}}f[0]=h[0],f[1]=h[1],f[2]=p}}else if("L"===g[0]){if(f[0]=h[0],f[1]=h[1],f[2]=p,p+=s(h[0],h[1],g[1],g[2]),h[0]=g[1],h[1]=g[2],"number"==typeof t&&p>=t){_=(p-t)/(p-f[2]);return{length:p,pos:[h[0]*(1-_)+f[0]*_,h[1]*(1-_)+f[1]*_]}}f[0]=h[0],f[1]=h[1],f[2]=p}}return{length:p/1.045,pos:h}}},function(t,e,n){var r=n(520),i=n(741);t.exports=function(t,e,n,r){return function(t,e,n,r){var a,o,s={},u=new i,c=function(t){var e=t.v!==a?t.v:t.w,r=s[e],i=n(t),c=o.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+i);c<r.distance&&(r.distance=c,r.predecessor=a,u.decrease(e,c))};t.nodes().forEach(function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},u.add(t,n)});for(;u.size()>0&&(a=u.removeMin(),(o=s[a]).distance!==Number.POSITIVE_INFINITY);)r(a).forEach(c);return s}(t,String(e),n||a,r||function(e){return t.outEdges(e)})};var a=r.constant(1)},function(t,e,n){var r=n(520);function i(){this._arr=[],this._keyIndices={}}t.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map(function(t){return t.key})},i.prototype.has=function(t){return r.has(this._keyIndices,t)},i.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var i=this._arr,a=i.length;return n[t]=a,i.push({key:t,priority:e}),this._decrease(a),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},i.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},i.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},i.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},i.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],a=n[e];n[t]=a,n[e]=i,r[a.key]=t,r[i.key]=e}},function(t,e,n){var r=n(520);t.exports=function(t){var e=0,n=[],i={},a=[];return t.nodes().forEach(function(o){r.has(i,o)||function o(s){var u=i[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach(function(t){r.has(i,t)?i[t].onStack&&(u.lowlink=Math.min(u.lowlink,i[t].index)):(o(t),u.lowlink=Math.min(u.lowlink,i[t].lowlink))}),u.lowlink===u.index){var c,l=[];do{c=n.pop(),i[c].onStack=!1,l.push(c)}while(s!==c);a.push(l)}}(o)}),a}},function(t,e,n){var r=n(520);function i(t){var e={},n={},i=[];if(r.each(t.sinks(),function o(s){if(r.has(n,s))throw new a;r.has(e,s)||(n[s]=!0,e[s]=!0,r.each(t.predecessors(s),o),delete n[s],i.push(s))}),r.size(e)!==t.nodeCount())throw new a;return i}function a(){}t.exports=i,i.CycleException=a},function(t,e,n){var r=n(520);t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var i=(t.isDirected()?t.successors:t.neighbors).bind(t),a=[],o={};return r.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,i,a,o,s){r.has(a,n)||(a[n]=!0,i||s.push(n),r.each(o(n),function(n){t(e,n,i,a,o,s)}),i&&s.push(n))}(t,e,"post"===n,o,i,a)}),a}},function(t,e,n){"use strict";var r=n(510),i=n(523).Graph,a=n(579).slack;function o(t,e){return r.forEach(t.nodes(),function n(i){r.forEach(e.nodeEdges(i),function(r){var o=r.v,s=i===o?r.w:o;t.hasNode(s)||a(e,r)||(t.setNode(s,{}),t.setEdge(i,s,{}),n(s))})}),t.nodeCount()}function s(t,e){return r.minBy(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return a(e,n)})}function u(t,e,n){r.forEach(t.nodes(),function(t){e.node(t).rank+=n})}t.exports=function(t){var e,n,r=new i({directed:!1}),c=t.nodes()[0],l=t.nodeCount();r.setNode(c,{});for(;o(r,t)<l;)e=s(r,t),n=r.hasNode(e.v)?a(t,e):-a(t,e),u(r,t,n);return r}},function(t,e,n){var r=n(539),i={getId:function(t){return t.id||t.name},getHGap:function(t){return t.hgap||18},getVGap:function(t){return t.vgap||18},getChildren:function(t){return t.children},getHeight:function(t){return t.height||36},getWidth:function(t){var e=t.name||" ";return t.width||18*e.split("").length}};function a(t,e){var n=this;if(n.vgap=n.hgap=0,t instanceof a)return t;n.data=t;var r=e.getHGap(t),i=e.getVGap(t);return n.width=e.getWidth(t),n.height=e.getHeight(t),n.id=e.getId(t),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}r.assign(a.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,e){this.hgap+=t,this.vgap+=e,this.width+=2*t,this.height+=2*e},eachNode:function(t){for(var e,n=[this];e=n.pop();)t(e),n=n.concat(e.children)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e,n=[this];e=n.shift();)t(e),n=n.concat(e.children)},getBoundingBox:function(){var t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)}),t},translate:function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.eachNode(function(n){n.x+=t,n.y+=e})},right2left:function(){var t=this.getBoundingBox();this.eachNode(function(e){e.x=e.x-2*(e.x-t.left)-e.width}),this.translate(t.width,0)},bottom2top:function(){var t=this.getBoundingBox();this.eachNode(function(e){e.y=e.y-2*(e.y-t.top)-e.height}),this.translate(0,t.height)}}),t.exports=function(t,e,n){void 0===e&&(e={});var o,s=new a(t,e=r.assign({},i,e)),u=[s];if(!n&&!t.collapsed)for(;o=u.pop();)if(!o.data.collapsed){var c=e.getChildren(o.data),l=c?c.length:0;if(o.children=new Array(l),c&&l)for(var h=0;h<l;h++){var f=new a(c[h],e);o.children[h]=f,u.push(f),f.parent=o,f.depth=o.depth+1}}return s}},function(t,e,n){var r=n(746);t.exports=function(t,e){for(var n=r(t.data,e,!0),i=r(t.data,e,!0),a=t.children.length,o=Math.round(a/2),s=e.getSide||function(t,e){return e<o?"right":"left"},u=0;u<a;u++){var c=t.children[u];"right"===s(c,u)?i.children.push(c):n.children.push(c)}return n.eachNode(function(t){t.isRoot()||(t.side="left")}),i.eachNode(function(t){t.isRoot()||(t.side="right")}),{left:n,right:i}}},function(t,e,n){"use strict";n.r(e);var r=n(498),i=Math.abs,a=Math.atan,o=Math.atan2,s=(Math.ceil,Math.cos),u=Math.exp,c=Math.floor,l=Math.log,h=Math.max,f=Math.min,p=Math.pow,d=Math.round,g=Math.sign||function(t){return t>0?1:t<0?-1:0},v=Math.sin,y=Math.tan,m=1e-6,x=1e-12,_=Math.PI,w=_/2,b=_/4,M=Math.SQRT1_2,S=I(2),E=I(_),C=2*_,k=180/_,P=_/180;function T(t){return t>1?w:t<-1?-w:Math.asin(t)}function A(t){return t>1?0:t<-1?_:Math.acos(t)}function I(t){return t>0?Math.sqrt(t):0}function O(t){return(u(t)-u(-t))/2}function L(t){return(u(t)+u(-t))/2}function j(t){var e=y(t/2),n=2*l(s(t/2))/(e*e);function r(t,e){var r=s(t),i=s(e),a=v(e),o=i*r,u=-((1-o?l((1+o)/2)/(1-o):-.5)+n/(1+o));return[u*i*v(t),u*a]}return r.invert=function(e,r){var a,u=I(e*e+r*r),c=-t/2,h=50;if(!u)return[0,0];do{var f=c/2,p=s(f),d=v(f),g=y(f),x=l(1/p);c-=a=(2/g*x-n*g-u)/(-x/(d*d)+1-n/(2*p*p))}while(i(a)>m&&--h>0);var _=v(c);return[o(e*_,u*s(c)),T(r*_/u)]},r}var R=function(){var t=w,e=Object(r.geoProjectionMutator)(j),n=e(t);return n.radius=function(n){return arguments.length?e(t=n*P):t*k},n.scale(179.976).clipAngle(147)};function D(t,e){var n,r=s(e),i=(n=A(r*s(t/=2)))?n/Math.sin(n):1;return[2*r*v(t)*i,v(e)*i]}D.invert=function(t,e){if(!(t*t+4*e*e>_*_+m)){var n=t,r=e,a=25;do{var o,u=v(n),c=v(n/2),l=s(n/2),h=v(r),f=s(r),p=v(2*r),d=h*h,g=f*f,y=c*c,x=1-g*l*l,w=x?A(f*l)*I(o=1/x):o=0,b=2*w*f*c-t,M=w*h-e,S=o*(g*y+w*f*l*d),E=o*(.5*u*p-2*w*h*c),C=.25*o*(p*c-w*h*g*u),k=o*(d*l+w*y*f),P=E*C-k*S;if(!P)break;var T=(M*E-b*k)/P,O=(b*C-M*S)/P;n-=T,r-=O}while((i(T)>m||i(O)>m)&&--a>0);return[n,r]}};var N=function(){return Object(r.geoProjection)(D).scale(152.63)};function B(t){var e=v(t),n=s(t),r=t>=0?1:-1,a=y(r*t),u=(1+e-n)/2;function c(t,i){var c=s(i),l=s(t/=2);return[(1+c)*v(t),(r*i>-o(l,a)-.001?0:10*-r)+u+v(i)*n-(1+c)*e*l]}return c.invert=function(t,c){var l=0,h=0,f=50;do{var p=s(l),d=v(l),g=s(h),y=v(h),x=1+g,_=x*d-t,w=u+y*n-x*e*p-c,b=x*p/2,M=-d*y,S=e*x*d/2,E=n*g+e*p*y,C=M*S-E*b,k=(w*M-_*E)/C/2,P=(_*S-w*b)/C;l-=k,h-=P}while((i(k)>m||i(P)>m)&&--f>0);return r*h>-o(s(l),a)-.001?[2*l,h]:null},c}var F=function(){var t=20*P,e=t>=0?1:-1,n=y(e*t),i=Object(r.geoProjectionMutator)(B),a=i(t),u=a.stream;return a.parallel=function(r){return arguments.length?(n=y((e=(t=r*P)>=0?1:-1)*t),i(t)):t*k},a.stream=function(r){var i=a.rotate(),c=u(r),l=(a.rotate([0,0]),u(r));return a.rotate(i),c.sphere=function(){l.polygonStart(),l.lineStart();for(var r=-180*e;e*r<180;r+=90*e)l.point(r,90*e);for(;e*(r-=t)>=-180;)l.point(r,e*-o(s(r*P/2),n)*k);l.lineEnd(),l.polygonEnd()},c},a.scale(218.695).center([0,28.0974])};function z(t,e){var n=y(e/2),r=I(1-n*n),i=1+r*s(t/=2),a=v(t)*r/i,o=n/i,u=a*a,c=o*o;return[4/3*a*(3+u-3*c),4/3*o*(3+3*u-c)]}z.invert=function(t,e){if(e*=3/8,!(t*=3/8)&&i(e)>1)return null;var n,r,a=1+t*t+e*e,u=I((a-I(a*a-4*e*e))/2),c=T(u)/3,h=u?(r=i(e/u),l(r+I(r*r-1))/3):(n=i(t),l(n+I(n*n+1))/3),f=s(c),p=L(h),d=p*p-f*f;return[2*g(t)*o(O(h)*f,.25-d),2*g(e)*o(p*v(c),.25+d)]};var G=function(){return Object(r.geoProjection)(z).scale(66.1603)},V=I(8),q=l(1+S);function H(t,e){var n=i(e);return n<b?[t,l(y(b+e/2))]:[t*s(n)*(2*S-1/v(n)),g(e)*(2*S*(n-b)-l(y(n/2)))]}H.invert=function(t,e){if((r=i(e))<q)return[t,2*a(u(e))-w];var n,r,o=b,c=25;do{var h=s(o/2),f=y(o/2);o-=n=(V*(o-b)-l(f)-r)/(V-h*h/(2*f))}while(i(n)>x&&--c>0);return[t/(s(o)*(V-1/v(o))),g(e)*o]};var Y=function(){return Object(r.geoProjection)(H).scale(112.314)};function W(t){var e=2*_/t;function n(t,n){var a=Object(r.geoAzimuthalEquidistantRaw)(t,n);if(i(t)>w){var u=o(a[1],a[0]),c=I(a[0]*a[0]+a[1]*a[1]),l=e*d((u-w)/e)+w,h=o(v(u-=l),2-s(u));u=l+T(_/c*v(h))-h,a[0]=c*s(u),a[1]=c*v(u)}return a}return n.invert=function(t,n){var i=I(t*t+n*n);if(i>w){var u=o(n,t),c=e*d((u-w)/e)+w,l=u>c?-1:1,h=i*s(c-u),f=1/y(l*A((h-_)/I(_*(_-2*h)+i*i)));u=c+2*a((f+l*I(f*f-3))/3),t=i*s(u),n=i*v(u)}return r.geoAzimuthalEquidistantRaw.invert(t,n)},n}var U=function(){var t=5,e=Object(r.geoProjectionMutator)(W),n=e(t),i=n.stream,a=-s(.01*P),u=v(.01*P);return n.lobes=function(n){return arguments.length?e(t=+n):t},n.stream=function(e){var r=n.rotate(),c=i(e),l=(n.rotate([0,0]),i(e));return n.rotate(r),c.sphere=function(){l.polygonStart(),l.lineStart();for(var e=0,n=360/t,r=2*_/t,i=90-180/t,c=w;e<t;++e,i-=n,c-=r)l.point(o(u*s(c),a)*k,T(u*v(c))*k),i<-90?(l.point(-90,-180-i-.01),l.point(-90,-180-i+.01)):(l.point(90,i+.01),l.point(90,i-.01));l.lineEnd(),l.polygonEnd()},c},n.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};function X(t,e){var n,r=t*v(e),a=30;do{e-=n=(e+v(e)-r)/(1+s(e))}while(i(n)>m&&--a>0);return e/2}function Z(t,e,n){function r(r,i){return[t*r*s(i=X(n,i)),e*v(i)]}return r.invert=function(r,i){return i=T(i/e),[r/(t*s(i)),T((2*i+v(2*i))/n)]},r}var Q=Z(S/w,S,_),J=function(){return Object(r.geoProjection)(Q).scale(169.529)},$=2.00276,K=1.11072;function tt(t,e){var n=X(_,e);return[$*t/(1/s(e)+K/s(n)),(e+S*v(n))/$]}tt.invert=function(t,e){var n,r,a=$*e,o=e<0?-b:b,u=25;do{r=a-S*v(o),o-=n=(v(2*o)+2*o-_*v(r))/(2*s(2*o)+2+_*s(r)*S*s(o))}while(i(n)>m&&--u>0);return r=a-S*v(o),[t*(1/s(r)+K/s(o))/$,r]};var et=function(){return Object(r.geoProjection)(tt).scale(160.857)},nt=function(t){var e=0,n=Object(r.geoProjectionMutator)(t),i=n(e);return i.parallel=function(t){return arguments.length?n(e=t*P):e*k},i};function rt(t,e){return[t*s(e),e]}rt.invert=function(t,e){return[t/s(e),e]};var it=function(){return Object(r.geoProjection)(rt).scale(152.63)};function at(t){if(!t)return rt;var e=1/y(t);function n(n,r){var i=e+t-r,a=i?n*s(r)/i:i;return[i*v(a),e-i*s(a)]}return n.invert=function(n,r){var i=I(n*n+(r=e-r)*r),a=e+t-i;return[i/s(a)*o(n,r),a]},n}var ot=function(){return nt(at).scale(123.082).center([0,26.1441]).parallel(45)};function st(t){function e(e,n){var r=w-n,i=r?e*t*v(r)/r:r;return[r*v(i)/t,w-r*s(i)]}return e.invert=function(e,n){var r=e*t,i=w-n,a=I(r*r+i*i),s=o(r,i);return[(a?a/v(a):1)*s/t,w-a]},e}var ut=function(){var t=.5,e=Object(r.geoProjectionMutator)(st),n=e(t);return n.fraction=function(n){return arguments.length?e(t=+n):t},n.scale(158.837)},ct=Z(1,4/_,_),lt=function(){return Object(r.geoProjection)(ct).scale(152.63)};function ht(t,e,n,r,a,u){var c,l=s(u);if(i(t)>1||i(u)>1)c=A(n*a+e*r*l);else{var h=v(t/2),f=v(u/2);c=2*T(I(h*h+e*r*f*f))}return i(c)>m?[c,o(r*v(u),e*a-n*r*l)]:[0,0]}function ft(t,e,n){return A((t*t+e*e-n*n)/(2*t*e))}function pt(t,e,n){for(var r,i=[[t[0],t[1],v(t[1]),s(t[1])],[e[0],e[1],v(e[1]),s(e[1])],[n[0],n[1],v(n[1]),s(n[1])]],a=i[2],o=0;o<3;++o,a=r)r=i[o],a.v=ht(r[1]-a[1],a[3],a[2],r[3],r[2],r[0]-a[0]),a.point=[0,0];var u=ft(i[0].v[0],i[2].v[0],i[1].v[0]),l=ft(i[0].v[0],i[1].v[0],i[2].v[0]),h=_-u;i[2].point[1]=0,i[0].point[0]=-(i[1].point[0]=i[0].v[0]/2);var f=[i[2].point[0]=i[0].point[0]+i[2].v[0]*s(u),2*(i[0].point[1]=i[1].point[1]=i[2].v[0]*v(u))];return function(t,e){var n,r,a=v(e),o=s(e),u=new Array(3);for(n=0;n<3;++n){var p=i[n];if(u[n]=ht(e-p[1],p[3],p[2],o,a,t-p[0]),!u[n][0])return p.point;u[n][1]=(r=u[n][1]-p.v[1])-2*_*c((r+_)/(2*_))}var d=f.slice();for(n=0;n<3;++n){var g=2==n?0:n+1,y=ft(i[n].v[0],u[n][0],u[g][0]);u[n][1]<0&&(y=-y),n?1==n?(y=l-y,d[0]-=u[n][0]*s(y),d[1]-=u[n][0]*v(y)):(y=h-y,d[0]+=u[n][0]*s(y),d[1]+=u[n][0]*v(y)):(d[0]+=u[n][0]*s(y),d[1]-=u[n][0]*v(y))}return d[0]/=3,d[1]/=3,d}}function dt(t){return t[0]*=P,t[1]*=P,t}function gt(){return vt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function vt(t,e,n){var i=Object(r.geoCentroid)({type:"MultiPoint",coordinates:[t,e,n]}),a=[-i[0],-i[1]],o=Object(r.geoRotation)(a),s=Object(r.geoProjection)(pt(dt(o(t)),dt(o(e)),dt(o(n)))).rotate(a),u=s.center;return delete s.rotate,s.center=function(t){return arguments.length?u(o(t)):o.invert(u())},s.clipAngle(90)}function yt(t,e){var n=I(1-v(e));return[2/E*t*n,E*(1-n)]}yt.invert=function(t,e){var n=(n=e/E-1)*n;return[n>0?t*I(_/n)/2:0,T(1-n)]};var mt=function(){return Object(r.geoProjection)(yt).scale(95.6464).center([0,30])};function xt(t){var e=y(t);function n(t,n){return[t,(t?t/v(t):1)*(v(n)*s(t)-e*s(n))]}return n.invert=e?function(t,n){t&&(n*=v(t)/t);var r=s(t);return[t,2*o(I(r*r+e*e-n*n)-r,e-n)]}:function(t,e){return[t,T(t?e*y(t)/t:e)]},n}var _t=function(){return nt(xt).scale(249.828).clipAngle(90)},wt=I(3);function bt(t,e){return[wt*t*(2*s(2*e/3)-1)/E,wt*E*v(e/3)]}bt.invert=function(t,e){var n=3*T(e/(wt*E));return[E*t/(wt*(2*s(2*n/3)-1)),n]};var Mt=function(){return Object(r.geoProjection)(bt).scale(156.19)};function St(t){var e=s(t);function n(t,n){return[t*e,v(n)/e]}return n.invert=function(t,n){return[t/e,T(n*e)]},n}var Et=function(){return nt(St).parallel(38.58).scale(195.044)};function Ct(t){var e=s(t);function n(t,n){return[t*e,(1+e)*y(n/2)]}return n.invert=function(t,n){return[t/e,2*a(n/(1+e))]},n}var kt=function(){return nt(Ct).scale(124.75)};function Pt(t,e){var n=I(8/(3*_));return[n*t*(1-i(e)/_),n*e]}Pt.invert=function(t,e){var n=I(8/(3*_)),r=e/n;return[t/(n*(1-i(r)/_)),r]};var Tt=function(){return Object(r.geoProjection)(Pt).scale(165.664)};function At(t,e){var n=I(4-3*v(i(e)));return[2/I(6*_)*t*n,g(e)*I(2*_/3)*(2-n)]}At.invert=function(t,e){var n=2-i(e)/I(2*_/3);return[t*I(6*_)/(2*n),g(e)*T((4-n*n)/3)]};var It=function(){return Object(r.geoProjection)(At).scale(165.664)};function Ot(t,e){var n=I(_*(4+_));return[2/n*t*(1+I(1-4*e*e/(_*_))),4/n*e]}Ot.invert=function(t,e){var n=I(_*(4+_))/2;return[t*n/(1+I(1-e*e*(4+_)/(4*_))),e*n/2]};var Lt=function(){return Object(r.geoProjection)(Ot).scale(180.739)};function jt(t,e){var n=(2+w)*v(e);e/=2;for(var r=0,a=1/0;r<10&&i(a)>m;r++){var o=s(e);e-=a=(e+v(e)*(o+2)-n)/(2*o*(1+o))}return[2/I(_*(4+_))*t*(1+s(e)),2*I(_/(4+_))*v(e)]}jt.invert=function(t,e){var n=e*I((4+_)/_)/2,r=T(n),i=s(r);return[t/(2/I(_*(4+_))*(1+i)),T((r+n*(i+2))/(2+w))]};var Rt=function(){return Object(r.geoProjection)(jt).scale(180.739)};function Dt(t,e){return[t*(1+s(e))/I(2+_),2*e/I(2+_)]}Dt.invert=function(t,e){var n=I(2+_),r=e*n/2;return[n*t/(1+s(r)),r]};var Nt=function(){return Object(r.geoProjection)(Dt).scale(173.044)};function Bt(t,e){for(var n=(1+w)*v(e),r=0,a=1/0;r<10&&i(a)>m;r++)e-=a=(e+v(e)-n)/(1+s(e));return n=I(2+_),[t*(1+s(e))/n,2*e/n]}Bt.invert=function(t,e){var n=1+w,r=I(n/2);return[2*t*r/(1+s(e*=r)),T((e+v(e))/n)]};var Ft=function(){return Object(r.geoProjection)(Bt).scale(173.044)},zt=3+2*S;function Gt(t,e){var n=v(t/=2),r=s(t),i=I(s(e)),o=s(e/=2),u=v(e)/(o+S*r*i),c=I(2/(1+u*u)),h=I((S*o+(r+n)*i)/(S*o+(r-n)*i));return[zt*(c*(h-1/h)-2*l(h)),zt*(c*u*(h+1/h)-2*a(u))]}Gt.invert=function(t,e){if(!(n=z.invert(t/1.2,1.065*e)))return null;var n,r=n[0],o=n[1],u=20;t/=zt,e/=zt;do{var c=r/2,p=o/2,d=v(c),g=s(c),y=v(p),x=s(p),_=s(o),b=I(_),E=y/(x+S*g*b),C=E*E,k=I(2/(1+C)),P=(S*x+(g+d)*b)/(S*x+(g-d)*b),T=I(P),A=T-1/T,O=T+1/T,L=k*A-2*l(T)-t,j=k*E*O-2*a(E)-e,R=y&&M*b*d*C/y,D=(S*g*x+b)/(2*(x+S*g*b)*(x+S*g*b)*b),N=-.5*E*k*k*k,B=N*R,F=N*D,G=(G=2*x+S*b*(g-d))*G*T,V=(S*g*x*b+_)/G,q=-S*d*y/(b*G),H=A*B-2*V/T+k*(V+V/P),Y=A*F-2*q/T+k*(q+q/P),W=E*O*B-2*R/(1+C)+k*O*R+k*E*(V-V/P),U=E*O*F-2*D/(1+C)+k*O*D+k*E*(q-q/P),X=Y*W-U*H;if(!X)break;var Z=(j*Y-L*U)/X,Q=(L*W-j*H)/X;r-=Z,o=h(-w,f(w,o-Q))}while((i(Z)>m||i(Q)>m)&&--u>0);return i(i(o)-w)<m?[0,o]:u&&[r,o]};var Vt=function(){return Object(r.geoProjection)(Gt).scale(62.5271)},qt=s(35*P);function Ht(t,e){var n=y(e/2);return[t*qt*I(1-n*n),(1+qt)*n]}Ht.invert=function(t,e){var n=e/(1+qt);return[t&&t/(qt*I(1-n*n)),2*a(n)]};var Yt=function(){return Object(r.geoProjection)(Ht).scale(137.152)};function Wt(t,e){var n=e/2,r=s(n);return[2*t/E*s(e)*r*r,E*y(n)]}Wt.invert=function(t,e){var n=a(e/E),r=s(n),i=2*n;return[t*E/2/(s(i)*r*r),i]};var Ut=function(){return Object(r.geoProjection)(Wt).scale(135.264)};function Xt(t){return[t[0]/2,T(y(t[1]/2*P))*k]}function Zt(t){return[2*t[0],2*a(v(t[1]*P))*k]}var Qt=function(t){null==t&&(t=r.geoOrthographic);var e=t(),n=Object(r.geoEquirectangular)().scale(k).precision(0).clipAngle(null).translate([0,0]);function i(t){return e(Xt(t))}function a(t){i[t]=function(n){return arguments.length?(e[t](n),i):e[t]()}}return e.invert&&(i.invert=function(t){return Zt(e.invert(t))}),i.stream=function(t){var r=e.stream(t),i=n.stream({point:function(t,e){r.point(t/2,T(y(-e/2*P))*k)},lineStart:function(){r.lineStart()},lineEnd:function(){r.lineEnd()},polygonStart:function(){r.polygonStart()},polygonEnd:function(){r.polygonEnd()}});return i.sphere=r.sphere,i},i.rotate=function(t){return arguments.length?(n.rotate(t),i):n.rotate()},i.center=function(t){return arguments.length?(e.center(Xt(t)),i):Zt(e.center())},a("clipAngle"),a("clipExtent"),a("scale"),a("translate"),a("precision"),i.scale(249.5)};function Jt(t,e){var n=2*_/e,a=t*t;function u(e,u){var c=Object(r.geoAzimuthalEquidistantRaw)(e,u),l=c[0],h=c[1],f=l*l+h*h;if(f>a){var p=I(f),g=o(h,l),y=n*d(g/n),x=g-y,b=t*s(x),M=(t*v(x)-x*v(b))/(w-b),S=$t(x,M),E=(_-t)/Kt(S,b,_);l=p;var C,k=50;do{l-=C=(t+Kt(S,b,l)*E-p)/(S(l)*E)}while(i(C)>m&&--k>0);h=x*v(l),l<w&&(h-=M*(l-w));var P=v(y),T=s(y);c[0]=l*T-h*P,c[1]=l*P+h*T}return c}return u.invert=function(e,u){var c=e*e+u*u;if(c>a){var l=I(c),h=o(u,e),f=n*d(h/n),p=h-f;e=l*s(p),u=l*v(p);for(var g=e-w,y=v(e),m=u/y,b=e<w?1/0:0,M=10;;){var S=t*v(m),E=t*s(m),C=v(E),k=w-E,P=(S-m*C)/k,T=$t(m,P);if(i(b)<x||!--M)break;m-=b=(m*y-P*g-u)/(y-2*g*(k*(E+m*S*s(E)-C)-S*(S-m*C))/(k*k))}e=(l=t+Kt(T,E,e)*(_-t)/Kt(T,E,_))*s(h=f+m),u=l*v(h)}return r.geoAzimuthalEquidistantRaw.invert(e,u)},u}function $t(t,e){return function(n){var r=t*s(n);return n<w&&(r-=e),I(1+r*r)}}function Kt(t,e,n){for(var r=(n-e)/50,i=t(e)+t(n),a=1,o=e;a<50;++a)i+=2*t(o+=r);return.5*i*r}var te=function(){var t=6,e=30*P,n=s(e),i=v(e),a=Object(r.geoProjectionMutator)(Jt),u=a(e,t),c=u.stream,l=-s(.01*P),h=v(.01*P);return u.radius=function(r){return arguments.length?(n=s(e=r*P),i=v(e),a(e,t)):e*k},u.lobes=function(n){return arguments.length?a(e,t=+n):t},u.stream=function(e){var r=u.rotate(),a=c(e),f=(u.rotate([0,0]),c(e));return u.rotate(r),a.sphere=function(){f.polygonStart(),f.lineStart();for(var e=0,r=2*_/t,a=0;e<t;++e,a-=r)f.point(o(h*s(a),l)*k,T(h*v(a))*k),f.point(o(i*s(a-r/2),n)*k,T(i*v(a-r/2))*k);f.lineEnd(),f.polygonEnd()},a},u.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},ee=function(t,e,n,r,a,o,u,c){function l(i,l){if(!l)return[t*i/_,0];var h=l*l,f=t+h*(e+h*(n+h*r)),p=l*(a-1+h*(o-c+h*u)),d=(f*f+p*p)/(2*p),g=i*T(f/d)/_;return[d*v(g),l*(1+h*c)+d*(1-s(g))]}return arguments.length<8&&(c=0),l.invert=function(l,h){var f,p,d=_*l/t,g=h,y=50;do{var x=g*g,w=t+x*(e+x*(n+x*r)),b=g*(a-1+x*(o-c+x*u)),M=w*w+b*b,S=2*b,E=M/S,C=E*E,k=T(w/E)/_,P=d*k,A=w*w,O=(2*e+x*(4*n+6*x*r))*g,L=a+x*(3*o+5*x*u),j=(2*(w*O+b*(L-1))*S-M*(2*(L-1)))/(S*S),R=s(P),D=v(P),N=E*R,B=E*D,F=d/_*(1/I(1-A/C))*(O*E-w*j)/C,z=B-l,G=g*(1+x*c)+E-N-h,V=j*D+N*F,q=N*k,H=1+j-(j*R-B*F),Y=B*k,W=V*Y-H*q;if(!W)break;d-=f=(G*V-z*H)/W,g-=p=(z*Y-G*q)/W}while((i(f)>m||i(p)>m)&&--y>0);return[d,g]},l},ne=ee(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),re=function(){return Object(r.geoProjection)(ne).scale(149.995)},ie=ee(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),ae=function(){return Object(r.geoProjection)(ie).scale(153.93)},oe=ee(5/6*_,-.62636,-.0344,0,1.3493,-.05524,0,.045),se=function(){return Object(r.geoProjection)(oe).scale(130.945)};function ue(t,e){var n=t*t,r=e*e;return[t*(1-.162388*r)*(.87-952426e-9*n*n),e*(1+r/12)]}ue.invert=function(t,e){var n,r=t,a=e,o=50;do{var s=a*a;a-=n=(a*(1+s/12)-e)/(1+s/4)}while(i(n)>m&&--o>0);o=50,t/=1-.162388*s;do{var u=(u=r*r)*u;r-=n=(r*(.87-952426e-9*u)-t)/(.87-.00476213*u)}while(i(n)>m&&--o>0);return[r,a]};var ce=function(){return Object(r.geoProjection)(ue).scale(131.747)},le=ee(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762),he=function(){return Object(r.geoProjection)(le).scale(131.087)},fe=function(t){var e=t(w,0)[0]-t(-w,0)[0];function n(n,r){var i=n>0?-.5:.5,a=t(n+i*_,r);return a[0]-=i*e,a}return t.invert&&(n.invert=function(n,r){var i=n>0?-.5:.5,a=t.invert(n+i*e,r),o=a[0]-i*_;return o<-_?o+=2*_:o>_&&(o-=2*_),a[0]=o,a}),n};function pe(t,e){var n=g(t),r=g(e),a=s(e),u=s(t)*a,c=v(t)*a,l=v(r*e);t=i(o(c,l)),e=T(u),i(t-w)>m&&(t%=w);var h=function(t,e){if(e===w)return[0,0];var n,r,a=v(e),o=a*a,u=o*o,c=1+u,l=1+3*u,h=1-u,f=T(1/I(c)),p=h+o*c*f,d=(1-a)/p,g=I(d),y=d*c,x=I(y),b=g*h;if(0===t)return[0,-(b+o*x)];var M,S=s(e),E=1/S,C=2*a*S,k=(-p*S-(-3*o+f*l)*C*(1-a))/(p*p),P=-E*C,A=-E*(o*c*k+d*l*C),O=-2*E*(h*(.5*k/g)-2*o*g*C),L=4*t/_;if(t>.222*_||e<_/4&&t>.175*_){if(n=(b+o*I(y*(1+u)-b*b))/(1+u),t>_/4)return[n,n];var j=n,R=.5*n;n=.5*(R+j),r=50;do{var D=I(y-n*n),N=n*(O+P*D)+A*T(n/x)-L;if(!N)break;N<0?R=n:j=n,n=.5*(R+j)}while(i(j-R)>m&&--r>0)}else{n=m,r=25;do{var B=n*n,F=I(y-B),z=O+P*F,G=n*z+A*T(n/x)-L,V=z+(A-P*B)/F;n-=M=F?G/V:0}while(i(M)>m&&--r>0)}return[n,-b-o*I(y-n*n)]}(t>_/4?w-t:t,e);return t>_/4&&(l=h[0],h[0]=-h[1],h[1]=-l),h[0]*=n,h[1]*=-r,h}pe.invert=function(t,e){i(t)>1&&(t=2*g(t)-t),i(e)>1&&(e=2*g(e)-e);var n=g(t),r=g(e),a=-n*t,u=-r*e,c=u/a<1,l=function(t,e){var n=0,r=1,a=.5,o=50;for(;;){var u=a*a,c=I(a),l=T(1/I(1+u)),h=1-u+a*(1+u)*l,f=(1-c)/h,p=I(f),d=f*(1+u),g=p*(1-u),v=d-t*t,y=I(v),m=e+g+a*y;if(i(r-n)<x||0==--o||0===m)break;m>0?n=a:r=a,a=.5*(n+r)}if(!o)return null;var w=T(c),b=s(w),M=1/b,S=2*c*b,E=(-h*b-(-3*a+l*(1+3*u))*S*(1-c))/(h*h);return[_/4*(t*(-2*M*(.5*E/p*(1-u)-2*a*p*S)+-M*S*y)+-M*(a*(1+u)*E+f*(1+3*u)*S)*T(t/I(d))),w]}(c?u:a,c?a:u),h=l[0],f=l[1],p=s(f);return c&&(h=-w-h),[n*(o(v(h)*p,-v(f))+_),r*T(s(h)*p)]};var de=function(){return Object(r.geoProjection)(fe(pe)).scale(239.75)};function ge(t,e){var n,r,o,c,l,h;if(e<m)return[(c=v(t))-(n=e*(t-c*(r=s(t)))/4)*r,r+n*c,1-e*c*c/2,t-n];if(e>=1-m)return n=(1-e)/4,o=1/(r=L(t)),[(c=((h=u(2*(h=t)))-1)/(h+1))+n*((l=r*O(t))-t)/(r*r),o-n*c*o*(l-t),o+n*c*o*(l+t),2*a(u(t))-w+n*(l-t)/r];var f=[1,0,0,0,0,0,0,0,0],p=[I(e),0,0,0,0,0,0,0,0],d=0;for(r=I(1-e),l=1;i(p[d]/f[d])>m&&d<8;)n=f[d++],p[d]=(n-r)/2,f[d]=(n+r)/2,r=I(n*r),l*=2;o=l*f[d]*t;do{o=(T(c=p[d]*v(r=o)/f[d])+o)/2}while(--d);return[v(o),c=s(o),c/s(o-r),o]}function ve(t,e){if(!e)return t;if(1===e)return l(y(t/2+b));for(var n=1,r=I(1-e),o=I(e),s=0;i(o)>m;s++){if(t%_){var u=a(r*y(t)/n);u<0&&(u+=_),t+=u+~~(t/_)*_}else t+=t;o=(n+r)/2,r=I(n*r),o=((n=o)-r)/2}return t/(p(2,s)*n)}function ye(t,e){var n,r,c,h,f,p=(S-1)/(S+1),d=I(1-p*p),m=ve(w,d*d),x=l(y(_/4+i(e)/2)),b=u(-1*x)/I(p),M=(n=b*s(-1*t),r=b*v(-1*t),h=r+1,f=1-(c=n*n)-r*r,[.5*((n>=0?w:-w)-o(f,2*n)),-.25*l(f*f+4*c)+.5*l(h*h+c)]),E=function(t,e,n){var r=i(t),o=O(i(e));if(r){var s=1/v(r),u=1/(y(r)*y(r)),c=-(u+n*(o*o*s*s)-1+n),l=(-c+I(c*c-(n-1)*u*4))/2;return[ve(a(1/I(l)),n)*g(t),ve(a(I((l/u-1)/n)),1-n)*g(e)]}return[0,ve(a(o),1-n)*g(e)]}(M[0],M[1],d*d);return[-E[1],(e>=0?1:-1)*(.5*m-E[0])]}ye.invert=function(t,e){var n,r,i,s,c,h,f,p,d,g=(S-1)/(S+1),v=I(1-g*g),y=ve(w,v*v),m=(c=-t,h=v*v,(s=.5*y-e)?(f=ge(s,h),c?(d=(p=ge(c,1-h))[1]*p[1]+h*f[0]*f[0]*p[0]*p[0],[[f[0]*p[2]/d,f[1]*f[2]*p[0]*p[1]/d],[f[1]*p[1]/d,-f[0]*f[2]*p[0]*p[2]/d],[f[2]*p[1]*p[2]/d,-h*f[0]*f[1]*p[0]/d]]):[[f[0],0],[f[1],0],[f[2],0]]):[[0,(p=ge(c,1-h))[0]/p[1]],[1/p[1],0],[p[2]/p[1],0]]),x=(n=m[0],i=(r=m[1])[0]*r[0]+r[1]*r[1],[(n[0]*r[0]+n[1]*r[1])/i,(n[1]*r[0]-n[0]*r[1])/i]);return[o(x[1],x[0])/-1,2*a(u(-.5*l(g*x[0]*x[0]+g*x[1]*x[1])))-w]};var me=function(){return Object(r.geoProjection)(fe(ye)).scale(151.496)};function xe(t,e){if(arguments.length<2&&(e=t),1===e)return r.geoAzimuthalEqualAreaRaw;if(e===1/0)return _e;function n(n,i){var a=Object(r.geoAzimuthalEqualAreaRaw)(n/e,i);return a[0]*=t,a}return n.invert=function(n,i){var a=r.geoAzimuthalEqualAreaRaw.invert(n/t,i);return a[0]*=e,a},n}function _e(t,e){return[t*s(e)/s(e/=2),2*v(e)]}_e.invert=function(t,e){var n=2*T(e/2);return[t*s(n/2)/s(n),n]};var we=function(){var t=2,e=Object(r.geoProjectionMutator)(xe),n=e(t);return n.coefficient=function(n){return arguments.length?e(t=+n):t},n.scale(169.529)};function be(t){var e=v(t),n=s(t),r=Me(t);function a(t,a){var o=r(t,a);t=o[0],a=o[1];var u=v(a),c=s(a),l=s(t),h=A(e*u+n*c*l),f=v(h),p=i(f)>m?h/f:1;return[p*n*v(t),(i(t)>w?p:-p)*(e*c-n*u*l)]}return r.invert=Me(-t),a.invert=function(t,n){var i=I(t*t+n*n),a=-v(i),u=s(i),c=i*u,l=-n*a,h=i*e,f=I(c*c+l*l-h*h),p=o(c*h+l*f,l*h-c*f),d=(i>w?-1:1)*o(t*a,i*s(p)*u+n*v(p)*a);return r.invert(d,p)},a}function Me(t){var e=v(t),n=s(t);return function(t,r){var i=s(r),a=s(t)*i,u=v(t)*i,c=v(r);return[o(u,a*n-c*e),T(c*n+a*e)]}}var Se=function(){var t=0,e=Object(r.geoProjectionMutator)(be),n=e(t),i=n.rotate,a=n.stream,o=Object(r.geoCircle)();return n.parallel=function(r){if(!arguments.length)return t*k;var i=n.rotate();return e(t=r*P).rotate(i)},n.rotate=function(e){return arguments.length?(i.call(n,[e[0],e[1]-t*k]),o.center([-e[0],-e[1]]),n):((e=i.call(n))[1]+=t*k,e)},n.stream=function(t){return(t=a(t)).sphere=function(){t.polygonStart();var e,n=o.radius(89.99)().coordinates[0],r=n.length-1,i=-1;for(t.lineStart();++i<r;)t.point((e=n[i])[0],e[1]);for(t.lineEnd(),r=(n=o.radius(90.01)().coordinates[0]).length-1,t.lineStart();--i>=0;)t.point((e=n[i])[0],e[1]);t.lineEnd(),t.polygonEnd()},t},n.scale(79.4187).parallel(45).clipAngle(179.999)},Ee=n(524),Ce=41+48/36+37/3600,ke=St(0);function Pe(t){var e=Ce*P,n=yt(_,e)[0]-yt(-_,e)[0],r=ke(0,e)[1],a=yt(0,e)[1],o=E-a,s=C/t,u=4/C,l=r+o*o*4/C;function p(p,d){var g,v=i(d);if(v>e){var y=f(t-1,h(0,c((p+_)/s)));(g=yt(p+=_*(t-1)/t-y*s,v))[0]=g[0]*C/n-C*(t-1)/(2*t)+y*C/t,g[1]=r+4*(g[1]-a)*o/C,d<0&&(g[1]=-g[1])}else g=ke(p,d);return g[0]*=u,g[1]/=l,g}return p.invert=function(e,p){e/=u;var d=i(p*=l);if(d>r){var g=f(t-1,h(0,c((e+_)/s)));e=(e+_*(t-1)/t-g*s)*n/C;var v=yt.invert(e,.25*(d-r)*C/o+a);return v[0]-=_*(t-1)/t-g*s,p<0&&(v[1]=-v[1]),v}return ke.invert(e,p)},p}var Te=function(){var t=4,e=Object(r.geoProjectionMutator)(Pe),n=e(t),i=n.stream;return n.lobes=function(n){return arguments.length?e(t=+n):t},n.stream=function(e){var a=n.rotate(),o=i(e),s=(n.rotate([0,0]),i(e));return n.rotate(a),o.sphere=function(){var e;Object(r.geoStream)((e=180/t,{type:"Polygon",coordinates:[Object(Ee.range)(-180,180+e/2,e).map(function(t,e){return[t,1&e?90-1e-6:Ce]}).concat(Object(Ee.range)(180,-180-e/2,-e).map(function(t,e){return[t,1&e?1e-6-90:-Ce]}))]}),s)},o},n.scale(239.75)};function Ae(t){var e,n=1+t,r=T(v(1/n)),a=2*I(_/(e=_+4*r*n)),u=.5*a*(n+I(t*(2+t))),c=t*t,l=n*n;function h(h,f){var p,d,g=1-v(f);if(g&&g<2){var y,m=w-f,b=25;do{var M=v(m),S=s(m),E=r+o(M,n-S),C=1+l-2*n*S;m-=y=(m-c*r-n*M+C*E-.5*g*e)/(2*n*M*E)}while(i(y)>x&&--b>0);p=a*I(C),d=h*E/_}else p=a*(t+g),d=h*r/_;return[p*v(d),u-p*s(d)]}return h.invert=function(t,i){var s=t*t+(i-=u)*i,h=(1+l-s/(a*a))/(2*n),f=A(h),p=v(f),d=r+o(p,n-h);return[T(t/I(s))*_/d,T(1-2*(f-c*r-n*p+(1+l-2*n*h)*d)/e)]},h}var Ie=function(){var t=1,e=Object(r.geoProjectionMutator)(Ae),n=e(t);return n.ratio=function(n){return arguments.length?e(t=+n):t},n.scale(167.774).center([0,18.67])},Oe=.7109889596207567,Le=.0528035274542;function je(t,e){return e>-Oe?((t=Q(t,e))[1]+=Le,t):rt(t,e)}je.invert=function(t,e){return e>-Oe?Q.invert(t,e-Le):rt.invert(t,e)};var Re=function(){return Object(r.geoProjection)(je).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};function De(t,e){return i(e)>Oe?((t=Q(t,e))[1]-=e>0?Le:-Le,t):rt(t,e)}De.invert=function(t,e){return i(e)>Oe?Q.invert(t,e+(e>0?Le:-Le)):rt.invert(t,e)};var Ne=function(){return Object(r.geoProjection)(De).scale(152.63)};function Be(t,e){for(var n,r,i,a=-1,o=t.length,s=t[0],u=[];++a<o;){r=((n=t[a])[0]-s[0])/e,i=(n[1]-s[1])/e;for(var c=0;c<e;++c)u.push([s[0]+c*r,s[1]+c*i]);s=n}return u.push(n),u}var Fe=function(t,e){var n=function(t){var e,n,r,i,a,o,s,u=[],c=t[0].length;for(s=0;s<c;++s)n=(e=t[0][s])[0][0],r=e[0][1],i=e[1][1],a=e[2][0],o=e[2][1],u.push(Be([[n+m,r+m],[n+m,i-m],[a-m,i-m],[a-m,o+m]],30));for(s=t[1].length-1;s>=0;--s)n=(e=t[1][s])[0][0],r=e[0][1],i=e[1][1],a=e[2][0],o=e[2][1],u.push(Be([[a-m,o-m],[a-m,i+m],[n+m,i+m],[n+m,r-m]],30));return{type:"Polygon",coordinates:[Object(Ee.merge)(u)]}}(e),a=(e=e.map(function(t){return t.map(function(t){return[[t[0][0]*P,t[0][1]*P],[t[1][0]*P,t[1][1]*P],[t[2][0]*P,t[2][1]*P]]})})).map(function(e){return e.map(function(e){var n,r=t(e[0][0],e[0][1])[0],i=t(e[2][0],e[2][1])[0],a=t(e[1][0],e[0][1])[1],o=t(e[1][0],e[1][1])[1];return a>o&&(n=a,a=o,o=n),[[r,a],[i,o]]})});function o(n,r){for(var i=r<0?-1:1,a=e[+(r<0)],o=0,s=a.length-1;o<s&&n>a[o][2][0];++o);var u=t(n-a[o][1][0],r);return u[0]+=t(a[o][1][0],i*r>i*a[o][0][1]?a[o][0][1]:r)[0],u}t.invert&&(o.invert=function(n,r){for(var s,u,c=a[+(r<0)],l=e[+(r<0)],h=0,f=c.length;h<f;++h){var p=c[h];if(p[0][0]<=n&&n<p[1][0]&&p[0][1]<=r&&r<p[1][1]){var d=t.invert(n-t(l[h][1][0],0)[0],r);return d[0]+=l[h][1][0],s=o(d[0],d[1]),u=[n,r],i(s[0]-u[0])<m&&i(s[1]-u[1])<m?d:null}}});var s=Object(r.geoProjection)(o),u=s.stream;return s.stream=function(t){var e=s.rotate(),i=u(t),a=(s.rotate([0,0]),u(t));return s.rotate(e),i.sphere=function(){Object(r.geoStream)(n,a)},i},s},ze=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Ge=function(){return Fe(tt,ze).scale(160.857)},Ve=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],qe=function(){return Fe(De,Ve).scale(152.63)},He=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Ye=function(){return Fe(Q,He).scale(169.529)},We=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Ue=function(){return Fe(Q,We).scale(169.529).rotate([20,0])},Xe=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],Ze=function(){return Fe(je,Xe).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},Qe=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]],Je=function(){return Fe(rt,Qe).scale(152.63).rotate([-20,0])};function $e(t,e){return[3/C*t*I(_*_/3-e*e),e]}$e.invert=function(t,e){return[C/3*t/I(_*_/3-e*e),e]};var Ke=function(){return Object(r.geoProjection)($e).scale(158.837)};function tn(t){function e(e,n){if(i(i(n)-w)<m)return[0,n<0?-2:2];var r=v(n),a=p((1+r)/(1-r),t/2),o=.5*(a+1/a)+s(e*=t);return[2*v(e)/o,(a-1/a)/o]}return e.invert=function(e,n){var r=i(n);if(i(r-2)<m)return e?null:[0,g(n)*w];if(r>2)return null;var a=(e/=2)*e,s=(n/=2)*n,u=2*n/(1+a+s);return u=p((1+u)/(1-u),1/t),[o(2*e,1-a-s)/t,T((u-1)/(u+1))]},e}var en=function(){var t=.5,e=Object(r.geoProjectionMutator)(tn),n=e(t);return n.spacing=function(n){return arguments.length?e(t=+n):t},n.scale(124.75)},nn=_/S;function rn(t,e){return[t*(1+I(s(e)))/2,e/(s(e/2)*s(t/6))]}rn.invert=function(t,e){var n=i(t),r=i(e),a=m,o=w;r<nn?o*=r/nn:a+=6*A(nn/r);for(var u=0;u<25;u++){var c=v(o),l=I(s(o)),h=v(o/2),f=s(o/2),p=v(a/6),d=s(a/6),g=.5*a*(1+l)-n,y=o/(f*d)-r,x=l?-.25*a*c/l:0,_=.5*(1+l),b=(1+.5*o*h/f)/(f*d),M=o/f*(p/6)/(d*d),S=x*M-b*_,E=(g*M-y*_)/S,C=(y*x-g*b)/S;if(o-=E,a-=C,i(E)<m&&i(C)<m)break}return[t<0?-a:a,e<0?-o:o]};var an=function(){return Object(r.geoProjection)(rn).scale(97.2672)};function on(t,e){var n=t*t,r=e*e;return[t*(.975534+r*(-.0143059*n-.119161+-.0547009*r)),e*(1.00384+n*(.0802894+-.02855*r+199025e-9*n)+r*(.0998909+-.0491032*r))]}on.invert=function(t,e){var n=g(t)*_,r=e/2,a=50;do{var o=n*n,s=r*r,u=n*r,c=n*(.975534+s*(-.0143059*o-.119161+-.0547009*s))-t,l=r*(1.00384+o*(.0802894+-.02855*s+199025e-9*o)+s*(.0998909+-.0491032*s))-e,h=.975534-s*(.119161+3*o*.0143059+.0547009*s),f=-u*(.238322+.2188036*s+.0286118*o),p=u*(.1605788+7961e-7*o+-.0571*s),d=1.00384+o*(.0802894+199025e-9*o)+s*(3*(.0998909-.02855*o)-.245516*s),v=f*p-d*h,y=(l*f-c*d)/v,x=(c*p-l*h)/v;n-=y,r-=x}while((i(y)>m||i(x)>m)&&--a>0);return a&&[n,r]};var sn=function(){return Object(r.geoProjection)(on).scale(139.98)};function un(t,e){return[v(t)/s(e),y(e)*s(t)]}un.invert=function(t,e){var n=t*t,r=e*e,i=r+1,a=t?M*I((i-I(n*n+2*n*(r-1)+i*i))/n+1):1/I(i);return[T(t*a),g(e)*A(a)]};var cn=function(){return Object(r.geoProjection)(un).scale(144.049).clipAngle(89.999)};function ln(t){var e=s(t),n=y(b+t/2);function r(r,a){var o=a-t,s=i(o)<m?r*e:i(s=b+a/2)<m||i(i(s)-w)<m?0:r*o/l(y(s)/n);return[s,o]}return r.invert=function(r,a){var o,s=a+t;return[i(a)<m?r/e:i(o=b+s/2)<m||i(i(o)-w)<m?0:r*l(y(o)/n)/a,s]},r}var hn=function(){return nt(ln).parallel(40).scale(158.837)};function fn(t,e){return[t,1.25*l(y(b+.4*e))]}fn.invert=function(t,e){return[t,2.5*a(u(.8*e))-.625*_]};var pn=function(){return Object(r.geoProjection)(fn).scale(108.318)};function dn(t){var e=t.length-1;function n(n,r){for(var i,a=s(r),o=2/(1+a*s(n)),u=o*a*v(n),c=o*v(r),l=e,h=t[l],f=h[0],p=h[1];--l>=0;)f=(h=t[l])[0]+u*(i=f)-c*p,p=h[1]+u*p+c*i;return[f=u*(i=f)-c*p,p=u*p+c*i]}return n.invert=function(n,r){var u=20,c=n,l=r;do{for(var h,f=e,p=t[f],d=p[0],g=p[1],y=0,x=0;--f>=0;)p=t[f],y=d+c*(h=y)-l*x,x=g+c*x+l*h,d=p[0]+c*(h=d)-l*g,g=p[1]+c*g+l*h;var _,w,b=(y=d+c*(h=y)-l*x)*y+(x=g+c*x+l*h)*x;c-=_=((d=c*(h=d)-l*g-n)*y+(g=c*g+l*h-r)*x)/b,l-=w=(g*y-d*x)/b}while(i(_)+i(w)>m*m&&--u>0);if(u){var M=I(c*c+l*l),S=2*a(.5*M),E=v(S);return[o(c*E,M*s(S)),M?T(l*E/M):0]}},n}var gn=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],vn=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],yn=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],mn=[[.9245,0],[0,0],[.01943,0]],xn=[[.721316,0],[0,0],[-.00881625,-.00617325]];function _n(){return En(gn,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)}function wn(){return En(vn,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function bn(){return En(yn,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Mn(){return En(mn,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Sn(){return En(xn,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function En(t,e){var n=Object(r.geoProjection)(dn(t)).rotate(e).clipAngle(90),i=Object(r.geoRotation)(e),a=n.center;return delete n.rotate,n.center=function(t){return arguments.length?a(i(t)):i.invert(a())},n}var Cn=I(6),kn=I(7);function Pn(t,e){var n=T(7*v(e)/(3*Cn));return[Cn*t*(2*s(2*n/3)-1)/kn,9*v(n/3)/kn]}Pn.invert=function(t,e){var n=3*T(e*kn/9);return[t*kn/(Cn*(2*s(2*n/3)-1)),T(3*v(n)*Cn/7)]};var Tn=function(){return Object(r.geoProjection)(Pn).scale(164.859)};function An(t,e){for(var n,r=(1+M)*v(e),a=e,o=0;o<25&&(a-=n=(v(a/2)+v(a)-r)/(.5*s(a/2)+s(a)),!(i(n)<m));o++);return[t*(1+2*s(a)/s(a/2))/(3*S),2*I(3)*v(a/2)/I(2+S)]}An.invert=function(t,e){var n=e*I(2+S)/(2*I(3)),r=2*T(n);return[3*S*t/(1+2*s(r)/s(r/2)),T((n+v(r))/(1+M))]};var In=function(){return Object(r.geoProjection)(An).scale(188.209)};function On(t,e){for(var n,r=I(6/(4+_)),a=(1+_/4)*v(e),o=e/2,u=0;u<25&&(o-=n=(o/2+v(o)-a)/(.5+s(o)),!(i(n)<m));u++);return[r*(.5+s(o))*t/1.5,r*o]}On.invert=function(t,e){var n=I(6/(4+_)),r=e/n;return i(i(r)-w)<m&&(r=r<0?-w:w),[1.5*t/(n*(.5+s(r))),T((r/2+v(r))/(1+_/4))]};var Ln=function(){return Object(r.geoProjection)(On).scale(166.518)};function jn(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}jn.invert=function(t,e){var n,r=e,a=25;do{var o=r*r,s=o*o;r-=n=(r*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(i(n)>m&&--a>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Rn=function(){return Object(r.geoProjection)(jn).scale(175.295)};function Dn(t,e){var n=e*e,r=n*n,i=n*r;return[t*(.84719-.13063*n+i*i*(.05494*n-.04515-.02326*r+.00331*i)),e*(1.01183+r*r*(.01926*n-.02625-.00396*r))]}Dn.invert=function(t,e){var n,r,a,o,s=e,u=25;do{s-=n=(s*(1.01183+(a=(r=s*s)*r)*a*(.01926*r-.02625-.00396*a))-e)/(1.01183+a*a*(.21186*r-.23625+-.05148*a))}while(i(n)>x&&--u>0);return[t/(.84719-.13063*(r=s*s)+(o=r*(a=r*r))*o*(.05494*r-.04515-.02326*a+.00331*o)),s]};var Nn=function(){return Object(r.geoProjection)(Dn).scale(175.295)};function Bn(t,e){return[t*(1+s(e))/2,2*(e-y(e/2))]}Bn.invert=function(t,e){for(var n=e/2,r=0,a=1/0;r<10&&i(a)>m;++r){var o=s(e/2);e-=a=(e-y(e/2)-n)/(1-.5/(o*o))}return[2*t/(1+s(e)),e]};var Fn=function(){return Object(r.geoProjection)(Bn).scale(152.63)},zn=1.0148,Gn=.23185,Vn=-.14499,qn=.02406,Hn=zn,Yn=5*Gn,Wn=7*Vn,Un=9*qn,Xn=1.790857183;function Zn(t,e){var n=e*e;return[t,e*(zn+n*n*(Gn+n*(Vn+qn*n)))]}Zn.invert=function(t,e){e>Xn?e=Xn:e<-Xn&&(e=-Xn);var n,r=e;do{var a=r*r;r-=n=(r*(zn+a*a*(Gn+a*(Vn+qn*a)))-e)/(Hn+a*a*(Yn+a*(Wn+Un*a)))}while(i(n)>m);return[t,r]};var Qn=function(){return Object(r.geoProjection)(Zn).scale(139.319)};function Jn(t,e){if(i(e)<m)return[t,0];var n=y(e),r=t*v(e);return[v(r)/n,e+(1-s(r))/n]}Jn.invert=function(t,e){if(i(e)<m)return[t,0];var n,r=t*t+e*e,a=.5*e,o=10;do{var u=y(a),c=1/s(a),l=r-2*e*a+a*a;a-=n=(u*l+2*(a-e))/(2+l*c*c+2*(a-e)*u)}while(i(n)>m&&--o>0);return u=y(a),[(i(e)<i(a+1/u)?T(t*u):g(t)*(A(i(t*u))+w))/v(a),a]};var $n=function(){return Object(r.geoProjection)(Jn).scale(103.74)},Kn=function(t,e){var n,r,i=er(t[1],t[0]),a=er(e[1],e[0]),u=(r=a,o((n=i)[0]*r[1]-n[1]*r[0],n[0]*r[0]+n[1]*r[1])),c=nr(i)/nr(a);return tr([1,0,t[0][0],0,1,t[0][1]],tr([c,0,0,0,c,0],tr([s(u),v(u),0,-v(u),s(u),0],[1,0,-e[0][0],0,1,-e[0][1]])))};function tr(t,e){return[t[0]*e[0]+t[1]*e[3],t[0]*e[1]+t[1]*e[4],t[0]*e[2]+t[1]*e[5]+t[2],t[3]*e[0]+t[4]*e[3],t[3]*e[1]+t[4]*e[4],t[3]*e[2]+t[4]*e[5]+t[5]]}function er(t,e){return[t[0]-e[0],t[1]-e[1]]}function nr(t){return I(t[0]*t[0]+t[1]*t[1])}var rr=function(t,e,n){function a(t,n){var r,i=e(t,n),a=i.project([t*k,n*k]);return(r=i.transform)?[r[0]*a[0]+r[1]*a[1]+r[2],-(r[3]*a[0]+r[4]*a[1]+r[5])]:(a[1]=-a[1],a)}(function t(e,n){e.edges=function(t){for(var e=t.length,n=[],r=t[e-1],i=0;i<e;++i)n.push([r,r=t[i]]);return n}(e.face);if(n.face){var r=e.shared=function(t,e){for(var n,r,i=t.length,a=null,o=0;o<i;++o){n=t[o];for(var s=e.length;--s>=0;)if(r=e[s],n[0]===r[0]&&n[1]===r[1]){if(a)return[a,n];a=n}}}(e.face,n.face),i=Kn(r.map(n.project),r.map(e.project));e.transform=n.transform?tr(n.transform,i):i;for(var a=n.edges,o=0,s=a.length;o<s;++o)ir(r[0],a[o][1])&&ir(r[1],a[o][0])&&(a[o]=e),ir(r[0],a[o][0])&&ir(r[1],a[o][1])&&(a[o]=e);for(a=e.edges,o=0,s=a.length;o<s;++o)ir(r[0],a[o][0])&&ir(r[1],a[o][1])&&(a[o]=n),ir(r[0],a[o][1])&&ir(r[1],a[o][0])&&(a[o]=n)}else e.transform=n.transform;e.children&&e.children.forEach(function(n){t(n,e)});return e})(t,{transform:[s(n=null==n?-_/6:n),v(n),0,-v(n),s(n),0]}),ar(t)&&(a.invert=function(n,r){var i=function t(n,r){var i=n.project.invert,a=n.transform,o=r;a&&(u=1/((s=a)[0]*s[4]-s[1]*s[3]),a=[u*s[4],-u*s[1],u*(s[1]*s[5]-s[2]*s[4]),-u*s[3],u*s[0],u*(s[2]*s[3]-s[0]*s[5])],o=[a[0]*o[0]+a[1]*o[1]+a[2],a[3]*o[0]+a[4]*o[1]+a[5]]);var s,u;if(i&&n===(c=l=i(o),e(c[0]*P,c[1]*P)))return l;var c;var l,h=n.children;for(var f=0,p=h&&h.length;f<p;++f)if(l=t(h[f],r))return l}(t,[n,-r]);return i&&(i[0]*=P,i[1]*=P,i)});var o=Object(r.geoProjection)(a),u=o.stream;return o.stream=function(e){var n=o.rotate(),a=u(e),s=(o.rotate([0,0]),u(e));return o.rotate(n),a.sphere=function(){s.polygonStart(),s.lineStart(),function t(e,n,a){var o,s,u=n.edges,c=u.length,l={type:"MultiPoint",coordinates:n.face},h=n.face.filter(function(t){return 90!==i(t[1])}),f=Object(r.geoBounds)({type:"MultiPoint",coordinates:h}),p=!1,d=-1,g=f[1][0]-f[0][0];var v=180===g||360===g?[(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2]:Object(r.geoCentroid)(l);if(a)for(;++d<c&&u[d]!==a;);++d;for(var y=0;y<c;++y)s=u[(y+d)%c],Array.isArray(s)?(p||(e.point((o=Object(r.geoInterpolate)(s[0],v)(m))[0],o[1]),p=!0),e.point((o=Object(r.geoInterpolate)(s[1],v)(m))[0],o[1])):(p=!1,s!==a&&t(e,s,n))}(s,t),s.lineEnd(),s.polygonEnd()},a},o};function ir(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}function ar(t){return t.project.invert||t.children&&t.children.some(ar)}var or=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],sr=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(t){return t.map(function(t){return or[t]})}),ur=function(t){t=t||function(t){var e=Object(r.geoCentroid)({type:"MultiPoint",coordinates:t});return Object(r.geoGnomonic)().scale(1).translate([0,0]).rotate([-e[0],-e[1]])};var e=sr.map(function(e){return{face:e,project:t(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(t,n){var r=e[t];r&&(r.children||(r.children=[])).push(e[n])}),rr(e[0],function(t,n){return e[t<-_/2?n<0?6:4:t<0?n<0?2:0:t<_/2?n<0?3:1:n<0?7:5]}).scale(101.858).center([0,45])},cr=2/I(3);function lr(t,e){var n=yt(t,e);return[n[0]*cr,n[1]]}lr.invert=function(t,e){return yt.invert(t/cr,e)};var hr=function(t){t=t||function(t){var e=Object(r.geoCentroid)({type:"MultiPoint",coordinates:t});return Object(r.geoProjection)(lr).translate([0,0]).scale(1).rotate(e[1]>0?[-e[0],0]:[180-e[0],180])};var e=sr.map(function(e){return{face:e,project:t(e)}});return[-1,0,0,1,0,1,4,5].forEach(function(t,n){var r=e[t];r&&(r.children||(r.children=[])).push(e[n])}),rr(e[0],function(t,n){return e[t<-_/2?n<0?6:4:t<0?n<0?2:0:t<_/2?n<0?3:1:n<0?7:5]}).scale(121.906).center([0,48.5904])},fr=function(t){t=t||function(t){var e=6===t.length?Object(r.geoCentroid)({type:"MultiPoint",coordinates:t}):t[0];return Object(r.geoGnomonic)().scale(1).translate([0,0]).rotate([-e[0],-e[1]])};var e=sr.map(function(t){for(var e,n=t.map(gr),r=n.length,i=n[r-1],a=[],o=0;o<r;++o)e=n[o],a.push(dr([.9486832980505138*i[0]+.31622776601683794*e[0],.9486832980505138*i[1]+.31622776601683794*e[1],.9486832980505138*i[2]+.31622776601683794*e[2]]),dr([.9486832980505138*e[0]+.31622776601683794*i[0],.9486832980505138*e[1]+.31622776601683794*i[1],.9486832980505138*e[2]+.31622776601683794*i[2]])),i=e;return a}),n=[],i=[-1,0,0,1,0,1,4,5];e.forEach(function(t,r){for(var a,o,s=sr[r],u=s.length,c=n[r]=[],l=0;l<u;++l)e.push([s[l],t[(2*l+2)%(2*u)],t[(2*l+1)%(2*u)]]),i.push(r),c.push((a=gr(t[(2*l+2)%(2*u)]),o=gr(t[(2*l+1)%(2*u)]),[a[1]*o[2]-a[2]*o[1],a[2]*o[0]-a[0]*o[2],a[0]*o[1]-a[1]*o[0]]))});var a=e.map(function(e){return{project:t(e),face:e}});return i.forEach(function(t,e){var n=a[t];n&&(n.children||(n.children=[])).push(a[e])}),rr(a[0],function(t,e){var r=s(e),i=[r*s(t),r*v(t),v(e)],o=t<-_/2?e<0?6:4:t<0?e<0?2:0:t<_/2?e<0?3:1:e<0?7:5,u=n[o];return a[pr(u[0],i)<0?8+3*o:pr(u[1],i)<0?8+3*o+1:pr(u[2],i)<0?8+3*o+2:o]}).scale(110.625).center([0,45])};function pr(t,e){for(var n=0,r=t.length,i=0;n<r;++n)i+=t[n]*e[n];return i}function dr(t){return[o(t[1],t[0])*k,T(h(-1,f(1,t[2])))*k]}function gr(t){var e=t[0]*P,n=t[1]*P,r=s(n);return[r*s(e),r*v(e),v(n)]}var vr=function(){},yr=function(t,e){var n,r=e.stream;if(!r)throw new Error("invalid projection");switch(t&&t.type){case"Feature":n=xr;break;case"FeatureCollection":n=mr;break;default:n=_r}return n(t,r)};function mr(t,e){return{type:"FeatureCollection",features:t.features.map(function(t){return xr(t,e)})}}function xr(t,e){return{type:"Feature",id:t.id,properties:t.properties,geometry:_r(t.geometry,e)}}function _r(t,e){if(!t)return null;if("GeometryCollection"===t.type)return n=e,{type:"GeometryCollection",geometries:t.geometries.map(function(t){return _r(t,n)})};var n,i;switch(t.type){case"Point":case"MultiPoint":i=Mr;break;case"LineString":case"MultiLineString":i=Sr;break;case"Polygon":case"MultiPolygon":case"Sphere":i=Er;break;default:return null}return Object(r.geoStream)(t,e(i)),i.result()}var wr=[],br=[],Mr={point:function(t,e){wr.push([t,e])},result:function(){var t=wr.length?wr.length<2?{type:"Point",coordinates:wr[0]}:{type:"MultiPoint",coordinates:wr}:null;return wr=[],t}},Sr={lineStart:vr,point:function(t,e){wr.push([t,e])},lineEnd:function(){wr.length&&(br.push(wr),wr=[])},result:function(){var t=br.length?br.length<2?{type:"LineString",coordinates:br[0]}:{type:"MultiLineString",coordinates:br}:null;return br=[],t}},Er={polygonStart:vr,lineStart:vr,point:function(t,e){wr.push([t,e])},lineEnd:function(){var t=wr.length;if(t){do{wr.push(wr[0].slice())}while(++t<4);br.push(wr),wr=[]}},polygonEnd:vr,result:function(){if(!br.length)return null;var t=[],e=[];return br.forEach(function(n){!function(t){if((e=t.length)<4)return!1;for(var e,n=0,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r<=0}(n)?e.push(n):t.push([n])}),e.forEach(function(e){var n=e[0];t.some(function(t){if(function(t,e){for(var n=e[0],r=e[1],i=!1,a=0,o=t.length,s=o-1;a<o;s=a++){var u=t[a],c=u[0],l=u[1],h=t[s],f=h[0],p=h[1];l>r^p>r&&n<(f-c)*(r-l)/(p-l)+c&&(i=!i)}return i}(t[0],n))return t.push(e),!0})||t.push([e])}),br=[],t.length?t.length>1?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t[0]}:null}},Cr=function(t){var e=t(w,0)[0]-t(-w,0)[0];function n(n,r){var a=i(n)<w,o=t(a?n:n>0?n-_:n+_,r),s=(o[0]-o[1])*M,u=(o[0]+o[1])*M;if(a)return[s,u];var c=e*M,l=s>0^u>0?-1:1;return[l*s-g(u)*c,l*u-g(s)*c]}return t.invert&&(n.invert=function(n,r){var a=(n+r)*M,o=(r-n)*M,s=i(a)<.5*e&&i(o)<.5*e;if(!s){var u=e*M,c=a>0^o>0?-1:1,l=-c*n+(o>0?1:-1)*u,h=-c*r+(a>0?1:-1)*u;a=(-l-h)*M,o=(l-h)*M}var f=t.invert(a,o);return s||(f[0]+=a>0?_:-_),f}),Object(r.geoProjection)(n).rotate([-90,-90,45]).clipAngle(179.999)},kr=function(){return Cr(pe).scale(176.423)},Pr=function(){return Cr(ye).scale(111.48)},Tr=function(t,e){if(!(0<=(e=+e)&&e<=20))throw new Error("invalid digits");function n(t){var n=t.length,r=2,i=new Array(n);for(i[0]=+t[0].toFixed(e),i[1]=+t[1].toFixed(e);r<n;)i[r]=t[r],++r;return i}function r(t){return t.map(n)}function i(t){return t.map(r)}function a(t){if(null==t)return t;var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(a)};break;case"Point":e={type:"Point",coordinates:n(t.coordinates)};break;case"MultiPoint":case"LineString":e={type:t.type,coordinates:r(t.coordinates)};break;case"MultiLineString":case"Polygon":e={type:t.type,coordinates:i(t.coordinates)};break;case"MultiPolygon":e={type:"MultiPolygon",coordinates:t.coordinates.map(i)};break;default:return t}return null!=t.bbox&&(e.bbox=t.bbox),e}function o(t){var e={type:"Feature",properties:t.properties,geometry:a(t.geometry)};return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),e}if(null!=t)switch(t.type){case"Feature":return o(t);case"FeatureCollection":var s={type:"FeatureCollection",features:t.features.map(o)};return null!=t.bbox&&(s.bbox=t.bbox),s;default:return a(t)}return t};function Ar(t){var e=v(t);function n(n,r){var i=e?y(n*e/2)/e:n/2;if(!r)return[2*i,-t];var o=2*a(i*v(r)),u=1/y(r);return[v(o)*u,r+(1-s(o))*u-t]}return n.invert=function(n,r){if(i(r+=t)<m)return[e?2*a(e*n/2)/e:n,0];var o,u=n*n+r*r,c=0,l=10;do{var h=y(c),f=1/s(c),p=u-2*r*c+c*c;c-=o=(h*p+2*(c-r))/(2+p*f*f+2*(c-r)*h)}while(i(o)>m&&--l>0);var d=n*(h=y(c)),g=y(i(r)<i(c+1/h)?.5*T(d):.5*A(d)+_/4)/v(c);return[e?2*a(e*g)/e:2*g,c]},n}var Ir=function(){return nt(Ar).scale(131.215)},Or=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Lr(t,e){var n,r=f(18,36*i(e)/_),a=c(r),o=r-a,s=(n=Or[a])[0],u=n[1],l=(n=Or[++a])[0],h=n[1],p=(n=Or[f(19,++a)])[0],d=n[1];return[t*(l+o*(p-s)/2+o*o*(p-2*l+s)/2),(e>0?w:-w)*(h+o*(d-u)/2+o*o*(d-2*h+u)/2)]}Or.forEach(function(t){t[1]*=1.0144}),Lr.invert=function(t,e){var n=e/w,r=90*n,a=f(18,i(r/5)),o=h(0,c(a));do{var s=Or[o][1],u=Or[o+1][1],l=Or[f(19,o+2)][1],p=l-s,d=l-2*u+s,g=2*(i(n)-u)/p,v=d/p,y=g*(1-v*g*(1-2*v*g));if(y>=0||1===o){r=(e>=0?5:-5)*(y+a);var m,_=50;do{y=(a=f(18,i(r)/5))-(o=c(a)),s=Or[o][1],u=Or[o+1][1],l=Or[f(19,o+2)][1],r-=(m=(e>=0?w:-w)*(u+y*(l-s)/2+y*y*(l-2*u+s)/2)-e)*k}while(i(m)>x&&--_>0);break}}while(--o>=0);var b=Or[o][0],M=Or[o+1][0],S=Or[f(19,o+2)][0];return[t/(M+y*(S-b)/2+y*y*(S-2*M+b)/2),r*P]};var jr=function(){return Object(r.geoProjection)(Lr).scale(152.63)};function Rr(t,e){var n=function(t){function e(e,n){var r=s(n),i=(t-1)/(t-r*s(e));return[i*r*v(e),i*v(n)]}return e.invert=function(e,n){var r=e*e+n*n,i=I(r),a=(t-I(1-r*(t+1)/(t-1)))/((t-1)/i+i/(t-1));return[o(e*a,i*I(1-a*a)),i?T(n*a/i):0]},e}(t);if(!e)return n;var r=s(e),i=v(e);function a(e,a){var o=n(e,a),s=o[1],u=s*i/(t-1)+r;return[o[0]*r/u,s/u]}return a.invert=function(e,a){var o=(t-1)/(t-1-a*i);return n.invert(o*e,o*a*r)},a}var Dr=function(){var t=2,e=0,n=Object(r.geoProjectionMutator)(Rr),i=n(t,e);return i.distance=function(r){return arguments.length?n(t=+r,e):t},i.tilt=function(r){return arguments.length?n(t,e=r*P):e*k},i.scale(432.147).clipAngle(A(1/t)*k-1e-6)},Nr=1e4,Br=-180,Fr=Br+1e-4,zr=180,Gr=zr-1e-4,Vr=-90,qr=Vr+1e-4,Hr=90,Yr=Hr-1e-4;function Wr(t){return t.length>0}function Ur(t){return t===Vr||t===Hr?[0,t]:[Br,(e=t,Math.floor(e*Nr)/Nr)];var e}function Xr(t){var e=t[0],n=t[1],r=!1;return e<=Fr?(e=Br,r=!0):e>=Gr&&(e=zr,r=!0),n<=qr?(n=Vr,r=!0):n>=Yr&&(n=Hr,r=!0),r?[e,n]:t}function Zr(t){return t.map(Xr)}function Qr(t,e,n){for(var r=0,i=t.length;r<i;++r){var a=t[r].slice();n.push({index:-1,polygon:e,ring:a});for(var o=0,s=a.length;o<s;++o){var u=a[o],c=u[0],l=u[1];if(c<=Fr||c>=Gr||l<=qr||l>=Yr){a[o]=Xr(u);for(var h=o+1;h<s;++h){var f=a[h],p=f[0],d=f[1];if(p>Fr&&p<Gr&&d>qr&&d<Yr)break}if(h===o+1)continue;if(o){var g={index:-1,polygon:e,ring:a.slice(0,o+1)};g.ring[g.ring.length-1]=Ur(l),n[n.length-1]=g}else n.pop();if(h>=s)break;n.push({index:-1,polygon:e,ring:a=a.slice(h-1)}),a[0]=Ur(a[0][1]),o=-1,s=a.length}}}}function Jr(t){var e,n,r,i,a,o,s=t.length,u={},c={};for(e=0;e<s;++e)r=(n=t[e]).ring[0],a=n.ring[n.ring.length-1],r[0]!==a[0]||r[1]!==a[1]?(n.index=e,u[r]=c[a]=n):(n.polygon.push(n.ring),t[e]=null);for(e=0;e<s;++e)if(n=t[e]){if(r=n.ring[0],a=n.ring[n.ring.length-1],i=c[r],o=u[a],delete u[r],delete c[a],r[0]===a[0]&&r[1]===a[1]){n.polygon.push(n.ring);continue}i?(delete c[r],delete u[i.ring[0]],i.ring.pop(),t[i.index]=null,n={index:-1,polygon:i.polygon,ring:i.ring.concat(n.ring)},i===o?n.polygon.push(n.ring):(n.index=s++,t.push(u[n.ring[0]]=c[n.ring[n.ring.length-1]]=n))):o?(delete u[a],delete c[o.ring[o.ring.length-1]],n.ring.pop(),n={index:s++,polygon:o.polygon,ring:n.ring.concat(o.ring)},t[o.index]=null,t.push(u[n.ring[0]]=c[n.ring[n.ring.length-1]]=n)):(n.ring.push(n.ring[0]),n.polygon.push(n.ring))}}function $r(t){var e={type:"Feature",geometry:Kr(t.geometry)};return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}function Kr(t){if(null==t)return t;var e,n,r,i;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(Kr)};break;case"Point":e={type:"Point",coordinates:Xr(t.coordinates)};break;case"MultiPoint":case"LineString":e={type:t.type,coordinates:Zr(t.coordinates)};break;case"MultiLineString":e={type:"MultiLineString",coordinates:t.coordinates.map(Zr)};break;case"Polygon":var a=[];Qr(t.coordinates,a,n=[]),Jr(n),e={type:"Polygon",coordinates:a};break;case"MultiPolygon":n=[],r=-1,i=t.coordinates.length;for(var o=new Array(i);++r<i;)Qr(t.coordinates[r],o[r]=[],n);Jr(n),e={type:"MultiPolygon",coordinates:o.filter(Wr)};break;default:return t}return null!=t.bbox&&(e.bbox=t.bbox),e}var ti=function(t){if(null==t)return t;switch(t.type){case"Feature":return $r(t);case"FeatureCollection":var e={type:"FeatureCollection",features:t.features.map($r)};return null!=t.bbox&&(e.bbox=t.bbox),e;default:return Kr(t)}};function ei(t,e){var n=y(e/2),r=v(b*n);return[t*(.74482-.34588*r*r),1.70711*n]}ei.invert=function(t,e){var n=e/1.70711,r=v(b*n);return[t/(.74482-.34588*r*r),2*a(n)]};var ni=function(){return Object(r.geoProjection)(ei).scale(146.153)},ri=function(t,e,n){var i=Object(r.geoInterpolate)(e,n),a=i(.5),o=Object(r.geoRotation)([-a[0],-a[1]])(e),s=i.distance/2,u=-T(v(o[1]*P)/v(s)),c=[-a[0],-a[1],-(o[0]>0?_-u:u)*k],l=Object(r.geoProjection)(t(s)).rotate(c),h=Object(r.geoRotation)(c),f=l.center;return delete l.rotate,l.center=function(t){return arguments.length?f(h(t)):h.invert(f())},l.clipAngle(90)};function ii(t){var e=s(t);function n(t,n){var i=Object(r.geoGnomonicRaw)(t,n);return i[0]*=e,i}return n.invert=function(t,n){return r.geoGnomonicRaw.invert(t/e,n)},n}function ai(){return oi([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function oi(t,e){return ri(ii,t,e)}function si(t){if(!(t*=2))return r.geoAzimuthalEquidistantRaw;var e=-t/2,n=-e,i=t*t,a=y(n),u=.5/v(n);function c(r,a){var o=A(s(a)*s(r-e)),u=A(s(a)*s(r-n));return[((o*=o)-(u*=u))/(2*t),(a<0?-1:1)*I(4*i*u-(i-o+u)*(i-o+u))/(2*t)]}return c.invert=function(t,r){var i,c,l=r*r,h=s(I(l+(i=t+e)*i)),f=s(I(l+(i=t+n)*i));return[o(c=h-f,i=(h+f)*a),(r<0?-1:1)*A(I(i*i+c*c)*u)]},c}function ui(){return ci([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function ci(t,e){return ri(si,t,e)}function li(t,e){if(i(e)<m)return[t,0];var n=i(e/w),r=T(n);if(i(t)<m||i(i(e)-w)<m)return[0,g(e)*_*y(r/2)];var a=s(r),o=i(_/t-t/_)/2,u=o*o,c=a/(n+a-1),l=c*(2/n-1),h=l*l,f=h+u,p=c-h,d=u+c;return[g(t)*_*(o*p+I(u*p*p-f*(c*c-h)))/f,g(e)*_*(l*d-o*I((u+1)*f-d*d))/f]}li.invert=function(t,e){if(i(e)<m)return[t,0];if(i(t)<m)return[0,w*v(2*a(e/_))];var n=(t/=_)*t,r=(e/=_)*e,o=n+r,u=o*o,c=-i(e)*(1+o),l=c-2*r+n,h=-2*c+1+2*r+u,f=r/h+(2*l*l*l/(h*h*h)-9*c*l/(h*h))/27,p=(c-l*l/(3*h))/h,d=2*I(-p/3),y=A(3*f/(p*d))/3;return[_*(o-1+I(1+2*(n-r)+u))/(2*t),g(e)*_*(-d*s(y+_/3)-l/(3*h))]};var hi=function(){return Object(r.geoProjection)(li).scale(79.4183)};function fi(t,e){if(i(e)<m)return[t,0];var n=i(e/w),r=T(n);if(i(t)<m||i(i(e)-w)<m)return[0,g(e)*_*y(r/2)];var a=s(r),o=i(_/t-t/_)/2,u=o*o,c=a*(I(1+u)-o*a)/(1+u*n*n);return[g(t)*_*c,g(e)*_*I(1-c*(2*o+c))]}fi.invert=function(t,e){if(!t)return[0,w*v(2*a(e/_))];var n=i(t/_),r=(1-n*n-(e/=_)*e)/(2*n),s=I(r*r+1);return[g(t)*_*(s-r),g(e)*w*v(2*o(I((1-2*r*n)*(r+s)-n),I(s+r+n)))]};var pi=function(){return Object(r.geoProjection)(fi).scale(79.4183)};function di(t,e){if(i(e)<m)return[t,0];var n=e/w,r=T(n);if(i(t)<m||i(i(e)-w)<m)return[0,_*y(r/2)];var a=(_/t-t/_)/2,o=n/(1+s(r));return[_*(g(t)*I(a*a+1-o*o)-a),_*o]}di.invert=function(t,e){if(!e)return[t,0];var n=e/_,r=(_*_*(1-n*n)-t*t)/(2*_*t);return[t?_*(g(t)*I(r*r+1)-r):0,w*v(2*a(n))]};var gi=function(){return Object(r.geoProjection)(di).scale(79.4183)};function vi(t,e){if(!e)return[t,0];var n=i(e);if(!t||n===w)return[0,e];var r=n/w,a=r*r,o=(8*r-a*(a+2)-5)/(2*a*(r-1)),s=o*o,u=r*o,c=a+s+2*u,l=r+3*o,h=t/w,f=h+1/h,p=g(i(t)-w)*I(f*f-4),d=p*p,v=(p*(c+s-1)+2*I(c*(a+s*d-1)+(1-a)*(a*(l*l+4*s)+12*u*s+4*s*s)))/(4*c+d);return[g(t)*w*v,g(e)*w*I(1+p*i(v)-v*v)]}vi.invert=function(t,e){var n;if(!t||!e)return[t,e];e/=_;var r=g(t)*t/w,a=(r*r-1+4*e*e)/i(r),o=a*a,s=2*e,u=50;do{var c=s*s,l=(8*s-c*(c+2)-5)/(2*c*(s-1)),h=(3*s-c*s-10)/(2*c*s),f=l*l,p=s*l,d=s+l,v=d*d,y=s+3*l,x=-2*d*(4*p*f+(1-4*c+3*c*c)*(1+h)+f*(14*c-6-o+(8*c-8-2*o)*h)+p*(12*c-8+(10*c-10-o)*h)),b=I(v*(c+f*o-1)+(1-c)*(c*(y*y+4*f)+f*(12*p+4*f)));s-=n=(a*(v+f-1)+2*b-r*(4*v+o))/(a*(2*l*h+2*d*(1+h))+x/b-8*d*(a*(-1+f+v)+2*b)*(1+h)/(o+4*v))}while(n>m&&--u>0);return[g(t)*(I(a*a+4)+a)*_/4,w*s]};var yi=function(){return Object(r.geoProjection)(vi).scale(127.16)},mi=4*_+3*I(3),xi=2*I(2*_*I(3)/mi),_i=Z(xi*I(3)/_,xi,mi/6),wi=function(){return Object(r.geoProjection)(_i).scale(176.84)};function bi(t,e){return[t*I(1-3*e*e/(_*_)),e]}bi.invert=function(t,e){return[t/I(1-3*e*e/(_*_)),e]};var Mi=function(){return Object(r.geoProjection)(bi).scale(152.63)};function Si(t,e){var n=.90631*v(e),r=I(1-n*n),i=I(2/(1+r*s(t/=3)));return[2.66723*r*i*v(t),1.24104*n*i]}Si.invert=function(t,e){var n=t/2.66723,r=e/1.24104,i=I(n*n+r*r),a=2*T(i/2);return[3*o(t*y(a),2.66723*i),i&&T(e*v(a)/(1.24104*.90631*i))]};var Ei=function(){return Object(r.geoProjection)(Si).scale(172.632)};function Ci(t,e){var n=s(e),r=s(t)*n,i=1-r,a=s(t=o(v(t)*n,-v(e))),u=v(t);return[u*(n=I(1-r*r))-a*i,-a*n-u*i]}Ci.invert=function(t,e){var n=(t*t+e*e)/-2,r=I(-n*(2+n)),i=e*n+t*r,a=t*n-e*r,s=I(a*a+i*i);return[o(r*i,s*(1+n)),s?-T(r*a/s):0]};var ki=function(){return Object(r.geoProjection)(Ci).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};function Pi(t,e){var n=D(t,e);return[(n[0]+t/w)/2,(n[1]+e)/2]}Pi.invert=function(t,e){var n=t,r=e,a=25;do{var o,u=s(r),c=v(r),l=v(2*r),h=c*c,f=u*u,p=v(n),d=s(n/2),g=v(n/2),y=g*g,x=1-f*d*d,_=x?A(u*d)*I(o=1/x):o=0,b=.5*(2*_*u*g+n/w)-t,M=.5*(_*c+r)-e,S=.5*o*(f*y+_*u*d*h)+.5/w,E=o*(p*l/4-_*c*g),C=.125*o*(l*g-_*c*f*p),k=.5*o*(h*d+_*y*u)+.5,P=E*C-k*S,T=(M*E-b*k)/P,O=(b*C-M*S)/P;n-=T,r-=O}while((i(T)>m||i(O)>m)&&--a>0);return[n,r]};var Ti=function(){return Object(r.geoProjection)(Pi).scale(158.837)};n.d(e,"geoAiry",function(){return R}),n.d(e,"geoAiryRaw",function(){return j}),n.d(e,"geoAitoff",function(){return N}),n.d(e,"geoAitoffRaw",function(){return D}),n.d(e,"geoArmadillo",function(){return F}),n.d(e,"geoArmadilloRaw",function(){return B}),n.d(e,"geoAugust",function(){return G}),n.d(e,"geoAugustRaw",function(){return z}),n.d(e,"geoBaker",function(){return Y}),n.d(e,"geoBakerRaw",function(){return H}),n.d(e,"geoBerghaus",function(){return U}),n.d(e,"geoBerghausRaw",function(){return W}),n.d(e,"geoBoggs",function(){return et}),n.d(e,"geoBoggsRaw",function(){return tt}),n.d(e,"geoBonne",function(){return ot}),n.d(e,"geoBonneRaw",function(){return at}),n.d(e,"geoBottomley",function(){return ut}),n.d(e,"geoBottomleyRaw",function(){return st}),n.d(e,"geoBromley",function(){return lt}),n.d(e,"geoBromleyRaw",function(){return ct}),n.d(e,"geoChamberlin",function(){return vt}),n.d(e,"geoChamberlinRaw",function(){return pt}),n.d(e,"geoChamberlinAfrica",function(){return gt}),n.d(e,"geoCollignon",function(){return mt}),n.d(e,"geoCollignonRaw",function(){return yt}),n.d(e,"geoCraig",function(){return _t}),n.d(e,"geoCraigRaw",function(){return xt}),n.d(e,"geoCraster",function(){return Mt}),n.d(e,"geoCrasterRaw",function(){return bt}),n.d(e,"geoCylindricalEqualArea",function(){return Et}),n.d(e,"geoCylindricalEqualAreaRaw",function(){return St}),n.d(e,"geoCylindricalStereographic",function(){return kt}),n.d(e,"geoCylindricalStereographicRaw",function(){return Ct}),n.d(e,"geoEckert1",function(){return Tt}),n.d(e,"geoEckert1Raw",function(){return Pt}),n.d(e,"geoEckert2",function(){return It}),n.d(e,"geoEckert2Raw",function(){return At}),n.d(e,"geoEckert3",function(){return Lt}),n.d(e,"geoEckert3Raw",function(){return Ot}),n.d(e,"geoEckert4",function(){return Rt}),n.d(e,"geoEckert4Raw",function(){return jt}),n.d(e,"geoEckert5",function(){return Nt}),n.d(e,"geoEckert5Raw",function(){return Dt}),n.d(e,"geoEckert6",function(){return Ft}),n.d(e,"geoEckert6Raw",function(){return Bt}),n.d(e,"geoEisenlohr",function(){return Vt}),n.d(e,"geoEisenlohrRaw",function(){return Gt}),n.d(e,"geoFahey",function(){return Yt}),n.d(e,"geoFaheyRaw",function(){return Ht}),n.d(e,"geoFoucaut",function(){return Ut}),n.d(e,"geoFoucautRaw",function(){return Wt}),n.d(e,"geoGilbert",function(){return Qt}),n.d(e,"geoGingery",function(){return te}),n.d(e,"geoGingeryRaw",function(){return Jt}),n.d(e,"geoGinzburg4",function(){return re}),n.d(e,"geoGinzburg4Raw",function(){return ne}),n.d(e,"geoGinzburg5",function(){return ae}),n.d(e,"geoGinzburg5Raw",function(){return ie}),n.d(e,"geoGinzburg6",function(){return se}),n.d(e,"geoGinzburg6Raw",function(){return oe}),n.d(e,"geoGinzburg8",function(){return ce}),n.d(e,"geoGinzburg8Raw",function(){return ue}),n.d(e,"geoGinzburg9",function(){return he}),n.d(e,"geoGinzburg9Raw",function(){return le}),n.d(e,"geoGringorten",function(){return de}),n.d(e,"geoGringortenRaw",function(){return pe}),n.d(e,"geoGuyou",function(){return me}),n.d(e,"geoGuyouRaw",function(){return ye}),n.d(e,"geoHammer",function(){return we}),n.d(e,"geoHammerRaw",function(){return xe}),n.d(e,"geoHammerRetroazimuthal",function(){return Se}),n.d(e,"geoHammerRetroazimuthalRaw",function(){return be}),n.d(e,"geoHealpix",function(){return Te}),n.d(e,"geoHealpixRaw",function(){return Pe}),n.d(e,"geoHill",function(){return Ie}),n.d(e,"geoHillRaw",function(){return Ae}),n.d(e,"geoHomolosine",function(){return Ne}),n.d(e,"geoHomolosineRaw",function(){return De}),n.d(e,"geoInterrupt",function(){return Fe}),n.d(e,"geoInterruptedBoggs",function(){return Ge}),n.d(e,"geoInterruptedHomolosine",function(){return qe}),n.d(e,"geoInterruptedMollweide",function(){return Ye}),n.d(e,"geoInterruptedMollweideHemispheres",function(){return Ue}),n.d(e,"geoInterruptedSinuMollweide",function(){return Ze}),n.d(e,"geoInterruptedSinusoidal",function(){return Je}),n.d(e,"geoKavrayskiy7",function(){return Ke}),n.d(e,"geoKavrayskiy7Raw",function(){return $e}),n.d(e,"geoLagrange",function(){return en}),n.d(e,"geoLagrangeRaw",function(){return tn}),n.d(e,"geoLarrivee",function(){return an}),n.d(e,"geoLarriveeRaw",function(){return rn}),n.d(e,"geoLaskowski",function(){return sn}),n.d(e,"geoLaskowskiRaw",function(){return on}),n.d(e,"geoLittrow",function(){return cn}),n.d(e,"geoLittrowRaw",function(){return un}),n.d(e,"geoLoximuthal",function(){return hn}),n.d(e,"geoLoximuthalRaw",function(){return ln}),n.d(e,"geoMiller",function(){return pn}),n.d(e,"geoMillerRaw",function(){return fn}),n.d(e,"geoModifiedStereographic",function(){return En}),n.d(e,"geoModifiedStereographicRaw",function(){return dn}),n.d(e,"geoModifiedStereographicAlaska",function(){return _n}),n.d(e,"geoModifiedStereographicGs48",function(){return wn}),n.d(e,"geoModifiedStereographicGs50",function(){return bn}),n.d(e,"geoModifiedStereographicMiller",function(){return Mn}),n.d(e,"geoModifiedStereographicLee",function(){return Sn}),n.d(e,"geoMollweide",function(){return J}),n.d(e,"geoMollweideRaw",function(){return Q}),n.d(e,"geoMtFlatPolarParabolic",function(){return Tn}),n.d(e,"geoMtFlatPolarParabolicRaw",function(){return Pn}),n.d(e,"geoMtFlatPolarQuartic",function(){return In}),n.d(e,"geoMtFlatPolarQuarticRaw",function(){return An}),n.d(e,"geoMtFlatPolarSinusoidal",function(){return Ln}),n.d(e,"geoMtFlatPolarSinusoidalRaw",function(){return On}),n.d(e,"geoNaturalEarth",function(){return Rn}),n.d(e,"geoNaturalEarthRaw",function(){return jn}),n.d(e,"geoNaturalEarth2",function(){return Nn}),n.d(e,"geoNaturalEarth2Raw",function(){return Dn}),n.d(e,"geoNellHammer",function(){return Fn}),n.d(e,"geoNellHammerRaw",function(){return Bn}),n.d(e,"geoPatterson",function(){return Qn}),n.d(e,"geoPattersonRaw",function(){return Zn}),n.d(e,"geoPolyconic",function(){return $n}),n.d(e,"geoPolyconicRaw",function(){return Jn}),n.d(e,"geoPolyhedral",function(){return rr}),n.d(e,"geoPolyhedralButterfly",function(){return ur}),n.d(e,"geoPolyhedralCollignon",function(){return hr}),n.d(e,"geoPolyhedralWaterman",function(){return fr}),n.d(e,"geoProject",function(){return yr}),n.d(e,"geoGringortenQuincuncial",function(){return kr}),n.d(e,"geoPeirceQuincuncial",function(){return Pr}),n.d(e,"geoPierceQuincuncial",function(){return Pr}),n.d(e,"geoQuantize",function(){return Tr}),n.d(e,"geoQuincuncial",function(){return Cr}),n.d(e,"geoRectangularPolyconic",function(){return Ir}),n.d(e,"geoRectangularPolyconicRaw",function(){return Ar}),n.d(e,"geoRobinson",function(){return jr}),n.d(e,"geoRobinsonRaw",function(){return Lr}),n.d(e,"geoSatellite",function(){return Dr}),n.d(e,"geoSatelliteRaw",function(){return Rr}),n.d(e,"geoSinuMollweide",function(){return Re}),n.d(e,"geoSinuMollweideRaw",function(){return je}),n.d(e,"geoSinusoidal",function(){return it}),n.d(e,"geoSinusoidalRaw",function(){return rt}),n.d(e,"geoStitch",function(){return ti}),n.d(e,"geoTimes",function(){return ni}),n.d(e,"geoTimesRaw",function(){return ei}),n.d(e,"geoTwoPointAzimuthal",function(){return oi}),n.d(e,"geoTwoPointAzimuthalRaw",function(){return ii}),n.d(e,"geoTwoPointAzimuthalUsa",function(){return ai}),n.d(e,"geoTwoPointEquidistant",function(){return ci}),n.d(e,"geoTwoPointEquidistantRaw",function(){return si}),n.d(e,"geoTwoPointEquidistantUsa",function(){return ui}),n.d(e,"geoVanDerGrinten",function(){return hi}),n.d(e,"geoVanDerGrintenRaw",function(){return li}),n.d(e,"geoVanDerGrinten2",function(){return pi}),n.d(e,"geoVanDerGrinten2Raw",function(){return fi}),n.d(e,"geoVanDerGrinten3",function(){return gi}),n.d(e,"geoVanDerGrinten3Raw",function(){return di}),n.d(e,"geoVanDerGrinten4",function(){return yi}),n.d(e,"geoVanDerGrinten4Raw",function(){return vi}),n.d(e,"geoWagner4",function(){return wi}),n.d(e,"geoWagner4Raw",function(){return _i}),n.d(e,"geoWagner6",function(){return Mi}),n.d(e,"geoWagner6Raw",function(){return bi}),n.d(e,"geoWagner7",function(){return Ei}),n.d(e,"geoWagner7Raw",function(){return Si}),n.d(e,"geoWiechel",function(){return ki}),n.d(e,"geoWiechelRaw",function(){return Ci}),n.d(e,"geoWinkel3",function(){return Ti}),n.d(e,"geoWinkel3Raw",function(){return Pi})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";var r=n(594),i=u(r),a=u(n(554)),o=u(n(983)),s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(984));function u(t){return t&&t.__esModule?t:{default:t}}i.default.Global.trackingInfo={bizcharts:"3.2.5-beta.3"};var c=a.default.mix(s,{G2:i.default,Util:a.default,Shape:r.Shape,Animate:r.Animate,PathUtil:r.PathUtil,track:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.default.track(t)},setTheme:function(t){var e=t;"string"==typeof t&&o.default[t]&&(e=o.default[t]),i.default.Global.setTheme(e)}});e.default=c,t.exports=c},,,,,,,,,,,,,,,,function(t,e,n){var r=n(514),i=n(515),a=n(649),o=[0,1,1.2,1.5,1.6,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],s=[0,1,2,4,5,10];t.exports=function(t){var e=t.min,n=t.max,u=t.interval,c=t.minTickInterval,l=[],h=t.minCount||5,f=t.maxCount||7,p=h===f,d=r(t.minLimit)?-1/0:t.minLimit,g=r(t.maxLimit)?1/0:t.maxLimit,v=(h+f)/2,y=v,m=t.snapArray?t.snapArray:p?o:s;if(e===d&&n===g&&p&&(u=(n-e)/(y-1)),r(e)&&(e=0),r(n)&&(n=0),n===e&&(0===e?n=1:e>0?e=0:n=0,n-e<5&&!u&&n-e>=1&&(u=1)),r(u)){var x=(n-e)/(v-1);u=a.snapFactorTo(x,m,"ceil"),f!==h&&((y=parseInt((n-e)/u,10))>f&&(y=f),y<h&&(y=h),u=a.snapFactorTo((n-e)/(y-1),m,"floor"))}if(i(c)&&u<c&&(u=c),t.interval||f!==h)n=Math.min(a.snapMultiple(n,u,"ceil"),g),e=Math.max(a.snapMultiple(e,u,"floor"),d),y=Math.round((n-e)/u),e=a.fixedBase(e,u),n=a.fixedBase(n,u);else{v=parseInt(v,10);var _,w=(n+e)/2,b=a.snapMultiple(w,u,"ceil"),M=Math.floor((v-2)/2),S=b+M*u;_=v%2==0?b-M*u:b-(M+1)*u,S<n&&(S+=u),_>e&&(_-=u),n=a.fixedBase(S,u),e=a.fixedBase(_,u)}n=Math.min(n,g),e=Math.max(e,d),l.push(e);for(var E=1;E<y;E++){var C=a.fixedBase(u*E+e,u);C<n&&l.push(C)}return l[l.length-1]<n&&l.push(n),{min:e,max:n,interval:u,count:y,ticks:l}}},function(t,e,n){var r=n(530),i=n(515),a=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.isIdentity=!0,this.type="identity",this.value=null},a.getText=function(){return this.value.toString()},a.scale=function(t){return this.value!==t&&i(t)?t:this.range[0]},a.invert=function(){return this.value},r}(r);r.Identity=a,t.exports=a},function(t,e,n){var r=n(652),i=n(502),a=n(514),o=n(507),s=n(530),u=n(565),c=n(833),l=n(653),h=function(t){var e,n;function s(){return t.apply(this,arguments)||this}n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=s.prototype;return u._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="time",this.mask="YYYY-MM-DD"},u.init=function(){var e=this,n=e.values;if(n&&n.length){var r=[],o=1/0,s=o,u=0;i(n,function(t){var n=e._toTimeStamp(t);if(isNaN(n))throw new TypeError("Invalid Time: "+t);o>n?(s=o,o=n):s>n&&(s=n),u<n&&(u=n),r.push(n)}),n.length>1&&(e.minTickInterval=s-o),(a(e.min)||e._toTimeStamp(e.min)>o)&&(e.min=o),(a(e.max)||e._toTimeStamp(e.max)<u)&&(e.max=u)}t.prototype.init.call(this)},u.calculateTicks=function(){var t=this.min,e=this.max,n=this.tickCount,r=this.tickInterval;return c({min:t,max:e,minCount:n,maxCount:n,interval:r,minInterval:this.minTickInterval}).ticks},u.getText=function(t){var e=this.formatter;return t=this.translate(t),t=e?e(t):r.format(t,this.mask)},u.scale=function(e){return o(e)&&(e=this.translate(e)),t.prototype.scale.call(this,e)},u.translate=function(t){return this._toTimeStamp(t)},u._toTimeStamp=function(t){return l.toTimeStamp(t)},s}(u);s.Time=h,t.exports=h},function(t,e,n){var r=n(649),i=n(514),a=[1,2,4,6,8,12],o=36e5,s=864e5;function u(t){return new Date(t).getFullYear()}function c(t){return new Date(t).getMonth()}t.exports=function(t){var e,n,l,h,f,p,d,g,v,y,m,x,_=t.minInterval,w=[],b=t.min,M=t.max,S=t.interval;if(M===b&&(M=b+s),i(S)){var E=s,C=365*E;S=parseInt((M-b)/(t.maxCount||6),10),_&&_>S&&(S=_);var k=S/C,P=u(b);if(k>.51){for(var T=Math.ceil(k),A=u(M),I=P;I<=A+T;I+=T)w.push(new Date(I,0,1).getTime());S=null}else if(k>.0834){for(var O=Math.ceil(k/.0834),L=c(b),j=(v=M,y=u(g=b),m=u(v),x=c(g),12*(m-y)+(c(v)-x)%12),R=0;R<=j+O;R+=O)w.push(new Date(P,R+L,1).getTime());S=null}else if(S>.5*E){var D=new Date(b),N=D.getFullYear(),B=D.getMonth(b),F=D.getDate(),z=Math.ceil(S/E),G=(p=b,d=M,Math.ceil((d-p)/s));S=z*E;for(var V=0;V<G+z;V+=z)w.push(new Date(N,B,F+V).getTime())}else if(S>o){var q=new Date(b),H=q.getFullYear(),Y=q.getMonth(b),W=q.getDate(),U=q.getHours(),X=r.snapTo(a,Math.ceil(S/o)),Z=(h=b,f=M,Math.ceil((f-h)/o));S=X*o;for(var Q=0;Q<=Z+X;Q+=X)w.push(new Date(H,Y,W,U+Q).getTime())}else if(S>6e4){var J=(n=b,l=M,Math.ceil((l-n)/6e4)),$=Math.ceil(S/6e4);S=6e4*$;for(var K=0;K<=J+$;K+=$)w.push(b+6e4*K)}else{S<1e3&&(S=1e3),b=1e3*Math.floor(b/1e3);var tt=Math.ceil((M-b)/1e3),et=Math.ceil(S/1e3);S=1e3*et;for(var nt=0;nt<tt+et;nt+=et)w.push(b+1e3*nt)}}if(!w.length){b=1e3*Math.floor(b/1e3),e=((M=1e3*Math.ceil(M/1e3))-b)/S;for(var rt=0;rt<=e;rt++)w.push(r.fixedBase(S*rt+b,S))}return{max:M,min:b,interval:S,ticks:w,count:w.length}}},function(t,e,n){var r=n(530),i=n(650),a=n(652),o=n(651),s=n(653),u=n(502),c=n(515),l=n(535),h=n(507),f=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="timeCat",this.sortable=!0,this.tickCount=5,this.mask="YYYY-MM-DD"},i.init=function(){var t=this,e=this.values;u(e,function(n,r){e[r]=t._toTimeStamp(n)}),this.sortable&&e.sort(function(t,e){return t-e}),t.ticks||(t.ticks=this.calculateTicks())},i.calculateTicks=function(){var t,e=this.tickCount;e?t=o({maxCount:e,data:this.values,isRounding:this.isRounding}).ticks:t=this.values;return t},i.translate=function(t){t=this._toTimeStamp(t);var e=this.values.indexOf(t);return-1===e&&(e=c(t)&&t<this.values.length?t:NaN),e},i.scale=function(t){var e=this.rangeMin(),n=this.rangeMax(),r=this.translate(t);return e+(1===this.values.length||isNaN(r)?r:r>-1?r/(this.values.length-1):0)*(n-e)},i.getText=function(t){var e="",n=this.translate(t);e=n>-1?this.values[n]:t;var r=this.formatter;return e=parseInt(e,10),e=r?r(e):a.format(e,this.mask)},i.getTicks=function(){var t=this,e=this.ticks,n=[];return u(e,function(e){var r;r=l(e)?e:{text:h(e)?e:t.getText(e),value:t.scale(e),tickValue:e},n.push(r)}),n},i._toTimeStamp=function(t){return s.toTimeStamp(t)},r}(i);r.TimeCat=f,t.exports=f},function(t,e,n){var r=n(502),i=n(530);function a(t,e){return 1===t?1:Math.log(e)/Math.log(t)}var o=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="log",this.tickCount=10,this.base=2,this._minTick=null},o.calculateTicks=function(){var t,e=this,n=e.base;if(e.min<0)throw new Error("The minimum value must be greater than zero!");var i=a(n,e.max);if(e.min>0)t=Math.floor(a(n,e.min));else{var o=e.values,s=e.max;r(o,function(t){t>0&&t<s&&(s=t)}),s===e.max&&(s=e.max/n),s>1&&(s=1),t=Math.floor(a(n,s)),e._minTick=t,e.positiveMin=s}for(var u=i-t,c=e.tickCount,l=Math.ceil(u/c),h=[],f=t;f<i+l;f+=l)h.push(Math.pow(n,f));return 0===e.min&&h.unshift(0),h},o._getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=1*i/r),t<i?t/i/(a(r,e)-a(r,n)):(a(r,t)-a(r,n))/(a(r,e)-a(r,n))},o.scale=function(t){var e=this._getScalePercent(t),n=this.rangeMin();return n+e*(this.rangeMax()-n)},o.invert=function(t){var e,n=this.base,r=a(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,s=this.positiveMin;if(s){if(0===t)return 0;var u=1/(r-(e=a(n,s/n)))*o;if(t<u)return t/u*s}else e=a(n,this.min);var c=(t-i)/o*(r-e)+e;return Math.pow(n,c)},i}(n(565));i.Log=o,t.exports=o},function(t,e,n){var r=n(530);function i(t,e){var n=Math.E;return Math.pow(n,Math.log(e)/t)}var a=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="pow",this.tickCount=10,this.exponent=2},a.calculateTicks=function(){var t,e=this.exponent,n=Math.ceil(i(e,this.max));if((t=this.min>=0?Math.floor(i(e,this.min)):0)>n){var r=n;n=t,t=r}for(var a=n-t,o=this.tickCount,s=Math.ceil(a/o),u=[],c=t;c<n+s;c+=s)u.push(Math.pow(c,e));return u},a._getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent;return(i(r,t)-i(r,n))/(i(r,e)-i(r,n))},a.scale=function(t){var e=this._getScalePercent(t),n=this.rangeMin();return n+e*(this.rangeMax()-n)},a.invert=function(t){var e=(t-this.rangeMin())/(this.rangeMax()-this.rangeMin()),n=this.exponent,r=i(n,this.max),a=i(n,this.min),o=e*(r-a)+a;return Math.pow(o,n)},r}(n(565));r.Pow=a,t.exports=a},function(t,e,n){var r=n(506),i=n(673),a=n(674),o=n(846),s=n(847),u=function t(e){t.superclass.constructor.call(this,e)};u.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},r.extend(u,a),r.augment(u,{init:function(){u.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(t,e){if(t){if(!r.isEmpty(t._getEvents()))return t;var n=t.get("parent");if(n&&!e.propagationStopped)return this.getEmitter(n,e)}},_getEventObj:function(t,e,n,r){var a=new i(t,e,!0,!0);return a.x=n.x,a.y=n.y,a.clientX=e.clientX,a.clientY=e.clientY,a.currentTarget=r,a.target=r,a},_triggerEvent:function(t,e){var n,r=this.getPointByClient(e.clientX,e.clientY),i=this.getShape(r.x,r.y,e),a=this.get("el");if("mousemove"===t){var o=this.get("preShape");if(o&&o!==i){var s=this._getEventObj("mouseleave",e,r,o);(n=this.getEmitter(o,e))&&n.emit("mouseleave",s),a.style.cursor="default"}if(i){var u=this._getEventObj("mousemove",e,r,i);if((n=this.getEmitter(i,e))&&n.emit("mousemove",u),o!==i){var c=this._getEventObj("mouseenter",e,r,i);n&&n.emit("mouseenter",c,e)}}else{var l=this._getEventObj("mousemove",e,r,this);this.emit("mousemove",l)}this.set("preShape",i)}else{var h=this._getEventObj(t,e,r,i||this);(n=this.getEmitter(i,e))&&n!==this&&n.emit(t,h),this.emit(t,h)}i&&!i.get("destroyed")&&(a.style.cursor=i.attr("cursor")||"default")},_registEvents:function(){var t=this,e=t.get("el");r.each(["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"],function(n){e.addEventListener(n,function(e){t._triggerEvent(n,e)},!1)}),e.addEventListener("touchstart",function(e){r.isEmpty(e.touches)||t._triggerEvent("touchstart",e.touches[0])},!1),e.addEventListener("touchmove",function(e){r.isEmpty(e.touches)||t._triggerEvent("touchmove",e.touches[0])},!1),e.addEventListener("touchend",function(e){r.isEmpty(e.changedTouches)||t._triggerEvent("touchend",e.changedTouches[0])},!1)},_scale:function(){var t=this.get("pixelRatio");this.scale(t,t)},_setGlobalParam:function(){this.get("pixelRatio")||this.set("pixelRatio",r.getRatio());var t=s[this.get("renderer")||"canvas"];this._cfg.renderer=t,this._cfg.canvas=this;var e=new o(this);this._cfg.timeline=e},_setContainer:function(){var t=this.get("containerId"),e=this.get("containerDOM");e||(e=document.getElementById(t),this.set("containerDOM",e)),r.modifyCSS(e,{position:"relative"})},_initPainter:function(){var t=this.get("containerDOM"),e=new this._cfg.renderer.painter(t);this._cfg.painter=e,this._cfg.canvasDOM=this._cfg.el=e.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var t=this.get("canvasDOM"),e=this.get("widthCanvas"),n=this.get("heightCanvas"),r=this.get("widthStyle"),i=this.get("heightStyle");t.style.width=r,t.style.height=i,t.setAttribute("width",e),t.setAttribute("height",n)},getWidth:function(){var t=this.get("pixelRatio");return this.get("width")*t},getHeight:function(){var t=this.get("pixelRatio");return this.get("height")*t},changeSize:function(t,e){var n=this.get("pixelRatio"),r=t*n,i=e*n;this.set("widthCanvas",r),this.set("heightCanvas",i),this.set("widthStyle",t+"px"),this.set("heightStyle",e+"px"),this.set("width",t),this.set("height",e),this._resize()},getPointByClient:function(t,e){var n=this.get("el"),r=this.get("pixelRatio")||1,i=n.getBoundingClientRect();return{x:(t-i.left)*r,y:(e-i.top)*r}},getClientByPoint:function(t,e){var n=this.get("el").getBoundingClientRect(),r=this.get("pixelRatio")||1;return{clientX:t/r+n.left,clientY:e/r+n.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(t,e,n){return 3===arguments.length&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,t,e,n):u.superclass.getShape.call(this,t,e)},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var t=this._cfg,e=t.containerDOM,n=t.canvasDOM;n&&e&&e.removeChild(n),t.timeline.stop(),u.superclass.destroy.call(this)}}),t.exports=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new r.ARRAY_TYPE(9);r.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0);return t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new r.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,i,a,o,s,u,c){var l=new r.ARRAY_TYPE(9);return l[0]=t,l[1]=e,l[2]=n,l[3]=i,l[4]=a,l[5]=o,l[6]=s,l[7]=u,l[8]=c,l},e.set=function(t,e,n,r,i,a,o,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=a,t[5]=o,t[6]=s,t[7]=u,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){if(t===e){var n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=l*o-s*c,f=-l*a+s*u,p=c*a-o*u,d=n*h+r*f+i*p;if(!d)return null;return d=1/d,t[0]=h*d,t[1]=(-l*r+i*c)*d,t[2]=(s*r-i*o)*d,t[3]=f*d,t[4]=(l*n-i*u)*d,t[5]=(-s*n+i*a)*d,t[6]=p*d,t[7]=(-c*n+r*u)*d,t[8]=(o*n-r*a)*d,t},e.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8];return t[0]=o*l-s*c,t[1]=i*c-r*l,t[2]=r*s-i*o,t[3]=s*u-a*l,t[4]=n*l-i*u,t[5]=i*a-n*s,t[6]=a*c-o*u,t[7]=r*u-n*c,t[8]=n*o-r*a,t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],c=t[8];return e*(c*a-o*u)+n*(-c*i+o*s)+r*(u*i-a*s)},e.multiply=i,e.translate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=n[0],p=n[1];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=u,t[6]=f*r+p*o+c,t[7]=f*i+p*s+l,t[8]=f*a+p*u+h,t},e.rotate=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=Math.sin(n),p=Math.cos(n);return t[0]=p*r+f*o,t[1]=p*i+f*s,t[2]=p*a+f*u,t[3]=p*o-f*r,t[4]=p*s-f*i,t[5]=p*u-f*a,t[6]=c,t[7]=l,t[8]=h,t},e.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=n+n,s=r+r,u=i+i,c=n*o,l=r*o,h=r*s,f=i*o,p=i*s,d=i*u,g=a*o,v=a*s,y=a*u;return t[0]=1-h-d,t[3]=l-y,t[6]=f+v,t[1]=l+y,t[4]=1-c-d,t[7]=p-g,t[2]=f-v,t[5]=p+g,t[8]=1-c-h,t},e.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],f=e[10],p=e[11],d=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*o,x=n*u-i*o,_=n*c-a*o,w=r*u-i*s,b=r*c-a*s,M=i*c-a*u,S=l*g-h*d,E=l*v-f*d,C=l*y-p*d,k=h*v-f*g,P=h*y-p*g,T=f*y-p*v,A=m*T-x*P+_*k+w*C-b*E+M*S;if(!A)return null;return A=1/A,t[0]=(s*T-u*P+c*k)*A,t[1]=(u*C-o*T-c*E)*A,t[2]=(o*P-s*C+c*S)*A,t[3]=(i*P-r*T-a*k)*A,t[4]=(n*T-i*C+a*E)*A,t[5]=(r*C-n*P-a*S)*A,t[6]=(g*M-v*b+y*w)*A,t[7]=(v*_-d*M-y*x)*A,t[8]=(d*b-g*_+y*m)*A,t},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=a,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],f=e[0],p=e[1],d=e[2],g=e[3],v=e[4],y=e[5],m=e[6],x=e[7],_=e[8];return Math.abs(n-f)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-p)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-d)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(o-g)<=r.EPSILON*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(s-v)<=r.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=r.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-m)<=r.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(l-x)<=r.EPSILON*Math.max(1,Math.abs(l),Math.abs(x))&&Math.abs(h-_)<=r.EPSILON*Math.max(1,Math.abs(h),Math.abs(_))};var r=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(601));function i(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],f=n[0],p=n[1],d=n[2],g=n[3],v=n[4],y=n[5],m=n[6],x=n[7],_=n[8];return t[0]=f*r+p*o+d*c,t[1]=f*i+p*s+d*l,t[2]=f*a+p*u+d*h,t[3]=g*r+v*o+y*c,t[4]=g*i+v*s+y*l,t[5]=g*a+v*u+y*h,t[6]=m*r+x*o+_*c,t[7]=m*i+x*s+_*l,t[8]=m*a+x*u+_*h,t}function a(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}e.mul=i,e.sub=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=i,e.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new r.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=a,e.multiply=o,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.distance=u,e.squaredDistance=c,e.length=l,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i);return t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.lerp=function(t,e,n,r){var i=e[0],a=e[1];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},e.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},e.rotate=function(t,e,n,r){var i=e[0]-n[0],a=e[1]-n[1],o=Math.sin(r),s=Math.cos(r);return t[0]=i*s-a*o+n[0],t[1]=i*o+a*s+n[1],t},e.angle=function(t,e){var n=t[0],r=t[1],i=e[0],a=e[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o));var s=i*i+a*a;s>0&&(s=1/Math.sqrt(s));var u=(n*i+r*a)*o*s;return u>1?0:u<-1?Math.PI:Math.acos(u)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var n=t[0],i=t[1],a=e[0],o=e[1];return Math.abs(n-a)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-o)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))};var r=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(601));function i(){var t=new r.ARRAY_TYPE(2);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function a(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function o(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function s(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function u(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function l(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function h(t){var e=t[0],n=t[1];return e*e+n*n}var f;e.len=l,e.sub=a,e.mul=o,e.div=s,e.dist=u,e.sqrDist=c,e.sqrLen=h,e.forEach=(f=i(),function(t,e,n,r,i,a){var o=void 0,s=void 0;for(e||(e=2),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,o=n;o<s;o+=e)f[0]=t[o],f[1]=t[o+1],i(f,f,a),t[o]=f[0],t[o+1]=f[1];return t})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=i,e.clone=function(t){var e=new r.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=a,e.fromValues=o,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=s,e.multiply=u,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.distance=l,e.squaredDistance=h,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=p,e.dot=d,e.cross=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[0],s=n[1],u=n[2];return t[0]=i*u-a*s,t[1]=a*o-r*u,t[2]=r*s-i*o,t},e.lerp=function(t,e,n,r){var i=e[0],a=e[1],o=e[2];return t[0]=i+r*(n[0]-i),t[1]=a+r*(n[1]-a),t[2]=o+r*(n[2]-o),t},e.hermite=function(t,e,n,r,i,a){var o=a*a,s=o*(2*a-3)+1,u=o*(a-2)+a,c=o*(a-1),l=o*(3-2*a);return t[0]=e[0]*s+n[0]*u+r[0]*c+i[0]*l,t[1]=e[1]*s+n[1]*u+r[1]*c+i[1]*l,t[2]=e[2]*s+n[2]*u+r[2]*c+i[2]*l,t},e.bezier=function(t,e,n,r,i,a){var o=1-a,s=o*o,u=a*a,c=s*o,l=3*a*s,h=3*u*o,f=u*a;return t[0]=e[0]*c+n[0]*l+r[0]*h+i[0]*f,t[1]=e[1]*c+n[1]*l+r[1]*h+i[1]*f,t[2]=e[2]*c+n[2]*l+r[2]*h+i[2]*f,t},e.random=function(t,e){e=e||1;var n=2*r.RANDOM()*Math.PI,i=2*r.RANDOM()-1,a=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*a,t[1]=Math.sin(n)*a,t[2]=i*e,t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1],a=e[2];return t[0]=r*n[0]+i*n[3]+a*n[6],t[1]=r*n[1]+i*n[4]+a*n[7],t[2]=r*n[2]+i*n[5]+a*n[8],t},e.transformQuat=function(t,e,n){var r=n[0],i=n[1],a=n[2],o=n[3],s=e[0],u=e[1],c=e[2],l=i*c-a*u,h=a*s-r*c,f=r*u-i*s,p=i*f-a*h,d=a*l-r*f,g=r*h-i*l,v=2*o;return l*=v,h*=v,f*=v,p*=2,d*=2,g*=2,t[0]=s+l+p,t[1]=u+h+d,t[2]=c+f+g,t},e.rotateX=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0],a[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),a[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},e.rotateY=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),a[1]=i[1],a[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},e.rotateZ=function(t,e,n,r){var i=[],a=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],a[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),a[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),a[2]=i[2],t[0]=a[0]+n[0],t[1]=a[1]+n[1],t[2]=a[2]+n[2],t},e.angle=function(t,e){var n=o(t[0],t[1],t[2]),r=o(e[0],e[1],e[2]);p(n,n),p(r,r);var i=d(n,r);return i>1?0:i<-1?Math.PI:Math.acos(i)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var n=t[0],i=t[1],a=t[2],o=e[0],s=e[1],u=e[2];return Math.abs(n-o)<=r.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=r.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-u)<=r.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))};var r=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(601));function i(){var t=new r.ARRAY_TYPE(3);return r.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function a(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function o(t,e,n){var i=new r.ARRAY_TYPE(3);return i[0]=t,i[1]=e,i[2]=n,i}function s(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function u(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function c(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function l(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function h(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function f(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function p(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}var g;e.sub=s,e.mul=u,e.div=c,e.dist=l,e.sqrDist=h,e.len=a,e.sqrLen=f,e.forEach=(g=i(),function(t,e,n,r,i,a){var o=void 0,s=void 0;for(e||(e=3),n||(n=0),s=r?Math.min(r*e+n,t.length):t.length,o=n;o<s;o+=e)g[0]=t[o],g[1]=t[o+1],g[2]=t[o+2],i(g,g,a),t[o]=g[0],t[o+1]=g[1],t[o+2]=g[2];return t})},function(t,e,n){var r=n(506);t.exports={canFill:!1,canStroke:!1,initAttrs:function(t){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(r.assign(this.getDefaultAttrs(),t)),this},getDefaultAttrs:function(){return{}},attr:function(t,e){if(0===arguments.length)return this._attrs;if(r.isObject(t)){for(var n in t)this._setAttr(n,t[n]);return this.clearBBox(),this._cfg.hasUpdate=!0,this}return 2===arguments.length?(this._setAttr(t,e),this.clearBBox(),this._cfg.hasUpdate=!0,this):this._attrs[t]},_setAttr:function(t,e){var n=this._attrs;n[t]=e,"fill"!==t&&"stroke"!==t?"opacity"!==t?"clip"===t&&e?this._setClip(e):"path"===t&&this._afterSetAttrPath?this._afterSetAttrPath(e):"transform"!==t?"rotate"===t&&this.rotateAtStart(e):this.transform(e):n.globalAlpha=e:n[t+"Style"]=e},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(t){t._cfg.renderer=this._cfg.renderer,t._cfg.canvas=this._cfg.canvas,t._cfg.parent=this._cfg.parent,t.hasFill=function(){return!0}}}},function(t,e,n){var r=n(506);function i(t){return 1===t[0]&&0===t[1]&&0===t[3]&&1===t[4]&&0===t[6]&&0===t[7]}function a(t){return 0===t[1]&&0===t[3]&&0===t[6]&&0===t[7]}function o(t,e){i(e)||(a(e)?(t[0]*=e[0],t[4]*=e[4]):r.mat3.multiply(t,t,e))}t.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(t,e){var n=this._attrs.matrix;return r.mat3.translate(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotate:function(t){var e=this._attrs.matrix;return r.mat3.rotate(e,e,t),this.clearTotalMatrix(),this.attr("matrix",e),this},scale:function(t,e){var n=this._attrs.matrix;return r.mat3.scale(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotateAtStart:function(t){var e=this._attrs.x||this._cfg.attrs.x,n=this._attrs.y||this._cfg.attrs.y;return Math.abs(t)>2*Math.PI&&(t=t/180*Math.PI),this.transform([["t",-e,-n],["r",t],["t",e,n]])},move:function(t,e){var n=this.get("x")||0,r=this.get("y")||0;return this.translate(t-n,e-r),this.set("x",t),this.set("y",e),this},transform:function(t){var e=this,n=this._attrs.matrix;return r.each(t,function(t){switch(t[0]){case"t":e.translate(t[1],t[2]);break;case"s":e.scale(t[1],t[2]);break;case"r":e.rotate(t[1]);break;case"m":e.attr("matrix",r.mat3.multiply([],n,t[1])),e.clearTotalMatrix()}}),e},setTransform:function(t){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(t)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(t){return this.attr("matrix",t),this.clearTotalMatrix(),this},apply:function(t,e){var n;return n=e?this._getMatrixByRoot(e):this.attr("matrix"),r.vec3.transformMat3(t,t,n),this},_getMatrixByRoot:function(t){t=t||this;for(var e=this,n=[];e!==t;)n.unshift(e),e=e.get("parent");n.unshift(e);var i=[1,0,0,0,1,0,0,0,1];return r.each(n,function(t){r.mat3.multiply(i,t.attr("matrix"),i)}),i},getTotalMatrix:function(){var t=this._cfg.totalMatrix;if(!t){t=[1,0,0,0,1,0,0,0,1];var e=this._cfg.parent;if(e)o(t,e.getTotalMatrix());o(t,this.attr("matrix")),this._cfg.totalMatrix=t}return t},clearTotalMatrix:function(){},invert:function(t){var e=this.getTotalMatrix();if(a(e))t[0]/=e[0],t[1]/=e[4];else{var n=r.mat3.invert([],e);n&&r.vec3.transformMat3(t,t,n)}return this},resetTransform:function(t){var e=this.attr("matrix");i(e)||t.transform(e[0],e[1],e[3],e[4],e[6],e[7])}}},function(t,e,n){var r=n(506),i={delay:"delay",rotate:"rotate"},a={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};t.exports={animate:function(t,e,n,o,s){void 0===s&&(s=0);var u=this;u.set("animating",!0);var c=u.get("timeline");c||(c=u.get("canvas").get("timeline"),u.setSilent("timeline",c));var l=u.get("animators")||[];c._timer||c.initTimer(),r.isNumber(o)&&(s=o,o=null),r.isFunction(n)?(o=n,n="easeLinear"):n=n||"easeLinear";var h,f,p,d,g=function(t,e){var n={matrix:null,attrs:{}},o=e._attrs;for(var s in t)if("transform"===s)n.matrix=r.transform(e.getMatrix(),t[s]);else if("rotate"===s)n.matrix=r.transform(e.getMatrix(),[["r",t[s]]]);else if("matrix"===s)n.matrix=t[s];else{if(a[s]&&/^[r,R,L,l]{1}[\s]*\(/.test(t[s]))continue;i[s]||o[s]===t[s]||(n.attrs[s]=t[s])}return n}(t,u),v={fromAttrs:function(t,e){var n={},r=e._attrs;for(var i in t.attrs)n[i]=r[i];return n}(g,u),toAttrs:g.attrs,fromMatrix:r.clone(u.getMatrix()),toMatrix:g.matrix,duration:e,easing:n,callback:o,delay:s,startTime:c.getTime(),id:r.uniqueId()};l.length>0?(h=l,p=(f=v).delay,d=Object.prototype.hasOwnProperty,r.each(f.toAttrs,function(t,e){r.each(h,function(t){p<t.startTime+t.duration&&d.call(t.toAttrs,e)&&(delete t.toAttrs[e],delete t.fromAttrs[e])})}),f.toMatrix&&r.each(h,function(t){p<t.startTime+t.duration&&t.toMatrix&&delete t.toMatrix}),l=h):c.addAnimator(u),l.push(v),u.setSilent("animators",l),u.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var t=this,e=this.get("animators");r.each(e,function(e){t.attr(e.toAttrs),e.toMatrix&&t.attr("matrix",e.toMatrix),e.callback&&e.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var t=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:t.getTime()}),this},resumeAnimate:function(){var t=this.get("timeline").getTime(),e=this.get("animators"),n=this.get("pause").pauseTime;return r.each(e,function(e){e.startTime=e.startTime+(t-n),e._paused=!1,e._pauseTime=null}),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",e),this}}},function(t,e,n){var r=n(516);r.Arc=n(678),r.Circle=n(679),r.Dom=n(680),r.Ellipse=n(681),r.Fan=n(682),r.Image=n(683),r.Line=n(684),r.Marker=n(604),r.Path=n(685),r.Polygon=n(686),r.Polyline=n(687),r.Rect=n(688),r.Text=n(689),t.exports=r},function(t,e,n){var r=n(506),i=n(602),a={arc:n(569),ellipse:n(677),line:n(568)},o=r.createDom('<canvas width="500" height="500"></canvas>').getContext("2d");function s(t,e,n){return n.createPath(o),o.isPointInPath(t,e)}var u={arc:function(t,e){var n=this._attrs,r=n.x,a=n.y,o=n.r,s=n.startAngle,u=n.endAngle,c=n.clockwise,l=this.getHitLineWidth();return!!this.hasStroke()&&i.arcline(r,a,o,s,u,c,l,t,e)},circle:function(t,e){var n=this._attrs,r=n.x,a=n.y,o=n.r,s=this.getHitLineWidth(),u=this.hasFill(),c=this.hasStroke();return u&&c?i.circle(r,a,o,t,e)||i.arcline(r,a,o,0,2*Math.PI,!1,s,t,e):u?i.circle(r,a,o,t,e):!!c&&i.arcline(r,a,o,0,2*Math.PI,!1,s,t,e)},dom:function(t,e){if(!this._cfg.el)return!1;var n=this._cfg.el.getBBox();return i.box(n.x,n.x+n.width,n.y,n.y+n.height,t,e)},ellipse:function(t,e){var n=this._attrs,a=this.hasFill(),o=this.hasStroke(),s=n.x,u=n.y,c=n.rx,l=n.ry,h=this.getHitLineWidth(),f=c>l?c:l,p=c>l?1:c/l,d=c>l?l/c:1,g=[t,e,1],v=[1,0,0,0,1,0,0,0,1];r.mat3.scale(v,v,[p,d]),r.mat3.translate(v,v,[s,u]);var y=r.mat3.invert([],v);return r.vec3.transformMat3(g,g,y),a&&o?i.circle(0,0,f,g[0],g[1])||i.arcline(0,0,f,0,2*Math.PI,!1,h,g[0],g[1]):a?i.circle(0,0,f,g[0],g[1]):!!o&&i.arcline(0,0,f,0,2*Math.PI,!1,h,g[0],g[1])},fan:function(t,e){var n=this,o=n.hasFill(),s=n.hasStroke(),u=n._attrs,c=u.x,l=u.y,h=u.rs,f=u.re,p=u.startAngle,d=u.endAngle,g=u.clockwise,v=[t-c,e-l],y=r.vec2.angleTo([1,0],v);function m(){var t=a.arc.nearAngle(y,p,d,g);if(r.isNumberEqual(y,t)){var e=r.vec2.squaredLength(v);if(h*h<=e&&e<=f*f)return!0}return!1}function x(){var r=n.getHitLineWidth(),a={x:Math.cos(p)*h+c,y:Math.sin(p)*h+l},o={x:Math.cos(p)*f+c,y:Math.sin(p)*f+l},s={x:Math.cos(d)*h+c,y:Math.sin(d)*h+l},u={x:Math.cos(d)*f+c,y:Math.sin(d)*f+l};return!!(i.line(a.x,a.y,o.x,o.y,r,t,e)||i.line(s.x,s.y,u.x,u.y,r,t,e)||i.arcline(c,l,h,p,d,g,r,t,e)||i.arcline(c,l,f,p,d,g,r,t,e))}return o&&s?m()||x():o?m():!!s&&x()},image:function(t,e){var n=this._attrs;if(this.get("toDraw")||!n.img)return!1;this._cfg.attrs&&this._cfg.attrs.img===n.img||this._setAttrImg();var r=n.x,a=n.y,o=n.width,s=n.height;return i.rect(r,a,o,s,t,e)},line:function(t,e){var n=this._attrs,r=n.x1,a=n.y1,o=n.x2,s=n.y2,u=this.getHitLineWidth();return!!this.hasStroke()&&i.line(r,a,o,s,u,t,e)},path:function(t,e){var n=this,i=n.get("segments"),a=n.hasFill(),o=n.hasStroke();function u(){if(!r.isEmpty(i)){for(var a=n.getHitLineWidth(),o=0,s=i.length;o<s;o++)if(i[o].isInside(t,e,a))return!0;return!1}}return a&&o?s(t,e,n)||u():a?s(t,e,n):!!o&&u()},marker:function(t,e){var n=this._attrs,r=n.x,a=n.y,o=n.radius||n.r,s=this.getHitLineWidth();return i.circle(r,a,o+s/2,t,e)},polygon:function(t,e){var n=this,r=n.hasFill(),a=n.hasStroke();function o(){var r=n._attrs.points;if(r.length<2)return!1;var a=n.getHitLineWidth(),o=r.slice(0);return r.length>=3&&o.push(r[0]),i.polyline(o,a,t,e)}return r&&a?s(t,e,n)||o():r?s(t,e,n):!!a&&o()},polyline:function(t,e){var n=this._attrs;if(this.hasStroke()){var r=n.points;if(r.length<2)return!1;var a=n.lineWidth;return i.polyline(r,a,t,e)}return!1},rect:function(t,e){var n=this,r=n.hasFill(),a=n.hasStroke();function o(){var r=n._attrs,a=r.x,o=r.y,s=r.width,u=r.height,c=r.radius,l=n.getHitLineWidth();if(0===c){var h=l/2;return i.line(a-h,o,a+s+h,o,l,t,e)||i.line(a+s,o-h,a+s,o+u+h,l,t,e)||i.line(a+s+h,o+u,a-h,o+u,l,t,e)||i.line(a,o+u+h,a,o-h,l,t,e)}return i.line(a+c,o,a+s-c,o,l,t,e)||i.line(a+s,o+c,a+s,o+u-c,l,t,e)||i.line(a+s-c,o+u,a+c,o+u,l,t,e)||i.line(a,o+u-c,a,o+c,l,t,e)||i.arcline(a+s-c,o+c,c,1.5*Math.PI,2*Math.PI,!1,l,t,e)||i.arcline(a+s-c,o+u-c,c,0,.5*Math.PI,!1,l,t,e)||i.arcline(a+c,o+u-c,c,.5*Math.PI,Math.PI,!1,l,t,e)||i.arcline(a+c,o+c,c,Math.PI,1.5*Math.PI,!1,l,t,e)}return r&&a?s(t,e,n)||o():r?s(t,e,n):!!a&&o()},text:function(t,e){var n=this.getBBox();if(this.hasFill()||this.hasStroke())return i.box(n.minX,n.maxX,n.minY,n.maxY,t,e)}};t.exports={isPointInPath:function(t,e){var n=u[this.type];return!!n&&n.call(this,t,e)}}},function(t,e,n){var r=n(506),i=n(605),a=n(630),o=n(749),s=n(581),u=s.interpolate,c=s.interpolateArray,l=function(t){this._animators=[],this._current=0,this._timer=null,this.canvas=t};function h(t,e,n){var a,s=e.startTime;if(n<s+e.delay||e.isPaused)return!1;var l=e.duration,h=e.easing;if(n=n-s-e.delay,e.toAttrs.repeat)a=n%l/l,a=o[h](a);else{if(!((a=n/l)<1))return t.attr(e.toAttrs),e.toMatrix&&t.setMatrix(e.toMatrix),!0;a=o[h](a)}return function(t,e,n){var a={},o=e.toAttrs,s=e.fromAttrs,l=e.toMatrix;if(!t.get("destroyed")){var h;for(var f in o)if(!r.isEqual(s[f],o[f]))if("path"===f){var p=o[f],d=s[f];p.length>d.length?(p=i.parsePathString(o[f]),d=i.parsePathString(s[f]),d=i.fillPathByDiff(d,p),d=i.formatPath(d,p),e.fromAttrs.path=d,e.toAttrs.path=p):e.pathFormatted||(p=i.parsePathString(o[f]),d=i.parsePathString(s[f]),d=i.formatPath(d,p),e.fromAttrs.path=d,e.toAttrs.path=p,e.pathFormatted=!0),a[f]=[];for(var g=0;g<p.length;g++){for(var v=p[g],y=d[g],m=[],x=0;x<v.length;x++)r.isNumber(v[x])&&y&&r.isNumber(y[x])?(h=u(y[x],v[x]),m.push(h(n))):m.push(v[x]);a[f].push(m)}}else h=u(s[f],o[f]),a[f]=h(n);if(l){var _=c(e.fromMatrix,l)(n);t.setMatrix(_)}t.attr(a)}}(t,e,a),!1}r.augment(l,{initTimer:function(){var t,e,n,r=this,i=this;i._timer=a.timer(function(a){if(i._current=a,r._animators.length>0){for(var o=r._animators.length-1;o>=0;o--)if((t=r._animators[o]).get("destroyed"))i.removeAnimator(o);else{if(!t.get("pause").isPaused)for(var s=(e=t.get("animators")).length-1;s>=0;s--)n=e[s],h(t,n,a)&&(e.splice(s,1),!1,n.callback&&n.callback());0===e.length&&i.removeAnimator(o)}r.canvas.draw()}})},addAnimator:function(t){this._animators.push(t)},removeAnimator:function(t){this._animators.splice(t,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach(function(t){t.stopAnimate()}),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),t.exports=l},function(t,e,n){t.exports={canvas:n(848),svg:n(851)}},function(t,e,n){t.exports={painter:n(849)}},function(t,e,n){var r=n(506),i=n(850),a=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],o=function(){function t(t){if(!t)return null;var e=r.uniqueId("canvas_"),n=r.createDom('<canvas id="'+e+'"></canvas>');return t.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}var e=t.prototype;return e.beforeDraw=function(){var t=this.canvas;this.context&&this.context.clearRect(0,0,t.width,t.height)},e.draw=function(t){var e=this;e.animateHandler?e.toDraw=!0:function n(){e.animateHandler=r.requestAnimationFrame(function(){e.animateHandler=void 0,e.toDraw&&n()}),e.beforeDraw();try{e._drawGroup(t)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),e.toDraw=!1}e.toDraw=!1}()},e.drawSync=function(t){this.beforeDraw(),this._drawGroup(t)},e._drawGroup=function(t){if(!t._cfg.removed&&!t._cfg.destroyed&&t._cfg.visible){var e=t._cfg.children,n=null;this.setContext(t);for(var r=0;r<e.length;r++)n=e[r],e[r].isGroup?this._drawGroup(n):this._drawShape(n);this.restoreContext(t)}},e._drawShape=function(t){t._cfg.removed||t._cfg.destroyed||!t._cfg.visible||(this.setContext(t),t.drawInner(this.context),this.restoreContext(t),t._cfg.attrs=t._attrs,t._cfg.hasUpdate=!1)},e.setContext=function(t){var e=this.context,n=t._attrs.clip;e.save(),n&&(n.resetTransform(e),n.createPath(e),e.clip()),this.resetContext(t),t.resetTransform(e)},e.restoreContext=function(){this.context.restore()},e.resetContext=function(t){var e=this.context,n=t._attrs;if(!t.isGroup)for(var o in n)if(a.indexOf(o)>-1){var s=n[o];"fillStyle"===o&&(s=i.parseStyle(s,t,e)),"strokeStyle"===o&&(s=i.parseStyle(s,t,e)),"lineDash"===o&&e.setLineDash?r.isArray(s)?e.setLineDash(s):r.isString(s)&&e.setLineDash(s.split(" ")):e[o]=s}},t}();t.exports=o},function(t,e,n){var r=n(506),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,a=/[^\s\,]+/gi,o=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,s=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,u=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,c=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,l={};function h(t,e){var n=t.match(c);r.each(n,function(t){t=t.split(":"),e.addColorStop(t[0],t[1])})}t.exports={parsePath:function(t){return t=t||[],r.isArray(t)?t:r.isString(t)?(t=t.match(i),r.each(t,function(e,n){if((e=e.match(a))[0].length>1){var i=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=i}r.each(e,function(t,n){isNaN(t)||(e[n]=+t)}),t[n]=e}),t):void 0},parseStyle:function(t,e,n){if(r.isString(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return function(t,e,n){var i,a,s=o.exec(t),u=r.mod(r.toRadian(parseFloat(s[1])),2*Math.PI),c=s[2],l=e.getBBox();u>=0&&u<.5*Math.PI?(i={x:l.minX,y:l.minY},a={x:l.maxX,y:l.maxY}):.5*Math.PI<=u&&u<Math.PI?(i={x:l.maxX,y:l.minY},a={x:l.minX,y:l.maxY}):Math.PI<=u&&u<1.5*Math.PI?(i={x:l.maxX,y:l.maxY},a={x:l.minX,y:l.minY}):(i={x:l.minX,y:l.maxY},a={x:l.maxX,y:l.minY});var f=Math.tan(u),p=f*f,d=(a.x-i.x+f*(a.y-i.y))/(p+1)+i.x,g=f*(a.x-i.x+f*(a.y-i.y))/(p+1)+i.y,v=n.createLinearGradient(i.x,i.y,d,g);return h(c,v),v}(t,e,n);if("r"===t[0])return function(t,e,n){var r=s.exec(t),i=parseFloat(r[1]),a=parseFloat(r[2]),o=parseFloat(r[3]),u=r[4];if(0===o){var l=u.match(c);return l[l.length-1].split(":")[1]}var f=e.getBBox(),p=f.maxX-f.minX,d=f.maxY-f.minY,g=Math.sqrt(p*p+d*d)/2,v=n.createRadialGradient(f.minX+p*i,f.minY+d*a,o*g,f.minX+p/2,f.minY+d/2,g);return h(u,v),v}(t,e,n);if("p"===t[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var r,i,a=u.exec(t),o=a[1],s=a[2];function c(){r=n.createPattern(i,o),e.setSilent("pattern",r),e.setSilent("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?c():(i.onload=c,i.src=i.src),r}(t,e,n)}return t}},numberToColor:function(t){var e=l[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,l[t]=e}return e}}},function(t,e,n){t.exports={painter:n(852),getShape:n(859)}},function(t,e,n){var r=n(506),i=n(548).parseRadius,a=n(604),o=n(853),s={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},u={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},c={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},l={left:"left",start:"left",center:"middle",right:"end",end:"end"},h=function(){function t(t){if(!t)return null;var e=r.uniqueId("canvas_"),n=r.createDom('<svg id="'+e+'"></svg>');return t.appendChild(n),this.type="svg",this.canvas=n,this.context=new o(n),this.toDraw=!1,this}var e=t.prototype;return e.draw=function(t){var e=this;e.animateHandler?e.toDraw=!0:function n(){e.animateHandler=r.requestAnimationFrame(function(){e.animateHandler=void 0,e.toDraw&&n()});try{t.resetMatrix(),e._drawGroup(t,!1)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),e.toDraw=!1}e.toDraw=!1}()},e.drawSync=function(t){this._drawChildren(t,!1)},e._drawGroup=function(t,e){var n=t._cfg;n.removed||n.destroyed||(!n.el&&n.attrs&&(e=!0),n.tobeRemoved&&(r.each(n.tobeRemoved,function(t){t.parentNode&&t.parentNode.removeChild(t)}),n.tobeRemoved=[]),this._drawShape(t,e),n.children&&n.children.length>0&&this._drawChildren(t,e))},e._drawChildren=function(t,e){var n,r=t._cfg.children;if(r){if(t._cfg.el&&!e){var i=t._cfg.el.childNodes.length+1;0!==i&&i!==r.length&&(e=!0)}for(var a=0;a<r.length;a++)(n=r[a]).isGroup?this._drawGroup(n,e):this._drawShape(n,e)}},e._drawShape=function(t,e){var n=t._attrs,r=t._cfg,i=r.el;r.removed||r.destroyed?i&&i.parentNode.removeChild(r.el):(e&&i&&(i.parentNode&&i.parentNode.removeChild(i),i=null),!i&&r.parent&&(this._createDom(t),this._updateShape(t)),i=r.el,!1!==r.visible?(r.visible&&i.hasAttribute("visibility")&&i.removeAttribute("visibility"),r.hasUpdate&&this._updateShape(t),n.clip&&n.clip._cfg.hasUpdate&&this._updateShape(n.clip)):i.setAttribute("visibility","hidden"))},e._updateShape=function(t){var e=t._attrs,n=t._cfg.attrs;if(n)if(t._cfg.el||this._createDom(t),"clip"in e&&this._setClip(t,e.clip),("shadowOffsetX"in e||"shadowOffsetY"in e||"shadowBlur"in e||"shadowColor"in e)&&this._setShadow(t),"text"!==t.type){for(var i in"fan"===t.type&&this._updateFan(t),"marker"===t.type&&t._cfg.el.setAttribute("d",this._assembleMarker(e)),"rect"===t.type&&t._cfg.el.setAttribute("d",this._assembleRect(e)),e)e[i]!==n[i]&&this._setAttribute(t,i,e[i]);t._cfg.attrs=r.deepMix({},t._attrs),t._cfg.hasUpdate=!1}else this._updateText(t)},e._setAttribute=function(t,e,n){var i=t.type,a=t._attrs,o=t._cfg.el,s=this.context;if("marker"!==i&&"rect"!==i||!~["x","y","radius","r"].indexOf(e))if(~["circle","ellipse"].indexOf(i)&&~["x","y"].indexOf(e))o.setAttribute("c"+e,parseInt(n,10));else{if("polygon"===i&&"points"===e)return n&&0!==n.length||(n=""),r.isArray(n)&&(n=(n=n.map(function(t){return t[0]+","+t[1]})).join(" ")),void o.setAttribute("points",n);if("path"===e&&r.isArray(n))o.setAttribute("d",this._formatPath(n));else if("img"!==e){if("transform"===e)return n?void this._setTransform(t):void o.removeAttribute("transform");if("rotate"===e)return n?void this._setTransform(t):void o.removeAttribute("transform");if("matrix"!==e)if("fillStyle"!==e&&"strokeStyle"!==e){if("clip"!==e)if(~e.indexOf("Arrow"))if(e=u[e],n){var c=null;c="boolean"==typeof n?s.getDefaultArrow(a,e):s.addArrow(a,e),o.setAttribute(e,"url(#"+c+")"),t._cfg[e]=c}else t._cfg[e]=null,o.removeAttribute(e);else"html"===e&&("string"==typeof n?o.innerHTML=n:(o.innerHTML="",o.appendChild(n))),u[e]&&o.setAttribute(u[e],n)}else this._setColor(t,e,n);else this._setTransform(t)}else this._setImage(t,n)}},e._createDom=function(t){var e=s[t.type],n=t._attrs;if(!e)throw new Error("the type"+t.type+"is not supported by svg");var r=document.createElementNS("http://www.w3.org/2000/svg",e);return t._cfg.el=r,t._cfg.parent&&t._cfg.parent.get("el").appendChild(r),t._cfg.attrs={},"text"===t.type?(r.setAttribute("paint-order","stroke"),r.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(n.stroke||n.strokeStyle||r.setAttribute("stroke","none"),n.fill||n.fillStyle||r.setAttribute("fill","none")),r},e._assembleMarker=function(t){var e=t.r;if(void 0===t.r&&(e=t.radius),isNaN(Number(t.x))||isNaN(Number(t.y))||isNaN(Number(e)))return"";var n="";return n="function"==typeof t.symbol?t.symbol(t.x,t.y,e):a.Symbols[t.symbol||"circle"](t.x,t.y,e),r.isArray(n)&&(n=n.map(function(t){return t.join(" ")}).join("")),n},e._assembleRect=function(t){var e=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+e+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var u=i(s);return r.isArray(s)?1===s.length?u.r1=u.r2=u.r3=u.r4=s[0]:2===s.length?(u.r1=u.r3=s[0],u.r2=u.r4=s[1]):3===s.length?(u.r1=s[0],u.r2=u.r4=s[1],u.r3=s[2]):(u.r1=s[0],u.r2=s[1],u.r3=s[2],u.r4=s[3]):u.r1=u.r2=u.r3=u.r4=s,[["M "+(e+u.r1)+","+n],["l "+(a-u.r1-u.r2)+",0"],["a "+u.r2+","+u.r2+",0,0,1,"+u.r2+","+u.r2],["l 0,"+(o-u.r2-u.r3)],["a "+u.r3+","+u.r3+",0,0,1,"+-u.r3+","+u.r3],["l "+(u.r3+u.r4-a)+",0"],["a "+u.r4+","+u.r4+",0,0,1,"+-u.r4+","+-u.r4],["l 0,"+(u.r4+u.r1-o)],["a "+u.r1+","+u.r1+",0,0,1,"+u.r1+","+-u.r1],["z"]].join(" ")},e._formatPath=function(t){return~(t=t.map(function(t){return t.join(" ")}).join("")).indexOf("NaN")?"":t},e._setTransform=function(t){for(var e=t._attrs.matrix,n=t._cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)},e._setImage=function(t,e){var n=t._attrs,i=t._cfg.el;if(r.isString(e))i.setAttribute("href",e);else if(e instanceof Image)n.width||(i.setAttribute("width",e.width),t._attrs.width=e.width),n.height||(i.setAttribute("height",e.height),t._attrs.height=e.height),i.setAttribute("href",e.src);else if(e instanceof HTMLElement&&r.isString(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase())i.setAttribute("href",e.toDataURL());else if(e instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",e.width),a.setAttribute("height",e.height),a.getContext("2d").putImageData(e,0,0),n.width||(i.setAttribute("width",e.width),t._attrs.width=e.width),n.height||(i.setAttribute("height",e.height),t._attrs.height=e.height),i.setAttribute("href",a.toDataURL())}},e._updateFan=function(t){function e(t,e,n){return{x:e*Math.cos(t)+n.x,y:e*Math.sin(t)+n.y}}var n=t._attrs,i=t._cfg,a={x:n.x,y:n.y},o=[],s=n.startAngle,u=n.endAngle;r.isNumberEqual(u-s,2*Math.PI)&&(u-=1e-5);var c=e(s,n.re,a),l=e(u,n.re,a),h=u>s?1:0,f=Math.abs(u-s)>Math.PI?1:0,p=n.rs,d=n.re,g=e(s,n.rs,a),v=e(u,n.rs,a);n.rs>0?(o.push("M "+l.x+","+l.y),o.push("L "+v.x+","+v.y),o.push("A "+p+","+p+",0,"+f+","+(1===h?0:1)+","+g.x+","+g.y),o.push("L "+c.x+" "+c.y)):(o.push("M "+a.x+","+a.y),o.push("L "+c.x+","+c.y)),o.push("A "+d+","+d+",0,"+f+","+h+","+l.x+","+l.y),n.rs>0?o.push("L "+v.x+","+v.y):o.push("Z"),i.el.setAttribute("d",o.join(" "))},e._updateText=function(t){var e=t._attrs,n=t._cfg.attrs,r=t._cfg.el;for(var i in this._setFont(t),e)if(e[i]!==n[i]){if("text"===i){this._setText(t,""+e[i]);continue}if("fillStyle"===i||"strokeStyle"===i){this._setColor(t,i,e[i]);continue}if("matrix"===i){this._setTransform(t);continue}u[i]&&r.setAttribute(u[i],e[i])}t._cfg.attrs=Object.assign({},t._attrs),t._cfg.hasUpdate=!1},e._setFont=function(t){var e=t.get("el"),n=t._attrs,r=n.fontSize;e.setAttribute("alignment-baseline",c[n.textBaseline]||"baseline"),e.setAttribute("text-anchor",l[n.textAlign]||"left"),r&&+r<12&&(n.matrix=[1,0,0,0,1,0,0,0,1],t.transform([["t",-n.x,-n.y],["s",+r/12,+r/12],["t",n.x,n.y]]))},e._setText=function(t,e){var n=t._cfg.el,i=t._attrs.textBaseline||"bottom";if(e)if(~e.indexOf("\n")){var a=t._attrs.x,o=e.split("\n"),s=o.length-1,u="";r.each(o,function(t,e){0===e?"alphabetic"===i?u+='<tspan x="'+a+'" dy="'+-s+'em">'+t+"</tspan>":"top"===i?u+='<tspan x="'+a+'" dy="0.9em">'+t+"</tspan>":"middle"===i?u+='<tspan x="'+a+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===i?u+='<tspan x="'+a+'" dy="-'+(s+.3)+'em">'+t+"</tspan>":"hanging"===i&&(u+='<tspan x="'+a+'" dy="'+(-(s-1)-.3)+'em">'+t+"</tspan>"):u+='<tspan x="'+a+'" dy="1em">'+t+"</tspan>"}),n.innerHTML=u}else n.innerHTML=e;else n.innerHTML=""},e._setClip=function(t,e){var n=t._cfg.el;if(e)if(n.hasAttribute("clip-path"))e._cfg.hasUpdate&&this._updateShape(e);else{this._createDom(e),this._updateShape(e);var r=this.context.addClip(e);n.setAttribute("clip-path","url(#"+r+")")}else n.removeAttribute("clip-path")},e._setColor=function(t,e,n){var r=t._cfg.el,i=this.context;if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var a=i.find("gradient",n);a||(a=i.addGradient(n)),r.setAttribute(u[e],"url(#"+a+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=i.find("pattern",n);o||(o=i.addPattern(n)),r.setAttribute(u[e],"url(#"+o+")")}else r.setAttribute(u[e],n);else r.setAttribute(u[e],"none")},e._setShadow=function(t){var e=t._cfg.el,n=t._attrs,r={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(r.dx||r.dy||r.blur||r.color){var i=this.context.find("filter",r);i||(i=this.context.addShadow(r,this)),e.setAttribute("filter","url(#"+i+")")}else e.removeAttribute("filter")},t}();t.exports=h},function(t,e,n){var r=n(506),i=n(854),a=n(855),o=n(856),s=n(857),u=n(858),c=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=r.uniqueId("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}var e=t.prototype;return e.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},e.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},e.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},e.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new o(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),r.id},e.addGradient=function(t){var e=new i(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addArrow=function(t,e){var n=new o(t,e);return this.el.appendChild(n.el),n.id},e.addShadow=function(t){var e=new a(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addPattern=function(t){var e=new u(t);return this.el.appendChild(e.el),this.add(e),e.id},e.addClip=function(t){var e=new s(t);return this.el.appendChild(e.el),this.add(e),e.id},t}();t.exports=c},function(t,e,n){var r=n(506),i=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,a=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,o=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function s(t){var e=t.match(o);if(!e)return"";var n="";return e.sort(function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])}),r.each(e,function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'}),n}var u=function(){function t(t){var e,n,o,u,c,l,h,f=null,p=r.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?function(t,e){var n,a,o=i.exec(t),u=r.mod(r.toRadian(parseFloat(o[1])),2*Math.PI),c=o[2];u>=0&&u<.5*Math.PI?(n={x:0,y:0},a={x:1,y:1}):.5*Math.PI<=u&&u<Math.PI?(n={x:1,y:0},a={x:0,y:1}):Math.PI<=u&&u<1.5*Math.PI?(n={x:1,y:1},a={x:0,y:0}):(n={x:0,y:1},a={x:1,y:0});var l=Math.tan(u),h=l*l,f=(a.x-n.x+l*(a.y-n.y))/(h+1)+n.x,p=l*(a.x-n.x+l*(a.y-n.y))/(h+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",f),e.setAttribute("y2",p),e.innerHTML=s(c)}(t,f=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")):(f=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),e=t,n=f,o=a.exec(e),u=parseFloat(o[1]),c=parseFloat(o[2]),l=parseFloat(o[3]),h=o[4],n.setAttribute("cx",u),n.setAttribute("cy",c),n.setAttribute("r",l),n.innerHTML=s(h)),f.setAttribute("id",p),this.el=f,this.id=p,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=u},function(t,e,n){var r=n(506),i={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},a={x:"-40%",y:"-40%",width:"200%",height:"200%"},o=function(){function t(t){this.type="filter";var e=document.createElementNS("http://www.w3.org/2000/svg","filter");return r.each(a,function(t,n){e.setAttribute(n,t)}),this.el=e,this.id=r.uniqueId("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}var e=t.prototype;return e.match=function(t,e){if(this.type!==t)return!1;var n=!0,i=this.cfg;return r.each(Object.keys(i),function(t){if(i[t]!==e[t])return n=!1,!1}),n},e.update=function(t,e){var n=this.cfg;return n[i[t]]=e,this._parseShadow(n,this.el),this},e._parseShadow=function(t,e){var n='<feDropShadow \n      dx="'+(t.dx||0)+'" \n      dy="'+(t.dy||0)+'" \n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}();t.exports=o},function(t,e,n){var r=n(506),i=function(){function t(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","marker"),i=r.uniqueId("marker_");n.setAttribute("id",i);var a=document.createElementNS("http://www.w3.org/2000/svg","path");return a.setAttribute("stroke","none"),a.setAttribute("fill",t.stroke||"#000"),n.appendChild(a),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=a,this.id=i,this.cfg=t["marker-start"===e?"startArrow":"endArrow"],this.stroke=t.stroke||"#000",!0===this.cfg?this._setDefaultPath(e,a):this._setMarker(t.lineWidth,a),this}var e=t.prototype;return e.match=function(){return!1},e._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),n.setAttribute("refX",3),n.setAttribute("refY",3)},e._setMarker=function(t,e){var n=this.el,i=this.cfg.path,a=this.cfg.d;r.isArray(i)&&(i=i.map(function(t){return t.join(" ")}).join("")),e.setAttribute("d",i),n.appendChild(e),a&&n.setAttribute("refX",a/t)},e.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}();t.exports=i},function(t,e,n){var r=n(506),i=function(){function t(t){this.type="clip";var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=e,this.id=r.uniqueId("clip_"),e.id=this.id;var n=t._cfg.el;return e.appendChild(n.cloneNode(!0)),this.cfg=t,this}var e=t.prototype;return e.match=function(){return!1},e.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}();t.exports=i},function(t,e,n){var r=n(506),i=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,a=function(){function t(t){var e=document.createElementNS("http://www.w3.org/2000/svg","pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=document.createElementNS("http://www.w3.org/2000/svg","image");e.appendChild(n);var a=r.uniqueId("pattern_");e.id=a,this.el=e,this.id=a,this.cfg=t;var o=i.exec(t)[2];n.setAttribute("href",o);var s=new Image;function u(){console.log(s.width,s.height),e.setAttribute("width",s.width),e.setAttribute("height",s.height)}return o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o,s.complete?u():(s.onload=u,s.src=s.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}();t.exports=a},function(t,e){var n={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};t.exports=function(t,e,r){var i=r.target||r.srcElement;if(!n[i.tagName]){for(var a=i.parentNode;a&&!n[a.tagName];)a=a.parentNode;i=a}return this._cfg.el===i?this:this.find(function(t){return t._cfg&&t._cfg.el===i})}},function(t,e,n){t.exports={addEventListener:n(861),createDom:n(667),getBoundingClientRect:n(862),getHeight:n(863),getOuterHeight:n(864),getOuterWidth:n(865),getRatio:n(866),getStyle:n(867),getWidth:n(868),modifyCSS:n(668),requestAnimationFrame:n(669)}},function(t,e){t.exports=function(t,e,n){if(t){if(t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if(t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}},function(t,e){t.exports=function(t,e){if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect(),r=document.documentElement.clientTop,i=document.documentElement.clientLeft;return{top:n.top-r,bottom:n.bottom-r,left:n.left-i,right:n.right-i}}return e||null}},function(t,e){t.exports=function(t,e){var n=this.getStyle(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)}},function(t,e){t.exports=function(t,e){var n=this.getHeight(t,e),r=parseFloat(this.getStyle(t,"borderTopWidth"))||0,i=parseFloat(this.getStyle(t,"paddingTop"))||0,a=parseFloat(this.getStyle(t,"paddingBottom"))||0;return n+r+(parseFloat(this.getStyle(t,"borderBottomWidth"))||0)+i+a}},function(t,e){t.exports=function(t,e){var n=this.getWidth(t,e),r=parseFloat(this.getStyle(t,"borderLeftWidth"))||0,i=parseFloat(this.getStyle(t,"paddingLeft"))||0,a=parseFloat(this.getStyle(t,"paddingRight"))||0;return n+r+(parseFloat(this.getStyle(t,"borderRightWidth"))||0)+i+a}},function(t,e){t.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(t,e,n){var r=n(514);t.exports=function(t,e,n){try{return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]}catch(t){return r(n)?null:n}}},function(t,e){t.exports=function(t,e){var n=this.getStyle(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)}},function(t,e,n){t.exports={contains:n(572),difference:n(692),find:n(693),firstValue:n(870),flatten:n(871),flattenDeep:n(608),getRange:n(872),merge:n(573),pull:n(663),pullAt:n(694),reduce:n(873),remove:n(874),sortBy:n(695),union:n(875),uniq:n(609),valuesOfKey:n(610)}},function(t,e,n){var r=n(514),i=n(504);t.exports=function(t,e){for(var n=null,a=0;a<t.length;a++){var o=t[a][e];if(!r(o)){n=i(o)?o[0]:o;break}}return n}},function(t,e,n){var r=n(504),i=n(502);t.exports=function(t){if(!r(t))return t;var e=[];return i(t,function(t){r(t)?i(t,function(t){e.push(t)}):e.push(t)}),e}},function(t,e,n){var r=n(606),i=n(504);t.exports=function(t){if(!(t=r(t,function(t){return!isNaN(t)})).length)return{min:0,max:0};if(i(t[0])){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);t=e}var a=Math.max.apply(null,t);return{min:Math.min.apply(null,t),max:a}}},function(t,e,n){var r=n(504),i=n(537),a=n(502);t.exports=function(t,e,n){if(!r(t)&&!i(t))return t;var o=n;return a(t,function(t,n){o=e(o,t,n)}),o}},function(t,e,n){var r=n(525),i=n(694);t.exports=function(t,e){var n=[];if(!r(t))return n;for(var a=-1,o=[],s=t.length;++a<s;){var u=t[a];e(u,a,t)&&(n.push(u),o.push(a))}return i(t,o),n}},function(t,e,n){var r=n(502),i=n(566),a=n(609);t.exports=function(){var t=[],e=i(arguments);return r(e,function(e){t=t.concat(e)}),a(t)}},function(t,e,n){t.exports={getWrapBehavior:n(877),wrapBehavior:n(878)}},function(t,e){t.exports=function(t,e){return t["_wrap_"+e]}},function(t,e){t.exports=function(t,e){if(t["_wrap_"+e])return t["_wrap_"+e];var n=function(n){t[e](n)};return t["_wrap_"+e]=n,n}},function(t,e,n){var r=n(880);t.exports={number2color:r,numberToColor:r,parsePath:n(881),parseRadius:n(882)}},function(t,e){var n={};t.exports=function(t){var e=n[t];if(!e){for(var r=t.toString(16),i=r.length;i<6;i++)r="0"+r;e="#"+r,n[t]=e}return e}},function(t,e,n){var r=n(504),i=n(507),a=n(502),o=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,s=/[^\s\,]+/gi;t.exports=function(t){return r(t=t||[])?t:i(t)?(t=t.match(o),a(t,function(e,n){if((e=e.match(s))[0].length>1){var r=e[0].charAt(0);e.splice(1,0,e[0].substr(1)),e[0]=r}a(e,function(t,n){isNaN(t)||(e[n]=+t)}),t[n]=e}),t):void 0}},function(t,e,n){var r=n(504);t.exports=function(t){var e=0,n=0,i=0,a=0;return r(t)?1===t.length?e=n=i=a=t[0]:2===t.length?(e=i=t[0],n=a=t[1]):3===t.length?(e=t[0],n=a=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],a=t[3]):e=n=i=a=t,{r1:e,r2:n,r3:i,r4:a}}},function(t,e,n){var r=n(567);t.exports={clamp:n(599),fixedBase:n(884),isDecimal:n(885),isEven:n(886),isInteger:n(887),isNegative:n(888),isNumberEqual:r,isOdd:n(889),isPositive:n(890),maxBy:n(696),minBy:n(891),mod:n(666),snapEqual:r,toDegree:n(665),toInt:n(697),toInteger:n(697),toRadian:n(664)}},function(t,e){t.exports=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return i>20&&(i=20),parseFloat(t.toFixed(i))}},function(t,e,n){var r=n(515);t.exports=function(t){return r(t)&&t%1!=0}},function(t,e,n){var r=n(515);t.exports=function(t){return r(t)&&t%2==0}},function(t,e,n){var r=n(515),i=Number.isInteger?Number.isInteger:function(t){return r(t)&&t%1==0};t.exports=i},function(t,e,n){var r=n(515);t.exports=function(t){return r(t)&&t<0}},function(t,e,n){var r=n(515);t.exports=function(t){return r(t)&&t%2!=0}},function(t,e,n){var r=n(515);t.exports=function(t){return r(t)&&t>0}},function(t,e,n){var r=n(504),i=n(511),a=n(502);t.exports=function(t,e){if(r(t)){var n=t[0],o=void 0;o=i(e)?e(t[0]):t[0][e];var s=void 0;return a(t,function(t){(s=i(e)?e(t):t[e])<o&&(n=t,o=s)}),n}}},function(t,e,n){t.exports={forIn:n(893),has:n(611),hasKey:n(894),hasValue:n(895),keys:n(532),isMatch:n(607),values:n(549)}},function(t,e,n){t.exports=n(502)},function(t,e,n){t.exports=n(611)},function(t,e,n){var r=n(572),i=n(549);t.exports=function(t,e){return r(i(t),e)}},function(t,e,n){var r=n(897),i=n(701),a=n(700),o=n(703);t.exports={catmullRom2Bezier:o,catmullRomToBezier:o,fillPath:n(898),fillPathByDiff:n(899),formatPath:n(901),intersection:r,pathIntersection:r,parsePathArray:n(699),parsePathString:n(702),pathToAbsolute:i,path2absolute:i,pathTocurve:a,path2curve:a,rectPath:n(698)}},function(t,e,n){var r=n(504),i=n(698),a=n(700),o=function(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n},s=function(t,e,n,r,i,a,s,u,c){null===c&&(c=1);for(var l=(c=c>1?1:c<0?0:c)/2,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,d=0;d<12;d++){var g=l*h[d]+l,v=o(g,t,n,i,s),y=o(g,e,r,a,u),m=v*v+y*y;p+=f[d]*Math.sqrt(m)}return l*p},u=function(t,e,n,r,i,a,o,s){if(!(Math.max(t,n)<Math.min(i,o)||Math.min(t,n)>Math.max(i,o)||Math.max(e,r)<Math.min(a,s)||Math.min(e,r)>Math.max(a,s))){var u=(t-n)*(a-s)-(e-r)*(i-o);if(u){var c=((t*r-e*n)*(i-o)-(t-n)*(i*s-a*o))/u,l=((t*r-e*n)*(a-s)-(e-r)*(i*s-a*o))/u,h=+c.toFixed(2),f=+l.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(i,o).toFixed(2)||h>+Math.max(i,o).toFixed(2)||f<+Math.min(e,r).toFixed(2)||f>+Math.max(e,r).toFixed(2)||f<+Math.min(a,s).toFixed(2)||f>+Math.max(a,s).toFixed(2)))return{x:c,y:l}}}},c=function(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height},l=function(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:i(t,e,n,r),vb:[t,e,n,r].join(" ")}},h=function(t,e,n,i,a,o,s,u){r(t)||(t=[t,e,n,i,a,o,s,u]);var c=function(t,e,n,r,i,a,o,s){for(var u=[],c=[[],[]],l=void 0,h=void 0,f=void 0,p=void 0,d=0;d<2;++d)if(0===d?(h=6*t-12*n+6*i,l=-3*t+9*n-9*i+3*o,f=3*n-3*t):(h=6*e-12*r+6*a,l=-3*e+9*r-9*a+3*s,f=3*r-3*e),Math.abs(l)<1e-12){if(Math.abs(h)<1e-12)continue;(p=-f/h)>0&&p<1&&u.push(p)}else{var g=h*h-4*f*l,v=Math.sqrt(g);if(!(g<0)){var y=(-h+v)/(2*l);y>0&&y<1&&u.push(y);var m=(-h-v)/(2*l);m>0&&m<1&&u.push(m)}}for(var x=u.length,_=x,w=void 0;x--;)w=1-(p=u[x]),c[0][x]=w*w*w*t+3*w*w*p*n+3*w*p*p*i+p*p*p*o,c[1][x]=w*w*w*e+3*w*w*p*r+3*w*p*p*a+p*p*p*s;return c[0][_]=t,c[1][_]=e,c[0][_+1]=o,c[1][_+1]=s,c[0].length=c[1].length=_+2,{min:{x:Math.min.apply(0,c[0]),y:Math.min.apply(0,c[1])},max:{x:Math.max.apply(0,c[0]),y:Math.max.apply(0,c[1])}}}.apply(null,t);return l(c.min.x,c.min.y,c.max.x-c.min.x,c.max.y-c.min.y)},f=function(t,e,n,r,i,a,o,s,u){var c=1-u,l=Math.pow(c,3),h=Math.pow(c,2),f=u*u,p=f*u,d=t+2*u*(n-t)+f*(i-2*n+t),g=e+2*u*(r-e)+f*(a-2*r+e),v=n+2*u*(i-n)+f*(o-2*i+n),y=r+2*u*(a-r)+f*(s-2*a+r);return{x:l*t+3*h*u*n+3*c*u*u*i+p*o,y:l*e+3*h*u*r+3*c*u*u*a+p*s,m:{x:d,y:g},n:{x:v,y:y},start:{x:c*t+u*n,y:c*e+u*r},end:{x:c*i+u*o,y:c*a+u*s},alpha:90-180*Math.atan2(d-v,g-y)/Math.PI}},p=function(t,e,n){var r,i,a=h(t),o=h(e);if(i=o,r=l(r=a),i=l(i),!(c(i,r.x,r.y)||c(i,r.x2,r.y)||c(i,r.x,r.y2)||c(i,r.x2,r.y2)||c(r,i.x,i.y)||c(r,i.x2,i.y)||c(r,i.x,i.y2)||c(r,i.x2,i.y2)||(r.x<i.x2&&r.x>i.x||i.x<r.x2&&i.x>r.x)&&(r.y<i.y2&&r.y>i.y||i.y<r.y2&&i.y>r.y)))return n?0:[];for(var p=~~(s.apply(0,t)/8),d=~~(s.apply(0,e)/8),g=[],v=[],y={},m=n?0:[],x=0;x<p+1;x++){var _=f.apply(0,t.concat(x/p));g.push({x:_.x,y:_.y,t:x/p})}for(var w=0;w<d+1;w++){var b=f.apply(0,e.concat(w/d));v.push({x:b.x,y:b.y,t:w/d})}for(var M=0;M<p;M++)for(var S=0;S<d;S++){var E=g[M],C=g[M+1],k=v[S],P=v[S+1],T=Math.abs(C.x-E.x)<.001?"y":"x",A=Math.abs(P.x-k.x)<.001?"y":"x",I=u(E.x,E.y,C.x,C.y,k.x,k.y,P.x,P.y);if(I){if(y[I.x.toFixed(4)]===I.y.toFixed(4))continue;y[I.x.toFixed(4)]=I.y.toFixed(4);var O=E.t+Math.abs((I[T]-E[T])/(C[T]-E[T]))*(C.t-E.t),L=k.t+Math.abs((I[A]-k[A])/(P[A]-k[A]))*(P.t-k.t);O>=0&&O<=1&&L>=0&&L<=1&&(n?m++:m.push({x:I.x,y:I.y,t1:O,t2:L}))}}return m};t.exports=function(t,e){return function(t,e,n){t=a(t),e=a(e);for(var r=void 0,i=void 0,o=void 0,s=void 0,u=void 0,c=void 0,l=void 0,h=void 0,f=void 0,d=void 0,g=n?0:[],v=0,y=t.length;v<y;v++){var m=t[v];if("M"===m[0])r=u=m[1],i=c=m[2];else{"C"===m[0]?(r=(f=[r,i].concat(m.slice(1)))[6],i=f[7]):(f=[r,i,r,i,u,c,u,c],r=u,i=c);for(var x=0,_=e.length;x<_;x++){var w=e[x];if("M"===w[0])o=l=w[1],s=h=w[2];else{"C"===w[0]?(o=(d=[o,s].concat(w.slice(1)))[6],s=d[7]):(d=[o,s,o,s,l,h,l,h],o=l,s=h);var b=p(f,d,n);if(n)g+=b;else{for(var M=0,S=b.length;M<S;M++)b[M].segment1=v,b[M].segment2=x,b[M].bez1=f,b[M].bez2=d;g=g.concat(b)}}}}}return g}(t,e)}},function(t,e){function n(t,e){var n=[],r=[];return t.length&&function t(e,i){if(1===e.length)n.push(e[0]),r.push(e[0]);else{for(var a=[],o=0;o<e.length-1;o++)0===o&&n.push(e[0]),o===e.length-2&&r.push(e[o+1]),a[o]=[(1-i)*e[o][0]+i*e[o+1][0],(1-i)*e[o][1]+i*e[o+1][1]];t(a,i)}}(t,e),{left:n,right:r.reverse()}}function r(t,e,r){if(1===r)return[[].concat(t)];var i=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])i=i.concat(function(t,e,r){var i=[[t[1],t[2]]];r=r||2;var a=[];"A"===e[0]?(i.push(e[6]),i.push(e[7])):"C"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]]),i.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]])):i.push([e[1],e[2]]);for(var o=i,s=1/r,u=0;u<r-1;u++){var c=n(o,s/(1-s*u));a.push(c.left),o=c.right}return a.push(o),a.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),t.length>=3&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])})}(t,e,r));else{var a=[].concat(t);"M"===a[0]&&(a[0]="L");for(var o=0;o<=r-1;o++)i.push(a)}return i}t.exports=function(t,e){if(1===t.length)return t;var n=t.length-1,i=e.length-1,a=n/i,o=[];if(1===t.length&&"M"===t[0][0]){for(var s=0;s<i-n;s++)t.push(t[0]);return t}for(var u=0;u<i;u++){var c=Math.floor(a*u);o[c]=(o[c]||0)+1}var l=o.reduce(function(e,i,a){return a===n?e.concat(t[n]):e.concat(r(t[a],t[a+1],i))},[]);return l.unshift(t[0]),"Z"!==e[i]&&"z"!==e[i]||l.push("Z"),l}},function(t,e,n){var r=n(900);t.exports=function(t,e){var n=function(t,e){var n=t.length,i=e.length,a=void 0,o=void 0,s=0;if(0===n||0===i)return null;for(var u,c,l,h,f=[],p=0;p<=n;p++)f[p]=[],f[p][0]={min:p};for(var d=0;d<=i;d++)f[0][d]={min:d};for(var g=1;g<=n;g++){a=t[g-1];for(var v=1;v<=i;v++){o=e[v-1],s=r(a,o)?0:1;var y=f[g-1][v].min+1,m=f[g][v-1].min+1,x=f[g-1][v-1].min+s;f[g][v]=(u=y,l=void 0,h=void 0,l=null,(c=m)<(h=x)&&(h=c,l="add"),u<h&&(h=u,l="del"),{type:l,min:h})}}return f}(t,e),i=t.length,a=e.length,o=[],s=1,u=1;if(n[i][a]!==i){for(var c=1;c<=i;c++){var l=n[c][c].min;u=c;for(var h=s;h<=a;h++)n[c][h].min<l&&(l=n[c][h].min,u=h);s=u,n[c][s].type&&o.push({index:c-1,type:n[c][s].type})}for(var f=o.length-1;f>=0;f--)s=o[f].index,"add"===o[f].type?t.splice(s,0,[].concat(t[s])):t.splice(s,1)}if((i=t.length)<a)for(var p=0;p<a-i;p++)"z"===t[i-1][0]||"Z"===t[i-1][0]?t.splice(i-2,0,t[i-2]):t.push(t[i-1]);return t}},function(t,e,n){var r=n(502);t.exports=function(t,e){if(t.length!==e.length)return!1;var n=!0;return r(t,function(t,r){if(t!==e[r])return n=!1,!1}),n}},function(t,e){function n(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}function r(t,e,r){for(var i=[].concat(t),a=void 0,o=1/(r+1),s=n(e)[0],u=1;u<=r;u++)o*=u,0===(a=Math.floor(t.length*o))?i.unshift([s[0]*o+t[a][0]*(1-o),s[1]*o+t[a][1]*(1-o)]):i.splice(a,0,[s[0]*o+t[a][0]*(1-o),s[1]*o+t[a][1]*(1-o)]);return i}t.exports=function(t,e){if(t.length<=1)return t;for(var i=void 0,a=0;a<e.length;a++)if(t[a][0]!==e[a][0])switch(i=n(t[a]),e[a][0]){case"M":t[a]=["M"].concat(i[0]);break;case"L":t[a]=["L"].concat(i[0]);break;case"A":t[a]=[].concat(e[a]),t[a][6]=i[0][0],t[a][7]=i[0][1];break;case"Q":if(i.length<2){if(!(a>0)){t[a]=e[a];break}i=r(i,t[a-1],1)}t[a]=["Q"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[a]=["T"].concat(i[0]);break;case"C":if(i.length<3){if(!(a>0)){t[a]=e[a];break}i=r(i,t[a-1],2)}t[a]=["C"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(i.length<2){if(!(a>0)){t[a]=e[a];break}i=r(i,t[a-1],1)}t[a]=["S"].concat(i.reduce(function(t,e){return t.concat(e)},[]));break;default:t[a]=e[a]}return t}},function(t,e,n){var r={lc:n(903),lowerCase:n(704),lowerFirst:n(648),substitute:n(904),uc:n(905),upperCase:n(705),upperFirst:n(660)};t.exports=r},function(t,e,n){t.exports=n(704)},function(t,e){t.exports=function(t,e){return t&&e?t.replace(/\\?\{([^{}]+)\}/g,function(t,n){return"\\"===t.charAt(0)?t.slice(1):void 0===e[n]?"":e[n]}):t}},function(t,e,n){t.exports=n(705)},function(t,e,n){var r=n(521),i={getType:n(658),isArray:n(504),isArrayLike:n(525),isBoolean:n(656),isFunction:n(511),isNil:n(514),isNull:n(907),isNumber:n(515),isObject:n(535),isObjectLike:n(597),isPlainObject:n(537),isPrototype:n(659),isType:r,isUndefined:n(706),isString:n(507),isRegExp:n(908),isDate:n(654),isArguments:n(909),isError:n(910)};t.exports=i},function(t,e){t.exports=function(t){return null===t}},function(t,e,n){var r=n(521);t.exports=function(t){return r(t,"RegExp")}},function(t,e,n){var r=n(521);t.exports=function(t){return r(t,"Arguments")}},function(t,e,n){var r=n(521);t.exports=function(t){return r(t,"Error")}},function(t,e){t.exports=function(t,e,n){var r=void 0;return function(){var i=this,a=arguments,o=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||t.apply(i,a)},e),o&&t.apply(i,a)}}},function(t,e,n){var r=n(525);t.exports=function(t,e){if(!r(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,a=0;a<t.length;a++)if(t[a]===e){i=a;break}return i}},function(t,e,n){var r=n(511),i=n(598);t.exports=function(t,e,n){return r(n)?!!n(t,e):i(t,e)}},function(t,e){t.exports=function(t,e,n){var r=void 0,i=void 0,a=void 0,o=void 0,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,o=t.apply(i,a),r||(i=a=null)},c=function(){var c=Date.now();s||!1!==n.leading||(s=c);var l=e-(c-s);return i=this,a=arguments,l<=0||l>e?(r&&(clearTimeout(r),r=null),s=c,o=t.apply(i,a),r||(i=a=null)):r||!1===n.trailing||(r=setTimeout(u,l)),o};return c.cancel=function(){clearTimeout(r),s=0,r=i=a=null},c}},function(t,e,n){var r=n(500),i=n(536),a=r.PathUtil;function o(t,e){var n,i,a=function(t){if(r.isEmpty(t))return null;var e=t[0].x,n=t[0].x,i=t[0].y,a=t[0].y;return r.each(t,function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,i=i>t.y?t.y:i,a=a<t.y?t.y:a}),{minX:e,maxX:n,minY:i,maxY:a,centerX:(e+n)/2,centerY:(i+a)/2}}(t.points||t.get("origin").points),o=e.startAngle,s=e.endAngle-o;return e.isTransposed?(n=a.maxY*s,i=a.minY*s):(n=a.maxX*s,i=a.minX*s),{startAngle:i+=o,endAngle:n+=o}}function s(t,e,n){var i={};return t.delay&&(i.delay=r.isFunction(t.delay)?t.delay(e,n):t.delay),i.easing=r.isFunction(t.easing)?t.easing(e,n):t.easing,i.duration=r.isFunction(t.duration)?t.duration(e,n):t.duration,i.callback=t.callback,i}function u(t,e){var n,r=t._id,i=t.get("index"),a=t.getBBox(),o=t.get("origin").points,u=(a.minX+a.maxX)/2,c=[u,n=o[0].y-o[1].y<=0?a.maxY:a.minY,1];t.apply(c),t.attr("transform",[["t",-u,-n],["s",1,.01],["t",u,n]]);var l={transform:[["t",-u,-n],["s",1,100],["t",u,n]]},h=s(e,i,r);t.animate(l,h.duration,h.easing,h.callback,h.delay)}function c(t,e){var n,r=t._id,i=t.get("index"),a=t.getBBox(),o=t.get("origin").points,u=(a.minY+a.maxY)/2,c=[n=o[0].y-o[1].y>0?a.maxX:a.minX,u,1];t.apply(c),t.attr({transform:[["t",-n,-u],["s",.01,1],["t",n,u]]});var l={transform:[["t",-n,-u],["s",100,1],["t",n,u]]},h=s(e,i,r);t.animate(l,h.duration,h.easing,h.callback,h.delay)}function l(t,e,n){var r,i,a=t._id,o=t.get("index");if(n.isPolar&&"point"!==t.name)r=n.getCenter().x,i=n.getCenter().y;else{var u=t.getBBox();r=(u.minX+u.maxX)/2,i=(u.minY+u.maxY)/2}var c=[r,i,1];t.apply(c),t.attr({transform:[["t",-r,-i],["s",.01,.01],["t",r,i]]});var l={transform:[["t",-r,-i],["s",100,100],["t",r,i]]},h=s(e,o,a);t.animate(l,h.duration,h.easing,h.callback,h.delay)}function h(t,e){if("path"===t.get("type")){var n=t._id,r=t.get("index"),i=a.pathToAbsolute(t.attr("path"));t.attr("path",[i[0]]);var o={path:i},u=s(e,r,n);t.animate(o,u.duration,u.easing,u.callback,u.delay)}}function f(t,e,n,r,a){var o,u,c,l,h,f,p,d,g,v,y,m=(p=(o=n).start,d=o.end,g=o.getWidth(),v=o.getHeight(),o.isPolar?(h=o.getRadius(),l=o.getCenter(),u=o.startAngle,c=o.endAngle,(f=new i.Fan({attrs:{x:l.x,y:l.y,rs:0,re:h+200,startAngle:u,endAngle:u}})).endState={endAngle:c}):(f=new i.Rect({attrs:{x:p.x-200,y:d.y-200,width:o.isTransposed?g+400:0,height:o.isTransposed?0:v+400}}),o.isTransposed?f.endState={height:v+400}:f.endState={width:g+400}),f.isClip=!0,f),x=t.get("canvas"),_=t._id,w=t.get("index");r?(m.attr("startAngle",r),m.attr("endAngle",r),y={endAngle:a}):y=m.endState,m.set("canvas",x),t.attr("clip",m),t.setSilent("animating",!0);var b=s(e,w,_);m.animate(y,b.duration,b.easing,function(){t&&!t.get("destroyed")&&(t.attr("clip",null),t.setSilent("cacheShape",null),t.setSilent("animating",!1),m.remove())},b.delay)}function p(t,e){var n=t._id,i=t.get("index"),a=r.isNil(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),o=r.isNil(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity");t.attr("fillOpacity",0),t.attr("strokeOpacity",0);var u={fillOpacity:a,strokeOpacity:o},c=s(e,i,n);t.animate(u,c.duration,c.easing,c.callback,c.delay)}function d(t,e,n){var r=o(t,n),i=r.endAngle;f(t,e,n,r.startAngle,i)}t.exports={enter:{clipIn:f,zoomIn:l,pathIn:h,scaleInY:u,scaleInX:c,fanIn:d,fadeIn:p},leave:{lineWidthOut:function(t,e){var n={lineWidth:0,opacity:0},r=t._id,i=s(e,t.get("index"),r);t.animate(n,i.duration,i.easing,function(){t.remove()},i.delay)},zoomOut:function(t,e,n){var r,i,a=t._id,o=t.get("index");if(n.isPolar&&"point"!==t.name)r=n.getCenter().x,i=n.getCenter().y;else{var u=t.getBBox();r=(u.minX+u.maxX)/2,i=(u.minY+u.maxY)/2}var c=[r,i,1];t.apply(c);var l={transform:[["t",-r,-i],["s",.01,.01],["t",r,i]]},h=s(e,o,a);t.animate(l,h.duration,h.easing,function(){t.remove()},h.delay)},pathOut:function(t,e){if("path"===t.get("type")){var n=t._id,r=t.get("index"),i={path:[a.pathToAbsolute(t.attr("path"))[0]]},o=s(e,r,n);t.animate(i,o.duration,o.easing,function(){t.remove()},o.delay)}},fadeOut:function(t,e){var n=t._id,r={fillOpacity:0,strokeOpacity:0},i=s(e,t.get("index"),n);t.animate(r,i.duration,i.easing,function(){t.remove()},i.delay)}},appear:{clipIn:f,zoomIn:l,pathIn:h,scaleInY:u,scaleInX:c,fanIn:d,fadeIn:p},update:{fadeIn:p,fanIn:d}}},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=n(711),a=n(518),o=n(500),s=n(728),u=n(512),c=n(714),l=n(980);function h(t,e,n){var r=(t-e)/(n-e);return r>=0&&r<=1}function f(t,e){var n=!1;if(t)if("theta"===t.type){var r=t.start,i=t.end;n=h(e.x,r.x,i.x)&&h(e.y,r.y,i.y)}else{var a=t.invert(e);n=a.x>=0&&a.y>=0&&a.x<=1&&a.y<=1}return n}var p={};o.each(a,function(t,e){var n=o.lowerFirst(e);p[n]=function(e){var n=new t(e);return this.addGeom(n),n}});var d=function(t){var e,n;n=t,(e=h).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=h.prototype;function h(e){var n,i=r(r(n=t.call(this,e)||this));return i._setTheme(),o.each(a,function(t,e){var n=o.lowerFirst(e);i[n]=function(e){void 0===e&&(e={}),e.viewTheme=i.get("viewTheme");var n=new t(e);return i.addGeom(n),n}}),i.init(),n}return i.getDefaultCfg=function(){return{viewContainer:null,coord:null,start:{x:0,y:0},end:{x:1,y:1},geoms:[],scales:{},options:{},scaleController:null,padding:0,theme:null,parent:null,tooltipEnable:!0,animate:u.animate,visible:!0}},i._setTheme=function(){var t=this.get("theme"),e={},n={};o.isObject(t)?n=t:-1!==o.indexOf(Object.keys(c),t)&&(n=c[t]),o.deepMix(e,u,n),this.set("viewTheme",e)},i.init=function(){this._initViewPlot(),this.get("data")&&this._initData(this.get("data")),this._initOptions(),this._initControllers(),this._bindEvents()},i._initOptions=function(){var t=this,e=o.mix({},t.get("options"));e.scales||(e.scales={}),e.coord||(e.coord={}),!1===e.animate&&this.set("animate",!1),(!1===e.tooltip||o.isNull(e.tooltip))&&this.set("tooltipEnable",!1),e.geoms&&e.geoms.length&&o.each(e.geoms,function(e){t._createGeom(e)});var n=t.get("scaleController");n&&(n.defs=e.scales);var r=t.get("coordController");r&&r.reset(e.coord),this.set("options",e)},i._createGeom=function(t){var e,n=t.type;this[n]&&(e=this[n](),o.each(t,function(t,n){var r;e[n]&&(o.isObject(t)&&t.field?"label"===t?e[n](t.field,t.callback,t.cfg):(o.each(t,function(t,e){"field"!==e&&(r=t)}),e[n](t.field,r)):e[n](t))}))},i._initControllers=function(){var t=this.get("options"),e=this.get("viewTheme"),n=this.get("canvas"),r=new s.Scale({viewTheme:e,defs:t.scales}),i=new s.Coord(t.coord);this.set("scaleController",r),this.set("coordController",i);var a=new s.Axis({canvas:n,viewTheme:e});this.set("axisController",a);var o=new s.Guide({viewTheme:e,options:t.guides||[]});this.set("guideController",o)},i._initViewPlot=function(){this.get("viewContainer")||this.set("viewContainer",this.get("middlePlot"))},i._initGeoms=function(){for(var t=this.get("geoms"),e=this.get("filteredData"),n=this.get("coord"),r=this.get("_id"),i=0;i<t.length;i++){var a=t[i];a.set("data",e),a.set("coord",n),a.set("_id",r+"-geom"+i),a.set("keyFields",this.get("keyFields")),a.init()}},i._clearGeoms=function(){for(var t=this.get("geoms"),e=0;e<t.length;e++){t[e].clear()}},i._removeGeoms=function(){for(var t=this.get("geoms");t.length>0;){t.shift().destroy()}},i._drawGeoms=function(){for(var t=this.get("geoms"),e=this.get("coord"),n=0;n<t.length;n++){var r=t[n];r.setCoord(e),r.paint()}},i.isShapeInView=function(t){var e=this.get("_id"),n=t._id;return n?n.split("-")[0]===e:t.get("parent").get("viewId")===e},i.getViewRegion=function(){var t,e,n=this.get("parent");if(n){var r=n.getViewRegion(),i=this._getViewRegion(r.start,r.end);t=i.start,e=i.end}else t=this.get("start"),e=this.get("end");return{start:t,end:e}},i._getViewRegion=function(t,e){var n=this.get("start"),r=this.get("end"),i=n.x,a=1-r.y,s=r.x,u=1-n.y,c=this.get("padding"),l=o.toAllPadding(c),h=l[0],f=l[1],p=l[2],d=l[3];return{start:{x:i*(e.x-t.x)+t.x+d,y:a*(e.y-t.y)+t.y-p},end:{x:s*(e.x-t.x)+t.x-f,y:u*(e.y-t.y)+t.y+h}}},i._createCoord=function(){var t=this.get("coordController"),e=this.getViewRegion(),n=t.createCoord(e.start,e.end);this.set("coord",n)},i._renderAxes=function(){var t=this.get("options").axes;if(!1!==t){var e=this.get("axisController");e.container=this.get("backPlot"),e.coord=this.get("coord"),e.options=t||{};var n=this.getXScale(),r=this.getYScales(),i=this.get("_id");e.createAxis(n,r,i)}},i._renderGuides=function(){var t=this.get("guideController");if(!o.isEmpty(t.options)){var e=this.get("coord");t.view=this,t.backContainer=this.get("backPlot"),t.frontContainer=this.get("frontPlot"),t.xScales=this._getScales("x"),t.yScales=this._getScales("y"),t.render(e)}},i._bindEvents=function(){var t=new s.Event({view:this,canvas:this.get("canvas")});t.bindEvents(),this.set("eventController",t)},i._clearEvents=function(){var t=this.get("eventController");t&&t.clearEvents()},i._getScales=function(t){for(var e=this.get("geoms"),n={},r=0;r<e.length;r++){var i=e[r],a="x"===t?i.getXScale():i.getYScale();a&&!n[a.field]&&(n[a.field]=a)}return n},i._adjustScale=function(){this._setCatScalesRange();for(var t=this.get("geoms"),e=this.get("scaleController").defs,n=0;n<t.length;n++){var r=t[n];if("interval"===r.get("type")){var i=r.getYScale(),a=i.field,o=i.min,s=i.max,u=i.type;e[a]&&e[a].min||"time"===u||(o>0?i.change({min:0}):s<=0&&i.change({max:0}))}}},i._setCatScalesRange=function(){var t=this.get("coord"),e=this.get("viewTheme"),n=this.getXScale(),r=this.getYScales(),i=[];n&&i.push(n),i=i.concat(r);var a,s,u,c=t.isPolar&&(s=(a=t).startAngle,u=a.endAngle,!(!o.isNil(s)&&!o.isNil(u)&&u-s<2*Math.PI)),l=this.get("scaleController").defs;o.each(i,function(n){if((n.isCategory||n.isIdentity)&&n.values&&(!l[n.field]||!l[n.field].range)){var r,i=n.values.length;if(1===i)r=[.5,1];else{var a=0;r=c?t.isTransposed?[(a=1/i*e.widthRatio.multiplePie)/2,1-a/2]:[0,1-1/i]:[a=1/i*1/2,1-a]}n.range=r}})},i.getXScale=function(){var t=this.get("geoms"),e=null;return o.isEmpty(t)||(e=t[0].getXScale()),e},i.getYScales=function(){for(var t=this.get("geoms"),e=[],n=0;n<t.length;n++){var r=t[n].getYScale();r&&-1===o.indexOf(e,r)&&e.push(r)}return e},i.getXY=function(t){var e,n,r=this.get("coord"),i=this._getScales("x"),a=this._getScales("y");for(var s in t)i[s]&&(e=i[s].scale(t[s])),a[s]&&(n=a[s].scale(t[s]));return o.isNil(e)||o.isNil(n)?null:r.convert({x:e,y:n})},i.getSnapRecords=function(t){var e=this.get("geoms"),n=[];return o.each(e,function(e){var r,i=e.get("dataArray");o.each(i,function(i){(r=e.findPoint(t,i))&&n.push(r)})}),n},i.addGeom=function(t){this.get("geoms").push(t),t.set("view",this);var e=this.get("viewContainer");t.set("container",e),t.set("animate",this.get("animate")),t.bindEvents()},i.removeGeom=function(t){var e=this.get("geoms");o.Array.remove(e,t),t.destroy()},i.createScale=function(t,e){var n=this.get("scales"),r=this.get("parent"),i=n[t];if(!e){var a=this.get("filteredData"),o=this._getFieldsForLegend();e=a.length&&-1===o.indexOf(t)?a:this.get("data")}var s=this.get("scaleController");if(i){if(i.sync){var u=s.createScale(t,e);this._syncScale(i,u)}}else{if((i=s.createScale(t,e)).sync&&r){var c=r.createScale(t,e);i=this._getSyncScale(c,i)}n[t]=i}return i},i._getFieldsForLegend=function(){var t=[],e=this.get("geoms");return o.each(e,function(e){var n=e.getFieldsForLegend();t=t.concat(n)}),o.uniq(t)},i._getSyncScale=function(t,e){return t.type!==e.type?e:(this._syncScale(t,e),t)},i._syncScale=function(t,e){var n=o.union(t.values,e.values);if(e.isLinear){var r=Math.max(t.max,e.max),i=Math.min(t.min,e.min);t.max===r&&t.min===i||t.change({min:i,max:r,values:n})}n.length!==t.values.length&&t.change({values:n})},i.getFilteredValues=function(t){var e=this.get("scales")[t].values,n=this._getFilters();return n&&n[t]?e.filter(n[t]):e.slice(0)},i.getFilteredOutValues=function(t){var e=this.get("scales")[t].values,n=this._getFilters();return n&&n[t]?e.filter(function(e){return!n[t](e)}):[]},i.filter=function(t,e){var n=this.get("options");n.filters||(n.filters={}),n.filters[t]=e},i._getFilters=function(){return this.get("options").filters},i.execFilter=function(t){var e=this._getFilters();return e&&(t=t.filter(function(t){var n=!0;return o.each(e,function(e,r){if(e&&!(n=e(t[r],t)))return!1}),n})),t},i.axis=function(t,e){var n=this.get("options");!1===t?n.axes=!1:(n.axes||(n.axes={}),n.axes[t]=e);return this},i.guide=function(){return this.get("guideController")},i._getKeyFields=function(t){var e=[];o.each(t,function(t,n){t.key&&e.push(n)}),this.set("keyFields",e)},i.scale=function(t,e){var n=this.get("options").scales;return o.isObject(t)?o.mix(n,t):n[t]=e,this._getKeyFields(n),this},i.tooltip=function(t){return this.set("tooltipEnable",t),this},i.animate=function(t){return this.get("options").animate=t,this.set("animate",t),this},i.changeOptions=function(t){return this.set("options",t),this._initOptions(t),this},i.getViewsByPoint=function(t){var e=[],n=this.get("views");return f(this.get("coord"),t)&&e.push(this),o.each(n,function(n){n.get("visible")&&f(n.get("coord"),t)&&e.push(n)}),e},i.eachShape=function(t){var e=this,n=e.get("views"),r=e.get("canvas");o.each(n,function(e){e.eachShape(t)});var i=this.get("geoms");return o.each(i,function(n){var r=n.getShapes();o.each(r,function(r){var i=r.get("origin");if(o.isArray(i)){var a=i.map(function(t){return t._origin});t(a,r,n,e)}else{var s=i._origin;t(s,r,n,e)}})}),r.draw(),this},i.filterShape=function(t){return this.eachShape(function(e,n,r,i){t(e,n,r,i)?n.show():n.hide()}),this},i.clearInner=function(){this.set("scales",{}),this.get("options").geoms=null,this._clearGeoms(),this.get("guideController")&&this.get("guideController").reset(),this.get("axisController")&&this.get("axisController").clear()},i.clear=function(){return this.get("options").filters=null,this._removeGeoms(),this.clearInner(),this.get("guideController")&&this.get("guideController").clear(),this.set("isUpdate",!1),this.set("keyFields",[]),this},i.coord=function(t,e){var n=this.get("coordController");return n.reset({type:t,cfg:e}),n},i.resetCoord=function(){this._createCoord()},i.source=function(t,e){return this._initData(t),e&&this.scale(e),this.emit("setdata"),this},i.changeData=function(t){return this.emit("beforechangedata"),this._initData(t),this.emit("afterchangedata"),this.repaint(),this},i._initData=function(t){var e=this.get("dataView");e&&(e.off("change",o.getWrapBehavior(this,"_onViewChange")),this.set("dataView",null)),t&&t.isDataView&&(t.on("change",o.wrapBehavior(this,"_onViewChange")),this.set("dataView",t),t=t.rows),this.set("data",t)},i._onViewChange=function(){this.emit("beforechangedata");var t=this.get("dataView").rows;this.set("data",t),this.emit("afterchangedata"),this.repaint()},i.beforeRender=function(){var t=this.get("views");o.each(t,function(t){t.beforeRender()}),this.initView()},i.drawComponents=function(){var t=this.get("views");o.each(t,function(t){t.drawComponents()}),this._renderAxes(),this._renderGuides()},i.drawCanvas=function(t){if(!t){var e=this.get("views");this.get("backPlot").sort();var n=this.get("canvas");if(this.get("animate")){var r=this.get("isUpdate");o.each(e,function(t){l.execAnimation(t,r)}),l.execAnimation(this,r)}else n.draw()}},i.render=function(t){return this.clearInner(),this.emit("beforerender"),this.beforeRender(),this.emit("beforepaint"),this.drawComponents(),this.paint(),this.emit("afterpaint"),this.drawCanvas(t),this.emit("afterrender"),this.set("rendered",!0),this},i.initView=function(){var t=this.get("data")||[],e=this.execFilter(t);this.set("filteredData",e),this._createCoord(),this._initGeoms(),this._adjustScale()},i.paint=function(){var t=this.get("views");o.each(t,function(t){t.paint()});var e=this.get("data");o.isEmpty(e)||this._drawGeoms(),this.get("visible")||this.changeVisible(!1,!0)},i.changeVisible=function(t,e){var n=this.get("geoms");(o.each(n,function(e){e.changeVisible(t,!0)}),this.get("axisController")&&this.get("axisController").changeVisible(t),this.get("guideController")&&this.get("guideController").changeVisible(t),e)||this.get("canvas").draw()},i.repaint=function(){this.set("isUpdate",!0),this.clearInner(),this.render()},i.destroy=function(){this._clearEvents();var e=this.get("dataView");e&&e.off("change",o.getWrapBehavior(this,"_onViewChange")),this.clear(),t.prototype.destroy.call(this)},h}(i);t.exports=d},function(t,e,n){var r=n(514),i=n(504),a=n(502),o=function(t){var e,n;function o(e){var n;return(n=t.call(this,e)||this).names=["x","y"],n.type="position",n}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o.prototype.mapping=function(t,e){var n,o,s,u=this.scales,c=this.coord,l=u[0],h=u[1];if(r(t)||r(e))return[];if(i(e)&&i(t)){n=[],o=[];for(var f=0,p=0,d=t.length,g=e.length;f<d&&p<g;f++,p++)s=c.convertPoint({x:l.scale(t[f]),y:h.scale(e[p])}),n.push(s.x),o.push(s.y)}else if(i(e))t=l.scale(t),o=[],a(e,function(e){e=h.scale(e),s=c.convertPoint({x:t,y:e}),n&&n!==s.x?(i(n)||(n=[n]),n.push(s.x)):n=s.x,o.push(s.y)});else if(i(t))e=h.scale(e),n=[],a(t,function(t){t=l.scale(t),s=c.convertPoint({x:t,y:e}),o&&o!==s.y?(i(o)||(o=[o]),o.push(s.y)):o=s.y,n.push(s.x)});else{t=l.scale(t),e=h.scale(e);var v=c.convertPoint({x:t,y:e});n=v.x,o=v.y}return[n,o]},o}(n(550));t.exports=o},function(t,e,n){var r=n(507),i=n(712),a=function(t){var e,n;function a(e){var n;return(n=t.call(this,e)||this).names=["color"],n.type="color",n.gradient=null,r(n.values)&&(n.linear=!0),n}return n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,a.prototype.getLinearValue=function(t){var e=this.gradient;if(!e){var n=this.values;e=i.gradient(n),this.gradient=e}return e(t)},a}(n(550));t.exports=a},function(t,e,n){var r=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).names=["shape"],n.type="shape",n.gradient=null,n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.getLinearValue=function(t){var e=this.values;return e[Math.round((e.length-1)*t)]},r}(n(550));t.exports=r},function(t,e,n){var r=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).names=["size"],n.type="size",n.gradient=null,n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(n(550));t.exports=r},function(t,e,n){var r=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).names=["opacity"],n.type="opacity",n.gradient=null,n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(n(550));t.exports=r},function(t,e,n){var r=n(501),i=n(551),a=n(923),o=n(924),s=n(713),u=n(925),c=n(926);r(i.prototype,s),r(a.prototype,s,u),r(o.prototype,c),i.Jitter=n(927),i.Symmetric=n(928),i.Dodge=a,i.Stack=o,t.exports=i},function(t,e,n){var r=n(551),i=n(502),a=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a._initDefaultCfg=function(){this.marginRatio=.5,this.dodgeRatio=.5,this.adjustNames=["x","y"]},a.getDodgeOffset=function(t,e,n){var r=t.pre,i=t.next,a=i-r,o=a*this.dodgeRatio/n,s=this.marginRatio*o;return(r+i)/2+(.5*(a-n*o-(n-1)*s)+((e+1)*o+e*s)-.5*o-.5*a)},a.processAdjust=function(t){var e=this,n=t.length,r=e.xField;i(t,function(t,i){for(var a=0,o=t.length;a<o;a++){var s=t[a],u=s[r],c={pre:u-.5,next:u+.5},l=e.getDodgeOffset(c,i,n);s[r]=l}})},r}(r);r.Dodge=a,t.exports=a},function(t,e,n){var r=n(504),i=n(514),a=n(551),o=function(t){var e,n;function a(){return t.apply(this,arguments)||this}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=a.prototype;return o._initDefaultCfg=function(){this.xField=null,this.yField=null},o.processAdjust=function(t){this.processStack(t)},o.processStack=function(t){var e=this.xField,n=this.yField,a=t.length,o={positive:{},negative:{}};this.reverseOrder&&(t=t.slice(0).reverse());for(var s=0;s<a;s++)for(var u=t[s],c=0,l=u.length;c<l;c++){var h=u[c],f=h[e]||0,p=h[n],d=f.toString();if(p=r(p)?p[1]:p,!i(p)){var g=p>=0?"positive":"negative";o[g][d]||(o[g][d]=0),h[n]=[o[g][d],p+o[g][d]],o[g][d]+=p}}},a}(a);a.Stack=o,t.exports=o},function(t,e,n){var r={merge:n(573),values:n(610)},i=n(707),a=n(502);t.exports={processAdjust:function(t){var e=r.merge(t),n=this.dodgeBy,a=t;n&&(a=i(e,n)),this.cacheMap={},this.adjDataArray=a,this.mergeData=e,this.adjustData(a,e),this.adjDataArray=null,this.mergeData=null},getDistribution:function(t){var e=this.adjDataArray,n=this.cacheMap,i=n[t];return i||(i={},a(e,function(e,n){var o=r.values(e,t);o.length||o.push(0),a(o,function(t){i[t]||(i[t]=[]),i[t].push(n)})}),n[t]=i),i},adjustDim:function(t,e,n,r,i){var o=this,s=o.getDistribution(t),u=o.groupData(n,t);a(u,function(n,r){var u;r=parseFloat(r),u=1===e.length?{pre:e[0]-1,next:e[0]+1}:o.getAdjustRange(t,r,e),a(n,function(e){var n=e[t],r=s[n],a=r.indexOf(i);e[t]=o.getDodgeOffset(u,a,r.length)})})}}},function(t,e){t.exports={_initDefaultCfg:function(){this.xField=null,this.yField=null,this.height=null,this.size=10,this.reverseOrder=!1,this.adjustNames=["y"]},processOneDimStack:function(t){var e=this.xField,n=this.yField||"y",r=this.height,i={};this.reverseOrder&&(t=t.slice(0).reverse());for(var a=0,o=t.length;a<o;a++)for(var s=t[a],u=0,c=s.length;u<c;u++){var l=s[u],h=2*(l.size||this.size)/r,f=l[e];i[f]||(i[f]=h/2),l[n]=i[f],i[f]+=h}},processAdjust:function(t){this.yField?this.processStack(t):this.processOneDimStack(t)}}},function(t,e,n){var r=n(502),i=n(501),a={merge:n(573)},o=n(551),s=n(713),u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o._initDefaultCfg=function(){this.xField=null,this.yField=null,this.adjustNames=["x","y"],this.groupFields=null},o.processAdjust=function(t){var e=a.merge(t);this.adjDataArray=t,this.mergeData=e,this.adjustData(t,e),this.adjFrames=null,this.mergeData=null},o.getAdjustOffset=function(t,e){var n=e-t;return t+.05*n+.9*n*Math.random()},o._adjustGroup=function(t,e,n,i){var a=this,o=a.getAdjustRange(e,n,i);r(t,function(t){t[e]=a.getAdjustOffset(o.pre,o.next)})},o.adjustDim=function(t,e,n){var i=this,a=i.groupData(n,t);r(a,function(n,r){r=parseFloat(r),i._adjustGroup(n,t,r,e)})},i}(o);i(u.prototype,s),o.Jitter=u,t.exports=u},function(t,e,n){var r=n(502),i=n(696),a=n(504),o={merge:n(573)},s=n(551),u=function(t){var e,n;function s(){return t.apply(this,arguments)||this}n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=s.prototype;return u._initDefaultCfg=function(){this.xField=null,this.yField=null,this.cacheMax=null,this.adjustNames=["y"],this.groupFields=null},u._getMax=function(t){var e=this.mergeData,n=i(e,function(e){var n=e[t];return a(n)?Math.max.apply(null,n):n})[t];return a(n)?Math.max.apply(null,n):n},u._getXValuesMax=function(){var t=this.yField,e=this.xField,n={},i=this.mergeData;return r(i,function(r){var i=r[e],o=r[t],s=a(o)?Math.max.apply(null,o):o;n[i]=n[i]||0,n[i]<s&&(n[i]=s)}),n},u.processAdjust=function(t){var e=o.merge(t);this.mergeData=e,this._processSymmetric(t),this.mergeData=null},u._processSymmetric=function(t){var e,n=this.xField,i=this.yField,o=this._getMax(i),s=t[0][0];s&&a(s[i])&&(e=this._getXValuesMax()),r(t,function(t){r(t,function(t){var s,u=t[i];if(a(u)){var c=t[n],l=e[c];s=(o-l)/2;var h=[];r(u,function(t){h.push(s+t)}),t[i]=h}else s=(o-u)/2,t[i]=[s,u+s]})})},s}(s);s.Symmetric=u,t.exports=u},function(t,e,n){var r,i,a=n(500),o=n(715),s=a.deepMix({},o,{background:{fill:"#1F1F1F",radius:2},plotBackground:{fill:"#1F1F1F"},axis:{top:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},bottom:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},left:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},right:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},circle:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},radius:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},helix:{line:{stroke:"#737373"},tickLine:{stroke:"#737373"}}},label:{textStyle:{fill:"#A6A6A6"}},legend:{right:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},left:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},top:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},bottom:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},html:(r={},r["g2-legend"]={color:"#D9D9D9"},r),gradient:{textStyle:{fill:"#D9D9D9"},lineStyle:{stroke:"#404040"}}},tooltip:(i={},i["g2-tooltip"]={color:"#D9D9D9"},i),tooltipCrosshairsRect:{type:"rect",style:{fill:"#fff",opacity:.1}},tooltipCrosshairsLine:{style:{stroke:"rgba(255, 255, 255, 0.45)"}},guide:{line:{text:{style:{fill:"#A6A6A6"}}},text:{style:{fill:"#A6A6A6"}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}}}});t.exports=s},function(t,e,n){var r=n(614),i=n(727),a=n(960),o=n(961),s={getLabelsClass:function(t,e){var n=r;return"polar"===t?n=i:"theta"===t?n=a:"interval"!==e&&"polygon"!==e||(n=o),n}};t.exports=s},function(t,e,n){var r=n(552);r.Base=r,r.Circle=n(935),r.Grid=n(716),r.Helix=n(936),r.Line=n(937),r.Polyline=n(938),t.exports=r},function(t,e,n){var r=n(718);function i(t,e,n,r){var i=t.getBBox(),a=i.width,o=i.height,s={x:e,y:n,textAlign:"center"};switch(r){case 0:s.y-=o/2,s.textAlign="left";break;case 1:s.y-=o/2,s.textAlign="right";break;case 2:s.y+=o/2,s.textAlign="right";break;case 3:s.y+=o/2,s.textAlign="left";break;case 5:s.y-=o/2;break;case 6:s.y+=o/2;break;case 7:s.x+=a/2,s.textAlign="left";break;case 8:s.x-=a/2,s.textAlign="right"}return t.attr(s),t.getBBox()}t.exports=function(t){for(var e,n,a,o,s,u=new r,c=[],l=0;l<t.length;l++){a=(n=t[l]).attr("x"),o=n.attr("y"),s=!1;for(var h=0;h<8;h++)if(e=i(n,a,o,h),u.hasGap(e)){u.fillGap(e),s=!0;break}s||c.push(n)}for(var f=0;f<c.length;f++)c[f].remove();return s}},function(t,e,n){var r=n(718),i=20;function a(t,e){var n,r=t.attr("x"),a=t.attr("y"),o=t.getBBox(),s=Math.sqrt(o.width*o.width+o.height*o.height),u=1,c=0,l=0;if(e.hasGap(o))return e.fillGap(o),!0;for(var h,f=!1,p=0;Math.min(Math.abs(c),Math.abs(l))<s&&p<i;)if(h=u+=-1,c=~~(n=[(h*=.1)*Math.cos(h),h*Math.sin(h)])[0],l=~~n[1],t.attr({x:r+c,y:a+l}),p++,e.hasGap(t.getBBox())){e.fillGap(o),f=!0;break}return f}t.exports=function(t){for(var e,n=new r,i=[],o=0;o<t.length;o++)a(e=t[o],n)||i.push(e);for(var s=0;s<i.length;s++)i[s].remove()}},function(t,e){t.exports=function(t,e){for(var n,r,i=[],a=0;a<t.length;a++)n=t[a].getBBox(),r=e[a].getBBox(),n.width>r.width||n.height>r.height?i.push(t[a]):n.width*n.height>r.width*r.height&&i.push(t[a]);for(var o=0;o<i.length;o++)i[o].remove()}},function(t,e,n){var r=n(508),i=n(552),a=r.MatrixUtil.vec2,o=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"circle",tickInterval:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},_labelOffset:5})},o.parseTick=function(t,e,n){return{text:t,value:e/n}},o._getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},o.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this._getCirclePoint(n)},o.getSideVector=function(t,e){var n=this.get("center"),i=[e.x-n.x,e.y-n.y];if(!r.isNil(t)){var o=a.length(i);a.scale(i,i,t/o)}return i},o.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},o.getTickEnd=function(t,e){var n=this.get("tickLine");return e=e||n.length,this.getSidePoint(t,e)},o.getTextAnchor=function(t){var e;return r.snapEqual(t[0],0)?e="center":t[0]>0?e="left":t[0]<0&&(e="right"),e},o.getLinePath=function(){var t=this.get("center"),e=t.x,n=t.y,r=this.get("radius"),i=r,a=this.get("startAngle"),o=this.get("endAngle"),s=this.get("inner"),u=[];if(Math.abs(o-a)===2*Math.PI)u=[["M",e,n],["m",0,-i],["a",r,i,0,1,1,0,2*i],["a",r,i,0,1,1,0,-2*i],["z"]];else{var c=this._getCirclePoint(a),l=this._getCirclePoint(o),h=Math.abs(o-a)>Math.PI?1:0,f=a>o?0:1;if(s){var p=this.getSideVector(s*r,c),d=this.getSideVector(s*r,l),g={x:p[0]+e,y:p[1]+n},v={x:d[0]+e,y:d[1]+n};u=[["M",g.x,g.y],["L",c.x,c.y],["A",r,i,0,h,f,l.x,l.y],["L",v.x,v.y],["A",r*s,i*s,0,h,Math.abs(f-1),g.x,g.y]]}else u=[["M",e,n],["L",c.x,c.y],["A",r,i,0,h,f,l.x,l.y],["L",e,n]]}return u},o.addLabel=function(e,n,r){var i=this.get("label").offset||this.get("_labelOffset")||.001;n=this.getSidePoint(n,i),t.prototype.addLabel.call(this,e,n,r)},o.autoRotateLabels=function(){var t=this.get("ticks"),e=this.get("labelRenderer");if(e&&t.length>12){var n=this.get("radius"),i=this.get("startAngle"),a=this.get("endAngle")-i,o=a/(t.length-1),s=Math.sin(o/2)*n*2,u=this.getMaxLabelWidth(e);r.each(e.get("group").get("children"),function(e,n){var r=t[n].value*a+i,o=r%(2*Math.PI);u<s?(o<=0&&(r+=Math.PI),o>Math.PI&&(r-=Math.PI),r-=Math.PI/2,e.attr("textAlign","center")):o>Math.PI/2?r-=Math.PI:o<Math.PI/2*-1&&(r+=Math.PI),e.rotateAtStart(r)})}},i}(i);t.exports=o},function(t,e,n){var r=n(508),i=n(552),a=r.MatrixUtil,o=r.PathUtil,s=a.vec2,u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{inner:0,type:"helix",line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,a:0,center:null,axisStart:null,crp:[]})},a.getLinePath=function(){var t=this.get("crp"),e=this.get("axisStart"),n=o.catmullRomToBezier(t);return n.unshift(["M",e.x,e.y]),n},a.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this._getHelixPoint(n)},a._getHelixPoint=function(t){var e=this.get("center"),n=this.get("a")*t+this.get("inner");return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},a.getSideVector=function(t,e){var n=this.get("center"),r=[e.x-n.x,e.y-n.y];if(t){var i=s.length(r);s.scale(r,r,t/i)}return r},a.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},a.getTickEnd=function(t,e){var n=this.get("tickLine");return e=e||n.length,this.getSidePoint(t,e)},i}(i);t.exports=u},function(t,e,n){var r=n(552),i=n(508),a=i.MatrixUtil.vec2,o=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{x:null,y:null,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},isVertical:!1,start:null,end:null})},o._getAvgLabelLength=function(t){var e=t.get("group").get("children");return e[1].attr("x")-e[0].attr("x")},o.getSideVector=function(t){var e=this.get("isVertical"),n=this.get("factor");if(i.isArray(t))return t.map(function(t){return t*n});var r=this.get("start"),o=this.get("end"),s=this.getAxisVector(),u=a.normalize([],s),c=!1;(e&&r.y<o.y||!e&&r.x>o.x)&&(c=!0);var l=a.vertical([],u,c);return a.scale([],l,t*n)},o.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},o.getLinePath=function(){var t=this.get("start"),e=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",e.x,e.y]),n},o.getTickEnd=function(t,e){var n=this.getSideVector(e);return{x:t.x+n[0],y:t.y+n[1]}},o.getTickPoint=function(t){var e=this.get("start"),n=this.get("end"),r=n.x-e.x,i=n.y-e.y;return{x:e.x+r*t,y:e.y+i*t}},o.renderTitle=function(){var t=this,e=t.get("title"),n=t.getTickPoint(.5),r=e.offset;if(i.isNil(r)){r=20;var o=t.get("labelsGroup");if(o)r+=t.getMaxLabelWidth(o)+(t.get("label").offset||t.get("_labelOffset"))}var s=e.textStyle,u=i.mix({},s);if(e.text){var c=t.getAxisVector();if(e.autoRotate&&i.isNil(s.rotate)){var l=0;if(!i.snapEqual(c[1],0)){var h=[c[0],c[1]];l=a.angleTo(h,[1,0],!0)}u.rotate=l*(180/Math.PI)}else i.isNil(s.rotate)||(u.rotate=s.rotate/180*Math.PI);var f,p=t.getSideVector(r),d=e.position;f="start"===d?{x:this.get("start").x+p[0],y:this.get("start").y+p[1]}:"end"===d?{x:this.get("end").x+p[0],y:this.get("end").y+p[1]}:{x:n.x+p[0],y:n.y+p[1]},u.x=f.x,u.y=f.y,u.text=e.text;var g=t.get("group").addShape("Text",{zIndex:2,attrs:u});g.name="axis-title",t.get("appendInfo")&&g.setSilent("appendInfo",t.get("appendInfo"))}},o.autoRotateLabels=function(){var t=this.get("labelRenderer"),e=this.get("title");if(t){var n=t.get("group").get("children"),r=this.get("label").offset,a=e?e.offset:48;if(a<0)return;var o,s,u=this.getAxisVector();if(i.snapEqual(u[0],0)&&e&&e.text)(s=this.getMaxLabelWidth(t))>a-r-12&&(o=-1*Math.acos((a-r-12)/s));else if(i.snapEqual(u[1],0)&&n.length>1){var c=Math.abs(this._getAvgLabelLength(t));(s=this.getMaxLabelWidth(t))>c&&(o=Math.asin(1.25*(a-r-12)/s))}if(o){var l=this.get("factor");i.each(n,function(t){t.rotateAtStart(o),i.snapEqual(u[1],0)&&(l>0?t.attr("textAlign","left"):t.attr("textAlign","right"))})}}},r}(r);t.exports=o},function(t,e,n){var r=n(508),i=n(552),a=r.MatrixUtil,o=r.PathUtil,s=a.vec2,u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"polyline"})},a.getLinePath=function(){var t=this.get("tickPoints"),e=this.get("start"),n=this.get("end"),i=[];i.push(e.x),i.push(e.y),r.each(t,function(t){i.push(t.x),i.push(t.y)}),i.push(n.x),i.push(n.y);var a=o.catmullRomToBezier(i);return a.unshift(["M",e.x,e.y]),a},a.getTickPoint=function(t,e){return this.get("tickPoints")[e]},a.getTickEnd=function(t,e,n){var r=this.get("tickLine"),i=e||r.length,a=this.getSideVector(i,t,n);return{x:t.x+a[0],y:t.y+a[1]}},a.getSideVector=function(t,e,n){var r;if(0===n){if((r=this.get("start")).x===e.x&&r.y===e.y)return[0,0]}else r=this.get("tickPoints")[n-1];var i=[e.x-r.x,e.y-r.y],a=s.normalize([],i),o=s.vertical([],a,!1);return s.scale([],o,t)},i}(i);t.exports=u},function(t,e,n){t.exports={Guide:n(526),Arc:n(940),DataMarker:n(941),DataRegion:n(942),Html:n(943),Image:n(944),Line:n(945),Region:n(946),Text:n(947)}},function(t,e,n){var r=n(508),i=n(526),a=Math.PI,o=Math.atan;function s(t,e){var n,r=t.x-e.x,i=t.y-e.y;return 0===i?n=r<0?a/2:270*a/180:r>=0&&i>0?n=2*a-o(r/i):r<=0&&i<0?n=a-o(r/i):r>0&&i<0?n=a+o(-r/i):r<0&&i>0&&(n=o(r/-i)),n}var u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"arc",start:null,end:null,style:{stroke:"#999",lineWidth:1}})},o.render=function(t,e){var n,i=this,o=i.parsePoint(t,i.get("start")),u=i.parsePoint(t,i.get("end")),c=t.getCenter(),l=Math.sqrt((o.x-c.x)*(o.x-c.x)+(o.y-c.y)*(o.y-c.y)),h=s(o,c),f=s(u,c);if(f<h&&(f+=2*a),r.isNumberEqual(o.x,u.x)&&r.isNumberEqual(o.y,u.y)&&(i.get("start")[0]!==i.get("end")[0]||i.get("start")[1]!==i.get("end")[1]))n=[["M",o.x,o.y],["A",l,l,0,1,1,2*c.x-o.x,2*c.y-o.y],["A",l,l,0,1,1,o.x,o.y]];else{var p=(f-h)%(2*a)>a?1:0;n=[["M",o.x,o.y],["A",l,l,0,p,1,u.x,u.y]]}var d=e.addShape("path",{zIndex:i.get("zIndex"),attrs:r.mix({path:n},i.get("style"))});d.name="guide-arc",i.get("appendInfo")&&d.setSilent("appendInfo",i.get("appendInfo")),i.set("el",d)},i}(i);t.exports=u},function(t,e,n){var r=n(508),i=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"dataMarker",zIndex:1,top:!0,position:null,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"#000000",opacity:.65,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0})},a.render=function(t,e){var n=this,r=n.parsePoint(t,n.get("position")),i=e.addGroup();i.name="guide-data-marker";var a,o,s=n._getElementPosition(r),u=n.get("display");if(u.line){var c=s.line;a=n._drawLine(c,i)}if(u.text&&n.get("content")){var l=s.text;o=n._drawText(l,i)}if(u.point){var h=s.point;n._drawPoint(h,i)}if(n.get("autoAdjust")){var f=i.getBBox(),p=f.minX,d=f.minY,g=f.maxX,v=f.maxY,y=t.start,m=t.end;if(o){p<=y.x&&o.attr("textAlign","start"),g>=m.x&&o.attr("textAlign","end");var x=n.get("direction");if("upward"===x&&d<=m.y||"upward"!==x&&v>=y.y){var _,w;"upward"===x&&d<=m.y?(_="top",w=1):(_="bottom",w=-1),o.attr("textBaseline",_);var b=0;if(n.get("display").line){b=n.get("lineLength");var M=[["M",r.x,r.y],["L",r.x,r.y+b*w]];a.attr("path",M)}var S=r.y+(b+2)*w;o.attr("y",S)}}}n.get("appendInfo")&&i.setSilent("appendInfo",n.get("appendInfo")),n.set("el",i)},a._getElementPosition=function(t){var e=t.x,n=t.y,r=this.get("display").line?this.get("lineLength"):0,i=this.get("direction");this.get("style").text.textBaseline="upward"===i?"bottom":"top";var a="upward"===i?-1:1;return{point:{x:e,y:n},line:[{x:e,y:n},{x:e,y:r*a+n}],text:{x:e,y:(r+2)*a+n}}},a._drawLine=function(t,e){var n=this.get("style").line,i=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y]];return e.addShape("path",{attrs:r.mix({path:i},n)})},a._drawText=function(t,e){var n=this.get("style").text;return e.addShape("text",{attrs:r.mix({text:this.get("content")},n,t)})},a._drawPoint=function(t,e){var n=this.get("style").point;return e.addShape("circle",{attrs:r.mix({},n,t)})},i}(n(526));t.exports=i},function(t,e,n){var r=n(508),i=n(719),a=function(t){var e,n;function a(){return t.apply(this,arguments)||this}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=a.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"dataRegion",start:null,end:null,content:"",style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}})},o.render=function(t,e,n){var i=this.get("lineLength")||0,a=this._getRegionData(t,n);if(a.length){var o=this._getBBox(a),s=[];s.push(["M",a[0].x,o.yMin-i]);for(var u=0,c=a.length;u<c;u++){var l=["L",a[u].x,a[u].y];s.push(l)}s.push(["L",a[a.length-1].x,o.yMin-i]);var h=this.get("style"),f=h.region,p=h.text,d=e.addGroup();d.name="guide-data-region",d.addShape("path",{attrs:r.mix({path:s},f)});var g=this.get("content");g&&d.addShape("Text",{attrs:r.mix({x:(o.xMin+o.xMax)/2,y:o.yMin-i,text:g},p)}),this.get("appendInfo")&&d.setSilent("appendInfo",this.get("appendInfo")),this.set("el",d)}},o._getRegionData=function(t,e){for(var n,a=this.get("start"),o=this.get("end"),s=i.getFirstScale(this.get("xScales")).field,u=i.getFirstScale(this.get("yScales")).field,c=r.isArray(a)?a[0]:a[s],l=r.isArray(o)?o[0]:o[s],h=[],f=0,p=e.length;f<p;f++){var d=e[f];if(d[s]===c&&(n=f),f>=n&&h.push(this.parsePoint(t,[d[s],d[u]])),d[s]===l)break}return h},o._getBBox=function(t){for(var e=[],n=[],i=0;i<t.length;i++)e.push(t[i].x),n.push(t[i].y);var a=r.arrayUtil.getRange(e),o=r.arrayUtil.getRange(n);return{xMin:a.min,xMax:a.max,yMin:o.min,yMax:o.max}},a}(n(526));t.exports=a},function(t,e,n){var r=n(508),i=r.DomUtil,a=function(t){var e,n;function a(){return t.apply(this,arguments)||this}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=a.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"html",zIndex:7,position:null,alignX:"middle",alignY:"middle",offsetX:null,offsetY:null,html:null})},o.render=function(t,e){var n=this.parsePoint(t,this.get("position")),a=e.get("canvas").get("el").parentNode,o=i.createDom('<div class="g-guide"></div>');a.appendChild(o);var s=this.get("htmlContent")||this.get("html");r.isFunction(s)&&(s=s(this.get("xScales"),this.get("yScales")));var u=i.createDom(s);o.appendChild(u),this._setDomPosition(o,u,n),this.set("el",o)},o._setDomPosition=function(t,e,n){var r=this.get("alignX"),a=this.get("alignY"),o=i.getOuterWidth(e),s=i.getOuterHeight(e),u={x:n.x,y:n.y};"middle"===r&&"top"===a?u.x-=Math.round(o/2):"middle"===r&&"bottom"===a?(u.x-=Math.round(o/2),u.y-=Math.round(s)):"left"===r&&"bottom"===a?u.y-=Math.round(s):"left"===r&&"middle"===a?u.y-=Math.round(s/2):"left"===r&&"top"===a?(u.x=n.x,u.y=n.y):"right"===r&&"bottom"===a?(u.x-=Math.round(o),u.y-=Math.round(s)):"right"===r&&"middle"===a?(u.x-=Math.round(o),u.y-=Math.round(s/2)):"right"===r&&"top"===a?u.x-=Math.round(o):(u.x-=Math.round(o/2),u.y-=Math.round(s/2));var c=this.get("offsetX");c&&(u.x+=c);var l=this.get("offsetY");l&&(u.y+=l),i.modifyCSS(t,{position:"absolute",top:Math.round(u.y)+"px",left:Math.round(u.x)+"px",visibility:"visible",zIndex:this.get("zIndex")})},o.clear=function(){var t=this.get("el");t&&t.parentNode&&t.parentNode.removeChild(t)},a}(n(526));t.exports=a},function(t,e,n){var r=n(508),i=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"image",start:null,end:null,src:null,offsetX:null,offsetY:null})},a.render=function(t,e){var n=this,r=n.parsePoint(t,n.get("start")),i={x:r.x,y:r.y};if(i.img=n.get("src"),n.get("end")){var a=n.parsePoint(t,n.get("end"));i.width=a.x-r.x,i.height=a.y-r.y}else i.width=n.get("width")||32,i.height=n.get("height")||32;n.get("offsetX")&&(i.x+=n.get("offsetX")),n.get("offsetY")&&(i.y+=n.get("offsetY"));var o=e.addShape("Image",{zIndex:1,attrs:i});o.name="guide-image",n.get("appendInfo")&&o.setSilent("appendInfo",n.get("appendInfo")),n.set("el",o)},i}(n(526));t.exports=i},function(t,e,n){var r=n(508),i=n(526),a=r.MatrixUtil.vec2,o=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"line",start:null,end:null,lineStyle:{stroke:"#000",lineWidth:1},text:{position:"end",autoRotate:!0,style:{fill:"#999",fontSize:12,fontWeight:500,fontFamily:"sans-serif"},content:null}})},o.render=function(t,e){var n=this.parsePoint(t,this.get("start")),r=this.parsePoint(t,this.get("end")),i=e.addGroup({viewId:e.get("viewId")});this._drawLines(n,r,i);var a=this.get("text");a&&a.content&&this._drawText(n,r,i),this.set("el",i)},o._drawLines=function(t,e,n){var i=[["M",t.x,t.y],["L",e.x,e.y]],a=n.addShape("Path",{attrs:r.mix({path:i},this.get("lineStyle"))});a.name="guide-line",this.get("appendInfo")&&a.setSilent("appendInfo",this.get("appendInfo"))},o._drawText=function(t,e,n){var i,o=this.get("text"),s=o.position,u=o.style||{};((i="start"===s?0:"center"===s?.5:r.isString(s)&&-1!==s.indexOf("%")?parseInt(s,10)/100:r.isNumber(s)?s:1)>1||i<0)&&(i=1);var c={x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i};if(o.offsetX&&(c.x+=o.offsetX),o.offsetY&&(c.y+=o.offsetY),c.text=o.content,c=r.mix({},c,u),o.autoRotate&&r.isNil(u.rotate)){var l=a.angleTo([e.x-t.x,e.y-t.y],[1,0],1);c.rotate=l}else r.isNil(u.rotate)||(c.rotate=u.rotate*Math.PI/180);var h=n.addShape("Text",{attrs:c});h.name="guide-line-text",this.get("appendInfo")&&h.setSilent("appendInfo",this.get("appendInfo"))},i}(i);t.exports=o},function(t,e,n){var r=n(508),i=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"region",zIndex:1,start:null,end:null,style:{lineWidth:0,fill:"#CCD7EB",opacity:.4}})},a.render=function(t,e){var n=this.get("style"),i=this._getPath(t),a=e.addShape("path",{zIndex:this.get("zIndex"),attrs:r.mix({path:i},n)});a.name="guide-region",this.get("appendInfo")&&a.setSilent("appendInfo",this.get("appendInfo")),this.set("el",a)},a._getPath=function(t){var e=this.parsePoint(t,this.get("start")),n=this.parsePoint(t,this.get("end"));return[["M",e.x,e.y],["L",n.x,e.y],["L",n.x,n.y],["L",e.x,n.y],["z"]]},i}(n(526));t.exports=i},function(t,e,n){var r=n(508),i=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"text",position:null,content:null,style:{fill:"#999",fontSize:12,fontWeight:500,textAlign:"center"},offsetX:null,offsetY:null,top:!0})},a.render=function(t,e){var n=this,i=n.parsePoint(t,n.get("position")),a=r.mix({},n.get("style")),o=n.get("offsetX"),s=n.get("offsetY");o&&(i.x+=o),s&&(i.y+=s),a.rotate&&(a.rotate=a.rotate*Math.PI/180);var u=e.addShape("Text",{zIndex:n.get("zIndex"),attrs:r.mix({text:n.get("content")},a,i)});u.name="guide-text",n.get("appendInfo")&&u.setSilent("appendInfo",n.get("appendInfo")),n.set("el",u)},i}(n(526));t.exports=i},function(t,e,n){var r=n(717);t.exports=r},function(t,e,n){t.exports={Category:n(720),CatHtml:n(722),CatPageHtml:n(950),Color:n(951),Size:n(953),CircleSize:n(954)}},function(t,e,n){var r=n(508),i=n(722),a=r.DomUtil,o="rgba(0,0,0,0.65)",s="rgba(0,0,0,0.25)";function u(t,e){return t.getElementsByClassName(e)[0]}var c=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var c=i.prototype;return c.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"category-page-legend",container:null,caretStyle:{fill:"rgba(0,0,0,0.65)"},pageNumStyle:{display:"inline-block",fontSize:"12px",fontFamily:this.fontFamily,cursor:"default"},slipDomStyle:{width:"auto",height:"auto",position:"absolute"},slipTpl:'<div class="g2-slip" ><svg viewBox="64 64 896 896" class="g2-caret-up" data-icon="left" width="1em" height="1em" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg><p class="cur-pagenum" style = "display:inline-block;">1</p><p class="next-pagenum" style = "display:inline-block;">/2</p><svg viewBox="64 64 896 896" class="g2-caret-down" data-icon="right" width="1em" height="1em" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></div>',slipWidth:65,legendOverflow:"unset"})},c.render=function(){t.prototype._renderHTML.call(this),this._renderFlipPage()},c._renderFlipPage=function(){var t=document.getElementsByClassName("g2-legend")[0],e=u(t,"g2-legend-list"),n=this.get("position"),i=this.get("layout"),c="right"===n||"left"===n||"vertical"===i?"block":"inline-block";if(t.scrollHeight>t.offsetHeight){var l=this.get("slipTpl"),h=a.createDom(l),f=u(h,"g2-caret-up"),p=u(h,"g2-caret-down");a.modifyCSS(f,this.get("caretStyle")),a.modifyCSS(f,{fill:"rgba(0,0,0,0.25)"}),a.modifyCSS(p,this.get("caretStyle"));var d=u(h,"cur-pagenum"),g=u(h,"next-pagenum"),v=this.get("pageNumStyle");a.modifyCSS(d,r.mix({},v,{paddingLeft:"10px"})),a.modifyCSS(g,r.mix({},v,{opacity:.3,paddingRight:"10px"})),a.modifyCSS(h,r.mix({},this.get("slipDomStyle"),{top:t.offsetHeight+"px"})),t.style.overflow=this.get("legendOverflow"),t.appendChild(h);for(var y=e.childNodes,m=0,x=1,_=[],w=0;w<y.length;w++)y[w].style.display=c,(m=y[w].offsetTop+y[w].offsetHeight)>=t.offsetHeight&&(x++,_.forEach(function(t){t.style.display="none"}),_=[]),_.push(y[w]);g.innerText="/"+x,y.forEach(function(e){e.style.display=c,(m=e.offsetTop+e.offsetHeight)>t.offsetHeight&&(e.style.display="none")}),f.addEventListener("click",function(){if(y[0].style.display!==c){var e=-1;y.forEach(function(t,n){t.style.display===c&&(e=-1===e?n:e,t.style.display="none")});for(var n=e-1;n>=0&&(y[n].style.display=c,m=y[e-1].offsetTop+y[e-1].offsetHeight,y[n].style.display="none",m<t.offsetHeight);n--)y[n].style.display=c;var r=Number.parseInt(d.innerText,10)-1;f.style.fill=1===r?s:o,p.style.fill=o,d.innerText=r}}),p.addEventListener("click",function(){if(y[y.length-1].style.display!==c){var e=-1;y.forEach(function(t,n){t.style.display===c&&(e=n,t.style.display="none")});for(var n=e+1;n<y.length&&(y[n].style.display=c,m=y[n].offsetTop+y[n].offsetHeight,y[n].style.display="none",m<t.offsetHeight);n++)y[n].style.display=c;var r=Number.parseInt(d.innerText,10)+1;p.style.fill=r===c?s:o,f.style.fill=o,d.innerText=r}}),this.set("slipDom",h)}},c.destroy=function(){t.prototype.destroy.call(this);var e=this.get("slipDom");e&&e.parentNode&&e.parentNode.removeChild(e)},i}(i);t.exports=c},function(t,e,n){var r=n(613).ColorUtil,i=n(508),a=function(t){var e,n;function a(){return t.apply(this,arguments)||this}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=a.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return i.mix({},e,{type:"color-legend",layout:"vertical",triggerAttr:{fill:"#fff",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc",radius:3},isSegment:!1})},o._setPercentage=function(){var t=this.get("items");if(!t[0].percentage){var e=t[0].value,n=t[t.length-1].value;i.each(t,function(t){t.percentage=(t.value-e)/(n-e)})}},o._renderSliderShape=function(){this._setPercentage();var t,e=this.get("slider").get("backgroundElement"),n=this.get("width"),a=this.get("height"),o=this.get("layout"),s=this.get("items"),u="";return"vertical"===o?(u+="l (90) ",i.each(s,function(e){t=r.toRGB(e.color),u+=1-e.percentage+":"+t+" "})):(u+="l (0) ",i.each(s,function(e){t=r.toRGB(e.color),u+=e.percentage+":"+t+" "})),this._addMiddleBar(e,"Rect",{x:0,y:0,width:n,height:a,fill:u,strokeOpacity:0})},o._renderUnslidable=function(){this._setPercentage();var t=this.get("titleShape"),e=this.get("titleGap");e=t?t.getBBox().height+e:e;var n,a=this.get("width"),o=this.get("height"),s=this.get("layout"),u=this.get("items"),c="",l=[],h=this.get("group").addGroup(),f=u.length;if("vertical"===s){c+="l (90) ";for(var p=0;p<f;p+=1){if(0!==p&&p!==f-1&&(l.push(["M",0,o-u[p].percentage*o]),l.push(["L",a,o-u[p].percentage*o])),n=r.toRGB(u[p].color),c+=1-u[p].percentage+":"+n+" ",this.get("isSegment")&&p>0){var d=r.toRGB(u[p-1].color);c+=1-u[p].percentage+":"+d+" "}h.addShape("text",{attrs:i.mix({},{x:a+this.get("textOffset")/2,y:o-u[p].percentage*o,text:this._formatItemValue(u[p].value)+""},this.get("textStyle"),{textAlign:"start"})})}}else{c+="l (0) ";for(var g=0;g<f;g+=1){if(0!==g&&g!==f-1&&(l.push(["M",u[g].percentage*a,0]),l.push(["L",u[g].percentage*a,o])),n=r.toRGB(u[g].color),this.get("isSegment")&&g>0){var v=r.toRGB(u[g-1].color);c+=u[g].percentage+":"+v+" "}c+=u[g].percentage+":"+n+" ",h.addShape("text",{attrs:i.mix({},{x:u[g].percentage*a,y:o+5+this.get("textOffset"),text:this._formatItemValue(u[g].value)+""},this.get("textStyle"))})}}h.addShape("rect",{attrs:{x:0,y:0,width:a,height:o,fill:c,strokeOpacity:0}}),h.addShape("path",{attrs:i.mix({path:l},this.get("lineStyle"))}),h.move(0,e)},a}(n(616));t.exports=a},function(t,e,n){var r=n(508),i=r.DomUtil,a=function(t){var e,n;function a(){return t.apply(this,arguments)||this}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=a.prototype;return o.getDefaultCfg=function(){return{range:null,middleAttr:{fill:"#fff",fillOpacity:0},backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},o._beforeRenderUI=function(){var t=this.get("layout"),e=this.get("backgroundElement"),n=this.get("minHandleElement"),r=this.get("maxHandleElement"),i=this.addShape("rect",{attrs:this.get("middleAttr")}),a="vertical"===t?"ns-resize":"ew-resize";this.add([e,n,r]),this.set("middleHandleElement",i),e.set("zIndex",0),i.set("zIndex",1),n.set("zIndex",2),r.set("zIndex",2),i.attr("cursor","move"),n.attr("cursor",a),r.attr("cursor",a),this.sort()},o._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},o._transform=function(t){var e=this.get("range"),n=e[0]/100,r=e[1]/100,i=this.get("width"),a=this.get("height"),o=this.get("minHandleElement"),s=this.get("maxHandleElement"),u=this.get("middleHandleElement");o.resetMatrix(),s.resetMatrix(),"horizontal"===t?(u.attr({x:i*n,y:0,width:(r-n)*i,height:a}),o.translate(n*i,a),s.translate(r*i,a)):(u.attr({x:0,y:a*(1-r),width:i,height:(r-n)*a}),o.translate(1,(1-n)*a),s.translate(1,(1-r)*a))},o._renderHorizontal=function(){this._transform("horizontal")},o._renderVertical=function(){this._transform("vertical")},o._bindUI=function(){this.on("mousedown",r.wrapBehavior(this,"_onMouseDown"))},o._isElement=function(t,e){var n=this.get(e);return t===n||!!n.isGroup&&n.get("children").indexOf(t)>-1},o._getRange=function(t,e){var n=t+e;return n=(n=n>100?100:n)<0?0:n},o._updateStatus=function(t,e){var n="x"===t?this.get("width"):this.get("height");t=r.upperFirst(t);var i,a=this.get("range"),o=this.get("page"+t),s=this.get("currentTarget"),u=this.get("rangeStash"),c="vertical"===this.get("layout")?-1:1,l=e["page"+t],h=(l-o)/n*100*c;a[1]<=a[0]?(this._isElement(s,"minHandleElement")||this._isElement(s,"maxHandleElement"))&&(a[0]=this._getRange(h,a[0]),a[1]=this._getRange(h,a[0])):(this._isElement(s,"minHandleElement")&&(a[0]=this._getRange(h,a[0])),this._isElement(s,"maxHandleElement")&&(a[1]=this._getRange(h,a[1]))),this._isElement(s,"middleHandleElement")&&(i=u[1]-u[0],a[0]=this._getRange(h,a[0]),a[1]=a[0]+i,a[1]>100&&(a[1]=100,a[0]=a[1]-i)),this.emit("sliderchange",{range:a}),this.set("page"+t,l),this._renderUI(),this.get("canvas").draw()},o._onMouseDown=function(t){var e=t.currentTarget,n=t.event,r=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",e),this.set("rangeStash",[r[0],r[1]]),this._bindCanvasEvents()},o._bindCanvasEvents=function(){var t=this.get("canvas").get("containerDOM");this.onMouseMoveListener=i.addEventListener(t,"mousemove",r.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=i.addEventListener(t,"mouseup",r.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=i.addEventListener(t,"mouseleave",r.wrapBehavior(this,"_onCanvasMouseUp"))},o._onCanvasMouseMove=function(t){this._mouseOutArea(t)||("horizontal"===this.get("layout")?this._updateStatus("x",t):this._updateStatus("y",t))},o._onCanvasMouseUp=function(){this._removeDocumentEvents()},o._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove()},o._mouseOutArea=function(t){var e=this.get("canvas").get("el").getBoundingClientRect(),n=this.get("parent"),r=n.getBBox(),i=n.attr("matrix")[6],a=n.attr("matrix")[7],o=i+r.width,s=a+r.height,u=t.clientX-e.x,c=t.clientY-e.y;return u<i||u>o||c<a||c>s},a}(r.Group);t.exports=a},function(t,e,n){var r=n(508),i=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"size-legend",width:100,height:200,_unslidableElementStyle:{fill:"#4E7CCC",fillOpacity:1},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},a._renderSliderShape=function(){var t=this.get("slider").get("backgroundElement"),e=this.get("layout"),n=this.get("width"),i=this.get("height"),a=this.get("height")/2,o=this.get("frontMiddleBarStyle"),s="vertical"===e?[[0,0],[n,0],[n,i],[n-4,i]]:[[0,a+i/2],[0,a+i/2-4],[n,a-i/2],[n,a+i/2]];return this._addMiddleBar(t,"Polygon",r.mix({points:s},o))},a._renderUnslidable=function(){var t=this.get("layout"),e=this.get("width"),n=this.get("height"),i=this.get("frontMiddleBarStyle"),a="vertical"===t?[[0,0],[e,0],[e,n],[e-4,n]]:[[0,n],[0,n-4],[e,0],[e,n]];this.get("group").addGroup().addShape("Polygon",{attrs:r.mix({points:a},i)});var o=this._formatItemValue(this.get("firstItem").value),s=this._formatItemValue(this.get("lastItem").value);"vertical"===this.get("layout")?(this._addText(e+10,n-3,o),this._addText(e+10,3,s)):(this._addText(0,n,o),this._addText(e,n,s))},a._addText=function(t,e,n){var i=this.get("group").addGroup(),a=this.get("textStyle"),o=this.get("titleShape"),s=this.get("titleGap");o&&(s+=o.getBBox().height),"vertical"===this.get("layout")?i.addShape("text",{attrs:r.mix({x:t+this.get("textOffset"),y:e,text:0===n?"0":n},a)}):(e+=s+this.get("textOffset")-20,o||(e+=10),i.addShape("text",{attrs:r.mix({x:t,y:e,text:0===n?"0":n},a)}))},i}(n(616));t.exports=i},function(t,e,n){var r=n(508),i=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"size-circle-legend",width:100,height:200,_unslidableCircleStyle:{stroke:"rgb(99, 161, 248)",fill:"rgb(99, 161, 248)",fillOpacity:.3,lineWidth:1.5},triggerAttr:{fill:"white",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc"},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},a._renderSliderShape=function(){var t=this.get("slider").get("backgroundElement"),e=this.get("layout"),n="vertical"===e?2:this.get("width"),i="vertical"===e?this.get("height"):2,a=this.get("height")/2,o=this.get("frontMiddleBarStyle"),s="vertical"===e?[[0,0],[n,0],[n,i],[0,i]]:[[0,a+i],[0,a-i],[5+n-4,a-i],[5+n-4,a+i]];return this._addMiddleBar(t,"Polygon",r.mix({points:s},o))},a._addHorizontalTrigger=function(t,e,n,i){var a=this.get("slider").get(t+"HandleElement"),o=-this.get("height")/2,s=a.addShape("circle",{attrs:r.mix({x:0,y:o,r:i},e)}),u=a.addShape("text",{attrs:r.mix(n,{x:0,y:o+i+10,textAlign:"center",textBaseline:"middle"})}),c="vertical"===this.get("layout")?"ns-resize":"ew-resize";s.attr("cursor",c),u.attr("cursor",c),this.set(t+"ButtonElement",s),this.set(t+"TextElement",u)},a._addVerticalTrigger=function(t,e,n,i){var a=this.get("slider").get(t+"HandleElement"),o=a.addShape("circle",{attrs:r.mix({x:0,y:0,r:i},e)}),s=a.addShape("text",{attrs:r.mix(n,{x:i+10,y:0,textAlign:"start",textBaseline:"middle"})}),u="vertical"===this.get("layout")?"ns-resize":"ew-resize";o.attr("cursor",u),s.attr("cursor",u),this.set(t+"ButtonElement",o),this.set(t+"TextElement",s)},a._renderTrigger=function(){var t=this.get("firstItem"),e=this.get("lastItem"),n=this.get("layout"),i=this.get("textStyle"),a=this.get("triggerAttr"),o=r.mix({},a),s=r.mix({},a),u=r.mix({text:this._formatItemValue(t.value)+""},i),c=r.mix({text:this._formatItemValue(e.value)+""},i);"vertical"===n?(this._addVerticalTrigger("min",o,u,5),this._addVerticalTrigger("max",s,c,16)):(this._addHorizontalTrigger("min",o,u,5),this._addHorizontalTrigger("max",s,c,16))},a._bindEvents=function(){var t=this;this.get("slidable")&&this.get("slider").on("sliderchange",function(e){var n=e.range,r=t.get("firstItem").value,i=t.get("lastItem").value,a=r+n[0]/100*(i-r),o=r+n[1]/100*(i-r),s=5+n[0]/100*11,u=5+n[1]/100*11;t._updateElement(a,o,s,u);var c=new Event("itemfilter",e,!0,!0);c.range=[a,o],t.emit("itemfilter",c)})},a._updateElement=function(e,n,r,i){t.prototype._updateElement.call(this,e,n);var a=this.get("minTextElement"),o=this.get("maxTextElement"),s=this.get("minButtonElement"),u=this.get("maxButtonElement");if(s.attr("r",r),u.attr("r",i),"vertical"===this.get("layout"))a.attr("x",r+10),o.attr("x",i+10);else{var c=-this.get("height")/2;a.attr("y",c+r+10),o.attr("y",c+i+10)}},a._addCircle=function(t,e,n,i,a){var o=this.get("group").addGroup(),s=this.get("_unslidableCircleStyle"),u=this.get("textStyle"),c=this.get("titleShape"),l=this.get("titleGap");c&&(l+=c.getBBox().height),o.addShape("circle",{attrs:r.mix({x:t,y:e+l,r:0===n?1:n},s)}),"vertical"===this.get("layout")?o.addShape("text",{attrs:r.mix({x:a+20+this.get("textOffset"),y:e+l,text:0===i?"0":i},u)}):o.addShape("text",{attrs:r.mix({x:t,y:e+l+a+13+this.get("textOffset"),text:0===i?"0":i},u)})},a._renderUnslidable=function(){var t=this.get("firstItem").value,e=this.get("lastItem").value;if(t>e){var n=e;e=t,t=n}var r=this._formatItemValue(t),i=this._formatItemValue(e),a=t<5?5:t,o=e>16?16:e;a>o&&(a=5,o=16),"vertical"===this.get("layout")?(this._addCircle(o,o,a,r,2*o),this._addCircle(o,2*o+16+a,o,i,2*o)):(this._addCircle(o,o,a,r,2*o),this._addCircle(2*o+16+a,o,o,i,2*o))},a.activate=function(e){this.get("slidable")&&t.prototype.activate.call(this,e)},i}(n(616));t.exports=i},function(t,e,n){var r=n(617);r.Html=n(956),r.Canvas=n(726),r.Mini=n(958),t.exports=r},function(t,e,n){function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var i=n(617),a=n(508),o=a.DomUtil,s=n(957),u=n(723),c=n(724),l=n(725),h="g2-tooltip",f="g2-tooltip-title",p="g2-tooltip-list",d="g2-tooltip-marker",g="g2-tooltip-value";function v(t,e){return t.getElementsByClassName(e)[0]}var y=function(t){var e,n;n=t,(e=y).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=y.prototype;function y(e){var n;n=t.call(this,e)||this,a.assign(r(r(n)),c),a.assign(r(r(n)),l);var i,o,h=n.get("viewTheme")||s;n.style=(i=h,o=e,Object.keys(i).forEach(function(t){o[t]&&(i[t]=a.mix(i[t],o[t]))}),i),n._init_(),n.get("items")&&n.render();var f=n.get("crosshairs");if(f){var p="rect"===f.type?n.get("backPlot"):n.get("frontPlot"),d=new u(a.mix({plot:p,plotRange:n.get("plotRange"),canvas:n.get("canvas")},n.get("crosshairs")));d.hide(),n.set("crosshairGroup",d)}return n}return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return a.mix({},e,{containerTpl:' <div class="'+h+'"> <div class="'+f+'"></div><ul class="'+p+'"></ul></div>',itemTpl:'<li data-index={index}><span style="background-color:{color};" class='+d+"></span>{name}<span class="+g+">{value}</span></li>",htmlContent:null,follow:!0,enterable:!1})},i._init_=function(){var t,e=this.get("containerTpl"),n=this.get("canvas").get("el").parentNode;if(!this.get("htmlContent")){if(/^\#/.test(e)){var r=e.replace("#","");t=document.getElementById(r)}else t=o.createDom(e),o.modifyCSS(t,this.style[h]),n.appendChild(t),n.style.position="relative";this.set("container",t)}},i.render=function(){if(this.clear(),this.get("htmlContent")){var t=this.get("canvas").get("el").parentNode,e=this._getHtmlContent();t.appendChild(e),this.set("container",e)}else this._renderTpl()},i._renderTpl=function(){var t=this,e=t.get("showTitle"),n=t.get("titleContent"),r=t.get("container"),i=v(r,f),s=v(r,p),u=t.get("items");i&&e&&(o.modifyCSS(i,t.style[f]),i.innerHTML=n),s&&(o.modifyCSS(s,t.style[p]),a.each(u,function(e,n){s.appendChild(t._addItem(e,n))}))},i.clear=function(){var t=this.get("container");if(this.get("htmlContent"))t&&t.remove();else{var e=v(t,f),n=v(t,p);e&&(e.innerHTML=""),n&&(n.innerHTML="")}},i.show=function(){this.get("container").style.visibility="visible";var e=this.get("crosshairGroup");e&&e.show();var n=this.get("markerGroup");n&&n.show(),t.prototype.show.call(this),this.get("canvas").draw()},i.hide=function(){this.get("container").style.visibility="hidden";var e=this.get("crosshairGroup");e&&e.hide();var n=this.get("markerGroup");n&&n.hide(),t.prototype.hide.call(this),this.get("canvas").draw()},i.destroy=function(){var e=this.get("container"),n=this.get("containerTpl");e&&!/^\#/.test(n)&&e.parentNode.removeChild(e);var r=this.get("crosshairGroup");r&&r.destroy();var i=this.get("markerGroup");i&&i.remove(),t.prototype.destroy.call(this)},i._addItem=function(t,e){var n=this.get("itemTpl"),r=a.substitute(n,a.mix({index:e},t)),i=o.createDom(r);o.modifyCSS(i,this.style["g2-tooltip-list-item"]);var s=v(i,d);s&&o.modifyCSS(s,this.style[d]);var u=v(i,g);return u&&o.modifyCSS(u,this.style[g]),i},i._getHtmlContent=function(){var t=this.get("htmlContent")(this.get("titleContent"),this.get("items"));return o.createDom(t)},i.setPosition=function(e,n,r){var i,s=this.get("container"),u=this.get("canvas").get("el"),c=o.getWidth(u),l=o.getHeight(u),h=s.clientWidth,f=s.clientHeight,p=e,d=n,g=this.get("prePosition")||{x:0,y:0};if(this.get("enterable"))i=[e,n-=s.clientHeight/2],g&&e-g.x>0?e-=s.clientWidth+1:e+=1;else if(this.get("position")){var v=s.clientWidth,y=s.clientHeight;e=(i=this._calcTooltipPosition(e,n,this.get("position"),v,y,r))[0],n=i[1]}else e=(i=this._constraintPositionInBoundary(e,n,h,f,c,l))[0],n=i[1];if(this.get("inPlot")){var m=this.get("plotRange");e=(i=this._constraintPositionInPlot(e,n,h,f,m,this.get("enterable")))[0],n=i[1]}var x=this.get("markerItems");a.isEmpty(x)||(p=x[0].x,d=x[0].y),this.set("prePosition",i);var _=this.get("follow");s.style.left=_?e+"px":0,s.style.top=_?n+"px":0;var w=this.get("crosshairGroup");if(w){var b=this.get("items");w.setPosition(p,d,b)}t.prototype.setPosition.call(this,e,n)},y}(i);t.exports=y},function(t,e){var n,r=((n={crosshairs:!1,offset:15})["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:'"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"',lineHeight:"20px",padding:"10px 10px 6px 10px"},n["g2-tooltip-title"]={marginBottom:"4px"},n["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},n["g2-tooltip-list-item"]={marginBottom:"4px"},n["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},n["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},n);t.exports=r},function(t,e,n){var r=n(508),i=r.DomUtil,a=n(726),o=r.MatrixUtil,s=function(t){var e,n;function a(){return t.apply(this,arguments)||this}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=a.prototype;return s.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{boardStyle:{x:0,y:0,width:0,height:0,radius:3},valueStyle:{x:0,y:0,text:"",fontFamily:"PingFang SC",fontSize:12,stroke:"#fff",lineWidth:2,fill:"black",textBaseline:"top",textAlign:"start"},padding:{top:5,right:5,bottom:0,left:5},triangleWidth:10,triangleHeight:4})},s._init_=function(){var t=this.get("padding"),e=this.get("frontPlot").addGroup();this.set("container",e);var n=e.addShape("rect",{attrs:r.mix({},this.get("boardStyle"))});this.set("board",n);var i=e.addShape("path",{attrs:{fill:this.get("boardStyle").fill}});this.set("triangleShape",i);var a=e.addGroup();a.move(t.left,t.top);var o=a.addShape("text",{attrs:r.mix({},this.get("valueStyle"))});this.set("valueShape",o)},s.render=function(){this.clear();var t=this.get("board"),e=this.get("valueShape"),n=this.get("padding"),r=this.get("items")[0];e&&e.attr("text",r.value);var i=e?e.getBBox():{width:80,height:30},a=n.left+i.width+n.right,o=n.top+i.height+n.bottom;t.attr("width",a),t.attr("height",o),this._centerTriangleShape()},s.clear=function(){this.get("valueShape").attr("text","")},s.setPosition=function(t,e,n){var r=this.get("container"),a=this.get("plotRange"),s=r.getBBox(),u=s.width,c=s.height;(t-=u/2,!n||"point"!==n.name&&"interval"!==n.name)||(e=n.getBBox().y);if(e-=c,this.get("inPlot"))t<a.tl.x?(t=a.tl.x,this._leftTriangleShape()):t+u/2>a.tr.x?(t=a.tr.x-u,this._rightTriangleShape()):this._centerTriangleShape(),e<a.tl.y?e=a.tl.y:e+c>a.bl.y&&(e=a.bl.y-c);else{var l=this.get("canvas").get("el"),h=i.getWidth(l),f=i.getHeight(l);t<0?(t=0,this._leftTriangleShape()):t+u/2>h?(t=h-u,this._rightTriangleShape()):this._centerTriangleShape(),e<0?e=0:e+c>f&&(e=f-c)}var p=o.transform([1,0,0,0,1,0,0,0,1],[["t",t,e]]);r.stopAnimate(),r.animate({matrix:p},this.get("animationDuration"))},s._centerTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),n=this.get("triangleHeight"),r=this.get("board").getBBox(),i=r.width,a=r.height,o=[["M",0,0],["L",e,0],["L",e/2,n],["L",0,0],["Z"]];t.attr("path",o),t.move(i/2-e/2,a-1)},s._leftTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),n=this.get("triangleHeight"),r=this.get("board").getBBox().height,i=[["M",0,0],["L",e,0],["L",0,n+3],["L",0,0],["Z"]];t.attr("path",i),t.move(0,r-3)},s._rightTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),n=this.get("triangleHeight"),r=this.get("board").getBBox(),i=r.width,a=r.height,o=[["M",0,0],["L",e,0],["L",e,n+4],["L",0,0],["Z"]];t.attr("path",o),t.move(i-e-1,a-4)},a}(a);t.exports=s},function(t,e,n){var r=n(500).MatrixUtil.vec2;t.exports={catmullRom2bezier:function(t,e,n){for(var i=!!e,a=[],o=0,s=t.length;o<s;o+=2)a.push([t[o],t[o+1]]);for(var u,c,l,h=function(t,e,n,i){var a,o,s,u,c=[],l=!!i;if(l){s=[1/0,1/0],u=[-1/0,-1/0];for(var h=0,f=t.length;h<f;h++){var p=t[h];s=r.min([],s,p),u=r.max([],u,p)}s=r.min([],s,i[0]),u=r.max([],u,i[1])}for(var d=0,g=t.length;d<g;d++){var v=t[d];if(n)a=t[d?d-1:g-1],o=t[(d+1)%g];else{if(0===d||d===g-1){c.push(v);continue}a=t[d-1],o=t[d+1]}var y=[];y=r.sub(y,o,a),y=r.scale(y,y,e);var m=r.distance(v,a),x=r.distance(v,o),_=m+x;0!==_&&(m/=_,x/=_);var w=r.scale([],y,-m),b=r.scale([],y,x),M=r.add([],v,w),S=r.add([],v,b);l&&(M=r.max([],M,s),M=r.min([],M,u),S=r.max([],S,s),S=r.min([],S,u)),c.push(M),c.push(S)}return n&&c.push(c.shift()),c}(a,.4,i,n),f=a.length,p=[],d=0;d<f-1;d++)u=h[2*d],c=h[2*d+1],l=a[d+1],p.push(["C",u[0],u[1],c[0],c[1],l[0],l[1]]);return i&&(u=h[f],c=h[f+1],l=a[0],p.push(["C",u[0],u[1],c[0],c[1],l[0],l[1]])),p}}},function(t,e,n){var r=n(500),i=n(727),a=n(533),o=n(512);function s(t,e,n){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}var u=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=i.prototype;return u.getDefaultCfg=function(){return{label:o.thetaLabels}},u.getDefaultOffset=function(t){var e=t.offset||[0,0];return r.isArray(e)||(e=[0,e]),e},u.adjustItems=function(t){var e=t[0].offset[1];return e>0&&(t=this._distribute(t,e)),t},u._distribute=function(t,e){var n=this.get("coord"),r=n.getRadius(),i=this.get("label").labelHeight,a=n.getCenter(),o=2*(r+e)+2*i,s={start:n.start,end:n.end},u=this.get("geom");if(u){var c=u.get("view");s=c.getViewRegion()}var l=[[],[]];return t.forEach(function(t){t&&("right"===t.textAlign?l[0].push(t):l[1].push(t))}),l.forEach(function(t,e){var n=parseInt(o/i,10);t.length>n&&(t.sort(function(t,e){return e["..percent"]-t["..percent"]}),t.splice(n,t.length-n)),t.sort(function(t,e){return t.y-e.y}),function(t,e,n,r,i){var a,o=!0,s=n.start,u=n.end,c=Math.min(s.y,u.y),l=Math.abs(s.y-u.y),h=0,f=Number.MIN_VALUE,p=t.map(function(t){return t.y>h&&(h=t.y),t.y<f&&(f=t.y),{size:e,targets:[t.y-c]}});for(f-=c,h-c>l&&(l=h-c);o;)for(p.forEach(function(t){var e=(Math.min.apply(f,t.targets)+Math.max.apply(f,t.targets))/2;t.pos=Math.min(Math.max(f,e-t.size/2),l-t.size)}),o=!1,a=p.length;a--;)if(a>0){var d=p[a-1],g=p[a];d.pos+d.size>g.pos&&(d.size+=g.size,d.targets=d.targets.concat(g.targets),d.pos+d.size>l&&(d.pos=l-d.size),p.splice(a,1),o=!0)}a=0,p.forEach(function(n){var r=c+e/2;n.targets.forEach(function(){t[a].y=n.pos+r,r+=e,a++})}),t.forEach(function(t){var e=t.r*t.r,n=Math.pow(Math.abs(t.y-r.y),2);if(e<n)t.x=r.x;else{var a=Math.sqrt(e-n);t.x=i?r.x+a:r.x-a}})}(t,i,s,a,e)}),l[0].concat(l[1])},u.lineToLabel=function(t){var e=this.get("coord"),n=e.getRadius()+t.offset[0],r=t.offset[1],i=t.orignAngle||t.angle,a=e.getCenter(),o=s(a,i,n+2.5),u=s(a,i,n+r/2);t.labelLine||(t.labelLine=this.get("labels").labelLine||{}),t.labelLine.path=["M"+o.x,o.y+" Q"+u.x,u.y+" "+t.x,t.y].join(",")},u.getLabelRotate=function(t,e){var n;return e[1]<0&&((n=180*t/Math.PI)>90&&(n-=180),n<-90&&(n+=180)),n/180*Math.PI},u.getLabelAlign=function(t){var e,n=this.get("coord").getCenter();return e=t.angle<=Math.PI/2&&t.x>=n.x?"left":"right",t.offset[1]<=0&&(e="right"===e?"left":"right"),e},u.getArcPoint=function(t){return t},u.getPointAngle=function(t){var e=this.get("coord"),n={x:r.isArray(t.x)?t.x[0]:t.x,y:t.y[0]};this.transLabelPoint(n);var i,o={x:r.isArray(t.x)?t.x[1]:t.x,y:t.y[1]};this.transLabelPoint(o);var s=a.getPointAngle(e,n);if(t.points&&t.points[0].y===t.points[1].y)i=s;else{var u=a.getPointAngle(e,o);s>=u&&(u+=2*Math.PI),i=s+(u-s)/2}return i},u.getCirclePoint=function(t,e){var n=this.get("coord"),r=n.getCenter(),i=n.getRadius()+e[1],a=s(r,t,i);return t+=2*Math.asin(e[0]/(2*i)),a.angle=t,a.r=i,a},i}(i);t.exports=u},function(t,e,n){var r=n(500),i=function(t){var e,n;function i(){return t.apply(this,arguments)||this}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.prototype.setLabelPosition=function(t,e,n,i){r.isFunction(i)&&(i=i(t.text,e._origin,n));var a=this.get("coord"),o=a.isTransposed,s=a.convertPoint(e.points[0]),u=a.convertPoint(e.points[2]),c=(s.x-u.x)/2*(o?-1:1),l=(s.y-u.y)/2*(o?-1:1);switch(i){case"right":o?(t.x-=c,t.y+=l,t.textAlign=t.textAlign||"center"):(t.x-=c,t.y+=l,t.textAlign=t.textAlign||"left");break;case"left":o?(t.x-=c,t.y-=l,t.textAlign=t.textAlign||"center"):(t.x+=c,t.y+=l,t.textAlign=t.textAlign||"right");break;case"bottom":o?(t.x-=2*c,t.textAlign=t.textAlign||"left"):(t.y+=2*l,t.textAlign=t.textAlign||"center");break;case"middle":o?t.x-=c:t.y+=l,t.textAlign=t.textAlign||"center";break;case"top":t.textAlign=o?t.textAlign||"left":t.textAlign||"center"}},i}(n(614));t.exports=i},function(t,e,n){var r=n(500),i=n(512).defaultColor,a="_origin";function o(t){return t.alias||t.field}var s={_getIntervalSize:function(t){var e=null,n=this.get("type"),i=this.get("coord");if(i.isRect&&("interval"===n||"schema"===n)){e=this.getSize(t[a]);var o=i.isTransposed?"y":"x";if(r.isArray(t[o]))e=e<Math.abs(t[o][1]-t[o][0])?null:e}return e},_snapEqual:function(t,e,n){return t=n.translate(t),e=n.translate(e),n.isCategory?t===e:r.snapEqual(t,e)},_getScaleValueByPoint:function(t){var e=0,n=this.get("coord"),r=this.getXScale(),i=n.invert(t).x;return this.isInCircle()&&i>(1+r.rangeMax())/2&&(i=r.rangeMin()),e=r.invert(i),r.isCategory&&(e=r.translate(e)),e},_getOriginByPoint:function(t){var e=this.getXScale(),n=this.getYScale(),r=e.field,i=n.field,a=this.get("coord").invert(t),o=e.invert(a.x),s=n.invert(a.y),u={};return u[r]=o,u[i]=s,u},_getScale:function(t){var e=this.get("scales"),n=null;return r.each(e,function(e){if(e.field===t)return n=e,!1}),n},_getTipValueScale:function(){var t,e=this.getAttrsForLegend();r.each(e,function(e){var n=e.getScale(e.type);if(n.isLinear)return t=n,!1});var n=this.getXScale(),i=this.getYScale();return!t&&i&&"..y"===i.field?n:t||i||n},_getTipTitleScale:function(t){if(t)return this._getScale(t);var e,n=this.getAttr("position").getFields();return r.each(n,function(t){if(-1===t.indexOf(".."))return e=t,!1}),this._getScale(e)},_filterValue:function(t,e){var n=this.get("coord"),i=this.getYScale(),o=i.field,s=n.invert(e).y;s=i.invert(s);var u=t[t.length-1];return r.each(t,function(t){var e=t[a];if(e[o][0]<=s&&e[o][1]>=s)return u=t,!1}),u},getXDistance:function(){var t=this.get("xDistance");if(!t){var e=this.getXScale();if(e.isCategory)t=1;else{var n=e.values,i=e.translate(n[0]),a=i;r.each(n,function(t){(t=e.translate(t))<i&&(i=t),t>a&&(a=t)});var o=n.length;t=(a-i)/(o-1)}this.set("xDistance",t)}return t},findPoint:function(t,e){var n=this,i=n.get("type"),o=n.getXScale(),s=n.getYScale(),u=o.field,c=s.field,l=null;if(r.indexOf(["heatmap","point"],i)>-1){var h=n.get("coord").invert(t),f=o.invert(h.x),p=s.invert(h.y),d=1/0;return r.each(e,function(t){var e=Math.pow(t[a][u]-f,2)+Math.pow(t[a][c]-p,2);e<d&&(d=e,l=t)}),l}var g=e[0],v=e[e.length-1];if(!g)return l;var y=n._getScaleValueByPoint(t),m=g[a][u],x=g[a][c],_=v[a][u],w=s.isLinear&&r.isArray(x);if(r.isArray(m))r.each(e,function(t){var e=t[a];if(o.translate(e[u][0])<=y&&o.translate(e[u][1])>=y){if(!w)return l=t,!1;r.isArray(l)||(l=[]),l.push(t)}}),r.isArray(l)&&(l=this._filterValue(l,t));else{var b;if(o.isLinear||"timeCat"===o.type){if((y>o.translate(_)||y<o.translate(m))&&(y>o.max||y<o.min))return null;for(var M,S=0,E=e.length-1;S<=E;){M=Math.floor((S+E)/2);var C=e[M][a][u];if(n._snapEqual(C,y,o))return e[M];o.translate(C)<=o.translate(y)?(S=M+1,v=e[M],b=e[M+1]):(0===E&&(v=e[0]),E=M-1)}}else r.each(e,function(t,i){var s=t[a];if(n._snapEqual(s[u],y,o)){if(!w)return l=t,!1;r.isArray(l)||(l=[]),l.push(t)}else o.translate(s[u])<=y&&(v=t,b=e[i+1])}),r.isArray(l)&&(l=this._filterValue(l,t));v&&b&&Math.abs(o.translate(v[a][u])-y)>Math.abs(o.translate(b[a][u])-y)&&(v=b)}var k=n.getXDistance();return!l&&Math.abs(o.translate(v[a][u])-y)<=k/2&&(l=v),l},getTipTitle:function(t,e){var n="",r=this._getTipTitleScale(e);if(r){var i=t[r.field];n=r.getText(i)}else if("heatmap"===this.get("type")){var a=this.getXScale(),o=this.getYScale();n="( "+a.getText(t[a.field])+", "+o.getText(t[o.field])+" )"}return n},getTipValue:function(t,e){var n,i=e.field,a=t.key;if(n=t[i],r.isArray(n)){var o=[];r.each(n,function(t){o.push(e.getText(t))}),n=o.join("-")}else n=e.getText(n,a);return n},getTipName:function(t){var e,n,i=this._getGroupScales();if(i.length&&r.each(i,function(t){return n=t,!1}),n){var a=n.field;e=n.getText(t[a])}else{e=o(this._getTipValueScale())}return e},getTipItems:function(t,e){var n,s,u=this,c=t[a],l=u.getTipTitle(c,e),h=u.get("tooltipCfg"),f=[];function p(e,n,a){if(!r.isNil(n)&&""!==n){var o={title:l,point:t,name:e||l,value:n,color:t.color||i,marker:!0};o.size=u._getIntervalSize(t),f.push(r.mix({},o,a))}}if(h){var d=h.fields,g=h.cfg,v=[];if(r.each(d,function(t){v.push(c[t])}),g){r.isFunction(g)&&(g=g.apply(null,v));var y=r.mix({},{point:t,title:l,color:t.color||i,marker:!0},g);y.size=u._getIntervalSize(t),f.push(y)}else r.each(d,function(t){if(!r.isNil(c[t])){var e=u._getScale(t);n=o(e),s=e.getText(c[t]),p(n,s)}})}else{var m=u._getTipValueScale();r.isNil(c[m.field])||(s=u.getTipValue(c,m),p(n=u.getTipName(c),s))}return f},isShareTooltip:function(){var t,e=this.get("shareTooltip"),n=this.get("type"),i=this.get("view");if(t=i.get("parent")?i.get("parent").get("options"):i.get("options"),"interval"===n){var a=this.get("coord"),o=a.type;("theta"===o||"polar"===o&&a.isTransposed)&&(e=!1)}else this.getYScale()&&!r.inArray(["contour","point","polygon","edge"],n)||(e=!1);return t.tooltip&&r.isBoolean(t.tooltip.shared)&&(e=t.tooltip.shared),e}};t.exports=s},function(t,e,n){var r=n(500);function i(t,e){if(!t)return!0;if(t.length!==e.length)return!0;var n=!1;return r.each(e,function(e,i){if(!function(t,e){if(r.isNil(t)||r.isNil(e))return!1;var n=t.get("origin"),i=e.get("origin");return r.isEqual(n,i)}(e,t[i]))return n=!0,!1}),n}function a(t,e){var n={};return r.each(t,function(t,i){var a=e.attr(i);r.isArray(a)&&(a=r.cloneDeep(a)),n[i]=a}),n}var o={_isAllowActive:function(){var t=this.get("allowActive");if(!r.isNil(t))return t;var e=this.get("view"),n=this.isShareTooltip();return!1===e.get("options").tooltip||!n},_onMouseenter:function(t){var e=t.shape,n=this.get("shapeContainer");e&&n.contain(e)&&this._isAllowActive()&&this.setShapesActived(e)},_onMouseleave:function(){var t=this.get("view").get("canvas");this.get("activeShapes")&&(this.clearActivedShapes(),t.draw())},_bindActiveAction:function(){var t=this.get("view"),e=this.get("type");t.on(e+":mouseenter",r.wrapBehavior(this,"_onMouseenter")),t.on(e+":mouseleave",r.wrapBehavior(this,"_onMouseleave"))},_offActiveAction:function(){var t=this.get("view"),e=this.get("type");t.off(e+":mouseenter",r.getWrapBehavior(this,"_onMouseenter")),t.off(e+":mouseleave",r.getWrapBehavior(this,"_onMouseleave"))},_setActiveShape:function(t){var e=this.get("activedOptions")||{},n=t.get("origin"),i=n.shape||this.getDefaultValue("shape");r.isArray(i)&&(i=i[0]);var o=this.get("shapeFactory"),s=r.mix({},t.attr(),{origin:n}),u=o.getActiveCfg(i,s);e.style&&r.mix(u,e.style);var c=a(u,t);t.setSilent("_originAttrs",c),e.animate?t.animate(u,300):t.attr(u),t.set("zIndex",1)},setShapesActived:function(t){var e=this;r.isArray(t)||(t=[t]);var n=e.get("activeShapes");if(i(n,t)){var a=e.get("view").get("canvas"),o=e.get("shapeContainer"),s=e.get("activedOptions");s&&s.highlight?(r.each(t,function(t){t.get("animating")&&t.stopAnimate()}),e.highlightShapes(t)):(n&&e.clearActivedShapes(),r.each(t,function(t){t.get("animating")&&t.stopAnimate(),t.get("visible")&&!t.get("selected")&&e._setActiveShape(t)})),e.set("activeShapes",t),o.sort(),a.draw()}},clearActivedShapes:function(){var t=this.get("shapeContainer"),e=this.get("activedOptions"),n=e&&e.animate;if(t&&!t.get("destroyed")){var i=this.get("activeShapes");if(r.each(i,function(t){if(!t.get("selected")){var e=t.get("_originAttrs");n?(t.stopAnimate(),t.animate(e,300)):t.attr(e),t.setZIndex(0),t.set("_originAttrs",null)}}),this.get("preHighlightShapes")){var a=t.get("children");r.each(a,function(t){if(!t.get("selected")){var e=t.get("_originAttrs");e&&(n?(t.stopAnimate(),t.animate(e,300)):t.attr(e),t.setZIndex(0),t.set("_originAttrs",null))}})}t.get("children").sort(function(t,e){return t._INDEX-e._INDEX}),this.set("activeShapes",null),this.set("preHighlightShapes",null)}},getGroupShapesByPoint:function(t){var e=[];if(this.get("shapeContainer")){var n=this.getXScale().field,i=this.getShapes(),a=this._getOriginByPoint(t);r.each(i,function(t){var r=t.get("origin");t.get("visible")&&r&&(r._origin[n]===a[n]&&e.push(t))})}return e},getSingleShapeByPoint:function(t){var e,n=this.get("shapeContainer"),r=n.get("canvas").get("pixelRatio");if(n&&(e=n.getShape(t.x*r,t.y*r)),e&&e.get("origin"))return e},highlightShapes:function(t,e){r.isArray(t)||(t=[t]);var n=this.get("activeShapes");if(i(n,t)){n&&this.clearActivedShapes();var o=this.getShapes(),s=this.get("activedOptions"),u=s&&s.animate,c=s&&s.style;r.each(o,function(n){var i={};n.stopAnimate(),-1!==r.indexOf(t,n)?(r.mix(i,c,e),n.setZIndex(1)):(r.mix(i,{fillOpacity:.3,opacity:.3}),n.setZIndex(0));var o=a(i,n);n.setSilent("_originAttrs",o),u?n.animate(i,300):n.attr(i)}),this.set("preHighlightShapes",t),this.set("activeShapes",t)}}};t.exports=o},function(t,e,n){var r=n(500);function i(t,e){if(r.isNil(t)||r.isNil(e))return!1;var n=t.get("origin"),i=e.get("origin");return r.isEqual(n,i)}var a={_isAllowSelect:function(){var t=this.get("allowSelect");if(!r.isNil(t))return t;var e=this.get("type"),n=this.get("coord"),i=n&&n.type;return"interval"===e&&"theta"===i},_onClick:function(t){if(this._isAllowSelect()){this.clearActivedShapes();var e=t.shape,n=this.get("shapeContainer");e&&!e.get("animating")&&n.contain(e)&&this.setShapeSelected(e)}},_bindSelectedAction:function(){var t=this.get("view"),e=this.get("type");t.on(e+":click",r.wrapBehavior(this,"_onClick"))},_offSelectedAction:function(){var t=this.get("view"),e=this.get("type");t.off(e+":click",r.getWrapBehavior(this,"_onClick"))},_setShapeStatus:function(t,e){var n=this.get("view"),i=this.get("selectedOptions")||{},a=!1!==i.animate,o=n.get("canvas");t.set("selected",e);var s,u,c,l=t.get("origin");if(e){var h=l.shape||this.getDefaultValue("shape");r.isArray(h)&&(h=h[0]);var f=this.get("shapeFactory"),p=r.mix({geom:this,point:l},i),d=f.getSelectedCfg(h,p);r.mix(d,p.style),t.get("_originAttrs")||(t.get("animating")&&t.stopAnimate(),t.set("_originAttrs",(s=d,u=t,c={},r.each(s,function(t,e){"transform"===e&&(e="matrix");var n=u.attr(e);r.isArray(n)&&(n=r.cloneDeep(n)),c[e]=n}),c))),a?t.animate(d,300):(t.attr(d),o.draw())}else{var g=t.get("_originAttrs");t.set("_originAttrs",null),a?t.animate(g,300):(t.attr(g),o.draw())}},setShapeSelected:function(t){var e=this._getSelectedShapes(),n=this.get("selectedOptions")||{},a=!1!==n.cancelable;if("multiple"===n.mode)-1===r.indexOf(e,t)?(e.push(t),this._setShapeStatus(t,!0)):a&&(r.Array.remove(e,t),this._setShapeStatus(t,!1));else{var o=e[0];a&&(t=i(o,t)?null:t),i(o,t)||(o&&this._setShapeStatus(o,!1),t&&this._setShapeStatus(t,!0))}},clearSelected:function(){var t=this,e=t.get("shapeContainer");if(e&&!e.get("destroyed")){var n=t._getSelectedShapes();r.each(n,function(e){t._setShapeStatus(e,!1),e.set("_originAttrs",null)})}},setSelected:function(t){var e=this,n=e.getShapes();return r.each(n,function(n){var r=n.get("origin");r&&r._origin===t&&e.setShapeSelected(n)}),this},_getSelectedShapes:function(){var t=this.getShapes(),e=[];return r.each(t,function(t){t.get("selected")&&e.push(t)}),this.set("selectedShapes",e),e}};t.exports=a},function(t,e,n){var r=n(500);t.exports=function(t){return r.isArray(t)?t:r.isString(t)?t.split("*"):[t]}},function(t,e,n){var r=n(647),i=n(500),a=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,o="linear",s="cat",u="time",c=function(){function t(t){this.defs={},this.viewTheme={scales:{}},i.assign(this,t)}var e=t.prototype;return e._getDef=function(t){var e=this.defs,n=this.viewTheme,r=null;return(n.scales[t]||e[t])&&(r=i.mix({},n.scales[t]),i.each(e[t],function(t,e){i.isNil(t)?delete r[e]:r[e]=t})),r},e._getDefaultType=function(t,e){var n=o,r=i.Array.firstValue(e,t);return i.isArray(r)&&(r=r[0]),a.test(r)?n=u:i.isString(r)&&(n=s),n},e._getScaleCfg=function(t,e,n){var a={field:e},o=i.Array.values(n,e);if(a.values=o,!r.isCategory(t)&&"time"!==t){var s=i.Array.getRange(o);a.min=s.min,a.max=s.max,a.nice=!0}return"time"===t&&(a.nice=!1),a},e.createScale=function(t,e){var n,a=this._getDef(t);if(!e||!e.length)return n=a&&a.type?r[a.type](a):r.identity({value:t,field:t.toString(),values:[t]});var o=i.Array.firstValue(e,t);if(i.isNumber(t)||i.isNil(o)&&!a)n=r.identity({value:t,field:t.toString(),values:[t]});else{var s;a&&(s=a.type),s=s||this._getDefaultType(t,e);var u=this._getScaleCfg(s,t,e);a&&i.mix(u,a),n=r[s](u)}return n},t}();t.exports=c},function(t,e,n){var r=n(500),i=n(968),a=function(){function t(t){this.type="rect",this.actions=[],this.cfg={},r.mix(this,t),this.option=t||{}}var e=t.prototype;return e.reset=function(t){return this.actions=t.actions||[],this.type=t.type,this.cfg=t.cfg,this.option.actions=this.actions,this.option.type=this.type,this.option.cfg=this.cfg,this},e._execActions=function(t){var e=this.actions;r.each(e,function(e){var n=e[0];t[n](e[1],e[2])})},e.hasAction=function(t){var e=this.actions,n=!1;return r.each(e,function(e){if(t===e[0])return n=!0,!1}),n},e.createCoord=function(t,e){var n,a,o=this.type,s=this.cfg,u=r.mix({start:t,end:e},s);return"theta"===o?(n=i.Polar,this.hasAction("transpose")||this.transpose(),(a=new n(u)).type=o):a=new(n=i[r.upperFirst(o||"")]||i.Rect)(u),this._execActions(a),a},e.rotate=function(t){return t=t*Math.PI/180,this.actions.push(["rotate",t]),this},e.reflect=function(t){return this.actions.push(["reflect",t]),this},e.scale=function(t,e){return this.actions.push(["scale",t,e]),this},e.transpose=function(){return this.actions.push(["transpose"]),this},t}();t.exports=a},function(t,e,n){"use strict";var r=n(575);r.Cartesian=n(969),r.Rect=r.Cartesian,r.Polar=n(970),r.Helix=n(971),t.exports=r},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(501),h=n(575),f=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,c(e).call(this,t)))._init(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,h),o(e,[{key:"getDefaultCfg",value:function(){var t=u(c(e.prototype),"getDefaultCfg",this).call(this);return l({},t,{start:{x:0,y:0},end:{x:0,y:0},type:"cartesian",isRect:!0})}}]),o(e,[{key:"_init",value:function(){var t=this.start,e=this.end,n={start:t.x,end:e.x},r={start:t.y,end:e.y};this.x=n,this.y=r}},{key:"convertPoint",value:function(t){var e,n;return this.isTransposed?(e=t.y,n=t.x):(e=t.x,n=t.y),{x:this.convertDim(e,"x"),y:this.convertDim(n,"y")}}},{key:"invertPoint",value:function(t){var e=this.invertDim(t.x,"x"),n=this.invertDim(t.y,"y");return this.isTransposed?{x:n,y:e}:{x:e,y:n}}}]),e}();t.exports=f},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(574),h=n(567),f=n(501),p=n(575),d=l.mat3,g=l.vec2,v=l.vec3,y=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,c(e).call(this,t)))._init(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,p),o(e,[{key:"getDefaultCfg",value:function(){var t=u(c(e.prototype),"getDefaultCfg",this).call(this);return f({},t,{startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,type:"polar",isPolar:!0})}}]),o(e,[{key:"_init",value:function(){for(var t=this.radius,e=this.innerRadius,n=this.center,r=this.startAngle,i=this.endAngle;i<r;)i+=2*Math.PI;this.endAngle=i;var a,o,s=this.getOneBox(),u=s.maxX-s.minX,c=s.maxY-s.minY,l=Math.abs(s.minX)/u,h=Math.abs(s.minY)/c,f=this.width,p=this.height;p/c>f/u?(a=f/u,o={x:n.x-(.5-l)*f,y:n.y-(.5-h)*a*c}):(a=p/c,o={x:n.x-(.5-l)*a*u,y:n.y-(.5-h)*p}),t?t>0&&t<=1?t*=a:(t<=0||t>a)&&(t=a):t=a;var d={start:r,end:i},g={start:e*t,end:t};this.x=d,this.y=g,this.radius=t,this.circleCentre=o,this.center=o}},{key:"getCenter",value:function(){return this.circleCentre}},{key:"getOneBox",value:function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],r=[0,Math.sin(t),Math.sin(e)],i=Math.min(t,e);i<Math.max(t,e);i+=Math.PI/18)n.push(Math.cos(i)),r.push(Math.sin(i));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,r),maxY:Math.max.apply(Math,r)}}},{key:"getRadius",value:function(){return this.radius}},{key:"convertPoint",value:function(t){var e=this.getCenter(),n=this.isTransposed?t.y:t.x,r=this.isTransposed?t.x:t.y;return n=this.convertDim(n,"x"),r=this.convertDim(r,"y"),{x:e.x+Math.cos(n)*r,y:e.y+Math.sin(n)*r}}},{key:"invertPoint",value:function(t){var e=this.getCenter(),n=[t.x-e.x,t.y-e.y],r=this.x,i=[1,0,0,0,1,0,0,0,1];d.rotate(i,i,r.start);var a=[1,0,0];v.transformMat3(a,a,i),a=[a[0],a[1]];var o=g.angleTo(a,n,r.end<r.start);h(o,2*Math.PI)&&(o=0);var s=g.length(n),u=o/(r.end-r.start);u=r.end-r.start>0?u:-u;var c=this.invertDim(s,"y"),l={};return l.x=this.isTransposed?c:u,l.y=this.isTransposed?u:c,l}}]),e}();t.exports=y},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(574),h=n(567),f=n(501),p=n(575),d=l.vec2,g=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=i(this,c(e).call(this,t)))._init(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(e,p),o(e,[{key:"getDefaultCfg",value:function(){var t=u(c(e.prototype),"getDefaultCfg",this).call(this);return f({},t,{startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,innerRadius:0,type:"helix",isHelix:!0})}}]),o(e,[{key:"_init",value:function(){var t=this.width,e=this.height,n=this.radius,r=this.innerRadius,i=this.startAngle,a=this.endAngle,o=(a-i)/(2*Math.PI)+1,s=Math.min(t,e)/2;n&&n>=0&&n<=1&&(s*=n);var u=Math.floor(s*(1-r)/o),c=u/(2*Math.PI),l={start:i,end:a},h={start:r*s,end:r*s+.99*u};this.a=c,this.d=u,this.x=l,this.y=h}},{key:"getCenter",value:function(){return this.center}},{key:"convertPoint",value:function(t){var e,n,r=this.a,i=this.center;this.isTransposed?(e=t.y,n=t.x):(e=t.x,n=t.y);var a=this.convertDim(e,"x"),o=r*a,s=this.convertDim(n,"y");return{x:i.x+Math.cos(a)*(o+s),y:i.y+Math.sin(a)*(o+s)}}},{key:"invertPoint",value:function(t){var e=this.center,n=this.a,r=this.d+this.y.start,i=d.subtract([],[t.x,t.y],[e.x,e.y]),a=d.angleTo(i,[1,0],!0),o=a*n;d.length(i)<o&&(o=d.length(i));var s=n*(a=2*Math.floor((d.length(i)-o)/r)*Math.PI+a),u=d.length(i)-s;u=h(u,0)?0:u;var c=this.invertDim(a,"x"),l=this.invertDim(u,"y");c=h(c,0)?0:c,l=h(l,0)?0:l;var f={};return f.x=this.isTransposed?l:c,f.y=this.isTransposed?c:l,f}}]),e}();t.exports=g},function(t,e,n){var r=n(500),i=n(541).Axis,a=r.MatrixUtil.vec2;var o=function(){function t(t){this.visible=!0,this.canvas=null,this.container=null,this.coord=null,this.options=null,this.axes=[],r.mix(this,t)}var e=t.prototype;return e._isHide=function(t){var e=this.options;return!(!e||!1!==e[t])},e._getMiddleValue=function(t,e,n,r){if(0===t&&!r)return 0;if(1===t)return 1;var i=e[n+1].value;return r||1!==i?(t+i)/2:1},e._getLineRange=function(t,e,n,r){var i,a,o,s=e.field,u=this.options,c="";return u[s]&&u[s].position&&(c=u[s].position),"x"===n?(i={x:0,y:"top"===c?1:0},a={x:1,y:"top"===c?1:0},o=!1):(r?(i={x:"left"===c?0:1,y:0},a={x:"left"===c?0:1,y:1}):(i={x:"right"===c?1:0,y:0},a={x:"right"===c?1:0,y:1}),o=!0),{start:i=t.convert(i),end:a=t.convert(a),isVertical:o}},e._getLineCfg=function(t,e,n,r){var i=this._getLineRange(t,e,n,r),a=i.isVertical,o=i.start,s=i.end,u=t.center;return t.isTransposed&&(a=!a),{isVertical:a,factor:a&&o.x>u.x||!a&&o.y>u.y?1:-1,start:o,end:s}},e._getCircleCfg=function(t){var e,n={},r=t.x,i=t.y,o=i.start>i.end;e=t.isTransposed?{x:o?0:1,y:0}:{x:0,y:o?0:1},e=t.convert(e);var s,u=t.circleCentre,c=[e.x-u.x,e.y-u.y],l=[1,0],h=(s=e.y>u.y?a.angle(c,l):-1*a.angle(c,l))+(r.end-r.start);return n.startAngle=s,n.endAngle=h,n.center=u,n.radius=Math.sqrt(Math.pow(e.x-u.x,2)+Math.pow(e.y-u.y,2)),n.inner=t.innerRadius||0,n},e._getRadiusCfg=function(t){var e,n,r=t.x.start<0?-1:1;return t.isTransposed?(e={x:0,y:0},n={x:1,y:0}):(e={x:0,y:0},n={x:0,y:1}),{factor:r,start:t.convert(e),end:t.convert(n)}},e._getAxisPosition=function(t,e,n,r){var i="",a=this.options;if(a[r]&&a[r].position)i=a[r].position;else{var o=t.type;t.isRect?"x"===e?i="bottom":"y"===e&&(i=n?"right":"left"):i="helix"===o?"helix":"x"===e?t.isTransposed?"radius":"circle":t.isTransposed?"circle":"radius"}return i},e._getAxisDefaultCfg=function(t,e,n,i){var a=this.viewTheme,o={},s=this.options,u=e.field;if((o=r.deepMix({},a.axis[i],o,s[u])).viewTheme=a,o.title){var c=r.isPlainObject(o.title)?o.title:{};c.text=c.text||e.alias||u,r.deepMix(o,{title:c})}return o.ticks=e.getTicks(),t.isPolar&&!e.isCategory&&"x"===n&&Math.abs(t.endAngle-t.startAngle)===2*Math.PI&&o.ticks.pop(),o.coord=t,o.label&&r.isNil(o.label.autoRotate)&&(o.label.autoRotate=!0),s.hasOwnProperty("xField")&&s.xField.hasOwnProperty("grid")&&"left"===o.position&&r.deepMix(o,s.xField),o},e._getAxisCfg=function(t,e,n,i,a,o){void 0===a&&(a="");var s,u,c,l,h=this,f=h._getAxisPosition(t,i,a,e.field),p=h._getAxisDefaultCfg(t,e,i,f);if(!r.isEmpty(p.grid)&&n){var d=[],g=[],v=function(t){var e=[];if(t.length>0){var n=(e=t.slice(0))[0],r=e[e.length-1];0!==n.value&&e.unshift({value:0}),1!==r.value&&e.push({value:1})}return e}(n.getTicks());if(v.length){var y=(s=p.ticks,u=e.isLinear,c="center"===p.grid.align,l=[],s.length<1?l:(s.length>=2&&u&&c&&l.push({text:"",tickValue:"",value:0}),0!==s[0].value&&l.push({text:"",tickValue:"",value:0}),1!==(l=l.concat(s))[l.length-1].value&&l.push({text:"",tickValue:"",value:1}),l));r.each(y,function(n,s){g.push(n.tickValue);var u=[],c=n.value;if("center"===p.grid.align&&(c=h._getMiddleValue(c,y,s,e.isLinear)),!r.isNil(c)){var l=t.x,f=t.y;r.each(v,function(e){var n="x"===i?c:e.value,r="x"===i?e.value:c,a=t.convert({x:n,y:r});if(t.isPolar){var o=t.circleCentre;f.start>f.end&&(r=1-r),a.flag=l.start>l.end?0:1,a.radius=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2))}u.push(a)}),d.push({_id:o+"-"+i+a+"-grid-"+n.tickValue,points:u})}})}p.grid.items=d,p.grid.tickValues=g}return p.type=e.type,p},e._getHelixCfg=function(t){for(var e={},n=t.a,r=t.startAngle,i=t.endAngle,a=[],o=0;o<=100;o++){var s=t.convert({x:o/100,y:0});a.push(s.x),a.push(s.y)}var u=t.convert({x:0,y:0});return e.a=n,e.startAngle=r,e.endAngle=i,e.crp=a,e.axisStart=u,e.center=t.center,e.inner=t.y.start,e},e._drawAxis=function(t,e,n,a,o,s,u){var c,l,h=this.container,f=this.canvas;"cartesian"===t.type?(c=i.Line,l=this._getLineCfg(t,e,a,u)):"helix"===t.type&&"x"===a?(c=i.Helix,l=this._getHelixCfg(t)):"x"===a?(c=i.Circle,l=this._getCircleCfg(t)):(c=i.Line,l=this._getRadiusCfg(t));var p=this._getAxisCfg(t,e,n,a,u,o);p=r.mix({},p,l),"y"===a&&s&&"circle"===s.get("type")&&(p.circle=s),p._id=o+"-"+a,r.isNil(u)||(p._id=o+"-"+a+u),r.mix(p,{canvas:f,group:h});var d=new c(p);return d.render(),this.axes.push(d),d},e.createAxis=function(t,e,n){var i,a=this,o=this.coord,s=o.type;"theta"===s||"polar"===s&&o.isTransposed||(t&&!a._isHide(t.field)&&(i=a._drawAxis(o,t,e[0],"x",n)),r.isEmpty(e)||"helix"===s||r.each(e,function(e,r){a._isHide(e.field)||a._drawAxis(o,e,t,"y",n,i,r)}))},e.changeVisible=function(t){var e=this.axes;r.each(e,function(e){e.set("visible",t)})},e.clear=function(){var t=this.axes;r.each(t,function(t){t.clear()}),this.axes=[]},t}();t.exports=o},function(t,e,n){var r=n(500),i=n(974),a=function(){function t(t){this.guides=[],this.options=[],this.xScales=null,this.yScales=null,this.view=null,this.viewTheme=null,this.frontGroup=null,this.backGroup=null,r.mix(this,t)}var e=t.prototype;return e._creatGuides=function(){var t=this,e=this.options,n=this.xScales,a=this.yScales,o=this.view,s=this.viewTheme;return this.backContainer&&o&&(this.backGroup=this.backContainer.addGroup({viewId:o.get("_id")})),this.frontContainer&&o&&(this.frontGroup=this.frontContainer.addGroup({viewId:o.get("_id")})),e.forEach(function(e){var o=e.type,u=r.deepMix({xScales:n,yScales:a,viewTheme:s},s?s.guide[o]:{},e);o=r.upperFirst(o);var c=new i[o](u);t.guides.push(c)}),t.guides},e.line=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"line"},t)),this},e.arc=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"arc"},t)),this},e.text=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"text"},t)),this},e.image=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"image"},t)),this},e.region=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"region"},t)),this},e.regionFilter=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"regionFilter"},t)),this},e.dataMarker=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"dataMarker"},t)),this},e.dataRegion=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"dataRegion"},t)),this},e.html=function(t){return void 0===t&&(t={}),this.options.push(r.mix({type:"html"},t)),this},e.render=function(t){var e=this,n=e.view,i=n&&n.get("data"),a=e._creatGuides();r.each(a,function(r){var a;a=r.get("top")?e.frontGroup||e.frontContainer:e.backGroup||e.backContainer,r.render(t,a,i,n)})},e.clear=function(){this.options=[],this.reset()},e.changeVisible=function(t){var e=this.guides;r.each(e,function(e){e.changeVisible(t)})},e.reset=function(){var t=this.guides;r.each(t,function(t){t.clear()}),this.guides=[],this.backGroup&&this.backGroup.remove(),this.frontGroup&&this.frontGroup.remove()},t}();t.exports=a},function(t,e,n){var r=n(541).Guide,i=n(975);r.RegionFilter=i,t.exports=r},function(t,e,n){var r=n(500),i=n(526),a=n(546).Path,o=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{name:"regionFilter",zIndex:1,top:!0,start:null,end:null,color:null,apply:null,style:{opacity:1}})},o.render=function(t,e,n,r){var i=this,a=e.addGroup();a.name="guide-region-filter",r.once("afterpaint",function(){if(!a.get("destroyed")){i._drawShapes(r,a);var e=i._drawClip(t);a.attr({clip:e}),i.set("clip",e),i.get("appendInfo")&&a.setSilent("appendInfo",i.get("appendInfo")),i.set("el",a)}})},o._drawShapes=function(t,e){var n=this,i=[];return t.getAllGeoms().map(function(t){var a=t.getShapes(),o=t.get("type");return n._geomFilter(o)&&a.map(function(t){var a=t.type,o=r.cloneDeep(t.attr());n._adjustDisplay(o);var s=e.addShape(a,{attrs:o});return i.push(s),t}),t}),i},o._drawClip=function(t){var e=this.parsePoint(t,this.get("start")),n=this.parsePoint(t,this.get("end")),r=[["M",e.x,e.y],["L",n.x,e.y],["L",n.x,n.y],["L",e.x,n.y],["z"]];return new a({attrs:{path:r,opacity:1}})},o._adjustDisplay=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},o._geomFilter=function(t){var e=this.get("apply");return!e||r.contains(e,t)},o.clear=function(){t.prototype.clear.call(this);var e=this.get("clip");e&&e.remove()},i}(i);t.exports=o},function(t,e,n){var r=n(500),i=n(541).Legend,a=n(977),o=n(519),s="_origin",u=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var c=function(){function t(t){this.options={},r.mix(this,t),this.clear();var e=this.chart;this.container=e.get("frontPlot"),this.plotRange=e.get("plotRange")}var e=t.prototype;return e.clear=function(){var t=this.legends;this.backRange=null,r.each(t,function(t){r.each(t,function(t){t.destroy()})}),this.legends={}},e.getBackRange=function(){var t=this.backRange;if(!t){t=this.chart.get("backPlot").getBBox();var e=this.plotRange;t.maxX-t.minX<e.br.x-e.tl.x&&t.maxY-t.minY<e.br.y-e.tl.y&&(t={minX:e.tl.x,minY:e.tl.y,maxX:e.br.x,maxY:e.br.y}),this.backRange=t}return t},e._isFieldInView=function(t,e,n){var i=!1,a=n.get("scales")[t];return a&&a.values&&(i=r.inArray(a.values,e)),i},e._bindClickEvent=function(t,e,n){var i=this,a=i.chart,o=a.get("views"),s=e.field,u=i.options;t.on("itemclick",function(e){if(u.onClick)u.onClick(e);else{var c=e.item,l=e.checked,h="single"===t.get("selectedMode"),f=c.dataValue;l?(r.Array.remove(n,f),i._isFieldInView(s,f,a)&&a.filter(s,function(t){return h?t===f:!r.inArray(n,t)}),r.each(o,function(t){i._isFieldInView(s,f,t)&&t.filter(s,function(t){return h?t===f:!r.inArray(n,t)})})):h||(n.push(f),i._isFieldInView(s,f,a)&&a.filter(s,function(t){return!r.inArray(n,t)}),r.each(o,function(t){i._isFieldInView(s,f,t)&&t.filter(s,function(t){return!r.inArray(n,t)})})),a.set("keepLegend",!0),a.set("keepPadding",!0),a.repaint(),a.set("keepPadding",!1),a.set("keepLegend",!1)}})},e._bindClickEventForMix=function(t){var e=this.chart.getAllGeoms();t.on("itemclick",function(t){var n=t.item.value;t.checked?r.each(e,function(t){t.getYScale().field===n&&t.show()}):r.each(e,function(t){t.getYScale().field===n&&t.hide()})})},e._filterLabels=function(t,e,n){if(t.get("gLabel"))t.get("gLabel").set("visible",n);else{var i=e.get("labelCfg");if(i&&i.fields&&i.fields.length>0){var a=e.getXScale(),o=e.getYScale(),s=a.field,u=o.field,c=t.get("origin")._origin,l=e.get("labelContainer").get("labelsGroup").get("children");r.each(l,function(e){var r=e.get("origin")||[];r[s]===c[s]&&r[u]===c[u]&&(e.set("visible",n),t.set("gLabel",e))})}}},e._bindFilterEvent=function(t,e){var n=this,r=this.chart,i=e.field;t.on("itemfilter",function(t){var e=t.range;r.filterShape(function(t,r,a){if(t[i]){var o=t[i]>=e[0]&&t[i]<=e[1];return n._filterLabels(r,a,o),o}return!0});for(var a=r.getAllGeoms()||[],o=function(t){var n=a[t];"heatmap"===n.get("type")&&u(function(){n.drawWithRange(e)})},s=0;s<a.length;s++)o(s)})},e._getShapeData=function(t){var e=t.get("origin");return r.isArray(e)&&(e=e[0]),e[s]},e._bindHoverEvent=function(t,e){var n=this,i=n.chart,a=i.getAllGeoms(),o=n.options,s=i.get("canvas");t.on("itemhover",function(t){var i=t.item.value,u=n.pre;if(u){if(u===i)return}else r.each(a,function(a){var u=a.get("shapeContainer"),c=a.getShapes(),l=[];if(e){var h=a.get("scales")[e];r.each(c,function(t){var a,o,s,u=n._getShapeData(t);u&&(a=u[e],o=i,s=h,!r.isNil(s)&&(a=s.translate(a),o=s.translate(o),s.isCategory?a===o:Math.abs(a-o)<=1))&&l.push(t)})}else a.getYScale().field===i&&(l=c);r.isEmpty(l)||(t.shapes=l,t.geom=a,o.onHover?(o.onHover(t),u.sort(),s.draw()):a.setShapesActived(l))}),n.pre=i}),t.on("itemunhover",function(){n.pre=null,r.each(a,function(t){t.get("activeShapes")&&(t.clearActivedShapes(),s.draw())})})},e._isFiltered=function(t,e,n){if(!t.isCategory)return!0;var i=!0;return n=t.invert(n),r.each(e,function(e){if(t.getText(e)===t.getText(n))return i=!1,!1}),i},e._alignLegend=function(t,e,n,r){var i=this,a=i.viewTheme,o=i.container.get("canvas"),s=o.get("width"),u=o.get("height"),c=i.totalRegion,l=i.plotRange,h=i.getBackRange(),f=t.get("offset")[0]||0,p=t.get("offset")[1]||0,d=t.getHeight(),g=t.getWidth(),v=a.legend.margin,y=a.legend.legendMargin,m=i.legends[r].length,x=r.split("-"),_=0,w=0,b=m>1?c:n;if("left"===x[0]||"right"===x[0])u=l.br.y,_=i._getXAlign(x[0],s,n,h,g,v),w=e?e.get("group").get("y")+e.getHeight()+y:i._getYAlignVertical(x[1],u,b,h,0,v,o.get("height"));else if("top"===x[0]||"bottom"===x[0])if(w=i._getYAlignHorizontal(x[0],u,n,h,d,v),e){var M=e.getWidth();_=e.get("group").get("x")+M+y}else _=i._getXAlign(x[1],s,b,h,0,v),"right"===x[1]&&(_=l.br.x-b.totalWidth);t.move(_+f,w+p)},e._getXAlign=function(t,e,n,r,i,a){var o="left"===t?r.minX-i-a[3]:r.maxX+a[1];return"center"===t&&(o=(e-n.totalWidth)/2),o},e._getYAlignHorizontal=function(t,e,n,r,i,a){return"top"===t?r.minY-i-a[0]:r.maxY+a[2]},e._getYAlignVertical=function(t,e,n,r,i,a,o){var s="top"===t?r.minY-i-a[0]:e-n.totalHeight;return"center"===t&&(s=(o-n.totalHeight)/2),s},e._getSubRegion=function(t){var e=0,n=0,i=0,a=0;return r.each(t,function(t){var r=t.getWidth(),o=t.getHeight();e<r&&(e=r),i+=r,n<o&&(n=o),a+=o}),{maxWidth:e,totalWidth:i,maxHeight:n,totalHeight:a}},e._getRegion=function(){var t=this,e=t.viewTheme,n=t.legends,i=e.legend.legendMargin,a=[],o=0,s=0;return r.each(n,function(e){var n=t._getSubRegion(e);a.push(n),o+=n.totalWidth+i,s+=n.totalHeight+i}),{totalWidth:o,totalHeight:s,subs:a}},e._addCategoryLegend=function(t,e,n,s,u){var c=this,l=t.field,h=c.options,f=h[l];f&&(h=f);var p=c.legends;p[u]=p[u]||[];var d=c.container,g=[],v=t.getTicks(),y=!0,m=n.get("shapeType")||"point",x=n.getDefaultValue("shape")||"circle";h[l]&&h[l].marker?(x=h[l].marker,m="point",y=!1):h.marker&&(x=h.marker,m="point",y=!1);var _=c.chart,w=c.viewTheme,b=_.get("canvas"),M=c.plotRange,S=u.split("-"),E="right"===S[0]||"left"===S[0]?M.bl.y-M.tr.y:b.get("width");r.each(v,function(e){var i=e.text,a=e.value,u=t.invert(a),l={isInCircle:n.isInCircle()},h=!s||c._isFiltered(t,s,a),f=n.getAttr("color"),p=n.getAttr("shape");if(f)if(f.callback&&f.callback.length>1){var d=Array(f.callback.length-1).fill("");l.color=f.mapping.apply(f,[u].concat(d)).join("")||w.defaultColor}else l.color=f.mapping(u).join("")||w.defaultColor;if(y&&p)if(p.callback&&p.callback.length>1){var v=Array(p.callback.length-1).fill("");x=p.mapping.apply(p,[u].concat(v)).join("")}else x=p.mapping(u).join("");var _=o.getShapeFactory(m).getMarkerCfg(x,l);r.isFunction(x)&&(_.symbol=x),g.push({value:i,dataValue:u,checked:h,marker:_})});var C,k=r.deepMix({},w.legend[S[0]],h[l]||h,{viewId:_.get("_id"),maxLength:E,items:g,container:d,position:[0,0]});if(k.title&&r.deepMix(k,{title:{text:t.alias||t.field}}),c._isTailLegend(h,n))k.chart=c.chart,k.geom=n,C=new a(k);else if(h.useHtml){var P=d.get("canvas").get("el");if(d=h.container,r.isString(d)&&/^\#/.test(d)){var T=d.replace("#","");d=document.getElementById(T)}d||(d=P.parentNode),k.container=d,void 0===k.legendStyle&&(k.legendStyle={}),k.legendStyle.CONTAINER_CLASS={height:"right"===S[0]||"left"===S[0]?E+"px":"auto",width:"right"!==S[0]&&"left"!==S[0]?E+"px":"auto",position:"absolute",overflow:"auto","z-index":""===P.style.zIndex?1:parseInt(P.style.zIndex,10)+1},C=h.flipPage?new i.CatPageHtml(k):new i.CatHtml(k)}else C=new i.Category(k);return c._bindClickEvent(C,t,s),p[u].push(C),C},e._bindChartMove=function(t){var e=this.chart,n=this.legends;e.on("plotmove",function(e){var i=!1;if(e.target){var a=e.target.get("origin");if(a){var o=a[s]||a[0][s],u=t.field;if(o){var c=o[u];r.each(n,function(t){r.each(t,function(t){i=!0,!t.destroyed&&t.activate(c)})})}}}i||r.each(n,function(t){r.each(t,function(t){!t.destroyed&&t.unactivate()})})})},e._addContinuousLegend=function(t,e,n){var a=this.legends;a[n]=a[n]||[];var o,s,u,c=this.container,l=t.field,h=t.getTicks(),f=[],p=this.viewTheme;r.each(h,function(n){var r=n.value,i=t.invert(r),a=e.mapping(i).join("");f.push({value:n.tickValue,attrValue:a,color:a,scaleValue:r}),0===r&&(s=!0),1===r&&(u=!0)}),s||f.push({value:t.min,attrValue:e.mapping(0).join(""),color:e.mapping(0).join(""),scaleValue:0}),u||f.push({value:t.max,attrValue:e.mapping(1).join(""),color:e.mapping(1).join(""),scaleValue:1});var d=this.options,g=n.split("-"),v=p.legend[g[0]];(d&&!1===d.slidable||d[l]&&!1===d[l].slidable)&&(v=r.mix({},v,p.legend.gradient));var y=r.deepMix({},v,d[l]||d,{items:f,attr:e,formatter:t.formatter,container:c,position:[0,0]});return y.title&&r.deepMix(y,{title:{text:t.alias||t.field}}),"color"===e.type?o=new i.Color(y):"size"===e.type&&(o=d&&"circle"===d.sizeType?new i.CircleSize(y):new i.Size(y)),this._bindFilterEvent(o,t),a[n].push(o),o},e._isTailLegend=function(t,e){if(t.hasOwnProperty("attachLast")&&t.attachLast){var n=e.get("type");if("line"===n||"lineStack"===n||"area"===n||"areaStack"===n)return!0}return!1},e._adjustPosition=function(t,e){var n;if(e)n="right-top";else if(r.isArray(t))n=String(t[0])+"-"+String(t[1]);else{var i=t.split("-");1===i.length?("left"===i[0]&&(n="left-bottom"),"right"===i[0]&&(n="right-bottom"),"top"===i[0]&&(n="top-center"),"bottom"===i[0]&&(n="bottom-center")):n=t}return n},e.addLegend=function(t,e,n,r){var i=this,a=i.options,o=t.field,s=a[o],u=i.viewTheme;if(!1===s)return null;if(s&&s.custom)i.addCustomLegend(o);else{var c,l=a.position||u.defaultLegendPosition;l=i._adjustPosition(l,i._isTailLegend(a,n)),s&&s.position&&(l=i._adjustPosition(s.position,i._isTailLegend(s,n))),c=t.isLinear?i._addContinuousLegend(t,e,l):i._addCategoryLegend(t,e,n,r,l),i._bindHoverEvent(c,o),a.reactive&&i._bindChartMove(t)}},e.addCustomLegend=function(t){var e=this.chart,n=this.viewTheme,a=this.container,o=this.options;t&&(o=o[t]);var s=o.position||n.defaultLegendPosition;s=this._adjustPosition(s);var u=this.legends;u[s]=u[s]||[];var c=o.items;if(c){var l=e.getAllGeoms();r.each(c,function(t){var e,n,i,a=(e=l,n=t.value,r.each(e,function(t){t.get("visible")&&t.getYScale().field===n&&(i=t)}),i);r.isObject(t.marker)?t.marker.radius=t.marker.radius||4.5:t.marker={symbol:t.marker?t.marker:"circle",fill:t.fill,radius:4.5},t.checked=!!r.isNil(t.checked)||t.checked,t.geom=a});var h,f=e.get("canvas"),p=this.plotRange,d=s.split("-"),g="right"===d[0]||"left"===d[0]?p.bl.y-p.tr.y:f.get("width"),v=r.deepMix({},n.legend[d[0]],o,{maxLength:g,items:c,container:a,position:[0,0]});if(o.useHtml){var y=o.container;if(/^\#/.test(a)){var m=y.replace("#","");y=document.getElementById(m)}else y||(y=a.get("canvas").get("el").parentNode);v.container=y,void 0===v.legendStyle&&(v.legendStyle={}),v.legendStyle.CONTAINER_CLASS||(v.legendStyle.CONTAINER_CLASS={height:"right"===d[0]||"left"===d[0]?g+"px":"auto",width:"right"!==d[0]&&"left"!==d[0]?g+"px":"auto",position:"absolute",overflow:"auto"}),h=o.flipPage?new i.CatPageHtml(v):new i.CatHtml(v)}else h=new i.Category(v);return u[s].push(h),h.on("itemclick",function(t){o.onClick&&o.onClick(t)}),this._bindHoverEvent(h),h}},e.addMixedLegend=function(t,e){var n=[];r.each(t,function(t){var i=t.field;r.each(e,function(e){if(e.getYScale()===t&&t.values&&t.values.length>0){var r=e.get("shapeType")||"point",a=e.getDefaultValue("shape")||"circle",s=o.getShapeFactory(r),u={color:e.getDefaultValue("color")},c=s.getMarkerCfg(a,u),l={value:i,marker:c};n.push(l)}})});var i={custom:!0,items:n};this.options=r.deepMix({},i,this.options);var a=this.addCustomLegend();this._bindClickEventForMix(a)},e.alignLegends=function(){var t=this,e=t.legends,n=t._getRegion(e);t.totalRegion=n;var i=0;return r.each(e,function(e,a){var o=n.subs[i];r.each(e,function(n,r){var i=e[r-1];n.get("useHtml")&&!n.get("autoPosition")||t._alignLegend(n,i,o,a)}),i++}),this},t}();t.exports=c},function(t,e,n){var r=n(500),i=n(541),a=n(512),o=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return r.mix({},e,{type:"tail-legend",layout:"vertical",autoLayout:!0})},o._addItem=function(t){var e=this.get("itemsGroup"),n=this._getNextX(),i=this.get("unCheckColor"),a=e.addGroup({x:0,y:0,value:t.value,scaleValue:t.scaleValue,checked:t.checked});a.translate(n,0),a.set("viewId",e.get("viewId"));var o=this.get("textStyle"),s=this.get("_wordSpaceing"),u=0;if(t.marker){var c=r.mix({},t.marker,{x:t.marker.radius,y:0});t.checked||(c.fill&&(c.fill=i),c.stroke&&(c.stroke=i));var l=a.addShape("marker",{type:"marker",attrs:c});l.attr("cursor","pointer"),l.name="legend-marker",u+=l.getBBox().width+s}var h=r.mix({},o,{x:u,y:0,text:this._formatItemValue(t.value)});t.checked||r.mix(h,{fill:i});var f=a.addShape("text",{attrs:h});f.attr("cursor","pointer"),f.name="legend-text",this.get("appendInfo")&&f.setSilent("appendInfo",this.get("appendInfo"));var p=a.getBBox(),d=this.get("itemWidth"),g=a.addShape("rect",{attrs:{x:n,y:0-p.height/2,fill:"#fff",fillOpacity:0,width:d||p.width,height:p.height}});return g.attr("cursor","pointer"),g.setSilent("origin",t),g.name="legend-item",this.get("appendInfo")&&g.setSilent("appendInfo",this.get("appendInfo")),a.name="legendGroup",a},o._adjust=function(){if(this.get("geom")){var t=this.get("geom").get("dataArray"),e=this.get("itemsGroup").get("children"),n=0;r.each(e,function(e){var i=t[n],a=i[i.length-1].y;r.isArray(a)&&(a=a[1]);var o=e.getBBox().height,s=e.get("x"),u=a-o/2;e.translate(s,u),n++}),this.get("autoLayout")&&this._antiCollision(e)}},o.render=function(){var e=this;t.prototype.render.call(this),this.get("chart").once("afterpaint",function(){e._adjust()})},o._getPreviousY=function(t){return t.attr("matrix")[7]+t.getBBox().height},o._adjustDenote=function(t,e,n){var r=2*-a.legend.legendMargin;t.addShape("path",{attrs:{path:"M-2,"+e+"L"+r+","+(n+3),lineWidth:1,lineDash:[2,2],stroke:"#999999"}})},o._antiCollision=function(t){var e=this;t.sort(function(t,e){return t.attr("matrix")[7]-e.attr("matrix")[7]});var n=!0,r=e.get("chart").get("plotRange"),i=r.tl.y,a=Math.abs(i-r.bl.y),o=t[0].getBBox().height,s=Number.MIN_VALUE,u=0,c=t.map(function(t){var e=t.attr("matrix")[7];return e>u&&(u=e),e<s&&(s=e),{size:t.getBBox().height,targets:[e-i]}});s-=i;for(var l=0;n;){for(var h=0;h<c.length;h++){var f=c[h],p=(Math.min.apply(s,f.targets)+Math.max.apply(s,f.targets))/2;f.pos=Math.min(Math.max(s,p-f.size/2),a-f.size)}for(n=!1,l=c.length;l--;)if(l>0){var d=c[l-1],g=c[l];d.pos+d.size>g.pos&&(d.size+=g.size,d.targets=d.targets.concat(g.targets),c.splice(l,1),n=!0)}}l=0;var v=this.get("itemsGroup").addGroup();c.forEach(function(n){var r=i+o;n.targets.forEach(function(){var i=t[l].attr("matrix")[7],a=n.pos+r-o/2;Math.abs(i-a)>o/2&&e._adjustDenote(v,a,i-e.get("group").attr("matrix")[7]/2),t[l].translate(0,-i),t[l].translate(0,a),r+=o,l++})})},i}(i.Legend.Category);t.exports=o},function(t,e,n){var r=n(500),i=n(519),a=n(541).Tooltip,o=r.MatrixUtil.vec2,s=["line","area","path","areaStack"],u=["line","area"],c=["marker","showMarker"];function l(t,e){if(!t)return!1;return!!t.className&&-1!==(r.isNil(t.className.baseVal)?t.className:t.className.baseVal).indexOf(e)}function h(t){var e=[];return r.each(t,function(t){var n,i,a,o=(n=e,i=t,a=-1,r.each(n,function(t,e){var n=!0;for(var o in i)if(i.hasOwnProperty(o)&&-1===c.indexOf(o)&&!r.isObject(i[o])&&i[o]!==t[o]){n=!1;break}if(n)return a=e,!1}),a);-1===o?e.push(t):e[o]=t}),e}var f=function(){function t(t){r.assign(this,t),this.timeStamp=0}var e=t.prototype;return e._normalizeEvent=function(t){var e=this.chart,n=this._getCanvas(),r=n.getPointByClient(t.clientX,t.clientY),i=n.get("pixelRatio");r.x=r.x/i,r.y=r.y/i;var a=e.getViewsByPoint(r);return r.views=a,r},e._getCanvas=function(){return this.chart.get("canvas")},e._getTriggerEvent=function(){var t,e=this.options.triggerOn;return e&&"mousemove"!==e?"click"===e?t="plotclick":"none"===e&&(t=null):t="plotmove",t},e._getDefaultTooltipCfg=function(){var t=this.chart,e=this.viewTheme,n=this.options,i=r.mix({},e.tooltip),a=t.getAllGeoms().filter(function(t){return t.get("visible")}),o=[];r.each(a,function(t){var e=t.get("type"),n=t.get("adjusts"),i=!1;n&&r.each(n,function(t){if("symmetric"===t.type||"Symmetric"===t.type)return i=!0,!1}),-1!==r.indexOf(o,e)||i||o.push(e)});var s,c=!(!a.length||!a[0].get("coord"))&&a[0].get("coord").isTransposed;if(a.length&&a[0].get("coord")&&"cartesian"===a[0].get("coord").type&&1===o.length)if("interval"===o[0]&&!1!==n.shared){var l=r.mix({},e.tooltipCrosshairsRect);l.isTransposed=c,s={zIndex:0,crosshairs:l}}else if(r.indexOf(u,o[0])>-1){var h=r.mix({},e.tooltipCrosshairsLine);h.isTransposed=c,s={crosshairs:h}}return r.mix(i,s,{})},e._bindEvent=function(){var t=this.chart,e=this._getTriggerEvent();e&&(t.on(e,r.wrapBehavior(this,"onMouseMove")),t.on("plotleave",r.wrapBehavior(this,"onMouseOut")))},e._offEvent=function(){var t=this.chart,e=this._getTriggerEvent();e&&(t.off(e,r.getWrapBehavior(this,"onMouseMove")),t.off("plotleave",r.getWrapBehavior(this,"onMouseOut")))},e._setTooltip=function(t,e,n,i){var a=this.tooltip,o=this.prePoint;if(!o||o.x!==t.x||o.y!==t.y){e=h(e),this.prePoint=t;var s=this.chart,u=this.viewTheme,c=r.isArray(t.x)?t.x[t.x.length-1]:t.x,l=r.isArray(t.y)?t.y[t.y.length-1]:t.y;a.get("visible")||s.emit("tooltip:show",{x:c,y:l,tooltip:a});var f=e[0],p=f.title||f.name;a.isContentChange(p,e)&&(s.emit("tooltip:change",{tooltip:a,x:c,y:l,items:e}),p=e[0].title||e[0].name,a.setContent(p,e),r.isEmpty(n)?a.clearMarkers():!0===this.options.hideMarkers?a.set("markerItems",n):a.setMarkers(n,u.tooltipMarker)),i===this._getCanvas()&&"mini"===a.get("type")?a.hide():(a.setPosition(c,l,i),a.show())}},e.hideTooltip=function(){var t=this.tooltip,e=this.chart,n=this._getCanvas();this.prePoint=null,t.hide(),e.emit("tooltip:hide",{tooltip:t}),n.draw()},e.onMouseMove=function(t){if(!r.isEmpty(t.views)){var e=this.timeStamp,n=+new Date,i={x:t.x,y:t.y};n-e>16&&!this.chart.get("stopTooltip")&&(this.showTooltip(i,t.views,t.shape),this.timeStamp=n)}},e.onMouseOut=function(t){var e=this.tooltip;e.get("visible")&&e.get("follow")&&(t&&t.toElement&&(l(t.toElement,"g2-tooltip")||function(t,e){for(var n=t.parentNode,r=!1;n&&n!==document.body;){if(l(n,e)){r=!0;break}n=n.parentNode}return r}(t.toElement,"g2-tooltip"))||this.hideTooltip())},e.renderTooltip=function(){var t=this;if(!t.tooltip){var e,n=t.chart,i=t.viewTheme,o=t._getCanvas(),s=t._getDefaultTooltipCfg(),u=t.options;(u=r.deepMix({plotRange:n.get("plotRange"),capture:!1,canvas:o,frontPlot:n.get("frontPlot"),viewTheme:i.tooltip,backPlot:n.get("backPlot")},s,u)).crosshairs&&"rect"===u.crosshairs.type&&(u.zIndex=0),u.visible=!1,"mini"===u.type?(u.crosshairs=!1,u.position="top",e=new a.Mini(u)):e=u.useHtml?new a.Html(u):new a.Canvas(u),t.tooltip=e;var c=t._getTriggerEvent();if(!e.get("enterable")&&"plotmove"===c){var l=e.get("container");l&&(l.onmousemove=function(e){var r=t._normalizeEvent(e);n.emit(c,r)})}t._bindEvent()}},e.showTooltip=function(t,e,n){var i=this;if(!r.isEmpty(e)&&t){this.tooltip||this.renderTooltip();var a=i.options,u=[],c=[];if(r.each(e,function(e){if(!e.get("tooltipEnable"))return!0;var o=e.get("geoms"),l=e.get("coord");r.each(o,function(e){var o=e.get("type");if(e.get("visible")&&!1!==e.get("tooltipCfg")){var h=e.get("dataArray");if(e.isShareTooltip()||!1===a.shared&&r.inArray(["area","line","path"],o))r.each(h,function(n){var h=e.findPoint(t,n);if(h){var f=e.getTipItems(h,a.title);r.each(f,function(t){var n=t.point;if(n&&n.x&&n.y){var a=r.isArray(n.x)?n.x[n.x.length-1]:n.x,c=r.isArray(n.y)?n.y[n.y.length-1]:n.y;n=l.applyMatrix(a,c,1),t.x=n[0],t.y=n[1],t.showMarker=!0;var h=i._getItemMarker(e,t.color);t.marker=h,-1!==r.indexOf(s,o)&&u.push(t)}}),c=c.concat(f)}});else{var f=e.get("shapeContainer");n&&n.get("visible")&&n.get("origin")&&n.get("parent")===f&&(c=e.getTipItems(n.get("origin"),a.title))}}}),r.each(c,function(t){var e=t.point,n=r.isArray(e.x)?e.x[e.x.length-1]:e.x,i=r.isArray(e.y)?e.y[e.y.length-1]:e.y;e=l.applyMatrix(n,i,1),t.x=e[0],t.y=e[1]})}),c.length){var l=c[0];if(!c.every(function(t){return t.title===l.title})){var h=l,f=1/0;c.forEach(function(e){var n=o.distance([t.x,t.y],[e.x,e.y]);n<f&&(f=n,h=e)}),c=c.filter(function(t){return t.title===h.title}),u=u.filter(function(t){return t.title===h.title})}if(!1===a.shared&&c.length>1){var p=c[0],d=Math.abs(t.y-p.y);r.each(c,function(e){Math.abs(t.y-e.y)<=d&&(p=e,d=Math.abs(t.y-e.y))}),p&&p.x&&p.y&&(u=[p]),c=[p]}i._setTooltip(t,c,u,n)}else i.hideTooltip()}},e.clear=function(){var t=this.tooltip;t&&t.destroy(),this.tooltip=null,this.prePoint=null,this._offEvent()},e._getItemMarker=function(t,e){var n=t.get("shapeType")||"point",r=t.getDefaultValue("shape")||"circle",a={color:e};return i.getShapeFactory(n).getMarkerCfg(r,a)},t}();t.exports=f},function(t,e,n){var r=n(500);function i(t,e){if(r.isNil(t)||r.isNil(e))return!1;var n=t.get("origin"),i=e.get("origin");return r.isNil(n)&&r.isNil(i)?r.isEqual(t,e):r.isEqual(n,i)}function a(t){t.shape&&t.shape.get("origin")&&(t.data=t.shape.get("origin"))}var o=function(){function t(t){this.view=null,this.canvas=null,r.assign(this,t),this._init()}var e=t.prototype;return e._init=function(){this.pixelRatio=this.canvas.get("pixelRatio")},e._getShapeEventObj=function(t){return{x:t.x/this.pixelRatio,y:t.y/this.pixelRatio,target:t.target,toElement:t.event.toElement||t.event.relatedTarget}},e._getShape=function(t,e){return this.view.get("canvas").getShape(t,e)},e._getPointInfo=function(t){var e=this.view,n={x:t.x/this.pixelRatio,y:t.y/this.pixelRatio},r=e.getViewsByPoint(n);return n.views=r,n},e._getEventObj=function(t,e,n){return{x:e.x,y:e.y,target:t.target,toElement:t.event.toElement||t.event.relatedTarget,views:n}},e.bindEvents=function(){var t=this.canvas;t.on("mousedown",r.wrapBehavior(this,"onDown")),t.on("mousemove",r.wrapBehavior(this,"onMove")),t.on("mouseleave",r.wrapBehavior(this,"onOut")),t.on("mouseup",r.wrapBehavior(this,"onUp")),t.on("click",r.wrapBehavior(this,"onClick")),t.on("dblclick",r.wrapBehavior(this,"onClick")),t.on("touchstart",r.wrapBehavior(this,"onTouchstart")),t.on("touchmove",r.wrapBehavior(this,"onTouchmove")),t.on("touchend",r.wrapBehavior(this,"onTouchend"))},e._triggerShapeEvent=function(t,e,n){if(t&&t.name&&!t.get("destroyed")){var r=this.view;if(r.isShapeInView(t)){var i=t.name+":"+e;n.view=r,n.appendInfo=t.get("appendInfo"),r.emit(i,n);var a=r.get("parent");a&&a.emit(i,n)}}},e.onDown=function(t){var e=this.view,n=this._getShapeEventObj(t);n.shape=this.currentShape,a(n),e.emit("mousedown",n),this._triggerShapeEvent(this.currentShape,"mousedown",n)},e.onMove=function(t){var e=this,n=e.view,r=e.currentShape;r&&r.get("destroyed")&&(r=null,e.currentShape=null);var o=e._getShape(t.x,t.y)||t.currentTarget,s=e._getShapeEventObj(t);if(s.shape=o,a(s),n.emit("mousemove",s),e._triggerShapeEvent(o,"mousemove",s),r&&!i(r,o)){var u=e._getShapeEventObj(t);u.shape=r,u.toShape=o,a(u),e._triggerShapeEvent(r,"mouseleave",u)}if(o&&!i(r,o)){var c=e._getShapeEventObj(t);c.shape=o,c.fromShape=r,a(c),e._triggerShapeEvent(o,"mouseenter",c)}e.currentShape=o;var l=e._getPointInfo(t),h=e.curViews||[];0===h.length&&l.views.length&&n.emit("plotenter",e._getEventObj(t,l,l.views)),h.length&&0===l.views.length&&n.emit("plotleave",e._getEventObj(t,l,h)),l.views.length&&((s=e._getEventObj(t,l,l.views)).shape=o,a(s),n.emit("plotmove",s)),e.curViews=l.views},e.onOut=function(t){var e=this.view,n=this._getPointInfo(t),r=this.curViews||[],i=this._getEventObj(t,n,r);!this.curViews||0===this.curViews.length||i.toElement&&"CANVAS"===i.toElement.tagName||(e.emit("plotleave",i),this.curViews=[])},e.onUp=function(t){var e=this.view,n=this._getShapeEventObj(t);n.shape=this.currentShape,e.emit("mouseup",n),this._triggerShapeEvent(this.currentShape,"mouseup",n)},e.onClick=function(t){var e=this.view,n=this._getShape(t.x,t.y)||t.currentTarget,i=this._getShapeEventObj(t);i.shape=n,a(i),e.emit("click",i),this._triggerShapeEvent(n,t.type,i),this.currentShape=n;var o=this._getPointInfo(t),s=o.views;if(!r.isEmpty(s)){var u=this._getEventObj(t,o,s);if(this.currentShape){var c=this.currentShape;u.shape=c,a(u)}e.emit("plotclick",u),"dblclick"===t.type&&(e.emit("plotdblclick",u),e.emit("dblclick",i))}},e.onTouchstart=function(t){var e=this.view,n=this._getShape(t.x,t.y)||t.currentTarget,r=this._getShapeEventObj(t);r.shape=n,a(r),e.emit("touchstart",r),this._triggerShapeEvent(n,"touchstart",r),this.currentShape=n},e.onTouchmove=function(t){var e=this.view,n=this._getShape(t.x,t.y)||t.currentTarget,r=this._getShapeEventObj(t);r.shape=n,a(r),e.emit("touchmove",r),this._triggerShapeEvent(n,"touchmove",r),this.currentShape=n},e.onTouchend=function(t){var e=this.view,n=this._getShapeEventObj(t);n.shape=this.currentShape,a(n),e.emit("touchend",n),this._triggerShapeEvent(this.currentShape,"touchend",n)},e.clearEvents=function(){var t=this.canvas;t.off("mousemove",r.getWrapBehavior(this,"onMove")),t.off("mouseleave",r.getWrapBehavior(this,"onOut")),t.off("mousedown",r.getWrapBehavior(this,"onDown")),t.off("mouseup",r.getWrapBehavior(this,"onUp")),t.off("click",r.getWrapBehavior(this,"onClick")),t.off("dblclick",r.getWrapBehavior(this,"onClick")),t.off("touchstart",r.getWrapBehavior(this,"onTouchstart")),t.off("touchmove",r.getWrapBehavior(this,"onTouchmove")),t.off("touchend",r.getWrapBehavior(this,"onTouchend"))},t}();t.exports=o},function(t,e,n){var r=n(500),i=n(690),a=r.MatrixUtil.mat3;function o(t,e){var n=[];if(!1===t.get("animate"))return[];var i=t.get("children");return r.each(i,function(t){if(t.isGroup)n=n.concat(o(t,e));else if(t.isShape&&t._id){var r=t._id;(r=r.split("-")[0])===e&&n.push(t)}}),n}function s(t,e,n,r){return r?i.Action[n][r]:i.getAnimation(t,e,n)}function u(t,e,n){var a=i.getAnimateCfg(t,e);return n&&n[e]?r.deepMix({},a,n[e]):a}function c(t,e,n,i){var o,c,l=!1;if(i){var h=[],f=[];r.each(e,function(e){var n=t[e._id];n?(e.setSilent("cacheShape",n),h.push(e),delete t[e._id]):f.push(e)}),r.each(t,function(t){var e=t.name,i=t.coord,h=t._id,f=t.attrs,p=t.index,d=t.type;if(c=u(e,"leave",t.animateCfg),o=s(e,i,"leave",c.animation),r.isFunction(o)){var g=n.addShape(d,{attrs:f,index:p});if(g._id=h,g.name=e,i&&"label"!==e){var v=g.getMatrix(),y=a.multiply([],v,i.matrix);g.setMatrix(y)}l=!0,o(g,c,i)}}),r.each(h,function(t){var e=t.name,n=t.get("coord"),i=t.get("cacheShape").attrs;if(!r.isEqual(i,t.attr())){if(c=u(e,"update",t.get("animateCfg")),o=s(e,n,"update",c.animation),r.isFunction(o))o(t,c,n);else{var a=r.cloneDeep(t.attr());t.attr(i),t.animate(a,c.duration,c.easing,function(){t.setSilent("cacheShape",null)})}l=!0}}),r.each(f,function(t){var e=t.name,n=t.get("coord");c=u(e,"enter",t.get("animateCfg")),o=s(e,n,"enter",c.animation),r.isFunction(o)&&(o(t,c,n),l=!0)})}else r.each(e,function(t){var e=t.name,n=t.get("coord");c=u(e,"appear",t.get("animateCfg")),o=s(e,n,"appear",c.animation),r.isFunction(o)&&(o(t,c,n),l=!0)});return l}t.exports={execAnimation:function(t,e){var n=t.get("middlePlot"),i=t.get("backPlot"),a=t.get("_id"),s=t.get("canvas"),u=s.get(a+"caches")||[];0===u.length&&(e=!1);var l,h,f=o(n,a),p=o(i,a),d=f.concat(p);s.setSilent(a+"caches",(l=d,h={},r.each(l,function(t){if(t._id&&!t.isClip){var e=t._id;h[e]={_id:e,type:t.get("type"),attrs:r.cloneDeep(t.attr()),name:t.name,index:t.get("index"),animateCfg:t.get("animateCfg"),coord:t.get("coord")}}}),h)),c(u,e?d:f,s,e)||s.draw()}}},function(t,e,n){var r=n(500),i=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getDefaultCfg=function(){return{type:"plotBack",padding:null,background:null,plotRange:null,plotBackground:null}},a._beforeRenderUI=function(){this._calculateRange()},a._renderUI=function(){this._renderBackground(),this._renderPlotBackground()},a._renderBackground=function(){var t=this.get("background");if(t){var e=this.get("canvas"),n={x:0,y:0,width:this.get("width")||e.get("width"),height:this.get("height")||e.get("height")},i=this.get("backgroundShape");i?i.attr(n):(i=this.addShape("rect",{attrs:r.mix(n,t)}),this.set("backgroundShape",i))}},a._renderPlotBackground=function(){var t=this.get("plotBackground");if(t){var e=this.get("plotRange"),n=e.br.x-e.bl.x,i=e.br.y-e.tr.y,a=e.tl,o={x:a.x,y:a.y,width:n,height:i},s=this.get("plotBackShape");s?s.attr(o):(t.image?(o.img=t.image,s=this.addShape("image",{attrs:o})):(r.mix(o,t),s=this.addShape("rect",{attrs:o})),this.set("plotBackShape",s))}},a._convert=function(t,e){if(r.isString(t))if("auto"===t)t=0;else if(-1!==t.indexOf("%")){var n=this.get("canvas"),i=this.get("width")||n.get("width"),a=this.get("height")||n.get("height");t=parseInt(t,10)/100,t=e?t*i:t*a}return t},a._calculateRange=function(){var t=this.get("plotRange");r.isNil(t)&&(t={});var e=this.get("padding"),n=this.get("canvas"),i=this.get("width")||n.get("width"),a=this.get("height")||n.get("height"),o=r.toAllPadding(e),s=this._convert(o[0],!1),u=this._convert(o[1],!0),c=this._convert(o[2],!1),l=this._convert(o[3],!0),h=Math.min(l,i-u),f=Math.max(l,i-u),p=Math.min(a-c,s),d=Math.max(a-c,s);t.tl={x:h,y:p},t.tr={x:f,y:p},t.bl={x:h,y:d},t.br={x:f,y:d},t.cc={x:(f+h)/2,y:(d+p)/2},this.set("plotRange",t)},a.repaint=function(){return this._calculateRange(),this._renderBackground(),this._renderPlotBackground(),this},i}(n(536).Group);t.exports=i},function(t,e,n){var r=n(500),i=n(512);setTimeout(function(){if(i.trackable){var t=new Image,e=r.mix({},i.trackingInfo,{pg:document.URL,r:(new Date).getTime(),g2:!0,version:i.version,page_type:"syslog"}),n=encodeURIComponent(JSON.stringify([e]));t.src="https://kcart.alipay.com/web/bi.do?BIProfile=merge&d="+n}},3e3)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Facet=e.Label=e.Guide=e.View=e.Geom=e.Tooltip=e.Legend=e.Axis=e.Coord=e.Chart=void 0;var r=p(n(985)),i=p(n(994)),a=p(n(995)),o=p(n(996)),s=p(n(997)),u=p(n(998)),c=p(n(1020)),l=p(n(1021)),h=p(n(1022)),f=p(n(1023));function p(t){return t&&t.__esModule?t:{default:t}}e.Chart=r.default,e.Coord=i.default,e.Axis=a.default,e.Legend=o.default,e.Tooltip=s.default,e.Geom=u.default,e.View=c.default,e.Guide=l.default,e.Label=h.default,e.Facet=f.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=c(n(0)),o=(c(n(554)),c(n(986))),s=c(n(992)),u=(c(n(1)),c(n(993)));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function p(t){var e=!0;return null!=t&&0!==t.length||(e=!1),!!e}var d=function(t){function e(){var t,n,r;l(this,e);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=h(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),r._refCallback=function(t){t&&(r.chart=t.getG2Instance())},r.hasViewSource=function(){var t=!1;return a.default.Children.map(r.props.children,function(e){!t&&"function"==typeof e.type&&"View"===e.type.name&&e.props.data&&p(e.props.data)&&(t=!0)}),t},h(r,n)}return f(e,a.default.PureComponent||a.default.Component),i(e,[{key:"getG2Instance",value:function(){return this.chart}},{key:"render",value:function(){var t=this.props,e=t.data,n=t.width,i=t.height,u=t.placeholder,c=t.className,l=t.style;return a.default.createElement("div",{className:c,style:l},p(e)||this.hasViewSource()||!u?a.default.createElement(o.default,r({ref:this._refCallback},this.props)):a.default.createElement(s.default,{width:n,height:i,placeholder:!0===u?void 0:u}))}}]),e}(),g=function(t){function e(){return l(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,a.default.Component),i(e,[{key:"render",value:function(){return a.default.createElement(u.default,null,a.default.createElement(d,this.props))}}]),e}();e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(0),o=c(a),s=c(n(1)),u=c(n(987));function c(t){return t&&t.__esModule?t:{default:t}}var l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return h.call(n),n.name="Chart",n.gId=0,n.id=n.createId(),n.g2Processor=new u.default,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.Component),i(e,[{key:"getChildContext",value:function(){return{addElement:this.addElement,updateElement:this.updateElement,deleteElement:this.deleteElement,createId:this.createId,getParentInfo:this.getParentInfo,getViewId:this.getViewId}}},{key:"componentDidMount",value:function(){this.addElement(this.name,this.id,r({},this.props,{container:this.containerWrap})),this.chart=this.g2Processor.createG2Instance(),this.notifyG2Instance()}},{key:"componentDidUpdate",value:function(){this.updateElement(this.name,this.id,r({},this.props,{container:this.containerWrap}));var t=this.g2Processor.batchedUpdate();this.chart!==t&&(this.chart=t,this.notifyG2Instance())}},{key:"componentWillUnmount",value:function(){this.g2Processor.destory(),this.chart=null,this.containerWrap=null}},{key:"getG2Instance",value:function(){return this.chart}},{key:"notifyG2Instance",value:function(){this.props.onGetG2Instance&&this.props.onGetG2Instance(this.chart)}},{key:"render",value:function(){return o.default.createElement("div",{ref:this.refHandle},this.props.children)}}]),e}();l.propTypes={data:s.default.oneOfType([s.default.arrayOf(s.default.object),s.default.object]),scale:s.default.oneOfType([s.default.object,s.default.array]),animate:s.default.bool,width:s.default.number,height:s.default.number.isRequired,onGetG2Instance:s.default.func},l.childContextTypes={addElement:s.default.func,updateElement:s.default.func,deleteElement:s.default.func,createId:s.default.func,getParentInfo:s.default.func,getViewId:s.default.func};var h=function(){var t=this;this.getViewId=function(){},this.getParentInfo=function(){return{id:t.id,name:t.name}},this.createId=function(){return t.gId+=1,t.gId},this.addElement=function(e,n,r,i,a){return t.g2Processor.addElement(e,n,r,i,a)},this.updateElement=function(e,n,r,i,a){t.g2Processor.updateElement(e,n,r,i,a)},this.deleteElement=function(e,n,r){t.g2Processor.deleteElement(e,n,r)},this.refHandle=function(e){t.containerWrap||(t.containerWrap=e)}};e.default=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=h(n(988)),o=h(n(618)),s=h(n(989)),u=h(n(991)),c=h(n(730)),l=n(619);function h(t){return t&&t.__esModule?t:{default:t}}function f(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config={},this.elementInfos={},this.added=!1,this.initedG2=!1,this.updated=!1,this.deleted=!1,this.deleteInfos={}}return i(t,[{key:"calUpdateFlag",value:function(t,e){var n=this.elementInfos[e].props,r=(n.children,f(n,["children"])),i=this.elementInfos[e].updateProps,a=(i.children,f(i,["children"]));if("Chart"===t||"View"===t){var o=r.data,s=f(r,["data"]),u=a.data,c=f(a,["data"]);o===u&&l.Util.isEqual(s,c)||(this.updated=!0)}else l.Util.isEqual(r,a)||(this.updated=!0)}},{key:"addElement",value:function(t,e,n,i,o){!this.chart&&this.initedG2||(this.added=!0,this.elementInfos[e]={id:e,viewId:o,parentInfo:i,name:t,props:r({},n)},i&&!this.elementInfos[i.id]&&(this.elementInfos[i.id]={id:i.id,name:i.name}),a.default.addElement(t,this.config,this.elementInfos[e]))}},{key:"updateElement",value:function(t,e,n){this.elementInfos[e].updateProps=r({},n),this.calUpdateFlag(t,e)}},{key:"deleteElement",value:function(t,e){this.chart&&(this.deleteInfos[e]=e,this.deleted=!0)}},{key:"createG2Instance",value:function(){var t=this.config,e=c.default.createChart(t,this.elementInfos);return c.default.executeChartConfig(e,t,this.elementInfos),c.default.synchronizeG2Add(e,t,this.elementInfos),e.render(),this.chart=e,this.initedG2=!0,this.resetStates(),e}},{key:"destory",value:function(){this.chart.destroy(),this.chart=null}},{key:"resetStates",value:function(){var t=this.elementInfos;for(var e in t)t[e].updateProps&&delete t[e].updateProps,this.deleteInfos[e]&&delete t[e];this.added=!1,this.updated=!1,this.deleteInfos={}}},{key:"reExecuteChart",value:function(){return this.chart.clear(),o.default.merge(this.config,this.deleteInfos,this.elementInfos,!0),c.default.executeChartConfig(this.chart,this.config,this.elementInfos),c.default.synchronizeG2Add(this.chart,this.config,this.elementInfos),this.chart.repaint(),this.resetStates(),this.chart}},{key:"batchedUpdate",value:function(){return null==this.chart?null:this.config.chart.props.forceUpdate||s.default.needRebuildChart(this.config)?(o.default.merge(this.config,this.deleteInfos,this.elementInfos,!0),this.chart.destroy(),this.chart="destroy",this.createG2Instance()):u.default.needReExecute(this.deleteInfos,this.elementInfos)||s.default.needReExecute(this.config)?(this.reExecuteChart(),this.chart):(this.deleted&&(u.default.synchronizeG2Delete(this.chart,this.config,this.deleteInfos,this.elementInfos),o.default.mergeDelete(this.config,this.deleteInfos,this.elementInfos)),this.added&&c.default.synchronizeG2Add(this.chart,this.config),this.updated&&s.default.synchronizeG2Update(this.chart,this.config),(this.added||this.deleted||this.updated)&&this.chart.repaint(),o.default.mergeUpdate(this.config,!1),this.resetStates(),this.chart)}}]),t}();e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={Chart:"addChart",Coord:"addCoord",Geom:"addGeom",Axis:"addAxis",Tooltip:"addTooltip",Legend:"addLegend",Label:"addLabel",View:"addView",Guide:"addGuide",GuideLine:"addGuideLine",GuideImage:"addGuideImage",GuideText:"addGuideText",GuideRegion:"addGuideRegion",GuideHtml:"addGuideHtml",GuideArc:"addGuideArc",GuideRegionFilter:"addGuideRegionFilter",GuideDataMarker:"addGuideDataMarker",GuideDataRegion:"addGuideDataRegion",Facet:"addFacet"},i={addElement:function(t,e,n){this[r[t]](e,n,n.id,n.viewId,n.parentInfo)},getConfigContainer:function(t,e){return e&&(t.views||(t.views={}),(t=t.views[e])||((t={}).views[e]=t)),t},addUniqueElement:function(t,e,n,r,i){var a=this.getConfigContainer(t,i);return a[e],a[e]=n,r},addChart:function(t,e,n){return this.addUniqueElement(t,"chart",e,n,null)},addView:function(t,e,n){return t.views||(t.views={}),t.views[n]=e,n},addAxis:function(t,e,n,r){var i=this.getConfigContainer(t,r);return i.axises||(i.axises={}),i.axises[n]=e,n},addCoord:function(t,e,n,r){return this.addUniqueElement(t,"coord",e,n,r)},addGeom:function(t,e,n,r,i){var a=this.getConfigContainer(t,r);return a.geoms||(a.geoms={}),a.geoms[n]?i?a.geoms[n].label=e.label:(a.geoms[n].label||console.log("geom label error"),e.label=a.geoms[n].label,a.geoms[n]=e):a.geoms[n]=e,n},addLabel:function(t,e,n,r,i){var a=this.getConfigContainer(t,r);return a.geoms||(a.geoms={}),this.addGeom(t,{label:e},i.id,r,!0),n},addTooltip:function(t,e,n,r){return this.addUniqueElement(t,"tooltip",e,n,r)},addFacet:function(t,e,n,r){return this.addUniqueElement(t,"facet",e,n,r)},addLegend:function(t,e,n,r){var i=this.getConfigContainer(t,r);return i.legends||(i.legends={}),i.legends[n]=e,n},addGuide:function(t,e,n,r){return this.addUniqueElement(t,"guide",e,n,r)},addTypedGuide:function(t,e,n,r,i,a){var o=this.getConfigContainer(t,i),s=o.guide;return s||(this.addUniqueElement("guide",{},a.id,i),s=o.guide),s.elements||(s.elements={}),n.type=e,s.elements[r]=n,r},addGuideLine:function(t,e,n,r,i){this.addTypedGuide(t,"line",e,n,r,i)},addGuideImage:function(t,e,n,r,i){this.addTypedGuide(t,"image",e,n,r,i)},addGuideText:function(t,e,n,r,i){this.addTypedGuide(t,"text",e,n,r,i)},addGuideRegion:function(t,e,n,r,i){this.addTypedGuide(t,"region",e,n,r,i)},addGuideHtml:function(t,e,n,r,i){this.addTypedGuide(t,"html",e,n,r,i)},addGuideArc:function(t,e,n,r,i){this.addTypedGuide(t,"arc",e,n,r,i)},addGuideRegionFilter:function(t,e,n,r,i){this.addTypedGuide(t,"regionFilter",e,n,r,i)},addGuideDataMarker:function(t,e,n,r,i){this.addTypedGuide(t,"dataMarker",e,n,r,i)},addGuideDataRegion:function(t,e,n,r,i){this.addTypedGuide(t,"dataRegion",e,n,r,i)}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=l(n(27)),a=n(619),o=l(n(729)),s=l(n(730)),u=l(n(618)),c=l(n(731));function l(t){return t&&t.__esModule?t:{default:t}}function h(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function f(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var p=o.default.COORD_FUNC_PROPS,d=o.default.GEOM_FUNC_PROPS,g={needRebuildChart:function(t){if(null==t.chart.props||null==t.chart.updateProps)return!1;var e=t.chart.props,n=t.chart.updateProps;return!(a.Util.shallowEqual(e.padding,n.padding)&&a.Util.shallowEqual(e.background,n.background)&&a.Util.shallowEqual(e.plotBackground,n.plotBackground)&&a.Util.shallowEqual(e.pixelRatio,n.pixelRatio)&&a.Util.shallowEqual(e.theme,n.theme))},needReExecute:function(t){var e=t.geoms;if(null==e)return!1;for(var n in e)if(e[n].props&&e[n].updateProps&&(e[n].props.type!==e[n].updateProps.type||e[n].props.color&&!e[n].updateProps.color||e[n].props.size&&!e[n].updateProps.size||e[n].props.shape&&!e[n].updateProps.shape))return!0;return!1},synchronizeG2Update:function(t,e){this.updateChart(t,e.chart),this.updateAxises(t,e.axises),this.updateTooltip(t,e),this.updateCoord(t,e),this.updateLegends(t,e.legends),this.updateGeoms(t,e.geoms),this.updateGuide(t,e.guide),this.updateFacet(t,e),this.updateViews(t,e)},updateChart:function(t,e){if(e){var n=e.props,r=e.updateProps,i=n.width,o=n.height,s=n.animate,u=n.data,l=n.scale,h=r.width,f=r.height,p=r.animate,d=r.data,g=r.scale;u!==d&&t.changeData(d),a.Util.shallowEqual(l,g)||(a.Util.isArray(g)?t.scale(g[0],g[1]):t.scale(g)),s!==p&&t.animate(p),i!==h&&o!==f?t.changeSize(h,f):i!==h?t.changeWidth(h):o!==f&&t.changeHeight(f),c.default.updateEvents(t,c.default.chartEvents,e.props,r),c.default.updateBaseEvents(t,e.updateProps,r)}},updateAxis:function(t,e){var n=e.props,r=n.name,o=n.visible,s=f(n,["name","visible"]),u=e.updateProps,c=u.name,l=u.visible,h=f(u,["name","visible"]);(0,i.default)(r===c,"`name` propertry should not be changed in `<Axis />`"),o!==l&&t.axis(r,!!l),a.Util.shallowEqual(s,h)||t.axis(r,h)},updateAxises:function(t,e){if(e)for(var n in e)e[n]&&e[n].props&&e[n].updateProps&&this.updateAxis(t,e[n])},updateTooltip:function(t,e){if(e.tooltip){var n=e.tooltip.props,i=e.tooltip.updateProps;null==n&&null==i||a.Util.shallowEqual(n,i)||t.tooltip(r({},i))}},updateCoord:function(t,e){var n=e.coord;if(n){var r=n.props,i=n.updateProps;if(null!=r&&null!=i){var o=a.Util.without(i,p.concat(["type"]));if(!a.Util.shallowEqual(r,i)){var s=t.coord(i.type,o);n.g2Instance=s,a.Prop.init(p,i,function(t,e){s[e].apply(s,h(t))})}}}},updateLegend:function(t,e){var n=e.props,r=e.updateProps;if(r&&!a.Util.shallowEqual(n,r)){var i=r.name,o=r.visible,s=f(r,["name","visible"]),u=o?s:o;t.legend.apply(t,h(i?[i,u]:[u]))}},updateLegends:function(t,e){if(null!=e)for(var n in e)e[n]&&this.updateLegend(t,e[n])},updateLabel:function(t,e,n){if(null!=e&&null!=n){var r=e.content,i=f(e,["content"]),o=n.content,s=f(n,["content"]);a.Util.shallowEqual(i,s)&&a.Util.shallowEqual(r,o)||(a.Util.isArray(o)?t.label(o[0],o[1],s):t.label(o,s))}},updateGeom:function(t,e){var n=e.props,r=e.updateProps;if(n&&r&&n.type===r.type){var i=e.g2Instance;if(a.Util.shallowEqual(n,r))e.label&&this.updateLabel(i,e.label.props,e.label.updateProps);else{var o=n.adjust,s=f(n,["adjust"]),u=r.adjust,c=f(r,["adjust"]);(o||u)&&i.adjust(u),a.Prop.update(d,s,c,function(t,e){i[e].apply(i,h(t))}),e.label&&this.updateLabel(i,e.label.props,e.label.updateProps)}}},updateGeoms:function(t,e){if(null==e)return!1;for(var n in e)e[n]&&this.updateGeom(t,e[n]);return!1},isTypedGuideChanged:function(t){return!a.Util.shallowEqual(t.props,t.updateProps)},updateGuide:function(t,e){if(e&&e.elements){var n=e.elements,r=!1;for(var i in n)if(n[i]&&(n[i].updateProps||this.isTypedGuideChanged(n[i]))){r=!0;break}r&&(u.default.mergeGuide(e,!0),t.guide().clear(),s.default.guide(t,e))}},updateView:function(t,e){if(e&&e.props&&e.updateProps&&"Facet"!==e.parentInfo.name){var n=e.g2Instance,r=e.props,i=e.updateProps,o=r.scale,s=r.data,u=r.animate,c=r.axis,l=r.filter,h=i.scale,f=i.animate,p=i.data,d=i.axis,g=i.filter;u!==f&&n.animate(f),s!==p&&n.changeData(p),a.Util.shallowEqual(o,h)||n.scale(h),a.Util.shallowEqual(l,g)||g.forEach(function(t){n.filter(t[0],t[1])}),c!==d&&n.axis(d),this.updateCoord(n,e),this.updateAxises(n,e.axises),this.updateGeoms(n,e.geoms),this.updateGuide(n,e.guide)}},updateViews:function(t,e){var n=e.views;if(n)for(var r in n){var i=n[r];i&&(i.needReExecute||this.needReExecute(i))?(s.default.synchronizeG2View(i.g2Instance,i),n[r].needReExecute=!1):this.updateView(t,i)}},updateFacet:function(t,e){var n=e.facet;if(n){var r=n.props,i=n.updateProps;if(null!=r&&null!=i){var o=r.type,u=f(r,["type"]),c=i.type,l=f(i,["type"]);o===c&&a.Util.shallowEqual(u,l)||(n.props=i,s.default.facet(t,e))}}}};e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(554),a=(r=i)&&r.__esModule?r:{default:r};e.default={init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=arguments[2];a.default.each(t,function(t){var r=e[t];void 0!==r&&(a.default.isArray(r)||(r=[r]),n(r,t))})},update:function(t,e,n,r){var i=void 0,o=void 0;a.default.each(t,function(t){i=e[t],o=n[t],a.default.shallowEqual(o,i)||(a.default.isArray(o)||(o=[o]),r(o,t))})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={Chart:"deleteChart",Coord:"deleteCoord",Geom:"deleteGeom",Axis:"deleteAxis",Tooltip:"deleteTooltip",Legend:"deleteLegend",Label:"deleteLabel",View:"deleteView",Guide:"deleteGuide",GuideLine:"deleteTypedGuide",GuideImage:"deleteTypedGuide",GuideText:"deleteTypedGuide",GuideRegion:"deleteTypedGuide",GuideHtml:"deleteTypedGuide",GuideArc:"deleteTypedGuide",Facet:"deleteFacet"},i={Geom:!0,Label:!0,Facet:!0},a={deleteAxis:function(t,e,n){var r=e.axises[n].props;t.axis(r.name,!1)},deleteTooltip:function(t){t.tooltip(!1)},deleteCoord:function(t){t.coord("rect",{})},deleteLegend:function(t,e,n){var r=e.legends[n].props;t.legend.apply(t,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(r.name?[r.name,!1]:[!1]))},deleteGuide:function(t){t.guide().clear()},deleteView:function(t,e,n){e.views[n].g2Instance&&(t.removeView(e.views[n].g2Instance),delete e.views[n].g2Instance)},deleteViewElement:function(t,e,n,a){var o=this;Object.keys(n).forEach(function(t){var n=a[t],s=n.viewId;s&&(i[n.name]?e.views[s].needReExecute=!0:e.views[s].g2Instance&&o[r[n.name]]&&o[r[n.name]](e.views[s].g2Instance,e.views[s],n.id))})},needReExecute:function(t,e){for(var n in t)if(i[e[n].name]&&!e[n].viewId)return!0;return!1},synchronizeG2Delete:function(t,e,n,i){var a=this;Object.keys(n).forEach(function(n){var o=r[i[n].name];a[o]&&!i[n].viewId&&a[o](t,e,n)}),this.deleteViewElement(t,e,n,i)}};e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=o(n(0)),a=o(n(1));function o(t){return t&&t.__esModule?t:{default:t}}(0,o(n(27)).default)(i.default.PureComponent,"`React.PureComponent` needs React >=15.3.0");var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default.PureComponent||i.default.Component),r(e,[{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,r=t.placeholder;return i.default.createElement("div",{style:{width:e,height:n}},r)}}]),e}();s.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),height:a.default.oneOfType([a.default.string,a.default.number]),placeholder:a.default.node},s.defaultProps={width:"100%",placeholder:i.default.createElement("div",{style:{position:"relative",top:"48%",textAlign:"center"}},"暂无数据")},e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(0),o=(r=a)&&r.__esModule?r:{default:r};var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={hasError:!1},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default.Component),i(e,[{key:"componentDidCatch",value:function(t,e){this.setState({hasError:!0})}},{key:"unstable_handleError",value:function(t,e){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?o.default.createElement("h1",null,"bizcharts error."):this.props.children}}]),e}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(528),a=(r=i)&&r.__esModule?r:{default:r};e.default=a.default.generateBaseTypedComponent("Coord")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(528),a=(r=i)&&r.__esModule?r:{default:r};e.default=a.default.generateBaseTypedComponent("Axis")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n(528)),i=a(n(1));function a(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"Legend"))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),e}();o.contextTypes={addElement:i.default.func,updateElement:i.default.func,deleteElement:i.default.func,createId:i.default.func,getParentInfo:i.default.func,getViewId:i.default.func},o.childContextTypes={addElement:i.default.func,updateElement:i.default.func,deleteElement:i.default.func,createId:i.default.func,getParentInfo:i.default.func,getViewId:i.default.func},o.defaultProps={visible:!0},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(528),a=(r=i)&&r.__esModule?r:{default:r};e.default=a.default.generateBaseTypedComponent("Tooltip")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(999);var r,i=n(528),a=(r=i)&&r.__esModule?r:{default:r};e.default=a.default.generateBaseTypedComponent("Geom")},function(t,e,n){var r=n(518);r.Point=n(1e3),r.PointJitter=r.Point.Jitter,r.PointStack=r.Point.Stack,r.Path=n(732),r.Line=n(1002),r.LineStack=r.Line.Stack,r.Interval=n(1004),r.IntervalStack=r.Interval.Stack,r.IntervalDodge=r.Interval.Dodge,r.IntervalSymmetric=r.Interval.Symmetric,r.Area=n(1006),r.AreaStack=r.Area.Stack,r.Polygon=n(1008),r.Schema=n(1010),r.SchemaDodge=r.Schema.Dodge,r.Edge=n(1012),r.Heatmap=n(1014),r.Venn=n(1015),r.Violin=n(1018),t.exports=r},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i=n(518),a=n(500);n(1001);var o=function(t){function e(){return t.apply(this,arguments)||this}r(e,t);var n=e.prototype;return n.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="point",e.shapeType="point",e.generatePoints=!0,e},n.drawPoint=function(t,e,n,r){var i,o=this,s=t.shape,u=o.getDrawCfg(t);if(a.isArray(t.y)){var c=o.hasStack();a.each(t.y,function(t,a){u.y=t,u.yIndex=a,c&&0===a||(i=n.drawShape(s,u,e),o.appendShapeInfo(i,r+a))})}else a.isNil(t.y)||(i=n.drawShape(s,u,e),o.appendShapeInfo(i,r))},e}(i),s=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"jitter"}],e},e}(o),u=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(o);o.Jitter=s,o.Stack=u,i.Point=o,i.PointJitter=s,i.PointStack=u,t.exports=o},function(t,e,n){var r=n(500),i=r.PathUtil,a=n(620),o=n(512),s=n(519),u=n(536).Marker,c=["cross","tick","plus","hyphen","line","pointerLine","pointerArrow"],l=Math.sqrt(3);function h(t){var e=o.shape.point;return r.mix({},e,{fill:t.color,fillOpacity:t.opacity,radius:t.size},t.style)}function f(t){var e=o.shape.hollowPoint;return r.mix({},e,{stroke:t.color,strokeOpacity:t.opacity,radius:t.size},t.style)}r.mix(u.Symbols,{hexagon:function(t,e,n){var r=n/2*l;return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},bowtie:function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}});var p=s.registerFactory("point",{defaultShapeType:"hollowCircle",getActiveCfg:function(t,e){var n,i=e.radius;return{radius:i+1,shadowBlur:i,shadowColor:n=t&&(0===t.indexOf("hollow")||-1!==r.indexOf(c,t))||!t?e.stroke||e.strokeStyle:e.fill||e.fillStyle,stroke:n,strokeOpacity:1,lineWidth:1}},getDefaultPoints:function(t){return a.splitPoints(t)}});s.registerShape("point","rect",{draw:function(t,e){var n,i,a,o,s,u=h(t),c=(i=(n=t).points[0].x,a=n.points[0].y,o=n.size[0],s=n.size[1],[["M",i-.5*o,a-.5*s],["L",i+.5*o,a-.5*s],["L",i+.5*o,a+.5*s],["L",i-.5*o,a+.5*s],["z"]]);return c=this.parsePath(c),e.addShape("path",{attrs:r.mix(u,{path:c})})},getMarkerCfg:function(t){var e=h(t);return e.symbol="rect",e.radius=4.5,e}}),r.each(["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],function(t){s.registerShape("point",t,{draw:function(e,n){var i=h(e);return n.addShape("Marker",{attrs:r.mix(i,{symbol:t,x:e.x,y:e.y})})},getMarkerCfg:function(e){var n=h(e);return n.symbol=t,n.radius=4.5,n}}),s.registerShape("point","hollow"+r.upperFirst(t),{draw:function(e,n){var i=f(e);return n.addShape("Marker",{attrs:r.mix(i,{symbol:t,x:e.x,y:e.y})})},getMarkerCfg:function(e){var n=f(e);return n.symbol=t,n.radius=4.5,n}})}),r.each(c,function(t){s.registerShape("point",t,{draw:function(e,n){var i=f(e);return n.addShape("Marker",{attrs:r.mix(i,{symbol:t,x:e.x,y:e.y})})},getMarkerCfg:function(e){var n=f(e);return n.symbol=t,n.radius=4.5,n}})}),s.registerShape("point","image",{draw:function(t,e){return t.points=this.parsePoints(t.points),e.addShape("image",{attrs:{x:t.points[0].x-t.size/2,y:t.points[0].y-t.size,width:t.size,height:t.size,img:t.shape[1]}})}});var d={};s.registerShape("point","path",{draw:function(t,e){var n,a=r.mix({},f(t),h(t)),o=t.shape[1],s=t.size||10;if(d[o])n=d[o];else{var u=i.parsePathString(o),c=r.flatten(u).filter(function(t){return r.isNumber(t)});d[o]=n={range:Math.max.apply(null,c)-Math.min.apply(null,c),segments:u}}var l=s/n.range,p=[];a.rotate&&(p.push(["r",a.rotate/180*Math.PI]),delete a.rotate);var g=e.addShape("path",{attrs:r.mix(a,{path:n.segments})});return p.push(["s",l,l],["t",t.x,t.y]),g.transform(p),g}}),t.exports=p},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var i=n(518),a=n(732);n(1003);var o=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="line",e.sortable=!0,e},e}(a),s=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(o);o.Stack=s,i.Line=o,i.LineStack=s,t.exports=o},function(t,e,n){var r=n(500),i=n(533),a=n(620),o=n(519),s=n(512),u=[1,1],c=[5.5,1];function l(t){var e=s.shape.line;return r.mix({},e,{stroke:t.color,lineWidth:t.size,strokeOpacity:t.opacity,opacity:t.opacity},t.style)}function h(t){var e=s.shape.line;return r.mix({},e,{stroke:t.color,lineWidth:2,strokeOpacity:t.opacity,opacity:t.opacity,radius:6},t.style)}function f(t,e,n,r){var a;if(e){var o=r.constraint;n&&t.length&&t.push({x:t[0].x,y:t[0].y}),a=i.getSplinePath(t,!1,o)}else a=i.getLinePath(t,!1),n&&a.push(["Z"]);return a}function p(t,e){var n=t.points,i=t.isInCircle,o=n[0];return r.isArray(o.y)?function(t,e,n,r){for(var i=[],o=r.isStack,s=[],u=0;u<t.length;u++){var c=t[u],l=a.splitPoints(c);s.push(l[0]),i.push(l[1])}var h=f(i,e,n,r),p=f(s,e,n,r);return o?h:h.concat(p)}(n,e,i,t):f(n,e,i,t)}function d(t,e){var n,i,a,o,s,u=(n=t.points,i=e,a=[],r.each(n,function(t,e){var r=n[e+1];a.push(t),r&&(a=a.concat(i(t,r)))}),a);return o=u,s=[],r.each(o,function(t,e){var n=0===e?["M",t.x,t.y]:["L",t.x,t.y];s.push(n)}),s}function g(t,e,n){return[["M",t-n,e],["L",t+n,e]]}function v(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]}function y(t,e){return r.mix({symbol:e?v:g},h(t))}function m(t,e){return r.mix({symbol:e},h(t))}var x=o.registerFactory("line",{defaultShapeType:"line",getActiveCfg:function(t,e){return{lineWidth:(e.lineWidth||0)+1}},getDefaultPoints:function(t){return a.splitPoints(t)},drawShape:function(t,e,n){var i,a,o,u,c=this.getShape(t);return 1===e.points.length&&s.showSinglePoint?(o=n,u=(a=e).points[0],i=o.addShape("circle",{attrs:r.mix({x:u.x,y:u.y,r:2,fill:a.color},a.style)})):i=c.draw(e,n),i&&(i.set("origin",e.origin),i._id=e.splitedIndex?e._id+e.splitedIndex:e._id,i.name=this.name),i}});o.registerShape("line","line",{draw:function(t,e){var n=l(t),i=p(t,!1);return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return y(t)}}),o.registerShape("line","dot",{draw:function(t,e){var n=l(t),i=p(t,!1);return e.addShape("path",{attrs:r.mix(n,{path:i,lineDash:u})})},getMarkerCfg:function(t){var e=y(t,!1);return e.lineDash=u,e}}),o.registerShape("line","dash",{draw:function(t,e){var n=l(t),i=p(t,!1);return e.addShape("path",{attrs:r.mix({path:i,lineDash:c},n)})},getMarkerCfg:function(t){var e=y(t,!1);return e.lineDash=e.lineDash||c,e}}),o.registerShape("line","smooth",{draw:function(t,e){var n=l(t),i=this._coord;t.constraint=[[i.start.x,i.end.y],[i.end.x,i.start.y]];var a=p(t,!0);return e.addShape("path",{attrs:r.mix(n,{path:a})})},getMarkerCfg:function(t){return y(t,!0)}}),o.registerShape("line","hv",{draw:function(t,e){var n=l(t),i=d(t,function(t,e){var n=[];return n.push({x:e.x,y:t.y}),n});return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return m(t,function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]})}}),o.registerShape("line","vh",{draw:function(t,e){var n=l(t),i=d(t,function(t,e){var n=[];return n.push({x:t.x,y:e.y}),n});return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return m(t,function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]})}}),o.registerShape("line","hvh",{draw:function(t,e){var n=l(t),i=d(t,function(t,e){var n=[],r=(e.x-t.x)/2+t.x;return n.push({x:r,y:t.y}),n.push({x:r,y:e.y}),n});return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return m(t,function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]})}}),o.registerShape("line","vhv",{draw:function(t,e){var n=l(t),i=d(t,function(t,e){var n=[],r=(e.y-t.y)/2+t.y;return n.push({x:t.x,y:r}),n.push({x:e.x,y:r}),n});return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return m(t,function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]})}}),x.spline=x.smooth,t.exports=x},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var a=n(518),o=n(500),s=n(621);n(1005);var u=function(t){r(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,o.assign(i(i(n)),s),n}return e.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="interval",e.shapeType="interval",e.generatePoints=!0,e},e.createShapePointsCfg=function(e){var n=t.prototype.createShapePointsCfg.call(this,e);return n.size=this.getNormalizedSize(e),n},e.clearInner=function(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},n}(a),c=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(u),l=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"dodge"}],e},e}(u),h=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"symmetric"}],e},e}(u);u.Stack=c,u.Dodge=l,u.Symmetric=h,a.Interval=u,a.IntervalStack=c,a.IntervalDodge=l,a.IntervalSymmetric=h,t.exports=u},function(t,e,n){var r=n(500),i=n(519),a=n(533),o=r.PathUtil,s=n(512),u=n(536);function c(t,e){var n,i,a=t.x,o=t.y,s=t.y0,u=t.size,c=s,l=o;r.isArray(o)&&(l=o[1],c=o[0]),r.isArray(a)?(n=a[0],i=a[1]):(n=a-u/2,i=a+u/2);var h=[];return h.push({x:n,y:c},{x:n,y:l}),e?h.push({x:i,y:(l+c)/2}):h.push({x:i,y:l},{x:i,y:c}),h}function l(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var a=t[0];return e.push(["L",a.x,a.y]),e.push(["z"]),e}function h(t){var e=s.shape.interval;return r.mix({},e,{fill:t.color,stroke:t.color,fillOpacity:t.opacity},t.style)}function f(t){var e=s.shape.hollowInterval;return r.mix({},e,{stroke:t.color,strokeOpacity:t.opacity},t.style)}function p(t,e){var n=[],i=t.points,a=t.nextPoints;return r.isNil(a)?e?n.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):n.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[2].x,i[2].y],["Z"]):n.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",a[1].x,a[1].y],["L",a[0].x,a[0].y],["Z"]),n}function d(t,e){var n,i,o,s,u,c,l,h,f,p=e.geom.get("coord"),d=e.point;if(p&&"theta"===p.type){var g=(i=d,h=(o=p).getRadius(),f=h*o.innerRadius,!r.isArray(i.x)&&r.isArray(i.y)&&(i.x=[i.x,i.x]),r.isArray(i.x)?(c={x:i.x[0],y:i.y[0]},l={x:i.x[1],y:i.y[1]},s=a.getPointAngle(o,c),(u=a.getPointAngle(o,l))<=s&&(u+=2*Math.PI)):(l=i,s=o.startAngle,u=a.getPointAngle(o,l)),{r:h,ir:f,startAngle:s,endAngle:u}),v=(g.endAngle-g.startAngle)/2+g.startAngle;n={transform:[["t",7.5*Math.cos(v),7.5*Math.sin(v)]]}}return r.mix({},n)}var g=i.registerFactory("interval",{defaultShapeType:"rect",getActiveCfg:function(t,e){return!t||r.inArray(["rect","funnel","pyramid"],t)?{fillOpacity:(e.fillOpacity||e.opacity||1)-.15}:{lineWidth:(e.lineWidth||0)+1}},getDefaultPoints:function(t){return c(t)},getSelectedCfg:function(t,e){return d(0,e)}});function v(t,e,n,r,i,a,o){for(var s=2*Math.ceil(2*t/n*4),u=[];r<2*-Math.PI;)r+=2*Math.PI;for(;r>0;)r-=2*Math.PI;var c=a-t+(r=r/Math.PI/2*n)-2*t;u.push(["M",c,e]);for(var l,h,f,p,d=0,g=0;g<s;++g){var v=(l=g*n/4,f=n,p=i,0===(h=g%4)?[[l+.5*f/Math.PI/2,p/2],[l+.5*f/Math.PI,p],[l+f/4,p]]:1===h?[[l+.5*f/Math.PI/2*(Math.PI-2),p],[l+.5*f/Math.PI/2*(Math.PI-1),p/2],[l+f/4,0]]:2===h?[[l+.5*f/Math.PI/2,-p/2],[l+.5*f/Math.PI,-p],[l+f/4,-p]]:[[l+.5*f/Math.PI/2*(Math.PI-2),-p],[l+.5*f/Math.PI/2*(Math.PI-1),-p/2],[l+f/4,0]]);u.push(["C",v[0][0]+c,-v[0][1]+e,v[1][0]+c,-v[1][1]+e,v[2][0]+c,-v[2][1]+e]),g===s-1&&(d=v[2][0])}return u.push(["L",d+c,o+t]),u.push(["L",c,o+t]),u.push(["L",c,e]),u}function y(t,e,n,r,i,a,o,u){for(var c=o.getBBox(),l=c.maxX-c.minX,h=c.maxY-c.minY,f=0;f<r;f++){var p=a.addShape("path",{attrs:{path:v(u,c.minY+h*n,l/4,0,l/64,t,e),fill:i[f],clip:o}});"canvas"===s.renderer&&p.animate({transform:[["t",l/2,0]],repeat:!0},5e3-300*f)}}i.registerShape("interval","rect",{draw:function(t,e){var n=h(t),i=l(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){var e=h(t),n=t.isInCircle;return r.mix({symbol:n?"circle":"square",radius:n?4.5:4},e)}}),i.registerShape("interval","hollowRect",{draw:function(t,e){var n=f(t),i=l(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){var e=f(t),n=t.isInCircle;return r.mix({symbol:n?"circle":"square",radius:n?4.5:4},e)}}),i.registerShape("interval","line",{getPoints:function(t){return n=(e=t).x,i=e.y,a=e.y0,o=[],r.isArray(i)?r.each(i,function(t,e){o.push({x:r.isArray(n)?n[e]:n,y:t})}):o.push({x:n,y:i},{x:n,y:a}),o;var e,n,i,a,o},draw:function(t,e){var n=f(t);n.lineWidth=t.size||1;var i=l(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){var e=f(t);return r.mix({symbol:"line",radius:5},e)}}),i.registerShape("interval","tick",{getPoints:function(t){return n=(e=t).x,i=r.isArray(e.y)?e.y[1]:e.y,a=r.isArray(e.y)?e.y[0]:e.y0,o=e.size,(s=[]).push({x:n-o/2,y:i},{x:n+o/2,y:i},{x:n,y:i},{x:n,y:a},{x:n-o/2,y:a},{x:n+o/2,y:a}),s;var e,n,i,a,o,s},draw:function(t,e){var n,i,a=f(t),o=(n=t.points,(i=[]).push(["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y]),i);return o=this.parsePath(o),e.addShape("path",{attrs:r.mix(a,{path:o})})},getMarkerCfg:function(t){var e=f(t);return r.mix({symbol:"tick",radius:5},e)}}),i.registerShape("interval","funnel",{getPoints:function(t){return t.size=2*t.size,c(t)},draw:function(t,e){var n=h(t),i=p(t,!0);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){var e=h(t);return r.mix({symbol:"square",radius:4},e)}}),i.registerShape("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,c(t,!0)},draw:function(t,e){var n=h(t),i=p(t,!1);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){var e=h(t);return r.mix({symbol:"square",radius:4},e)}}),i.registerShape("interval","liquid-fill-gauge",{draw:function(t,e){var n=0,i=1/0;r.each(t.points,function(t){t.x<i&&(i=t.x),n+=t.x});var a=n/t.points.length,o=this.parsePoint({x:a,y:.5}),s=this.parsePoint({x:i,y:.5}),c=o.x-s.x,l=Math.min(c,s.y),p=h(t),d=new u.Circle({attrs:{x:o.x,y:o.y,r:l}});return y(o.x,o.y,t.y/(2*o.y),1,[p.fill],e,d,4*l),e.addShape("circle",{attrs:r.mix(f(t),{x:o.x,y:o.y,r:l+l/8})})}});var m={};i.registerShape("interval","liquid-fill-path",{draw:function(t,e){var n=r.mix({},h(t)),i=t.shape[1],a=0,s=1/0;r.each(t.points,function(t){t.x<s&&(s=t.x),a+=t.x});var u,c=a/t.points.length,l=this.parsePoint({x:c,y:.5}),p=this.parsePoint({x:s,y:.5}),d=l.x-p.x,g=Math.min(d,p.y);if(m[i])u=m[i];else{var v=o.parsePathString(i);m[i]=u={segments:v}}var x=[];n.rotate&&(x.push(["r",n.rotate/180*Math.PI]),delete n.rotate);var _=e.addShape("path",{attrs:r.mix(n,{fillOpacity:0,path:u.segments})}),w=r.cloneDeep(_.getBBox()),b=w.maxX-w.minX,M=w.maxY-w.minY,S=2*g/Math.max(b,M);_.transform(x.concat([["s",S,S]]));var E=S*b/2,C=S*M/2;_.transform([["t",l.x-E,l.y-C]]),y(l.x,l.y,t.y/(2*l.y),1,[n.fill],e,_,4*p.y);var k=e.addShape("path",{attrs:r.mix(f(t),{path:u.segments})});return k.transform(x.concat([["s",S,S],["t",l.x-E,l.y-C]])),k}}),i.registerShape("interval","top-line",{draw:function(t,e){var n=h(t),i=t.style||{},a=[["M",t.points[1].x,t.points[1].y],["L",t.points[2].x,t.points[2].y]],o={stroke:i.stroke||"white",lineWidth:i.lineWidth||1,path:this.parsePath(a)},s=l(t.points);s=this.parsePath(s),delete n.stroke;var u=e.addShape("path",{attrs:r.mix(n,{zIndex:0,path:s})});return e.addShape("path",{zIndex:1,attrs:o}),u},getMarkerCfg:function(t){var e=h(t),n=t.isInCircle;return r.mix({symbol:n?"circle":"square",radius:n?4.5:4},e)}}),t.exports=g},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var a=n(518),o=n(733),s=n(500);n(1007);var u=function(t){r(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,s.assign(i(i(n)),o),n}return e.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="area",e.shapeType="area",e.generatePoints=!0,e.sortable=!0,e},e.draw=function(t,e,n,r){var i=this,a=this.getDrawCfg(t[0]),o=this.splitData(t);a.origin=t,s.each(o,function(t,o){a.splitedIndex=o;var s=t.map(function(t){return t.points});a.points=s;var u=n.drawShape(a.shape,a,e);i.appendShapeInfo(u,r+o)})},n}(a),c=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"stack"}],e},e}(u);u.Stack=c,a.Area=u,a.AreaStack=c,t.exports=u},function(t,e,n){var r=n(500),i=n(519),a=n(533),o=n(512);function s(t){var e=o.shape.hollowArea;return r.mix({},e,{stroke:t.color,lineWidth:t.size,strokeOpacity:t.opacity},t.style)}function u(t){var e=o.shape.area;return r.mix({},e,{fill:t.color,stroke:t.color,lineWidth:t.size,fillOpacity:t.opacity},t.style)}function c(t,e,n){var i=[],o=[],s=[],u=[],c=t.isInCircle;return r.each(t.points,function(t){s.push(t[1]),u.push(t[0])}),u=u.reverse(),o.push(s,u),r.each(o,function(r,o){var s=[],u=(r=n.parsePoints(r))[0];c&&r.push({x:u.x,y:u.y}),s=e?a.getSplinePath(r,!1,t.constraint):a.getLinePath(r,!1),o>0&&(s[0][0]="L"),i=i.concat(s)}),i.push(["Z"]),i}function l(t){return{symbol:function(t,e){return[["M",t-5.5,e-4],["L",t+5.5,e-4],["L",t+5.5,e+4],["L",t-5.5,e+4],["Z"]]},radius:5,fill:t.color,fillOpacity:.6}}var h=i.registerFactory("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=[],n=t.x,i=t.y,a=t.y0;return i=r.isArray(i)?i:[a,i],r.each(i,function(t){e.push({x:n,y:t})}),e},getActiveCfg:function(t,e){return function(t,e){if("line"===t||"smoothLine"===t)return{lineWidth:(e.lineWidth||0)+1};var n=e.fillOpacity||e.opacity||1;return{fillOpacity:n-.15,strokeOpacity:n-.15}}(t,e)},drawShape:function(t,e,n){var i,a,s,u,c=this.getShape(t);return 1===e.points.length&&o.showSinglePoint?(a=e,s=n,u=this._coord.convertPoint(a.points[0][1]),i=s.addShape("circle",{attrs:r.mix({x:u.x,y:u.y,r:2,fill:a.color},a.style)})):i=c.draw(e,n),i&&(i.set("origin",e.origin),i._id=e.splitedIndex?e._id+e.splitedIndex:e._id,i.name=this.name),i},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});i.registerShape("area","area",{draw:function(t,e){var n=u(t),i=c(t,!1,this);return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return l(t)}}),i.registerShape("area","smooth",{draw:function(t,e){var n=u(t),i=this._coord;t.constraint=[[i.start.x,i.end.y],[i.end.x,i.start.y]];var a=c(t,!0,this);return e.addShape("path",{attrs:r.mix(n,{path:a})})},getMarkerCfg:function(t){return l(t)}}),i.registerShape("area","line",{draw:function(t,e){var n=s(t),i=c(t,!1,this);return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return l(t)}}),i.registerShape("area","smoothLine",{draw:function(t,e){var n=s(t),i=c(t,!0,this);return e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return l(t)}}),h.spline=h.smooth,t.exports=h},function(t,e,n){var r=n(518),i=n(500);n(1009);var a=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e},a.createShapePointsCfg=function(e){var n,r=t.prototype.createShapePointsCfg.call(this,e),a=r.x,o=r.y;if(!i.isArray(a)||!i.isArray(o)){var s=this.getXScale(),u=this.getYScale(),c=.5/(s.values?s.values.length:s.ticks.length),l=.5/(u.values?u.values.length:u.ticks.length);s.isCategory&&u.isCategory?(a=[a-c,a-c,a+c,a+c],o=[o-l,o+l,o+l,o-l]):i.isArray(a)?(a=[(n=a)[0],n[0],n[1],n[1]],o=[o-l/2,o+l/2,o+l/2,o-l/2]):i.isArray(o)&&(o=[(n=o)[0],n[1],n[1],n[0]],a=[a-c/2,a-c/2,a+c/2,a+c/2]),r.x=a,r.y=o}return r},r}(r);r.Polygon=a,t.exports=a},function(t,e,n){var r=n(500),i=n(519),a=n(512);function o(t){var e=a.shape.polygon;return r.mix({},e,{stroke:t.color,fill:t.color,fillOpacity:t.opacity},t.style)}function s(t){for(var e=t[0],n=1,i=[["M",e.x,e.y]];n<t.length;){var a=t[n];a.x===t[n-1].x&&a.y===t[n-1].y||(i.push(["L",a.x,a.y]),a.x===e.x&&a.y===e.y&&n<t.length-1&&(e=t[n+1],i.push(["Z"]),i.push(["M",e.x,e.y]),n++)),n++}return r.isEqual(i[i.length-1],e)||i.push(["L",e.x,e.y]),i.push(["Z"]),i}var u=i.registerFactory("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(t){var e=[];return r.each(t.x,function(n,r){var i=t.y[r];e.push({x:n,y:i})}),e},getActiveCfg:function(t,e){var n=e.lineWidth||1;return"hollow"===t?{lineWidth:n+1}:{fillOpacity:(e.fillOpacity||e.opacity||1)-.08}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});i.registerShape("polygon","polygon",{draw:function(t,e){if(!r.isEmpty(t.points)){var n=o(t),i=s(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})}},getMarkerCfg:function(t){return r.mix({symbol:"square",radius:4},o(t))}}),i.registerShape("polygon","hollow",{draw:function(t,e){if(!r.isEmpty(t.points)){var n=(o=t,u=a.shape.hollowPolygon,r.mix({},u,{stroke:o.color,strokeOpacity:o.opacity},o.style)),i=s(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})}var o,u},getMarkerCfg:function(t){return r.mix({symbol:"square",radius:4},o(t))}}),t.exports=u},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var a=n(518),o=n(500),s=n(621);n(1011);var u=function(t){r(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,o.assign(i(i(n)),s),n}return e.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e},e.createShapePointsCfg=function(e){var n=t.prototype.createShapePointsCfg.call(this,e);return n.size=this.getNormalizedSize(e),n},n}(a),c=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"dodge"}],e},e}(u);u.Dodge=c,a.Schema=u,a.SchemaDodge=c,t.exports=u},function(t,e,n){var r=n(500),i=n(519),a=n(512);function o(t){r.isArray(t)||(t=[t]);var e=t[0],n=t[t.length-1],i=t.length>1?t[1]:e;return{min:e,max:n,min1:i,max1:t.length>3?t[3]:n,median:t.length>2?t[2]:i}}function s(t,e,n){var i,a,s,u,c=[];return r.isArray(e)?i=[[t-n/2,(a=o(e)).max],[t+n/2,a.max],[t,a.max],[t,a.max1],[t-n/2,a.min1],[t-n/2,a.max1],[t+n/2,a.max1],[t+n/2,a.min1],[t,a.min1],[t,a.min],[t-n/2,a.min],[t+n/2,a.min],[t-n/2,a.median],[t+n/2,a.median]]:(e=e||.5,i=[[(a=o(t)).min,e-n/2],[a.min,e+n/2],[a.min,e],[a.min1,e],[a.min1,e-n/2],[a.min1,e+n/2],[a.max1,e+n/2],[a.max1,e-n/2],[a.max1,e],[a.max,e],[a.max,e-n/2],[a.max,e+n/2],[a.median,e-n/2],[a.median,e+n/2]]),s=i,u=c,r.each(s,function(t){u.push({x:t[0],y:t[1]})}),c}function u(t,e,n){var i=function(t){r.isArray(t)||(t=[t]);var e=t.sort(function(t,e){return t<e?1:-1}),n=e.length;if(n<4)for(var i=e[n-1],a=0;a<4-n;a++)e.push(i);return e}(e);return[{x:t,y:i[0]},{x:t,y:i[1]},{x:t-n/2,y:i[2]},{x:t-n/2,y:i[1]},{x:t+n/2,y:i[1]},{x:t+n/2,y:i[2]},{x:t,y:i[2]},{x:t,y:i[3]}]}var c=i.registerFactory("schema",{defaultShapeType:"",getActiveCfg:function(t,e){if("box"===t)return{lineWidth:(e.lineWidth||1)+1};var n=e.fillOpacity||e.opacity||1;return{fillOpacity:n-.15,strokeOpacity:n-.15}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});i.registerShape("schema","box",{getPoints:function(t){return s(t.x,t.y,t.size)},draw:function(t,e){var n,i,o,s=(n=t,i=a.shape.schema,r.mix({},i,{stroke:n.color,strokeOpacity:n.opacity},n.style)),u=[["M",(o=t.points)[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x,o[10].y],["L",o[11].x,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]];return u=this.parsePath(u),e.addShape("path",{attrs:r.mix(s,{path:u})})},getMarkerCfg:function(t){return{symbol:function(t,e,n){var r=s(t,[e-6,e-3,e,e+3,e+6],n);return[["M",r[0].x+1,r[0].y],["L",r[1].x-1,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x+1,r[10].y],["L",r[11].x-1,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]},radius:6,lineWidth:1,stroke:t.color}}}),i.registerShape("schema","candle",{getPoints:function(t){return u(t.x,t.y,t.size)},draw:function(t,e){var n,i,o,s=(n=t,i=a.shape.schema,r.mix({},i,{fill:n.color,stroke:n.color,fillOpacity:n.opacity},n.style)),u=[["M",(o=t.points)[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]];return u=this.parsePath(u),e.addShape("path",{attrs:r.mix(s,{path:u})})},getMarkerCfg:function(t){return{symbol:function(t,e,n){var r=u(t,e=[e+7.5,e+3,e-3,e-7.5],n);return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]},lineWidth:1,stroke:t.color,fill:t.color,radius:6}}}),t.exports=c},function(t,e,n){var r=n(518);n(1013);var i=function(t){var e,n;function r(){return t.apply(this,arguments)||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e},r}(r);r.Edge=i,t.exports=i},function(t,e,n){var r=n(500),i=n(519),a=n(620),o=n(512),s=n(533),u=1/3;function c(t){var e=o.shape.edge;return r.mix({},e,{stroke:t.color,lineWidth:t.size,strokeOpacity:t.opacity,opacity:t.opacity},t.style)}var l=i.registerFactory("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return a.splitPoints(t)},getActiveCfg:function(t,e){return{lineWidth:(e.lineWidth||0)+1}}});function h(t,e){var n=[];n.push({x:t.x,y:.5*t.y+1*e.y/2}),n.push({y:.5*t.y+1*e.y/2,x:e.x}),n.push(e);var i=["C"];return r.each(n,function(t){i.push(t.x,t.y)}),i}function f(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var i=["Q"];return r.each(n,function(t){i.push(t.x,t.y)}),i}i.registerShape("edge","line",{draw:function(t,e){var n=this.parsePoints(t.points),i=c(t),a=s.getLinePath(n);return e.addShape("path",{attrs:r.mix(i,{path:a})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4.5},c(t))}}),i.registerShape("edge","vhv",{draw:function(t,e){var n=t.points,i=c(t),a=function(t,e){var n=[];n.push({y:t.y*(1-u)+e.y*u,x:t.x}),n.push({y:t.y*(1-u)+e.y*u,x:e.x}),n.push(e);var i=[["M",t.x,t.y]];return r.each(n,function(t){i.push(["L",t.x,t.y])}),i}(n[0],n[1]);return a=this.parsePath(a),e.addShape("path",{attrs:r.mix(i,{path:a})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4.5},c(t))}}),i.registerShape("edge","smooth",{draw:function(t,e){var n,i,a,o,s=t.points,u=c(t),l=(n=s[0],i=s[1],a=h(n,i),(o=[["M",n.x,n.y]]).push(a),o);return l=this.parsePath(l),e.addShape("path",{attrs:r.mix(u,{path:l})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4.5},c(t))}}),i.registerShape("edge","arc",{draw:function(t,e){var n,i,a,o,s,u,l,p,d,g,v,y=t.points,m=y.length>2?"weight":"normal",x=c(t);if(t.isInCircle){var _={x:0,y:1};"normal"===m?(p=y[0],d=y[1],g=f(d,_),(v=[["M",p.x,p.y]]).push(g),i=v):(x.fill=x.stroke,o=_,s=f((a=y)[1],o),u=f(a[3],o),(l=[["M",a[0].x,a[0].y]]).push(u),l.push(["L",a[3].x,a[3].y]),l.push(["L",a[2].x,a[2].y]),l.push(s),l.push(["L",a[1].x,a[1].y]),l.push(["L",a[0].x,a[0].y]),l.push(["Z"]),i=l),i=this.parsePath(i),n=e.addShape("path",{attrs:r.mix(x,{path:i})})}else if("normal"===m)y=this.parsePoints(y),n=e.addShape("arc",{attrs:r.mix(x,{x:(y[1].x+y[0].x)/2,y:y[0].y,r:Math.abs(y[1].x-y[0].x)/2,startAngle:Math.PI,endAngle:2*Math.PI})});else{i=[["M",y[0].x,y[0].y],["L",y[1].x,y[1].y]];var w=h(y[1],y[3]),b=h(y[2],y[0]);i.push(w),i.push(["L",y[3].x,y[3].y]),i.push(["L",y[2].x,y[2].y]),i.push(b),i.push(["Z"]),i=this.parsePath(i),x.fill=x.stroke,n=e.addShape("path",{attrs:r.mix(x,{path:i})})}return n},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4.5},c(t))}}),t.exports=l},function(t,e,n){var r=n(613).ColorUtil,i=n(518),a=n(500),o="_origin",s="shadowCanvas",u="valueRange",c="imageShape",l="mappedData",h="grayScaleBlurredCanvas",f="heatmapSize",p={},d=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var d=i.prototype;return d.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="heatmap",e},d._prepareRange=function(){var t=this.get(l),e=this.getAttr("color").field,n=1/0,r=-1/0;t.forEach(function(t){var i=t[o][e];i>r&&(r=i),i<n&&(n=i)}),n===r&&(n=r-1);var i=[n,r];this.set(u,i)},d._prepareSize=function(){var t=this.getDefaultValue("size");a.isNumber(t)||(t=this._getDefaultSize());var e=this.get("styleOptions"),n=e&&a.isObject(e.style)?e.style.blur:null;a.isFinite(n)&&null!==n||(n=t/2),this.set(f,{blur:n,radius:t})},d._getDefaultSize=function(){var t=this.getAttr("position"),e=this.get("coord");return Math.min(e.width/(4*t.scales[0].ticks.length),e.height/(4*t.scales[1].ticks.length))},d._colorize=function(t){for(var e=this.getAttr("color"),n=t.data,i=3;i<n.length;i+=4){var a=n[i];if(a){var o=void 0;p[a]?o=p[a]:(o=r.rgb2arr(e.gradient(a/256)),p[a]=o),n[i-3]=o[0],n[i-2]=o[1],n[i-1]=o[2],n[i]=a}}},d._prepareGreyScaleBlurredCircle=function(t,e){var n=this.get(h);n||(n=document.createElement("canvas"),this.set(h,n));var r=t+e,i=n.getContext("2d");n.width=n.height=2*r,i.clearRect(0,0,n.width,n.height),i.shadowOffsetX=i.shadowOffsetY=2*r,i.shadowBlur=e,i.shadowColor="black",i.beginPath(),i.arc(-r,-r,t,0,2*Math.PI,!0),i.closePath(),i.fill()},d._drawGrayScaleBlurredCircle=function(t,e,n,r,i){var a=this.get(h);i.globalAlpha=r,i.drawImage(a,t-n,e-n)},d._getShadowCanvasCtx=function(){var t=this.get(s);t||(t=document.createElement("canvas"),this.set(s,t));var e=this.get("coord"),n=e.width,r=e.height;return t.width=n,t.height=r,t.getContext("2d")},d._clearShadowCanvasCtx=function(){var t=this._getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},d._getImageShape=function(){var t=this.get(c);return t||(t=this.get("container").addShape("Image",{}),this.set(c,t),t)},d.drawWithRange=function(t){var e=this,n=e.get("coord"),r=n.start,i=n.end,a=n.width,s=n.height,u=e.getAttr("color").field,c=e.get(f);e._clearShadowCanvasCtx();var h=e._getShadowCanvasCtx(),p=e.get(l);t&&(p=p.filter(function(e){return e[o][u]<=t[1]&&e[o][u]>=t[0]}));for(var d=e._getScale(u),g=0;g<p.length;g++){var v=p[g],y=e.getDrawCfg(v),m=d.scale(v[o][u]);e._drawGrayScaleBlurredCircle(y.x-r.x,y.y-i.y,c.radius+c.blur,m,h)}var x=h.getImageData(0,0,a,s);e._clearShadowCanvasCtx(),e._colorize(x),h.putImageData(x,0,0);var _=e._getImageShape();_.attr("x",r.x),_.attr("y",i.y),_.attr("width",a),_.attr("height",s),_.attr("img",h.canvas)},d.draw=function(t){this.set(l,t),this._prepareRange(),this._prepareSize();var e=this.get(f);this._prepareGreyScaleBlurredCircle(e.radius,e.blur);var n=this.get(u);this.drawWithRange(n)},i}(i);i.Heatmap=d,t.exports=d},function(t,e,n){var r=n(518),i=n(500),a=n(1016),o=a.venn,s=a.scaleSolution,u=a.circlePath,c=a.intersectionAreaPath,l=a.computeTextCentres;n(1017);var h=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="venn",e.shapeType="venn",e.generatePoints=!0,e},a._initAttrs=function(){var e=this.get("attrOptions"),n=this.get("labelCfg"),r=this.get("data"),a=e.size?e.size.field:"size",h=n?n.fields[0]:"sets";this.set("labelCfg",null),r.forEach(function(t){t.sets=t[h],t.size=t[a]});var f=o(r),p=this.get("coord"),d=[Math.min(p.x.end,p.x.start),Math.max(p.x.end,p.x.start)],g=[Math.min(p.y.end,p.y.start),Math.max(p.y.end,p.y.start)],v=d[1]-d[0],y=g[1]-g[0],m=this.get("styleOptions"),x=m&&i.isObject(m.style)?m.style.padding:0;i.isFinite(x)||(x=0);var _=s(f,v,y,x),w=l(_,r);r.forEach(function(t){var e=t.sets,n=e.join(",");if(t.id=n,1===e.length){var r=_[n];t.path=u(r.x,r.y,r.radius),i.assign(t,r)}else{var a=e.map(function(t){return _[t]}),o=c(a);/[zZ]$/.test(o)||(o+="Z"),t.path=o;var s=w[n]||{x:0,y:0};i.assign(t,s)}}),this.position("x*y"),t.prototype._initAttrs.call(this)},a.paint=function(){t.prototype.paint.call(this);var e=this,n=e.get("dataArray"),r=e.get("shapeContainer");n.forEach(function(t){var n=e.getDrawCfg(t[0]),a=n.origin._origin;r.addShape("text",{attrs:i.mix({},{x:a.x,y:a.y,text:a.label||"",fontSize:18,fill:"hollow"===n.shape?n.color:"#666",textAlign:"center",textBaseline:"middle"},n.style?n.style.textStyle:{})})})},r}(r);r.Venn=h,t.exports=h},function(t,e,n){!function(t,e,n){"use strict";var r=1e-10;function i(t,e){var n,i=function(t){for(var e=[],n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)for(var i=u(t[n],t[r]),a=0;a<i.length;++a){var o=i[a];o.parentIndex=[n,r],e.push(o)}return e}(t),s=i.filter(function(e){return function(t,e){for(var n=0;n<e.length;++n)if(o(t,e[n])>e[n].radius+r)return!1;return!0}(e,t)}),l=0,h=0,f=[];if(s.length>1){var p=c(s);for(n=0;n<s.length;++n){var d=s[n];d.angle=Math.atan2(d.x-p.x,d.y-p.y)}s.sort(function(t,e){return e.angle-t.angle});var g=s[s.length-1];for(n=0;n<s.length;++n){var v=s[n];h+=(g.x+v.x)*(v.y-g.y);for(var y={x:(v.x+g.x)/2,y:(v.y+g.y)/2},m=null,x=0;x<v.parentIndex.length;++x)if(g.parentIndex.indexOf(v.parentIndex[x])>-1){var _=t[v.parentIndex[x]],w=Math.atan2(v.x-_.x,v.y-_.y),b=Math.atan2(g.x-_.x,g.y-_.y),M=b-w;M<0&&(M+=2*Math.PI);var S=b-M/2,E=o(y,{x:_.x+_.radius*Math.sin(S),y:_.y+_.radius*Math.cos(S)});E>2*_.radius&&(E=2*_.radius),(null===m||m.width>E)&&(m={circle:_,width:E,p1:v,p2:g})}null!==m&&(f.push(m),l+=a(m.circle.radius,m.width),g=v)}}else{var C=t[0];for(n=1;n<t.length;++n)t[n].radius<C.radius&&(C=t[n]);var k=!1;for(n=0;n<t.length;++n)if(o(t[n],C)>Math.abs(C.radius-t[n].radius)){k=!0;break}k?l=h=0:(l=C.radius*C.radius*Math.PI,f.push({circle:C,p1:{x:C.x,y:C.y+C.radius},p2:{x:C.x-r,y:C.y+C.radius},width:2*C.radius}))}return h/=2,e&&(e.area=l+h,e.arcArea=l,e.polygonArea=h,e.arcs=f,e.innerPoints=s,e.intersectionPoints=i),l+h}function a(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function o(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function s(t,e,n){if(n>=t+e)return 0;if(n<=Math.abs(t-e))return Math.PI*Math.min(t,e)*Math.min(t,e);var r=t-(n*n-e*e+t*t)/(2*n),i=e-(n*n-t*t+e*e)/(2*n);return a(t,r)+a(e,i)}function u(t,e){var n=o(t,e),r=t.radius,i=e.radius;if(n>=r+i||n<=Math.abs(r-i))return[];var a=(r*r-i*i+n*n)/(2*n),s=Math.sqrt(r*r-a*a),u=t.x+a*(e.x-t.x)/n,c=t.y+a*(e.y-t.y)/n,l=-(e.y-t.y)*(s/n),h=-(e.x-t.x)*(s/n);return[{x:u+l,y:c-h},{x:u-l,y:c+h}]}function c(t){for(var e={x:0,y:0},n=0;n<t.length;++n)e.x+=t[n].x,e.y+=t[n].y;return e.x/=t.length,e.y/=t.length,e}function l(t){for(var e=new Array(t),n=0;n<t;++n)e[n]=0;return e}function h(t,e){return l(t).map(function(){return l(e)})}function f(t,e){for(var n=0,r=0;r<t.length;++r)n+=t[r]*e[r];return n}function p(t){return Math.sqrt(f(t,t))}function d(t,e,n){for(var r=0;r<e.length;++r)t[r]=e[r]*n}function g(t,e,n,r,i){for(var a=0;a<t.length;++a)t[a]=e*n[a]+r*i[a]}function v(t,e,n){var r,i=(n=n||{}).maxIterations||200*e.length,a=n.nonZeroDelta||1.05,o=n.zeroDelta||.001,s=n.minErrorDelta||1e-6,u=n.minErrorDelta||1e-5,c=void 0!==n.rho?n.rho:1,l=void 0!==n.chi?n.chi:2,h=void 0!==n.psi?n.psi:-.5,f=void 0!==n.sigma?n.sigma:.5,p=e.length,d=new Array(p+1);d[0]=e,d[0].fx=t(e),d[0].id=0;for(var v=0;v<p;++v){var y=e.slice();y[v]=y[v]?y[v]*a:o,d[v+1]=y,d[v+1].fx=t(y),d[v+1].id=v+1}function m(t){for(var e=0;e<t.length;e++)d[p][e]=t[e];d[p].fx=t.fx}for(var x=function(t,e){return t.fx-e.fx},_=e.slice(),w=e.slice(),b=e.slice(),M=e.slice(),S=0;S<i;++S){if(d.sort(x),n.history){var E=d.map(function(t){var e=t.slice();return e.fx=t.fx,e.id=t.id,e});E.sort(function(t,e){return t.id-e.id}),n.history.push({x:d[0].slice(),fx:d[0].fx,simplex:E})}for(r=0,v=0;v<p;++v)r=Math.max(r,Math.abs(d[0][v]-d[1][v]));if(Math.abs(d[0].fx-d[p].fx)<s&&r<u)break;for(v=0;v<p;++v){_[v]=0;for(var C=0;C<p;++C)_[v]+=d[C][v];_[v]/=p}var k=d[p];if(g(w,1+c,_,-c,k),w.fx=t(w),w.fx<d[0].fx)g(M,1+l,_,-l,k),M.fx=t(M),M.fx<w.fx?m(M):m(w);else if(w.fx>=d[p-1].fx){var P=!1;if(w.fx>k.fx?(g(b,1+h,_,-h,k),b.fx=t(b),b.fx<k.fx?m(b):P=!0):(g(b,1-h*c,_,h*c,k),b.fx=t(b),b.fx<w.fx?m(b):P=!0),P){if(f>=1)break;for(v=1;v<d.length;++v)g(d[v],1-f,d[0],f,d[v]),d[v].fx=t(d[v])}}else m(w)}return d.sort(x),{fx:d[0].fx,x:d[0]}}function y(t,e,n,r,i,a,o){var s=n.fx,u=f(n.fxprime,e),c=s,l=s,h=u,p=0;function d(l,p,d){for(var v=0;v<16;++v)if(i=(l+p)/2,g(r.x,1,n.x,i,e),c=r.fx=t(r.x,r.fxprime),h=f(r.fxprime,e),c>s+a*i*u||c>=d)p=i;else{if(Math.abs(h)<=-o*u)return i;h*(p-l)>=0&&(p=l),l=i,d=c}return 0}i=i||1,a=a||1e-6,o=o||.1;for(var v=0;v<10;++v){if(g(r.x,1,n.x,i,e),c=r.fx=t(r.x,r.fxprime),h=f(r.fxprime,e),c>s+a*i*u||v&&c>=l)return d(p,i,l);if(Math.abs(h)<=-o*u)return i;if(h>=0)return d(i,p,c);l=c,p=i,i*=2}return i}function m(t,e,n){var r,i,a,o={x:e.slice(),fx:0,fxprime:e.slice()},s={x:e.slice(),fx:0,fxprime:e.slice()},u=e.slice(),c=1;a=(n=n||{}).maxIterations||20*e.length,o.fx=t(o.x,o.fxprime),d(r=o.fxprime.slice(),o.fxprime,-1);for(var l=0;l<a;++l){if(c=y(t,r,o,s,c),n.history&&n.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice(),alpha:c}),c){g(u,1,s.fxprime,-1,o.fxprime);var h=f(o.fxprime,o.fxprime),v=Math.max(0,f(u,s.fxprime)/h);g(r,v,r,-1,s.fxprime),i=o,o=s,s=i}else d(r,o.fxprime,-1);if(p(o.fxprime)<=1e-5)break}return n.history&&n.history.push({x:o.x.slice(),fx:o.fx,fxprime:o.fxprime.slice(),alpha:c}),o}function x(t,e){(e=e||{}).maxIterations=e.maxIterations||500;var n=e.initialLayout||b,r=e.lossFunction||S;t=function(t){t=t.slice();var e,n,r,i,a=[],o={};for(e=0;e<t.length;++e){var s=t[e];1==s.sets.length?a.push(s.sets[0]):2==s.sets.length&&(r=s.sets[0],i=s.sets[1],o[[r,i]]=!0,o[[i,r]]=!0)}for(a.sort(function(t,e){return t>e}),e=0;e<a.length;++e)for(r=a[e],n=e+1;n<a.length;++n)i=a[n],[r,i]in o||t.push({sets:[r,i],size:0});return t}(t);var i,a=n(t,e),o=[],s=[];for(i in a)a.hasOwnProperty(i)&&(o.push(a[i].x),o.push(a[i].y),s.push(i));for(var u=v(function(e){for(var n={},i=0;i<s.length;++i){var o=s[i];n[o]={x:e[2*i],y:e[2*i+1],radius:a[o].radius}}return r(n,t)},o,e),c=u.x,l=0;l<s.length;++l)i=s[l],a[i].x=c[2*l],a[i].y=c[2*l+1];return a}var _=1e-10;function w(t,e,n){return Math.min(t,e)*Math.min(t,e)*Math.PI<=n+_?Math.abs(t-e):function(t,e,n,r){var i=(r=r||{}).maxIterations||100,a=r.tolerance||1e-10,o=t(e),s=t(n),u=n-e;if(o*s>0)throw"Initial bisect points must have opposite signs";if(0===o)return e;if(0===s)return n;for(var c=0;c<i;++c){var l=e+(u/=2),h=t(l);if(h*o>=0&&(e=l),Math.abs(u)<a||0===h)return l}return e+u}(function(r){return s(t,e,r)-n},0,t+e)}function b(t,e){var n=M(t,e),r=e.lossFunction||S;if(t.length>=8){var i=function(t,e){var n,r=(e=e||{}).restarts||10,i=[],a={};for(n=0;n<t.length;++n){var o=t[n];1==o.sets.length&&(a[o.sets[0]]=i.length,i.push(o))}var s,u,c,f,g,v=(s=t,c=a,f=h((u=i).length,u.length),g=h(u.length,u.length),s.filter(function(t){return 2==t.sets.length}).map(function(t){var e=c[t.sets[0]],n=c[t.sets[1]],r=w(Math.sqrt(u[e].size/Math.PI),Math.sqrt(u[n].size/Math.PI),t.size);f[e][n]=f[n][e]=r;var i=0;t.size+1e-10>=Math.min(u[e].size,u[n].size)?i=1:t.size<=1e-10&&(i=-1),g[e][n]=g[n][e]=i}),{distances:f,constraints:g}),y=v.distances,x=v.constraints,_=p(y.map(p))/y.length;y=y.map(function(t){return t.map(function(t){return t/_})});var b,M,S=function(t,e){return function(t,e,n,r){var i,a=0;for(i=0;i<e.length;++i)e[i]=0;for(i=0;i<n.length;++i)for(var o=t[2*i],s=t[2*i+1],u=i+1;u<n.length;++u){var c=t[2*u],l=t[2*u+1],h=n[i][u],f=r[i][u],p=(c-o)*(c-o)+(l-s)*(l-s),d=Math.sqrt(p),g=p-h*h;f>0&&d<=h||f<0&&d>=h||(a+=2*g*g,e[2*i]+=4*g*(o-c),e[2*i+1]+=4*g*(s-l),e[2*u]+=4*g*(c-o),e[2*u+1]+=4*g*(l-s))}return a}(t,e,y,x)};for(n=0;n<r;++n){var E=l(2*y.length).map(Math.random);M=m(S,E,e),(!b||M.fx<b.fx)&&(b=M)}var C=b.x,k={};for(n=0;n<i.length;++n){var P=i[n];k[P.sets[0]]={x:C[2*n]*_,y:C[2*n+1]*_,radius:Math.sqrt(P.size/Math.PI)}}if(e.history)for(n=0;n<e.history.length;++n)d(e.history[n].x,_);return k}(t,e),a=r(i,t),o=r(n,t);a+1e-8<o&&(n=i)}return n}function M(t,e){for(var n,r=e&&e.lossFunction?e.lossFunction:S,i={},a={},o=0;o<t.length;++o){var s=t[o];1==s.sets.length&&(n=s.sets[0],i[n]={x:1e10,y:1e10,rowid:i.length,size:s.size,radius:Math.sqrt(s.size/Math.PI)},a[n]=[])}for(t=t.filter(function(t){return 2==t.sets.length}),o=0;o<t.length;++o){var c=t[o],l=c.hasOwnProperty("weight")?c.weight:1,h=c.sets[0],f=c.sets[1];c.size+_>=Math.min(i[h].size,i[f].size)&&(l=0),a[h].push({set:f,size:c.size,weight:l}),a[f].push({set:h,size:c.size,weight:l})}var p=[];for(n in a)if(a.hasOwnProperty(n)){var d=0;for(o=0;o<a[n].length;++o)d+=a[n][o].size*a[n][o].weight;p.push({set:n,size:d})}function g(t,e){return e.size-t.size}p.sort(g);var v={};function y(t){return t.set in v}function m(t,e){i[e].x=t.x,i[e].y=t.y,v[e]=!0}for(m({x:0,y:0},p[0].set),o=1;o<p.length;++o){var x=p[o].set,b=a[x].filter(y);if(n=i[x],b.sort(g),0===b.length)throw"ERROR: missing pairwise overlap information";for(var M=[],E=0;E<b.length;++E){var C=i[b[E].set],k=w(n.radius,C.radius,b[E].size);M.push({x:C.x+k,y:C.y}),M.push({x:C.x-k,y:C.y}),M.push({y:C.y+k,x:C.x}),M.push({y:C.y-k,x:C.x});for(var P=E+1;P<b.length;++P)for(var T=i[b[P].set],A=w(n.radius,T.radius,b[P].size),I=u({x:C.x,y:C.y,radius:k},{x:T.x,y:T.y,radius:A}),O=0;O<I.length;++O)M.push(I[O])}var L=1e50,j=M[0];for(E=0;E<M.length;++E){i[x].x=M[E].x,i[x].y=M[E].y;var R=r(i,t);R<L&&(L=R,j=M[E])}m(j,x)}return i}function S(t,e){for(var n=0,r=0;r<e.length;++r){var a,u=e[r];if(1!=u.sets.length){if(2==u.sets.length){var c=t[u.sets[0]],l=t[u.sets[1]];a=s(c.radius,l.radius,o(c,l))}else a=i(u.sets.map(function(e){return t[e]}));var h=u.hasOwnProperty("weight")?u.weight:1;n+=h*(a-u.size)*(a-u.size)}}return n}function E(t,e,n){var r;if(null===n?t.sort(function(t,e){return e.radius-t.radius}):t.sort(n),t.length>0){var i=t[0].x,a=t[0].y;for(r=0;r<t.length;++r)t[r].x-=i,t[r].y-=a}if(2==t.length){var s=o(t[0],t[1]);s<Math.abs(t[1].radius-t[0].radius)&&(t[1].x=t[0].x+t[0].radius-t[1].radius-1e-10,t[1].y=t[0].y)}if(t.length>1){var u,c,l=Math.atan2(t[1].x,t[1].y)-e,h=Math.cos(l),f=Math.sin(l);for(r=0;r<t.length;++r)u=t[r].x,c=t[r].y,t[r].x=h*u-f*c,t[r].y=f*u+h*c}if(t.length>2){for(var p=Math.atan2(t[2].x,t[2].y)-e;p<0;)p+=2*Math.PI;for(;p>2*Math.PI;)p-=2*Math.PI;if(p>Math.PI){var d=t[1].y/(1e-10+t[1].x);for(r=0;r<t.length;++r){var g=(t[r].x+d*t[r].y)/(1+d*d);t[r].x=2*g-t[r].x,t[r].y=2*g*d-t[r].y}}}}function C(t){function e(t){return t.parent!==t&&(t.parent=e(t.parent)),t.parent}t.map(function(t){t.parent=t});for(var n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r){var i=t[n].radius+t[r].radius;o(t[n],t[r])+1e-10<i&&(a=t[r],s=t[n],u=void 0,u=e(a),c=e(s),u.parent=c)}var a,s,u,c,l,h={};for(n=0;n<t.length;++n)(l=e(t[n]).parent.setid)in h||(h[l]=[]),h[l].push(t[n]);t.map(function(t){delete t.parent});var f=[];for(l in h)h.hasOwnProperty(l)&&f.push(h[l]);return f}function k(t){var e=function(e){var n=Math.max.apply(null,t.map(function(t){return t[e]+t.radius})),r=Math.min.apply(null,t.map(function(t){return t[e]-t.radius}));return{max:n,min:r}};return{xRange:e("x"),yRange:e("y")}}function P(t,e,n){null===e&&(e=Math.PI/2);var r,i,a=[];for(i in t)if(t.hasOwnProperty(i)){var o=t[i];a.push({x:o.x,y:o.y,radius:o.radius,setid:i})}var s=C(a);for(r=0;r<s.length;++r){E(s[r],e,n);var u=k(s[r]);s[r].size=(u.xRange.max-u.xRange.min)*(u.yRange.max-u.yRange.min),s[r].bounds=u}s.sort(function(t,e){return e.size-t.size});var c=(a=s[0]).bounds,l=(c.xRange.max-c.xRange.min)/50;function h(t,e,n){if(t){var r,i,o,s=t.bounds;e?r=c.xRange.max-s.xRange.min+l:(r=c.xRange.max-s.xRange.max,(o=(s.xRange.max-s.xRange.min)/2-(c.xRange.max-c.xRange.min)/2)<0&&(r+=o)),n?i=c.yRange.max-s.yRange.min+l:(i=c.yRange.max-s.yRange.max,(o=(s.yRange.max-s.yRange.min)/2-(c.yRange.max-c.yRange.min)/2)<0&&(i+=o));for(var u=0;u<t.length;++u)t[u].x+=r,t[u].y+=i,a.push(t[u])}}for(var f=1;f<s.length;)h(s[f],!0,!1),h(s[f+1],!1,!0),h(s[f+2],!0,!0),f+=3,c=k(a);var p={};for(r=0;r<a.length;++r)p[a[r].setid]=a[r];return p}function T(t,e,n,r){var i=[],a=[];for(var o in t)t.hasOwnProperty(o)&&(a.push(o),i.push(t[o]));e-=2*r,n-=2*r;var s=k(i),u=s.xRange,c=s.yRange;if(u.max==u.min||c.max==c.min)return console.log("not scaling solution: zero size detected"),t;for(var l=e/(u.max-u.min),h=n/(c.max-c.min),f=Math.min(h,l),p=(e-(u.max-u.min)*f)/2,d=(n-(c.max-c.min)*f)/2,g={},v=0;v<i.length;++v){var y=i[v];g[a[v]]={radius:f*y.radius,x:r+p+(y.x-u.min)*f,y:r+d+(y.y-c.min)*f}}return g}function A(t,n){return function(){for(var r,i=e.select(this),a=i.datum(),o=t[a.sets[0]].radius||50,s=n(a)||"",u=s.split(/\s+/).reverse(),c=(s.length+u.length)/3,l=u.pop(),h=[l],f=0,p=i.text(null).append("tspan").text(l);l=u.pop();)h.push(l),r=h.join(" "),p.text(r),r.length>c&&p.node().getComputedTextLength()>o&&(h.pop(),p.text(h.join(" ")),h=[l],p=i.append("tspan").text(l),f++);var d=.35-1.1*f/2,g=i.attr("x"),v=i.attr("y");i.selectAll("tspan").attr("x",g).attr("y",v).attr("dy",function(t,e){return d+1.1*e+"em"})}}function I(t,e,n){var r,i,a=e[0].radius-o(e[0],t);for(r=1;r<e.length;++r)(i=e[r].radius-o(e[r],t))<=a&&(a=i);for(r=0;r<n.length;++r)(i=o(n[r],t)-n[r].radius)<=a&&(a=i);return a}function O(t,e){var n,r=[];for(n=0;n<t.length;++n){var a=t[n];r.push({x:a.x,y:a.y}),r.push({x:a.x+a.radius/2,y:a.y}),r.push({x:a.x-a.radius/2,y:a.y}),r.push({x:a.x,y:a.y+a.radius/2}),r.push({x:a.x,y:a.y-a.radius/2})}var s=r[0],u=I(r[0],t,e);for(n=1;n<r.length;++n){var l=I(r[n],t,e);l>=u&&(s=r[n],u=l)}var h=v(function(n){return-1*I({x:n[0],y:n[1]},t,e)},[s.x,s.y],{maxIterations:500,minErrorDelta:1e-10}).x,f={x:h[0],y:h[1]},p=!0;for(n=0;n<t.length;++n)if(o(f,t[n])>t[n].radius){p=!1;break}for(n=0;n<e.length;++n)if(o(f,e[n])<e[n].radius){p=!1;break}if(!p)if(1==t.length)f={x:t[0].x,y:t[0].y};else{var d={};i(t,d),f=0===d.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==d.arcs.length?{x:d.arcs[0].circle.x,y:d.arcs[0].circle.y}:e.length?O(t,[]):c(d.arcs.map(function(t){return t.p1}))}return f}function L(t){var e={},n=[];for(var r in t)n.push(r),e[r]=[];for(var i=0;i<n.length;i++)for(var a=t[n[i]],s=i+1;s<n.length;++s){var u=t[n[s]],c=o(a,u);c+u.radius<=a.radius+1e-10?e[n[s]].push(n[i]):c+a.radius<=u.radius+1e-10&&e[n[i]].push(n[s])}return e}function j(t,e){for(var n={},r=L(t),i=0;i<e.length;++i){for(var a=e[i].sets,o={},s={},u=0;u<a.length;++u){o[a[u]]=!0;for(var c=r[a[u]],l=0;l<c.length;++l)s[c[l]]=!0}var h=[],f=[];for(var p in t)p in o?h.push(t[p]):p in s||f.push(t[p]);var d=O(h,f);n[a]=d,d.disjoint&&e[i].size>0&&console.log("WARNING: area "+a+" not represented on screen")}return n}function R(t,e,n){var r=[];return r.push("\nM",t,e),r.push("\nm",-n,0),r.push("\na",n,n,0,1,0,2*n,0),r.push("\na",n,n,0,1,0,2*-n,0),r.join(" ")}function D(t){var e=t.split(" ");return{x:parseFloat(e[1]),y:parseFloat(e[2]),radius:-parseFloat(e[4])}}function N(t){var e={};i(t,e);var n=e.arcs;if(0===n.length)return"M 0 0";if(1==n.length){var r=n[0].circle;return R(r.x,r.y,r.radius)}for(var a=["\nM",n[0].p2.x,n[0].p2.y],o=0;o<n.length;++o){var s=n[o],u=s.circle.radius,c=s.width>u;a.push("\nA",u,u,0,c?1:0,1,s.p1.x,s.p1.y)}return a.join(" ")}t.intersectionArea=i,t.circleCircleIntersection=u,t.circleOverlap=s,t.circleArea=a,t.distance=o,t.venn=x,t.greedyLayout=M,t.scaleSolution=T,t.normalizeSolution=P,t.bestInitialLayout=b,t.lossFunction=S,t.disjointCluster=C,t.distanceFromIntersectArea=w,t.VennDiagram=function(){var t=600,n=350,r=15,i=1e3,a=Math.PI/2,o=!0,s=!0,u=!0,c=null,l=null,h={},f=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],p=0,d=function(t){if(t in h)return h[t];var e=h[t]=f[p];return(p+=1)>=f.length&&(p=0),e},g=x,v=S;function y(h){var f=h.datum(),p={};f.forEach(function(t){0==t.size&&1==t.sets.length&&(p[t.sets[0]]=1)});var y={},m={};if((f=f.filter(function(t){return!t.sets.some(function(t){return t in p})})).length>0){var x=g(f,{lossFunction:v});o&&(x=P(x,a,l)),y=T(x,t,n,r),m=j(y,f)}var _={};function w(t){return t.sets in _?_[t.sets]:1==t.sets.length?""+t.sets[0]:void 0}f.forEach(function(t){t.label&&(_[t.sets]=t.label)}),h.selectAll("svg").data([y]).enter().append("svg");var b=h.select("svg").attr("width",t).attr("height",n),M={},S=!1;b.selectAll(".venn-area path").each(function(t){var n=e.select(this).attr("d");1==t.sets.length&&n&&(S=!0,M[t.sets[0]]=D(n))});var E=function(e){return function(r){var i=e.sets.map(function(e){var i=M[e],a=y[e];return i||(i={x:t/2,y:n/2,radius:1}),a||(a={x:t/2,y:n/2,radius:1}),{x:i.x*(1-r)+a.x*r,y:i.y*(1-r)+a.y*r,radius:i.radius*(1-r)+a.radius*r}});return N(i)}},C=b.selectAll(".venn-area").data(f,function(t){return t.sets}),k=C.enter().append("g").attr("class",function(t){return"venn-area venn-"+(1==t.sets.length?"circle":"intersection")}).attr("data-venn-sets",function(t){return t.sets.join("_")}),I=k.append("path"),O=k.append("text").attr("class","label").text(function(t){return w(t)}).attr("text-anchor","middle").attr("dy",".35em").attr("x",t/2).attr("y",n/2);u&&(I.style("fill-opacity","0").filter(function(t){return 1==t.sets.length}).style("fill",function(t){return d(t.sets)}).style("fill-opacity",".25"),O.style("fill",function(t){return 1==t.sets.length?d(t.sets):"#444"}));var L=h;S?(L=h.transition("venn").duration(i)).selectAll("path").attrTween("d",E):L.selectAll("path").attr("d",function(t){return N(t.sets.map(function(t){return y[t]}))});var R=L.selectAll("text").filter(function(t){return t.sets in m}).text(function(t){return w(t)}).attr("x",function(t){return Math.floor(m[t.sets].x)}).attr("y",function(t){return Math.floor(m[t.sets].y)});s&&(S?"on"in R?R.on("end",A(y,w)):R.each("end",A(y,w)):R.each(A(y,w)));var B=C.exit().transition("venn").duration(i).remove();B.selectAll("path").attrTween("d",E);var F=B.selectAll("text").attr("x",t/2).attr("y",n/2);return null!==c&&(O.style("font-size","0px"),R.style("font-size",c),F.style("font-size","0px")),{circles:y,textCentres:m,nodes:C,enter:k,update:L,exit:B}}return y.wrap=function(t){return arguments.length?(s=t,y):s},y.width=function(e){return arguments.length?(t=e,y):t},y.height=function(t){return arguments.length?(n=t,y):n},y.padding=function(t){return arguments.length?(r=t,y):r},y.colours=function(t){return arguments.length?(d=t,y):d},y.fontSize=function(t){return arguments.length?(c=t,y):c},y.duration=function(t){return arguments.length?(i=t,y):i},y.layoutFunction=function(t){return arguments.length?(g=t,y):g},y.normalize=function(t){return arguments.length?(o=t,y):o},y.styled=function(t){return arguments.length?(u=t,y):u},y.orientation=function(t){return arguments.length?(a=t,y):a},y.orientationOrder=function(t){return arguments.length?(l=t,y):l},y.lossFunction=function(t){return arguments.length?(v=t,y):v},y},t.wrapText=A,t.computeTextCentres=j,t.computeTextCentre=O,t.sortAreas=function(t,e){for(var n=L(t.selectAll("svg").datum()),r={},i=0;i<e.sets.length;++i){var a=e.sets[i];for(var o in n)for(var s=n[o],u=0;u<s.length;++u)if(s[u]==a){r[o]=!0;break}}function c(t){for(var e=0;e<t.length;++e)if(!(t[e]in r))return!1;return!0}t.selectAll("g").sort(function(t,n){return t.sets.length!=n.sets.length?t.sets.length-n.sets.length:t==e?c(n.sets)?-1:1:n==e?c(t.sets)?1:-1:n.size-t.size})},t.circlePath=R,t.circleFromPath=D,t.intersectionAreaPath=N,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(527),n(1136))},function(t,e,n){var r=n(500),i=n(519),a=n(512),o=r.PathUtil;function s(t){var e=a.shape.venn;return r.mix({},e,{stroke:t.color,fill:t.color,fillOpacity:t.opacity},t.style)}var u=i.registerFactory("venn",{defaultShapeType:"venn",getDefaultPoints:function(t){var e=[];return r.each(t.x,function(n,r){var i=t.y[r];e.push({x:n,y:i})}),e},getActiveCfg:function(t,e){var n=e.lineWidth||1;return"hollow"===t?{lineWidth:n+1}:{fillOpacity:(e.fillOpacity||e.opacity||1)-.08}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});i.registerShape("venn","venn",{draw:function(t,e){var n=t.origin._origin.path,i=s(t),a=o.parsePathString(n);return e.addShape("path",{attrs:r.mix(i,{path:a})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},s(t))}}),i.registerShape("venn","hollow",{draw:function(t,e){var n,i,s=t.origin._origin.path,u=(n=t,i=a.shape.hollowVenn,r.mix({},i,{stroke:n.color,strokeOpacity:n.opacity},n.style)),c=o.parsePathString(s);return e.addShape("path",{attrs:r.mix(u,{path:c})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},s(t))}}),t.exports=u},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var a=n(518),o=n(500),s=n(621);n(1019);var u=function(t){r(n,t);var e=n.prototype;function n(e){var n;return n=t.call(this,e)||this,o.assign(i(i(n)),s),n}return e.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="violin",e.shapeType="violin",e.generatePoints=!0,e},e.createShapePointsCfg=function(e){var n=t.prototype.createShapePointsCfg.call(this,e);n.size=this.getNormalizedSize(e);var r=this.get("_sizeField");return n._size=e._origin[r],n},e.clearInner=function(){t.prototype.clearInner.call(this),this.set("defaultSize",null)},e._initAttrs=function(){var e=this.get("attrOptions"),n=e.size?e.size.field:this.get("_sizeField")?this.get("_sizeField"):"size";this.set("_sizeField",n),delete e.size,t.prototype._initAttrs.call(this)},n}(a),c=function(t){function e(){return t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.hasDefaultAdjust=!0,e.adjusts=[{type:"dodge"}],e},e}(u);u.Dodge=c,a.Violin=u,a.ViolinDodge=c,t.exports=u},function(t,e,n){var r=n(500),i=n(519),a=n(512),o=n(533);function s(t){var e=a.shape.venn;return r.mix({},e,{stroke:t.color,fill:t.color,fillOpacity:t.opacity},t.style)}function u(t){var e=a.shape.hollowVenn;return r.mix({},e,{stroke:t.color,strokeOpacity:t.opacity},t.style)}function c(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(r){var i=0===n?"M":"L";e.push([i,r.x,r.y])}}var a=t[0];return e.push(["L",a.x,a.y]),e.push(["z"]),e}function l(t){for(var e=t.length/2,n=[],r=[],i=0;i<t.length;i++)i<e?n.push(t[i]):r.push(t[i]);var a=o.getSplinePath(n,!1),s=o.getSplinePath(r,!1);a.push(["L",r[0].x,r[0].y]),s.shift();var u=a.concat(s);return u.push(["L",n[0].x,n[0].y]),u.push(["z"]),u}var h=i.registerFactory("violin",{defaultShapeType:"violin",getDefaultPoints:function(t){var e,n,i=t.size/2,a=[],o=(e=t._size,n=Math.max.apply(null,e),e.map(function(t){return t/n}));return r.each(t.y,function(e,n){var r=o[n]*i,s=0===n,u=n===t.y.length-1;a.push({isMin:s,isMax:u,x:t.x-r,y:e}),a.unshift({isMin:s,isMax:u,x:t.x+r,y:e})}),a},getActiveCfg:function(t,e){var n=e.lineWidth||1;return"hollow"===t?{lineWidth:n+1}:{fillOpacity:(e.fillOpacity||e.opacity||1)-.08}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});i.registerShape("violin","violin",{draw:function(t,e){var n=s(t),i=c(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},s(t))}}),i.registerShape("violin","smooth",{draw:function(t,e){var n=s(t),i=l(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},s(t))}}),i.registerShape("violin","hollow",{draw:function(t,e){var n=u(t),i=c(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},u(t))}}),i.registerShape("violin","smoothHollow",{draw:function(t,e){var n=u(t),i=l(t.points);return i=this.parsePath(i),e.addShape("path",{attrs:r.mix(n,{path:i})})},getMarkerCfg:function(t){return r.mix({symbol:"circle",radius:4},u(t))}}),t.exports=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=o(n(528)),a=o(n(1));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"View"));return n.getViewId=function(){return n.id},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,[{key:"getChildContext",value:function(){return{addElement:this.context.addElement,updateElement:this.context.updateElement,deleteElement:this.context.deleteElement,createId:this.context.createId,getParentInfo:this.getParentInfo,getViewId:this.getViewId}}}]),e}();s.contextTypes={addElement:a.default.func,updateElement:a.default.func,deleteElement:a.default.func,createId:a.default.func,getParentInfo:a.default.func,getViewId:a.default.func},s.childContextTypes={addElement:a.default.func,updateElement:a.default.func,deleteElement:a.default.func,createId:a.default.func,getParentInfo:a.default.func,getViewId:a.default.func},e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(528),a=(r=i)&&r.__esModule?r:{default:r};var o=a.default.generateBaseTypedComponent("Guide");o.Line=a.default.generateBaseTypedComponent("GuideLine"),o.Image=a.default.generateBaseTypedComponent("GuideImage"),o.Text=a.default.generateBaseTypedComponent("GuideText"),o.Region=a.default.generateBaseTypedComponent("GuideRegion"),o.Html=a.default.generateBaseTypedComponent("GuideHtml"),o.Arc=a.default.generateBaseTypedComponent("GuideArc"),o.RegionFilter=a.default.generateBaseTypedComponent("GuideRegionFilter"),o.DataMarker=a.default.generateBaseTypedComponent("GuideDataMarker"),o.DataRegion=a.default.generateBaseTypedComponent("GuideDataRegion"),e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n(80)),a=s(n(528)),o=s(n(1));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"Label"))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"componentWillMount",value:function(){var t=this.context.getParentInfo();(0,i.default)("Geom"===t.name,"`<Label />` must be wrapped in `<Geom />`"),this.id=this.context.createId(),this.context.addElement(this.name,this.id,this.props,this.context.getParentInfo(),this.context.getViewId())}}]),e}();u.contextTypes={addElement:o.default.func,updateElement:o.default.func,deleteElement:o.default.func,createId:o.default.func,getParentInfo:o.default.func,getViewId:o.default.func},u.childContextTypes={addElement:o.default.func,updateElement:o.default.func,deleteElement:o.default.func,createId:o.default.func,getParentInfo:o.default.func,getViewId:o.default.func},e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(1024);var r,i=n(528),a=(r=i)&&r.__esModule?r:{default:r};e.default=a.default.generateBaseTypedComponent("Facet")},function(t,e,n){var r=n(500),i=n(710),a={};a.Rect=n(734),a.List=n(735),a.Circle=n(1025),a.Tree=n(1026),a.Mirror=n(1027),a.Matrix=n(1028),i.prototype.facet=function(t,e){var n=a[r.upperFirst(t)];if(!n)throw new Error("Not support such type of facets as: "+t);var i=this.get("facets");i&&i.destroy(),e.chart=this;var o=new n(e);this.set("facets",o)},t.exports=a},function(t,e,n){function r(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}var i=function(t){var e,n;function i(){return t.apply(this,arguments)||this}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="circle",e},a.getRegion=function(t,e){var n=2*Math.PI/t,i=-1*Math.PI/2+n*e,a=.5/(1+1/Math.sin(n/2)),o=r({x:.5,y:.5},.5-a,i),s=5*Math.PI/4,u=1*Math.PI/4;return{start:r(o,a,s),end:r(o,a,u)}},a.generateFacets=function(t){var e=this,n=e.fields[0];if(!n)throw"Please specify for the field for facet!";var r=e.getFieldValues(n,t),i=r.length,a=[];return r.forEach(function(o,s){var u=[{field:n,value:o,values:r}],c=e.getFilter(u),l=t.filter(c),h={type:e.type,colValue:o,colField:n,colIndex:s,cols:i,rows:1,rowIndex:0,data:l,region:e.getRegion(i,s)};a.push(h)}),a},i}(n(576));t.exports=i},function(t,e,n){var r=n(576),i=n(500).assign,a=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="tree",e.line={lineWidth:1,stroke:"#ddd"},e.lineSmooth=!1,e},a.generateFacets=function(t){if(!this.fields.length)throw"Please specify for the fields for facet!";var e=[],n=this.getRootFacet(t);return e.push(n),n.children=this.getChildFacets(t,1,e),this.setRegion(e),e},a.getRootFacet=function(t){return{type:this.type,rows:this.getRows(),rowIndex:0,colIndex:0,colValue:this.rootTitle,data:t}},a.getRows=function(){return this.fields.length+1},a.getChildFacets=function(t,e,n){var r=this,i=r.fields;if(!(i.length<e)){var a=[],o=i[e-1],s=r.getFieldValues(o,t);return s.forEach(function(i,u){var c=[{field:o,value:i,values:s}],l=r.getFilter(c),h=t.filter(l);if(h.length){var f={type:r.type,colValue:i,colField:o,colIndex:u,rows:r.getRows(),rowIndex:e,data:h,children:r.getChildFacets(h,e+1,n)};a.push(f),n.push(f)}}),a}},a.setRegion=function(t){var e=this;e.forceColIndex(t),t.forEach(function(t){t.region=e.getRegion(t.rows,t.cols,t.colIndex,t.rowIndex)})},a.forceColIndex=function(t){var e=this,n=[],r=0;t.forEach(function(t){e.isLeaf(t)&&(n.push(t),t.colIndex=r,r++)}),n.forEach(function(t){t.cols=n.length});for(var i=e.fields.length-1;i>=0;i--)for(var a=e.getFacetsByLevel(t,i),o=0;o<a.length;o++){var s=a[o];e.isLeaf(s)||(s.originColIndex=s.colIndex,s.colIndex=e.getRegionIndex(s.children),s.cols=n.length)}},a.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(t){t.rowIndex===e&&n.push(t)}),n},a.getRegion=function(t,e,n,r){var i=1/e,a=1/t,o={x:i*n,y:a*r};return{start:o,end:{x:o.x+i,y:o.y+2*a/3}}},a.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].colIndex-e.colIndex)/2+e.colIndex},a.isLeaf=function(t){return!t.children||!t.children.length},a.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1&&(e[t].label=null,e[t].title=null)},a.setYAxis=function(t,e,n){0!==n.originColIndex&&0!==n.colIndex&&(e[t].title=null,e[t].label=null)},a.onPaint=function(){t.prototype.onPaint.call(this),this.group.clear(),this.facets&&this.line&&this.drawLines(this.facets,this.group)},a.drawLines=function(t,e){var n=this,r=e.addGroup();t.forEach(function(t){if(!n.isLeaf(t)){var e=t.children;n._addFacetLines(t,e,r)}})},a._addFacetLines=function(t,e,n){var r=this,i=t.view.getViewRegion(),a={x:i.start.x+(i.end.x-i.start.x)/2,y:i.start.y};e.forEach(function(t){var e=t.view.getViewRegion(),i={x:e.start.x+(e.end.x-e.start.x)/2,y:e.end.y},o={x:a.x,y:a.y+(i.y-a.y)/2},s={x:i.x,y:o.y};r._drawLine([a,o,s,i],n)})},a._getPath=function(t){var e=[];return this.lineSmooth?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(t,n){0===n?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])}),e},a._drawLine=function(t,e){var n=this._getPath(t),r=this.line;e.addShape("path",{attrs:i({path:n},r)})},r}(r);t.exports=a},function(t,e,n){var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="mirror",this.transpose=!1,e},i.init=function(){this.transpose?(this.cols=2,this.rows=1):(this.cols=1,this.rows=2),t.prototype.init.call(this)},i.beforeProcessView=function(t,e){this.transpose?e.colIndex%2==0?t.coord().transpose().scale(-1,1):t.coord().transpose():e.rowIndex%2!=0&&t.coord().scale(1,-1)},i.renderTitle=function(t,e){this.transpose?this.drawColTitle(t,e):this.drawRowTitle(t,e)},i.setXAxis=function(t,e,n){1!==n.colIndex&&1!==n.rowIndex||(e[t].label=null,e[t].title=null)},i.setYAxis=function(){},r}(n(735));t.exports=r},function(t,e,n){var r=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e.type="matrix",e.showTitle=!1,e},i.generateFacets=function(t){for(var e=this.fields,n=e.length,r=n,i=[],a=0;a<r;a++)for(var o=e[a],s=0;s<n;s++){var u=e[s],c={type:this.type,colValue:o,rowValue:u,colField:o,rowField:u,colIndex:a,rowIndex:s,cols:r,rows:n,data:t,region:this.getRegion(n,r,a,s)};i.push(c)}return i},i.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1&&(e[t].title=null,e[t].label=null)},i.setYAxis=function(t,e,n){0!==n.colIndex&&(e[t].title=null,e[t].label=null)},r}(n(734));t.exports=r},function(t,e,n){var r=n(501),i=n(498),a=i.geoArea,o=i.geoCentroid,s=i.geoContains,u=i.geoDistance,c=i.geoLength,l=n(748).geoProject,h=n(555),f=n(736);r(h.prototype,{geoArea:function(t){return a(t)},geoAreaByName:function(t){return a(this.geoFeatureByName(t))},geoCentroid:function(t){return o(t)},geoCentroidByName:function(t){return o(this.geoFeatureByName(t))},geoDistance:function(t,e){return u(t,e)},geoLength:function(t){return c(t)},geoLengthByName:function(t){return c(this.geoFeatureByName(t))},geoContains:function(t,e){return s(t,e)},geoFeatureByName:function(t){var e;return this.rows.some(function(n){return n.name===t&&(e=n,!0)}),e},geoFeatureByPosition:function(t){var e;return this.rows.some(function(n){return!!s(n,t)&&(e=n,!0)}),e},geoNameByPosition:function(t){var e=this.geoFeatureByPosition(t);if(e)return e.name},getGeoProjection:f,geoProject:function(t,e,n){return e=f(e,n),l(t,e)},geoProjectByName:function(t,e,n){return e=f(e,n),l(this.geoFeatureByName(t),e)},geoProjectPosition:function(t,e,n){return(e=f(e,n))(t)},geoProjectInvert:function(t,e,n){return(e=f(e,n)).invert(t)}})},function(t,e,n){!function(t,e,n){"use strict";var r=1e-6;function i(){}var a=1/0,o=a,s=-a,u=s,c={point:function(t,e){t<a&&(a=t),t>s&&(s=t),e<o&&(o=e),e>u&&(u=e)},lineStart:i,lineEnd:i,polygonStart:i,polygonEnd:i,result:function(){var t=[[a,o],[s,u]];return s=u=-(o=a=1/0),t}};function l(t,n,r){var i=n[1][0]-n[0][0],a=n[1][1]-n[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),e.geoStream(r,t.stream(c));var s=c.result(),u=Math.min(i/(s[1][0]-s[0][0]),a/(s[1][1]-s[0][1])),l=+n[0][0]+(i-u*(s[1][0]+s[0][0]))/2,h=+n[0][1]+(a-u*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*u).translate([l,h])}function h(t,e,n){return l(t,[[0,0],e],n)}t.geoAlbersUsa=function(){var t,i,a,o,s,u,c=e.geoAlbers(),f=e.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p=e.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),d={point:function(t,e){u=[t,e]}};function g(t){var e=t[0],n=t[1];return u=null,a.point(e,n),u||(o.point(e,n),u)||(s.point(e,n),u)}function v(){return t=i=null,g}return g.invert=function(t){var e=c.scale(),n=c.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?f:i>=.166&&i<.234&&r>=-.214&&r<-.115?p:c).invert(t)},g.stream=function(e){return t&&i===e?t:(n=[c.stream(i=e),f.stream(e),p.stream(e)],r=n.length,t={point:function(t,e){for(var i=-1;++i<r;)n[i].point(t,e)},sphere:function(){for(var t=-1;++t<r;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)n[t].polygonEnd()}});var n,r},g.precision=function(t){return arguments.length?(c.precision(t),f.precision(t),p.precision(t),v()):c.precision()},g.scale=function(t){return arguments.length?(c.scale(t),f.scale(.35*t),p.scale(t),g.translate(c.translate())):c.scale()},g.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),n=+t[0],i=+t[1];return a=c.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(d),o=f.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+r,i+.12*e+r],[n-.214*e-r,i+.234*e-r]]).stream(d),s=p.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+r,i+.166*e+r],[n-.115*e-r,i+.234*e-r]]).stream(d),v()},g.fitExtent=function(t,e){return l(g,t,e)},g.fitSize=function(t,e){return h(g,t,e)},g.drawCompositionBorders=function(t){var e=c([-102.91,26.3]),n=c([-104,27.5]),r=c([-108,29.1]),i=c([-110,29.1]),a=c([-110,26.7]),o=c([-112.8,27.6]),s=c([-114.3,30.6]),u=c([-119.3,30.1]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.moveTo(a[0],a[1]),t.lineTo(o[0],o[1]),t.lineTo(s[0],s[1]),t.lineTo(u[0],u[1])},g.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},g.scale(1070)},t.geoAlbersUsaTerritories=function(){var t,i,a,o,s,u,c,f,p,d=e.geoAlbers(),g=e.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),v=e.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),y=e.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),m=e.geoEquirectangular().rotate([173,14]),x=e.geoEquirectangular().rotate([-145,-16.8]),_={point:function(t,e){p=[t,e]}};function w(t){var e=t[0],n=t[1];return p=null,a.point(e,n),p||(o.point(e,n),p)||(s.point(e,n),p)||(u.point(e,n),p)||(c.point(e,n),p)||(f.point(e,n),p)}function b(){return t=i=null,w}return w.invert=function(t){var e=d.scale(),n=d.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?g:i>=.166&&i<.234&&r>=-.214&&r<-.115?v:i>=.2064&&i<.2413&&r>=.312&&r<.385?y:i>=.09&&i<.1197&&r>=-.4243&&r<-.3232?m:i>=-.0518&&i<.0895&&r>=-.4243&&r<-.3824?x:d).invert(t)},w.stream=function(e){return t&&i===e?t:(n=[d.stream(i=e),g.stream(e),v.stream(e),y.stream(e),m.stream(e),x.stream(e)],r=n.length,t={point:function(t,e){for(var i=-1;++i<r;)n[i].point(t,e)},sphere:function(){for(var t=-1;++t<r;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)n[t].polygonEnd()}});var n,r},w.precision=function(t){return arguments.length?(d.precision(t),g.precision(t),v.precision(t),y.precision(t),m.precision(t),x.precision(t),b()):d.precision()},w.scale=function(t){return arguments.length?(d.scale(t),g.scale(.35*t),v.scale(t),y.scale(t),m.scale(2*t),x.scale(t),w.translate(d.translate())):d.scale()},w.translate=function(t){if(!arguments.length)return d.translate();var e=d.scale(),n=+t[0],i=+t[1];return a=d.translate(t).clipExtent([[n-.455*e,i-.238*e],[n+.455*e,i+.238*e]]).stream(_),o=g.translate([n-.307*e,i+.201*e]).clipExtent([[n-.425*e+r,i+.12*e+r],[n-.214*e-r,i+.233*e-r]]).stream(_),s=v.translate([n-.205*e,i+.212*e]).clipExtent([[n-.214*e+r,i+.166*e+r],[n-.115*e-r,i+.233*e-r]]).stream(_),u=y.translate([n+.35*e,i+.224*e]).clipExtent([[n+.312*e+r,i+.2064*e+r],[n+.385*e-r,i+.233*e-r]]).stream(_),c=m.translate([n-.492*e,i+.09*e]).clipExtent([[n-.4243*e+r,i+.0903*e+r],[n-.3233*e-r,i+.1197*e-r]]).stream(_),f=x.translate([n-.408*e,i+.018*e]).clipExtent([[n-.4244*e+r,i-.0519*e+r],[n-.3824*e-r,i+.0895*e-r]]).stream(_),b()},w.fitExtent=function(t,e){return l(w,t,e)},w.fitSize=function(t,e){return h(w,t,e)},w.drawCompositionBorders=function(t){var e=d([-110.4641,28.2805]),n=d([-104.0597,28.9528]),r=d([-103.7049,25.1031]),i=d([-109.8337,24.4531]),a=d([-124.4745,28.1407]),o=d([-110.931,30.8844]),s=d([-109.8337,24.4531]),u=d([-122.4628,21.8562]),c=d([-76.8579,25.1544]),l=d([-72.429,24.2097]),h=d([-72.8265,22.7056]),f=d([-77.1852,23.6392]),p=d([-125.0093,29.7791]),g=d([-118.5193,31.3262]),v=d([-118.064,29.6912]),y=d([-124.4369,28.169]),m=d([-128.1314,37.4582]),x=d([-125.2132,38.214]),_=d([-122.3616,30.5115]),w=d([-125.0315,29.8211]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),t.moveTo(a[0],a[1]),t.lineTo(o[0],o[1]),t.lineTo(s[0],s[1]),t.lineTo(s[0],s[1]),t.lineTo(u[0],u[1]),t.closePath(),t.moveTo(c[0],c[1]),t.lineTo(l[0],l[1]),t.lineTo(h[0],h[1]),t.lineTo(h[0],h[1]),t.lineTo(f[0],f[1]),t.closePath(),t.moveTo(p[0],p[1]),t.lineTo(g[0],g[1]),t.lineTo(v[0],v[1]),t.lineTo(v[0],v[1]),t.lineTo(y[0],y[1]),t.closePath(),t.moveTo(m[0],m[1]),t.lineTo(x[0],x[1]),t.lineTo(_[0],_[1]),t.lineTo(_[0],_[1]),t.lineTo(w[0],w[1]),t.closePath()},w.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},w.scale(1070)},t.geoConicConformalSpain=function(){var t,i,a,o,s,u=e.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),c=e.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),f={point:function(t,e){s=[t,e]}};function p(t){var e=t[0],n=t[1];return s=null,a.point(e,n),s||(o.point(e,n),s)}function d(){return t=i=null,p}return p.invert=function(t){var e=u.scale(),n=u.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.05346&&i<.0897&&r>=-.13388&&r<-.0322?c:u).invert(t)},p.stream=function(e){return t&&i===e?t:(n=[u.stream(i=e),c.stream(e)],r=n.length,t={point:function(t,e){for(var i=-1;++i<r;)n[i].point(t,e)},sphere:function(){for(var t=-1;++t<r;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)n[t].polygonEnd()}});var n,r},p.precision=function(t){return arguments.length?(u.precision(t),c.precision(t),d()):u.precision()},p.scale=function(t){return arguments.length?(u.scale(t),c.scale(t),p.translate(u.translate())):u.scale()},p.translate=function(t){if(!arguments.length)return u.translate();var e=u.scale(),n=+t[0],i=+t[1];return a=u.translate(t).clipExtent([[n-.06857*e,i-.1288*e],[n+.13249*e,i+.06*e]]).stream(f),o=c.translate([n+.1*e,i-.094*e]).clipExtent([[n-.1331*e+r,i+.053457*e+r],[n-.0354*e-r,i+.08969*e-r]]).stream(f),d()},p.fitExtent=function(t,e){return l(p,t,e)},p.fitSize=function(t,e){return h(p,t,e)},p.drawCompositionBorders=function(t){var e=u([-14.034675,34.965007]),n=u([-7.4208899,35.536988]),r=u([-7.3148275,33.54359]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1])},p.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},p.scale(2700)},t.geoConicConformalPortugal=function(){var t,i,a,o,s,u,c=e.geoConicConformal().rotate([10,-39.3]).parallels([0,60]),f=e.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),p=e.geoConicConformal().rotate([27.8,-38.6]).parallels([0,60]),d={point:function(t,e){u=[t,e]}};function g(t){var e=t[0],n=t[1];return u=null,a.point(e,n),u||(o.point(e,n),u)||(s.point(e,n),u)}function v(){return t=i=null,g}return g.invert=function(t){var e=c.scale(),n=c.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.0093&&i<.03678&&r>=-.03875&&r<-.0116?f:i>=-.0412&&i<.0091&&r>=-.07782&&r<-.01166?p:c).invert(t)},g.stream=function(e){return t&&i===e?t:(n=[c.stream(i=e),f.stream(e),p.stream(e)],r=n.length,t={point:function(t,e){for(var i=-1;++i<r;)n[i].point(t,e)},sphere:function(){for(var t=-1;++t<r;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)n[t].polygonEnd()}});var n,r},g.precision=function(t){return arguments.length?(c.precision(t),f.precision(t),p.precision(t),v()):c.precision()},g.scale=function(t){return arguments.length?(c.scale(t),f.scale(t),p.scale(.6*t),g.translate(c.translate())):c.scale()},g.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),n=+t[0],i=+t[1];return a=c.translate(t).clipExtent([[n-.0115*e,i-.1138*e],[n+.2105*e,i+.0673*e]]).stream(d),o=f.translate([n-.0265*e,i+.025*e]).clipExtent([[n-.0388*e+r,i+.0093*e+r],[n-.0116*e-r,i+.0368*e-r]]).stream(d),s=p.translate([n-.045*e,i+-.02*e]).clipExtent([[n-.0778*e+r,i-.0413*e+r],[n-.0117*e-r,i+.0091*e-r]]).stream(d),v()},g.fitExtent=function(t,e){return l(g,t,e)},g.fitSize=function(t,e){return h(g,t,e)},g.drawCompositionBorders=function(t){var e=c([-12.8351,38.7113]),n=c([-10.8482,38.7633]),r=c([-10.8181,37.2072]),i=c([-12.7345,37.1573]),a=c([-16.0753,41.4436]),o=c([-10.9168,41.6861]),s=c([-10.8557,38.7747]),u=c([-15.6728,38.5505]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),t.moveTo(a[0],a[1]),t.lineTo(o[0],o[1]),t.lineTo(s[0],s[1]),t.lineTo(s[0],s[1]),t.lineTo(u[0],u[1]),t.closePath()},g.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},g.scale(4200)},t.geoMercatorEcuador=function(){var t,i,a,o,s,u=e.geoMercator().rotate([80,1.5]),c=e.geoMercator().rotate([90.73,1]),f={point:function(t,e){s=[t,e]}};function p(t){var e=t[0],n=t[1];return s=null,a.point(e,n),s||(o.point(e,n),s)}function d(){return t=i=null,p}return p.invert=function(t){var e=u.scale(),n=u.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=-.0676&&i<-.026&&r>=-.0857&&r<-.0263?c:u).invert(t)},p.stream=function(e){return t&&i===e?t:(n=[u.stream(i=e),c.stream(e)],r=n.length,t={point:function(t,e){for(var i=-1;++i<r;)n[i].point(t,e)},sphere:function(){for(var t=-1;++t<r;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)n[t].polygonEnd()}});var n,r},p.precision=function(t){return arguments.length?(u.precision(t),c.precision(t),d()):u.precision()},p.scale=function(t){return arguments.length?(u.scale(t),c.scale(t),p.translate(u.translate())):u.scale()},p.translate=function(t){if(!arguments.length)return u.translate();var e=u.scale(),n=+t[0],i=+t[1];return a=u.translate(t).clipExtent([[n-.0262*e,i-.0734*e],[n+.1741*e,i+.079*e]]).stream(f),o=c.translate([n-.06*e,i-.04*e]).clipExtent([[n-.0857*e+r,i-.0676*e+r],[n-.0263*e-r,i-.026*e-r]]).stream(f),d()},p.fitExtent=function(t,e){return l(p,t,e)},p.fitSize=function(t,e){return h(p,t,e)},p.drawCompositionBorders=function(t){var e=u([-84.9032,2.3757]),n=u([-81.5047,2.3708]),r=u([-81.5063,-.01]),i=u([-84.9086,-.005]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath()},p.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},p.scale(3500)},t.geoTransverseMercatorChile=function(){var t,i,a,o,s,u,c,f=e.geoTransverseMercator().rotate([72,37]),p=e.geoStereographic().rotate([72,0]),d=e.geoMercator().rotate([80,33.5]),g=e.geoMercator().rotate([110,25]),v={point:function(t,e){c=[t,e]}};function y(t){var e=t[0],n=t[1];return c=null,a.point(e,n),c||(o.point(e,n),c)||(s.point(e,n),c)||(u.point(e,n),c)}function m(){return t=i=null,y}return y.invert=function(t){var e=f.scale(),n=f.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.2582&&i<.32&&r>=-.1036&&r<-.087?p:i>=-.01298&&i<.0133&&r>=-.11396&&r<-.05944?d:i>=.01539&&i<.03911&&r>=-.089&&r<-.0588?g:f).invert(t)},y.stream=function(e){return t&&i===e?t:(n=[f.stream(i=e),p.stream(e),d.stream(e),g.stream(e)],r=n.length,t={point:function(t,e){for(var i=-1;++i<r;)n[i].point(t,e)},sphere:function(){for(var t=-1;++t<r;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)n[t].polygonEnd()}});var n,r},y.precision=function(t){return arguments.length?(f.precision(t),p.precision(t),d.precision(t),g.precision(t),m()):f.precision()},y.scale=function(t){return arguments.length?(f.scale(t),p.scale(.15*t),d.scale(1.5*t),g.scale(1.5*t),y.translate(f.translate())):f.scale()},y.translate=function(t){if(!arguments.length)return f.translate();var e=f.scale(),n=+t[0],i=+t[1];return a=f.translate(t).clipExtent([[n-.059*e,i-.3835*e],[n+.4498*e,i+.3375*e]]).stream(v),o=p.translate([n-.087*e,i+.17*e]).clipExtent([[n-.1166*e+r,i+.2582*e+r],[n-.06*e-r,i+.32*e-r]]).stream(v),s=d.translate([n-.092*e,i-0*e]).clipExtent([[n-.114*e+r,i-.013*e+r],[n-.0594*e-r,i+.0133*e-r]]).stream(v),u=g.translate([n-.089*e,i-.0265*e]).clipExtent([[n-.089*e+r,i+.0154*e+r],[n-.0588*e-r,i+.0391*e-r]]).stream(v),m()},y.fitExtent=function(t,e){return l(y,t,e)},y.fitSize=function(t,e){return h(y,t,e)},y.drawCompositionBorders=function(t){var e=f([-82.6999,-51.3043]),n=f([-77.5442,-51.6631]),r=f([-78.0254,-55.186]),i=f([-83.6106,-54.7785]),a=f([-80.0638,-35.984]),o=f([-76.2153,-36.1811]),s=f([-76.2994,-37.6839]),u=f([-80.2231,-37.4757]),c=f([-78.442,-37.706]),l=f([-76.263,-37.8054]),h=f([-76.344,-39.1595]),p=f([-78.5638,-39.0559]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),t.moveTo(a[0],a[1]),t.lineTo(o[0],o[1]),t.lineTo(s[0],s[1]),t.lineTo(s[0],s[1]),t.lineTo(u[0],u[1]),t.closePath(),t.moveTo(c[0],c[1]),t.lineTo(l[0],l[1]),t.lineTo(h[0],h[1]),t.lineTo(h[0],h[1]),t.lineTo(p[0],p[1]),t.closePath()},y.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},y.scale(700)},t.geoConicEquidistantJapan=function(){var t,i,a,o,s,u,c=e.geoConicEquidistant().rotate([-136,-22]).parallels([40,34]),f=e.geoConicEquidistant().rotate([-146,-26]).parallels([40,34]),p=e.geoConicEquidistant().rotate([-126,-19]).parallels([40,34]),d={point:function(t,e){u=[t,e]}};function g(t){var e=t[0],n=t[1];return u=null,a.point(e,n),u||(o.point(e,n),u)||(s.point(e,n),u)}function v(){return t=i=null,g}return g.invert=function(t){var e=c.scale(),n=c.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=-.10925&&i<-.02701&&r>=-.135&&r<-.0397?f:i>=.04713&&i<.11138&&r>=-.03986&&r<.051?p:c).invert(t)},g.stream=function(e){return t&&i===e?t:(n=[c.stream(i=e),f.stream(e),p.stream(e)],r=n.length,t={point:function(t,e){for(var i=-1;++i<r;)n[i].point(t,e)},sphere:function(){for(var t=-1;++t<r;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)n[t].polygonEnd()}});var n,r},g.precision=function(t){return arguments.length?(c.precision(t),f.precision(t),p.precision(t),v()):c.precision()},g.scale=function(t){return arguments.length?(c.scale(t),f.scale(t),p.scale(.7*t),g.translate(c.translate())):c.scale()},g.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),n=+t[0],i=+t[1];return a=c.translate(t).clipExtent([[n-.1352*e,i-.1091*e],[n+.117*e,i+.098*e]]).stream(d),o=f.translate([n-.0425*e,i-.005*e]).clipExtent([[n-.135*e+r,i-.1093*e+r],[n-.0397*e-r,i-.027*e-r]]).stream(d),s=p.translate(t).clipExtent([[n-.0399*e+r,i+.0471*e+r],[n+.051*e-r,i+.1114*e-r]]).stream(d),v()},g.fitExtent=function(t,e){return l(g,t,e)},g.fitSize=function(t,e){return h(g,t,e)},g.drawCompositionBorders=function(t){var e=c([126.01320483689143,41.621090310215585]),n=c([133.04304387025903,42.15087523707186]),r=c([133.3021766080688,37.43975444725098]),i=c([126.87889168628224,36.95488945159779]),a=c([132.9,29.8]),o=c([134,33]),s=c([139.3,33.2]),u=c([139.16,30.5]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),t.moveTo(a[0],a[1]),t.lineTo(o[0],o[1]),t.lineTo(s[0],s[1]),t.lineTo(u[0],u[1])},g.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},g.scale(2200)},t.geoConicConformalFrance=function(){var t,i,a,o,s,u,c,f,p,d,g,v,y,m,x,_=e.geoConicConformal().rotate([-3,-46.2]).parallels([0,60]),w=e.geoMercator().center([-53.2,3.9]),b=e.geoMercator().center([-61.03,14.67]),M=e.geoMercator().center([-61.46,16.14]),S=e.geoMercator().center([-62.85,17.92]),E=e.geoMercator().center([-56.23,46.93]),C=e.geoMercator().center([45.16,-12.8]),k=e.geoMercator().center([55.52,-21.13]),P=e.geoMercator().center([165.8,-21.07]),T=e.geoMercator().center([-178.1,-14.3]),A=e.geoMercator().center([-150.55,-17.11]),I=e.geoMercator().center([-150.55,-17.11]),O={point:function(t,e){x=[t,e]}};function L(t){var e=t[0],n=t[1];return x=null,a.point(e,n),x||(o.point(e,n),x)||(s.point(e,n),x)||(u.point(e,n),x)||(c.point(e,n),x)||(f.point(e,n),x)||(p.point(e,n),x)||(d.point(e,n),x)||(g.point(e,n),x)||(v.point(e,n),x)||(y.point(e,n),x)||(m.point(e,n),x)}function j(){return t=i=null,L}return L.invert=function(t){var e=_.scale(),n=_.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.029&&i<.0864&&r>=-.14&&r<-.0996?w:i>=0&&i<.029&&r>=-.14&&r<-.0996?b:i>=-.032&&i<0&&r>=-.14&&r<-.0996?M:i>=-.052&&i<-.032&&r>=-.14&&r<-.0996?S:i>=-.076&&i<.052&&r>=-.14&&r<-.0996?E:i>=-.076&&i<-.052&&r>=.0967&&r<.1371?C:i>=-.052&&i<-.02&&r>=.0967&&r<.1371?k:i>=-.02&&i<.012&&r>=.0967&&r<.1371?P:i>=.012&&i<.033&&r>=.0967&&r<.1371?T:i>=.033&&i<.0864&&r>=.0967&&r<.1371?A:_).invert(t)},L.stream=function(e){return t&&i===e?t:(n=[_.stream(i=e),w.stream(e),b.stream(e),M.stream(e),S.stream(e),E.stream(e),C.stream(e),k.stream(e),P.stream(e),T.stream(e),A.stream(e),I.stream(e)],r=n.length,t={point:function(t,e){for(var i=-1;++i<r;)n[i].point(t,e)},sphere:function(){for(var t=-1;++t<r;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)n[t].polygonEnd()}});var n,r},L.precision=function(t){return arguments.length?(_.precision(t),w.precision(t),b.precision(t),M.precision(t),S.precision(t),E.precision(t),C.precision(t),k.precision(t),P.precision(t),T.precision(t),A.precision(t),I.precision(t),j()):_.precision()},L.scale=function(t){return arguments.length?(_.scale(t),w.scale(.6*t),b.scale(1.6*t),M.scale(1.4*t),S.scale(5*t),E.scale(1.3*t),C.scale(1.6*t),k.scale(1.2*t),P.scale(.3*t),T.scale(2.7*t),A.scale(.5*t),I.scale(.06*t),L.translate(_.translate())):_.scale()},L.translate=function(t){if(!arguments.length)return _.translate();var e=_.scale(),n=+t[0],i=+t[1];return a=_.translate(t).clipExtent([[n-.0996*e,i-.0908*e],[n+.0967*e,i+.0864*e]]).stream(O),o=w.translate([n-.12*e,i+.0575*e]).clipExtent([[n-.14*e+r,i+.029*e+r],[n-.0996*e-r,i+.0864*e-r]]).stream(O),s=b.translate([n-.12*e,i+.013*e]).clipExtent([[n-.14*e+r,i+0*e+r],[n-.0996*e-r,i+.029*e-r]]).stream(O),u=M.translate([n-.12*e,i-.014*e]).clipExtent([[n-.14*e+r,i-.032*e+r],[n-.0996*e-r,i+0*e-r]]).stream(O),c=S.translate([n-.12*e,i-.044*e]).clipExtent([[n-.14*e+r,i-.052*e+r],[n-.0996*e-r,i-.032*e-r]]).stream(O),f=E.translate([n-.12*e,i-.065*e]).clipExtent([[n-.14*e+r,i-.076*e+r],[n-.0996*e-r,i-.052*e-r]]).stream(O),p=C.translate([n+.117*e,i-.064*e]).clipExtent([[n+.0967*e+r,i-.076*e+r],[n+.1371*e-r,i-.052*e-r]]).stream(O),d=k.translate([n+.116*e,i-.0355*e]).clipExtent([[n+.0967*e+r,i-.052*e+r],[n+.1371*e-r,i-.02*e-r]]).stream(O),g=P.translate([n+.116*e,i-.0048*e]).clipExtent([[n+.0967*e+r,i-.02*e+r],[n+.1371*e-r,i+.012*e-r]]).stream(O),v=T.translate([n+.116*e,i+.022*e]).clipExtent([[n+.0967*e+r,i+.012*e+r],[n+.1371*e-r,i+.033*e-r]]).stream(O),m=I.translate([n+.11*e,i+.045*e]).clipExtent([[n+.0967*e+r,i+.033*e+r],[n+.1371*e-r,i+.06*e-r]]).stream(O),y=A.translate([n+.115*e,i+.075*e]).clipExtent([[n+.0967*e+r,i+.06*e+r],[n+.1371*e-r,i+.0864*e-r]]).stream(O),j()},L.fitExtent=function(t,e){return l(L,t,e)},L.fitSize=function(t,e){return h(L,t,e)},L.drawCompositionBorders=function(t){var e,n,r,i;e=_([-7.938886725111036,43.7219460918835]),n=_([-4.832080896458295,44.12930268549372]),r=_([-4.205299743793263,40.98096346967365]),i=_([-7.071796453126152,40.610037319181444]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([-8.42751373617692,45.32889452553031]),n=_([-5.18599305777107,45.7566442062976]),r=_([-4.832080905154431,44.129302726751426]),i=_([-7.938886737126192,43.72194613263854]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([-9.012656899657046,47.127733821030176]),n=_([-5.6105244772793155,47.579777861410626]),r=_([-5.185993067168585,45.756644248170346]),i=_([-8.427513749141811,45.32889456686326]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([-9.405747558985553,48.26506375557457]),n=_([-5.896175018439575,48.733352850851624]),r=_([-5.610524487556043,47.57977790393761]),i=_([-9.012656913808351,47.127733862971255]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([-9.908436061346974,49.642448789505856]),n=_([-6.262026716233124,50.131426841787174]),r=_([-5.896175029331232,48.73335289377258]),i=_([-9.40574757396393,48.26506379787767]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([11.996907706504462,50.16039028163579]),n=_([15.649907879773343,49.68279246765253]),r=_([15.156712840526632,48.30371557625831]),i=_([11.64122661754411,48.761078240546816]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([11.641226606955788,48.7610781975889]),n=_([15.156712825832164,48.30371553390465]),r=_([14.549932166241172,46.4866532486199]),i=_([11.204443787952183,46.91899233914248]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([11.204443778297161,46.918992296823646]),n=_([14.549932152815039,46.486653206856396]),r=_([13.994409796764009,44.695833444323256]),i=_([10.805306599253848,45.105133870684924]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([10.805306590412085,45.10513382903308]),n=_([13.99440978444733,44.695833403183606]),r=_([13.654633799024392,43.53552468558152]),i=_([10.561516803980956,43.930671459798624]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([10.561516795617383,43.93067141859757]),n=_([13.654633787361952,43.5355246448671]),r=_([12.867691604239901,40.640701985019405]),i=_([9.997809515987688,41.00288343254471]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([10.8,42.4]),n=_([12.8,42.13]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1])},L.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},L.scale(2700)},t.geoConicConformalEurope=function(){var t,i,a,o,s,u,c,f,p,d,g,v,y,m,x,_=e.geoConicConformal().rotate([-10,-53]).parallels([0,60]),w=e.geoMercator().center([-61.46,16.14]),b=e.geoMercator().center([-53.2,3.9]),M=e.geoConicConformal().rotate([27.8,-38.9]).parallels([0,60]),S=e.geoConicConformal().rotate([25.43,-37.398]).parallels([0,60]),E=e.geoConicConformal().rotate([31.17,-39.539]).parallels([0,60]),C=e.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),k=e.geoConicConformal().rotate([16,-28.5]).parallels([0,60]),P=e.geoMercator().center([-61.03,14.67]),T=e.geoMercator().center([45.16,-12.8]),A=e.geoMercator().center([55.52,-21.13]),I=e.geoConicConformal().rotate([-14.4,-35.95]).parallels([0,60]),O={point:function(t,e){x=[t,e]}};function L(t){var e=t[0],n=t[1];return x=null,a.point(e,n),x||(s.point(e,n),x)||(g.point(e,n),x)||(o.point(e,n),x)||(d.point(e,n),x)||(p.point(e,n),x)||(v.point(e,n),x)||(y.point(e,n),x)||(m.point(e,n),x)||(u.point(e,n),x)||(c.point(e,n),x)||(f.point(e,n),x)}function j(){return t=i=null,L}return L.invert=function(t){var e=_.scale(),n=_.translate(),r=(t[0]-(n[0]+.08*e))/e,i=(t[1]-n[1])/e;return(i>=-.31&&i<-.24&&r>=.14&&r<.24?w:i>=-.24&&i<-.17&&r>=.14&&r<.24?b:i>=-.17&&i<-.12&&r>=.21&&r<.24?S:i>=-.17&&i<-.14&&r>=.14&&r<.165?E:i>=-.17&&i<-.1&&r>=.14&&r<.24?M:i>=-.1&&i<-.03&&r>=.14&&r<.24?C:i>=-.03&&i<.04&&r>=.14&&r<.24?k:i>=-.31&&i<-.24&&r>=.24&&r<.34?P:i>=-.24&&i<-.17&&r>=.24&&r<.34?T:i>=-.17&&i<-.1&&r>=.24&&r<.34?A:i>=-.1&&i<-.03&&r>=.24&&r<.34?I:_).invert(t)},L.stream=function(e){return t&&i===e?t:(n=[_.stream(i=e),b.stream(e),P.stream(e),w.stream(e),k.stream(e),C.stream(e),T.stream(e),A.stream(e),I.stream(e),M.stream(e),S.stream(e),E.stream(e)],r=n.length,t={point:function(t,e){for(var i=-1;++i<r;)n[i].point(t,e)},sphere:function(){for(var t=-1;++t<r;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)n[t].polygonEnd()}});var n,r},L.precision=function(t){return arguments.length?(_.precision(t),b.precision(t),P.precision(t),w.precision(t),k.precision(t),C.precision(t),T.precision(t),A.precision(t),I.precision(t),M.precision(t),S.precision(t),E.precision(t),j()):_.precision()},L.scale=function(t){return arguments.length?(_.scale(t),w.scale(3*t),b.scale(.8*t),P.scale(3.5*t),A.scale(2.7*t),M.scale(2*t),S.scale(2*t),E.scale(2*t),C.scale(3*t),k.scale(t),T.scale(5.5*t),I.scale(6*t),L.translate(_.translate())):_.scale()},L.translate=function(t){if(!arguments.length)return _.translate();var e=_.scale(),n=+t[0],i=+t[1];return a=_.translate([n-.08*e,i]).clipExtent([[n-.51*e,i-.33*e],[n+.5*e,i+.33*e]]).stream(O),o=w.translate([n+.19*e,i-.275*e]).clipExtent([[n+.14*e+r,i-.31*e+r],[n+.24*e-r,i-.24*e-r]]).stream(O),s=b.translate([n+.19*e,i-.205*e]).clipExtent([[n+.14*e+r,i-.24*e+r],[n+.24*e-r,i-.17*e-r]]).stream(O),u=M.translate([n+.19*e,i-.135*e]).clipExtent([[n+.14*e+r,i-.17*e+r],[n+.24*e-r,i-.1*e-r]]).stream(O),c=S.translate([n+.225*e,i-.147*e]).clipExtent([[n+.21*e+r,i-.17*e+r],[n+.24*e-r,i-.12*e-r]]).stream(O),f=E.translate([n+.153*e,i-.15*e]).clipExtent([[n+.14*e+r,i-.17*e+r],[n+.165*e-r,i-.14*e-r]]).stream(O),p=C.translate([n+.19*e,i-.065*e]).clipExtent([[n+.14*e+r,i-.1*e+r],[n+.24*e-r,i-.03*e-r]]).stream(O),d=k.translate([n+.19*e,i+.005*e]).clipExtent([[n+.14*e+r,i-.03*e+r],[n+.24*e-r,i+.04*e-r]]).stream(O),g=P.translate([n+.29*e,i-.275*e]).clipExtent([[n+.24*e+r,i-.31*e+r],[n+.34*e-r,i-.24*e-r]]).stream(O),v=T.translate([n+.29*e,i-.205*e]).clipExtent([[n+.24*e+r,i-.24*e+r],[n+.34*e-r,i-.17*e-r]]).stream(O),y=A.translate([n+.29*e,i-.135*e]).clipExtent([[n+.24*e+r,i-.17*e+r],[n+.34*e-r,i-.1*e-r]]).stream(O),m=I.translate([n+.29*e,i-.065*e]).clipExtent([[n+.24*e+r,i-.1*e+r],[n+.34*e-r,i-.03*e-r]]).stream(O),j()},L.fitExtent=function(t,e){return l(L,t,e)},L.fitSize=function(t,e){return h(L,t,e)},L.drawCompositionBorders=function(t){var e,n,r,i;e=_([42.45755610828648,63.343658547914934]),n=_([52.65837266667029,59.35045080290929]),r=_([47.19754502247785,56.12653496548117]),i=_([37.673034273363044,59.61638268506111]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([59.41110754003403,62.35069727399336]),n=_([66.75050228640794,57.11797303636038]),r=_([60.236065725110436,54.63331433818992]),i=_([52.65837313153311,59.350450804599355]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([48.81091130080243,66.93353402634641]),n=_([59.41110730654679,62.35069740653086]),r=_([52.6583728974441,59.3504509222445]),i=_([42.45755631675751,63.34365868805821]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([31.054198418446475,52.1080673766184]),n=_([39.09869284884117,49.400700047190554]),r=_([36.0580811499175,46.02944174908498]),i=_([28.690508588835726,48.433126979386415]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([33.977877745912025,55.849945501331]),n=_([42.75328432167726,52.78455122462353]),r=_([39.09869297540224,49.400700176148625]),i=_([31.05419851807008,52.10806751810923]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([52.658372900759296,59.35045068526415]),n=_([60.23606549583304,54.63331423800264]),r=_([54.6756370953122,51.892298789399455]),i=_([47.19754524788189,56.126534861222794]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([47.19754506082455,56.126534735591456]),n=_([54.675636900123514,51.892298681337095]),r=_([49.94448648951486,48.98775484983285]),i=_([42.75328468716108,52.78455126060818]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([42.75328453416769,52.78455113209101]),n=_([49.94448632339758,48.98775473706457]),r=_([45.912339990394315,45.99361784987003]),i=_([39.09869317356607,49.40070009378711]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([37.673034114296634,59.61638254183119]),n=_([47.197544835420544,56.126534839849846]),r=_([42.75328447467064,52.78455135314068]),i=_([33.977877870363905,55.849945644671145]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([44.56748486446032,57.26489367845818]),r=_([43.9335791193588,53.746540942601726]),i=_([43,56]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=_([37.673034114296634,59.61638254183119]),n=_([40.25902691953466,58.83002044222639]),r=_([38.458270492742024,57.26232178028002]),i=_([35.97754948030156,58.00266637992386]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath()},L.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},L.scale(750)},t.geoMercatorMalaysia=function(){var t,i,a,o,s,u=e.geoMercator().center([105.25,4]),c=e.geoMercator().center([118.65,2.86]),f={point:function(t,e){s=[t,e]}};function p(t){var e=t[0],n=t[1];return s=null,a.point(e,n),s||(o.point(e,n),s)}function d(){return t=i=null,p}return p.invert=function(t){var e=u.scale(),n=u.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=-.0521&&i<.0229&&r>=-.0111&&r<.1?c:u).invert(t)},p.stream=function(e){return t&&i===e?t:(n=[u.stream(i=e),c.stream(e)],r=n.length,t={point:function(t,e){for(var i=-1;++i<r;)n[i].point(t,e)},sphere:function(){for(var t=-1;++t<r;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)n[t].polygonEnd()}});var n,r},p.precision=function(t){return arguments.length?(u.precision(t),c.precision(t),d()):u.precision()},p.scale=function(t){return arguments.length?(u.scale(t),c.scale(.615*t),p.translate(u.translate())):u.scale()},p.translate=function(t){if(!arguments.length)return u.translate();var e=u.scale(),n=+t[0],i=+t[1];return a=u.translate(t).clipExtent([[n-.11*e,i-.0521*e],[n-.0111*e,i+.0521*e]]).stream(f),o=c.translate([n+.09*e,i-0*e]).clipExtent([[n-.0111*e+r,i-.0521*e+r],[n+.1*e-r,i+.024*e-r]]).stream(f),d()},p.fitExtent=function(t,e){return l(p,t,e)},p.fitSize=function(t,e){return h(p,t,e)},p.drawCompositionBorders=function(t){var e=u([106.3214,2.0228]),n=u([105.1843,2.3761]),r=u([104.2151,3.3618]),i=u([104.215,4.5651]);t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1])},p.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},p.scale(4800)},t.geoMercatorEquatorialGuinea=function(){var t,i,a,o,s,u,c=e.geoMercator().rotate([-9.5,-1.5]),f=e.geoMercator().rotate([-8.6,-3.5]),p=e.geoMercator().rotate([-5.6,1.45]),d={point:function(t,e){u=[t,e]}};function g(t){var e=t[0],n=t[1];return u=null,a.point(e,n),u||(o.point(e,n),u)||(s.point(e,n),u)}function v(){return t=i=null,g}return g.invert=function(t){var e=c.scale(),n=c.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=-.02&&i<0&&r>=-.038&&r<-.005?f:i>=0&&i<.02&&r>=-.038&&r<-.005?p:c).invert(t)},g.stream=function(e){return t&&i===e?t:(n=[c.stream(i=e),f.stream(e),p.stream(e)],r=n.length,t={point:function(t,e){for(var i=-1;++i<r;)n[i].point(t,e)},sphere:function(){for(var t=-1;++t<r;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)n[t].polygonEnd()}});var n,r},g.precision=function(t){return arguments.length?(c.precision(t),f.precision(t),p.precision(t),v()):c.precision()},g.scale=function(t){return arguments.length?(c.scale(t),f.scale(1.5*t),p.scale(4*t),g.translate(c.translate())):c.scale()},g.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),n=+t[0],i=+t[1];return a=c.translate(t).clipExtent([[n-.005*e,i-.02*e],[n+.038*e,i+.02*e]]).stream(d),o=f.translate([n-.025*e,i-.01*e]).clipExtent([[n-.038*e+r,i-.02*e+r],[n-.005*e-r,i+0*e-r]]).stream(d),s=p.translate([n-.025*e,i+.01*e]).clipExtent([[n-.038*e+r,i-0*e+r],[n-.005*e-r,i+.02*e-r]]).stream(d),v()},g.fitExtent=function(t,e){return l(g,t,e)},g.fitSize=function(t,e){return h(g,t,e)},g.drawCompositionBorders=function(t){var e,n,r,i;e=c([9.21327272751682,2.645820439454123]),n=c([11.679126293239872,2.644755519268689]),r=c([11.676845389029227,.35307824637606433]),i=c([9.213572917774014,.35414205204417754]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=c([7.320873711543669,2.64475551449975]),n=c([9.213272722738658,2.645820434679803]),r=c([9.213422896480349,1.4999812505283054]),i=c([7.322014760520787,1.4989168878985566]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath(),e=c([7.3220147605302905,1.4989168783492766]),n=c([9.213422896481598,1.499981240979021]),r=c([9.213572912999604,.354142056817247]),i=c([7.323154615739809,.353078251154504]),t.moveTo(e[0],e[1]),t.lineTo(n[0],n[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath()},g.getCompositionBorders=function(){var t=n.path();return this.drawCompositionBorders(t),t.toString()},g.scale(12e3)},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(1135),n(543))},function(t,e,n){var r=n(501),i=n(555);r(i.prototype,{getAllNodes:function(){var t=[];return this.root.each(function(e){t.push(e)}),t},getAllLinks:function(){for(var t,e=[],n=[this.root];t=n.pop();){var r=t.children;r&&r.forEach(function(r){e.push({source:t,target:r}),n.push(r)})}return e}}),r(i.prototype,{getAllEdges:i.prototype.getAllLinks})},function(t,e,n){var r=n(501),i=n(549),a=n(522);r(n(555).prototype,{partition:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=[]),a(this.rows,t,e)},group:function(t,e){var n=this.partition(t,e);return i(n)},groups:function(t,e){return this.group(t,e)}})},function(t,e,n){var r=n(504),i=n(511),a=n(507);t.exports=function(t,e){var n;return void 0===e&&(e=[]),i(e)?n=e:r(e)?n=function(t,n){for(var r=0;r<e.length;r++){var i=e[r];if(t[i]<n[i])return-1;if(t[i]>n[i])return 1}return 0}:a(e)&&(n=function(t,n){return t[e]<n[e]?-1:t[e]>n[e]?1:0}),t.sort(n)}},function(t,e,n){var r=n(501),i=n(608),a=n(504),o=n(529),s=n(555),u=n(737);function c(t,e){var n=t.getColumn(e);return a(n)&&a(n[0])&&(n=i(n)),n}n(622).STATISTICS_METHODS.forEach(function(t){s.prototype[t]=function(e){return o[t](c(this,e))}});var l=o.quantile;r(s.prototype,{average:s.prototype.mean,quantile:function(t,e){return l(c(this,t),e)},quantiles:function(t,e){var n=c(this,t);return e.map(function(t){return l(n,t)})},quantilesByFraction:function(t,e){return this.quantiles(t,u(e))},range:function(t){return[this.min(t),this.max(t)]},extent:function(t){return this.range(t)}})},function(t,e,n){var r=n(507),i=n(531);(0,n(503).registerConnector)("default",function(t,e){if(r(t)&&(t=e.getView(t)),!t)throw new TypeError("Invalid dataView");return i(t.rows)})},function(t,e,n){var r=n(507),i=n(1139),a=i.dsvFormat,o=i.csvParse,s=i.tsvParse,u=n(503).registerConnector;u("dsv",function(t,e){void 0===e&&(e={});var n=e.delimiter||",";if(!r(n))throw new TypeError("Invalid delimiter: must be a string!");return a(n).parse(t)}),u("csv",function(t){return o(t)}),u("tsv",function(t){return s(t)})},function(t,e,n){var r=n(498).geoGraticule;function i(t,e){e.dataType="geo-graticule";var n=r().lines();return n.map(function(t,e){return t.index=""+e,t}),e.rows=n,n}(0,n(503).registerConnector)("geo-graticule",i),t.exports=i},function(t,e){t.exports=function(t){var e=[];return t.replace(r,function(t,r,a){var o,s=r.toLowerCase();for(a=(o=a.match(i))?o.map(Number):[],"m"==s&&a.length>2&&(e.push([r].concat(a.splice(0,2))),s="l",r="m"==r?"l":"L");;){if(a.length==n[s])return a.unshift(r),e.push(a);if(a.length<n[s])throw new Error("malformed path data");e.push([r].concat(a.splice(0,n[s])))}}),e};var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},function(t,e){t.exports=function(t){var e=0,n=0,r=0,i=0;return t.map(function(t){var a=(t=t.slice())[0],o=a.toUpperCase();if(a!=o)switch(t[0]=o,a){case"a":t[6]+=r,t[7]+=i;break;case"v":t[1]+=i;break;case"h":t[1]+=r;break;default:for(var s=1;s<t.length;)t[s++]+=r,t[s++]+=i}switch(o){case"Z":r=e,i=n;break;case"H":r=t[1];break;case"V":i=t[1];break;case"M":r=e=t[1],i=n=t[2];break;default:r=t[t.length-2],i=t[t.length-1]}return t})}},function(t,e,n){var r=n(501),i=n(511),a=n(503),o=a.GRAPH,s=a.registerConnector,u={nodes:function(t){return t.nodes},edges:function(t){return t.edges}};function c(t,e,n){e=r({},u,e),n.dataType=o;var a=e.nodes,s=e.edges;if(a&&!i(a))throw new TypeError("Invalid nodes: must be a function!");if(s&&!i(s))throw new TypeError("Invalid edges: must be a function!");return n.rows=n.graph={nodes:a(t),edges:s(t)},r(n,n.graph),n.rows}s("graph",c),s("diagram",c)},function(t,e,n){var r=n(501),i=n(531),a=n(1042),o=a.getGridForHexJSON,s=a.renderHexJSON,u=n(503),c=u.HEX,l=u.registerConnector,h={width:1,height:1};function f(t){return t.cx=t.x,t.cy=t.y,t.x=[],t.y=[],t.vertices.forEach(function(e){t.x.push(e.x+t.cx),t.y.push(e.y+t.cy)}),t}function p(t,e,n){n.dataType=c;var a=(e=r({},h,e)).width,u=e.height,l=i(t);n._HexJSON=l;var p=n._GridHexJSON=o(l),d=n.rows=s(l,a,u).map(f);return n._gridRows=s(p,a,u).map(f),d}l("hex",p),l("hexjson",p),l("hex-json",p),l("HexJSON",p),t.exports=p},function(t,e,n){!function(t,e){"use strict";t.renderHexJSON=function(t,n,r){var i=t.layout,a=[],o=0;Object.keys(t.hexes).forEach(function(e){t.hexes[e].key=e,a.push(t.hexes[e])});var s,u=e.max(a,function(t){return+t.q}),c=e.min(a,function(t){return+t.q}),l=e.max(a,function(t){return+t.r}),h=e.min(a,function(t){return+t.r}),f=u-c+1,p=l-h+1,d=(o="odd-r"===i||"even-r"===i?e.min([n/((f+.5)*Math.sqrt(3)),r/(1.5*(p+1/3))]):e.min([r/((p+.5)*Math.sqrt(3)),n/(1.5*(f+1/3))]))*Math.sqrt(3),g=function(t,e,n){var r=[];switch(t){case"odd-r":case"even-r":r.push({x:0,y:0-n}),r.push({x:0+.5*e,y:0-.5*n}),r.push({x:0+.5*e,y:0+.5*n}),r.push({x:0,y:0+n}),r.push({x:0-.5*e,y:0+.5*n}),r.push({x:0-.5*e,y:0-.5*n});break;case"odd-q":case"even-q":r.push({x:0-n,y:0}),r.push({x:0-.5*n,y:0-.5*e}),r.push({x:0+.5*n,y:0-.5*e}),r.push({x:0+n,y:0}),r.push({x:0+.5*n,y:0+.5*e}),r.push({x:0-.5*n,y:0+.5*e})}return r}(i,d,o),v=(s="",g.forEach(function(t){s+=t.x+","+t.y+" "}),s.substring(0,s.length-1));return a.forEach(function(t){t.qc=t.q-c,t.rc=l-t.r,t.x=function(t,e,n,r){var i=0,a=0;switch(e){case"odd-r":a=t.rc%2==1?n:n/2,i=t.qc*n+a;break;case"even-r":a=t.rc%2==0?n:n/2,i=t.qc*n+a;break;case"odd-q":case"even-q":i=t.qc*r*1.5+r}return i}(t,i,d,o),t.y=function(t,e,n,r){var i=0,a=0;switch(e){case"odd-r":case"even-r":i=t.rc*r*1.5+r;break;case"odd-q":a=t.qc%2==1?n:n/2,i=t.rc*n+a;break;case"even-q":a=t.qc%2==0?n:n/2,i=t.rc*n+a}return i}(t,i,d,o),t.vertices=g,t.points=v}),a},t.getGridForHexJSON=function(t){var n={};n.layout=t.layout,n.hexes={};var r=[];Object.keys(t.hexes).forEach(function(e){r.push(t.hexes[e])});var i,a,o,s=e.max(r,function(t){return+t.q}),u=e.min(r,function(t){return+t.q}),c=e.max(r,function(t){return+t.r}),l=e.min(r,function(t){return+t.r});for(i=u;i<=s;i++)for(a=l;a<=c;a++)o="Q"+i+"R"+a,n.hexes[o]={q:i,r:a};return n},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(524))},function(t,e,n){var r=n(511),i=n(542).hierarchy,a=n(503),o=a.HIERARCHY,s=a.registerConnector;function u(t,e,n){n.dataType=o;var a=e&&e.children?e.children:null;if(a&&!r(a))throw new TypeError("Invalid children: must be a function!");return e.pureData?n.rows=n.root=t:n.rows=n.root=i(t,a),t}s("hierarchy",u),s("tree",u)},function(t,e,n){var r=n(507),i=n(1137).feature,a=n(738),o=n(503).registerConnector;function s(t,e,n){var o=e.object;if(!r(o))throw new TypeError("Invalid object: must be a string!");var s=i(t,t.objects[o]);return a(s,e,n)}o("topojson",s),o("TopoJSON",s)},function(t,e,n){(0,n(503).registerTransform)("default",function(t){return t})},function(t,e,n){function r(t){return!!t}(0,n(503).registerTransform)("filter",function(t,e){void 0===e&&(e={}),t.rows=t.rows.filter(e.callback||r)})},function(t,e,n){var r=n(501),i=n(692),a=n(538),o=n(503).registerTransform,s=n(509).getFields,u={fields:[],key:"key",retains:[],value:"value"};o("fold",function(t,e){var n=t.getColumnNames();e=r({},u,e);var o=s(e);0===o.length&&(console.warn("warning: option fields is not specified, will fold all columns."),o=n);var c=e.key,l=e.value,h=e.retains;0===h.length&&(h=i(n,o));var f=[];t.rows.forEach(function(t){o.forEach(function(e){var n=a(t,h);n[c]=e,n[l]=t[e],f.push(n)})}),t.rows=f})},function(t,e,n){function r(t){return t}(0,n(503).registerTransform)("map",function(t,e){void 0===e&&(e={}),t.rows=t.rows.map(e.callback||r)})},function(t,e,n){var r=n(501),i=n(549),a=n(522),o=n(503).registerTransform,s={groupBy:[],orderBy:[]};function u(t,e){void 0===e&&(e={}),e=r({},s,e),t.rows=i(a(t.rows,e.groupBy,e.orderBy))}o("partition",function(t,e){void 0===e&&(e={}),e=r({},s,e),t.rows=a(t.rows,e.groupBy,e.orderBy)}),o("group",u),o("groups",u)},function(t,e,n){var r=n(501),i=n(502),a=n(504),o=n(507),s=n(529).sum,u=n(522),c=n(503).registerTransform,l=n(509).getField,h={groupBy:[],as:"_percent"};c("percent",function(t,e){void 0===e&&(e={}),e=r({},h,e);var n=l(e),c=e.dimension,f=e.groupBy,p=e.as;if(!o(c))throw new TypeError("Invalid dimension: must be a string!");if(a(p)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),p=p[0]),!o(p))throw new TypeError("Invalid as: must be a string!");var d=t.rows,g=[],v=u(d,f);i(v,function(t){var e=s(t.map(function(t){return t[n]}));0===e&&console.warn("Invalid data: total sum of field "+n+" is 0!");var r=u(t,[c]);i(r,function(t){var r=s(t.map(function(t){return t[n]})),i=t[0],a=i[c];i[n]=r,i[c]=a,i[p]=0===e?0:r/e,g.push(i)})}),t.rows=g})},function(t,e,n){var r=n(538),i=n(503).registerTransform,a=n(509).getFields;i("pick",function(t,e){void 0===e&&(e={});var n=a(e,t.getColumnNames());t.rows=t.rows.map(function(t){return r(t,n)})})},function(t,e,n){var r=n(501),i=n(502),a=n(504),o=n(507),s=n(522),u=n(503).registerTransform,c=n(509).getField,l={groupBy:[],as:"_proportion"};u("proportion",function(t,e){void 0===e&&(e={}),e=r({},l,e);var n=c(e),u=e.dimension,h=e.groupBy,f=e.as;if(!o(u))throw new TypeError("Invalid dimension: must be a string!");if(a(f)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),f=f[0]),!o(f))throw new TypeError("Invalid as: must be a string!");var p=t.rows,d=[],g=s(p,h);i(g,function(t){var e=t.length,r=s(t,[u]);i(r,function(t){var r=t.length,i=t[0],a=i[u];i[n]=r,i[u]=a,i[f]=r/e,d.push(i)})}),t.rows=d})},function(t,e,n){var r=n(502),i=n(537),a=n(507),o=n(503).registerTransform;function s(t,e){void 0===e&&(e={});var n=e.map||{},o={};i(n)&&r(n,function(t,e){a(t)&&a(e)&&(o[e]=t)}),t.rows.forEach(function(t){r(n,function(e,n){var r=t[n];delete t[n],t[e]=r})})}o("rename",s),o("rename-fields",s)},function(t,e,n){(0,n(503).registerTransform)("reverse",function(t){t.rows.reverse()})},function(t,e,n){(0,n(503).registerTransform)("sort",function(t,e){void 0===e&&(e={});var n=t.getColumnName(0);t.rows.sort(e.callback||function(t,e){return t[n]-e[n]})})},function(t,e,n){var r=n(504),i=n(695),a=n(503).registerTransform,o=n(509).getFields,s=["ASC","DESC"];function u(t,e){void 0===e&&(e={});var n=o(e,[t.getColumnName(0)]);if(!r(n))throw new TypeError("Invalid fields: must be an array with strings!");t.rows=i(t.rows,n);var a=e.order;if(a&&-1===s.indexOf(a))throw new TypeError("Invalid order: "+a+" must be one of "+s.join(", "));"DESC"===a&&t.rows.reverse()}a("sort-by",u),a("sortBy",u)},function(t,e,n){var r=n(503).registerTransform,i=n(509).getFields;r("subset",function(t,e){void 0===e&&(e={});var n=e.startRowIndex||0,r=e.endRowIndex||t.rows.length-1,a=i(e,t.getColumnNames());t.rows=t.getSubset(n,r,a)})},function(t,e,n){var r=n(501),i=n(502),a=n(522),o=n(503).registerTransform,s={fillBy:"group",groupBy:[],orderBy:[]};function u(t,e){var n=t.map(function(t){return t});return e.forEach(function(t){var e=n.indexOf(t);e>-1&&n.splice(e,1)}),n}function c(t,e){void 0===e&&(e={}),e=r({},s,e);var n=t.rows,o=e.groupBy,c=e.orderBy,l=a(n,o,c),h=0,f=[];i(l,function(t){t.length>h&&(h=t.length,f=t)});var p=[],d={};if(f.forEach(function(t){var e=c.map(function(e){return t[e]}).join("-");p.push(e),d[e]=t}),"order"===e.fillBy){var g=f[0],v=[],y={};n.forEach(function(t){var e=c.map(function(e){return t[e]}).join("-");-1===v.indexOf(e)&&(v.push(e),y[e]=t)}),u(v,p).forEach(function(t){var e={};o.forEach(function(t){e[t]=g[t]}),c.forEach(function(n){e[n]=y[t][n]}),n.push(e),f.push(e),p.push(t),d[t]=e}),h=f.length}i(l,function(t){if(t!==f&&t.length<h){var e=t[0],r=[];t.forEach(function(t){r.push(c.map(function(e){return t[e]}).join("-"))}),u(p,r).some(function(r,i){if(i>=h-t.length)return!0;var a=d[r],s={};return o.forEach(function(t){s[t]=e[t]}),c.forEach(function(t){s[t]=a[t]}),n.push(s),!1})}})}o("fill-rows",c),o("fillRows",c)},function(t,e,n){var r=n(501),i=n(502),a=n(611),o=n(511),s=n(706),u=n(507),c=n(529),l=n(522),h=n(503).registerTransform,f=n(509).getField,p={groupBy:[]};function d(t){return t.filter(function(t){return!s(t)})}var g=["mean","median","max","min"],v={};g.forEach(function(t){v[t]=function(e,n){return c[t](n)}}),v.value=function(t,e,n){return n},h("impute",function(t,e){void 0===e&&(e={}),e=r({},p,e);var n=f(e),c=e.method;if(!c)throw new TypeError("Invalid method!");if("value"===c&&!a(e,"value"))throw new TypeError("Invalid value: it is nil.");var h=d(t.getColumn(n)),y=l(t.rows,e.groupBy);i(y,function(t){var r=d(t.map(function(t){return t[n]}));0===r.length&&(r=h),t.forEach(function(i){if(s(i[n]))if(o(c))i[n]=c(i,r,e.value,t);else{if(!u(c))throw new TypeError("Invalid method: must be a function or one of "+g.join(", "));i[n]=v[c](i,r,e.value)}})})})},function(t,e,n){var r=n(501),i=n(608),a=n(502),o=n(504),s=n(507),u=n(532),c=n(609),l=n(529),h=n(522),f=n(503).registerTransform,p=n(622).STATISTICS_METHODS,d=n(509).getFields,g={as:[],fields:[],groupBy:[],operations:[]},v="count",y={count:function(t){return t.length},distinct:function(t,e){return c(t.map(function(t){return t[e]})).length}};function m(t,e){e=r({},g,e);var n=d(e);if(!o(n))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var i=e.as||[];s(i)&&(i=[i]);var u=e.operations;s(u)&&(u=[u]);var c=[v];if(o(u)&&u.length||(console.warn('operations is not defined, will use [ "count" ] directly.'),i=u=c),1!==u.length||u[0]!==v){if(u.length!==n.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(i.length!==n.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var l=h(t.rows,e.groupBy),f=[];a(l,function(t){var e=t[0];u.forEach(function(r,a){var o=i[a],s=n[a];e[o]=y[r](t,s)}),f.push(e)}),t.rows=f}p.forEach(function(t){y[t]=function(e,n){var r=e.map(function(t){return t[n]});return o(r)&&o(r[0])&&(r=i(r)),l[t](r)}}),y.average=y.mean,f("aggregate",m),f("summary",m),t.exports={VALID_AGGREGATES:u(y)}},function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(501),a=n(504),o=n(515),s=n(1062),u=n(577),c=n(503).registerTransform,l=n(509).getFields,h=n(578).silverman,f={as:["x","y"],method:"linear",order:2,precision:2},p=["linear","exponential","logarithmic","power","polynomial"];c("regression",function(t,e){e=i({},f,e);var n=l(e);if(!a(n)||2!==n.length)throw new TypeError("invalid fields: must be an array of 2 strings.");var c=r(n,2),d=c[0],g=c[1],v=e.method;if(-1===p.indexOf(v))throw new TypeError("invalid method: "+v+". Must be one of "+p.join(", "));var y=t.rows.map(function(t){return[t[d],t[g]]}),m=s[v](y,e),x=e.extent;a(x)&&2===x.length||(x=t.range(d));var _=e.bandwidth;(!o(_)||_<=0)&&(_=h(t.getColumn(d)));var w=u(x,_),b=[],M=r(e.as,2),S=M[0],E=M[1];w.forEach(function(t){var e={},n=r(m.predict(t),2),i=n[0],a=n[1];e[S]=i,e[E]=a,isFinite(a)&&b.push(e)}),t.rows=b}),t.exports={REGRESSION_METHODS:p}},function(t,e,n){var r,i,a;i=[t],void 0===(a="function"==typeof(r=function(t){"use strict";var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n={order:2,precision:2,period:null};function r(t,e){var n=[],r=[];t.forEach(function(t,i){null!==t[1]&&(r.push(t),n.push(e[i]))});var i=r.reduce(function(t,e){return t+e[1]},0),a=i/r.length,o=r.reduce(function(t,e){var n=e[1]-a;return t+n*n},0),s=r.reduce(function(t,e,r){var i=n[r],a=e[1]-i[1];return t+a*a},0);return 1-s/o}function i(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}var a={linear:function(t,e){for(var n=[0,0,0,0,0],a=0,o=0;o<t.length;o++)null!==t[o][1]&&(a++,n[0]+=t[o][0],n[1]+=t[o][1],n[2]+=t[o][0]*t[o][0],n[3]+=t[o][0]*t[o][1],n[4]+=t[o][1]*t[o][1]);var s=a*n[2]-n[0]*n[0],u=a*n[3]-n[0]*n[1],c=0===s?0:i(u/s,e.precision),l=i(n[1]/a-c*n[0]/a,e.precision),h=function(t){return[i(t,e.precision),i(c*t+l,e.precision)]},f=t.map(function(t){return h(t[0])});return{points:f,predict:h,equation:[c,l],r2:i(r(t,f),e.precision),string:0===l?"y = "+c+"x":"y = "+c+"x + "+l}},exponential:function(t,e){for(var n=[0,0,0,0,0,0],a=0;a<t.length;a++)null!==t[a][1]&&(n[0]+=t[a][0],n[1]+=t[a][1],n[2]+=t[a][0]*t[a][0]*t[a][1],n[3]+=t[a][1]*Math.log(t[a][1]),n[4]+=t[a][0]*t[a][1]*Math.log(t[a][1]),n[5]+=t[a][0]*t[a][1]);var o=n[1]*n[2]-n[5]*n[5],s=Math.exp((n[2]*n[3]-n[5]*n[4])/o),u=(n[1]*n[4]-n[5]*n[3])/o,c=i(s,e.precision),l=i(u,e.precision),h=function(t){return[i(t,e.precision),i(c*Math.exp(l*t),e.precision)]},f=t.map(function(t){return h(t[0])});return{points:f,predict:h,equation:[c,l],string:"y = "+c+"e^("+l+"x)",r2:i(r(t,f),e.precision)}},logarithmic:function(t,e){for(var n=[0,0,0,0],a=t.length,o=0;o<a;o++)null!==t[o][1]&&(n[0]+=Math.log(t[o][0]),n[1]+=t[o][1]*Math.log(t[o][0]),n[2]+=t[o][1],n[3]+=Math.pow(Math.log(t[o][0]),2));var s=(a*n[1]-n[2]*n[0])/(a*n[3]-n[0]*n[0]),u=i(s,e.precision),c=i((n[2]-u*n[0])/a,e.precision),l=function(t){return[i(t,e.precision),i(i(c+u*Math.log(t),e.precision),e.precision)]},h=t.map(function(t){return l(t[0])});return{points:h,predict:l,equation:[c,u],string:"y = "+c+" + "+u+" ln(x)",r2:i(r(t,h),e.precision)}},power:function(t,e){for(var n=[0,0,0,0,0],a=t.length,o=0;o<a;o++)null!==t[o][1]&&(n[0]+=Math.log(t[o][0]),n[1]+=Math.log(t[o][1])*Math.log(t[o][0]),n[2]+=Math.log(t[o][1]),n[3]+=Math.pow(Math.log(t[o][0]),2));var s=(a*n[1]-n[0]*n[2])/(a*n[3]-Math.pow(n[0],2)),u=(n[2]-s*n[0])/a,c=i(Math.exp(u),e.precision),l=i(s,e.precision),h=function(t){return[i(t,e.precision),i(i(c*Math.pow(t,l),e.precision),e.precision)]},f=t.map(function(t){return h(t[0])});return{points:f,predict:h,equation:[c,l],string:"y = "+c+"x^"+l,r2:i(r(t,f),e.precision)}},polynomial:function(t,e){for(var n=[],a=[],o=0,s=0,u=t.length,c=e.order+1,l=0;l<c;l++){for(var h=0;h<u;h++)null!==t[h][1]&&(o+=Math.pow(t[h][0],l)*t[h][1]);n.push(o),o=0;for(var f=[],p=0;p<c;p++){for(var d=0;d<u;d++)null!==t[d][1]&&(s+=Math.pow(t[d][0],l+p));f.push(s),s=0}a.push(f)}a.push(n);for(var g=function(t,e){for(var n=t,r=t.length-1,i=[e],a=0;a<r;a++){for(var o=a,s=a+1;s<r;s++)Math.abs(n[a][s])>Math.abs(n[a][o])&&(o=s);for(var u=a;u<r+1;u++){var c=n[u][a];n[u][a]=n[u][o],n[u][o]=c}for(var l=a+1;l<r;l++)for(var h=r;h>=a;h--)n[h][l]-=n[h][a]*n[a][l]/n[a][a]}for(var f=r-1;f>=0;f--){for(var p=0,d=f+1;d<r;d++)p+=n[d][f]*i[d];i[f]=(n[r][f]-p)/n[f][f]}return i}(a,c).map(function(t){return i(t,e.precision)}),v=function(t){return[i(t,e.precision),i(g.reduce(function(e,n,r){return e+n*Math.pow(t,r)},0),e.precision)]},y=t.map(function(t){return v(t[0])}),m="y = ",x=g.length-1;x>=0;x--)m+=x>1?g[x]+"x^"+x+" + ":1===x?g[x]+"x + ":g[x];return{string:m,points:y,predict:v,equation:[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(g)).reverse(),r2:i(r(t,y),e.precision)}}};t.exports=Object.keys(a).reduce(function(t,r){return e({_round:i},t,(u=function(t,i){return a[r](t,e({},n,i))},(s=r)in(o={})?Object.defineProperty(o,s,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[s]=u,o));var o,s,u},{})})?r.apply(e,i):r)||(t.exports=a)},function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(r(arguments[e]));return t},a=n(501),o=n(502),s=n(502),u=n(504),c=n(511),l=n(515),h=n(507),f=n(532),p=n(538),d=n(577),g=n(623),v=n(578),y=n(522),m=n(503).registerTransform,x=n(509).getFields,_=n(529).kernelDensityEstimation,w={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},b=f(g),M=f(v);function S(t,e){e=a({},w,e);var n=x(e);if(!u(n)||n.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var f=e.as;if(!u(f)||3!==f.length)throw new TypeError("invalid as: must be an array of 3 strings!");var m=e.method;if(h(m)){if(-1===b.indexOf(m))throw new TypeError("invalid method: "+m+". Must be one of "+b.join(", "));m=g[m]}if(!c(m))throw new TypeError("invalid method: kernel method must be a function!");var M=e.extent;if(!u(M)||0===M.length){var S=[];o(n,function(e){var n=t.range(e);S=S.concat(n)}),M=[Math.min.apply(Math,i(S)),Math.max.apply(Math,i(S))]}var E=e.bandwidth;h(E)&&v[E]?E=v[E](t.getColumn(n[0])):c(E)?E=E(t.getColumn(n[0])):(!l(E)||E<=0)&&(E=v.nrd(t.getColumn(n[0])));var C=d(M,e.step?e.step:E),k=[],P=e.groupBy,T=y(t.rows,P);s(T,function(t){var i={};o(n,function(n){var a=p(t[0],P);i[n]=_(t.map(function(t){return t[n]}),m,E);var s=r(f,3),u=s[0],c=s[1],l=s[2];a[u]=n,a[c]=[],a[l]=[],o(C,function(t){var r=i[n](t);r>=e.minSize&&(a[c].push(t),a[l].push(r))}),k.push(a)})}),t.rows=k}m("kernel-density-estimation",S),m("kde",S),m("KDE",S),t.exports={KERNEL_METHODS:b,BANDWIDTH_METHODS:M}},function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(501),a=n(502),o=n(504),s=n(503).registerTransform,u=n(509).getFields,c={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},l=Math.sqrt(3),h=Math.PI/3,f=[0,h,2*h,3*h,4*h,5*h];function p(t,e,n,r){return Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))}function d(t,e,n){var r=t-n;e/=2;var i=Math.floor(r/e);return[e*(i+(1===Math.abs(i%2)?1:0))+n,e*(i+(1===Math.abs(i%2)?0:1))+n]}function g(t,e){e=i({},c,e);var n=u(e);if(!o(n)||2!==n.length)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var s=r(n,2),h=s[0],g=s[1],v=t.range(h),y=t.range(g),m=v[1]-v[0],x=y[1]-y[0],_=e.binWidth||[];if(2!==_.length){var w=r(e.bins,2),b=w[0],M=w[1];if(b<=0||M<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");_=[m/b,x/M]}var S=r(e.offset,2),E=S[0],C=S[1],k=3*_[0]/(l*_[1]),P=function(t,e,n){void 0===e&&(e=[1,1]),void 0===n&&(n=[0,0]);var i={},a=r(e,2),o=a[0],s=a[1],u=r(n,2),c=u[0],l=u[1];return t.forEach(function(t){var e,n,a,u,h,f=r(t,2),g=f[0],v=f[1],y=r(d(g,o,c),2),m=y[0],x=y[1],_=r(d(v,s,l),2),w=_[0],b=_[1];p(g,v,m,w)<p(g,v,x,b)?(a="x"+m+"y"+w,u=(e=r([m,w],2))[0],h=e[1]):(a="x"+x+"y"+b,u=(n=r([x,b],2))[0],h=n[1]),i[a]=i[a]||{x:u,y:h,count:0},i[a].count++}),i}(t.rows.map(function(t){return[t[h],k*t[g]]}),[_[0],k*_[1]],[E,k*C]),T=r(e.as,3),A=T[0],I=T[1],O=T[2];if(!A||!I||!O)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var L=_[0]/l,j=f.map(function(t){return[Math.sin(t)*L,-Math.cos(t)*L]}),R=[],D=0;e.sizeByCount&&a(P,function(t){t.count>D&&(D=t.count)}),a(P,function(t){var n=t.x,r=t.y,i=t.count,a={};a[O]=i,e.sizeByCount?(a[A]=j.map(function(e){return n+t.count/D*e[0]}),a[I]=j.map(function(e){return(r+t.count/D*e[1])/k})):(a[A]=j.map(function(t){return n+t[0]}),a[I]=j.map(function(t){return(r+t[1])/k})),R.push(a)}),t.rows=R}s("bin.hexagon",g),s("bin.hex",g),s("hexbin",g)},function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(501),a=n(502),o=n(538),s=n(522),u=n(503).registerTransform,c=n(509).getField,l={as:["x","count"],bins:30,offset:0,groupBy:[]};function h(t,e){e=i({},l,e);var n=c(e);if(0!==t.rows.length){var u=t.range(n),h=u[1]-u[0],f=e.binWidth;if(!f){var p=e.bins;if(p<=0)throw new TypeError("Invalid bins: it must be a positive number!");f=h/p}var d=e.offset%f,g=[],v=e.groupBy,y=s(t.rows,v);a(y,function(t){var s={};t.map(function(t){return t[n]}).forEach(function(t){var e,n,i,a,o=r((e=f,i=t-(n=d),[(a=Math.floor(i/e))*e+n,(a+1)*e+n]),2),u=o[0],c=o[1],l=u+"-"+c;s[l]=s[l]||{x0:u,x1:c,count:0},s[l].count++});var u=r(e.as,2),c=u[0],l=u[1];if(!c||!l)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var h=o(t[0],v);a(s,function(t){var e=i({},h);e[c]=[t.x0,t.x1],e[l]=t.count,g.push(e)})}),t.rows=g}}u("bin.histogram",h),u("bin.dot",h)},function(t,e,n){var r=n(501),i=n(502),a=n(504),o=n(507),s=n(529).quantile,u=n(522),c=n(737),l=n(503).registerTransform,h=n(509).getField,f={as:"_bin",groupBy:[],fraction:4};l("bin.quantile",function(t,e){e=r({},f,e);var n=h(e),l=e.as;if(!o(l))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var p=e.p,d=e.fraction;a(p)&&0!==p.length||(p=c(d));var g=t.rows,v=e.groupBy,y=u(g,v),m=[];i(y,function(t){var e=t[0],r=t.map(function(t){return t[n]}),i=p.map(function(t){return s(r,t)});e[l]=i,m.push(e)}),t.rows=m})},function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(501),a=n(502),o=n(503).registerTransform,s=n(509).getFields,u={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};function c(t,e,n){var r=t-n,i=Math.floor(r/e);return[i*e+n,(i+1)*e+n]}function l(t,e){e=i({},u,e);var n=r(s(e),2),o=n[0],l=n[1];if(!o||!l)throw new TypeError("Invalid fields: must be an array with 2 strings!");var h=t.range(o),f=t.range(l),p=h[1]-h[0],d=f[1]-f[0],g=e.binWidth||[];if(2!==g.length){var v=r(e.bins,2),y=v[0],m=v[1];if(y<=0||m<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");g=[p/y,d/m]}var x=t.rows.map(function(t){return[t[o],t[l]]}),_={},w=r(e.offset,2),b=w[0],M=w[1];x.forEach(function(t){var e=r(c(t[0],g[0],b),2),n=e[0],i=e[1],a=r(c(t[1],g[1],M),2),o=a[0],s=a[1],u=n+"-"+i+"-"+o+"-"+s;_[u]=_[u]||{x0:n,x1:i,y0:o,y1:s,count:0},_[u].count++});var S=[],E=r(e.as,3),C=E[0],k=E[1],P=E[2];if(!C||!k||!P)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(e.sizeByCount){var T=0;a(_,function(t){t.count>T&&(T=t.count)}),a(_,function(t){var e=t.x0,n=t.x1,i=t.y0,a=t.y1,o=t.count,s=o/T,u=r([(e+n)/2,(i+a)/2],2),c=u[0],l=u[1],h=(n-e)*s/2,f=(a-i)*s/2,p=c-h,d=c+h,g=l-f,v=l+f,y={};y[C]=[p,d,d,p],y[k]=[g,g,v,v],y[P]=o,S.push(y)})}else a(_,function(t){var e={};e[C]=[t.x0,t.x1,t.x1,t.x0],e[k]=[t.y0,t.y0,t.y1,t.y1],e[P]=t.count,S.push(e)});t.rows=S}o("bin.rectangle",l),o("bin.rect",l)},function(t,e,n){var r=n(501),i=n(504),a=n(507),o=n(503).registerTransform,s=n(509).getField,u={as:["_centroid_x","_centroid_y"]};o("geo.centroid",function(t,e){e=r({},u,e);var n=s(e),o=e.geoView||e.geoDataView;if(a(o)&&(o=t.dataSet.getView(o)),!o||"geo"!==o.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var c=e.as;if(!i(c)||2!==c.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var l=c[0],h=c[1];t.rows.forEach(function(t){var e=o.geoFeatureByName(t[n]);e&&(o._projectedAs?(t[l]=e[o._projectedAs[2]],t[h]=e[o._projectedAs[3]]):(t[l]=e.centroidX,t[h]=e.centroidY))})})},function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(501),a=n(498),o=n(739),s=n(504),u=n(503).registerTransform,c=n(736),l=a.geoPath,h={as:["_x","_y","_centroid_x","_centroid_y"]};u("geo.projection",function(t,e){if("geo"!==t.dataType&&"geo-graticule"!==t.dataType)throw new TypeError("Invalid dataView: this transform is for Geo data only!");var n=(e=i({},h,e)).projection;if(!n)throw new TypeError("Invalid projection!");n=c(n);var a=l(n),u=e.as;if(!s(u)||4!==u.length)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');t._projectedAs=u;var f=r(u,4),p=f[0],d=f[1],g=f[2],v=f[3];t.rows.forEach(function(t){t[p]=[],t[d]=[];var e=a(t);if(e){o(e)._path.forEach(function(e){t[p].push(e[1]),t[d].push(e[2])});var n=a.centroid(t);t[g]=n[0],t[v]=n[1]}}),t.rows=t.rows.filter(function(t){return 0!==t[p].length})})},function(t,e,n){var r=n(501),i=n(504),a=n(507),o=n(503).registerTransform,s=n(509).getField,u={as:["_x","_y"]};o("geo.region",function(t,e){e=r({},u,e);var n=s(e),o=e.geoView||e.geoDataView;if(a(o)&&(o=t.dataSet.getView(o)),!o||"geo"!==o.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var c=e.as;if(!i(c)||2!==c.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var l=c[0],h=c[1];t.rows.forEach(function(t){var e=o.geoFeatureByName(t[n]);e&&(o._projectedAs?(t[l]=e[o._projectedAs[0]],t[h]=e[o._projectedAs[1]]):(t[l]=e.longitude,t[h]=e.latitude))})})},function(t,e,n){var r=n(501),i=n(502),a=n(504),o=n(549),s=n(511),u=n(503).registerTransform,c={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(t){return t.id},source:function(t){return t.source},target:function(t){return t.target},sourceWeight:function(t){return t.value||1},targetWeight:function(t){return t.value||1},sortBy:null};function l(t,e){e=r({},c,e);var n,u,l,h,f,p,d,g={},v=t.nodes,y=t.edges;a(v)&&0!==v.length||(n=e,void 0===(u=g)&&(u={}),y.forEach(function(t){var e=n.edgeSource(t),r=n.edgeTarget(t);u[e]||(u[e]={id:e}),u[r]||(u[r]={id:r})}),v=o(u)),v.forEach(function(t){var n=e.id(t);g[n]=t}),l=y,h=e,i(g,function(t,e){t.inEdges=l.filter(function(t){return""+h.target(t)==""+e}),t.outEdges=l.filter(function(t){return""+h.source(t)==""+e}),t.edges=t.outEdges.concat(t.inEdges),t.frequency=t.edges.length,t.value=0,t.inEdges.forEach(function(e){t.value+=h.targetWeight(e)}),t.outEdges.forEach(function(e){t.value+=h.sourceWeight(e)})}),f=v,!(d={weight:function(t,e){return e.value-t.value},frequency:function(t,e){return e.frequency-t.frequency},id:function(t,e){return(""+p.id(t)).localeCompare(""+p.id(e))}}[(p=e).sortBy])&&s(p.sortBy)&&(d=p.sortBy),d&&f.sort(d),function(t,e){var n=t.length;if(!n)throw new TypeError("Invalid nodes: it's empty!");if(e.weight){var r=e.marginRatio;if(r<0||r>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var i=r/(2*n),a=e.thickness;if(a<=0||a>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var o=0;t.forEach(function(t){o+=t.value}),t.forEach(function(t){t.weight=t.value/o,t.width=t.weight*(1-r),t.height=a}),t.forEach(function(n,r){for(var o=0,s=r-1;s>=0;s--)o+=t[s].width+2*i;var u=n.minX=i+o,c=n.maxX=n.minX+n.width,l=n.minY=e.y-a/2,h=n.maxY=l+a;n.x=[u,c,c,u],n.y=[l,l,h,h]})}else{var s=1/n;t.forEach(function(t,n){t.x=(n+.5)*s,t.y=e.y})}}(v,e),function(t,e,n){if(n.weight){var r={};i(t,function(t,e){r[e]=t.value}),e.forEach(function(e){var i=n.source(e),a=n.target(e),o=t[i],s=t[a];if(o&&s){var u=r[i],c=n.sourceWeight(e),l=o.minX+(o.value-u)/o.value*o.width,h=l+c/o.value*o.width;r[i]-=c;var f=r[a],p=n.targetWeight(e),d=s.minX+(s.value-f)/s.value*s.width,g=d+p/s.value*s.width;r[a]-=p;var v=n.y;e.x=[l,h,d,g],e.y=[v,v,v,v]}})}else e.forEach(function(e){var r=t[n.source(e)],i=t[n.target(e)];r&&i&&(e.x=[r.x,i.x],e.y=[r.y,i.y])})}(g,y,e),t.nodes=v,t.edges=y}u("diagram.arc",l),u("arc",l)},function(t,e,n){var r=n(501),i=n(1073),a=n(503).registerTransform,o={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(t){return t.source},target:function(t){return t.target}};function s(t,e){e=r({},o,e);var n=new i.graphlib.Graph;n.setGraph({}),n.setDefaultEdgeLabel(function(){return{}}),t.nodes.forEach(function(t){var r=e.nodeId?e.nodeId(t):t.id;t.height||t.width||(t.height=t.width=e.edgesep),n.setNode(r,t)}),t.edges.forEach(function(t){n.setEdge(e.source(t),e.target(t))}),i.layout(n);var a=[],s=[];n.nodes().forEach(function(t){var e=n.node(t),r=e.x,i=e.y,o=e.height,s=e.width;e.x=[r-s/2,r+s/2,r+s/2,r-s/2],e.y=[i+o/2,i+o/2,i-o/2,i-o/2],a.push(e)}),n.edges().forEach(function(t){var e=n.edge(t).points,r={};r.x=e.map(function(t){return t.x}),r.y=e.map(function(t){return t.y}),s.push(r)}),t.nodes=a,t.edges=s}a("diagram.dagre",s),a("dagre",s)},function(t,e,n){t.exports={graphlib:n(523),layout:n(1087),debug:n(1109),util:{time:n(517).time,notime:n(517).notime},version:n(1110)}},function(t,e,n){var r=n(1075);t.exports={Graph:r.Graph,json:n(1077),alg:n(1078),version:r.version}},function(t,e,n){t.exports={Graph:n(624),version:n(1076)}},function(t,e){t.exports="2.1.5"},function(t,e,n){var r=n(520),i=n(624);t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:(i=t,r.map(i.nodes(),function(t){var e=i.node(t),n=i.parent(t),a={v:t};return r.isUndefined(e)||(a.value=e),r.isUndefined(n)||(a.parent=n),a})),edges:(n=t,r.map(n.edges(),function(t){var e=n.edge(t),i={v:t.v,w:t.w};return r.isUndefined(t.name)||(i.name=t.name),r.isUndefined(e)||(i.value=e),i}))};var n;var i;r.isUndefined(t.graph())||(e.value=r.clone(t.graph()));return e},read:function(t){var e=new i(t.options).setGraph(t.value);return r.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),r.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}}},function(t,e,n){t.exports={components:n(1079),dijkstra:n(740),dijkstraAll:n(1080),findCycles:n(1081),floydWarshall:n(1082),isAcyclic:n(1083),postorder:n(1084),preorder:n(1085),prim:n(1086),tarjan:n(742),topsort:n(743)}},function(t,e,n){var r=n(520);t.exports=function(t){var e,n={},i=[];function a(i){r.has(n,i)||(n[i]=!0,e.push(i),r.each(t.successors(i),a),r.each(t.predecessors(i),a))}return r.each(t.nodes(),function(t){e=[],a(t),e.length&&i.push(e)}),i}},function(t,e,n){var r=n(740),i=n(520);t.exports=function(t,e,n){return i.transform(t.nodes(),function(i,a){i[a]=r(t,a,e,n)},{})}},function(t,e,n){var r=n(520),i=n(742);t.exports=function(t){return r.filter(i(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})}},function(t,e,n){var r=n(520);t.exports=function(t,e,n){return r=t,a=e||i,o=n||function(e){return t.outEdges(e)},s={},u=r.nodes(),u.forEach(function(t){s[t]={},s[t][t]={distance:0},u.forEach(function(e){t!==e&&(s[t][e]={distance:Number.POSITIVE_INFINITY})}),o(t).forEach(function(e){var n=e.v===t?e.w:e.v,r=a(e);s[t][n]={distance:r,predecessor:t}})}),u.forEach(function(t){var e=s[t];u.forEach(function(n){var r=s[n];u.forEach(function(n){var i=r[t],a=e[n],o=r[n],s=i.distance+a.distance;s<o.distance&&(o.distance=s,o.predecessor=a.predecessor)})})}),s;var r,a,o,s,u};var i=r.constant(1)},function(t,e,n){var r=n(743);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},function(t,e,n){var r=n(744);t.exports=function(t,e){return r(t,e,"post")}},function(t,e,n){var r=n(744);t.exports=function(t,e){return r(t,e,"pre")}},function(t,e,n){var r=n(520),i=n(624),a=n(741);t.exports=function(t,e){var n,o=new i,s={},u=new a;function c(t){var r=t.v===n?t.w:t.v,i=u.priority(r);if(void 0!==i){var a=e(t);a<i&&(s[r]=n,u.decrease(r,a))}}if(0===t.nodeCount())return o;r.each(t.nodes(),function(t){u.add(t,Number.POSITIVE_INFINITY),o.setNode(t)}),u.decrease(t.nodes()[0],0);var l=!1;for(;u.size()>0;){if(n=u.removeMin(),r.has(s,n))o.setEdge(n,s[n]);else{if(l)throw new Error("Input graph is not connected: "+t);l=!0}t.nodeEdges(n).forEach(c)}return o}},function(t,e,n){"use strict";var r=n(510),i=n(1088),a=n(1091),o=n(1092),s=n(517).normalizeRanks,u=n(1094),c=n(517).removeEmptyRanks,l=n(1095),h=n(1096),f=n(1097),p=n(1098),d=n(1107),g=n(517),v=n(523).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?g.time:g.notime;n("layout",function(){var e=n("  buildLayoutGraph",function(){return e=t,n=new v({multigraph:!0,compound:!0}),i=C(e.graph()),n.setGraph(r.merge({},m,E(i,y),r.pick(i,x))),r.forEach(e.nodes(),function(t){var i=C(e.node(t));n.setNode(t,r.defaults(E(i,_),w)),n.setParent(t,e.parent(t))}),r.forEach(e.edges(),function(t){var i=C(e.edge(t));n.setEdge(t,r.merge({},M,E(i,b),r.pick(i,S)))}),n;var e,n,i});n("  runLayout",function(){var t,v;t=e,(v=n)("    makeSpaceForEdgeLabels",function(){var e,n;(n=(e=t).graph()).ranksep/=2,r.forEach(e.edges(),function(t){var r=e.edge(t);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===n.rankdir||"BT"===n.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}),v("    removeSelfEdges",function(){var e;e=t,r.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}),v("    acyclic",function(){i.run(t)}),v("    nestingGraph.run",function(){l.run(t)}),v("    rank",function(){o(g.asNonCompoundGraph(t))}),v("    injectEdgeLabelProxies",function(){var e;e=t,r.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),a={rank:(i.rank-r.rank)/2+r.rank,e:t};g.addDummyNode(e,"edge-proxy",a,"_ep")}})}),v("    removeEmptyRanks",function(){c(t)}),v("    nestingGraph.cleanup",function(){l.cleanup(t)}),v("    normalizeRanks",function(){s(t)}),v("    assignRankMinMax",function(){var e,n;e=t,n=0,r.forEach(e.nodes(),function(t){var i=e.node(t);i.borderTop&&(i.minRank=e.node(i.borderTop).rank,i.maxRank=e.node(i.borderBottom).rank,n=r.max(n,i.maxRank))}),e.graph().maxRank=n}),v("    removeEdgeLabelProxies",function(){var e;e=t,r.forEach(e.nodes(),function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}),v("    normalize.run",function(){a.run(t)}),v("    parentDummyChains",function(){u(t)}),v("    addBorderSegments",function(){h(t)}),v("    order",function(){p(t)}),v("    insertSelfEdges",function(){var e,n;e=t,n=g.buildLayerMatrix(e),r.forEach(n,function(t){var n=0;r.forEach(t,function(t,i){var a=e.node(t);a.order=i+n,r.forEach(a.selfEdges,function(t){g.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:a.rank,order:i+ ++n,e:t.e,label:t.label},"_se")}),delete a.selfEdges})})}),v("    adjustCoordinateSystem",function(){f.adjust(t)}),v("    position",function(){d(t)}),v("    positionSelfEdges",function(){var e;e=t,r.forEach(e.nodes(),function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),i=r.x+r.width/2,a=r.y,o=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{x:i+o,y:a},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],n.label.x=n.x,n.label.y=n.y}})}),v("    removeBorderNodes",function(){var e;e=t,r.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),i=e.node(n.borderTop),a=e.node(n.borderBottom),o=e.node(r.last(n.borderLeft)),s=e.node(r.last(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(a.y-i.y),n.x=o.x+n.width/2,n.y=i.y+n.height/2}}),r.forEach(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})}),v("    normalize.undo",function(){a.undo(t)}),v("    fixupEdgeLabelCoords",function(){var e;e=t,r.forEach(e.edges(),function(t){var n=e.edge(t);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}),v("    undoCoordinateSystem",function(){f.undo(t)}),v("    translateGraph",function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,a=0,o=t.graph(),s=o.marginx||0,u=o.marginy||0;function c(t){var r=t.x,o=t.y,s=t.width,u=t.height;e=Math.min(e,r-s/2),n=Math.max(n,r+s/2),i=Math.min(i,o-u/2),a=Math.max(a,o+u/2)}r.forEach(t.nodes(),function(e){c(t.node(e))}),r.forEach(t.edges(),function(e){var n=t.edge(e);r.has(n,"x")&&c(n)}),e-=s,i-=u,r.forEach(t.nodes(),function(n){var r=t.node(n);r.x-=e,r.y-=i}),r.forEach(t.edges(),function(n){var a=t.edge(n);r.forEach(a.points,function(t){t.x-=e,t.y-=i}),r.has(a,"x")&&(a.x-=e),r.has(a,"y")&&(a.y-=i)}),o.width=n-e+s,o.height=a-i+u}(t)}),v("    assignNodeIntersects",function(){var e;e=t,r.forEach(e.edges(),function(t){var n,r,i=e.edge(t),a=e.node(t.v),o=e.node(t.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=o,r=a),i.points.unshift(g.intersectRect(a,n)),i.points.push(g.intersectRect(o,r))})}),v("    reversePoints",function(){var e;e=t,r.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}),v("    acyclic.undo",function(){i.undo(t)})}),n("  updateInputGraph",function(){var n,i;n=t,i=e,r.forEach(n.nodes(),function(t){var e=n.node(t),r=i.node(t);e&&(e.x=r.x,e.y=r.y,i.children(t).length&&(e.width=r.width,e.height=r.height))}),r.forEach(n.edges(),function(t){var e=n.edge(t),a=i.edge(t);e.points=a.points,r.has(a,"x")&&(e.x=a.x,e.y=a.y)}),n.graph().width=i.graph().width,n.graph().height=i.graph().height})})};var y=["nodesep","edgesep","ranksep","marginx","marginy"],m={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},x=["acyclicer","ranker","rankdir","align"],_=["width","height"],w={width:0,height:0},b=["minlen","weight","width","height","labeloffset"],M={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},S=["labelpos"];function E(t,e){return r.mapValues(r.pick(t,e),Number)}function C(t){var e={};return r.forEach(t,function(t,n){e[n.toLowerCase()]=t}),e}},function(t,e,n){"use strict";var r=n(510),i=n(1089);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?i(t,(n=t,function(t){return n.edge(t).weight})):function(t){var e=[],n={},i={};return r.forEach(t.nodes(),function a(o){r.has(i,o)||(i[o]=!0,n[o]=!0,r.forEach(t.outEdges(o),function(t){r.has(n,t.w)?e.push(t):a(t.w)}),delete n[o])}),e}(t);var n;r.forEach(e,function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))})},undo:function(t){r.forEach(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}}},function(t,e,n){var r=n(510),i=n(523).Graph,a=n(1090);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new i,o=0,s=0;r.forEach(t.nodes(),function(t){n.setNode(t,{v:t,in:0,out:0})}),r.forEach(t.edges(),function(t){var r=n.edge(t.v,t.w)||0,i=e(t),a=r+i;n.setEdge(t.v,t.w,a),s=Math.max(s,n.node(t.v).out+=i),o=Math.max(o,n.node(t.w).in+=i)});var c=r.range(s+o+3).map(function(){return new a}),l=o+1;return r.forEach(n.nodes(),function(t){u(c,l,n.node(t))}),{graph:n,buckets:c,zeroIdx:l}}(t,e||o),c=function(t,e,n){var r,i=[],a=e[e.length-1],o=e[0];for(;t.nodeCount();){for(;r=o.dequeue();)s(t,e,n,r);for(;r=a.dequeue();)s(t,e,n,r);if(t.nodeCount())for(var u=e.length-2;u>0;--u)if(r=e[u].dequeue()){i=i.concat(s(t,e,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,function(e){return t.outEdges(e.v,e.w)}),!0)};var o=r.constant(1);function s(t,e,n,i,a){var o=a?[]:void 0;return r.forEach(t.inEdges(i.v),function(r){var i=t.edge(r),s=t.node(r.v);a&&o.push({v:r.v,w:r.w}),s.out-=i,u(e,n,s)}),r.forEach(t.outEdges(i.v),function(r){var i=t.edge(r),a=r.w,o=t.node(a);o.in-=i,u(e,n,o)}),t.removeNode(i.v),o}function u(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},function(t,e){function n(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function i(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=n,n.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return r(e),e},n.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&r(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},n.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,i)),n=n._prev;return"["+t.join(", ")+"]"}},function(t,e,n){"use strict";var r=n(510),i=n(517);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),function(e){!function(t,e){var n,r,a,o=e.v,s=t.node(o).rank,u=e.w,c=t.node(u).rank,l=e.name,h=t.edge(e),f=h.labelRank;if(c===s+1)return;for(t.removeEdge(e),a=0,++s;s<c;++a,++s)h.points=[],r={width:0,height:0,edgeLabel:h,edgeObj:e,rank:s},n=i.addDummyNode(t,"edge",r,"_d"),s===f&&(r.width=h.width,r.height=h.height,r.dummy="edge-label",r.labelpos=h.labelpos),t.setEdge(o,n,{weight:h.weight},l),0===a&&t.graph().dummyChains.push(n),o=n;t.setEdge(o,u,{weight:h.weight},l)}(t,e)})},undo:function(t){r.forEach(t.graph().dummyChains,function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)})}}},function(t,e,n){"use strict";var r=n(579).longestPath,i=n(745),a=n(1093);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":s(t);break;case"tight-tree":r(e=t),i(e);break;case"longest-path":o(t);break;default:s(t)}var e};var o=r;function s(t){a(t)}},function(t,e,n){"use strict";var r=n(510),i=n(745),a=n(579).slack,o=n(579).longestPath,s=n(523).alg.preorder,u=n(523).alg.postorder,c=n(517).simplify;function l(t){t=c(t),o(t);var e,n=i(t);for(p(n),h(n,t);e=d(n);)v(n,t,e,g(n,t,e))}function h(t,e){var n=u(t,t.nodes());n=n.slice(0,n.length-1),r.forEach(n,function(n){var r,i,a,o;i=e,a=n,o=(r=t).node(a).parent,r.edge(a,o).cutvalue=f(r,i,a)})}function f(t,e,n){var i=t.node(n).parent,a=!0,o=e.edge(n,i),s=0;return o||(a=!1,o=e.edge(i,n)),s=o.weight,r.forEach(e.nodeEdges(n),function(r){var o,u,c=r.v===n,l=c?r.w:r.v;if(l!==i){var h=c===a,f=e.edge(r).weight;if(s+=h?f:-f,o=n,u=l,t.hasEdge(o,u)){var p=t.edge(n,l).cutvalue;s+=h?-p:p}}}),s}function p(t,e){arguments.length<2&&(e=t.nodes()[0]),function t(e,n,i,a,o){var s=i,u=e.node(a);n[a]=!0;r.forEach(e.neighbors(a),function(o){r.has(n,o)||(i=t(e,n,i,o,a))});u.low=s;u.lim=i++;o?u.parent=o:delete u.parent;return i}(t,{},1,e)}function d(t){return r.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function g(t,e,n){var i=n.v,o=n.w;e.hasEdge(i,o)||(i=n.w,o=n.v);var s=t.node(i),u=t.node(o),c=s,l=!1;s.lim>u.lim&&(c=u,l=!0);var h=r.filter(e.edges(),function(e){return l===y(t,t.node(e.v),c)&&l!==y(t,t.node(e.w),c)});return r.minBy(h,function(t){return a(e,t)})}function v(t,e,n,i){var a,o,u,c,l=n.v,f=n.w;t.removeEdge(l,f),t.setEdge(i.v,i.w,{}),p(t),h(t,e),a=t,o=e,u=r.find(a.nodes(),function(t){return!o.node(t).parent}),c=(c=s(a,u)).slice(1),r.forEach(c,function(t){var e=a.node(t).parent,n=o.edge(t,e),r=!1;n||(n=o.edge(e,t),r=!0),o.node(t).rank=o.node(e).rank+(r?n.minlen:-n.minlen)})}function y(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=l,l.initLowLimValues=p,l.initCutValues=h,l.calcCutValue=f,l.leaveEdge=d,l.enterEdge=g,l.exchangeEdges=v},function(t,e,n){var r=n(510);t.exports=function(t){var e=function(t){var e={},n=0;return r.forEach(t.children(),function i(a){var o=n;r.forEach(t.children(a),i),e[a]={low:o,lim:n++}}),e}(t);r.forEach(t.graph().dummyChains,function(n){for(var r=t.node(n),i=r.edgeObj,a=function(t,e,n,r){var i,a,o=[],s=[],u=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),o.push(i)}while(i&&(e[i].low>u||c>e[i].lim));a=i,i=r;for(;(i=t.parent(i))!==a;)s.push(i);return{path:o.concat(s.reverse()),lca:a}}(t,e,i.v,i.w),o=a.path,s=a.lca,u=0,c=o[u],l=!0;n!==i.w;){if(r=t.node(n),l){for(;(c=o[u])!==s&&t.node(c).maxRank<r.rank;)u++;c===s&&(l=!1)}if(!l){for(;u<o.length-1&&t.node(c=o[u+1]).minRank<=r.rank;)u++;c=o[u]}t.setParent(n,c),n=t.successors(n)[0]}})}},function(t,e,n){var r=n(510),i=n(517);t.exports={run:function(t){var e=i.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};return r.forEach(t.children(),function(n){!function n(i,a){var o=t.children(i);o&&o.length&&r.forEach(o,function(t){n(t,a+1)}),e[i]=a}(n,1)}),e}(t),a=r.max(r.values(n))-1,o=2*a+1;t.graph().nestingRoot=e,r.forEach(t.edges(),function(e){t.edge(e).minlen*=o});var s=(u=t,r.reduce(u.edges(),function(t,e){return t+u.edge(e).weight},0)+1);var u;r.forEach(t.children(),function(u){!function t(e,n,a,o,s,u,c){var l=e.children(c);if(!l.length)return void(c!==n&&e.setEdge(n,c,{weight:0,minlen:a}));var h=i.addBorderNode(e,"_bt"),f=i.addBorderNode(e,"_bb"),p=e.node(c);e.setParent(h,c);p.borderTop=h;e.setParent(f,c);p.borderBottom=f;r.forEach(l,function(r){t(e,n,a,o,s,u,r);var i=e.node(r),l=i.borderTop?i.borderTop:r,p=i.borderBottom?i.borderBottom:r,d=i.borderTop?o:2*o,g=l!==p?1:s-u[c]+1;e.setEdge(h,l,{weight:d,minlen:g,nestingEdge:!0}),e.setEdge(p,f,{weight:d,minlen:g,nestingEdge:!0})});e.parent(c)||e.setEdge(n,h,{weight:0,minlen:s+u[c]})}(t,e,o,s,a,n,u)}),t.graph().nodeRankFactor=o},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),function(e){var n=t.edge(e);n.nestingEdge&&t.removeEdge(e)})}}},function(t,e,n){var r=n(510),i=n(517);function a(t,e,n,r,a,o){var s={width:0,height:0,rank:o,borderType:e},u=a[e][o-1],c=i.addDummyNode(t,"border",s,n);a[e][o]=c,t.setParent(c,r),u&&t.setEdge(u,c,{weight:1})}t.exports=function(t){r.forEach(t.children(),function e(n){var i=t.children(n),o=t.node(n);i.length&&r.forEach(i,e);if(r.has(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var s=o.minRank,u=o.maxRank+1;s<u;++s)a(t,"borderLeft","_bl",n,o,s),a(t,"borderRight","_br",n,o,s)}})}},function(t,e,n){"use strict";var r=n(510);function i(t){r.forEach(t.nodes(),function(e){a(t.node(e))}),r.forEach(t.edges(),function(e){a(t.edge(e))})}function a(t){var e=t.width;t.width=t.height,t.height=e}function o(t){t.y=-t.y}function s(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||i(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||(n=t,r.forEach(n.nodes(),function(t){o(n.node(t))}),r.forEach(n.edges(),function(t){var e=n.edge(t);r.forEach(e.points,o),r.has(e,"y")&&o(e)}));var n;"lr"!==e&&"rl"!==e||(a=t,r.forEach(a.nodes(),function(t){s(a.node(t))}),r.forEach(a.edges(),function(t){var e=a.edge(t);r.forEach(e.points,s),r.has(e,"x")&&s(e)}),i(t));var a}}},function(t,e,n){"use strict";var r=n(510),i=n(1099),a=n(1100),o=n(1101),s=n(1105),u=n(1106),c=n(523).Graph,l=n(517);function h(t,e,n){return r.map(e,function(e){return s(t,e,n)})}function f(t,e){var n=new c;r.forEach(t,function(t){var i=t.graph().root,a=o(t,i,n,e);r.forEach(a.vs,function(e,n){t.node(e).order=n}),u(t,n,a.vs)})}function p(t,e){r.forEach(e,function(e){r.forEach(e,function(e,n){t.node(e).order=n})})}t.exports=function(t){var e=l.maxRank(t),n=h(t,r.range(1,e+1),"inEdges"),o=h(t,r.range(e-1,-1,-1),"outEdges"),s=i(t);p(t,s);for(var u,c=Number.POSITIVE_INFINITY,d=0,g=0;g<4;++d,++g){f(d%2?n:o,d%4>=2),s=l.buildLayerMatrix(t);var v=a(t,s);v<c&&(g=0,u=r.cloneDeep(s),c=v)}p(t,u)}},function(t,e,n){"use strict";var r=n(510);t.exports=function(t){var e={},n=r.filter(t.nodes(),function(e){return!t.children(e).length}),i=r.max(r.map(n,function(e){return t.node(e).rank})),a=r.map(r.range(i+1),function(){return[]});var o=r.sortBy(n,function(e){return t.node(e).rank});return r.forEach(o,function n(i){if(!r.has(e,i)){e[i]=!0;var o=t.node(i);a[o.rank].push(i),r.forEach(t.successors(i),n)}}),a}},function(t,e,n){"use strict";var r=n(510);function i(t,e,n){for(var i=r.zipObject(n,r.map(n,function(t,e){return e})),a=r.flatten(r.map(e,function(e){return r.chain(t.outEdges(e)).map(function(e){return{pos:i[e.w],weight:t.edge(e).weight}}).sortBy("pos").value()}),!0),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var u=r.map(new Array(s),function(){return 0}),c=0;return r.forEach(a.forEach(function(t){var e=t.pos+o;u[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=u[e+1]),u[e=e-1>>1]+=t.weight;c+=t.weight*n})),c}t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=i(t,e[r-1],e[r]);return n}},function(t,e,n){var r=n(510),i=n(1102),a=n(1103),o=n(1104);t.exports=function t(e,n,s,u){var c=e.children(n),l=e.node(n),h=l?l.borderLeft:void 0,f=l?l.borderRight:void 0,p={};h&&(c=r.filter(c,function(t){return t!==h&&t!==f}));var d=i(e,c);r.forEach(d,function(n){if(e.children(n.v).length){var i=t(e,n.v,s,u);p[n.v]=i,r.has(i,"barycenter")&&(a=n,o=i,r.isUndefined(a.barycenter)?(a.barycenter=o.barycenter,a.weight=o.weight):(a.barycenter=(a.barycenter*a.weight+o.barycenter*o.weight)/(a.weight+o.weight),a.weight+=o.weight))}var a,o});var g=a(d,s);v=g,y=p,r.forEach(v,function(t){t.vs=r.flatten(t.vs.map(function(t){return y[t]?y[t].vs:t}),!0)});var v,y;var m=o(g,u);if(h&&(m.vs=r.flatten([h,m.vs,f],!0),e.predecessors(h).length)){var x=e.node(e.predecessors(h)[0]),_=e.node(e.predecessors(f)[0]);r.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+x.order+_.order)/(m.weight+2),m.weight+=2}return m}},function(t,e,n){var r=n(510);t.exports=function(t,e){return r.map(e,function(e){var n=t.inEdges(e);if(n.length){var i=r.reduce(n,function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}},{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}return{v:e}})}},function(t,e,n){"use strict";var r=n(510);t.exports=function(t,e){var n={};return r.forEach(t,function(t,e){var i=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(i.barycenter=t.barycenter,i.weight=t.weight)}),r.forEach(e.edges(),function(t){var e=n[t.v],i=n[t.w];r.isUndefined(e)||r.isUndefined(i)||(i.indegree++,e.out.push(n[t.w]))}),function(t){var e=[];function n(t){return function(e){var n,i,a,o;e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&(i=e,a=0,o=0,(n=t).weight&&(a+=n.barycenter*n.weight,o+=n.weight),i.weight&&(a+=i.barycenter*i.weight,o+=i.weight),n.vs=i.vs.concat(n.vs),n.barycenter=a/o,n.weight=o,n.i=Math.min(i.i,n.i),i.merged=!0)}}function i(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var a=t.pop();e.push(a),r.forEach(a.in.reverse(),n(a)),r.forEach(a.out,i(a))}return r.chain(e).filter(function(t){return!t.merged}).map(function(t){return r.pick(t,["vs","i","barycenter","weight"])}).value()}(r.filter(n,function(t){return!t.indegree}))}},function(t,e,n){var r=n(510),i=n(517);function a(t,e,n){for(var i;e.length&&(i=r.last(e)).i<=n;)e.pop(),t.push(i.vs),n++;return n}t.exports=function(t,e){var n=i.partition(t,function(t){return r.has(t,"barycenter")}),o=n.lhs,s=r.sortBy(n.rhs,function(t){return-t.i}),u=[],c=0,l=0,h=0;o.sort((f=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:f?e.i-t.i:t.i-e.i})),h=a(u,s,h),r.forEach(o,function(t){h+=t.vs.length,u.push(t.vs),c+=t.barycenter*t.weight,l+=t.weight,h=a(u,s,h)});var f;var p={vs:r.flatten(u,!0)};l&&(p.barycenter=c/l,p.weight=l);return p}},function(t,e,n){var r=n(510),i=n(523).Graph;t.exports=function(t,e,n){var a=function(t){var e;for(;t.hasNode(e=r.uniqueId("_root")););return e}(t),o=new i({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(e){return t.node(e)});return r.forEach(t.nodes(),function(i){var s=t.node(i),u=t.parent(i);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(o.setNode(i),o.setParent(i,u||a),r.forEach(t[n](i),function(e){var n=e.v===i?e.w:e.v,a=o.edge(n,i),s=r.isUndefined(a)?0:a.weight;o.setEdge(n,i,{weight:t.edge(e).weight+s})}),r.has(s,"minRank")&&o.setNode(i,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),o}},function(t,e,n){var r=n(510);t.exports=function(t,e,n){var i,a={};r.forEach(n,function(n){for(var r,o,s=t.parent(n);s;){if((r=t.parent(s))?(o=a[r],a[r]=s):(o=i,i=s),o&&o!==s)return void e.setEdge(o,s);s=r}})}},function(t,e,n){"use strict";var r=n(510),i=n(517),a=n(1108).positionX;t.exports=function(t){e=t=i.asNonCompoundGraph(t),n=i.buildLayerMatrix(e),o=e.graph().ranksep,s=0,r.forEach(n,function(t){var n=r.max(r.map(t,function(t){return e.node(t).height}));r.forEach(t,function(t){e.node(t).y=s+n/2}),s+=n+o}),r.forEach(a(t),function(e,n){t.node(n).x=e});var e,n,o,s}},function(t,e,n){"use strict";var r=n(510),i=n(523).Graph,a=n(517);function o(t,e){var n={};return r.reduce(e,function(e,i){var a=0,o=0,s=e.length,c=r.last(i);return r.forEach(i,function(e,l){var h=function(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),function(e){return t.node(e).dummy})}(t,e),f=h?t.node(h).order:s;(h||e===c)&&(r.forEach(i.slice(o,l+1),function(e){r.forEach(t.predecessors(e),function(r){var i=t.node(r),o=i.order;!(o<a||f<o)||i.dummy&&t.node(e).dummy||u(n,r,e)})}),o=l+1,a=f)}),i}),n}function s(t,e){var n={};function i(e,i,a,o,s){var c;r.forEach(r.range(i,a),function(i){c=e[i],t.node(c).dummy&&r.forEach(t.predecessors(c),function(e){var r=t.node(e);r.dummy&&(r.order<o||r.order>s)&&u(n,e,c)})})}return r.reduce(e,function(e,n){var a,o=-1,s=0;return r.forEach(n,function(r,u){if("border"===t.node(r).dummy){var c=t.predecessors(r);c.length&&(a=t.node(c[0]).order,i(n,s,u,o,a),s=u,o=a)}i(n,s,n.length,a,e.length)}),n}),n}function u(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function c(t,e,n){if(e>n){var i=e;e=n,n=i}return r.has(t[e],n)}function l(t,e,n,i){var a={},o={},s={};return r.forEach(e,function(t){r.forEach(t,function(t,e){a[t]=t,o[t]=t,s[t]=e})}),r.forEach(e,function(t){var e=-1;r.forEach(t,function(t){var u=i(t);if(u.length)for(var l=((u=r.sortBy(u,function(t){return s[t]})).length-1)/2,h=Math.floor(l),f=Math.ceil(l);h<=f;++h){var p=u[h];o[t]===t&&e<s[p]&&!c(n,t,p)&&(o[p]=t,o[t]=a[t]=a[p],e=s[p])}})}),{root:a,align:o}}function h(t,e,n,a,o){var s,u,c,l,h,f,p,d,g,v,y={},m=(s=t,u=e,c=n,l=o,h=new i,f=s.graph(),d=f.nodesep,g=f.edgesep,v=l,p=function(t,e,n){var i,a=t.node(e),o=t.node(n),s=0;if(s+=a.width/2,r.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":i=-a.width/2;break;case"r":i=a.width/2}if(i&&(s+=v?i:-i),i=0,s+=(a.dummy?g:d)/2,s+=(o.dummy?g:d)/2,s+=o.width/2,r.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":i=o.width/2;break;case"r":i=-o.width/2}return i&&(s+=v?i:-i),i=0,s},r.forEach(u,function(t){var e;r.forEach(t,function(t){var n=c[t];if(h.setNode(n),e){var r=c[e],i=h.edge(r,n);h.setEdge(r,n,Math.max(p(s,t,e),i||0))}e=t})}),h),x=o?"borderLeft":"borderRight";function _(t,e){for(var n=m.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return _(function(t){y[t]=m.inEdges(t).reduce(function(t,e){return Math.max(t,y[e.v]+m.edge(e))},0)},r.bind(m.predecessors,m)),_(function(e){var n=m.outEdges(e).reduce(function(t,e){return Math.min(t,y[e.w]-m.edge(e))},Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==x&&(y[e]=Math.max(y[e],n))},r.bind(m.successors,m)),r.forEach(a,function(t){y[t]=y[n[t]]}),y}function f(t,e){return r.minBy(r.values(e),function(e){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return r.forIn(e,function(e,r){var a,o=(a=r,t.node(a).width/2);n=Math.max(e+o,n),i=Math.min(e-o,i)}),n-i})}function p(t,e){var n=r.values(e),i=r.min(n),a=r.max(n);r.forEach(["u","d"],function(n){r.forEach(["l","r"],function(o){var s,u=n+o,c=t[u];if(c!==e){var l=r.values(c);(s="l"===o?i-r.min(l):a-r.max(l))&&(t[u]=r.mapValues(c,function(t){return t+s}))}})})}function d(t,e){return r.mapValues(t.ul,function(n,i){if(e)return t[e.toLowerCase()][i];var a=r.sortBy(r.map(t,i));return(a[1]+a[2])/2})}t.exports={positionX:function(t){var e,n=a.buildLayerMatrix(t),i=r.merge(o(t,n),s(t,n)),u={};r.forEach(["u","d"],function(a){e="u"===a?n:r.values(n).reverse(),r.forEach(["l","r"],function(n){"r"===n&&(e=r.map(e,function(t){return r.values(t).reverse()}));var o=r.bind("u"===a?t.predecessors:t.successors,t),s=l(t,e,i,o),c=h(t,e,s.root,s.align,"r"===n);"r"===n&&(c=r.mapValues(c,function(t){return-t})),u[a+n]=c})});var c=f(t,u);return p(u,c),d(u,t.graph().align)},findType1Conflicts:o,findType2Conflicts:s,addConflict:u,hasConflict:c,verticalAlignment:l,horizontalCompaction:h,alignCoordinates:p,findSmallestWidthAlignment:f,balance:d}},function(t,e,n){var r=n(510),i=n(517),a=n(523).Graph;t.exports={debugOrdering:function(t){var e=i.buildLayerMatrix(t),n=new a({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)}),r.forEach(t.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),r.forEach(e,function(t,e){var i="layer"+e;n.setNode(i,{rank:"same"}),r.reduce(t,function(t,e){return n.setEdge(t,e,{style:"invis"}),e})}),n}}},function(t,e){t.exports="0.8.2"},function(t,e,n){var r=n(501),i=n(507),a=n(511),o=n(1134),s=o.sankey,u=o.sankeyLeft,c=o.sankeyRight,l=o.sankeyCenter,h=o.sankeyJustify,f=n(503).registerTransform,p={sankeyLeft:u,sankeyRight:c,sankeyCenter:l,sankeyJustify:h},d={value:function(t){return t.value},source:function(t){return t.source},target:function(t){return t.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02};function g(t,e){e=r({},d,e);var n=null;i(e.nodeAlign)?n=p[e.nodeAlign]:a(e.nodeAlign)&&(n=e.nodeAlign);var o=s().links(function(t){return t.edges}).nodeWidth(e.nodeWidth).nodePadding(e.nodePadding).extent([[0,0],[1,1]]);a(e.nodeId)&&o.nodeId(e.nodeId),n&&o.nodeAlign(n),o(t),t.nodes.forEach(function(t){var e=t.x0,n=t.x1,r=t.y0,i=t.y1;t.x=[e,n,n,e],t.y=[r,r,i,i]}),t.edges.forEach(function(t){var e=t.source,n=t.target,r=e.x1,i=n.x0;t.x=[r,r,i,i];var a=t.width/2;t.y=[t.y0+a,t.y0-a,t.y1+a,t.y1-a]})}f("diagram.sankey",g),f("sankey",g)},function(t,e,n){var r=n(501),i=n(1138),a=n(504),o=n(503).registerTransform,s=n(509).getFields,u={as:["_x","_y"]};function c(t,e){var n=(e=r({},u,e)).as;if(!a(n)||2!==n.length)throw new TypeError("Invalid as: must be an array with two strings!");var o=n[0],c=n[1],l=s(e);if(!a(l)&&2!==l.length)throw new TypeError("Invalid fields: must be an array with two strings!");var h=l[0],f=l[1],p=t.rows,d=p.map(function(t){return[t[h],t[f]]}),g=i.voronoi();e.extend&&g.extent(e.extend),e.size&&g.size(e.size);var v=g(d).polygons();p.forEach(function(t,e){var n=v[e].filter(function(t){return!!t});t[o]=n.map(function(t){return t[0]}),t[c]=n.map(function(t){return t[1]})})}o("diagram.voronoi",c),o("voronoi",c)},function(t,e,n){var r=n(501),i=n(542),a=n(504),o=n(503),s=o.HIERARCHY,u=o.registerTransform,c=n(509).getField,l={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function h(t,e){if(t.dataType!==s)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n,o=t.root,u=(e=r({},l,e)).as;if(!a(u)||2!==u.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=c(e)}catch(t){console.warn(t)}n&&o.sum(function(t){return t[n]});var h=i.cluster();h.size(e.size),e.nodeSize&&h.nodeSize(e.nodeSize),e.separation&&h.separation(e.separation),h(o);var f=u[0],p=u[1];o.each(function(t){t[f]=t.x,t[p]=t.y})}u("hierarchy.cluster",h),u("dendrogram",h)},function(t,e,n){var r=n(625),i=n(503),a=i.HIERARCHY,o=i.registerTransform,s={};function u(t,e){var n=t.root;if(e=Object.assign({},s,e),t.dataType!==a)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");t.root=r.compactBox(n,e)}o("hierarchy.compact-box",u),o("compact-box-tree",u),o("non-layered-tidy-tree",u),o("mindmap-logical",u)},function(t,e,n){var r=n(580),i=n(1116),a=n(626),o=n(539),s=function(t){var e,n;function r(){return t.apply(this,arguments)||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.execute=function(){return a(this.rootNode,this.options,i)},r}(r),u={};t.exports=function(t,e){return e=o.assign({},u,e),new s(t,e).execute()}},function(t,e){function n(t,e,n,r){void 0===r&&(r=[]);var i=this;i.w=t||0,i.h=e||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function r(t,e){!function t(e,n,r){r?e.y+=n:e.x+=n,e.children.forEach(function(e){t(e,n,r)})}(t,-function t(e,n){var r=n?e.y:e.x;return e.children.forEach(function(e){r=Math.min(t(e,n),r)}),r}(t,e),e)}n.fromNode=function(t,e){if(!t)return null;var r=[];return t.children.forEach(function(t){r.push(n.fromNode(t,e))}),e?new n(t.height,t.width,t.x,r):new n(t.width,t.height,t.y,r)},t.exports=function(t,e){void 0===e&&(e={});var i=e.isHorizontal;function a(t){0===t.cs?(t.el=t,t.er=t,t.msel=t.mser=0):(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function o(t,e,n){for(var r,i,a=t.c[e-1],o=a.mod,c=t.c[e],l=c.mod;null!==a&&null!==c;){u(a)>n.low&&(n=n.nxt);var h=o+a.prelim+a.w-(l+c.prelim);h>0&&(l+=h,s(t,e,n.index,h));var f=u(a),p=u(c);f<=p&&null!==(a=0===(i=a).cs?i.tr:i.c[i.cs-1])&&(o+=a.mod),f>=p&&null!==(c=0===(r=c).cs?r.tl:r.c[0])&&(l+=c.mod)}!a&&c?function(t,e,n,r){var i=t.c[0].el;i.tl=n;var a=r-n.mod-t.c[0].msel;i.mod+=a,i.prelim-=a,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}(t,e,c,l):a&&!c&&function(t,e,n,r){var i=t.c[e].er;i.tr=n;var a=r-n.mod-t.c[e].mser;i.mod+=a,i.prelim-=a,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}(t,e,a,o)}function s(t,e,n,r){t.c[e].mod+=r,t.c[e].msel+=r,t.c[e].mser+=r,function(t,e,n,r){if(n!==e-1){var i=e-n;t.c[n+1].shift+=r/i,t.c[e].shift-=r/i,t.c[e].change-=r-r/i}}(t,e,n,r)}function u(t){return t.y+t.h}function c(t,e,n){for(;null!==n&&t>=n.low;)n=n.nxt;return{low:t,index:e,nxt:n}}!function t(e,n,r){void 0===r&&(r=0),n?(e.x=r,r+=e.width):(e.y=r,r+=e.height),e.children.forEach(function(e){t(e,n,r)})}(t,i);var l=n.fromNode(t,i);return function t(e){if(0!==e.cs){t(e.c[0]);for(var n,r=c(u(e.c[0].el),0,null),i=1;i<e.cs;++i){t(e.c[i]);var s=u(e.c[i].er);o(e,i,r),r=c(s,i,r)}(n=e).prelim=(n.c[0].prelim+n.c[0].mod+n.c[n.cs-1].mod+n.c[n.cs-1].prelim+n.c[n.cs-1].w)/2-n.w/2,a(e)}else a(e)}(l),function t(e,n){n+=e.mod,e.x=e.prelim+n,function(t){for(var e=0,n=0,r=0;r<t.cs;r++)e+=t.c[r].shift,n+=e+t.c[r].change,t.c[r].mod+=n}(e);for(var r=0;r<e.cs;r++)t(e.c[r],n)}(l,0),function t(e,n,r){r?n.y=e.x:n.x=e.x,e.c.forEach(function(e,i){t(e,n.children[i],r)})}(l,t,i),r(t,i),t}},function(t,e,n){var r=n(580),i=n(1118),a=n(626),o=n(539),s=function(t){var e,n;function r(){return t.apply(this,arguments)||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.execute=function(){return this.rootNode.width=0,a(this.rootNode,this.options,i)},r}(r),u={};t.exports=function(t,e){return e=o.assign({},u,e),new s(t,e).execute()}},function(t,e,n){var r=n(539);var i={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};t.exports=function(t,e){void 0===e&&(e={}),e=r.assign({},i,e);var n,a=0;var o=function t(e){if(!e)return null;e.width=0,e.depth&&e.depth>a&&(a=e.depth);var n=e.children,r=n.length,i=new function(t,e){void 0===t&&(t=0),void 0===e&&(e=[]),this.x=this.y=0,this.leftChild=this.rightChild=null,this.height=0,this.children=e}(e.height,[]);return n.forEach(function(e,n){var a=t(e);i.children.push(a),0===n&&(i.leftChild=a),n===r-1&&(i.rightChild=a)}),i.originNode=e,i.isLeaf=e.isLeaf(),i}(t);return function t(e){if(e.isLeaf||0===e.children.length)e.drawingDepth=a;else{var n=e.children.map(function(e){return t(e)}),r=Math.min.apply(null,n);e.drawingDepth=r-1}return e.drawingDepth}(o),function t(r){r.x=r.drawingDepth*e.rankSep,r.isLeaf?(r.y=0,n&&(r.y=n.y+n.height+e.nodeSep,r.originNode.parent!==n.originNode.parent&&(r.y+=e.subTreeSep)),n=r):(r.children.forEach(function(e){t(e)}),r.y=(r.leftChild.y+r.rightChild.y)/2)}(o),function t(e,n,r){r?(n.x=e.x,n.y=e.y):(n.x=e.y,n.y=e.x),e.children.forEach(function(e,i){t(e,n.children[i],r)})}(o,t,e.isHorizontal),t}},function(t,e,n){var r=n(580),i=n(1120),a=n(747),o=n(539),s=["LR","RL","H"],u=s[0],c=function(t){var e,n;function r(){return t.apply(this,arguments)||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.execute=function(){var t=this.options,e=this.rootNode;t.isHorizontal=!0;var n=t.indent,r=t.direction||u;if(r&&-1===s.indexOf(r))throw new TypeError("Invalid direction: "+r);if(r===s[0])i(e,n);else if(r===s[1])i(e,n),e.right2left();else if(r===s[2]){var o=a(e,t),c=o.left,l=o.right;i(c,n),c.right2left(),i(l,n);var h=c.getBoundingBox();l.translate(h.width,0),e.x=l.x-e.width/2}return e},r}(r),l={};t.exports=function(t,e){return e=o.assign({},l,e),new c(t,e).execute()}},function(t,e){t.exports=function(t,e){void 0===e&&(e=20);var n=null;t.eachNode(function(t){var r,i,a;i=n,a=e,(r=t).x+=a*r.depth,r.y=i?i.y+i.height:0,n=t})}},function(t,e,n){var r=n(580),i=n(1122),a=n(626),o=n(539),s=function(t){var e,n;function r(){return t.apply(this,arguments)||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r.prototype.execute=function(){return a(this.rootNode,this.options,i)},r}(r),u={};t.exports=function(t,e){return e=o.assign({},u,e),new s(t,e).execute()}},function(t,e,n){var r=n(539);var i={getSubTreeSep:function(){return 0}};t.exports=function(t,e){void 0===e&&(e={}),e=r.assign({},i,e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse(function(t){t.x=t.parent.x+t.parent.width}),t.parent=null,function t(e,n){var r=0;return e.children.length?e.children.forEach(function(e){r+=t(e,n)}):r=e.height,e._subTreeSep=n.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,r)+2*e._subTreeSep,e.totalHeight}(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode(function(t){var e=t.children,n=e.length;if(n){var r=e[0];if(r.startY=t.startY+t._subTreeSep,1===n)r.y=t.y+t.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var a=e[i];a.startY=e[i-1].startY+e[i-1].totalHeight,a.y=a.startY+a.totalHeight/2-a.height/2}}}}),function t(e){var n=e.children,r=n.length;if(r){n.forEach(function(e){t(e)});var i=n[0],a=n[r-1],o=a.y-i.y+a.height,s=0;if(n.forEach(function(t){s+=t.totalHeight}),o>e.height)e.y=i.y+o/2-e.height/2;else if(1!==n.length||e.height>s){var u=e.y+(e.height-o)/2-i.y;n.forEach(function(t){t.translate(0,u)})}else e.y=(i.y+i.height/2+a.y+a.height/2)/2-e.height/2}}(t)}},function(t,e,n){var r=n(625),i=n(503),a=i.HIERARCHY,o=i.registerTransform,s={};function u(t,e){var n=t.root;if(e=Object.assign({},s,e),t.dataType!==a)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");t.root=r.dendrogram(n,e)}o("hierarchy.dendrogram",u),o("dendrogram",u)},function(t,e,n){var r=n(625),i=n(503),a=i.HIERARCHY,o=i.registerTransform,s={};function u(t,e){var n=t.root;if(e=Object.assign({},s,e),t.dataType!==a)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");t.root=r.indented(n,e)}o("hierarchy.indented",u),o("indented-tree",u)},function(t,e,n){var r=n(501),i=n(542),a=n(504),o=n(503),s=o.HIERARCHY,u=o.registerTransform,c=n(509).getField,l={field:"value",size:[1,1],padding:0,as:["x","y","r"]};function h(t,e){if(t.dataType!==s)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n,o=t.root,u=(e=r({},l,e)).as;if(!a(u)||3!==u.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{n=c(e)}catch(t){console.warn(t)}n&&o.sum(function(t){return t[n]}).sort(function(t,e){return e[n]-t[n]});var h=i.pack();h.size(e.size),e.padding&&h.padding(e.padding),h(o);var f=u[0],p=u[1],d=u[2];o.each(function(t){t[f]=t.x,t[p]=t.y,t[d]=t.r})}u("hierarchy.pack",h),u("hierarchy.circle-packing",h),u("circle-packing",h)},function(t,e,n){var r=n(501),i=n(542),a=n(504),o=n(503),s=o.HIERARCHY,u=o.registerTransform,c=n(509).getField,l={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function h(t,e){if(t.dataType!==s)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n,o=t.root,u=(e=r({},l,e)).as;if(!a(u)||2!==u.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=c(e)}catch(t){console.warn(t)}n&&o.sum(function(t){return t[n]});var h=i.partition();h.size(e.size).round(e.round).padding(e.padding),h(o);var f=u[0],p=u[1];o.each(function(t){t[f]=[t.x0,t.x1,t.x1,t.x0],t[p]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach(function(e){-1===u.indexOf(e)&&delete t[e]})})}u("hierarchy.partition",h),u("adjacency",h)},function(t,e,n){var r=n(501),i=n(542),a=n(504),o=n(503),s=o.HIERARCHY,u=o.registerTransform,c=n(509).getField,l={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function h(t,e){if(t.dataType!==s)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n,o=t.root,u=(e=r({},l,e)).as;if(!a(u)||2!==u.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=c(e)}catch(t){console.warn(t)}n&&o.sum(function(t){return t[n]});var h=i.tree();h.size(e.size),e.nodeSize&&h.nodeSize(e.nodeSize),e.separation&&h.separation(e.separation),h(o);var f=u[0],p=u[1];o.each(function(t){t[f]=t.x,t[p]=t.y})}u("hierarchy.tree",h),u("tree",h)},function(t,e,n){var r=n(501),i=n(542),a=n(504),o=n(503),s=o.HIERARCHY,u=o.registerTransform,c=n(509).getField,l={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function h(t,e){if(t.dataType!==s)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n,o=t.root,u=(e=r({},l,e)).as;if(!a(u)||2!==u.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=c(e)}catch(t){console.warn(t)}n&&o.sum(function(t){return t[n]});var h=i.treemap();h.tile(i[e.tile]).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft),h(o);var f=u[0],p=u[1];o.each(function(t){t[f]=[t.x0,t.x1,t.x1,t.x0],t[p]=[t.y1,t.y1,t.y0,t.y0],["x0","x1","y0","y1"].forEach(function(e){-1===u.indexOf(e)&&delete t[e]})})}u("hierarchy.treemap",h),u("treemap",h)},function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(501),a=n(507),o=n(503).registerTransform,s=n(1130),u=n(509).getFields,c={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};function l(t,e){e=i({},c,e);var n=s();["font","fontSize","padding","rotate","size","spiral","timeInterval"].forEach(function(t){e[t]&&n[t](e[t])});var o=u(e),l=r(o,2),h=l[0],f=l[1];if(!a(h)||!a(f))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var p=t.rows.map(function(t){return t.text=t[h],t.value=t[f],t});n.words(p),e.imageMask&&n.createMask(e.imageMask);var d=n.start(),g=d._tags,v=d._bounds;g.forEach(function(t){t.x+=e.size[0]/2,t.y+=e.size[1]/2});var y=r(e.size,2),m=y[0],x=y[1],_=d.hasImage;g.push({text:"",value:0,x:_?0:v[0].x,y:_?0:v[0].y,opacity:0}),g.push({text:"",value:0,x:_?m:v[1].x,y:_?x:v[1].y,opacity:0}),t.rows=g,t._tagCloud=d}o("tag-cloud",l),o("word-cloud",l)},function(t,e){var n=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},r=Math.PI/180,i=64,a=2048;function o(t){return t.text}function s(){return"serif"}function u(){return"normal"}function c(t){return t.value}function l(){return 90*~~(2*Math.random())}function h(){return 1}function f(t,e,n,o){if(!e.sprite){var s=t.context,u=t.ratio;s.clearRect(0,0,(i<<5)/u,a/u);var c=0,l=0,h=0,f=n.length;for(--o;++o<f;){e=n[o],s.save(),s.font=e.style+" "+e.weight+" "+~~((e.size+1)/u)+"px "+e.font;var p=s.measureText(e.text+"m").width*u,d=e.size<<1;if(e.rotate){var g=Math.sin(e.rotate*r),v=Math.cos(e.rotate*r),y=p*v,m=p*g,x=d*v,_=d*g;p=Math.max(Math.abs(y+_),Math.abs(y-_))+31>>5<<5,d=~~Math.max(Math.abs(m+x),Math.abs(m-x))}else p=p+31>>5<<5;if(d>h&&(h=d),c+p>=i<<5&&(c=0,l+=h,h=0),l+d>=a)break;s.translate((c+(p>>1))/u,(l+(d>>1))/u),e.rotate&&s.rotate(e.rotate*r),s.fillText(e.text,0,0),e.padding&&(s.lineWidth=2*e.padding,s.strokeText(e.text,0,0)),s.restore(),e.width=p,e.height=d,e.xoff=c,e.yoff=l,e.x1=p>>1,e.y1=d>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,c+=p}for(var w=s.getImageData(0,0,(i<<5)/u,a/u).data,b=[];--o>=0;)if((e=n[o]).hasText){for(var M=(p=e.width)>>5,S=(d=e.y1-e.y0,0);S<d*M;S++)b[S]=0;if(null==(c=e.xoff))return;l=e.yoff;for(var E=0,C=-1,k=0;k<d;k++){for(S=0;S<p;S++){var P=M*k+(S>>5),T=w[(l+k)*(i<<5)+(c+S)<<2]?1<<31-S%32:0;b[P]|=T,E|=T}E?C=k:(e.y0++,d--,k--,l++)}e.y1=e.y0+C,e.sprite=b.slice(0,(e.y1-e.y0)*M)}}}function p(t,e,n){n>>=5;for(var r,i=t.sprite,a=t.width>>5,o=t.x-(a<<4),s=127&o,u=32-s,c=t.y1-t.y0,l=(t.y+t.y0)*n+(o>>5),h=0;h<c;h++){r=0;for(var f=0;f<=a;f++)if((r<<u|(f<a?(r=i[h*a+f])>>>s:0))&e[l+f])return!0;l+=n}return!1}function d(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function g(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function v(){return document.createElement("canvas")}function y(t){return"function"==typeof t?t:function(){return t}}var m={archimedean:d,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}};t.exports=function(){var t=[256,256],e=o,r=s,x=c,_=u,w=u,b=l,M=h,S=d,E=[],C=1/0,k=Math.random,P=v,T={};function A(e,n,r){for(var i,a,o,s,u,c=n.x,l=n.y,h=Math.sqrt(t[0]*t[0]+t[1]*t[1]),f=S(t),d=k()<.5?1:-1,g=-d;(i=f(g+=d))&&(a=~~i[0],o=~~i[1],!(Math.min(Math.abs(a),Math.abs(o))>=h));)if(n.x=c+a,n.y=l+o,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1]||r&&p(n,e,t[0])||r&&(u=r,!((s=n).x+s.x1>u[0].x&&s.x+s.x0<u[1].x&&s.y+s.y1>u[0].y&&s.y+s.y0<u[1].y)))){for(var v=n.sprite,y=n.width>>5,m=t[0]>>5,x=n.x-(y<<4),_=127&x,w=32-_,b=n.y1-n.y0,M=void 0,E=(n.y+n.y0)*m+(x>>5),C=0;C<b;C++){M=0;for(var P=0;P<=y;P++)e[E+P]|=M<<w|(P<y?(M=v[C*y+P])>>>_:0);E+=m}return delete n.sprite,!0}return!1}return T.canvas=function(t){return arguments.length?(P=y(t),T):P},T.start=function(){var o=n(t,2),s=o[0],u=o[1],c=function(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(i<<5)/e,t.height=a/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}(P()),l=T.board?T.board:g((t[0]>>5)*t[1]),h=E.length,p=[],d=E.map(function(t,n){return t.text=e.call(this,t,n),t.font=r.call(this,t,n),t.style=_.call(this,t,n),t.weight=w.call(this,t,n),t.rotate=b.call(this,t,n),t.size=~~x.call(this,t,n),t.padding=M.call(this,t,n),t}).sort(function(t,e){return e.size-t.size}),v=-1,y=T.board?[{x:0,y:0},{x:s,y:u}]:null;return function(){var e=Date.now();for(;Date.now()-e<C&&++v<h;){var n=d[v];n.x=s*(k()+.5)>>1,n.y=u*(k()+.5)>>1,f(c,n,d,v),n.hasText&&A(l,n,y)&&(p.push(n),y?T.hasImage||(i=n,a=void 0,o=void 0,a=(r=y)[0],o=r[1],i.x+i.x0<a.x&&(a.x=i.x+i.x0),i.y+i.y0<a.y&&(a.y=i.y+i.y0),i.x+i.x1>o.x&&(o.x=i.x+i.x1),i.y+i.y1>o.y&&(o.y=i.y+i.y1)):y=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}var r,i,a,o;T._tags=p,T._bounds=y}(),T},T.createMask=function(e){var r=document.createElement("canvas"),i=n(t,2),a=i[0],o=i[1],s=a>>5,u=g((a>>5)*o);r.width=a,r.height=o;var c=r.getContext("2d");c.drawImage(e,0,0,e.width,e.height,0,0,a,o);for(var l=c.getImageData(0,0,a,o).data,h=0;h<o;h++)for(var f=0;f<a;f++){var p=s*h+(f>>5),d=h*a+f<<2,v=l[d]>=250&&l[d+1]>=250&&l[d+2]>=250?1<<31-f%32:0;u[p]|=v}T.board=u,T.hasImage=!0},T.timeInterval=function(t){return arguments.length?(C=null==t?1/0:t,T):C},T.words=function(t){return arguments.length?(E=t,T):E},T.size=function(e){return arguments.length?(t=[+e[0],+e[1]],T):t},T.font=function(t){return arguments.length?(r=y(t),T):r},T.fontStyle=function(t){return arguments.length?(_=y(t),T):_},T.fontWeight=function(t){return arguments.length?(w=y(t),T):w},T.rotate=function(t){return arguments.length?(b=y(t),T):b},T.text=function(t){return arguments.length?(e=y(t),T):e},T.spiral=function(t){return arguments.length?(S=m[t]||t,T):S},T.fontSize=function(t){return arguments.length?(x=y(t),T):x},T.padding=function(t){return arguments.length?(M=y(t),T):M},T.random=function(t){return arguments.length?(k=t,T):k},T}},function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(501),a=n(502),o=n(502),s=n(532),u=n(709),c=n(538),l=n(529).sum,h=n(522),f=n(503).registerTransform,p=n(509).getFields,d={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};f("waffle",function(t,e){e=i({},d,e);var n=p(e),f=r(n,2),g=f[0],v=f[1],y=r(e.as,2),m=y[0],x=y[1],_=e.groupBy,w=h(t.rows,_),b=s(w),M=r(e.size,2),S=M[0],E=M[1],C=e.maxCount,k=E/b.length,P=e.rows,T=e.gapRatio,A=[],I=e.scale,O=0,L=0;o(w,function(t){var e=l(u(t,function(t){return t[v]})),n=Math.ceil(e*I/P);e*I>C&&(I=C/e,n=Math.ceil(e*I/P)),L=S/n}),o(w,function(t){var e=[O*k,(O+1)*k],n=(e[1]-e[0])*(1-T)/P,r=0,i=0;a(t,function(t){for(var a=t[v],o=Math.round(a*I),s=0;s<o;s++){i===P&&(i=0,r++);var u=c(t,[g,v].concat(_));u[m]=r*L+L/2,u[x]=i*n+n/2+e[0],u._wStep=L,u._hStep=n,i++,A.push(u)}}),O+=1}),t.rows=A})},function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(501),a=n(504),o=n(511),s=n(515),u=n(507),c=n(532),l=n(577),h=n(623),f=n(503).registerTransform,p=n(509).getFields,d=n(578).silverman,g={as:["x","y","z"],method:"gaussian",extent:[],bandwidth:[]},v=c(h);function y(t,e){e=i({},g,e);var n=p(e);if(!a(n)||2!==n.length)throw new TypeError("invalid fields: must be an array of 2 strings!");var c=r(e.as,3),f=c[0],y=c[1],m=c[2];if(!u(f)||!u(y)||!u(m))throw new TypeError("invalid as: must be an array of 3 strings!");var x=e.method;if(u(x)){if(-1===v.indexOf(x))throw new TypeError("invalid method: "+x+". Must be one of "+v.join(", "));x=h[x]}if(!o(x))throw new TypeError("invalid method: kernel method must be a function!");var _=r(n,2),w=_[0],b=_[1],M=r(e.extent,2),S=M[0],E=M[1];a(S)&&a(E)||(S=t.range(w),E=t.range(b));var C=r(e.bandwidth,2),k=C[0],P=C[1];(!s(k)||k<=0||!s(P)||P<=0)&&(k=d(t.getColumn(w)),P=d(t.getColumn(b)));for(var T=l(S,k),A=l(E,P),I=t.rows.length,O=[],L=0;L<T.length;L++)for(var j=0;j<A.length;j++){for(var R=0,D=T[L],N=A[j],B=0;B<I;B++)R+=x((D-t.rows[B][w])/k)*x((N-t.rows[B][b])/P);var F=1/(I*k*P)*R,z={};z[f]=D,z[y]=N,z[m]=F,O.push(z)}t.rows=O}f("kernel-smooth.density",y),f("kernel.density",y),t.exports={KERNEL_METHODS:v}},function(t,e,n){var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},i=n(501),a=n(504),o=n(511),s=n(514),u=n(515),c=n(507),l=n(532),h=n(529).sum,f=n(577),p=n(623),d=n(503).registerTransform,g=n(509).getFields,v=n(578).silverman,y={as:["x","y"],method:"gaussian"},m=l(p);function x(t){return function(e){return a(e)?e.map(function(e){return t(e)}):t(e)}}function _(t,e){e=i({},y,e);var n=g(e);if(!a(n)||1!==n.length&&2!==n.length)throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var l=r(e.as,2),d=l[0],_=l[1];if(!c(d)||!c(_))throw new TypeError("invalid as: must be an array of 2 strings!");var w=e.method;if(c(w)){if(-1===m.indexOf(w))throw new TypeError("invalid method: "+w+". Must be one of "+m.join(", "));w=p[w]}if(!o(w))throw new TypeError("invalid method: kernel method must be a function!");var b=r(n,2),M=b[0],S=b[1],E=t.getColumn(M),C=e.extent;a(C)||(C=t.range(M));var k=e.bandwidth;(!u(k)||k<=0)&&(k=v(E));var P,T=f(C,k),A=E.length,I=function(t,e,n,r){return t((r-n)/e)}.bind(null,w,k);if(s(S))P=x(function(t){var e=E.map(function(e){return I(t,e)}),n=h(e),r=A*k;return n&&r?n/r:0});else{var O=t.getColumn(S);P=x(function(t){var e=E.map(function(e){return I(t,e)}),n=h(e.map(function(t,e){return t*O[e]})),r=h(e);return n&&r?n/r:0})}var L=T.map(function(t){var e={};return e[d]=t,e[_]=P(t),e});t.rows=L}d("kernel-smooth.regression",_),d("kernel.regression",_),t.exports={KERNEL_METHODS:m}},function(t,e,n){"use strict";n.r(e);var r=n(524);function i(){}function a(t,e){var n=new i;if(t instanceof i)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,a=-1,o=t.length;if(null==e)for(;++a<o;)n.set(a,t[a]);else for(;++a<o;)n.set(e(r=t[a],a,t),r)}else if(t)for(var s in t)n.set(s,t[s]);return n}i.prototype=a.prototype={constructor:i,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var o=a,s=function(){var t,e,n,r=[],i=[];function a(n,i,s,u){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var c,l,h,f=-1,p=n.length,d=r[i++],g=o(),v=s();++f<p;)(h=g.get(c=d(l=n[f])+""))?h.push(l):g.set(c,[l]);return g.each(function(t,e){u(v,e,a(t,i,s,u))}),v}return n={object:function(t){return a(t,0,u,c)},map:function(t){return a(t,0,l,h)},entries:function(t){return function t(n,a){if(++a>r.length)return n;var o,s=i[a-1];return null!=e&&a>=r.length?o=n.entries():(o=[],n.each(function(e,n){o.push({key:n,values:t(e,a)})})),null!=s?o.sort(function(t,e){return s(t.key,e.key)}):o}(a(t,0,l,h),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function u(){return{}}function c(t,e,n){t[e]=n}function l(){return o()}function h(t,e,n){t.set(e,n)}function f(){}var p=o.prototype;function d(t,e){var n=new f;if(t instanceof f)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}f.prototype=d.prototype={constructor:f,has:p.has,add:function(t){return this["$"+(t+="")]=t,this},remove:p.remove,clear:p.clear,values:p.keys,size:p.size,empty:p.empty,each:p.each};function g(t){return t.target.depth}function v(t){return t.depth}function y(t,e){return e-1-t.height}function m(t,e){return t.sourceLinks.length?t.depth:e-1}function x(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Object(r.min)(t.sourceLinks,g)-1:0}function _(t){return function(){return t}}function w(t,e){return M(t.source,e.source)||t.index-e.index}function b(t,e){return M(t.target,e.target)||t.index-e.index}function M(t,e){return t.y0-e.y0}function S(t){return t.value}function E(t){return(t.y0+t.y1)/2}function C(t){return E(t.source)*t.value}function k(t){return E(t.target)*t.value}function P(t){return t.index}function T(t){return t.nodes}function A(t){return t.links}function I(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var O=function(){var t=0,e=0,n=1,i=1,a=24,u=8,c=P,l=m,h=T,f=A,p=32;function d(){var d={nodes:h.apply(null,arguments),links:f.apply(null,arguments)};return function(t){t.nodes.forEach(function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]});var e=o(t.nodes,c);t.links.forEach(function(t,n){t.index=n;var r=t.source,i=t.target;"object"!=typeof r&&(r=t.source=I(e,r)),"object"!=typeof i&&(i=t.target=I(e,i)),r.sourceLinks.push(t),i.targetLinks.push(t)})}(d),d.nodes.forEach(function(t){t.value=Math.max(Object(r.sum)(t.sourceLinks,S),Object(r.sum)(t.targetLinks,S))}),function(e){var r,i,o;for(r=e.nodes,i=[],o=0;r.length;++o,r=i,i=[])r.forEach(function(t){t.depth=o,t.sourceLinks.forEach(function(t){i.indexOf(t.target)<0&&i.push(t.target)})});for(r=e.nodes,i=[],o=0;r.length;++o,r=i,i=[])r.forEach(function(t){t.height=o,t.targetLinks.forEach(function(t){i.indexOf(t.source)<0&&i.push(t.source)})});var s=(n-t-a)/(o-1);e.nodes.forEach(function(e){e.x1=(e.x0=t+Math.max(0,Math.min(o-1,Math.floor(l.call(null,e,o))))*s)+a})}(d),function(t){var n=s().key(function(t){return t.x0}).sortKeys(r.ascending).entries(t.nodes).map(function(t){return t.values});a=Object(r.min)(n,function(t){return(i-e-(t.length-1)*u)/Object(r.sum)(t,S)}),n.forEach(function(t){t.forEach(function(t,e){t.y1=(t.y0=e)+t.value*a})}),t.links.forEach(function(t){t.width=t.value*a}),f();var a;for(var o=1,c=p;c>0;--c)h(o*=.99),f(),l(o),f();function l(t){n.forEach(function(e){e.forEach(function(e){if(e.targetLinks.length){var n=(Object(r.sum)(e.targetLinks,C)/Object(r.sum)(e.targetLinks,S)-E(e))*t;e.y0+=n,e.y1+=n}})})}function h(t){n.slice().reverse().forEach(function(e){e.forEach(function(e){if(e.sourceLinks.length){var n=(Object(r.sum)(e.sourceLinks,k)/Object(r.sum)(e.sourceLinks,S)-E(e))*t;e.y0+=n,e.y1+=n}})})}function f(){n.forEach(function(t){var n,r,a,o=e,s=t.length;for(t.sort(M),a=0;a<s;++a)n=t[a],(r=o-n.y0)>0&&(n.y0+=r,n.y1+=r),o=n.y1+u;if((r=o-u-i)>0)for(o=n.y0-=r,n.y1-=r,a=s-2;a>=0;--a)n=t[a],(r=n.y1+u-o)>0&&(n.y0-=r,n.y1-=r),o=n.y0})}}(d),g(d),d}function g(t){t.nodes.forEach(function(t){t.sourceLinks.sort(b),t.targetLinks.sort(w)}),t.nodes.forEach(function(t){var e=t.y0,n=e;t.sourceLinks.forEach(function(t){t.y0=e+t.width/2,e+=t.width}),t.targetLinks.forEach(function(t){t.y1=n+t.width/2,n+=t.width})})}return d.update=function(t){return g(t),t},d.nodeId=function(t){return arguments.length?(c="function"==typeof t?t:_(t),d):c},d.nodeAlign=function(t){return arguments.length?(l="function"==typeof t?t:_(t),d):l},d.nodeWidth=function(t){return arguments.length?(a=+t,d):a},d.nodePadding=function(t){return arguments.length?(u=+t,d):u},d.nodes=function(t){return arguments.length?(h="function"==typeof t?t:_(t),d):h},d.links=function(t){return arguments.length?(f="function"==typeof t?t:_(t),d):f},d.size=function(r){return arguments.length?(t=e=0,n=+r[0],i=+r[1],d):[n-t,i-e]},d.extent=function(r){return arguments.length?(t=+r[0][0],n=+r[1][0],e=+r[0][1],i=+r[1][1],d):[[t,e],[n,i]]},d.iterations=function(t){return arguments.length?(p=+t,d):p},d},L=n(543),j=function(t){return function(){return t}},R=(Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,1e-12),D=Math.PI,N=2*D;function B(t){this._context=t}B.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var F=function(t){return new B(t)};function z(t){return t[0]}function G(t){return t[1]}q(F);function V(t){this._curve=t}function q(t){function e(e){return new V(t(e))}return e._curve=t,e}V.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var H=Array.prototype.slice;function Y(t){return t.source}function W(t){return t.target}function U(t){var e=Y,n=W,r=z,i=G,a=null;function o(){var o,s=H.call(arguments),u=e.apply(this,s),c=n.apply(this,s);if(a||(a=o=Object(L.path)()),t(a,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=c,s)),+i.apply(this,s)),o)return a=null,o+""||null}return o.source=function(t){return arguments.length?(e=t,o):e},o.target=function(t){return arguments.length?(n=t,o):n},o.x=function(t){return arguments.length?(r="function"==typeof t?t:j(+t),o):r},o.y=function(t){return arguments.length?(i="function"==typeof t?t:j(+t),o):i},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o}function X(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}Math.sqrt(1/3);var Z=Math.sin(D/10)/Math.sin(7*D/10),Q=(Math.sin(N/10),Math.cos(N/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),function(){});function J(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function $(t){this._context=t}$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:J(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:J(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function K(t){this._context=t}K.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:J(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tt(t){this._context=t}tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:J(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function et(t,e){this._basis=new $(t),this._beta=e}et.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],a=e[0],o=t[n]-i,s=e[n]-a,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*o),this._beta*e[u]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};(function t(e){function n(t){return 1===e?new $(t):new et(t,e)}return n.beta=function(e){return t(+e)},n})(.85);function nt(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function rt(t,e){this._context=t,this._k=(1-e)/6}rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:nt(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:nt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new rt(t,e)}return n.tension=function(e){return t(+e)},n})(0);function it(t,e){this._context=t,this._k=(1-e)/6}it.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:nt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new it(t,e)}return n.tension=function(e){return t(+e)},n})(0);function at(t,e){this._context=t,this._k=(1-e)/6}at.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:nt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return new at(t,e)}return n.tension=function(e){return t(+e)},n})(0);function ot(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>R){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>R){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/l,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function st(t,e){this._context=t,this._alpha=e}st.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:ot(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new st(t,e):new rt(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function ut(t,e){this._context=t,this._alpha=e}ut.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ot(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new ut(t,e):new it(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function ct(t,e){this._context=t,this._alpha=e}ct.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ot(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};(function t(e){function n(t){return e?new ct(t,e):new at(t,0)}return n.alpha=function(e){return t(+e)},n})(.5);function lt(t){this._context=t}lt.prototype={areaStart:Q,areaEnd:Q,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ht(t){return t<0?-1:1}function ft(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(ht(a)+ht(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function pt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function dt(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function gt(t){this._context=t}function vt(t){this._context=new yt(t)}function yt(t){this._context=t}function mt(t){this._context=t}function xt(t){var e,n,r=t.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}gt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dt(this,this._t0,pt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dt(this,pt(this,n=ft(this,t,e)),n);break;default:dt(this,this._t0,n=ft(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(vt.prototype=Object.create(gt.prototype)).point=function(t,e){gt.prototype.point.call(this,e,t)},yt.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}},mt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=xt(t),i=xt(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function _t(t,e){this._context=t,this._t=e}_t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};function wt(t){return[t.source.x1,t.y0]}function bt(t){return[t.target.x0,t.y1]}var Mt=function(){return U(X).source(wt).target(bt)};n.d(e,"sankey",function(){return O}),n.d(e,"sankeyCenter",function(){return x}),n.d(e,"sankeyLeft",function(){return v}),n.d(e,"sankeyRight",function(){return y}),n.d(e,"sankeyJustify",function(){return m}),n.d(e,"sankeyLinkHorizontal",function(){return Mt})},function(t,e,n){"use strict";n.r(e);var r=function(){return new i};function i(){this.reset()}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(t){o(a,t,this.t),o(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new i;function o(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}var s=1e-6,u=Math.PI,c=u/2,l=u/4,h=2*u,f=180/u,p=u/180,d=Math.abs,g=Math.atan,v=Math.atan2,y=Math.cos,m=Math.ceil,x=Math.exp,_=(Math.floor,Math.log),w=Math.pow,b=Math.sin,M=Math.sign||function(t){return t>0?1:t<0?-1:0},S=Math.sqrt,E=Math.tan;function C(t){return t>1?0:t<-1?u:Math.acos(t)}function k(t){return t>1?c:t<-1?-c:Math.asin(t)}function P(t){return(t=b(t/2))*t}function T(){}function A(t,e){t&&O.hasOwnProperty(t.type)&&O[t.type](t,e)}var I={Feature:function(t,e){A(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)A(n[r].geometry,e)}},O={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){L(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)L(n[r],e,0)},Polygon:function(t,e){j(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)j(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)A(n[r],e)}};function L(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function j(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)L(t[n],e,1);e.polygonEnd()}var R,D,N,B,F,z=function(t,e){t&&I.hasOwnProperty(t.type)?I[t.type](t,e):A(t,e)},G=r(),V=r(),q={point:T,lineStart:T,lineEnd:T,polygonStart:function(){G.reset(),q.lineStart=H,q.lineEnd=Y},polygonEnd:function(){var t=+G;V.add(t<0?h+t:t),this.lineStart=this.lineEnd=this.point=T},sphere:function(){V.add(h)}};function H(){q.point=W}function Y(){U(R,D)}function W(t,e){q.point=U,R=t,D=e,N=t*=p,B=y(e=(e*=p)/2+l),F=b(e)}function U(t,e){e=(e*=p)/2+l;var n=(t*=p)-N,r=n>=0?1:-1,i=r*n,a=y(e),o=b(e),s=F*o,u=B*a+s*y(i),c=s*r*b(i);G.add(v(c,u)),N=t,B=a,F=o}var X=function(t){return V.reset(),z(t,q),2*V};function Z(t){return[v(t[1],t[0]),k(t[2])]}function Q(t){var e=t[0],n=t[1],r=y(n);return[r*y(e),r*b(e),b(n)]}function J(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function K(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function tt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function et(t){var e=S(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var nt,rt,it,at,ot,st,ut,ct,lt,ht,ft=r(),pt={point:dt,lineStart:vt,lineEnd:yt,polygonStart:function(){pt.point=mt,pt.lineStart=xt,pt.lineEnd=_t,ft.reset(),q.polygonStart()},polygonEnd:function(){q.polygonEnd(),pt.point=dt,pt.lineStart=vt,pt.lineEnd=yt,G<0?(nt=-(it=180),rt=-(at=90)):ft>s?at=90:ft<-s&&(rt=-90),ht[0]=nt,ht[1]=it}};function dt(t,e){lt.push(ht=[nt=t,it=t]),e<rt&&(rt=e),e>at&&(at=e)}function gt(t,e){var n=Q([t*p,e*p]);if(ct){var r=$(ct,n),i=$([r[1],-r[0],0],r);et(i),i=Z(i);var a,o=t-ot,s=o>0?1:-1,u=i[0]*f*s,c=d(o)>180;c^(s*ot<u&&u<s*t)?(a=i[1]*f)>at&&(at=a):c^(s*ot<(u=(u+360)%360-180)&&u<s*t)?(a=-i[1]*f)<rt&&(rt=a):(e<rt&&(rt=e),e>at&&(at=e)),c?t<ot?wt(nt,t)>wt(nt,it)&&(it=t):wt(t,it)>wt(nt,it)&&(nt=t):it>=nt?(t<nt&&(nt=t),t>it&&(it=t)):t>ot?wt(nt,t)>wt(nt,it)&&(it=t):wt(t,it)>wt(nt,it)&&(nt=t)}else dt(t,e);ct=n,ot=t}function vt(){pt.point=gt}function yt(){ht[0]=nt,ht[1]=it,pt.point=dt,ct=null}function mt(t,e){if(ct){var n=t-ot;ft.add(d(n)>180?n+(n>0?360:-360):n)}else st=t,ut=e;q.point(t,e),gt(t,e)}function xt(){q.lineStart()}function _t(){mt(st,ut),q.lineEnd(),d(ft)>s&&(nt=-(it=180)),ht[0]=nt,ht[1]=it,ct=null}function wt(t,e){return(e-=t)<0?e+360:e}function bt(t,e){return t[0]-e[0]}function Mt(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var St,Et,Ct,kt,Pt,Tt,At,It,Ot,Lt,jt,Rt,Dt,Nt,Bt,Ft,zt=function(t){var e,n,r,i,a,o,s;if(at=it=-(nt=rt=1/0),lt=[],z(t,pt),n=lt.length){for(lt.sort(bt),e=1,a=[r=lt[0]];e<n;++e)Mt(r,(i=lt[e])[0])||Mt(r,i[1])?(wt(r[0],i[1])>wt(r[0],r[1])&&(r[1]=i[1]),wt(i[0],r[1])>wt(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,e=0,r=a[n=a.length-1];e<=n;r=i,++e)i=a[e],(s=wt(r[1],i[0]))>o&&(o=s,nt=i[0],it=r[1])}return lt=ht=null,nt===1/0||rt===1/0?[[NaN,NaN],[NaN,NaN]]:[[nt,rt],[it,at]]},Gt={sphere:T,point:Vt,lineStart:Ht,lineEnd:Ut,polygonStart:function(){Gt.lineStart=Xt,Gt.lineEnd=Zt},polygonEnd:function(){Gt.lineStart=Ht,Gt.lineEnd=Ut}};function Vt(t,e){t*=p;var n=y(e*=p);qt(n*y(t),n*b(t),b(e))}function qt(t,e,n){Ct+=(t-Ct)/++St,kt+=(e-kt)/St,Pt+=(n-Pt)/St}function Ht(){Gt.point=Yt}function Yt(t,e){t*=p;var n=y(e*=p);Nt=n*y(t),Bt=n*b(t),Ft=b(e),Gt.point=Wt,qt(Nt,Bt,Ft)}function Wt(t,e){t*=p;var n=y(e*=p),r=n*y(t),i=n*b(t),a=b(e),o=v(S((o=Bt*a-Ft*i)*o+(o=Ft*r-Nt*a)*o+(o=Nt*i-Bt*r)*o),Nt*r+Bt*i+Ft*a);Et+=o,Tt+=o*(Nt+(Nt=r)),At+=o*(Bt+(Bt=i)),It+=o*(Ft+(Ft=a)),qt(Nt,Bt,Ft)}function Ut(){Gt.point=Vt}function Xt(){Gt.point=Qt}function Zt(){Jt(Rt,Dt),Gt.point=Vt}function Qt(t,e){Rt=t,Dt=e,t*=p,e*=p,Gt.point=Jt;var n=y(e);Nt=n*y(t),Bt=n*b(t),Ft=b(e),qt(Nt,Bt,Ft)}function Jt(t,e){t*=p;var n=y(e*=p),r=n*y(t),i=n*b(t),a=b(e),o=Bt*a-Ft*i,s=Ft*r-Nt*a,u=Nt*i-Bt*r,c=S(o*o+s*s+u*u),l=Nt*r+Bt*i+Ft*a,h=c&&-C(l)/c,f=v(c,l);Ot+=h*o,Lt+=h*s,jt+=h*u,Et+=f,Tt+=f*(Nt+(Nt=r)),At+=f*(Bt+(Bt=i)),It+=f*(Ft+(Ft=a)),qt(Nt,Bt,Ft)}var $t=function(t){St=Et=Ct=kt=Pt=Tt=At=It=Ot=Lt=jt=0,z(t,Gt);var e=Ot,n=Lt,r=jt,i=e*e+n*n+r*r;return i<1e-12&&(e=Tt,n=At,r=It,Et<s&&(e=Ct,n=kt,r=Pt),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[v(n,e)*f,k(r/S(i))*f]},Kt=function(t){return function(){return t}},te=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};function ee(t,e){return[t>u?t-h:t<-u?t+h:t,e]}function ne(t,e,n){return(t%=h)?e||n?te(ie(t),ae(e,n)):ie(t):e||n?ae(e,n):ee}function re(t){return function(e,n){return[(e+=t)>u?e-h:e<-u?e+h:e,n]}}function ie(t){var e=re(t);return e.invert=re(-t),e}function ae(t,e){var n=y(t),r=b(t),i=y(e),a=b(e);function o(t,e){var o=y(e),s=y(t)*o,u=b(t)*o,c=b(e),l=c*n+s*r;return[v(u*i-l*a,s*n-c*r),k(l*i+u*a)]}return o.invert=function(t,e){var o=y(e),s=y(t)*o,u=b(t)*o,c=b(e),l=c*i-u*a;return[v(u*i+c*a,s*n+l*r),k(l*n-s*r)]},o}ee.invert=ee;var oe=function(t){function e(e){return(e=t(e[0]*p,e[1]*p))[0]*=f,e[1]*=f,e}return t=ne(t[0]*p,t[1]*p,t.length>2?t[2]*p:0),e.invert=function(e){return(e=t.invert(e[0]*p,e[1]*p))[0]*=f,e[1]*=f,e},e};function se(t,e,n,r,i,a){if(n){var o=y(e),s=b(e),u=r*n;null==i?(i=e+r*h,a=e-u/2):(i=ue(o,i),a=ue(o,a),(r>0?i<a:i>a)&&(i+=r*h));for(var c,l=i;r>0?l>a:l<a;l-=u)c=Z([o,-s*y(l),-s*b(l)]),t.point(c[0],c[1])}}function ue(t,e){(e=Q(e))[0]-=t,et(e);var n=C(-e[1]);return((-e[2]<0?-n:n)+h-s)%h}var ce=function(){var t,e,n=Kt([0,0]),r=Kt(90),i=Kt(6),a={point:function(n,r){t.push(n=e(n,r)),n[0]*=f,n[1]*=f}};function o(){var o=n.apply(this,arguments),s=r.apply(this,arguments)*p,u=i.apply(this,arguments)*p;return t=[],e=ne(-o[0]*p,-o[1]*p,0).invert,se(a,s,u,1),o={type:"Polygon",coordinates:[t]},t=e=null,o}return o.center=function(t){return arguments.length?(n="function"==typeof t?t:Kt([+t[0],+t[1]]),o):n},o.radius=function(t){return arguments.length?(r="function"==typeof t?t:Kt(+t),o):r},o.precision=function(t){return arguments.length?(i="function"==typeof t?t:Kt(+t),o):i},o},le=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:T,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},he=function(t,e,n,r,i,a){var o,s=t[0],u=t[1],c=0,l=1,h=e[0]-s,f=e[1]-u;if(o=n-s,h||!(o>0)){if(o/=h,h<0){if(o<c)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>c&&(c=o)}if(o=i-s,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>c&&(c=o)}else if(h>0){if(o<c)return;o<l&&(l=o)}if(o=r-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<l&&(l=o)}else if(f>0){if(o>l)return;o>c&&(c=o)}if(o=a-u,f||!(o<0)){if(o/=f,f<0){if(o>l)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<l&&(l=o)}return c>0&&(t[0]=s+c*h,t[1]=u+c*f),l<1&&(e[0]=s+l*h,e[1]=u+l*f),!0}}}}},fe=function(t,e){return d(t[0]-e[0])<s&&d(t[1]-e[1])<s};function pe(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var de=function(t,e,n,r,i){var a,o,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],o=t[e];if(fe(r,o)){for(i.lineStart(),a=0;a<e;++a)i.point((r=t[a])[0],r[1]);i.lineEnd()}else s.push(n=new pe(r,t,null,!0)),u.push(n.o=new pe(r,null,n,!1)),s.push(n=new pe(o,t,null,!1)),u.push(n.o=new pe(o,null,n,!0))}}),s.length){for(u.sort(e),ge(s),ge(u),a=0,o=u.length;a<o;++a)u[a].e=n=!n;for(var c,l,h=s[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(a=0,o=c.length;a<o;++a)i.point((l=c[a])[0],l[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(c=f.p.z,a=c.length-1;a>=0;--a)i.point((l=c[a])[0],l[1]);else r(f.x,f.p.x,-1,i);f=f.p}c=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}};function ge(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var ve=n(524),ye=1e9,me=-ye;function xe(t,e,n,r){function i(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function a(i,a,s,u){var l=0,h=0;if(null==i||(l=o(i,s))!==(h=o(a,s))||c(i,a)<0^s>0)do{u.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+s+4)%4)!==h);else u.point(a[0],a[1])}function o(r,i){return d(r[0]-t)<s?i>0?0:3:d(r[0]-n)<s?i>0?2:1:d(r[1]-e)<s?i>0?1:0:i>0?3:2}function u(t,e){return c(t.x,e.x)}function c(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(o){var s,c,l,h,f,p,d,g,v,y,m,x=o,_=le(),w={point:b,lineStart:function(){w.point=M,c&&c.push(l=[]);y=!0,v=!1,d=g=NaN},lineEnd:function(){s&&(M(h,f),p&&v&&_.rejoin(),s.push(_.result()));w.point=b,v&&x.lineEnd()},polygonStart:function(){x=_,s=[],c=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var a,o,s=c[n],u=1,l=s.length,h=s[0],f=h[0],p=h[1];u<l;++u)a=f,o=p,h=s[u],f=h[0],p=h[1],o<=r?p>r&&(f-a)*(r-o)>(p-o)*(t-a)&&++e:p<=r&&(f-a)*(r-o)<(p-o)*(t-a)&&--e;return e}(),n=m&&e,i=(s=Object(ve.merge)(s)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&de(s,u,e,a,o),o.polygonEnd());x=o,s=c=l=null}};function b(t,e){i(t,e)&&x.point(t,e)}function M(a,o){var s=i(a,o);if(c&&l.push([a,o]),y)h=a,f=o,p=s,y=!1,s&&(x.lineStart(),x.point(a,o));else if(s&&v)x.point(a,o);else{var u=[d=Math.max(me,Math.min(ye,d)),g=Math.max(me,Math.min(ye,g))],_=[a=Math.max(me,Math.min(ye,a)),o=Math.max(me,Math.min(ye,o))];he(u,_,t,e,n,r)?(v||(x.lineStart(),x.point(u[0],u[1])),x.point(_[0],_[1]),s||x.lineEnd(),m=!1):s&&(x.lineStart(),x.point(a,o),m=!1)}d=a,g=o,v=s}return w}}var _e,we,be,Me=function(){var t,e,n,r=0,i=0,a=960,o=500;return n={stream:function(n){return t&&e===n?t:t=xe(r,i,a,o)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],a=+s[1][0],o=+s[1][1],t=e=null,n):[[r,i],[a,o]]}}},Se=r(),Ee={sphere:T,point:T,lineStart:function(){Ee.point=ke,Ee.lineEnd=Ce},lineEnd:T,polygonStart:T,polygonEnd:T};function Ce(){Ee.point=Ee.lineEnd=T}function ke(t,e){_e=t*=p,we=b(e*=p),be=y(e),Ee.point=Pe}function Pe(t,e){t*=p;var n=b(e*=p),r=y(e),i=d(t-_e),a=y(i),o=r*b(i),s=be*n-we*r*a,u=we*n+be*r*a;Se.add(v(S(o*o+s*s),u)),_e=t,we=n,be=r}var Te=function(t){return Se.reset(),z(t,Ee),+Se},Ae=[null,null],Ie={type:"LineString",coordinates:Ae},Oe=function(t,e){return Ae[0]=t,Ae[1]=e,Te(Ie)};function Le(t,e,n){var r=Object(ve.range)(t,e-s,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function je(t,e,n){var r=Object(ve.range)(t,e-s,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}var Re,De,Ne,Be,Fe=function(){var t,e,n,r,i,a,o,u,c,l,h,f,p=10,g=p,v=90,y=360,x=2.5;function _(){return{type:"MultiLineString",coordinates:w()}}function w(){return Object(ve.range)(m(r/v)*v,n,v).map(h).concat(Object(ve.range)(m(u/y)*y,o,y).map(f)).concat(Object(ve.range)(m(e/p)*p,t,p).filter(function(t){return d(t%v)>s}).map(c)).concat(Object(ve.range)(m(a/g)*g,i,g).filter(function(t){return d(t%y)>s}).map(l))}return _.lines=function(){return w().map(function(t){return{type:"LineString",coordinates:t}})},_.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(f(o).slice(1),h(n).reverse().slice(1),f(u).reverse().slice(1))]}},_.extent=function(t){return arguments.length?_.extentMajor(t).extentMinor(t):_.extentMinor()},_.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],o=+t[1][1],r>n&&(t=r,r=n,n=t),u>o&&(t=u,u=o,o=t),_.precision(x)):[[r,u],[n,o]]},_.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),a>i&&(n=a,a=i,i=n),_.precision(x)):[[e,a],[t,i]]},_.step=function(t){return arguments.length?_.stepMajor(t).stepMinor(t):_.stepMinor()},_.stepMajor=function(t){return arguments.length?(v=+t[0],y=+t[1],_):[v,y]},_.stepMinor=function(t){return arguments.length?(p=+t[0],g=+t[1],_):[p,g]},_.precision=function(s){return arguments.length?(x=+s,c=Le(a,i,90),l=je(e,t,x),h=Le(u,o,90),f=je(r,n,x),_):x},_.extentMajor([[-180,-90+s],[180,90-s]]).extentMinor([[-180,-80-s],[180,80+s]])},ze=function(t,e){var n=t[0]*p,r=t[1]*p,i=e[0]*p,a=e[1]*p,o=y(r),s=b(r),u=y(a),c=b(a),l=o*y(n),h=o*b(n),d=u*y(i),g=u*b(i),m=2*k(S(P(a-r)+o*u*P(i-n))),x=b(m),_=m?function(t){var e=b(t*=m)/x,n=b(m-t)/x,r=n*l+e*d,i=n*h+e*g,a=n*s+e*c;return[v(i,r)*f,v(a,S(r*r+i*i))*f]}:function(){return[n*f,r*f]};return _.distance=m,_},Ge=function(t){return t},Ve=r(),qe=r(),He={point:T,lineStart:T,lineEnd:T,polygonStart:function(){He.lineStart=Ye,He.lineEnd=Xe},polygonEnd:function(){He.lineStart=He.lineEnd=He.point=T,Ve.add(d(qe)),qe.reset()},result:function(){var t=Ve/2;return Ve.reset(),t}};function Ye(){He.point=We}function We(t,e){He.point=Ue,Re=Ne=t,De=Be=e}function Ue(t,e){qe.add(Be*t-Ne*e),Ne=t,Be=e}function Xe(){Ue(Re,De)}var Ze=He,Qe=1/0,Je=Qe,$e=-Qe,Ke=$e;var tn,en,nn,rn,an={point:function(t,e){t<Qe&&(Qe=t);t>$e&&($e=t);e<Je&&(Je=e);e>Ke&&(Ke=e)},lineStart:T,lineEnd:T,polygonStart:T,polygonEnd:T,result:function(){var t=[[Qe,Je],[$e,Ke]];return $e=Ke=-(Je=Qe=1/0),t}},on=0,sn=0,un=0,cn=0,ln=0,hn=0,fn=0,pn=0,dn=0,gn={point:vn,lineStart:yn,lineEnd:_n,polygonStart:function(){gn.lineStart=wn,gn.lineEnd=bn},polygonEnd:function(){gn.point=vn,gn.lineStart=yn,gn.lineEnd=_n},result:function(){var t=dn?[fn/dn,pn/dn]:hn?[cn/hn,ln/hn]:un?[on/un,sn/un]:[NaN,NaN];return on=sn=un=cn=ln=hn=fn=pn=dn=0,t}};function vn(t,e){on+=t,sn+=e,++un}function yn(){gn.point=mn}function mn(t,e){gn.point=xn,vn(nn=t,rn=e)}function xn(t,e){var n=t-nn,r=e-rn,i=S(n*n+r*r);cn+=i*(nn+t)/2,ln+=i*(rn+e)/2,hn+=i,vn(nn=t,rn=e)}function _n(){gn.point=vn}function wn(){gn.point=Mn}function bn(){Sn(tn,en)}function Mn(t,e){gn.point=Sn,vn(tn=nn=t,en=rn=e)}function Sn(t,e){var n=t-nn,r=e-rn,i=S(n*n+r*r);cn+=i*(nn+t)/2,ln+=i*(rn+e)/2,hn+=i,fn+=(i=rn*t-nn*e)*(nn+t),pn+=i*(rn+e),dn+=3*i,vn(nn=t,rn=e)}var En=gn;function Cn(t){this._context=t}function kn(){this._string=[]}function Pn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Cn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,h)}},result:T},kn.prototype={_circle:Pn(4.5),pointRadius:function(t){return this._circle=Pn(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}};var Tn=function(){var t,e,n,r,i=4.5;function a(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),z(t,e(r))),r.result()}return a.area=function(t){return z(t,e(Ze)),Ze.result()},a.bounds=function(t){return z(t,e(an)),an.result()},a.centroid=function(t){return z(t,e(En)),En.result()},a.projection=function(n){return arguments.length?(e=null==(t=n)?Ge:n.stream,a):t},a.context=function(t){return arguments.length?(r=null==(n=t)?new kn:new Cn(t),"function"!=typeof i&&r.pointRadius(i),a):n},a.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),a):i},a.projection(null).context(null)},An=r(),In=function(t,e,n,r){return function(i,a){var o,c,f,p=e(a),d=i.invert(r[0],r[1]),g=le(),m=e(g),x=!1,_={point:w,lineStart:S,lineEnd:E,polygonStart:function(){_.point=C,_.lineStart=P,_.lineEnd=T,c=[],o=[]},polygonEnd:function(){_.point=w,_.lineStart=S,_.lineEnd=E,c=Object(ve.merge)(c);var t=function(t,e){var n=e[0],r=e[1],i=[b(n),-y(n),0],a=0,o=0;An.reset();for(var c=0,f=t.length;c<f;++c)if(d=(p=t[c]).length)for(var p,d,g=p[d-1],m=g[0],x=g[1]/2+l,_=b(x),w=y(x),M=0;M<d;++M,m=E,_=P,w=T,g=S){var S=p[M],E=S[0],C=S[1]/2+l,P=b(C),T=y(C),A=E-m,I=A>=0?1:-1,O=I*A,L=O>u,j=_*P;if(An.add(v(j*I*b(O),w*T+j*y(O))),a+=L?A+I*h:A,L^m>=n^E>=n){var R=$(Q(g),Q(S));et(R);var D=$(i,R);et(D);var N=(L^A>=0?-1:1)*k(D[2]);(r>N||r===N&&(R[0]||R[1]))&&(o+=L^A>=0?1:-1)}}return(a<-s||a<s&&An<-s)^1&o}(o,d);c.length?(x||(a.polygonStart(),x=!0),de(c,Ln,t,n,a)):t&&(x||(a.polygonStart(),x=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),x&&(a.polygonEnd(),x=!1),c=o=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function w(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function M(t,e){var n=i(t,e);p.point(n[0],n[1])}function S(){_.point=M,p.lineStart()}function E(){_.point=w,p.lineEnd()}function C(t,e){f.push([t,e]);var n=i(t,e);m.point(n[0],n[1])}function P(){m.lineStart(),f=[]}function T(){C(f[0][0],f[0][1]),m.lineEnd();var t,e,n,r,i=m.clean(),s=g.result(),u=s.length;if(f.pop(),o.push(f),f=null,u)if(1&i){if((e=(n=s[0]).length-1)>0){for(x||(a.polygonStart(),x=!0),a.lineStart(),t=0;t<e;++t)a.point((r=n[t])[0],r[1]);a.lineEnd()}}else u>1&&2&i&&s.push(s.pop().concat(s.shift())),c.push(s.filter(On))}return _}};function On(t){return t.length>1}function Ln(t,e){return((t=t.x)[0]<0?t[1]-c-s:c-t[1])-((e=e.x)[0]<0?e[1]-c-s:c-e[1])}var jn=In(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var l,h,f,p,v,m,x,_=a>0?u:-u,w=d(a-n);d(w-u)<s?(t.point(n,r=(r+o)/2>0?c:-c),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(_,r),t.point(a,r),e=0):i!==_&&w>=u&&(d(n-i)<s&&(n-=i*s),d(a-_)<s&&(a-=_*s),h=r,p=o,x=b((l=n)-(f=a)),r=d(x)>s?g((b(h)*(m=y(p))*b(f)-b(p)*(v=y(h))*b(l))/(v*m*x)):(h+p)/2,t.point(i,r),t.lineEnd(),t.lineStart(),t.point(_,r),e=0),t.point(n=a,r=o),i=_},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*c,r.point(-u,i),r.point(0,i),r.point(u,i),r.point(u,0),r.point(u,-i),r.point(0,-i),r.point(-u,-i),r.point(-u,0),r.point(-u,i);else if(d(t[0]-e[0])>s){var a=t[0]<e[0]?u:-u;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])},[-u,-c]);var Rn=function(t,e){var n=y(t),r=n>0,i=d(n)>s;function a(t,e){return y(t)*y(e)>n}function o(t,e,r){var i=[1,0,0],a=$(Q(t),Q(e)),o=J(a,a),c=a[0],l=o-c*c;if(!l)return!r&&t;var h=n*o/l,f=-n*c/l,p=$(i,a),g=tt(i,h);K(g,tt(a,f));var v=p,y=J(g,v),m=J(v,v),x=y*y-m*(J(g,g)-1);if(!(x<0)){var _=S(x),w=tt(v,(-y-_)/m);if(K(w,g),w=Z(w),!r)return w;var b,M=t[0],E=e[0],C=t[1],k=e[1];E<M&&(b=M,M=E,E=b);var P=E-M,T=d(P-u)<s;if(!T&&k<C&&(b=C,C=k,k=b),T||P<s?T?C+k>0^w[1]<(d(w[0]-M)<s?C:k):C<=w[1]&&w[1]<=k:P>u^(M<=w[0]&&w[0]<=E)){var A=tt(v,(-y+_)/m);return K(A,g),[w,Z(A)]}}}function c(e,n){var i=r?t:u-t,a=0;return e<-i?a|=1:e>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return In(a,function(t){var e,n,l,h,f;return{lineStart:function(){h=l=!1,f=1},point:function(p,d){var g,v=[p,d],y=a(p,d),m=r?y?0:c(p,d):y?c(p+(p<0?u:-u),d):0;if(!e&&(h=l=y)&&t.lineStart(),y!==l&&(g=o(e,v),(fe(e,g)||fe(v,g))&&(v[0]+=s,v[1]+=s,y=a(v[0],v[1]))),y!==l)f=0,y?(t.lineStart(),g=o(v,e),t.point(g[0],g[1])):(g=o(e,v),t.point(g[0],g[1]),t.lineEnd()),e=g;else if(i&&e&&r^y){var x;m&n||!(x=o(v,e,!0))||(f=0,r?(t.lineStart(),t.point(x[0][0],x[0][1]),t.point(x[1][0],x[1][1]),t.lineEnd()):(t.point(x[1][0],x[1][1]),t.lineEnd(),t.lineStart(),t.point(x[0][0],x[0][1])))}!y||e&&fe(e,v)||t.point(v[0],v[1]),e=v,l=y,n=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return f|(h&&l)<<1}}},function(n,r,i,a){se(a,t,e,i,n,r)},r?[0,-t]:[-u,t-u])},Dn=function(t){return{stream:Nn(t)}};function Nn(t){function e(){}var n=e.prototype=Object.create(Bn.prototype);for(var r in t)n[r]=t[r];return function(t){var n=new e;return n.stream=t,n}}function Bn(){}function Fn(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],a=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=a&&t.clipExtent(null),z(n,t.stream(an));var o=an.result(),s=Math.min(r/(o[1][0]-o[0][0]),i/(o[1][1]-o[0][1])),u=+e[0][0]+(r-s*(o[1][0]+o[0][0]))/2,c=+e[0][1]+(i-s*(o[1][1]+o[0][1]))/2;return null!=a&&t.clipExtent(a),t.scale(150*s).translate([u,c])}function zn(t){return function(e,n){return Fn(t,[[0,0],e],n)}}function Gn(t){return function(e,n){return Fn(t,e,n)}}Bn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Vn=16,qn=y(30*p),Hn=function(t,e){return+e?function(t,e){function n(r,i,a,o,u,c,l,h,f,p,g,y,m,x){var _=l-r,w=h-i,b=_*_+w*w;if(b>4*e&&m--){var M=o+p,E=u+g,C=c+y,P=S(M*M+E*E+C*C),T=k(C/=P),A=d(d(C)-1)<s||d(a-f)<s?(a+f)/2:v(E,M),I=t(A,T),O=I[0],L=I[1],j=O-r,R=L-i,D=w*j-_*R;(D*D/b>e||d((_*j+w*R)/b-.5)>.3||o*p+u*g+c*y<qn)&&(n(r,i,a,o,u,c,O,L,A,M/=P,E/=P,C,m,x),x.point(O,L),n(O,L,A,M,E,C,l,h,f,p,g,y,m,x))}}return function(e){var r,i,a,o,s,u,c,l,h,f,p,d,g={point:v,lineStart:y,lineEnd:x,polygonStart:function(){e.polygonStart(),g.lineStart=_},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){l=NaN,g.point=m,e.lineStart()}function m(r,i){var a=Q([r,i]),o=t(r,i);n(l,h,c,f,p,d,l=o[0],h=o[1],c=r,f=a[0],p=a[1],d=a[2],Vn,e),e.point(l,h)}function x(){g.point=v,e.lineEnd()}function _(){y(),g.point=w,g.lineEnd=b}function w(t,e){m(r=t,e),i=l,a=h,o=f,s=p,u=d,g.point=m}function b(){n(l,h,c,f,p,d,i,a,r,o,s,u,Vn,e),g.lineEnd=x,x()}return g}}(t,e):(n=t,Nn({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}));var n};var Yn=Nn({point:function(t,e){this.stream.point(t*p,e*p)}});function Wn(t){return Un(function(){return t})()}function Un(t){var e,n,r,i,a,o,s,u,c,l,h=150,d=480,g=250,v=0,y=0,m=0,x=0,_=0,w=null,b=jn,M=null,E=Ge,C=.5,k=Hn(A,C);function P(t){return[(t=a(t[0]*p,t[1]*p))[0]*h+n,r-t[1]*h]}function T(t){return(t=a.invert((t[0]-n)/h,(r-t[1])/h))&&[t[0]*f,t[1]*f]}function A(t,i){return[(t=e(t,i))[0]*h+n,r-t[1]*h]}function I(){a=te(i=ne(m,x,_),e);var t=e(v,y);return n=d-t[0]*h,r=g+t[1]*h,O()}function O(){return c=l=null,P}return P.stream=function(t){return c&&l===t?c:c=Yn(b(i,k(E(l=t))))},P.clipAngle=function(t){return arguments.length?(b=+t?Rn(w=t*p,6*p):(w=null,jn),O()):w*f},P.clipExtent=function(t){return arguments.length?(E=null==t?(M=o=s=u=null,Ge):xe(M=+t[0][0],o=+t[0][1],s=+t[1][0],u=+t[1][1]),O()):null==M?null:[[M,o],[s,u]]},P.scale=function(t){return arguments.length?(h=+t,I()):h},P.translate=function(t){return arguments.length?(d=+t[0],g=+t[1],I()):[d,g]},P.center=function(t){return arguments.length?(v=t[0]%360*p,y=t[1]%360*p,I()):[v*f,y*f]},P.rotate=function(t){return arguments.length?(m=t[0]%360*p,x=t[1]%360*p,_=t.length>2?t[2]%360*p:0,I()):[m*f,x*f,_*f]},P.precision=function(t){return arguments.length?(k=Hn(A,C=t*t),O()):S(C)},P.fitExtent=Gn(P),P.fitSize=zn(P),function(){return e=t.apply(this,arguments),P.invert=e.invert&&T,I()}}function Xn(t){var e=0,n=u/3,r=Un(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*p,n=t[1]*p):[e*f,n*f]},i}function Zn(t,e){var n=b(t),r=(n+b(e))/2,i=1+n*(2*r-n),a=S(i)/r;function o(t,e){var n=S(i-2*r*b(e))/r;return[n*b(t*=r),a-n*y(t)]}return o.invert=function(t,e){var n=a-e;return[v(t,n)/r,k((i-(t*t+n*n)*r*r)/(2*r))]},o}var Qn=function(){return Xn(Zn).scale(155.424).center([0,33.6442])},Jn=function(){return Qn().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var $n=function(){var t,e,n,r,i,a,o=Jn(),u=Qn().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=Qn().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){a=[t,e]}};function h(t){var e=t[0],o=t[1];return a=null,n.point(e,o),a||(r.point(e,o),a)||(i.point(e,o),a)}return h.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:o).invert(t)},h.stream=function(n){return t&&e===n?t:(r=[o.stream(e=n),u.stream(n),c.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},h.precision=function(t){return arguments.length?(o.precision(t),u.precision(t),c.precision(t),h):o.precision()},h.scale=function(t){return arguments.length?(o.scale(t),u.scale(.35*t),c.scale(t),h.translate(o.translate())):o.scale()},h.translate=function(t){if(!arguments.length)return o.translate();var e=o.scale(),a=+t[0],f=+t[1];return n=o.translate(t).clipExtent([[a-.455*e,f-.238*e],[a+.455*e,f+.238*e]]).stream(l),r=u.translate([a-.307*e,f+.201*e]).clipExtent([[a-.425*e+s,f+.12*e+s],[a-.214*e-s,f+.234*e-s]]).stream(l),i=c.translate([a-.205*e,f+.212*e]).clipExtent([[a-.214*e+s,f+.166*e+s],[a-.115*e-s,f+.234*e-s]]).stream(l),h},h.fitExtent=Gn(h),h.fitSize=zn(h),h.scale(1070)};function Kn(t){return function(e,n){var r=y(e),i=y(n),a=t(r*i);return[a*i*b(e),a*b(n)]}}function tr(t){return function(e,n){var r=S(e*e+n*n),i=t(r),a=b(i),o=y(i);return[v(e*a,r*o),k(r&&n*a/r)]}}var er=Kn(function(t){return S(2/(1+t))});er.invert=tr(function(t){return 2*k(t/2)});var nr=function(){return Wn(er).scale(124.75).clipAngle(179.999)},rr=Kn(function(t){return(t=C(t))&&t/b(t)});rr.invert=tr(function(t){return t});var ir=function(){return Wn(rr).scale(79.4188).clipAngle(179.999)};function ar(t,e){return[t,_(E((c+e)/2))]}ar.invert=function(t,e){return[t,2*g(x(e))-c]};var or=function(){return sr(ar).scale(961/h)};function sr(t){var e,n=Wn(t),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(t){return arguments.length?(r(t),e&&n.clipExtent(null),n):r()},n.translate=function(t){return arguments.length?(i(t),e&&n.clipExtent(null),n):i()},n.clipExtent=function(t){if(!arguments.length)return e?null:a();if(e=null==t){var o=u*r(),s=i();t=[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]}return a(t),n},n.clipExtent(null)}function ur(t){return E((c+t)/2)}function cr(t,e){var n=y(t),r=t===e?b(t):_(n/y(e))/_(ur(e)/ur(t)),i=n*w(ur(t),r)/r;if(!r)return ar;function a(t,e){i>0?e<-c+s&&(e=-c+s):e>c-s&&(e=c-s);var n=i/w(ur(e),r);return[n*b(r*t),i-n*y(r*t)]}return a.invert=function(t,e){var n=i-e,a=M(r)*S(t*t+n*n);return[v(t,n)/r,2*g(w(i/a,1/r))-c]},a}var lr=function(){return Xn(cr).scale(109.5).parallels([30,30])};function hr(t,e){return[t,e]}hr.invert=hr;var fr=function(){return Wn(hr).scale(152.63)};function pr(t,e){var n=y(t),r=t===e?b(t):(n-y(e))/(e-t),i=n/r+t;if(d(r)<s)return hr;function a(t,e){var n=i-e,a=r*t;return[n*b(a),i-n*y(a)]}return a.invert=function(t,e){var n=i-e;return[v(t,n)/r,i-M(r)*S(t*t+n*n)]},a}var dr=function(){return Xn(pr).scale(131.154).center([0,13.9389])};function gr(t,e){var n=y(e),r=y(t)*n;return[n*b(t)/r,b(e)/r]}gr.invert=tr(g);var vr=function(){return Wn(gr).scale(144.049).clipAngle(60)};function yr(t,e){return[y(e)*b(t),b(e)]}yr.invert=tr(k);var mr=function(){return Wn(yr).scale(249.5).clipAngle(90+s)};function xr(t,e){var n=y(e),r=1+y(t)*n;return[n*b(t)/r,b(e)/r]}xr.invert=tr(function(t){return 2*g(t)});var _r=function(){return Wn(xr).scale(250).clipAngle(142)};function wr(t,e){return[_(E((c+e)/2)),-t]}wr.invert=function(t,e){return[-e,2*g(x(t))-c]};var br=function(){var t=sr(wr),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};n.d(e,"geoArea",function(){return X}),n.d(e,"geoBounds",function(){return zt}),n.d(e,"geoCentroid",function(){return $t}),n.d(e,"geoCircle",function(){return ce}),n.d(e,"geoClipExtent",function(){return Me}),n.d(e,"geoDistance",function(){return Oe}),n.d(e,"geoGraticule",function(){return Fe}),n.d(e,"geoInterpolate",function(){return ze}),n.d(e,"geoLength",function(){return Te}),n.d(e,"geoPath",function(){return Tn}),n.d(e,"geoAlbers",function(){return Jn}),n.d(e,"geoAlbersUsa",function(){return $n}),n.d(e,"geoAzimuthalEqualArea",function(){return nr}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return er}),n.d(e,"geoAzimuthalEquidistant",function(){return ir}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return rr}),n.d(e,"geoConicConformal",function(){return lr}),n.d(e,"geoConicConformalRaw",function(){return cr}),n.d(e,"geoConicEqualArea",function(){return Qn}),n.d(e,"geoConicEqualAreaRaw",function(){return Zn}),n.d(e,"geoConicEquidistant",function(){return dr}),n.d(e,"geoConicEquidistantRaw",function(){return pr}),n.d(e,"geoEquirectangular",function(){return fr}),n.d(e,"geoEquirectangularRaw",function(){return hr}),n.d(e,"geoGnomonic",function(){return vr}),n.d(e,"geoGnomonicRaw",function(){return gr}),n.d(e,"geoProjection",function(){return Wn}),n.d(e,"geoProjectionMutator",function(){return Un}),n.d(e,"geoMercator",function(){return or}),n.d(e,"geoMercatorRaw",function(){return ar}),n.d(e,"geoOrthographic",function(){return mr}),n.d(e,"geoOrthographicRaw",function(){return yr}),n.d(e,"geoStereographic",function(){return _r}),n.d(e,"geoStereographicRaw",function(){return xr}),n.d(e,"geoTransverseMercator",function(){return br}),n.d(e,"geoTransverseMercatorRaw",function(){return wr}),n.d(e,"geoRotation",function(){return oe}),n.d(e,"geoStream",function(){return z}),n.d(e,"geoTransform",function(){return Dn})},function(t,e,n){"use strict";n.r(e);var r=n(527),i={value:function(){}};function a(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new o(r)}function o(t){this._=t}function s(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function u(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=i,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}o.prototype=a.prototype={constructor:o,on:function(t,e){var n,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),o=-1,c=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<c;)if(n=(t=a[o]).type)i[n]=u(i[n],t.name,e);else if(null==e)for(n in i)i[n]=u(i[n],t.name,null);return this}for(;++o<c;)if((n=(t=a[o]).type)&&(n=s(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new o(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var c=a,l=n(630),h=c("start","end","interrupt"),f=[],p=0,d=1,g=2,v=3,y=4,m=5,x=6,_=function(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(u){var c,h,f,p;if(n.state!==d)return s();for(c in i)if((p=i[c]).name===n.name){if(p.state===v)return Object(l.timeout)(a);p.state===y?(p.state=x,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete i[c]):+c<e&&(p.state=x,p.timer.stop(),delete i[c])}if(Object(l.timeout)(function(){n.state===v&&(n.state=y,n.timer.restart(o,n.delay,n.time),o(u))}),n.state=g,n.on.call("start",t,t.__data__,n.index,n.group),n.state===g){for(n.state=v,r=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(p=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++h]=p);r.length=h+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=m,1),a=-1,o=r.length;++a<o;)r[a].call(null,i);n.state===m&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=x,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Object(l.timer)(function(t){n.state=d,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:h,tween:f,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:p})};function w(t,e){var n=M(t,e);if(n.state>p)throw new Error("too late; already scheduled");return n}function b(t,e){var n=M(t,e);if(n.state>g)throw new Error("too late; already started");return n}function M(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var S=function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>g&&n.state<m,n.state=x,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}},E=n(581);function C(t,e,n){var r=t._id;return t.each(function(){var t=b(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return M(t,r).value[e]}}var k=n(540),P=function(t,e){var n;return("number"==typeof e?E.interpolateNumber:e instanceof k.a?E.interpolateRgb:(n=Object(k.a)(e))?(e=n,E.interpolateRgb):E.interpolateString)(t,e)};var T=r.selection.prototype.constructor;var A=0;function I(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function O(t){return Object(r.selection)().transition(t)}function L(){return++A}var j=r.selection.prototype;I.prototype=O.prototype={constructor:I,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.selector)(t));for(var i=this._groups,a=i.length,o=new Array(a),s=0;s<a;++s)for(var u,c,l=i[s],h=l.length,f=o[s]=new Array(h),p=0;p<h;++p)(u=l[p])&&(c=t.call(u,u.__data__,p,l))&&("__data__"in u&&(c.__data__=u.__data__),f[p]=c,_(f[p],e,n,p,f,M(u,n)));return new I(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(r.selectorAll)(t));for(var i=this._groups,a=i.length,o=[],s=[],u=0;u<a;++u)for(var c,l=i[u],h=l.length,f=0;f<h;++f)if(c=l[f]){for(var p,d=t.call(c,c.__data__,f,l),g=M(c,n),v=0,y=d.length;v<y;++v)(p=d[v])&&_(p,e,n,v,d,g);o.push(d),s.push(c)}return new I(o,s,e,n)},filter:function(t){"function"!=typeof t&&(t=Object(r.matcher)(t));for(var e=this._groups,n=e.length,i=new Array(n),a=0;a<n;++a)for(var o,s=e[a],u=s.length,c=i[a]=[],l=0;l<u;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&c.push(o);return new I(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,c=e[s],l=n[s],h=c.length,f=o[s]=new Array(h),p=0;p<h;++p)(u=c[p]||l[p])&&(f[p]=u);for(;s<r;++s)o[s]=e[s];return new I(o,this._parents,this._name,this._id)},selection:function(){return new T(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=L(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,c=0;c<u;++c)if(o=s[c]){var l=M(o,e);_(o,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new I(r,this._parents,t,n)},call:j.call,nodes:j.nodes,node:j.node,size:j.size,empty:j.empty,each:j.each,on:function(t,e){var n,r,i,a,o,s,u=this._id;return arguments.length<2?M(this.node(),u).on.on(t):this.each((n=u,i=e,s=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?w:b,function(){var t=s(this,n),e=t.on;e!==a&&(o=(a=e).copy()).on(r,i),t.on=o}))},attr:function(t,e){var n=Object(r.namespace)(t),i="transform"===n?E.interpolateTransformSvg:P;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,a;return function(){var o,s=n(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===s?null:o===r&&s===i?a:a=e(r=o,i=s);this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,a;return function(){var o,s=n(this);if(null!=s)return(o=this.getAttribute(t))===s?null:o===r&&s===i?a:a=e(r=o,i=s);this.removeAttribute(t)}})(n,i,C(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i;return function(){var a=this.getAttributeNS(t.space,t.local);return a===n?null:a===r?i:i=e(r=a,n)}}:function(t,e,n){var r,i;return function(){var a=this.getAttribute(t);return a===n?null:a===r?i:i=e(r=a,n)}})(n,i,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Object(r.namespace)(t);return this.tween(n,(i.local?function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}:function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n})(i,e))},style:function(t,e,n){var i,a,o,s,u,c,l,h,f,p,d,g,v,y,m,x,_,w="transform"==(t+="")?E.interpolateTransformCss:P;return null==e?this.styleTween(t,(v=t,y=w,function(){var t=Object(r.style)(this,v),e=(this.style.removeProperty(v),Object(r.style)(this,v));return t===e?null:t===m&&e===x?_:_=y(m=t,x=e)})).on("end.style."+t,(g=t,function(){this.style.removeProperty(g)})):this.styleTween(t,"function"==typeof e?(c=t,l=w,h=C(this,"style."+t,e),function(){var t=Object(r.style)(this,c),e=h(this);return null==e&&(this.style.removeProperty(c),e=Object(r.style)(this,c)),t===e?null:t===f&&e===p?d:d=l(f=t,p=e)}):(i=t,a=w,o=e+"",function(){var t=Object(r.style)(this,i);return t===o?null:t===s?u:u=a(s=t,o)}),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=C(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=M(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=b(this,t),a=i.tween;if(a!==n)for(var o=0,s=(r=n=a).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=b(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}a.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){w(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){w(this,t).delay=e}})(e,t)):M(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){b(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){b(this,t).duration=e}})(e,t)):M(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){b(this,t).ease=e}}(e,t)):M(this.node(),e).ease}};var R={time:null,delay:0,duration:250,ease:n(749).easeCubicInOut};function D(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return R.time=Object(l.now)(),R;return n}r.selection.prototype.interrupt=function(t){return this.each(function(){S(this,t)})},r.selection.prototype.transition=function(t){var e,n;t instanceof I?(e=t._id,t=t._name):(e=L(),(n=R).time=Object(l.now)(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,c=0;c<u;++c)(o=s[c])&&_(o,t,e,c,s,n||D(o,e));return new I(r,this._parents,t,e)};var N=[null],B=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>d&&n.name===e)return new I([[t]],N,e,+r);return null};n.d(e,"transition",function(){return O}),n.d(e,"active",function(){return B}),n.d(e,"interrupt",function(){return S})},function(t,e,n){"use strict";n.r(e);var r=function(t){return t},i=function(t){if(null==t)return r;var e,n,i=t.scale[0],a=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,r){r||(e=n=0);var u=2,c=t.length,l=new Array(c);for(l[0]=(e+=t[0])*i+o,l[1]=(n+=t[1])*a+s;u<c;)l[u]=t[u],++u;return l}},a=function(t){var e,n=i(t.transform),r=1/0,a=r,o=-r,s=-r;function u(t){(t=n(t))[0]<r&&(r=t[0]),t[0]>o&&(o=t[0]),t[1]<a&&(a=t[1]),t[1]>s&&(s=t[1])}function c(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(c);break;case"Point":u(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(u)}}for(e in t.arcs.forEach(function(t){for(var e,i=-1,u=t.length;++i<u;)(e=n(t[i],i))[0]<r&&(r=e[0]),e[0]>o&&(o=e[0]),e[1]<a&&(a=e[1]),e[1]>s&&(s=e[1])}),t.objects)c(t.objects[e]);return[r,a,o,s]},o=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},s=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return u(t,e)})}:u(t,e)};function u(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,a=c(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:a}:null==r?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function c(t,e){var n=i(t.transform),r=t.arcs;function a(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],a=0,s=i.length;a<s;++a)e.push(n(i[a],a));t<0&&o(e,s)}function s(t){return n(t)}function u(t){for(var e=[],n=0,r=t.length;n<r;++n)a(t[n],e);return e.length<2&&e.push(e[0]),e}function c(t){for(var e=u(t);e.length<4;)e.push(e[0]);return e}function l(t){return t.map(c)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=s(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(s);break;case"LineString":n=u(e.arcs);break;case"MultiLineString":n=e.arcs.map(u);break;case"Polygon":n=l(e.arcs);break;case"MultiPolygon":n=e.arcs.map(l);break;default:return null}return{type:r,coordinates:n}}(e)}var l=function(t,e){var n={},r={},i={},a=[],o=-1;function s(t,e){for(var r in t){var i=t[r];delete e[i.start],delete i.start,delete i.end,i.forEach(function(t){n[t<0?~t:t]=1}),a.push(i)}}return e.forEach(function(n,r){var i,a=t.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(i=e[++o],e[o]=n,e[r]=i)}),e.forEach(function(e){var n,a,o=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1];return e<0?[n,i]:[i,n]}(e),s=o[0],u=o[1];if(n=i[s])if(delete i[n.end],n.push(e),n.end=u,a=r[u]){delete r[a.start];var c=a===n?n:n.concat(a);r[c.start=n.start]=i[c.end=a.end]=c}else r[n.start]=i[n.end]=n;else if(n=r[u])if(delete r[n.start],n.unshift(e),n.start=s,a=i[s]){delete i[a.end];var l=a===n?n:a.concat(n);r[l.start=a.start]=i[l.end=n.end]=l}else r[n.start]=i[n.end]=n;else r[(n=[e]).start=s]=i[n.end=u]=n}),s(i,r),s(r,i),e.forEach(function(t){n[t<0?~t:t]||a.push([t])}),a},h=function(t){return c(t,f.apply(this,arguments))};function f(t,e,n){var r,i,a;if(arguments.length>1)r=function(t,e,n){var r,i=[],a=[];function o(t){var e=t<0?~t:t;(a[e]||(a[e]=[])).push({i:t,g:r})}function s(t){t.forEach(o)}function u(t){t.forEach(s)}return function t(e){switch(r=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":s(e.arcs);break;case"MultiLineString":case"Polygon":u(e.arcs);break;case"MultiPolygon":e.arcs.forEach(u)}}(e),a.forEach(null==n?function(t){i.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}(0,e,n);else for(i=0,r=new Array(a=t.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:l(t,r)}}var p=function(t){return c(t,d.apply(this,arguments))};function d(t,e){var n={},r=[],i=[];function a(t){t.forEach(function(e){e.forEach(function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)})}),r.push(t)}function o(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],a=0;++n<r;)e=i,i=t[n],a+=e[0]*i[1]-e[1]*i[0];return Math.abs(a)}(c(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":a(e.arcs);break;case"MultiPolygon":e.arcs.forEach(a)}}),r.forEach(function(t){if(!t._){var e=[],r=[t];for(t._=1,i.push(e);t=r.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){n[t<0?~t:t].forEach(function(t){t._||(t._=1,r.push(t))})})})}}),r.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:i.map(function(e){var r,i=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){n[t<0?~t:t].length<2&&i.push(t)})})}),(r=(i=l(t,i)).length)>1)for(var a,s,u=1,c=o(i[0]);u<r;++u)(a=o(i[u]))>c&&(s=i[0],i[0]=i[u],i[u]=s,c=a);return i})}}var g=function(t,e){for(var n=0,r=t.length;n<r;){var i=n+r>>>1;t[i]<e?n=i+1:r=i}return n},v=function(t){var e={},n=t.map(function(){return[]});function r(t,n){t.forEach(function(t){t<0&&(t=~t);var r=e[t];r?r.push(n):e[t]=[n]})}function i(t,e){t.forEach(function(t){r(t,e)})}var a={LineString:r,MultiLineString:i,Polygon:i,MultiPolygon:function(t,e){t.forEach(function(t){i(t,e)})}};for(var o in t.forEach(function t(e,n){"GeometryCollection"===e.type?e.geometries.forEach(function(e){t(e,n)}):e.type in a&&a[e.type](e.arcs,n)}),e)for(var s=e[o],u=s.length,c=0;c<u;++c)for(var l=c+1;l<u;++l){var h,f=s[c],p=s[l];(h=n[f])[o=g(h,p)]!==p&&h.splice(o,0,p),(h=n[p])[o=g(h,f)]!==f&&h.splice(o,0,f)}return n},y=function(t){if(null==t)return r;var e,n,i=t.scale[0],a=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,r){r||(e=n=0);var u=2,c=t.length,l=new Array(c),h=Math.round((t[0]-o)/i),f=Math.round((t[1]-s)/a);for(l[0]=h-e,e=h,l[1]=f-n,n=f;u<c;)l[u]=t[u],++u;return l}},m=function(t,e){if(t.transform)throw new Error("already quantized");if(e&&e.scale)u=t.bbox;else{if(!((n=Math.floor(e))>=2))throw new Error("n must be ≥2");var n,r=(u=t.bbox||a(t))[0],i=u[1],o=u[2],s=u[3];e={scale:[o-r?(o-r)/(n-1):1,s-i?(s-i)/(n-1):1],translate:[r,i]}}var u,c,l=y(e),h=t.objects,f={};function p(t){return l(t)}function d(t){var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(d)};break;case"Point":e={type:"Point",coordinates:p(t.coordinates)};break;case"MultiPoint":e={type:"MultiPoint",coordinates:t.coordinates.map(p)};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}for(c in h)f[c]=d(h[c]);return{type:"Topology",bbox:u,transform:e,objects:f,arcs:t.arcs.map(function(t){var e,n=0,r=1,i=t.length,a=new Array(i);for(a[0]=l(t[0],0);++n<i;)((e=l(t[n],n))[0]||e[1])&&(a[r++]=e);return 1===r&&(a[r++]=[0,0]),a.length=r,a})}};n.d(e,"bbox",function(){return a}),n.d(e,"feature",function(){return s}),n.d(e,"mesh",function(){return h}),n.d(e,"meshArcs",function(){return f}),n.d(e,"merge",function(){return p}),n.d(e,"mergeArcs",function(){return d}),n.d(e,"neighbors",function(){return v}),n.d(e,"quantize",function(){return m}),n.d(e,"transform",function(){return i}),n.d(e,"untransform",function(){return y})},function(t,e,n){"use strict";n.r(e);var r=function(t){return function(){return t}};function i(t){return t[0]}function a(t){return t[1]}function o(){this._=null}function s(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function u(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function c(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function l(t){for(;t.L;)t=t.L;return t}o.prototype={constructor:o,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=l(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(u(this,n),n=(t=n).U),n.C=!1,r.C=!0,c(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(c(this,n),n=(t=n).U),n.C=!1,r.C=!0,u(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?l(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,u(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,c(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,u(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,c(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,u(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,c(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var h=o;function f(t,e,n,r){var i=[null,null],a=O.push(i)-1;return i.left=t,i.right=e,n&&d(i,t,e,n),r&&d(i,e,t,r),A[t.index].halfedges.push(a),A[e.index].halfedges.push(a),i}function p(t,e,n){var r=[e,n];return r.left=t,r}function d(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function g(t,e,n,r,i){var a,o=t[0],s=t[1],u=o[0],c=o[1],l=0,h=1,f=s[0]-u,p=s[1]-c;if(a=e-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<h&&(h=a)}else if(f>0){if(a>h)return;a>l&&(l=a)}if(a=r-u,f||!(a<0)){if(a/=f,f<0){if(a>h)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<h&&(h=a)}if(a=n-c,p||!(a>0)){if(a/=p,p<0){if(a<l)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>l&&(l=a)}if(a=i-c,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>l&&(l=a)}else if(p>0){if(a<l)return;a<h&&(h=a)}return!(l>0||h<1)||(l>0&&(t[0]=[u+l*f,c+l*p]),h<1&&(t[1]=[u+h*f,c+h*p]),!0)}}}}}function v(t,e,n,r,i){var a=t[1];if(a)return!0;var o,s,u=t[0],c=t.left,l=t.right,h=c[0],f=c[1],p=l[0],d=l[1],g=(h+p)/2,v=(f+d)/2;if(d===f){if(g<e||g>=r)return;if(h>p){if(u){if(u[1]>=i)return}else u=[g,n];a=[g,i]}else{if(u){if(u[1]<n)return}else u=[g,i];a=[g,n]}}else if(s=v-(o=(h-p)/(d-f))*g,o<-1||o>1)if(h>p){if(u){if(u[1]>=i)return}else u=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/o,i];a=[(n-s)/o,n]}else if(f<d){if(u){if(u[0]>=r)return}else u=[e,o*e+s];a=[r,o*r+s]}else{if(u){if(u[0]<e)return}else u=[r,o*r+s];a=[e,o*e+s]}return t[0]=u,t[1]=a,!0}function y(t,e){return e[+(e.left!==t.site)]}var m,x=[];function _(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i[0],u=i[1],c=r[0]-o,l=r[1]-u,h=a[0]-o,f=a[1]-u,p=2*(c*f-l*h);if(!(p>=-j)){var d=c*c+l*l,g=h*h+f*f,v=(f*d-l*g)/p,y=(c*g-h*d)/p,_=x.pop()||new function(){s(this),this.x=this.y=this.arc=this.site=this.cy=null};_.arc=t,_.site=i,_.x=v+o,_.y=(_.cy=y+u)+Math.sqrt(v*v+y*y),t.circle=_;for(var w=null,b=I._;b;)if(_.y<b.y||_.y===b.y&&_.x<=b.x){if(!b.L){w=b.P;break}b=b.L}else{if(!b.R){w=b;break}b=b.R}I.insert(w,_),w||(m=_)}}}}function w(t){var e=t.circle;e&&(e.P||(m=e.N),I.remove(e),x.push(e),s(e),t.circle=null)}var b=[];function M(t){var e=b.pop()||new function(){s(this),this.edge=this.site=this.circle=null};return e.site=t,e}function S(t){w(t),T.remove(t),b.push(t),s(t)}function E(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,o=t.N,s=[t];S(t);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<L&&Math.abs(r-u.circle.cy)<L;)a=u.P,s.unshift(u),S(u),u=a;s.unshift(u),w(u);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<L&&Math.abs(r-c.circle.cy)<L;)o=c.N,s.push(c),S(c),c=o;s.push(c),w(c);var l,h=s.length;for(l=1;l<h;++l)c=s[l],u=s[l-1],d(c.edge,u.site,c.site,i);u=s[0],(c=s[h-1]).edge=f(u.site,c.site,null,i),_(u),_(c)}function C(t){for(var e,n,r,i,a,o=t[0],s=t[1],u=T._;u;)if((r=k(u,s)-o)>L)u=u.L;else{if(!((i=o-P(u,s))>L)){r>-L?(e=u.P,n=u):i>-L?(e=u,n=u.N):e=n=u;break}if(!u.R){e=u;break}u=u.R}A[(a=t).index]={site:a,halfedges:[]};var c=M(t);if(T.insert(e,c),e||n){if(e===n)return w(e),n=M(e.site),T.insert(c,n),c.edge=n.edge=f(e.site,c.site),_(e),void _(n);if(n){w(e),w(n);var l=e.site,h=l[0],p=l[1],g=t[0]-h,v=t[1]-p,y=n.site,m=y[0]-h,x=y[1]-p,b=2*(g*x-v*m),S=g*g+v*v,E=m*m+x*x,C=[(x*S-v*E)/b+h,(g*E-m*S)/b+p];d(n.edge,l,y,C),c.edge=f(l,t,null,C),n.edge=f(t,y,null,C),_(e),_(n)}else c.edge=f(e.site,c.site)}}function k(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,h=1/a-1/c,f=l/c;return h?(-f+Math.sqrt(f*f-2*h*(l*l/(-2*c)-u+c/2+i-a/2)))/h+r:(r+s)/2}function P(t,e){var n=t.N;if(n)return k(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var T,A,I,O,L=1e-6,j=1e-12;function R(t,e){return e[1]-t[1]||e[0]-t[0]}function D(t,e){var n,r,i,a=t.sort(R).pop();for(O=[],A=new Array(t.length),T=new h,I=new h;;)if(i=m,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(C(a),n=a[0],r=a[1]),a=t.pop();else{if(!i)break;E(i.arc)}if(function(){for(var t,e,n,r,i=0,a=A.length;i<a;++i)if((t=A[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=(u=t,c=O[e[n]],h=void 0,f=void 0,l=u.site,h=c.left,f=c.right,l===f&&(f=h,h=l),f?Math.atan2(f[1]-h[1],f[0]-h[0]):(l===h?(h=c[1],f=c[0]):(h=c[0],f=c[1]),Math.atan2(h[0]-f[0],f[1]-h[1])));for(o.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[o[n]];for(n=0;n<r;++n)e[n]=s[n]}var u,c,l,h,f}(),e){var o=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,a=O.length;a--;)v(i=O[a],t,e,n,r)&&g(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>L||Math.abs(i[0][1]-i[1][1])>L)||delete O[a]}(o,s,u,c),function(t,e,n,r){var i,a,o,s,u,c,l,h,f,d,g,v,m,x,_=A.length,w=!0;for(i=0;i<_;++i)if(a=A[i]){for(o=a.site,s=(u=a.halfedges).length;s--;)O[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)m=a,g=(d=(x=O[u[s]])[+(x.left===m.site)])[0],v=d[1],h=(l=y(a,O[u[++s%c]]))[0],f=l[1],(Math.abs(g-h)>L||Math.abs(v-f)>L)&&(u.splice(s,0,O.push(p(o,d,Math.abs(g-t)<L&&r-v>L?[t,Math.abs(h-t)<L?f:r]:Math.abs(v-r)<L&&n-g>L?[Math.abs(f-r)<L?h:n,r]:Math.abs(g-n)<L&&v-e>L?[n,Math.abs(h-n)<L?f:e]:Math.abs(v-e)<L&&g-t>L?[Math.abs(f-e)<L?h:t,e]:null))-1),++c);c&&(w=!1)}if(w){var b,M,S,E=1/0;for(i=0,w=null;i<_;++i)(a=A[i])&&(S=(b=(o=a.site)[0]-t)*b+(M=o[1]-e)*M)<E&&(E=S,w=a);if(w){var C=[t,e],k=[t,r],P=[n,r],T=[n,e];w.halfedges.push(O.push(p(o=w.site,C,k))-1,O.push(p(o,k,P))-1,O.push(p(o,P,T))-1,O.push(p(o,T,C))-1)}}for(i=0;i<_;++i)(a=A[i])&&(a.halfedges.length||delete A[i])}(o,s,u,c)}this.edges=O,this.cells=A,T=I=O=A=null}D.prototype={constructor:D,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return y(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(a=(i=n.halfedges).length)for(var i,a,o,s,u,c,l=n.site,h=-1,f=e[i[a-1]],p=f.left===l?f.right:f.left;++h<a;)o=p,p=(f=e[i[h]]).left===l?f.right:f.left,o&&p&&r<o.index&&r<p.index&&(u=o,c=p,((s=l)[0]-c[0])*(u[1]-s[1])-(s[0]-u[0])*(c[1]-s[1])<0)&&t.push([l.data,o.data,p.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,a=this,o=a._found||0,s=a.cells.length;!(i=a.cells[o]);)if(++o>=s)return null;var u=t-i.site[0],c=e-i.site[1],l=u*u+c*c;do{i=a.cells[r=o],o=null,i.halfedges.forEach(function(n){var r=a.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],h=u*u+c*c;h<l&&(l=h,o=s.index)}})}while(null!==o);return a._found=r,null==n||l<=n*n?i.site:null}};var N=function(){var t=i,e=a,n=null;function o(r){return new D(r.map(function(n,i){var a=[Math.round(t(n,i,r)/L)*L,Math.round(e(n,i,r)/L)*L];return a.index=i,a.data=n,a}),n)}return o.polygons=function(t){return o(t).polygons()},o.links=function(t){return o(t).links()},o.triangles=function(t){return o(t).triangles()},o.x=function(e){return arguments.length?(t="function"==typeof e?e:r(+e),o):t},o.y=function(t){return arguments.length?(e="function"==typeof t?t:r(+t),o):e},o.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],o):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},o.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],o):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},o};n.d(e,"voronoi",function(){return N})},function(t,e,n){"use strict";n.r(e);var r={},i={},a=34,o=10,s=13;function u(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var c=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function c(t,e){var u,c=[],l=t.length,h=0,f=0,p=l<=0,d=!1;function g(){if(p)return i;if(d)return d=!1,r;var e,u,c=h;if(t.charCodeAt(c)===a){for(;h++<l&&t.charCodeAt(h)!==a||t.charCodeAt(++h)===a;);return(e=h)>=l?p=!0:(u=t.charCodeAt(h++))===o?d=!0:u===s&&(d=!0,t.charCodeAt(h)===o&&++h),t.slice(c+1,e-1).replace(/""/g,'"')}for(;h<l;){if((u=t.charCodeAt(e=h++))===o)d=!0;else if(u===s)d=!0,t.charCodeAt(h)===o&&++h;else if(u!==n)continue;return t.slice(c,e)}return p=!0,t.slice(c,l)}for(t.charCodeAt(l-1)===o&&--l,t.charCodeAt(l-1)===s&&--l;(u=g())!==i;){for(var v=[];u!==r&&u!==i;)v.push(u),u=g();e&&null==(v=e(v,f++))||c.push(v)}return c}function l(e){return e.map(h).join(t)}function h(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,i=c(t,function(t,i){if(n)return n(t,i-1);var a,o,s;r=t,n=e?(o=e,s=u(a=t),function(t,e){return o(s(t),e,a)}):u(t)});return i.columns=r||[],i},parseRows:c,format:function(e,n){var r,i,a;return null==n&&(r=e,i=Object.create(null),a=[],r.forEach(function(t){for(var e in t)e in i||a.push(i[e]=e)}),n=a),[n.map(h).join(t)].concat(e.map(function(e){return n.map(function(t){return h(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(l).join("\n")}}},l=c(","),h=l.parse,f=l.parseRows,p=l.format,d=l.formatRows,g=c("\t"),v=g.parse,y=g.parseRows,m=g.format,x=g.formatRows;n.d(e,"dsvFormat",function(){return c}),n.d(e,"csvParse",function(){return h}),n.d(e,"csvParseRows",function(){return f}),n.d(e,"csvFormat",function(){return p}),n.d(e,"csvFormatRows",function(){return d}),n.d(e,"tsvParse",function(){return v}),n.d(e,"tsvParseRows",function(){return y}),n.d(e,"tsvFormat",function(){return m}),n.d(e,"tsvFormatRows",function(){return x})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r,i=n(0),a=n.n(i),o=n(814),s=n(635),u=n.n(s),c=n(1334),l=n.n(c),h=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ds=new u.a({state:{start:"2018-09-10",end:"2018-10-23"}}),e.onChange=function(t){var n=t.startText,r=t.endText;e.ds.setState("start",n),e.ds.setState("end",r)},e}return h(e,t),e.prototype.render=function(){var t=this,e=(u.a.DataView,this.props.data),n=this.ds.createView();return n.source(e).transform({type:"filter",callback:function(e){var n=e.time;return n<=t.ds.state.end&&n>=t.ds.state.start}}).transform({type:"map",callback:function(t){return t.trend=t.start<=t.end?"上涨":"下跌",t.range=[t.start,t.end,t.max,t.min],t}}),a.a.createElement("div",null,a.a.createElement(o.Chart,{height:600,animate:!1,padding:[30,60,40,80],data:n,scale:{time:{type:"timeCat",nice:!1,range:[0,1]},trend:{values:["上涨","下跌"]},volume:{alias:"成交量"},start:{alias:"开盘价"},end:{alias:"收盘价"},max:{alias:"最高价"},min:{alias:"最低价"},range:{alias:"股票价格"}},forceFit:!0},a.a.createElement(o.Legend,null),a.a.createElement(o.Tooltip,{showTitle:!1,itemTpl:'<li data-index={index}><span style="background-color:{color};"\n              class="g2-tooltip-marker"></span>{name}{value}</li>'}),a.a.createElement(o.View,{end:{x:1,y:.5},data:n},a.a.createElement(o.Axis,{name:"time"}),a.a.createElement(o.Axis,{name:"range"}),a.a.createElement(o.Geom,{type:"schema",position:"time*range",color:["trend",function(t){return"上涨"===t?"#f04864":"下跌"===t?"#2fc25b":"#ffffff"}],tooltip:["time*start*end*max*min",function(t,e,n,r,i){return{name:t,value:'<br><span style="padding-left: 16px">开盘价：'+e+'</span><br/><span style="padding-left: 16px">收盘价：'+n+'</span><br/><span style="padding-left: 16px">最高价：'+r+'</span><br/><span style="padding-left: 16px">最低价：'+i+"</span>"}}],shape:"candle"})),a.a.createElement(o.View,{start:{x:0,y:.65},data:n,scale:{volume:{tickCount:2}}},a.a.createElement(o.Axis,{name:"volume",label:{formatter:function(t){return parseInt(t,10)/1e3+"k"}}}),a.a.createElement(o.Axis,{name:"time",tickLine:null,label:null}),a.a.createElement(o.Geom,{type:"interval",position:"time*volume",color:["trend",function(t){return"上涨"===t?"#f04864":"下跌"===t?"#2fc25b":"#ffffff"}],tooltip:["time*volume",function(t,e){return{name:t,value:'<br/><span style="padding-left: 16px">成交量：'+e+"</span><br/>"}}],shape:"candle"}))),a.a.createElement("div",null,a.a.createElement(l.a,{padding:[40,80,40,80],width:"auto",start:this.ds.state.start,end:this.ds.state.end,xAxis:"time",yAxis:"volume",data:e,onChange:this.onChange})))},e}(a.a.Component)},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=c(n(1335)),o=n(0),s=c(o),u=c(n(1338));function c(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d=["width","height","padding","xAis","yAxis","start","end","fillerStyle","backgroundStyle","scales","textStyle","handleStyle","backgroundChart"];var g=function(t){function e(){h(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.refHandle=function(e){t.container||(t.container=e)},t.reBuild=!1,t}return p(e,o.Component),i(e,[{key:"componentDidMount",value:function(){this.createG2Instance().render()}},{key:"componentWillReceiveProps",value:function(t){var e=this.props,n=e.data,r=l(e,["data"]),i=t.data,a=l(t,["data"]);n!==i&&(this.slider.changeData(i),this.slider.repaint()),function(t,e){if(t.onChange!==e.onChange)return!0;for(var n=0;n<d.length;n+=1){var r=d[n];if(!window.G2.Util.isEqual(t[r],e[r]))return!0}return!1}(r,a)&&(this.reBuild=!0)}},{key:"componentDidUpdate",value:function(){this.reBuild&&(this.slider.destroy(),this.createG2Instance().render(),this.reBuild=!1)}},{key:"componentWillUnmount",value:function(){this.slider.destroy()}},{key:"createG2Instance",value:function(){return this.slider=new a.default(r({container:this.container},this.props)),this.slider}},{key:"render",value:function(){return s.default.createElement("div",{ref:this.refHandle})}}]),e}(),v=function(t){function e(){return h(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return p(e,o.Component),i(e,[{key:"render",value:function(){return s.default.createElement(u.default,null,s.default.createElement(g,this.props))}}]),e}();e.default=v,t.exports=e.default},function(t,e,n){var r=n(1336);window&&!window.G2&&console.err("Please load the G2 script first!"),t.exports=r},function(t,e,n){var r=n(1337),i=window&&window.G2,a=i.Chart,o=i.Util,s=i.G,u=i.Global,c=s.Canvas,l=o.DomUtil,h=function(t){return"number"==typeof t},f=function(){function t(t){this._initProps(),o.deepMix(this,t);var e=this.container;if(!e)throw new Error("Please specify the container for the Slider!");o.isString(e)?this.domContainer=document.getElementById(e):this.domContainer=e,this.handleStyle=o.mix({width:this.height,height:this.height},this.handleStyle),"auto"===this.width&&window.addEventListener("resize",o.wrapBehavior(this,"_initForceFitEvent"))}return t.prototype._initProps=function(){this.height=26,this.width="auto",this.padding=u.plotCfg.padding,this.container=null,this.xAxis=null,this.yAxis=null,this.fillerStyle={fill:"#BDCCED",fillOpacity:.3},this.backgroundStyle={stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},this.range=[0,100],this.layout="horizontal",this.textStyle={fill:"#545454"},this.handleStyle={img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},this.backgroundChart={type:["area"],color:"#CCD6EC"}},t.prototype._initForceFitEvent=function(){var t=setTimeout(o.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=t},t.prototype.forceFit=function(){if(this&&!this.destroyed){var t=l.getWidth(this.domContainer),e=this.height;if(t!==this.domWidth){var n=this.canvas;n.changeSize(t,e),this.bgChart&&this.bgChart.changeWidth(t),n.clear(),this._initWidth(),this._initSlider(),this._bindEvent(),n.draw()}}},t.prototype._initWidth=function(){var t;t="auto"===this.width?l.getWidth(this.domContainer):this.width,this.domWidth=t;var e=o.toAllPadding(this.padding);"horizontal"===this.layout?(this.plotWidth=t-e[1]-e[3],this.plotPadding=e[3],this.plotHeight=this.height):"vertical"===this.layout&&(this.plotWidth=this.width,this.plotHeight=this.height-e[0]-e[2],this.plotPadding=e[0])},t.prototype.render=function(){this._initWidth(),this._initCanvas(),this._initBackground(),this._initSlider(),this._bindEvent(),this.canvas.draw()},t.prototype.changeData=function(t){this.data=t,this.repaint()},t.prototype.destroy=function(){clearTimeout(this.resizeTimer),this.rangeElement.off("sliderchange"),this.bgChart&&this.bgChart.destroy(),this.canvas.destroy();for(var t=this.domContainer;t.hasChildNodes();)t.removeChild(t.firstChild);window.removeEventListener("resize",o.getWrapBehavior(this,"_initForceFitEvent")),this.destroyed=!0},t.prototype.clear=function(){this.canvas.clear(),this.bgChart&&this.bgChart.destroy(),this.bgChart=null,this.scale=null,this.canvas.draw()},t.prototype.repaint=function(){this.clear(),this.render()},t.prototype._initCanvas=function(){var t=this.domWidth,e=this.height,n=new c({width:t,height:e,containerDOM:this.domContainer,capture:!1}),r=n.get("el");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.zIndex=3,this.canvas=n},t.prototype._initBackground=function(){var t,e=this.data,n=this.xAxis,r=this.yAxis,i=o.deepMix(((t={})[""+n]={range:[0,1]},t),this.scales);if(!e)throw new Error("Please specify the data!");if(!n)throw new Error("Please specify the xAxis!");if(!r)throw new Error("Please specify the yAxis!");var s=this.backgroundChart,u=s.type,c=s.color;o.isArray(u)||(u=[u]);var l=o.toAllPadding(this.padding),h=new a({container:this.container,width:this.domWidth,height:this.height,padding:[0,l[1],0,l[3]],animate:!1});h.source(e),h.scale(i),h.axis(!1),h.tooltip(!1),h.legend(!1),o.each(u,function(t){h[t]().position(n+"*"+r).color(c).opacity(1)}),h.render(),this.bgChart=h,this.scale="horizontal"===this.layout?h.getXScale():h.getYScales()[0],"vertical"===this.layout&&h.destroy()},t.prototype._initRange=function(){var t=this.startRadio,e=this.endRadio,n=this.start,r=this.end,i=this.scale,a=0,o=1;h(t)?a=t:n&&(a=i.scale(i.translate(n))),h(e)?o=e:r&&(o=i.scale(i.translate(r)));var s=this.minSpan,u=this.maxSpan,c=0;if("time"===i.type||"timeCat"===i.type){var l=i.values,f=l[0];c=l[l.length-1]-f}else i.isLinear&&(c=i.max-i.min);c&&s&&(this.minRange=s/c*100),c&&u&&(this.maxRange=u/c*100);var p=[100*a,100*o];return this.range=p,p},t.prototype._getHandleValue=function(t){var e=this.range,n=e[0]/100,r=e[1]/100,i=this.scale;return"min"===t?this.start?this.start:i.invert(n):this.end?this.end:i.invert(r)},t.prototype._initSlider=function(){var t=this.canvas,e=this._initRange(),n=this.scale,i=t.addGroup(r,{middleAttr:this.fillerStyle,range:e,minRange:this.minRange,maxRange:this.maxRange,layout:this.layout,width:this.plotWidth,height:this.plotHeight,backgroundStyle:this.backgroundStyle,textStyle:this.textStyle,handleStyle:this.handleStyle,minText:n.getText(this._getHandleValue("min")),maxText:n.getText(this._getHandleValue("max"))});"horizontal"===this.layout?i.translate(this.plotPadding,0):"vertical"===this.layout&&i.translate(0,this.plotPadding),this.rangeElement=i},t.prototype._bindEvent=function(){var t=this;t.rangeElement.on("sliderchange",function(e){var n=e.range,r=n[0]/100,i=n[1]/100;t._updateElement(r,i)})},t.prototype._updateElement=function(t,e){var n=this.scale,r=this.rangeElement,i=r.get("minTextElement"),a=r.get("maxTextElement"),o=n.invert(t),s=n.invert(e),u=n.getText(o),c=n.getText(s);i.attr("text",u),a.attr("text",c),this.start=u,this.end=c,this.onChange&&this.onChange({startText:u,endText:c,startValue:o,endValue:s,startRadio:t,endRadio:e})},t}();t.exports=f},function(t,e){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=window&&window.G2,a=i.Util,o=i.G.Group,s=a.DomUtil,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getDefaultCfg=function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},e.prototype._initHandle=function(t){var e,n,r,i=this.addGroup(),o=this.get("layout"),s=this.get("handleStyle"),u=s.img,c=s.width,l=s.height;if("horizontal"===o){var h=s.width;r="ew-resize",n=i.addShape("Image",{attrs:{x:-h/2,y:0,width:h,height:l,img:u,cursor:r}}),e=i.addShape("Text",{attrs:a.mix({x:"min"===t?-(h/2+5):h/2+5,y:l/2,textAlign:"min"===t?"end":"start",textBaseline:"middle",text:"min"===t?this.get("minText"):this.get("maxText"),cursor:r},this.get("textStyle"))})}else r="ns-resize",n=i.addShape("Image",{attrs:{x:0,y:-l/2,width:c,height:l,img:u,cursor:r}}),e=i.addShape("Text",{attrs:a.mix({x:c/2,y:"min"===t?l/2+5:-(l/2+5),textAlign:"center",textBaseline:"middle",text:"min"===t?this.get("minText"):this.get("maxText"),cursor:r},this.get("textStyle"))});return this.set(t+"TextElement",e),this.set(t+"IconElement",n),i},e.prototype._initSliderBackground=function(){var t=this.addGroup();return t.initTransform(),t.translate(0,0),t.addShape("Rect",{attrs:a.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),t},e.prototype._beforeRenderUI=function(){var t=this._initSliderBackground(),e=this._initHandle("min"),n=this._initHandle("max"),r=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",r),this.set("minHandleElement",e),this.set("maxHandleElement",n),this.set("backgroundElement",t),t.set("zIndex",0),r.set("zIndex",1),e.set("zIndex",2),n.set("zIndex",2),r.attr("cursor","move"),this.sort()},e.prototype._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},e.prototype._transform=function(t){var e=this.get("range"),n=e[0]/100,r=e[1]/100,i=this.get("width"),a=this.get("height"),o=this.get("minHandleElement"),s=this.get("maxHandleElement"),u=this.get("middleHandleElement");o.resetMatrix?(o.resetMatrix(),s.resetMatrix()):(o.initTransform(),s.initTransform()),"horizontal"===t?(u.attr({x:i*n,y:0,width:(r-n)*i,height:a}),o.translate(n*i,0),s.translate(r*i,0)):(u.attr({x:0,y:a*(1-r),width:i,height:(r-n)*a}),o.translate(0,(1-n)*a),s.translate(0,(1-r)*a))},e.prototype._renderHorizontal=function(){this._transform("horizontal")},e.prototype._renderVertical=function(){this._transform("vertical")},e.prototype._bindUI=function(){this.on("mousedown",a.wrapBehavior(this,"_onMouseDown"))},e.prototype._isElement=function(t,e){var n=this.get(e);return t===n||!!n.isGroup&&n.get("children").indexOf(t)>-1},e.prototype._getRange=function(t,e){var n=t+e;return n=(n=n>100?100:n)<0?0:n},e.prototype._limitRange=function(t,e,n){n[0]=this._getRange(t,n[0]),n[1]=n[0]+e,n[1]>100&&(n[1]=100,n[0]=n[1]-e)},e.prototype._updateStatus=function(t,e){var n="x"===t?this.get("width"):this.get("height");t=a.upperFirst(t);var r,i=this.get("range"),o=this.get("page"+t),s=this.get("currentTarget"),u=this.get("rangeStash"),c="vertical"===this.get("layout")?-1:1,l=e["page"+t],h=(l-o)/n*100*c,f=this.get("minRange"),p=this.get("maxRange");i[1]<=i[0]?(this._isElement(s,"minHandleElement")||this._isElement(s,"maxHandleElement"))&&(i[0]=this._getRange(h,i[0]),i[1]=this._getRange(h,i[0])):(this._isElement(s,"minHandleElement")&&(i[0]=this._getRange(h,i[0]),f&&i[1]-i[0]<=f&&this._limitRange(h,f,i),p&&i[1]-i[0]>=p&&this._limitRange(h,p,i)),this._isElement(s,"maxHandleElement")&&(i[1]=this._getRange(h,i[1]),f&&i[1]-i[0]<=f&&this._limitRange(h,f,i),p&&i[1]-i[0]>=p&&this._limitRange(h,p,i))),this._isElement(s,"middleHandleElement")&&(r=u[1]-u[0],this._limitRange(h,r,i)),this.emit("sliderchange",{range:i}),this.set("page"+t,l),this._renderUI(),this.get("canvas").draw()},e.prototype._onMouseDown=function(t){var e=t.currentTarget,n=t.event,r=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",e),this.set("rangeStash",[r[0],r[1]]),this._bindCanvasEvents()},e.prototype._bindCanvasEvents=function(){var t=this.get("canvas").get("containerDOM");this.onMouseMoveListener=s.addEventListener(t,"mousemove",a.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=s.addEventListener(t,"mouseup",a.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=s.addEventListener(t,"mouseleave",a.wrapBehavior(this,"_onCanvasMouseUp"))},e.prototype._onCanvasMouseMove=function(t){"horizontal"===this.get("layout")?this._updateStatus("x",t):this._updateStatus("y",t)},e.prototype._onCanvasMouseUp=function(){this._removeDocumentEvents()},e.prototype._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()},e}(o);t.exports=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(0),o=(r=a)&&r.__esModule?r:{default:r};var s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={hasError:!1},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default.Component),i(e,[{key:"componentDidCatch",value:function(t,e){this.setState({hasError:!0})}},{key:"unstable_handleError",value:function(t,e){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?o.default.createElement("h1",null,"Slider error."):this.props.children}}]),e}();e.default=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var r,i=n(0),a=n.n(i),o=n(4),s=n(82),u=n(1333),c=n(96),l=n(149),h=(n(562),n(558),n(544)),f=n.n(h),p=(n(582),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},g=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},v=function(t,e,n,r){return new(n||(n=Promise))(function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}u((r=r.apply(t,e||[])).next())})},y=function(t,e){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderItem=function(){return v(e,void 0,void 0,function(){var t;return y(this,function(e){switch(e.label){case 0:return[4,this.quotationService.getBondQuotationData()];case 1:return t=e.sent(),[2,a.a.createElement(f.a,null,a.a.createElement("h1",null,"国债 债券市场表现"),a.a.createElement(u.a,{data:t}))]}})})},e}var n;return p(e,t),e.prototype.render=function(){return a.a.createElement(c.a,{render:this.renderItem,componentWhenLoading:a.a.createElement(l.a,null)})},d([o.Inject,g("design:type","function"==typeof(n=void 0!==s.a&&s.a)?n:Object)],e.prototype,"quotationService",void 0),e}(a.a.Component);e.default=m}])]);
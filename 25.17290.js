(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1341:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1418);e.default=function(t){return i.default(t,"String")}},1349:function(t,e,n){"use strict";n(32),n(1364)},1350:function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t){var o;Object.prototype.hasOwnProperty.call(t,r)&&((o=i?Object.getOwnPropertyDescriptor(t,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r])}n.default=t,e&&e.set(t,n);return n}(n(0)),c=i(n(1367)),u=i(n(24));function i(t){return t&&t.__esModule?t:{default:t}}function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var h,p,f,d,g=3,y=1,v="ant-message",m="move-up";var b={open:function(r){function t(){p&&p.removeNotice(s)}var o=void 0!==r.duration?r.duration:g,a={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle",loading:"loading"}[r.type],s=r.key||y++,n=new Promise(function(t){function i(){return"function"==typeof r.onClose&&r.onClose(),t(!0)}var e;e=function(t){var e=l.createElement(u.default,{type:a,theme:"loading"===a?"outlined":"filled"}),n=a?e:"";t.notice({key:s,duration:o,style:{},content:l.createElement("div",{className:"".concat(v,"-custom-content").concat(r.type?" ".concat(v,"-").concat(r.type):"")},r.icon?r.icon:n,l.createElement("span",null,r.content)),onClose:i})},p?e(p):c.default.newInstance({prefixCls:v,transitionName:m,style:{top:h},getContainer:f,maxCount:d},function(t){e(p||(p=t))})});return t.then=function(t,e){return n.then(t,e)},t.promise=n,t},config:function(t){void 0!==t.top&&(h=t.top,p=null),void 0!==t.duration&&(g=t.duration),void 0!==t.prefixCls&&(v=t.prefixCls),void 0!==t.getContainer&&(f=t.getContainer),void 0!==t.transitionName&&(m=t.transitionName,p=null),void 0!==t.maxCount&&(d=t.maxCount,p=null)},destroy:function(){p&&(p.destroy(),p=null)}};["success","info","warning","error","loading"].forEach(function(r){b[r]=function(t,e,n){return i=t,"[object Object]"===Object.prototype.toString.call(i)&&i.content?b.open(o(o({},t),{type:r})):("function"==typeof e&&(n=e,e=void 0),b.open({content:t,duration:e,type:r,onClose:n}));var i}}),b.warn=b.warning,e.default=b},1351:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(913),a=n(1397);e.default=function(t,e){if(t)if(o.default(t))for(var n=0,i=t.length;n<i&&!1!==e(t[n],n);n++);else if(a.default(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break}},1353:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(916),c=n(1422);e.default={box:function(t,e,n,i){return s.getBBoxByArray([t,n],[e,i])},length:function(t,e,n,i){return s.distance(t,e,n,i)},pointAt:function(t,e,n,i,r){return{x:(1-r)*t+r*n,y:(1-r)*e+r*i}},pointDistance:function(t,e,n,i,r,o){var a=(n-t)*(r-t)+(i-e)*(o-e);return a<0?s.distance(t,e,r,o):(n-t)*(n-t)+(i-e)*(i-e)<a?s.distance(n,i,r,o):this.pointToLine(t,e,n,i,r,o)},pointToLine:function(t,e,n,i,r,o){var a=[n-t,i-e];if(c.exactEquals(a,[0,0]))return Math.sqrt((r-t)*(r-t)+(o-e)*(o-e));var s=[-a[1],a[0]];c.normalize(s,s);var l=[r-t,o-e];return Math.abs(c.dot(l,s))},tangentAngle:function(t,e,n,i){return Math.atan2(i-e,n-t)}}},1357:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return null==t}},1358:function(t,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.doGroupAppearAnimate=l.doAnimate=l.getDefaultAnimateCfg=l.DEFAULT_ANIMATE_CFG=void 0;var c=e(544),u=e(528),h=e(915),p=e(1658);l.DEFAULT_ANIMATE_CFG={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}};var r={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},f={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){var e=t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy";return{animation:e}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};l.getDefaultAnimateCfg=function(t,e,n){var i=r[t];return i&&(u.isFunction(i)&&(i=i(e)),i=u.deepMix({},l.DEFAULT_ANIMATE_CFG,i),n)?i[n]:i},l.doAnimate=function(t,e,n){var i,r,o,a=u.get(t.get("origin"),"data",h.FIELD_ORIGIN),s=e.animation,l=(i=e,r=a,{delay:u.isFunction(i.delay)?i.delay(r):i.delay,easing:u.isFunction(i.easing)?i.easing(r):i.easing,duration:u.isFunction(i.duration)?i.duration(r):i.duration,callback:i.callback});s?(o=p.getAnimation(s))&&o(t,l,n):t.animate(n.toAttrs,l)},l.doGroupAppearAnimate=function(t,e,n,i,r){var o,a,s;f[n]&&(o=f[n](i),(a=p.getAnimation(u.get(o,"animation","")))&&(s=c.__assign(c.__assign(c.__assign({},l.DEFAULT_ANIMATE_CFG.appear),o),e),t.stopAnimate(),a(t,s,{coordinate:i,minYPoint:r,toAttrs:null})))}},1359:function(t,e,n){"use strict";e.__esModule=!0;var i=o(n(6));e.getTodayTime=s,e.getTitleString=l,e.getTodayTimeStr=function(t){return l(s(t))},e.getMonthName=function(t){var e=t.locale();return t.localeData()["zh-cn"===e?"months":"monthsShort"](t)},e.syncTime=function(t,e){if(!r.default.isMoment(t)||!r.default.isMoment(e))return;e.hour(t.hour()),e.minute(t.minute()),e.second(t.second()),e.millisecond(t.millisecond())},e.getTimeConfig=c,e.isTimeValidByConfig=u,e.isTimeValid=h,e.isAllowedDate=function(t,e,n){if(e&&e(t))return!1;if(n&&!h(t,n))return!1;return!0},e.formatDate=function(t,e){if(!t)return"";Array.isArray(e)&&(e=e[0]);return t.format(e)};var r=o(n(2));function o(t){return t&&t.__esModule?t:{default:t}}var a={disabledHours:function(){return[]},disabledMinutes:function(){return[]},disabledSeconds:function(){return[]}};function s(t){var e=(0,r.default)();return e.locale(t.locale()).utcOffset(t.utcOffset()),e}function l(t){return t.format("LL")}function c(t,e){var n=e?e(t):{};return n=(0,i.default)({},a,n)}function u(t,e){var n,i,r,o=!1;return t&&(n=t.hour(),i=t.minute(),r=t.second(),o=-1!==e.disabledHours().indexOf(n)||(-1!==e.disabledMinutes(n).indexOf(i)||-1!==e.disabledSeconds(n,i).indexOf(r))),!o}function h(t,e){return u(t,c(t,e))}},1360:function(t,e,n){"use strict";n.r(e),n.d(e,"getCoordinate",function(){return m}),n.d(e,"registerCoordinate",function(){return b}),n.d(e,"Coordinate",function(){return o});var s=n(532),h=n(636),p=n(528);function i(t){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=t.start,n=t.end,i=t.matrix,r=void 0===i?[1,0,0,0,1,0,0,0,1]:i,o=t.isTransposed,a=void 0!==o&&o;this.start=e,this.end=n,this.matrix=r,this.originalMatrix=Object(s.__spreadArrays)(r),this.isTransposed=a}var r,o=(i.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},i.prototype.update=function(t){Object(p.assign)(this,t),this.initial()},i.prototype.convertDim=function(t,e){var n,i=this[e],r=i.start,o=i.end;return this.isReflect(e)&&(r=(n=[o,r])[0],o=n[1]),r+t*(o-r)},i.prototype.invertDim=function(t,e){var n,i=this[e],r=i.start,o=i.end;return this.isReflect(e)&&(r=(n=[o,r])[0],o=n[1]),(t-r)/(o-r)},i.prototype.applyMatrix=function(t,e,n){void 0===n&&(n=0);var i=this.matrix,r=[t,e,n];return h.vec3.transformMat3(r,r,i),r},i.prototype.invertMatrix=function(t,e,n){void 0===n&&(n=0);var i=this.matrix,r=h.mat3.invert([0,0,0,0,0,0,0,0,0],i),o=[t,e,n];return r&&h.vec3.transformMat3(o,o,r),o},i.prototype.convert=function(t){var e=this.convertPoint(t),n=e.x,i=e.y,r=this.applyMatrix(n,i,1);return{x:r[0],y:r[1]}},i.prototype.invert=function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})},i.prototype.rotate=function(t){var e=this.matrix,n=this.center;return h.ext.leftTranslate(e,e,[-n.x,-n.y]),h.ext.leftRotate(e,e,t),h.ext.leftTranslate(e,e,[n.x,n.y]),this},i.prototype.reflect=function(t){return"x"===t?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},i.prototype.scale=function(t,e){var n=this.matrix,i=this.center;return h.ext.leftTranslate(n,n,[-i.x,-i.y]),h.ext.leftScale(n,n,[t,e]),h.ext.leftTranslate(n,n,[i.x,i.y]),this},i.prototype.translate=function(t,e){var n=this.matrix;return h.ext.leftTranslate(n,n,[t,e]),this},i.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},i.prototype.getCenter=function(){return this.center},i.prototype.getWidth=function(){return this.width},i.prototype.getHeight=function(){return this.height},i.prototype.getRadius=function(){return this.radius},i.prototype.isReflect=function(t){return"x"===t?this.isReflectX:this.isReflectY},i.prototype.resetMatrix=function(t){this.matrix=t||Object(s.__spreadArrays)(this.originalMatrix)},i);function a(t){var e=r.call(this,t)||this;return e.isRect=!0,e.type="cartesian",e.initial(),e}var c,l=(r=o,Object(s.__extends)(a,r),a.prototype.initial=function(){r.prototype.initial.call(this);var t=this.start,e=this.end;this.x={start:t.x,end:e.x},this.y={start:t.y,end:e.y}},a.prototype.convertPoint=function(t){var e,n=t.x,i=t.y;return this.isTransposed&&(n=(e=[i,n])[0],i=e[1]),{x:this.convertDim(n,"x"),y:this.convertDim(i,"y")}},a.prototype.invertPoint=function(t){var e,n=this.invertDim(t.x,"x"),i=this.invertDim(t.y,"y");return this.isTransposed&&(n=(e=[i,n])[0],i=e[1]),{x:n,y:i}},a);function u(t){var e=c.call(this,t)||this;e.isHelix=!0,e.type="helix";var n=t.startAngle,i=void 0===n?1.25*Math.PI:n,r=t.endAngle,o=void 0===r?7.25*Math.PI:r,a=t.innerRadius,s=void 0===a?0:a,l=t.radius;return e.startAngle=i,e.endAngle=o,e.innerRadius=s,e.radius=l,e.initial(),e}var f,d=(c=o,Object(s.__extends)(u,c),u.prototype.initial=function(){c.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,e=Math.min(this.width,this.height)/2;this.radius&&0<=this.radius&&this.radius<=1&&(e*=this.radius),this.d=Math.floor(e*(1-this.innerRadius)/t),this.a=this.d/(2*Math.PI),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*e,end:this.innerRadius*e+.99*this.d}},u.prototype.convertPoint=function(t){var e,n=t.x,i=t.y;this.isTransposed&&(n=(e=[i,n])[0],i=e[1]);var r=this.convertDim(n,"x"),o=this.a*r,a=this.convertDim(i,"y");return{x:this.center.x+Math.cos(r)*(o+a),y:this.center.y+Math.sin(r)*(o+a)}},u.prototype.invertPoint=function(t){var e,n=this.d+this.y.start,i=h.vec2.subtract([0,0],[t.x,t.y],[this.center.x,this.center.y]),r=(o=h.ext.angleTo(i,[1,0],!0))*this.a;h.vec2.length(i)<r&&(r=h.vec2.length(i));var o=2*Math.floor((h.vec2.length(i)-r)/n)*Math.PI+o,a=this.a*o,s=h.vec2.length(i)-a,s=Object(p.isNumberEqual)(s,0)?0:s,l=this.invertDim(o,"x"),c=this.invertDim(s,"y"),l=Object(p.isNumberEqual)(l,0)?0:l,c=Object(p.isNumberEqual)(c,0)?0:c;return this.isTransposed&&(l=(e=[c,l])[0],c=e[1]),{x:l,y:c}},u);function g(t){var e=f.call(this,t)||this;e.isPolar=!0,e.type="polar";var n=t.startAngle,i=void 0===n?-Math.PI/2:n,r=t.endAngle,o=void 0===r?3*Math.PI/2:r,a=t.innerRadius,s=void 0===a?0:a,l=t.radius;return e.startAngle=i,e.endAngle=o,e.innerRadius=s,e.radius=l,e.initial(),e}var y=(f=o,Object(s.__extends)(g,f),g.prototype.initial=function(){for(f.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=2*Math.PI;var t,e=this.getOneBox(),n=e.maxX-e.minX,i=e.maxY-e.minY,r=Math.abs(e.minX)/n,o=Math.abs(e.minY)/i;this.height/i>this.width/n?(t=this.width/n,this.circleCenter={x:this.center.x-(.5-r)*this.width,y:this.center.y-(.5-o)*t*i}):(t=this.height/i,this.circleCenter={x:this.center.x-(.5-r)*t*n,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?0<this.radius&&this.radius<=1?this.polarRadius=t*this.radius:(this.radius<=0||this.radius>t)&&(this.polarRadius=t):this.polarRadius=t,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},g.prototype.getRadius=function(){return this.polarRadius},g.prototype.convertPoint=function(t){var e,n=this.getCenter(),i=t.x,r=t.y;return this.isTransposed&&(i=(e=[r,i])[0],r=e[1]),i=this.convertDim(i,"x"),r=this.convertDim(r,"y"),{x:n.x+Math.cos(i)*r,y:n.y+Math.sin(i)*r}},g.prototype.invertPoint=function(t){var e=this.getCenter(),n=[t.x-e.x,t.y-e.y],i=[1,0,0,0,1,0,0,0,1];h.ext.leftRotate(i,i,this.startAngle);var r=[1,0,0];h.vec3.transformMat3(r,r,i);var o=[r[0],r[1]],a=h.ext.angleTo(o,n,this.endAngle<this.startAngle);Object(p.isNumberEqual)(a,2*Math.PI)&&(a=0);var s=h.vec2.length(n),l=a/(this.endAngle-this.startAngle),l=0<this.endAngle-this.startAngle?l:-l,c=this.invertDim(s,"y"),u={x:0,y:0};return u.x=this.isTransposed?c:l,u.y=this.isTransposed?l:c,u},g.prototype.getCenter=function(){return this.circleCenter},g.prototype.getOneBox=function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],i=[0,Math.sin(t),Math.sin(e)],r=Math.min(t,e);r<Math.max(t,e);r+=Math.PI/18)n.push(Math.cos(r)),i.push(Math.sin(r));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,i),maxY:Math.max.apply(Math,i)}},g),v={},m=function(t){return v[t.toLowerCase()]},b=function(t,e){v[t.toLowerCase()]=e};b("rect",l),b("cartesian",l),b("polar",y),b("helix",d)},1364:function(t,e,n){},1365:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1418);e.default=function(t){return i.default(t,"Function")}},1366:function(t,e,n){"use strict";n.r(e),n.d(e,"assign",function(){return O}),n.d(e,"format",function(){return k}),n.d(e,"parse",function(){return T}),n.d(e,"defaultI18n",function(){return f}),n.d(e,"setGlobalDateI18n",function(){return d}),n.d(e,"setGlobalDateMasks",function(){return M});var b=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,i="[1-9]\\d?",r="\\d\\d",o="[^\\s]+",x=/\[([^]*?)\]/gm;function a(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n.push(t[i].substr(0,e));return n}function s(i){return function(t,e){var n=e[i].map(function(t){return t.toLowerCase()}).indexOf(t.toLowerCase());return-1<n?n:null}}function O(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,r=e;i<r.length;i++){var o=r[i];for(var a in o)t[a]=o[a]}return t}function l(t,e){for(void 0===e&&(e=2),t=String(t);t.length<e;)t="0"+t;return t}function c(t){return t-1}var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h=["January","February","March","April","May","June","July","August","September","October","November","December"],p=a(h,3),f={dayNamesShort:a(u,3),dayNames:u,monthNamesShort:p,monthNames:h,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][3<t%10?0:(t-t%10!=10?1:0)*t%10]}},w=O({},f),d=function(t){return w=O(w,t)},_=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},g={D:function(t){return String(t.getDate())},DD:function(t){return l(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return l(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return l(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return l(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return l(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return l(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return l(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return l(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return l(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return l(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return l(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(0<e?"-":"+")+l(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)},Z:function(t){var e=t.getTimezoneOffset();return(0<e?"-":"+")+l(Math.floor(Math.abs(e)/60),2)+":"+l(Math.abs(e)%60,2)}},y=[null,i],v=[null,o],m=["isPm",o,function(t,e){var n=t.toLowerCase();return n===e.amPm[0]?0:n===e.amPm[1]?1:null}],C=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var e=(t+"").match(/([+-]|\d\d)/gi);if(e){var n=60*e[1]+parseInt(e[2],10);return"+"===e[0]?n:-n}return 0}],j={D:["day",i],DD:["day",r],Do:["day",i+o,function(t){return parseInt(t,10)}],M:["month",i,c],MM:["month",r,c],YY:["year",r,function(t){var e=+(""+(new Date).getFullYear()).substr(0,2);return+(""+(68<+t?e-1:e)+t)}],h:["hour",i,void 0,"isPm"],hh:["hour",r,void 0,"isPm"],H:["hour",i],HH:["hour",r],m:["minute",i],mm:["minute",r],s:["second",i],ss:["second",r],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(t){return 100*t}],SS:["millisecond",r,function(t){return 10*t}],SSS:["millisecond","\\d{3}"],d:y,dd:y,ddd:v,dddd:v,MMM:["month",o,s("monthNamesShort")],MMMM:["month",o,s("monthNames")],a:m,A:m,ZZ:C,Z:C},S={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},M=function(t){return O(S,t)},k=function(e,t,n){if(void 0===t&&(t=S.default),void 0===n&&(n={}),"number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");t=S[t]||t;var i=[];t=t.replace(x,function(t,e){return i.push(e),"@@@"});var r=O(O({},w),n);return(t=t.replace(b,function(t){return g[t](e,r)})).replace(/@@@/g,function(){return i.shift()})};function T(t,e,n){if(void 0===n&&(n={}),"string"!=typeof e)throw new Error("Invalid format in fecha parse");if(e=S[e]||e,1e3<t.length)return null;var i={year:(new Date).getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},o=[],r=[],a=e.replace(x,function(t,e){return r.push(_(e)),"@@@"}),s={},l={},a=_(a).replace(b,function(t){var e=j[t],n=e[0],i=e[1],r=e[3];if(s[n])throw new Error("Invalid format. "+n+" specified twice in format");return s[n]=!0,r&&(l[r]=!0),o.push(e),"("+i+")"});Object.keys(l).forEach(function(t){if(!s[t])throw new Error("Invalid format. "+t+" is required in specified format")}),a=a.replace(/@@@/g,function(){return r.shift()});var c=t.match(new RegExp(a,"i"));if(!c)return null;for(var u=O(O({},w),n),h=1;h<c.length;h++){var p=o[h-1],f=p[0],d=p[2],g=d?d(c[h],u):+c[h];if(null==g)return null;i[f]=g}1===i.isPm&&null!=i.hour&&12!=+i.hour?i.hour=+i.hour+12:0===i.isPm&&12==+i.hour&&(i.hour=0);for(var y=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond),v=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],h=0,m=v.length;h<m;h++)if(s[v[h][0]]&&i[v[h][0]]!==y[v[h][1]]())return null;return null==i.timezoneOffset?y:new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond))}var P={format:k,parse:T,defaultI18n:f,setGlobalDateI18n:d,setGlobalDateMasks:M};e.default=P},1367:function(t,e,n){"use strict";n.r(e);var i,r=n(36),s=n.n(r),o=n(33),l=n.n(o),a=n(6),c=n.n(a),u=n(11),h=n.n(u),p=n(21),f=n.n(p),d=n(12),g=n.n(d),y=n(13),v=n.n(y),m=n(0),b=n.n(m),x=n(1),O=n.n(x),w=n(7),_=n.n(w),C=n(65),j=n(155),S=n(9),M=n.n(S),k=(i=m.Component,v()(T,i),f()(T,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(t){this.props.duration===t.duration&&!this.props.update||this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var t,e=this.props,n=e.prefixCls+"-notice",i=(t={},l()(t,n,1),l()(t,n+"-closable",e.closable),l()(t,e.className,!!e.className),t);return b.a.createElement("div",{className:M()(i),style:e.style,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:e.onClick},b.a.createElement("div",{className:n+"-content"},e.children),e.closable?b.a.createElement("a",{tabIndex:"0",onClick:this.close,className:n+"-close"},e.closeIcon||b.a.createElement("span",{className:n+"-close-x"})):null)}}]),T);function T(){var t,e,n,i;h()(this,T);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=n=g()(this,(t=T.__proto__||Object.getPrototypeOf(T)).call.apply(t,[this].concat(o)))).close=function(t){t&&t.stopPropagation(),n.clearCloseTimer(),n.props.onClose()},n.startCloseTimer=function(){n.props.duration&&(n.closeTimer=setTimeout(function(){n.close()},1e3*n.props.duration))},n.clearCloseTimer=function(){n.closeTimer&&(clearTimeout(n.closeTimer),n.closeTimer=null)},i=e,g()(n,i)}k.propTypes={duration:O.a.number,onClose:O.a.func,children:O.a.any,update:O.a.bool,closeIcon:O.a.node},k.defaultProps={onEnd:function(){},onClose:function(){},duration:1.5,style:{right:"50%"}};var P=k,A=0,E=Date.now();var L,I=(L=m.Component,v()(B,L),f()(B,[{key:"getTransitionName",value:function(){var t=this.props,e=t.transitionName;return!e&&t.animation&&(e=t.prefixCls+"-"+t.animation),e}},{key:"render",value:function(){var t,o=this,a=this.props,s=this.state.notices,e=s.map(function(t,e){var n=Boolean(e===s.length-1&&t.updateKey),i=t.updateKey?t.updateKey:t.key,r=Object(j.a)(o.remove.bind(o,t.key),t.onClose);return b.a.createElement(P,c()({prefixCls:a.prefixCls},t,{key:i,update:n,onClose:r,onClick:t.onClick,closeIcon:a.closeIcon}),t.content)}),n=(t={},l()(t,a.prefixCls,1),l()(t,a.className,!!a.className),t);return b.a.createElement("div",{className:M()(n),style:a.style},b.a.createElement(C.default,{transitionName:this.getTransitionName()},e))}}]),B);function B(){var t,e,n,i;h()(this,B);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=n=g()(this,(t=B.__proto__||Object.getPrototypeOf(B)).call.apply(t,[this].concat(o)))).state={notices:[]},n.add=function(r){var o=r.key=r.key||"rcNotification_"+E+"_"+A++,a=n.props.maxCount;n.setState(function(t){var e=t.notices,n=e.map(function(t){return t.key}).indexOf(o),i=e.concat();return-1!==n?i.splice(n,1,r):(a&&e.length>=a&&(r.updateKey=i[0].updateKey||i[0].key,i.shift()),i.push(r)),{notices:i}})},n.remove=function(e){n.setState(function(t){return{notices:t.notices.filter(function(t){return t.key!==e})}})},i=e,g()(n,i)}I.propTypes={prefixCls:O.a.string,transitionName:O.a.string,animation:O.a.oneOfType([O.a.string,O.a.object]),style:O.a.object,maxCount:O.a.number,closeIcon:O.a.node},I.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},I.newInstance=function(t,n){var e=t||{},i=e.getContainer,r=s()(e,["getContainer"]),o=document.createElement("div");i?i().appendChild(o):document.body.appendChild(o);var a=!1;_.a.render(b.a.createElement(I,c()({},r,{ref:function(e){a||(a=!0,n({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){_.a.unmountComponentAtNode(o),o.parentNode.removeChild(o)}}))}})),o)};e.default=I},1380:function(t,e,n){"use strict";n(32),n(1413),n(114)},1384:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return o});var i=1e-6,r="undefined"!=typeof Float32Array?Float32Array:Array,o=Math.random;Math.PI;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)})},1385:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1620);e.Adjust=i.default;function r(t){return o[t.toLowerCase()]}var o={};e.getAdjust=r;e.registerAdjust=function(t,e){if(r(t))throw new Error("Adjust type '"+t+"' existed.");o[t.toLowerCase()]=e}},1386:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){return(t%e+e)%e}},1387:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Math.PI/180;e.default=function(t){return i*t}},1388:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CROSSHAIR_Y=e.CROSSHAIR_X=e.NAME_CLASS=e.VALUE_CLASS=e.MARKER_CLASS=e.LIST_ITEM_CLASS=e.LIST_CLASS=e.TITLE_CLASS=e.CONTAINER_CLASS=void 0,e.CONTAINER_CLASS="g2-tooltip",e.TITLE_CLASS="g2-tooltip-title",e.LIST_CLASS="g2-tooltip-list",e.LIST_ITEM_CLASS="g2-tooltip-list-item",e.MARKER_CLASS="g2-tooltip-marker",e.VALUE_CLASS="g2-tooltip-value",e.NAME_CLASS="g2-tooltip-name",e.CROSSHAIR_X="g2-tooltip-crosshair-x",e.CROSSHAIR_Y="g2-tooltip-crosshair-y"},1389:function(t,e,n){"use strict";n.r(e),n.d(e,"Base",function(){return p}),n.d(e,"Circle",function(){return g}),n.d(e,"Ellipse",function(){return b}),n.d(e,"Image",function(){return w}),n.d(e,"Line",function(){return A}),n.d(e,"Marker",function(){return F}),n.d(e,"Path",function(){return it}),n.d(e,"Polygon",function(){return st}),n.d(e,"Polyline",function(){return pt}),n.d(e,"Rect",function(){return yt}),n.d(e,"Text",function(){return bt});var i={};n.r(i),n.d(i,"Base",function(){return p}),n.d(i,"Circle",function(){return g}),n.d(i,"Ellipse",function(){return b}),n.d(i,"Image",function(){return w}),n.d(i,"Line",function(){return A}),n.d(i,"Marker",function(){return F}),n.d(i,"Path",function(){return it}),n.d(i,"Polygon",function(){return st}),n.d(i,"Polyline",function(){return pt}),n.d(i,"Rect",function(){return yt}),n.d(i,"Text",function(){return bt});var r,o=n(532),a=n(698),T=n(902),s=n(1390),l=n(1500),c=n(1403);function u(){return null!==r&&r.apply(this,arguments)||this}var h,p=(r=a.AbstractShape,Object(o.__extends)(u,r),u.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},u.prototype.getShapeBase=function(){return i},u.prototype.getGroupBase=function(){return c.a},u.prototype.onCanvasChange=function(t){Object(s.f)(this,t)},u.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),n=Object(l.getBBoxMethod)(t)(this),i=e/2,r=n.x-i,o=n.y-i,a=n.x+n.width+i,s=n.y+n.height+i;return{x:r,minX:r,y:o,minY:o,width:n.width+e,height:n.height+e,maxX:a,maxY:s}},u.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},u.prototype.isStroke=function(){return!!this.attrs.stroke},u.prototype._applyClip=function(t,e){e&&(t.save(),Object(s.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},u.prototype.draw=function(t,e){var n=this.getClip();if(e){var i=n?Object(s.d)([this,n]):this.getCanvasBBox();if(!Object(T.f)(e,i))return void this.set("hasChanged",!1)}t.save(),Object(s.a)(t,this),this._applyClip(t,this.getClip()),this.drawPath(t),t.restore(),this._afterDraw()},u.prototype._afterDraw=function(){var t,e=this.getCanvasBBox(),n=this.getCanvas();this.set("cacheCanvasBBox",e),n&&(t=n.getViewRange(),this.set("isInView",Object(T.f)(e,t))),this.set("hasChanged",!1)},u.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},u.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},u.prototype.fill=function(t){t.fill()},u.prototype.stroke=function(t){t.stroke()},u.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,i=e.opacity,r=e.strokeOpacity,o=e.fillOpacity;this.isFill()&&(Object(T.i)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=i)),this.isStroke()&&0<n&&(Object(T.i)(r)||1===r||(t.globalAlpha=r),this.stroke(t)),this.afterDrawPath(t)},u.prototype.createPath=function(t){},u.prototype.afterDrawPath=function(t){},u.prototype.isInShape=function(t,e){var n=this.isStroke(),i=this.isFill(),r=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,n,i,r)},u.prototype.isInStrokeOrPath=function(t,e,n,i,r){return!1},u.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},u);function f(){return null!==h&&h.apply(this,arguments)||this}var d,g=(h=p,Object(o.__extends)(f,h),f.prototype.getDefaultAttrs=function(){var t=h.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{x:0,y:0,r:0})},f.prototype.isInStrokeOrPath=function(t,e,n,i,r){var o=this.attr(),a=o.x,s=o.y,l=o.r,c=r/2,u=Object(T.b)(a,s,t,e);return i&&n?u<=l+c:i?u<=l:!!n&&(l-c<=u&&u<=l+c)},f.prototype.createPath=function(t){var e=this.attr(),n=e.x,i=e.y,r=e.r;t.beginPath(),t.arc(n,i,r,0,2*Math.PI,!1),t.closePath()},f);function y(t,e,n,i){return t/(n*n)+e/(i*i)}function v(){return null!==d&&d.apply(this,arguments)||this}var m,b=(d=p,Object(o.__extends)(v,d),v.prototype.getDefaultAttrs=function(){var t=d.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{x:0,y:0,rx:0,ry:0})},v.prototype.isInStrokeOrPath=function(t,e,n,i,r){var o=this.attr(),a=r/2,s=o.x,l=o.y,c=o.rx,u=o.ry,h=(t-s)*(t-s),p=(e-l)*(e-l);return i&&n?y(h,p,c+a,u+a)<=1:i?y(h,p,c,u)<=1:!!n&&(1<=y(h,p,c-a,u-a)&&y(h,p,c+a,u+a)<=1)},v.prototype.createPath=function(t){var e,n,i,r=this.attr(),o=r.x,a=r.y,s=r.rx,l=r.ry;t.beginPath(),t.ellipse?t.ellipse(o,a,s,l,0,0,2*Math.PI,!1):(e=l<s?s:l,n=l<s?1:s/l,i=l<s?l/s:1,t.save(),t.translate(o,a),t.scale(n,i),t.arc(0,0,e,0,2*Math.PI),t.restore(),t.closePath())},v);function x(t){return t instanceof HTMLElement&&Object(T.k)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}function O(){return null!==m&&m.apply(this,arguments)||this}var w=(m=p,Object(o.__extends)(O,m),O.prototype.getDefaultAttrs=function(){var t=m.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{x:0,y:0,width:0,height:0})},O.prototype.initAttrs=function(t){this._setImage(t.img)},O.prototype.isStroke=function(){return!1},O.prototype.isOnlyHitBox=function(){return!0},O.prototype._afterLoading=function(){var t;!0===this.get("toDraw")&&((t=this.get("canvas"))?t.draw():this.createPath(this.get("context")))},O.prototype._setImage=function(t){var e,n=this,i=this.attrs;Object(T.k)(t)?((e=new Image).onload=function(){if(n.destroyed)return!1;n.attr("img",e),n.set("loading",!1),n._afterLoading();var t=n.get("callback");t&&t.call(n)},e.src=t,e.crossOrigin="Anonymous",this.set("loading",!0)):t instanceof Image?(i.width||(i.width=t.width),i.height||(i.height=t.height)):x(t)&&(i.width||(i.width=Number(t.getAttribute("width"))),i.height||(i.height,Number(t.getAttribute("height"))))},O.prototype.onAttrChange=function(t,e,n){m.prototype.onAttrChange.call(this,t,e,n),"img"===t&&this._setImage(e)},O.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),n=e.x,i=e.y,r=e.width,o=e.height,a=e.sx,s=e.sy,l=e.swidth,c=e.sheight,u=e.img;(u instanceof Image||x(u))&&(Object(T.i)(a)||Object(T.i)(s)||Object(T.i)(l)||Object(T.i)(c)?t.drawImage(u,n,i,r,o):t.drawImage(u,a,s,l,c,n,i,r,o))},O),_=n(1353),C=n.n(_);function P(t,e,n,i,r,o,a){var s=Math.min(t,n),l=Math.max(t,n),c=Math.min(e,i),u=Math.max(e,i),h=r/2;return s-h<=o&&o<=l+h&&c-h<=a&&a<=u+h&&C.a.pointToLine(t,e,n,i,o,a)<=r/2}var j,S=n(1402);function M(){return null!==j&&j.apply(this,arguments)||this}var k,A=(j=p,Object(o.__extends)(M,j),M.prototype.getDefaultAttrs=function(){var t=j.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},M.prototype.initAttrs=function(t){this.setArrow()},M.prototype.onAttrChange=function(t,e,n){j.prototype.onAttrChange.call(this,t,e,n),this.setArrow()},M.prototype.setArrow=function(){var t=this.attr(),e=t.x1,n=t.y1,i=t.x2,r=t.y2,o=t.startArrow,a=t.endArrow;o&&S.b(this,t,i,r,e,n),a&&S.a(this,t,e,n,i,r)},M.prototype.isInStrokeOrPath=function(t,e,n,i,r){if(!n||!r)return!1;var o=this.attr();return P(o.x1,o.y1,o.x2,o.y2,r,t,e)},M.prototype.createPath=function(t){var e=this.attr(),n=e.x1,i=e.y1,r=e.x2,o=e.y2,a=e.startArrow,s=e.endArrow,l={dx:0,dy:0},c={dx:0,dy:0};a&&a.d&&(l=S.c(n,i,r,o,e.startArrow.d)),s&&s.d&&(c=S.c(n,i,r,o,e.endArrow.d)),t.beginPath(),t.moveTo(n+l.dx,i+l.dy),t.lineTo(r-c.dx,o-c.dy)},M.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},M.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,i=t.x2,r=t.y2;return C.a.length(e,n,i,r)},M.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,i=e.y1,r=e.x2,o=e.y2;return C.a.pointAt(n,i,r,o,t)},M),E=n(528),L=n(1508),I=n.n(L),B={circle:function(t,e,n){return[["M",t-n,e],["A",n,n,0,1,0,t+n,e],["A",n,n,0,1,0,t-n,e]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+i],["L",t,e-i],["L",t+n,e+i],["Z"]]},"triangle-down":function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-i],["L",t+n,e-i],["L",t,e+i],["Z"]]}};function D(){return null!==k&&k.apply(this,arguments)||this}var F=(k=p,Object(o.__extends)(D,k),D.prototype.initAttrs=function(t){this._resetParamsCache()},D.prototype._resetParamsCache=function(){this.set("paramsCache",{})},D.prototype.onAttrChange=function(t,e,n){k.prototype.onAttrChange.call(this,t,e,n),-1!==["symbol","x","y","r","radius"].indexOf(t)&&this._resetParamsCache()},D.prototype.isOnlyHitBox=function(){return!0},D.prototype._getR=function(t){return Object(E.isNil)(t.r)?t.radius:t.r},D.prototype._getPath=function(){var t,e=this.attr(),n=e.x,i=e.y,r=e.symbol||"circle",o=this._getR(e),a=Object(T.h)(r)?(a=(t=r)(n,i,o),I()(a)):(t=D.Symbols[r])(n,i,o);return t?a:(console.warn(r+" marker is not supported."),null)},D.prototype.createPath=function(t){var e=this._getPath(),n=this.get("paramsCache");Object(s.c)(this,t,{path:e},n)},D.Symbols=B,D),R=n(1428),N=n.n(R),Y=n(1506),V=n.n(Y),X=n(1503);function G(t,e,n){var i=Object(X.getOffScreenContext)();return t.createPath(i),i.isPointInPath(e,n)}var z=1e-6;function H(t){return Math.abs(t)<z?0:t<0?-1:1}function W(t,e,n){var i=!1,r=t.length;if(r<=2)return!1;for(var o,a,s,l=0;l<r;l++){var c=t[l],u=t[(l+1)%r];if(a=u,((s=[e,n])[0]-(o=c)[0])*(a[1]-o[1])==(a[0]-o[0])*(s[1]-o[1])&&Math.min(o[0],a[0])<=s[0]&&s[0]<=Math.max(o[0],a[0])&&Math.min(o[1],a[1])<=s[1]&&s[1]<=Math.max(o[1],a[1]))return!0;0<H(c[1]-n)!=0<H(u[1]-n)&&H(e-(n-c[1])*(c[0]-u[0])/(c[1]-u[1])-c[0])<0&&(i=!i)}return i}var q=n(1504),U=n.n(q);function K(t,e,n,i,r,o,a,s){var l=(Math.atan2(s-e,a-t)+2*Math.PI)%(2*Math.PI);if(l<i||r<l)return!1;var c={x:t+n*Math.cos(l),y:e+n*Math.sin(l)};return Object(T.b)(c.x,c.y,a,s)<=o/2}var Z=n(1421),$=n(1423);var Q,J=Object(o.__assign)({hasArc:function(t){for(var e=!1,n=t.length,i=0;i<n;i++){var r=t[i][0];if("C"===r||"A"===r||"Q"===r){e=!0;break}}return e},extractPolygons:function(t){for(var e=t.length,n=[],i=[],r=[],o=0;o<e;o++){var a=t[o],s=a[0];"M"===s?(r.length&&(i.push(r),r=[]),r.push([a[1],a[2]])):"Z"===s?r.length&&(n.push(r),r=[]):r.push([a[1],a[2]])}return 0<r.length&&i.push(r),{polygons:n,polylines:i}},isPointInStroke:function(t,e,n,i){for(var r=!1,o=e/2,a=0;a<t.length;a++){var s=t[a],l=s.currentPoint,c=s.params,u=s.prePoint,h=s.box;if(!h||Object(T.e)(h.x-o,h.y-o,h.width+e,h.height+e,n,i)){switch(s.command){case"L":case"Z":r=P(u[0],u[1],l[0],l[1],e,n,i);break;case"Q":r=U.a.pointDistance(u[0],u[1],c[1],c[2],c[3],c[4],n,i)<=e/2;break;case"C":r=N.a.pointDistance(u[0],u[1],c[1],c[2],c[3],c[4],c[5],c[6],n,i)<=e/2;break;case"A":var p=s.arcParams,f=p.cx,d=p.cy,g=p.rx,y=p.ry,v=p.startAngle,m=p.endAngle,b=p.xRotation,x=[n,i,1],O=[1,0,0,0,1,0,0,0,1],w=y<g?g:y,_=y<g?1:g/y,C=y<g?y/g:1;Z.translate(O,O,[-f,-d]),Z.rotate(O,O,-b),Z.scale(O,O,[1/_,1/C]),$.transformMat3(x,x,O),r=K(0,0,w,v,m,e,x[0],x[1])}if(r)break}}return r}},a.PathUtil);function tt(t,e,n){for(var i=!1,r=0;r<t.length;r++){if(i=W(t[r],e,n))break}return i}function et(){return null!==Q&&Q.apply(this,arguments)||this}var nt,it=(Q=p,Object(o.__extends)(et,Q),et.prototype.getDefaultAttrs=function(){var t=Q.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{startArrow:!1,endArrow:!1})},et.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},et.prototype.onAttrChange=function(t,e,n){Q.prototype.onAttrChange.call(this,t,e,n),"path"===t&&this._setPathArr(e),this.setArrow()},et.prototype._setPathArr=function(t){this.attrs.path=I()(t);var e=J.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},et.prototype.getSegments=function(){var t=this.get("segements");return t||(t=V()(this.attr("path")),this.set("segments",t)),t},et.prototype.setArrow=function(){var t,e=this.attr(),n=e.startArrow,i=e.endArrow;n&&(t=this.getStartTangent(),S.b(this,e,t[0][0],t[0][1],t[1][0],t[1][1])),i&&(t=this.getEndTangent(),S.a(this,e,t[0][0],t[0][1],t[1][0],t[1][1]))},et.prototype.isInStrokeOrPath=function(t,e,n,i,r){var o,a,s=this.getSegments(),l=this.get("hasArc"),c=!1;return n&&(c=J.isPointInStroke(s,r,t,e)),!c&&i&&(c=l?G(this,t,e):(o=this.attr("path"),tt((a=J.extractPolygons(o)).polygons,t,e)||tt(a.polylines,t,e))),c},et.prototype.createPath=function(t){var e=this.attr(),n=this.get("paramsCache");Object(s.c)(this,t,e,n)},et.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},et.prototype.getTotalLength=function(){var t=this.get("totalLength");return Object(E.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},et.prototype.getPoint=function(n){var i,r,t=this.get("tCache");t||(this._calculateCurve(),this._setTcache(),t=this.get("tCache"));var e=this.get("curve");if(!t||0===t.length)return e?{x:e[0][1],y:e[0][2]}:null;Object(E.each)(t,function(t,e){n>=t[0]&&n<=t[1]&&(i=(n-t[0])/(t[1]-t[0]),r=e)});var o=e[r];if(Object(E.isNil)(o)||Object(E.isNil)(r))return null;var a=o.length,s=e[r+1];return N.a.pointAt(o[a-2],o[a-1],s[1],s[2],s[3],s[4],s[5],s[6],i)},et.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",J.pathToCurve(t))},et.prototype._setTcache=function(){var n,i,r,o,a=0,s=0,l=[],c=this.get("curve");c&&(Object(E.each)(c,function(t,e){r=c[e+1],o=t.length,r&&(a+=N.a.length(t[o-2],t[o-1],r[1],r[2],r[3],r[4],r[5],r[6])||0)}),this.set("totalLength",a),0!==a?(Object(E.each)(c,function(t,e){r=c[e+1],o=t.length,r&&((n=[])[0]=s/a,i=N.a.length(t[o-2],t[o-1],r[1],r[2],r[3],r[4],r[5],r[6]),s+=i||0,n[1]=s/a,l.push(n))}),this.set("tCache",l)):this.set("tCache",[]))},et.prototype.getStartTangent=function(){var t,e,n,i,r=this.getSegments();return 1<r.length&&(t=r[0].currentPoint,e=r[1].currentPoint,i=[],(n=r[1].startTangent)?i.push([t[0]-n[0],t[1]-n[1]]):i.push([e[0],e[1]]),i.push([t[0],t[1]])),i},et.prototype.getEndTangent=function(){var t,e,n,i,r=this.getSegments(),o=r.length;return 1<o&&(t=r[o-2].currentPoint,e=r[o-1].currentPoint,i=[],(n=r[o-1].endTangent)?i.push([e[0]-n[0],e[1]-n[1]]):i.push([t[0],t[1]]),i.push([e[0],e[1]])),i},et);function rt(t,e,n,i,r){var o=t.length;if(o<2)return!1;for(var a=0;a<o-1;a++){if(P(t[a][0],t[a][1],t[a+1][0],t[a+1][1],e,n,i))return!0}if(r){var s=t[0],l=t[o-1];if(P(s[0],s[1],l[0],l[1],e,n,i))return!0}return!1}function ot(){return null!==nt&&nt.apply(this,arguments)||this}var at,st=(nt=p,Object(o.__extends)(ot,nt),ot.prototype.isInStrokeOrPath=function(t,e,n,i,r){var o=this.attr().points,a=!1;return n&&(a=rt(o,r,t,e,!0)),!a&&i&&(a=W(o,t,e)),a},ot.prototype.createPath=function(t){var e=this.attr().points;if(!(e.length<2)){t.beginPath();for(var n=0;n<e.length;n++){var i=e[n];0===n?t.moveTo(i[0],i[1]):t.lineTo(i[0],i[1])}t.closePath()}},ot),lt=n(1509),ct=n.n(lt);function ut(){return null!==at&&at.apply(this,arguments)||this}var ht,pt=(at=p,Object(o.__extends)(ut,at),ut.prototype.getDefaultAttrs=function(){var t=at.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{startArrow:!1,endArrow:!1})},ut.prototype.initAttrs=function(t){this.setArrow()},ut.prototype.onAttrChange=function(t,e,n){at.prototype.onAttrChange.call(this,t,e,n),this.setArrow(),-1!==["points"].indexOf(t)&&this._resetCache()},ut.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},ut.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,n=e.points,i=e.startArrow,r=e.endArrow,o=n.length,a=n[0][0],s=n[0][1],l=n[o-1][0],c=n[o-1][1];i&&S.b(this,t,n[1][0],n[1][1],a,s),r&&S.a(this,t,n[o-2][0],n[o-2][1],l,c)},ut.prototype.isFill=function(){return!1},ut.prototype.isInStrokeOrPath=function(t,e,n,i,r){return!(!n||!r)&&rt(this.attr().points,r,t,e,!1)},ut.prototype.isStroke=function(){return!0},ut.prototype.createPath=function(t){var e=this.attr(),n=e.points,i=e.startArrow,r=e.endArrow,o=n.length;if(!(n.length<2)){var a,s=n[0][0],l=n[0][1],c=n[o-1][0],u=n[o-1][1];i&&i.d&&(s+=(a=S.c(s,l,n[1][0],n[1][1],i.d)).dx,l+=a.dy),r&&r.d&&(c-=(a=S.c(n[o-2][0],n[o-2][1],c,u,r.d)).dx,u-=a.dy),t.beginPath(),t.moveTo(s,l);for(var h=0;h<o-1;h++){var p=n[h];t.lineTo(p[0],p[1])}t.lineTo(c,u)}},ut.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),n=this.get("endArrowShape");e&&e.draw(t),n&&n.draw(t)},ut.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(E.isNil)(e)?(this.set("totalLength",ct.a.length(t)),this.get("totalLength")):e},ut.prototype.getPoint=function(n){var i,r,t=this.attr().points,e=this.get("tCache");return e||(this._setTcache(),e=this.get("tCache")),Object(E.each)(e,function(t,e){n>=t[0]&&n<=t[1]&&(i=(n-t[0])/(t[1]-t[0]),r=e)}),C.a.pointAt(t[r][0],t[r][1],t[r+1][0],t[r+1][1],i)},ut.prototype._setTcache=function(){var n,i,r,o,a,s=this.attr().points;s&&0!==s.length&&((n=this.getTotalLength())<=0||(i=0,r=[],Object(E.each)(s,function(t,e){s[e+1]&&((o=[])[0]=i/n,a=C.a.length(t[0],t[1],s[e+1][0],s[e+1][1]),i+=a,o[1]=i/n,r.push(o))}),this.set("tCache",r)))},ut.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},ut.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},ut),ft=n(1499);function dt(){return null!==ht&&ht.apply(this,arguments)||this}var gt,yt=(ht=p,Object(o.__extends)(dt,ht),dt.prototype.getDefaultAttrs=function(){var t=ht.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},dt.prototype.isInStrokeOrPath=function(t,e,n,i,r){var o=this.attr(),a=o.x,s=o.y,l=o.width,c=o.height,u=o.radius;if(u){var h=!1;return n&&(g=c,h=P((p=a)+(y=u),f=s,p+(d=l)-y,f,v=r,m=t,b=e)||P(p+d,f+y,p+d,f+g-y,v,m,b)||P(p+d-y,f+g,p+y,f+g,v,m,b)||P(p,f+g-y,p,f+y,v,m,b)||K(p+d-y,f+y,y,1.5*Math.PI,2*Math.PI,v,m,b)||K(p+d-y,f+g-y,y,0,.5*Math.PI,v,m,b)||K(p+y,f+g-y,y,.5*Math.PI,Math.PI,v,m,b)||K(p+y,f+y,y,Math.PI,1.5*Math.PI,v,m,b)),!h&&i&&(h=G(this,t,e)),h}var p,f,d,g,y,v,m,b,x,O,w,_,C,j,S,M,k=r/2;return i&&n?Object(T.e)(a-k,s-k,l+k,c+k,t,e):i?Object(T.e)(a,s,l,c,t,e):n?(x=a,O=s,w=l,_=c,j=t,S=e,M=(C=r)/2,Object(T.e)(x-M,O-M,w,C,j,S)||Object(T.e)(x+w-M,O-M,C,_,j,S)||Object(T.e)(x+M,O+_-M,w,C,j,S)||Object(T.e)(x-M,O+M,C,_,j,S)):void 0},dt.prototype.createPath=function(t){var e,n,i,r,o,a=this.attr(),s=a.x,l=a.y,c=a.width,u=a.height,h=a.radius;t.beginPath(),0===h?t.rect(s,l,c,u):(n=(e=Object(ft.a)(h))[0],i=e[1],r=e[2],o=e[3],t.moveTo(s+n,l),t.lineTo(s+c-i,l),0!==i&&t.arc(s+c-i,l+i,i,-Math.PI/2,0),t.lineTo(s+c,l+u-r),0!==r&&t.arc(s+c-r,l+u-r,r,0,Math.PI/2),t.lineTo(s+o,l+u),0!==o&&t.arc(s+o,l+u-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI),t.closePath())},dt),vt=n(1501);function mt(){return null!==gt&&gt.apply(this,arguments)||this}var bt=(gt=p,Object(o.__extends)(mt,gt),mt.prototype.getDefaultAttrs=function(){var t=gt.prototype.getDefaultAttrs.call(this);return Object(o.__assign)(Object(o.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},mt.prototype.isOnlyHitBox=function(){return!0},mt.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},mt.prototype._assembleFont=function(){var t=this.attrs;t.font=Object(vt.assembleFont)(t)},mt.prototype._setText=function(t){var e=null;Object(T.k)(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},mt.prototype.onAttrChange=function(t,e,n){gt.prototype.onAttrChange.call(this,t,e,n),t.startsWith("font")&&this._assembleFont(),"text"===t&&this._setText(e)},mt.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,n=+t.fontSize;return e?e-n:.14*n},mt.prototype._drawTextArr=function(n,t,i){var r,e=this.attrs,o=e.textBaseline,a=e.x,s=e.y,l=+e.fontSize,c=this._getSpaceingY(),u=Object(vt.getTextHeight)(e.text,e.fontSize,e.lineHeight);Object(T.c)(t,function(t,e){r=s+e*(c+l)-u+l,"middle"===o&&(r+=u-l-(u-l)/2),"top"===o&&(r+=u-l),i?n.fillText(t,a,r):n.strokeText(t,a,r)})},mt.prototype._drawText=function(t,e){var n,i=this.attr(),r=i.x,o=i.y,a=this.get("textArr");a?this._drawTextArr(t,a,e):(n=i.text,e?t.fillText(n,r,o):t.strokeText(n,r,o))},mt.prototype.strokeAndFill=function(t){var e=this.attrs,n=e.lineWidth,i=e.opacity,r=e.strokeOpacity,o=e.fillOpacity;this.isStroke()&&0<n&&(Object(T.i)(r)||1===r||(t.globalAlpha=i),this.stroke(t)),this.isFill()&&(Object(T.i)(o)||1===o?this.fill(t):(t.globalAlpha=o,this.fill(t),t.globalAlpha=i)),this.afterDrawPath(t)},mt.prototype.fill=function(t){this._drawText(t,!0)},mt.prototype.stroke=function(t){this._drawText(t,!1)},mt)},1390:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return c}),n.d(e,"f",function(){return u}),n.d(e,"d",function(){return h}),n.d(e,"e",function(){return p});var a=n(528),s=n(1499),C=n(902);function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function j(t,e){return i(t)*i(e)?(t[0]*e[0]+t[1]*e[1])/(i(t)*i(e)):1}function S(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(j(t,e))}function T(t,e){var n=e[1],i=e[2],r=Object(C.m)(Object(C.o)(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],c=e[6],u=e[7],h=Math.cos(r)*(s-c)/2+Math.sin(r)*(l-u)/2,p=-1*Math.sin(r)*(s-c)/2+Math.cos(r)*(l-u)/2,f=h*h/(n*n)+p*p/(i*i);1<f&&(n*=Math.sqrt(f),i*=Math.sqrt(f));var d=n*n*(p*p)+i*i*(h*h),g=d?Math.sqrt((n*n*(i*i)-d)/d):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var y=i?g*n*p/i:0,v=n?g*-i*h/n:0,m=(s+c)/2+Math.cos(r)*y-Math.sin(r)*v,b=(l+u)/2+Math.sin(r)*y+Math.cos(r)*v,x=[(h-y)/n,(p-v)/i],O=[(-1*h-y)/n,(-1*p-v)/i],w=S([1,0],x),_=S(x,O);return j(x,O)<=-1&&(_=Math.PI),1<=j(x,O)&&(_=0),0===a&&0<_&&(_-=2*Math.PI),1===a&&_<0&&(_+=2*Math.PI),{cx:m,cy:b,rx:Object(C.j)(t,[c,u])?0:n,ry:Object(C.j)(t,[c,u])?0:i,startAngle:w,endAngle:w+_,xRotation:r,arcFlag:o,sweepFlag:a}}var P=n(1402),l={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function r(t,e){var n=e.attr();for(var i in n){var r=n[i],o=l[i]?l[i]:i;"matrix"===o&&r?t.transform(r[0],r[1],r[3],r[4],r[6],r[7]):"lineDash"===o&&t.setLineDash?Object(a.isArray)(r)&&t.setLineDash(r):("strokeStyle"===o||"fillStyle"===o?r=Object(s.b)(t,e,r):"globalAlpha"===o&&(r*=t.globalAlpha),t[o]=r)}}function o(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];r.get("visible")?r.draw(t,n):r.skipDraw()}}function c(t,e,n,i){var r=n.path,o=n.startArrow,a=n.endArrow,s=[0,0],l=[0,0],c={dx:0,dy:0};e.beginPath();for(var u=0;u<r.length;u++){var h,p=r[u],f=p[0];0===u&&o&&o.d?(h=t.getStartTangent(),c=P.c(h[0][0],h[0][1],h[1][0],h[1][1],o.d)):u===r.length-2&&"Z"===r[u+1][0]&&a&&a.d?"Z"===r[u+1][0]&&(h=t.getEndTangent(),c=P.c(h[0][0],h[0][1],h[1][0],h[1][1],a.d)):u===r.length-1&&a&&a.d&&"Z"!==r[0]&&(h=t.getEndTangent(),c=P.c(h[0][0],h[0][1],h[1][0],h[1][1],a.d));var d,g=c.dx,y=c.dy;switch(f){case"M":e.moveTo(p[1]-g,p[2]-y),l=[p[1],p[2]];break;case"L":e.lineTo(p[1]-g,p[2]-y);break;case"Q":e.quadraticCurveTo(p[1],p[2],p[3]-g,p[4]-y);break;case"C":e.bezierCurveTo(p[1],p[2],p[3],p[4],p[5]-g,p[6]-y);break;case"A":var v=void 0;i?(v=i[u])||(v=T(s,p),i[u]=v):v=T(s,p);var m,b,x,O=v.cx,w=v.cy,_=v.rx,C=v.ry,j=v.startAngle,S=v.endAngle,M=v.xRotation,k=v.sweepFlag;e.ellipse?e.ellipse(O,w,_,C,M,j,S,1-k):(m=C<_?_:C,b=C<_?1:_/C,x=C<_?C/_:1,e.translate(O,w),e.rotate(M),e.scale(b,x),e.arc(0,0,m,j,S,1-k),e.scale(1/b,1/x),e.rotate(-M),e.translate(-O,-w));break;case"Z":e.closePath()}s="Z"===f?l:[p[(d=p.length)-2],p[d-1]]}}function u(t,e){var n=t.get("canvas");n&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(n.refreshElement(t,e,n),n.get("autoDraw")&&n.draw(),t.set("hasChanged",!0)))}function h(t){if(!t.length)return null;var l=[],c=[],u=[],h=[];return Object(a.each)(t,function(t){var e,n,i,r,o,a,s=((e=t).destroyed?n=e._cacheCanvasBBox:(r=(i=e.get("cacheCanvasBBox"))&&!(!i.width||!i.height),a=(o=e.getCanvasBBox())&&!(!o.width||!o.height),r&&a?n=Object(C.l)(i,o):r?n=i:a&&(n=o)),n);s&&(l.push(s.minX),c.push(s.minY),u.push(s.maxX),h.push(s.maxY))}),{minX:Math.min.apply(null,l),minY:Math.min.apply(null,c),maxX:Math.max.apply(null,u),maxY:Math.max.apply(null,h)}}function p(t,e){return t&&e&&Object(C.f)(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}},1397:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=typeof t;return null!==t&&"object"==e||"function"==e}},1399:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(532),r=n(1622);e.Attribute=r.default;function o(t){return a[t.toLowerCase()]}var a={};e.getAttribute=o;e.registerAttribute=function(t,e){if(o(t))throw new Error("Attribute type '"+t+"' existed.");a[t.toLowerCase()]=e},i.__exportStar(n(1623),e)},1400:function(t,e,n){"use strict";n.r(e);function u(t,e,n,i){return t[i]+(e[i]-t[i])*n}var a=n(528),i=/rgba?\(([\s.,0-9]+)\)/,s=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,l=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,c=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function h(t){return"#"+o(t[0])+o(t[1])+o(t[2])}function r(t){return[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]}function o(t){var e=Math.round(t).toString(16);return 1===e.length?"0"+e:e}function p(t){if("#"===t[0]&&7===t.length)return t;var e;f||((e=document.createElement("i")).title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),f=e),f.style.color=t;var n=document.defaultView.getComputedStyle(f,"").getPropertyValue("color");return n=h(i.exec(n)[1].split(/\s*,\s*/).map(function(t){return Number(t)}))}var f;e.default={rgb2arr:r,gradient:function(t){var e=Object(a.isString)(t)?t.split("-"):t,c=Object(a.map)(e,function(t){return r(-1===t.indexOf("#")?p(t):t)});return function(t){return e=c,n=t,i=isNaN(Number(n))||n<0?0:1<n?1:Number(n),r=e.length-1,o=Math.floor(r*i),a=r*i-o,s=e[o],l=o===r?s:e[o+1],h([u(s,l,a,0),u(s,l,a,1),u(s,l,a,2)]);var e,n,i,r,o,a,s,l}},toRGB:Object(a.memoize)(p),toCSSGradient:function(t){if(/^[r,R,L,l]{1}[\s]*\(/.test(t)){var e,i,n,r=void 0;"l"===t[0]?(e=+(n=s.exec(t))[1]+90,r=n[2],i="linear-gradient("+e+"deg, "):"r"===t[0]&&(i="radial-gradient(",r=(n=l.exec(t))[4]);var o=r.match(c);return Object(a.each)(o,function(t,e){var n=t.split(":");i+=n[1]+" "+100*n[0]+"%",e!==o.length-1&&(i+=", ")}),i+=")"}return t}}},1401:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e,n){return void 0===n&&(n=1e-5),Math.abs(t-e)<n}},1402:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o});var b=n(532),x=n(1389),O=Math.sin,w=Math.cos,_=Math.atan2,h=Math.PI;function a(t,e,n,i,r,o,a){var s=e.stroke,l=e.lineWidth,c=_(i-o,n-r),u=new x.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*w(h/6)+","+10*O(h/6)+" L0,0 L"+10*w(h/6)+",-"+10*O(h/6),stroke:s,lineWidth:l}});u.translate(r,o),u.rotateAtPoint(r,o,c),t.set(a?"startArrowShape":"endArrowShape",u)}function s(t,e,n,i,r,o,a){var s=e.startArrow,l=e.endArrow,c=e.stroke,u=e.lineWidth,h=a?s:l,p=h.d,f=h.fill,d=h.stroke,g=h.lineWidth,y=Object(b.__rest)(h,["d","fill","stroke","lineWidth"]),v=_(i-o,n-r);p&&(r-=w(v)*p,o-=O(v)*p);var m=new x.Path({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:Object(b.__assign)(Object(b.__assign)({},y),{stroke:d||c,lineWidth:g||u,fill:f})});m.translate(r,o),m.rotateAtPoint(r,o,v),t.set(a?"startArrowShape":"endArrowShape",m)}function i(t,e,n,i,r){var o=_(i-e,n-t);return{dx:w(o)*r,dy:O(o)*r}}function r(t,e,n,i,r,o){"object"==typeof e.startArrow?s(t,e,n,i,r,o,!0):e.startArrow?a(t,e,n,i,r,o,!0):t.set("startArrowShape",null)}function o(t,e,n,i,r,o){"object"==typeof e.endArrow?s(t,e,n,i,r,o,!1):e.endArrow?a(t,e,n,i,r,o,!1):t.set("startArrowShape",null)}},1403:function(t,e,n){"use strict";var i,r=n(532),o=n(698),a=n(1389),s=n(1390),l=(i=o.AbstractGroup,Object(r.__extends)(c,i),c.prototype.onCanvasChange=function(t){Object(s.f)(this,t)},c.prototype.getShapeBase=function(){return a},c.prototype.getGroupBase=function(){return c},c.prototype._applyClip=function(t,e){e&&(t.save(),Object(s.a)(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},c.prototype.draw=function(t,e){var n=this.getChildren();n.length&&(t.save(),Object(s.a)(t,this),this._applyClip(t,this.getClip()),Object(s.b)(t,n,e),t.restore()),this.set("cacheCanvasBBox",this.getCanvasBBox()),this.set("hasChanged",!1)},c.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},c);function c(){return null!==i&&i.apply(this,arguments)||this}e.a=l},1404:function(t,e,n){"use strict";n.r(e),n.d(e,"registerAttribute",function(){return M}),n.d(e,"getAttribute",function(){return S}),n.d(e,"Attribute",function(){return a}),n.d(e,"Color",function(){return p}),n.d(e,"Opacity",function(){return g}),n.d(e,"Position",function(){return m}),n.d(e,"Shape",function(){return O}),n.d(e,"Size",function(){return _}),n.d(e,"Scale",function(){return C.Scale});function i(t,e){return Object(h.isString)(e)?e:t.invert(t.scale(e))}var h=n(528);function r(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}var o,a=(r.prototype.mapping=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.map(function(t,e){return n._toOriginParam(t,n.scales[e])});return this.callback.apply(this,i)},r.prototype.getLinearValue=function(t){var e=this.values.length-1,n=Math.floor(e*t),i=e*t-n,r=this.values[n];return r+((n===e?r:this.values[n+1])-r)*i},r.prototype.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),i=[],r=0;r<n;r+=1)i.push(e[r]);return i},r.prototype.getFields=function(){return this.scales.map(function(t){return t.field})},r.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},r.prototype.defaultCallback=function(){for(var i=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this.values:t.map(function(t,e){var n=i.scales[e];return"identity"===n.type?n.values[0]:i._getAttributeValue(n,t)})},r.prototype._parseCfg=function(t){var i=this,e=t.type,n=void 0===e?"base":e,r=t.names,o=void 0===r?[]:r,a=t.scales,s=void 0===a?[]:a,l=t.values,c=void 0===l?[]:l,u=t.callback;this.type=n,this.scales=s,this.values=c,this.names=o,this.callback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(u){var n=u.apply(void 0,t);if(!Object(h.isNil)(n))return[n]}return i.defaultCallback.apply(i,t)}},r.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var n=t.translate(e);return this.values[n%this.values.length]}var i=t.scale(e);return this.getLinearValue(i)},r.prototype._toOriginParam=function(t,e){return e.isLinear?t:Object(h.isArray)(t)?t.map(function(t){return i(e,t)}):i(e,t)},r),s=n(532),l=n(1400);function c(t){var e=o.call(this,t)||this;return e.type="color",e.names=["color"],Object(h.isString)(e.values)&&(e.linear=!0),e.gradient=l.default.gradient(e.values),e}var u,p=(o=a,Object(s.__extends)(c,o),c.prototype.getLinearValue=function(t){return this.gradient(t)},c);function f(t){var e=u.call(this,t)||this;return e.type="opacity",e.names=["opacity"],e}var d,g=(u=a,Object(s.__extends)(f,u),f);function y(t){var e=d.call(this,t)||this;return e.names=["x","y"],e.type="position",e}var v,m=(d=a,Object(s.__extends)(y,d),y.prototype.mapping=function(t,e){var n=this.scales,i=n[0],r=n[1];return Object(h.isNil)(t)||Object(h.isNil)(e)?[]:[Object(h.isArray)(t)?t.map(function(t){return i.scale(t)}):i.scale(t),Object(h.isArray)(e)?e.map(function(t){return r.scale(t)}):r.scale(e)]},y);function b(t){var e=v.call(this,t)||this;return e.type="shape",e.names=["shape"],e}var x,O=(v=a,Object(s.__extends)(b,v),b.prototype.getLinearValue=function(t){var e=Math.round((this.values.length-1)*t);return this.values[e]},b);function w(t){var e=x.call(this,t)||this;return e.type="size",e.names=["size"],e}var _=(x=a,Object(s.__extends)(w,x),w),C=n(897),j={},S=function(t){return j[t.toLowerCase()]},M=function(t,e){if(S(t))throw new Error("Attribute type '"+t+"' existed.");j[t.toLowerCase()]=e};M("Color",p),M("Opacity",g),M("Position",m),M("Shape",O),M("Size",_)},1413:function(t,e,n){},1417:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){return Object.keys(n).reduce(function(t,e){return"data-"!==e.substr(0,5)&&"aria-"!==e.substr(0,5)&&"role"!==e||"data-__"===e.substr(0,7)||(t[e]=n[e]),t},{})}},1418:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={}.toString;e.default=function(t,e){return i.call(t)==="[object "+e+"]"}},1419:function(t,e,n){"use strict";function r(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,i){return e&&r(t,e),n&&r(t,n),i&&r(t,i),t}},1420:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1618);e.default=function(t){var e=i.default(t);return e.charAt(0).toUpperCase()+e.substring(1)}},1421:function(t,e,n){"use strict";n.r(e),n.d(e,"create",function(){return i}),n.d(e,"fromMat4",function(){return r}),n.d(e,"clone",function(){return o}),n.d(e,"copy",function(){return a}),n.d(e,"fromValues",function(){return s}),n.d(e,"set",function(){return l}),n.d(e,"identity",function(){return c}),n.d(e,"transpose",function(){return u}),n.d(e,"invert",function(){return h}),n.d(e,"adjoint",function(){return p}),n.d(e,"determinant",function(){return f}),n.d(e,"multiply",function(){return d}),n.d(e,"translate",function(){return g}),n.d(e,"rotate",function(){return y}),n.d(e,"scale",function(){return v}),n.d(e,"fromTranslation",function(){return m}),n.d(e,"fromRotation",function(){return b}),n.d(e,"fromScaling",function(){return O}),n.d(e,"fromMat2d",function(){return w}),n.d(e,"fromQuat",function(){return _}),n.d(e,"normalFromMat4",function(){return C}),n.d(e,"projection",function(){return j}),n.d(e,"str",function(){return S}),n.d(e,"frob",function(){return M}),n.d(e,"add",function(){return k}),n.d(e,"subtract",function(){return T}),n.d(e,"multiplyScalar",function(){return P}),n.d(e,"multiplyScalarAndAdd",function(){return A}),n.d(e,"exactEquals",function(){return E}),n.d(e,"equals",function(){return L}),n.d(e,"mul",function(){return I}),n.d(e,"sub",function(){return B});var x=n(1384);function i(){var t=new x.a(9);return x.a!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function o(t){var e=new x.a(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function s(t,e,n,i,r,o,a,s,l){var c=new x.a(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=i,c[4]=r,c[5]=o,c[6]=a,c[7]=s,c[8]=l,c}function l(t,e,n,i,r,o,a,s,l,c){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=a,t[6]=s,t[7]=l,t[8]=c,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function u(t,e){var n,i,r;return t===e?(n=e[1],i=e[2],r=e[5],t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=i,t[7]=r):(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8]),t}function h(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=u*a-s*c,p=-u*o+s*l,f=c*o-a*l,d=n*h+i*p+r*f;return d?(d=1/d,t[0]=h*d,t[1]=(-u*i+r*c)*d,t[2]=(s*i-r*a)*d,t[3]=p*d,t[4]=(u*n-r*l)*d,t[5]=(-s*n+r*o)*d,t[6]=f*d,t[7]=(-c*n+i*l)*d,t[8]=(a*n-i*o)*d,t):null}function p(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8];return t[0]=a*u-s*c,t[1]=r*c-i*u,t[2]=i*s-r*a,t[3]=s*l-o*u,t[4]=n*u-r*l,t[5]=r*o-n*s,t[6]=o*c-a*l,t[7]=i*l-n*c,t[8]=n*a-i*o,t}function f(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8];return e*(c*o-a*l)+n*(-c*r+a*s)+i*(l*r-o*s)}function d(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],p=n[0],f=n[1],d=n[2],g=n[3],y=n[4],v=n[5],m=n[6],b=n[7],x=n[8];return t[0]=p*i+f*a+d*c,t[1]=p*r+f*s+d*u,t[2]=p*o+f*l+d*h,t[3]=g*i+y*a+v*c,t[4]=g*r+y*s+v*u,t[5]=g*o+y*l+v*h,t[6]=m*i+b*a+x*c,t[7]=m*r+b*s+x*u,t[8]=m*o+b*l+x*h,t}function g(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],p=n[0],f=n[1];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=p*i+f*a+c,t[7]=p*r+f*s+u,t[8]=p*o+f*l+h,t}function y(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],p=Math.sin(n),f=Math.cos(n);return t[0]=f*i+p*a,t[1]=f*r+p*s,t[2]=f*o+p*l,t[3]=f*a-p*i,t[4]=f*s-p*r,t[5]=f*l-p*o,t[6]=c,t[7]=u,t[8]=h,t}function v(t,e,n){var i=n[0],r=n[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=r*e[3],t[4]=r*e[4],t[5]=r*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function m(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function b(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function O(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function w(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function _(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=n+n,s=i+i,l=r+r,c=n*a,u=i*a,h=i*s,p=r*a,f=r*s,d=r*l,g=o*a,y=o*s,v=o*l;return t[0]=1-h-d,t[3]=u-v,t[6]=p+y,t[1]=u+v,t[4]=1-c-d,t[7]=f-g,t[2]=p-y,t[5]=f+g,t[8]=1-c-h,t}function C(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=e[9],p=e[10],f=e[11],d=e[12],g=e[13],y=e[14],v=e[15],m=n*s-i*a,b=n*l-r*a,x=n*c-o*a,O=i*l-r*s,w=i*c-o*s,_=r*c-o*l,C=u*g-h*d,j=u*y-p*d,S=u*v-f*d,M=h*y-p*g,k=h*v-f*g,T=p*v-f*y,P=m*T-b*k+x*M+O*S-w*j+_*C;return P?(P=1/P,t[0]=(s*T-l*k+c*M)*P,t[1]=(l*S-a*T-c*j)*P,t[2]=(a*k-s*S+c*C)*P,t[3]=(r*k-i*T-o*M)*P,t[4]=(n*T-r*S+o*j)*P,t[5]=(i*S-n*k-o*C)*P,t[6]=(g*_-y*w+v*O)*P,t[7]=(y*x-d*_-v*b)*P,t[8]=(d*w-g*x+v*m)*P,t):null}function j(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function S(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function M(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function k(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function T(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function P(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function A(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t[4]=e[4]+n[4]*i,t[5]=e[5]+n[5]*i,t[6]=e[6]+n[6]*i,t[7]=e[7]+n[7]*i,t[8]=e[8]+n[8]*i,t}function E(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function L(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=e[0],p=e[1],f=e[2],d=e[3],g=e[4],y=e[5],v=e[6],m=e[7],b=e[8];return Math.abs(n-h)<=x.b*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-p)<=x.b*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(r-f)<=x.b*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(o-d)<=x.b*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-g)<=x.b*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-y)<=x.b*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(l-v)<=x.b*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(c-m)<=x.b*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(u-b)<=x.b*Math.max(1,Math.abs(u),Math.abs(b))}var I=d,B=T},1422:function(t,e,n){"use strict";n.r(e),n.d(e,"create",function(){return i}),n.d(e,"clone",function(){return r}),n.d(e,"fromValues",function(){return o}),n.d(e,"copy",function(){return s}),n.d(e,"set",function(){return l}),n.d(e,"add",function(){return c}),n.d(e,"subtract",function(){return u}),n.d(e,"multiply",function(){return h}),n.d(e,"divide",function(){return p}),n.d(e,"ceil",function(){return f}),n.d(e,"floor",function(){return d}),n.d(e,"min",function(){return g}),n.d(e,"max",function(){return y}),n.d(e,"round",function(){return v}),n.d(e,"scale",function(){return m}),n.d(e,"scaleAndAdd",function(){return b}),n.d(e,"distance",function(){return x}),n.d(e,"squaredDistance",function(){return O}),n.d(e,"length",function(){return w}),n.d(e,"squaredLength",function(){return _}),n.d(e,"negate",function(){return C}),n.d(e,"inverse",function(){return j}),n.d(e,"normalize",function(){return S}),n.d(e,"dot",function(){return M}),n.d(e,"cross",function(){return k}),n.d(e,"lerp",function(){return T}),n.d(e,"random",function(){return P}),n.d(e,"transformMat2",function(){return A}),n.d(e,"transformMat2d",function(){return E}),n.d(e,"transformMat3",function(){return L}),n.d(e,"transformMat4",function(){return I}),n.d(e,"rotate",function(){return B}),n.d(e,"angle",function(){return D}),n.d(e,"zero",function(){return F}),n.d(e,"str",function(){return R}),n.d(e,"exactEquals",function(){return N}),n.d(e,"equals",function(){return Y}),n.d(e,"len",function(){return X}),n.d(e,"sub",function(){return G}),n.d(e,"mul",function(){return z}),n.d(e,"div",function(){return H}),n.d(e,"dist",function(){return W}),n.d(e,"sqrDist",function(){return q}),n.d(e,"sqrLen",function(){return U}),n.d(e,"forEach",function(){return K});var a=n(1384);function i(){var t=new a.a(2);return a.a!=Float32Array&&(t[0]=0,t[1]=0),t}function r(t){var e=new a.a(2);return e[0]=t[0],e[1]=t[1],e}function o(t,e){var n=new a.a(2);return n[0]=t,n[1]=e,n}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function l(t,e,n){return t[0]=e,t[1]=n,t}function c(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function u(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function h(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function p(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function f(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function d(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function g(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function y(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function v(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function m(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function b(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t}function x(t,e){var n=e[0]-t[0],i=e[1]-t[1];return Math.hypot(n,i)}function O(t,e){var n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function w(t){var e=t[0],n=t[1];return Math.hypot(e,n)}function _(t){var e=t[0],n=t[1];return e*e+n*n}function C(t,e){return t[0]=-e[0],t[1]=-e[1],t}function j(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function S(t,e){var n=e[0],i=e[1],r=n*n+i*i;return 0<r&&(r=1/Math.sqrt(r)),t[0]=e[0]*r,t[1]=e[1]*r,t}function M(t,e){return t[0]*e[0]+t[1]*e[1]}function k(t,e,n){var i=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=i,t}function T(t,e,n,i){var r=e[0],o=e[1];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t}function P(t,e){e=e||1;var n=2*a.c()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}function A(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r,t[1]=n[1]*i+n[3]*r,t}function E(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}function L(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[3]*r+n[6],t[1]=n[1]*i+n[4]*r+n[7],t}function I(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t}function B(t,e,n,i){var r=e[0]-n[0],o=e[1]-n[1],a=Math.sin(i),s=Math.cos(i);return t[0]=r*s-o*a+n[0],t[1]=r*a+o*s+n[1],t}function D(t,e){var n=t[0],i=t[1],r=e[0],o=e[1],a=Math.sqrt(n*n+i*i)*Math.sqrt(r*r+o*o),s=a&&(n*r+i*o)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function F(t){return t[0]=0,t[1]=0,t}function R(t){return"vec2("+t[0]+", "+t[1]+")"}function N(t,e){return t[0]===e[0]&&t[1]===e[1]}function Y(t,e){var n=t[0],i=t[1],r=e[0],o=e[1];return Math.abs(n-r)<=a.b*Math.max(1,Math.abs(n),Math.abs(r))&&Math.abs(i-o)<=a.b*Math.max(1,Math.abs(i),Math.abs(o))}var V,X=w,G=u,z=h,H=p,W=x,q=O,U=_,K=(V=i(),function(t,e,n,i,r,o){var a,s;for(e=e||2,n=n||0,s=i?Math.min(i*e+n,t.length):t.length,a=n;a<s;a+=e)V[0]=t[a],V[1]=t[a+1],r(V,V,o),t[a]=V[0],t[a+1]=V[1];return t})},1423:function(t,e,n){"use strict";n.r(e),n.d(e,"create",function(){return i}),n.d(e,"clone",function(){return r}),n.d(e,"length",function(){return o}),n.d(e,"fromValues",function(){return a}),n.d(e,"copy",function(){return s}),n.d(e,"set",function(){return c}),n.d(e,"add",function(){return u}),n.d(e,"subtract",function(){return h}),n.d(e,"multiply",function(){return p}),n.d(e,"divide",function(){return f}),n.d(e,"ceil",function(){return d}),n.d(e,"floor",function(){return g}),n.d(e,"min",function(){return y}),n.d(e,"max",function(){return v}),n.d(e,"round",function(){return m}),n.d(e,"scale",function(){return b}),n.d(e,"scaleAndAdd",function(){return x}),n.d(e,"distance",function(){return O}),n.d(e,"squaredDistance",function(){return w}),n.d(e,"squaredLength",function(){return _}),n.d(e,"negate",function(){return C}),n.d(e,"inverse",function(){return j}),n.d(e,"normalize",function(){return S}),n.d(e,"dot",function(){return M}),n.d(e,"cross",function(){return k}),n.d(e,"lerp",function(){return T}),n.d(e,"hermite",function(){return P}),n.d(e,"bezier",function(){return A}),n.d(e,"random",function(){return E}),n.d(e,"transformMat4",function(){return L}),n.d(e,"transformMat3",function(){return I}),n.d(e,"transformQuat",function(){return B}),n.d(e,"rotateX",function(){return D}),n.d(e,"rotateY",function(){return F}),n.d(e,"rotateZ",function(){return R}),n.d(e,"angle",function(){return N}),n.d(e,"zero",function(){return Y}),n.d(e,"str",function(){return V}),n.d(e,"exactEquals",function(){return X}),n.d(e,"equals",function(){return G}),n.d(e,"sub",function(){return H}),n.d(e,"mul",function(){return W}),n.d(e,"div",function(){return q}),n.d(e,"dist",function(){return U}),n.d(e,"sqrDist",function(){return K}),n.d(e,"len",function(){return Z}),n.d(e,"sqrLen",function(){return $}),n.d(e,"forEach",function(){return Q});var l=n(1384);function i(){var t=new l.a(3);return l.a!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function r(t){var e=new l.a(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function o(t){var e=t[0],n=t[1],i=t[2];return Math.hypot(e,n,i)}function a(t,e,n){var i=new l.a(3);return i[0]=t,i[1]=e,i[2]=n,i}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function c(t,e,n,i){return t[0]=e,t[1]=n,t[2]=i,t}function u(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function h(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function p(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function f(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function d(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function g(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function y(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function v(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function m(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function b(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function x(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t}function O(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return Math.hypot(n,i,r)}function w(t,e){var n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2];return n*n+i*i+r*r}function _(t){var e=t[0],n=t[1],i=t[2];return e*e+n*n+i*i}function C(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function j(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function S(t,e){var n=e[0],i=e[1],r=e[2],o=n*n+i*i+r*r;return 0<o&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t}function M(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function k(t,e,n){var i=e[0],r=e[1],o=e[2],a=n[0],s=n[1],l=n[2];return t[0]=r*l-o*s,t[1]=o*a-i*l,t[2]=i*s-r*a,t}function T(t,e,n,i){var r=e[0],o=e[1],a=e[2];return t[0]=r+i*(n[0]-r),t[1]=o+i*(n[1]-o),t[2]=a+i*(n[2]-a),t}function P(t,e,n,i,r,o){var a=o*o,s=a*(2*o-3)+1,l=a*(o-2)+o,c=a*(o-1),u=a*(3-2*o);return t[0]=e[0]*s+n[0]*l+i[0]*c+r[0]*u,t[1]=e[1]*s+n[1]*l+i[1]*c+r[1]*u,t[2]=e[2]*s+n[2]*l+i[2]*c+r[2]*u,t}function A(t,e,n,i,r,o){var a=1-o,s=a*a,l=o*o,c=s*a,u=3*o*s,h=3*l*a,p=l*o;return t[0]=e[0]*c+n[0]*u+i[0]*h+r[0]*p,t[1]=e[1]*c+n[1]*u+i[1]*h+r[1]*p,t[2]=e[2]*c+n[2]*u+i[2]*h+r[2]*p,t}function E(t,e){e=e||1;var n=2*l.c()*Math.PI,i=2*l.c()-1,r=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(n)*r,t[1]=Math.sin(n)*r,t[2]=i*e,t}function L(t,e,n){var i=e[0],r=e[1],o=e[2],a=(a=n[3]*i+n[7]*r+n[11]*o+n[15])||1;return t[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/a,t[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/a,t[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/a,t}function I(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t}function B(t,e,n){var i=n[0],r=n[1],o=n[2],a=n[3],s=e[0],l=e[1],c=e[2],u=r*c-o*l,h=o*s-i*c,p=i*l-r*s,f=r*p-o*h,d=o*u-i*p,g=i*h-r*u,y=2*a;return u*=y,h*=y,p*=y,f*=2,d*=2,g*=2,t[0]=s+u+f,t[1]=l+h+d,t[2]=c+p+g,t}function D(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function F(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function R(t,e,n,i){var r=[],o=[];return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r[2]=e[2]-n[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t}function N(t,e){var n=t[0],i=t[1],r=t[2],o=e[0],a=e[1],s=e[2],l=Math.sqrt(n*n+i*i+r*r)*Math.sqrt(o*o+a*a+s*s),c=l&&M(t,e)/l;return Math.acos(Math.min(Math.max(c,-1),1))}function Y(t){return t[0]=0,t[1]=0,t[2]=0,t}function V(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function X(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function G(t,e){var n=t[0],i=t[1],r=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=l.b*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=l.b*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-s)<=l.b*Math.max(1,Math.abs(r),Math.abs(s))}var z,H=h,W=p,q=f,U=O,K=w,Z=o,$=_,Q=(z=i(),function(t,e,n,i,r,o){var a,s;for(e=e||3,n=n||0,s=i?Math.min(i*e+n,t.length):t.length,a=n;a<s;a+=e)z[0]=t[a],z[1]=t[a+1],z[2]=t[a+2],r(z,z,o),t[a]=z[0],t[a+1]=z[1],t[a+2]=z[2];return t})},1424:function(t,e,n){"use strict";n.r(e),n.d(e,"version",function(){return u});var i=n(1389);n.d(e,"Shape",function(){return i});var r=n(1510);for(var o in r)["default","version","Event","Canvas","Group","Shape"].indexOf(o)<0&&function(t){n.d(e,t,function(){return r[t]})}(o);var a=n(1512);for(var o in a)["default","version","Event","Canvas","Group","Shape"].indexOf(o)<0&&function(t){n.d(e,t,function(){return a[t]})}(o);var s=n(698);n.d(e,"Event",function(){return s.Event});var l=n(1545);n.d(e,"Canvas",function(){return l.a});var c=n(1403);n.d(e,"Group",function(){return c.a});var u=n(1643).version},1425:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},1426:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}},1427:function(t,e,n){"use strict";function r(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}Object.defineProperty(e,"__esModule",{value:!0}),e.mergeBBox=r,e.mergeArrowBBox=function(t,e){var n=t.get("startArrowShape"),i=t.get("endArrowShape");return n&&(e=r(e,n.getCanvasBBox())),i&&(e=r(e,i.getCanvasBBox())),e}},1428:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=n(916),y=n(1353),p=n(1505);function v(t,e,n,i,r){var o=1-r;return o*o*o*t+3*e*r*o*o+3*n*r*r*o+i*r*r*r}function h(t,e,n,i,r){var o=1-r;return 3*(o*o*(e-t)+2*o*r*(n-e)+r*r*(i-n))}function d(t,e,n,i){var r,o,a,s,l=-3*t+9*e-9*n+3*i,c=6*t-12*e+6*n,u=3*e-3*t,h=[];return f.isNumberEqual(l,0)?f.isNumberEqual(c,0)||0<=(r=-u/c)&&r<=1&&h.push(r):(s=c*c-4*l*u,f.isNumberEqual(s,0)?h.push(-c/(2*l)):0<s&&(o=(-c-(a=Math.sqrt(s)))/(2*l),0<=(r=(-c+a)/(2*l))&&r<=1&&h.push(r),0<=o&&o<=1&&h.push(o))),h}function g(t,e,n,i,r,o,a,s,l){var c=v(t,n,r,a,l),u=v(e,i,o,s,l),h=y.default.pointAt(t,e,n,i,l),p=y.default.pointAt(n,i,r,o,l),f=y.default.pointAt(r,o,a,s,l),d=y.default.pointAt(h.x,h.y,p.x,p.y,l),g=y.default.pointAt(p.x,p.y,f.x,f.y,l);return[[t,e,h.x,h.y,d.x,d.y,c,u],[c,u,g.x,g.y,f.x,f.y,a,s]]}function m(t,e,n,i,r,o,a,s,l){if(0===l)return p.snapLength([t,n,r,a],[e,i,o,s]);var c=g(t,e,n,i,r,o,a,s,.5),u=c[0],h=c[1];return u.push(l-1),h.push(l-1),m.apply(null,u)+m.apply(null,h)}e.default={extrema:d,box:function(t,e,n,i,r,o,a,s){for(var l=[t,a],c=[e,s],u=d(t,n,r,a),h=d(e,i,o,s),p=0;p<u.length;p++)l.push(v(t,n,r,a,u[p]));for(p=0;p<h.length;p++)c.push(v(e,i,o,s,h[p]));return f.getBBoxByArray(l,c)},length:function(t,e,n,i,r,o,a,s){return m(t,e,n,i,r,o,a,s,3)},nearestPoint:function(t,e,n,i,r,o,a,s,l,c){return p.nearestPoint([t,n,r,a],[e,i,o,s],l,c,v)},pointDistance:function(t,e,n,i,r,o,a,s,l,c){var u=this.nearestPoint(t,e,n,i,r,o,a,s,l,c);return f.distance(u.x,u.y,l,c)},interpolationAt:v,pointAt:function(t,e,n,i,r,o,a,s,l){return{x:v(t,n,r,a,l),y:v(e,i,o,s,l)}},divide:g,tangentAngle:function(t,e,n,i,r,o,a,s,l){var c=h(t,n,r,a,l),u=h(e,i,o,s,l);return f.piMod(Math.atan2(u,c))}}},1429:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReplaceAttrs=e.getPolygonCentroid=e.getAngle=e.getArcPath=e.getSectorPath=e.polarToCartesian=void 0;var c=n(528);function g(t,e,n,i){return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}}e.polarToCartesian=g,e.getSectorPath=function(t,e,n,i,r,o){void 0===o&&(o=0);var a=g(t,e,n,i),s=g(t,e,n,r),l=g(t,e,o,i),c=g(t,e,o,r);if(r-i==2*Math.PI){var u=g(t,e,n,i+Math.PI),h=g(t,e,o,i+Math.PI),p=[["M",a.x,a.y],["A",n,n,0,1,1,u.x,u.y],["A",n,n,0,1,1,s.x,s.y],["M",l.x,l.y]];return o&&(p.push(["A",o,o,0,1,0,h.x,h.y]),p.push(["A",o,o,0,1,0,c.x,c.y])),p.push(["M",a.x,a.y]),p.push(["Z"]),p}var f=r-i<=Math.PI?0:1,d=[["M",a.x,a.y],["A",n,n,0,f,1,s.x,s.y],["L",c.x,c.y]];return o&&d.push(["A",o,o,0,f,0,l.x,l.y]),d.push(["L",a.x,a.y]),d.push(["Z"]),d},e.getArcPath=function(t,e,n,i,r){var o=g(t,e,n,i),a=g(t,e,n,r);if(c.isNumberEqual(r-i,2*Math.PI)){var s=g(t,e,n,i+Math.PI);return[["M",o.x,o.y],["A",n,n,0,1,1,s.x,s.y],["A",n,n,0,1,1,o.x,o.y],["A",n,n,0,1,0,s.x,s.y],["A",n,n,0,1,0,o.x,o.y],["Z"]]}var l=r-i<=Math.PI?0:1;return[["M",o.x,o.y],["A",n,n,0,l,1,a.x,a.y]]},e.getAngle=function(t,e){var n,i=function(t){if(c.isEmpty(t))return null;var e=t[0].x,n=t[0].x,i=t[0].y,r=t[0].y;return c.each(t,function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,i=i>t.y?t.y:i,r=r<t.y?t.y:r}),{minX:e,maxX:n,minY:i,maxY:r,centerX:(e+n)/2,centerY:(i+r)/2}}(t.points),r=e.startAngle,o=e.endAngle-r,a=e.isTransposed?(n=i.maxY*o,i.minY*o):(n=i.maxX*o,i.minX*o);return{startAngle:a+=r,endAngle:n+=r}},e.getPolygonCentroid=function(t,e){if(c.isNumber(t)&&c.isNumber(e))return[t,e];for(var n,i,r=-1,o=0,a=0,s=t.length-1,l=0;++r<t.length;)n=s,s=r,l+=i=t[n]*e[s]-t[s]*e[n],o+=(t[n]+t[s])*i,a+=(e[n]+e[s])*i;return[o/(l*=3),a/l]},e.getReplaceAttrs=function(t,e){var n=t.attr(),i=e.attr();return c.each(n,function(t,e){void 0===i[e]&&(i[e]=void 0)}),i}},1430:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerSymbols=void 0,e.MarkerSymbols={hexagon:function(t,e,n){var i=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+i,e-n/2],["L",t+i,e+n/2],["L",t,e+n],["L",t-i,e+n/2],["L",t-i,e-n/2],["Z"]]},bowtie:function(t,e,n){var i=n-1.5;return[["M",t-n,e-i],["L",t+n,e+i],["L",t+n,e-i],["L",t-n,e+i],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}}},1431:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getScaleByField=e.isInRecords=e.getSiblingPoint=e.getSilbings=e.isInBox=e.getSpline=e.distance=e.getComponents=e.getElementsByPath=e.getIntersectElements=e.intersectRect=e.getElementValue=e.getElementsByState=e.getElementsByField=e.getElements=e.getSiblingMaskElements=e.getMaskedElements=e.isMask=e.isSlider=e.isList=e.isElementChange=e.getDelegationObject=e.getCurrentElement=void 0;var i=n(544),o=n(528),a=n(1656),s=n(1492),l=i.__importDefault(n(1496));function c(t,e){var n=t.event.target.getCanvasBBox();return n.width>=e||n.height>=e?n:null}function u(t){var e=t.geometries,n=[];return o.each(e,function(t){var e=t.elements;n=n.concat(e)}),t.views&&t.views.length&&o.each(t.views,function(t){n=n.concat(u(t))}),n}function r(t,e){var n=t.getModel().data,i=o.isArray(n)?n[0][e]:n[e];return i}function h(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function p(t,n){var e=u(t),i=[];return o.each(e,function(t){var e=t.shape.getCanvasBBox();h(n,e)&&i.push(t)}),i}function f(t){var i=[];return o.each(t,function(t){if("A"!==t[0])for(var e=1;e<t.length;e+=2)i.push([t[e],t[e+1]]);else{var n=t.length;i.push([t[n-2],t[n-1]])}}),i}function d(t,e){var n=u(t),r=f(e);return n.filter(function(t){var e,n,i=t.shape;return n="path"===i.get("type")?f(i.attr("path")):(e=i.getCanvasBBox(),s.toPoints(e)),l.default(r,n)})}function g(t,e,n){var i,r=(i=n,t.getCoordinate().invert(i));return e.getCoordinate().convert(r)}e.getCurrentElement=function(t){var e,n=t.event.target;return n&&(e=n.get("element")),e},e.getDelegationObject=function(t){var e,n=t.event.target;return n&&(e=n.get("delegateObject")),e},e.isElementChange=function(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))},e.isList=function(t){return t&&t.component&&t.component.isList()},e.isSlider=function(t){return t&&t.component&&t.component.isSlider()},e.isMask=function(t){var e=t.event.target;return e&&"mask"===e.get("name")},e.getMaskedElements=function(t,e){var n,i,r;if("path"===t.event.target.get("type")){var o=(n=e,i=t.event.target,(r=i.getCanvasBBox()).width>=n||r.height>=n?i.attr("path"):null);if(!o)return;return d(t.view,o)}var a=c(t,e);return a?p(t.view,a):null},e.getSiblingMaskElements=function(t,e,n){var i=c(t,n);if(!i)return null;var r=t.view,o=g(r,e,{x:i.x,y:i.y}),a=g(r,e,{x:i.maxX,y:i.maxY});return p(e,{minX:o.x,minY:o.y,maxX:a.x,maxY:a.y})},e.getElements=u,e.getElementsByField=function(t,e,n){return u(t).filter(function(t){return r(t,e)===n})},e.getElementsByState=function(t,n){var e=t.geometries,i=[];return o.each(e,function(t){var e=t.getElementsBy(function(t){return t.hasState(n)});i=i.concat(e)}),i},e.getElementValue=r,e.intersectRect=h,e.getIntersectElements=p,e.getElementsByPath=d,e.getComponents=function(t){return t.getComponents().map(function(t){return t.component})},e.distance=function(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},e.getSpline=function(t,e){if(t.length<=2)return a.getLinePath(t,!1);var n=t[0],i=[];o.each(t,function(t){i.push(t.x),i.push(t.y)});var r=a.catmullRom2bezier(i,e,null);return r.unshift(["M",n.x,n.y]),r},e.isInBox=function(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y},e.getSilbings=function(e){var t=e.parent,n=null;return t&&(n=t.views.filter(function(t){return t!==e})),n},e.getSiblingPoint=g,e.isInRecords=function(t,e,n,i){var r=!1;return o.each(t,function(t){if(t[n]===e[n]&&t[i]===e[i])return!(r=!0)}),r},e.getScaleByField=function e(t,n){var i=t.getScaleByField(n);return!i&&t.views&&o.each(t.views,function(t){if(i=e(t,n))return!1}),i}},1432:function(t,e,n){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0});var r=n(1662),o=n(1388);e.default=((i={})[""+o.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:r.default.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},i[""+o.TITLE_CLASS]={marginBottom:"4px"},i[""+o.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},i[""+o.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},i[""+o.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},i[""+o.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},i[""+o.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},i[""+o.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},i)},1433:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getStyle=void 0;var u=n(544),h=n(528);e.getStyle=function(t,e,n,i){void 0===i&&(i="");var r=t.style,o=void 0===r?{}:r,a=t.defaultStyle,s=t.color,l=t.size,c=u.__assign(u.__assign({},a),o);return s&&(e&&(o.stroke||(c.stroke=s)),n&&(o.fill||(c.fill=s))),i&&h.isNil(o[i])&&!h.isNil(l)&&(c[i]=l),c}},1434:function(t,e,n){"use strict";n(32),n(1435)},1435:function(t,e,n){},1436:function(t,e,n){"use strict";e.__esModule=!0;var r=h(n(11)),o=h(n(12)),i=h(n(13)),p=h(n(0)),a=h(n(7)),s=h(n(1)),l=n(17),c=h(n(1675)),u=h(n(904)),f=h(n(1676)),d=h(n(69));function h(t){return t&&t.__esModule?t:{default:t}}function g(){}var y,v=(y=p.default.Component,(0,i.default)(m,y),m.prototype.componentDidUpdate=function(t,e){!e.open&&this.state.open&&(this.focusTimeout=setTimeout(this.focusCalendar,0,this))},m.prototype.componentWillUnmount=function(){clearTimeout(this.focusTimeout)},m.getDerivedStateFromProps=function(t){var e={},n=t.value,i=t.open;return"value"in t&&(e.value=n),void 0!==i&&(e.open=i),e},m.prototype.render=function(){var t=this.props,e=t.prefixCls,n=t.placement,i=t.style,r=t.getCalendarContainer,o=t.align,a=t.animation,s=t.disabled,l=t.dropdownClassName,c=t.transitionName,u=t.children,h=this.state;return p.default.createElement(d.default,{popup:this.getCalendarElement(),popupAlign:o,builtinPlacements:f.default,popupPlacement:n,action:s&&!h.open?[]:["click"],destroyPopupOnHide:!0,getPopupContainer:r,popupStyle:i,popupAnimation:a,popupTransitionName:c,popupVisible:h.open,onPopupVisibleChange:this.onVisibleChange,prefixCls:e,popupClassName:l},p.default.cloneElement(u(h,t),{onKeyDown:this.onKeyDown}))},m);function m(t){(0,r.default)(this,m);var e=(0,o.default)(this,y.call(this,t));b.call(e);var n=void 0,n="open"in t?t.open:t.defaultOpen,i=t.value||t.defaultValue;return e.saveCalendarRef=function(t,e){this[t]=e}.bind(e,"calendarInstance"),e.state={open:n,value:i},e}v.propTypes={animation:s.default.oneOfType([s.default.func,s.default.string]),disabled:s.default.bool,transitionName:s.default.string,onChange:s.default.func,onOpenChange:s.default.func,children:s.default.func,getCalendarContainer:s.default.func,calendar:s.default.element,style:s.default.object,open:s.default.bool,defaultOpen:s.default.bool,prefixCls:s.default.string,placement:s.default.any,value:s.default.oneOfType([s.default.object,s.default.array]),defaultValue:s.default.oneOfType([s.default.object,s.default.array]),align:s.default.object,dateRender:s.default.func,onBlur:s.default.func},v.defaultProps={prefixCls:"rc-calendar-picker",style:{},align:{},placement:"bottomLeft",defaultOpen:!1,onChange:g,onOpenChange:g,onBlur:g};var b=function(){var o=this;this.onCalendarKeyDown=function(t){t.keyCode===u.default.ESC&&(t.stopPropagation(),o.close(o.focus))},this.onCalendarSelect=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=o.props;"value"in n||o.setState({value:t}),"keyboard"!==e.source&&"dateInputSelect"!==e.source&&(n.calendar.props.timePicker||"dateInput"===e.source)&&"todayButton"!==e.source||o.close(o.focus),n.onChange(t)},this.onKeyDown=function(t){o.state.open||t.keyCode!==u.default.DOWN&&t.keyCode!==u.default.ENTER||(o.open(),t.preventDefault())},this.onCalendarOk=function(){o.close(o.focus)},this.onCalendarClear=function(){o.close(o.focus)},this.onCalendarBlur=function(){o.setOpen(!1)},this.onVisibleChange=function(t){o.setOpen(t)},this.getCalendarElement=function(){var t=o.props,e=o.state,n=t.calendar.props,i=e.value,r={ref:o.saveCalendarRef,defaultValue:i||n.defaultValue,selectedValue:i,onKeyDown:o.onCalendarKeyDown,onOk:(0,c.default)(n.onOk,o.onCalendarOk),onSelect:(0,c.default)(n.onSelect,o.onCalendarSelect),onClear:(0,c.default)(n.onClear,o.onCalendarClear),onBlur:(0,c.default)(n.onBlur,o.onCalendarBlur)};return p.default.cloneElement(t.calendar,r)},this.setOpen=function(t,e){var n=o.props.onOpenChange;o.state.open!==t&&("open"in o.props||o.setState({open:t},e),n(t))},this.open=function(t){o.setOpen(!0,t)},this.close=function(t){o.setOpen(!1,t)},this.focus=function(){o.state.open||a.default.findDOMNode(o).focus()},this.focusCalendar=function(){o.state.open&&o.calendarInstance&&o.calendarInstance.focus()}};(0,l.polyfill)(v),e.default=v,t.exports=e.default},1439:function(t,e,n){"use strict";n(32),n(1488)},1440:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==g(t)&&"function"!=typeof t)return{default:t};var e=d();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t){var o;Object.prototype.hasOwnProperty.call(t,r)&&((o=i?Object.getOwnPropertyDescriptor(t,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r])}n.default=t,e&&e.set(t,n);return n}(n(0)),u=f(n(9)),l=f(n(49)),i=n(17),o=f(n(24)),r=f(n(1491)),a=n(27),c=n(350),h=f(n(63)),p=f(n(349));function f(t){return t&&t.__esModule?t:{default:t}}function d(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return d=function(){return t},t}function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(){return(v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i,r=O(o);return e=a?(t=O(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),n=this,!(i=e)||"object"!==g(i)&&"function"!=typeof i?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):i}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n},_=new RegExp("^(".concat(c.PresetColorTypes.join("|"),")(-inverse)?$")),C=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(r,s.Component);var t,e,n,i=x(r);function r(t){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(a=i.call(this,t)).state={visible:!0},a.handleIconClick=function(t){t.stopPropagation(),a.setVisible(!1,t)},a.renderTag=function(t){var e=a.props,n=e.children,i=w(e,["children"]),r="onClick"in i||n&&"a"===n.type,o=(0,l.default)(i,["onClose","afterClose","color","visible","closable","prefixCls"]);return r?s.createElement(p.default,null,s.createElement("span",v({},o,{className:a.getTagClassName(t),style:a.getTagStyle()}),n,a.renderCloseIcon())):s.createElement("span",v({},o,{className:a.getTagClassName(t),style:a.getTagStyle()}),n,a.renderCloseIcon())},(0,h.default)(!("afterClose"in t),"Tag","'afterClose' will be deprecated, please use 'onClose', we will remove this in the next version."),a}return t=r,n=[{key:"getDerivedStateFromProps",value:function(t){return"visible"in t?{visible:t.visible}:null}}],(e=[{key:"getTagStyle",value:function(){var t=this.props,e=t.color,n=t.style,i=this.isPresetColor();return v({backgroundColor:e&&!i?e:void 0},n)}},{key:"getTagClassName",value:function(t){var e,n=t.getPrefixCls,i=this.props,r=i.prefixCls,o=i.className,a=i.color,s=this.state.visible,l=this.isPresetColor(),c=n("tag",r);return(0,u.default)(c,(y(e={},"".concat(c,"-").concat(a),l),y(e,"".concat(c,"-has-color"),a&&!l),y(e,"".concat(c,"-hidden"),!s),e),o)}},{key:"setVisible",value:function(t,e){var n=this.props,i=n.onClose,r=n.afterClose;i&&i(e),r&&!i&&r(),e.defaultPrevented||"visible"in this.props||this.setState({visible:t})}},{key:"isPresetColor",value:function(){var t=this.props.color;return!!t&&_.test(t)}},{key:"renderCloseIcon",value:function(){return this.props.closable?s.createElement(o.default,{type:"close",onClick:this.handleIconClick}):null}},{key:"render",value:function(){return s.createElement(a.ConfigConsumer,null,this.renderTag)}}])&&m(t.prototype,e),n&&m(t,n),r}();C.CheckableTag=r.default,C.defaultProps={closable:!1},(0,i.polyfill)(C),e.default=C},1488:function(t,e,n){},1489:function(t,e,n){"use strict";n(32),n(1490),n(348)},1490:function(t,e,n){},1491:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,h=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==s(t)&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t){var o;Object.prototype.hasOwnProperty.call(t,r)&&((o=i?Object.getOwnPropertyDescriptor(t,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r])}n.default=t,e&&e.set(t,n);return n}(n(0)),p=(i=n(9))&&i.__esModule?i:{default:i},o=n(27);function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i,r=g(o);return e=a?(t=g(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),n=this,!(i=e)||"object"!==s(i)&&"function"!=typeof i?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):i}}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n},r=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(r,h.Component);var t,e,n,i=u(r);function r(){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(u=i.apply(this,arguments)).handleClick=function(){var t=u.props,e=t.checked,n=t.onChange;n&&n(!e)},u.renderCheckableTag=function(t){var e,n=t.getPrefixCls,i=u.props,r=i.prefixCls,o=i.className,a=i.checked,s=y(i,["prefixCls","className","checked"]),l=n("tag",r),c=(0,p.default)(l,(d(e={},"".concat(l,"-checkable"),!0),d(e,"".concat(l,"-checkable-checked"),a),e),o);return delete s.onChange,h.createElement("span",f({},s,{className:c,onClick:u.handleClick}))},u}return t=r,(e=[{key:"render",value:function(){return h.createElement(o.ConfigConsumer,null,this.renderCheckableTag)}}])&&l(t.prototype,e),n&&l(t,n),r}();e.default=r},1492:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toPoints=e.getRegionBBox=e.BBox=void 0;var i=n(528),r=n(915),o=(a.fromRange=function(t,e,n,i){return new a(t,e,n-t,i-e)},Object.defineProperty(a.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),a.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)},a.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return i.each(t,function(t){n.x=Math.min(t.x,n.x),n.y=Math.min(t.y,n.y),n.width=Math.max(t.maxX,n.maxX)-n.x,n.height=Math.max(t.maxY,n.maxY)-n.y}),n},a.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return i.each(t,function(t){n.x=Math.max(t.x,n.x),n.y=Math.max(t.y,n.y),n.width=Math.min(t.maxX,n.maxX)-n.x,n.height=Math.min(t.maxY,n.maxY)-n.y}),n},a.prototype.cut=function(t,e){var n=t.width,i=t.height;switch(e){case r.DIRECTION.TOP:case r.DIRECTION.TOP_LEFT:case r.DIRECTION.TOP_RIGHT:return a.fromRange(this.minX,this.minY+i,this.maxX,this.maxY);case r.DIRECTION.RIGHT:case r.DIRECTION.RIGHT_TOP:case r.DIRECTION.RIGHT_BOTTOM:return a.fromRange(this.minX,this.minY,this.maxX-n,this.maxY);case r.DIRECTION.BOTTOM:case r.DIRECTION.BOTTOM_LEFT:case r.DIRECTION.BOTTOM_RIGHT:return a.fromRange(this.minX,this.minY,this.maxX,this.maxY-i);case r.DIRECTION.LEFT:case r.DIRECTION.LEFT_TOP:case r.DIRECTION.LEFT_BOTTOM:return a.fromRange(this.minX+n,this.minY,this.maxX,this.maxY);default:return this}},a.prototype.shrink=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return new a(this.x+r,this.y+e,this.width-r-n,this.height-e-i)},a.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},a.prototype.size=function(){return this.width*this.height},a);function a(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=t,this.y=e,this.height=i,this.width=n}e.BBox=o,e.getRegionBBox=function(t,e){var n=e.start,i=e.end;return new o(t.x+t.width*n.x,t.y+t.height*n.y,t.width*Math.abs(i.x-n.x),t.height*Math.abs(i.y-n.y))},e.toPoints=function(t){return[[t.minX,t.minY],[t.maxX,t.minY],[t.maxX,t.maxY],[t.minX,t.maxY]]}},1493:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function p(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.abs(n)>Math.abs(i)?0<n?"right":"left":0<i?"down":"up"}function f(t,e){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.sqrt(n*n+i*i)}function d(t,e){if(t){for(var n=[],i=t.length,r=0;r<i;r++){var o=t[r],a=o.clientX,s=o.clientY,l=e.getPointByClient(a,s);n.push(l)}return n}}var i,r=n(544),o=n(1494),a=(i=o.Controller,r.__extends(s,i),Object.defineProperty(s.prototype,"name",{get:function(){return"gesture"},enumerable:!1,configurable:!0}),s.prototype.init=function(){},s.prototype.render=function(){},s.prototype.layout=function(){},s.prototype.update=function(){},s.prototype.destroy=function(){this.reset(),this.offEvent(),this.processEvent=null},s.prototype.delegateEvent=function(){this.canvas.on("touchstart",this.touchStart),this.canvas.on("touchmove",this.touchMove),this.canvas.on("touchend",this.touchEnd)},s.prototype.offEvent=function(){this.canvas.off("touchstart",this.touchStart),this.canvas.off("touchmove",this.touchMove),this.canvas.off("touchend",this.touchEnd)},s.prototype.emitEvent=function(t,e){this.view.emit(t,e)},s.prototype.emitStart=function(t,e){this.isProcess(t)||(this.enable(t),this.emitEvent(t+"start",e))},s.prototype.emitEnd=function(e){var n=this,i=this.processEvent;Object.keys(i).forEach(function(t){n.emitEvent(t+"end",e),delete i[t]})},s.prototype.enable=function(t){this.processEvent[t]=!0},s.prototype.isProcess=function(t){return this.processEvent[t]},s.prototype.reset=function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null},s.prototype.clearPressTimeout=function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=0)},s.prototype.getEventType=function(t){var e=this.eventType,n=this.view,i=this.startTime,r=this.startPoints;if(e)return e;var o,a=n.getEvents().pan;return o=!a||!a.length||250<Date.now()-i&&f(r[0],t[0])<10?"press":"pan",this.eventType=o},s);function s(t){var h=i.call(this,t)||this;return h.processEvent={},h.touchStart=function(e){var t,n,i=d(e.originalEvent.touches,h.canvas);i&&(e.points=i,h.reset(),h.startTime=Date.now(),1<(h.startPoints=i).length?(h.startDistance=f(i[0],i[1]),h.center=(t=i[0],n=i[1],{x:(t.x+n.x)/2,y:(t.y+n.y)/2})):h.pressTimeout=setTimeout(function(){var t="press";e.direction="none",h.emitStart(t,e),h.emitEvent(t,e),h.eventType=t},250))},h.touchMove=function(t){var e,n,i,r,o,a,s,l,c,u=d(t.originalEvent.touches,h.canvas);u&&(h.clearPressTimeout(),t.points=u,(e=h.startPoints)&&(1<u.length?(n=h.startDistance,i=f(u[0],u[1]),t.zoom=i/n,t.center=h.center,h.emitStart("pinch",t),h.emitEvent("pinch",t)):(r=u[0].x-e[0].x,o=u[0].y-e[0].y,a=h.direction||p(e[0],u[0]),h.direction=a,s=h.getEventType(u),t.direction=a,t.deltaX=r,t.deltaY=o,h.emitStart(s,t),h.emitEvent(s,t),l=h.lastMoveTime,0<(c=Date.now())-l&&(h.prevMoveTime=l,h.prevMovePoints=h.lastMovePoints,h.lastMoveTime=c,h.lastMovePoints=u))))},h.touchEnd=function(t){h.emitEnd(t);var e,n,i,r,o=h.lastMoveTime;Date.now()-o<100&&(0<(e=o-(h.prevMoveTime||h.startTime))&&(n=h.prevMovePoints||h.startPoints,i=h.lastMovePoints,.3<(r=f(n[0],i[0])/e)&&(t.velocity=r,t.direction=p(n[0],i[0]),h.emitEvent("swipe",t)))),h.reset();var a=t.touches;a&&0<a.length&&h.touchStart(t)},h.canvas=t.getCanvas(),h.delegateEvent(),h.processEvent={},h}e.default=a},1494:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Controller=void 0;var i=n(528),r=(o.prototype.clear=function(){i.each(this.components,function(t){t.component.destroy()}),this.components=[]},o.prototype.destroy=function(){this.clear()},o.prototype.getComponents=function(){return this.components},o.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(t){e?t.component.show():t.component.hide()}),this.visible=e)},o);function o(t){this.visible=!0,this.components=[],this.view=t}e.Controller=r},1495:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r.prototype.toString=function(){return"[Event (type="+this.type+")]"},r.prototype.save=function(){},r.prototype.restore=function(){},r);function r(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}e.default=i},1496:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=n(1627),h=n(1628),p=n(528);function f(t){for(var e,n,i=[],r=t.length,o=0;o<r-1;o++){var a=t[o],s=t[o+1];i.push({from:{x:a[0],y:a[1]},to:{x:s[0],y:s[1]}})}return 1<i.length&&(e=t[0],n=t[r-1],i.push({from:{x:n[0],y:n[1]},to:{x:e[0],y:e[1]}})),i}function d(t){var e=t.map(function(t){return t[0]}),n=t.map(function(t){return t[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,n),maxY:Math.max.apply(null,n)}}e.default=function(e,n){if(e.length<2||n.length<2)return!1;var t,i,r=d(e),o=d(n);if(t=r,(i=o).minX>t.maxX||i.maxX<t.minX||i.minY>t.maxY||i.maxY<t.minY)return!1;var a=!1;if(p.each(n,function(t){if(u.default(e,t[0],t[1]))return!(a=!0)}),a)return!0;if(p.each(e,function(t){if(u.default(n,t[0],t[1]))return!(a=!0)}),a)return!0;var s=f(e),l=f(n),c=!1;return p.each(l,function(t){if(e=s,n=t,i=!1,p.each(e,function(t){if(h.default(t.from,t.to,n.from,n.to))return!(i=!0)}),i)return!(c=!0);var e,n,i}),c}},1497:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.propagationDelegate=void 0;var o=n(1495);e.propagationDelegate=function(t,e,n){var i=new o.default(e,n);i.target=t,i.propagationPath.push(t),t.emitDelegation(e,i);for(var r=t.getParent();r;)r.emitDelegation(e,i),i.propagationPath.push(r),r=r.getParent()}},1498:function(t,e){},1499:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});var v=n(902),m=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,b=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,x=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,O=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function w(t,n){var e=t.match(O);Object(v.c)(e,function(t){var e=t.split(":");n.addColorStop(e[0],e[1])})}function i(t,e,n){if(Object(v.k)(n)){if("("===n[1]||"("===n[2]){if("l"===n[0])return i=t,r=e,o=n,s=m.exec(o),l=parseFloat(s[1])%360*(Math.PI/180),c=s[2],u=r.getBBox(),h=0<=l&&l<.5*Math.PI?(a={x:u.minX,y:u.minY},{x:u.maxX,y:u.maxY}):.5*Math.PI<=l&&l<Math.PI?(a={x:u.maxX,y:u.minY},{x:u.minX,y:u.maxY}):Math.PI<=l&&l<1.5*Math.PI?(a={x:u.maxX,y:u.maxY},{x:u.minX,y:u.minY}):(a={x:u.minX,y:u.maxY},{x:u.maxX,y:u.minY}),p=Math.tan(l),f=p*p,d=(h.x-a.x+p*(h.y-a.y))/(1+f)+a.x,g=p*(h.x-a.x+p*(h.y-a.y))/(1+f)+a.y,y=i.createLinearGradient(a.x,a.y,d,g),w(c,y),y;if("r"===n[0])return function(t,e,n){var i=b.exec(n),r=parseFloat(i[1]),o=parseFloat(i[2]),a=parseFloat(i[3]),s=i[4];if(0===a){var l=s.match(O);return l[l.length-1].split(":")[1]}var c=e.getBBox(),u=c.maxX-c.minX,h=c.maxY-c.minY,p=Math.sqrt(u*u+h*h)/2,f=t.createRadialGradient(c.minX+u*r,c.minY+h*o,0,c.minX+u/2,c.minY+h/2,a*p);return w(s,f),f}(t,e,n);if("p"===n[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===n)return e.get("pattern");var i,r,o=x.exec(n),a=o[1],s=o[2];function l(){i=t.createPattern(r,a),e.set("pattern",i),e.set("patternSource",n)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return r=new Image,s.match(/^data:/i)||(r.crossOrigin="Anonymous"),r.src=s,r.complete?l():(r.onload=l,r.src=r.src),i}(t,e,n)}return n}var i,r,o,a,s,l,c,u,h,p,f,d,g,y}function r(t){var e=0,n=0,i=0,r=0;return Object(v.g)(t)?1===t.length?e=n=i=r=t[0]:2===t.length?(e=i=t[0],n=r=t[1]):3===t.length?(e=t[0],n=r=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],r=t[3]):e=n=i=r=t,[e,n,i,r]}},1500:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1629);e.getBBoxMethod=i.getMethod;var r=n(1630),o=n(1631),a=n(1632),s=n(1633),l=n(1634),c=n(1635),u=n(1639),h=n(1640);i.register("rect",r.default),i.register("image",r.default),i.register("circle",o.default),i.register("marker",o.default),i.register("polyline",a.default),i.register("polygon",s.default),i.register("text",l.default),i.register("path",c.default),i.register("line",u.default),i.register("ellipse",h.default)},1501:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1502),a=n(1503);function r(t,e){return e?e-t:.14*t}e.getTextHeight=function(t,e,n){var i=1;return o.isString(t)&&(i=t.split("\n").length),1<i?e*i+r(e,n)*(i-1):e},e.getLineSpaceing=r,e.getTextWidth=function(t,e){var n,i=a.getOffScreenContext(),r=0;return o.isNil(t)||""===t||(i.save(),i.font=e,o.isString(t)&&t.includes("\n")?(n=t.split("\n"),o.each(n,function(t){var e=i.measureText(t).width;r<e&&(r=e)})):r=i.measureText(t).width,i.restore()),r},e.assembleFont=function(t){var e=t.fontSize,n=t.fontFamily,i=t.fontWeight;return[t.fontStyle,t.fontVariant,i,e+"px",n].join(" ").trim()}},1502:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeFromArray=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},e.isBrowser="undefined"!=typeof window&&void 0!==window.document;var i=n(1357);e.isNil=i.default;var r=n(1365);e.isFunction=r.default;var o=n(1341);e.isString=o.default;var a=n(1397);e.isObject=a.default;var s=n(913);e.isArray=s.default;var l=n(1419);e.mix=l.default;var c=n(1351);e.each=c.default;var u=n(1420);e.upperFirst=u.default,e.isParent=function(t,e){if(t.isCanvas())return!0;for(var n=e.getParent(),i=!1;n;){if(n===t){i=!0;break}n=n.getParent()}return i},e.isAllowCapture=function(t){return t.cfg.visible&&t.cfg.capture}},1503:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=null;e.getOffScreenContext=function(){var t;return i||((t=document.createElement("canvas")).width=1,t.height=1,i=t.getContext("2d")),i}},1504:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=n(1353),u=n(916),l=n(1505);function p(t,e,n,i){var r=1-i;return r*r*t+2*i*r*e+i*i*n}function f(t,e,n){var i=t+n-2*e;if(u.isNumberEqual(i,0))return[.5];var r=(t-e)/i;return r<=1&&0<=r?[r]:[]}function d(t,e,n,i){return 2*(1-i)*(e-t)+2*i*(n-e)}function g(t,e,n,i,r,o,a){var s=p(t,n,r,a),l=p(e,i,o,a),c=h.default.pointAt(t,e,n,i,a),u=h.default.pointAt(n,i,r,o,a);return[[t,e,c.x,c.y,s,l],[s,l,u.x,u.y,r,o]]}function y(t,e,n,i,r,o,a){if(0===a)return(u.distance(t,e,n,i)+u.distance(n,i,r,o)+u.distance(t,e,r,o))/2;var s=g(t,e,n,i,r,o,.5),l=s[0],c=s[1];return l.push(a-1),c.push(a-1),y.apply(null,l)+y.apply(null,c)}e.default={box:function(t,e,n,i,r,o){var a=f(t,n,r)[0],s=f(e,i,o)[0],l=[t,r],c=[e,o];return void 0!==a&&l.push(p(t,n,r,a)),void 0!==s&&c.push(p(e,i,o,s)),u.getBBoxByArray(l,c)},length:function(t,e,n,i,r,o){return y(t,e,n,i,r,o,3)},nearestPoint:function(t,e,n,i,r,o,a,s){return l.nearestPoint([t,n,r],[e,i,o],a,s,p)},pointDistance:function(t,e,n,i,r,o,a,s){var l=this.nearestPoint(t,e,n,i,r,o,a,s);return u.distance(l.x,l.y,a,s)},interpolationAt:p,pointAt:function(t,e,n,i,r,o,a){return{x:p(t,n,r,a),y:p(e,i,o,a)}},divide:g,tangentAngle:function(t,e,n,i,r,o,a){var s=d(t,n,r,a),l=d(e,i,o,a),c=Math.atan2(l,s);return u.piMod(c)}}},1505:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var m=n(916);e.nearestPoint=function(t,e,n,i,r){for(var o,a=.005,s=1/0,l=[n,i],c=0;c<=20;c++){var u=.05*c,h=[r.apply(null,t.concat([u])),r.apply(null,e.concat([u]))];(v=m.distance(l[0],l[1],h[0],h[1]))<s&&(o=u,s=v)}if(0===o)return{x:t[0],y:e[0]};if(1===o){var p=t.length;return{x:t[p-1],y:e[p-1]}}for(s=1/0,c=0;c<32&&!(a<1e-4);c++){var f,d,g=o-a,y=o+a,h=[r.apply(null,t.concat([g])),r.apply(null,e.concat([g]))],v=m.distance(l[0],l[1],h[0],h[1]);0<=g&&v<s?(o=g,s=v):(f=[r.apply(null,t.concat([y])),r.apply(null,e.concat([y]))],d=m.distance(l[0],l[1],f[0],f[1]),y<=1&&d<s?(o=y,s=d):a*=.5)}return{x:r.apply(null,t.concat([o])),y:r.apply(null,e.concat([o]))}},e.snapLength=function(t,e){for(var n=0,i=t.length,r=0;r<i;r++){var o=t[r],a=e[r],s=t[(r+1)%i],l=e[(r+1)%i];n+=m.distance(o,a,s,l)}return n/2}},1506:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var R=n(1507),N=n(1507),Y=n(1638);function V(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}e.default=function(t){for(var e=[],n=null,i=null,r=null,o=0,a=(t=Y.default(t)).length,s=0;s<a;s++){var l,c=t[s],i=t[s+1],u=c[0],h={command:u,prePoint:n,params:c,startTangent:null,endTangent:null};switch(u){case"M":r=[c[1],c[2]],o=s;break;case"A":var p=R.default(n,c);h.arcParams=p}"Z"===u?(n=r,i=t[o+1]):n=[c[(l=c.length)-2],c[l-1]],i&&"Z"===i[0]&&(i=t[o],e[o]&&(e[o].prePoint=n)),h.currentPoint=n,e[o]&&N.isSamePoint(n,e[o].currentPoint)&&(e[o].prePoint=h.prePoint);var f=i?[i[i.length-2],i[i.length-1]]:null;h.nextPoint=f;var d,g,y,v,m,b,x,O,w,_,C,j,S,M,k,T,P,A,E,L,I,B,D,F=h.prePoint;["L","H","V"].includes(u)?(h.startTangent=[F[0]-n[0],F[1]-n[1]],h.endTangent=[n[0]-F[0],n[1]-F[1]]):"Q"===u?(d=[c[1],c[2]],h.startTangent=[F[0]-d[0],F[1]-d[1]],h.endTangent=[n[0]-d[0],n[1]-d[1]]):"T"===u?(d=V((g=e[s-1]).currentPoint,F),"Q"===g.command?(h.command="Q",h.startTangent=[F[0]-d[0],F[1]-d[1]],h.endTangent=[n[0]-d[0],n[1]-d[1]]):(h.command="TL",h.startTangent=[F[0]-n[0],F[1]-n[1]],h.endTangent=[n[0]-F[0],n[1]-F[1]])):"C"===u?(y=[c[1],c[2]],v=[c[3],c[4]],h.startTangent=[F[0]-y[0],F[1]-y[1]],h.endTangent=[n[0]-v[0],n[1]-v[1]]):"S"===u?(y=V((g=e[s-1]).currentPoint,F),v=[c[1],c[2]],"C"===g.command?(h.command="C",h.startTangent=[F[0]-y[0],F[1]-y[1]]):(h.command="SQ",h.startTangent=[F[0]-v[0],F[1]-v[1]]),h.endTangent=[n[0]-v[0],n[1]-v[1]]):"A"===u&&(m=.001,O=void 0===(x=(b=h.arcParams||{}).cx)?0:x,_=void 0===(w=b.cy)?0:w,M=void 0===(S=b.ry)?0:S,P=void 0===(T=b.startAngle)?0:T,E=void 0===(A=b.endAngle)?0:A,0===(void 0===(k=b.sweepFlag)?0:k)&&(m*=-1),L=(j=void 0===(C=b.rx)?0:C)*Math.cos(P-m)+O,I=M*Math.sin(P-m)+_,h.startTangent=[L-r[0],I-r[1]],B=j*Math.cos(P+E+m)+O,D=M*Math.sin(P+E-m)+_,h.endTangent=[F[0]-B,F[1]-D]),e.push(h)}return e}},1507:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var C=n(1386),j=n(1387);function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function S(t,e){return i(t)*i(e)?(t[0]*e[0]+t[1]*e[1])/(i(t)*i(e)):1}function M(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(S(t,e))}function k(t,e){return t[0]===e[0]&&t[1]===e[1]}e.isSamePoint=k,e.default=function(t,e){var n=e[1],i=e[2],r=C.default(j.default(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],c=e[6],u=e[7],h=Math.cos(r)*(s-c)/2+Math.sin(r)*(l-u)/2,p=-1*Math.sin(r)*(s-c)/2+Math.cos(r)*(l-u)/2,f=h*h/(n*n)+p*p/(i*i);1<f&&(n*=Math.sqrt(f),i*=Math.sqrt(f));var d=n*n*(p*p)+i*i*(h*h),g=d?Math.sqrt((n*n*(i*i)-d)/d):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var y=i?g*n*p/i:0,v=n?g*-i*h/n:0,m=(s+c)/2+Math.cos(r)*y-Math.sin(r)*v,b=(l+u)/2+Math.sin(r)*y+Math.cos(r)*v,x=[(h-y)/n,(p-v)/i],O=[(-1*h-y)/n,(-1*p-v)/i],w=M([1,0],x),_=M(x,O);return S(x,O)<=-1&&(_=Math.PI),1<=S(x,O)&&(_=0),0===a&&0<_&&(_-=2*Math.PI),1===a&&_<0&&(_+=2*Math.PI),{cx:m,cy:b,rx:k(t,[c,u])?0:n,ry:k(t,[c,u])?0:i,startAngle:w,endAngle:w+_,xRotation:r,arcFlag:o,sweepFlag:a}}},1508:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var w=n(1641),_=/[a-z]/;function C(t,e){return[e[0]+(e[0]-t[0]),e[1]+(e[1]-t[1])]}e.default=function(t){var e=w.default(t);if(!e||!e.length)return[["M",0,0]];for(var n=!1,i=0;i<e.length;i++){var r=e[i][0];if(_.test(r)||0<=["V","H","T","S"].indexOf(r)){n=!0;break}}if(!n)return e;var o=[],a=0,s=0,l=0,c=0,u=0,h=e[0];"M"!==h[0]&&"m"!==h[0]||(l=a=+h[1],c=s=+h[2],u++,o[0]=["M",a,s]);for(var i=u,p=e.length;i<p;i++){var f=e[i],d=o[i-1],g=[],y=(r=f[0]).toUpperCase();if(r!==y)switch(g[0]=y){case"A":g[1]=f[1],g[2]=f[2],g[3]=f[3],g[4]=f[4],g[5]=f[5],g[6]=+f[6]+a,g[7]=+f[7]+s;break;case"V":g[1]=+f[1]+s;break;case"H":g[1]=+f[1]+a;break;case"M":l=+f[1]+a,c=+f[2]+s;break;default:for(var v=1,m=f.length;v<m;v++)g[v]=+f[v]+(v%2?a:s)}else g=e[i];switch(y){case"Z":a=+l,s=+c;break;case"H":g=["L",a=g[1],s];break;case"V":g=["L",a,s=g[1]];break;case"T":a=g[1],s=g[2];var b=C([d[1],d[2]],[d[3],d[4]]),g=["Q",b[0],b[1],a,s];break;case"S":a=g[g.length-2],s=g[g.length-1];var x=d.length,O=C([d[x-4],d[x-3]],[d[x-2],d[x-1]]);g=["C",O[0],O[1],g[1],g[2],a,s];break;case"M":l=g[g.length-2],c=g[g.length-1];break;default:a=g[g.length-2],s=g[g.length-1]}o.push(g)}return o}},1509:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1642),o=n(916);e.default={box:function(t){for(var e=[],n=[],i=0;i<t.length;i++){var r=t[i];e.push(r[0]),n.push(r[1])}return o.getBBoxByArray(e,n)},length:function(t){return i.lengthOfSegment(t)},pointAt:function(t,e){return i.pointAtSegments(t,e)},pointDistance:function(t,e,n){return i.distanceAtSegment(t,e,n)},tangentAngle:function(t,e){return i.angleAtSegments(t,e)}}},1510:function(t,e,n){"use strict";n.r(e);var i=n(1511);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,function(){return i[t]})}(r)},1511:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},1512:function(t,e,n){"use strict";n.r(e);var i=n(1513);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,function(){return i[t]})}(r)},1513:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},1514:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=n(544),y=n(528),u=n(1515),h=n(1516),p=n(1429),f=n(1650),i=n(1494);var r,o=(r=i.Controller,d.__extends(a,r),Object.defineProperty(a.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),a.prototype.init=function(){},a.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},a.prototype.render=function(){},a.prototype.showTooltip=function(t){var e,n,i,r,o,a,s,l,c,u,h,p,f;this.point=t,this.isVisible()&&(e=this.view,(n=this.getTooltipItems(t)).length?(i=this.getTitle(n),r={x:n[0].x,y:n[0].y},e.emit("tooltip:show",d.__assign({items:n,title:i},t)),a=(o=this.getTooltipCfg()).follow,s=o.showMarkers,l=o.showCrosshairs,c=o.showContent,u=o.marker,h=this.items,p=this.title,y.isEqual(p,i)&&y.isEqual(h,n)?(this.tooltip&&a&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",d.__assign({items:n,title:i},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update(y.mix({},o,{items:n,title:i},a?t:{})),this.tooltip.show()),s&&this.renderTooltipMarkers(n,u)),this.items=n,this.title=i,l&&(f=y.get(o,["crosshairs","follow"],!1),this.renderCrosshairs(f?t:r,o))):this.hideTooltip())},a.prototype.hideTooltip=function(){var t,e,n,i;this.getTooltipCfg().follow&&((t=this.tooltipMarkersGroup)&&t.hide(),e=this.xCrosshair,n=this.yCrosshair,e&&e.hide(),n&&n.hide(),(i=this.tooltip)&&i.hide(),this.view.emit("tooltip:hide",{})),this.point=null},a.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},a.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},a.prototype.isTooltipLocked=function(){return this.isLocked},a.prototype.clear=function(){var t=this.tooltip,e=this.xCrosshair,n=this.yCrosshair,i=this.tooltipMarkersGroup;t&&(t.hide(),t.clear()),e&&e.clear(),n&&n.clear(),i&&i.clear()},a.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},a.prototype.changeVisible=function(t){var e,n,i,r;this.visible!==t&&(e=this.tooltip,n=this.tooltipMarkersGroup,i=this.xCrosshair,r=this.yCrosshair,t?(e&&e.show(),n&&n.show(),i&&i.show(),r&&r.show()):(e&&e.hide(),n&&n.hide(),i&&i.hide(),r&&r.hide()),this.visible=t)},a.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){for(var n=0,i=e=y.flatten(e);n<i.length;n++)for(var r=0,o=i[n];r<o.length;r++){var a=o[r],s=a.mappingData,l=s.x,c=s.y;a.x=y.isArray(l)?l[l.length-1]:l,a.y=y.isArray(c)?c[c.length-1]:c}if(!1===this.getTooltipCfg().shared&&1<e.length){for(var u=e[0],h=Math.abs(t.y-u[0].y),p=0,f=e;p<f.length;p++){var d=f[p],g=Math.abs(t.y-d[0].y);g<=h&&(u=d,h=g)}e=[u]}return function(n){for(var i=[],t=0;t<n.length;t++)!function(t){var e=n[t];y.find(i,function(t){return t.color===e.color&&t.name===e.name&&t.value===e.value&&t.title===e.title})||i.push(e)}(t);return i}(y.flatten(e))}return[]},a.prototype.layout=function(){},a.prototype.update=function(){var t;this.point&&this.showTooltip(this.point),this.tooltip&&(t=this.view.getCanvas(),this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}}))},a.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),i=y.get(n,["components","tooltip"],{}),r=y.isUndefined(y.get(e,"enterable"))?i.enterable:y.get(e,"enterable");return y.deepMix({},i,e,{capture:!(!r&&!this.isLocked)})},a.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e},a.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),i=new u.HtmlTooltip(d.__assign(d.__assign({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));i.init(),this.tooltip=i},a.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),i=0,r=t;i<r.length;i++){var o=r[i],a=o.x,s=o.y,l=d.__assign(d.__assign({fill:o.color,symbol:"circle",shadowColor:o.color},e),{x:a,y:s});n.addShape("marker",{attrs:l})}},a.prototype.renderCrosshairs=function(t,e){var n=y.get(e,["crosshairs","type"],"x");"x"===n?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===n?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===n&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},a.prototype.renderXCrosshairs=function(t,e){var n,i,r,o,a,s,l,c=this.getViewWithGeometry(this.view).getCoordinate();h.isPointInCoordinate(c,t)&&(c.isRect?o=c.isTransposed?(a={x:c.start.x,y:t.y},{x:c.end.x,y:t.y}):(a={x:t.x,y:c.end.y},{x:t.x,y:c.start.y}):(n=h.getAngleByPoint(c,t),i=c.getCenter(),r=c.getRadius(),o=p.polarToCartesian(i.x,i.y,r,n),a=i),delete(s=y.deepMix({start:a,end:o,container:this.getTooltipCrosshairsGroup()},y.get(e,"crosshairs",{}),this.getCrosshairsText("x",t,e))).type,(l=this.xCrosshair)?l.update(s):(l=new u.Crosshair.Line(s)).init(),l.render(),l.show(),this.xCrosshair=l)},a.prototype.renderYCrosshairs=function(t,e){var n,i,r,o,a,s=this.getViewWithGeometry(this.view).getCoordinate();h.isPointInCoordinate(s,t)&&(o=s.isRect?(i=n=void 0,i=s.isTransposed?(n={x:t.x,y:s.end.y},{x:t.x,y:s.start.y}):(n={x:s.start.x,y:t.y},{x:s.end.x,y:t.y}),r={start:n,end:i},"Line"):(r={center:s.getCenter(),radius:h.getDistanceToCenter(s,t),startAngle:s.startAngle,endAngle:s.endAngle},"Circle"),delete(r=y.deepMix({container:this.getTooltipCrosshairsGroup()},r,y.get(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type,!(a=this.yCrosshair)||s.isRect&&"circle"===a.get("type")||!s.isRect&&"line"===a.get("type")?(a=new u.Crosshair[o](r)).init():a.update(r),a.render(),a.show(),this.yCrosshair=a)},a.prototype.getCrosshairsText=function(t,e,n){var i=y.get(n,["crosshairs","text"]),r=y.get(n,["crosshairs","follow"]),o=this.items;if(i){var a,s=this.getViewWithGeometry(this.view),l=o[0],c=s.getXScale(),u=s.getYScales()[0],h=void 0,p=void 0;p=r?(a=this.view.getCoordinate().invert(e),h=c.invert(a.x),u.invert(a.y)):(h=l.data[c.field],l.data[u.field]);var f="x"===t?h:p;return y.isFunction(i)?i=i(t,f,o,e):i.content=f,{text:i}}},a.prototype.getGuideGroup=function(){var t;return this.guideGroup||(t=this.view.foregroundGroup,this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})),this.guideGroup},a.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},a.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},a.prototype.getTooltipItemsByHitShape=function(t,e,n){var i,r,o=[],a=t.container.getShape(e.x,e.y);return a&&a.get("visible")&&a.get("origin")&&(i=a.get("origin").mappingData,(r=f.getTooltipItems(i,t,n)).length&&o.push(r)),o},a.prototype.getTooltipItemsByFindData=function(t,e,n){var i=[],r=t.dataArray;t.sort(r);for(var o=0,a=r;o<a.length;o++){var s,l,c,u=a[o],h=f.findDataByPoint(e,u,t);h&&(s=t.getElementId(h),l=t.elementsMap[s],"heatmap"!==t.type&&!l.visible||(c=f.getTooltipItems(h,t,n)).length&&i.push(c))}return i},a.prototype.findItemsFromView=function(t,e){if(!1===t.getOptions().tooltip)return[];for(var n=[],i=t.geometries,r=this.getTooltipCfg(),o=r.shared,a=r.title,s=0,l=i;s<l.length;s++){var c,u,h=l[s];h.visible&&!1!==h.tooltipOption&&(c=h.type,u=void 0,(u=!["point","edge","polygon"].includes(c)&&(["area","line","path","heatmap"].includes(c)||!1!==o)?this.getTooltipItemsByFindData(h,e,a):this.getTooltipItemsByHitShape(h,e,a)).length&&n.push(u))}for(var p=0,f=t.views;p<f.length;p++)var d=f[p],n=n.concat(this.findItemsFromView(d,e));return n},a.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:y.find(t.views,function(t){return e.getViewWithGeometry(t)})},a);function a(){var t=null!==r&&r.apply(this,arguments)||this;return t.isLocked=!1,t}e.default=o},1515:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=e.HtmlTooltip=e.ContinuousLegend=e.CategoryLegend=e.CircleGrid=e.LineGrid=e.CircleAxis=e.LineAxis=e.Annotation=e.Crosshair=e.Component=e.GroupComponent=e.HtmlComponent=void 0;var i=n(698);Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(e,"AbstractGroup",{enumerable:!0,get:function(){return i.AbstractGroup}}),Object.defineProperty(e,"AbstractShape",{enumerable:!0,get:function(){return i.AbstractShape}});var r=n(1385);Object.defineProperty(e,"registerAdjust",{enumerable:!0,get:function(){return r.registerAdjust}}),Object.defineProperty(e,"getAdjust",{enumerable:!0,get:function(){return r.getAdjust}}),Object.defineProperty(e,"Adjust",{enumerable:!0,get:function(){return r.Adjust}});var o=n(1399);Object.defineProperty(e,"getAttribute",{enumerable:!0,get:function(){return o.getAttribute}}),Object.defineProperty(e,"Attribute",{enumerable:!0,get:function(){return o.Attribute}});var a=n(1404);Object.defineProperty(e,"Color",{enumerable:!0,get:function(){return a.Color}});var s=n(1360);Object.defineProperty(e,"getCoordinate",{enumerable:!0,get:function(){return s.getCoordinate}}),Object.defineProperty(e,"registerCoordinate",{enumerable:!0,get:function(){return s.registerCoordinate}}),Object.defineProperty(e,"Coordinate",{enumerable:!0,get:function(){return s.Coordinate}});var l=n(897);Object.defineProperty(e,"getScale",{enumerable:!0,get:function(){return l.getScale}}),Object.defineProperty(e,"registerScale",{enumerable:!0,get:function(){return l.registerScale}}),Object.defineProperty(e,"Scale",{enumerable:!0,get:function(){return l.Scale}});var c=n(711);Object.defineProperty(e,"Annotation",{enumerable:!0,get:function(){return c.Annotation}}),Object.defineProperty(e,"Component",{enumerable:!0,get:function(){return c.Component}}),Object.defineProperty(e,"Crosshair",{enumerable:!0,get:function(){return c.Crosshair}}),Object.defineProperty(e,"GroupComponent",{enumerable:!0,get:function(){return c.GroupComponent}}),Object.defineProperty(e,"HtmlComponent",{enumerable:!0,get:function(){return c.HtmlComponent}}),Object.defineProperty(e,"Slider",{enumerable:!0,get:function(){return c.Slider}});var u=c.Axis.Line,h=c.Axis.Circle;e.LineAxis=u,e.CircleAxis=h;var p=c.Grid.Line,f=c.Grid.Circle;e.LineGrid=p,e.CircleGrid=f;var d=c.Legend.Category,g=c.Legend.Continuous;e.CategoryLegend=d,e.ContinuousLegend=g;var y=c.Tooltip.Html;e.HtmlTooltip=y},1516:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCoordinateClipCfg=e.getAngleByPoint=e.isPointInCoordinate=e.getDistanceToCenter=e.isFullCircle=e.getXDimensionLength=void 0;var h=n(1429),a=n(1649);e.getXDimensionLength=function(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),n=t.convert({x:1,y:0});return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},e.isFullCircle=function(t){if(t.isPolar){var e=t.startAngle;return t.endAngle-e==2*Math.PI}return!1},e.getDistanceToCenter=function(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))},e.isPointInCoordinate=function(t,e){var n,i,r,o=!1;return t&&(o="theta"===t.type?(n=t.start,i=t.end,a.isBetween(e.x,n.x,i.x)&&a.isBetween(e.y,n.y,i.y)):(r=t.invert(e),a.isBetween(r.x,0,1)&&a.isBetween(r.y,0,1))),o},e.getAngleByPoint=function(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)},e.getCoordinateClipCfg=function(t,n){void 0===n&&(n=0);var e,i=t.start,r=t.end,o=t.getWidth(),a=t.getHeight();if(t.isPolar){var s=t.startAngle,l=t.endAngle,c=t.getCenter(),u=t.getRadius();return{type:"path",startState:{path:h.getSectorPath(c.x,c.y,u+n,s,s)},endState:function(t){var e=(l-s)*t+s;return{path:h.getSectorPath(c.x,c.y,u+n,s,e)}},attrs:{path:h.getSectorPath(c.x,c.y,u+n,s,l)}}}return e=t.isTransposed?{height:a+2*n}:{width:o+2*n},{type:"rect",startState:{x:i.x-n,y:r.y-n,width:t.isTransposed?o+2*n:0,height:t.isTransposed?0:a+2*n},endState:e,attrs:{x:i.x-n,y:r.y-n,width:o+2*n,height:a+2*n}}}},1517:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(544),l=n(528),o=n(1652),r=i.__importDefault(n(1655)),a=i.__importDefault(n(1657));function s(t,e){var n=t.split(":"),i=n[0],r=e.getAction(i)||o.createAction(i,e);if(!r)throw new Error("There is no action named "+i);return{action:r,methodName:n[1]}}function c(t){var e=t.action,n=t.methodName;if(!e[n])throw new Error("Action("+e.name+") doesn't have a method called "+n);e[n]()}var u,h="start",p="showEnable",f="end",d="rollback",g="processing",y=(u=a.default,i.__extends(v,u),v.prototype.init=function(){this.initContext(),u.prototype.init.call(this)},v.prototype.destroy=function(){u.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},v.prototype.initEvents=function(){var i=this;l.each(this.steps,function(t,n){l.each(t,function(t){var e=i.getActionCallback(n,t);e&&i.bindEvent(t.trigger,e)})})},v.prototype.clearEvents=function(){var i=this;l.each(this.steps,function(t,n){l.each(t,function(t){var e=i.getActionCallback(n,t);e&&i.offEvent(t.trigger,e)})})},v.prototype.initContext=function(){var t=this.view,n=new r.default(t);this.context=n;var e=this.steps;l.each(e,function(t){l.each(t,function(e){var t;l.isFunction(e.action)?e.actionObject={action:o.createCallbackAction(e.action,n),methodName:"execute"}:l.isString(e.action)?e.actionObject=s(e.action,n):l.isArray(e.action)&&(t=e.action,e.actionObject=[],l.each(t,function(t){e.actionObject.push(s(t,n))}))})})},v.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t)return!0;if(t===p)return!0;if(t===g)return e===h;if(t===h)return e!==g;if(t===f)return e===g||e===h;if(t===d){if(n[f])return e===f;if(e===h)return!0}return!1},v.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return e.once&&this.emitCaches[n]?!1:!e.isEnable||e.isEnable(this.context)}return!1},v.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},v.prototype.afterExecute=function(t,e){t!==p&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},v.prototype.getKey=function(t,e){return t+e.trigger+e.action},v.prototype.getActionCallback=function(t,n){var i=this,r=this.context,e=this.callbackCaches,o=n.actionObject;if(n.action&&o){var a,s=this.getKey(t,n);return e[s]||(a=function(e){r.event=e,i.isAllowExcute(t,n)?(l.isArray(o)?l.each(o,function(t){r.event=e,c(t)}):(r.event=e,c(o)),i.afterExecute(t,n),n.callback&&(r.event=e,n.callback(r))):r.event=null},n.debounce?e[s]=l.debounce(a,n.debounce.wait,n.debounce.immediate):n.throttle?e[s]=l.throttle(a,n.throttle.wait,{leading:n.throttle.leading,trailing:n.throttle.trailing}):e[s]=a),e[s]}return null},v.prototype.bindEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.addEventListener(n[1],e):"document"===n[0]?document.addEventListener(n[1],e):this.view.on(t,e)},v.prototype.offEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.removeEventListener(n[1],e):"document"===n[0]?document.removeEventListener(n[1],e):this.view.off(t,e)},v);function v(t,e){var n=u.call(this,t,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}e.default=y},1518:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s,l=n(544),h=n(528),p=n(1358),i=l.__importDefault(n(1659)),f=n(1429),d=n(1497),r=(s=i.default,l.__extends(o,s),o.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},o.prototype.update=function(t){var e,n,i=this.shapeFactory,r=this.shape;r&&(this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(r,t),e=this.getOffscreenGroup(),(n=i.drawShape(this.shapeType,t,e)).cfg.data=this.data,n.cfg.origin=t,this.syncShapeStyle(r,n,"",this.getAnimateCfg("update")))},o.prototype.destroy=function(){var t,e=this.shapeFactory,n=this.shape;n&&((t=this.getAnimateCfg("leave"))?p.doAnimate(n,t,{coordinate:e.coordinate,toAttrs:l.__assign({},n.attr())}):n.remove(!0)),this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,s.prototype.destroy.call(this)},o.prototype.changeVisible=function(t){s.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(t){t.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(t){t.hide()}))},o.prototype.setState=function(t,e){var n=this,i=this.states,r=this.shapeFactory,o=this.model,a=this.shape,s=this.shapeType,l=i.indexOf(t);if(e){if(-1<l)return;i.push(t),"active"!==t&&"selected"!==t||a.toFront()}else{if(-1===l)return;i.splice(l,1),"active"!==t&&"selected"!==t||a.toBack()}var c=r.drawShape(s,o,this.getOffscreenGroup());i.length?i.forEach(function(t){n.syncShapeStyle(a,c,t,null)}):this.syncShapeStyle(a,c,"reset",null),c.remove(!0);var u={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",u),d.propagationDelegate(this.shape,"statechange",u)},o.prototype.clearStates=function(){var e=this,t=this.states;h.each(t,function(t){e.setState(t,!1)}),this.states=[]},o.prototype.hasState=function(t){return this.states.includes(t)},o.prototype.getStates=function(){return this.states},o.prototype.getData=function(){return this.data},o.prototype.getModel=function(){return this.model},o.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,n={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(n=t.getCanvasBBox()),e&&e.forEach(function(t){var e=t.getCanvasBBox();n.x=Math.min(e.x,n.x),n.y=Math.min(e.y,n.y),n.minX=Math.min(e.minX,n.minX),n.minY=Math.min(e.minY,n.minY),n.maxX=Math.max(e.maxX,n.maxX),n.maxY=Math.max(e.maxY,n.maxY)}),n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n},o.prototype.getStatesStyle=function(){var t,e,n,i,r,o;return this.statesStyle||(t=this.shapeType,e=this.geometry,n=this.shapeFactory,i=e.stateOption,r=n.defaultShapeType,o=n.theme[t]||n.theme[r],this.statesStyle=h.deepMix({},o,i)),this.statesStyle},o.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),i=h.get(n,[t,"style"],{}),r=i[e]||i;return h.isFunction(r)?r(this):r},o.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},o.prototype.drawShape=function(t,e){void 0===e&&(e=!1);var n,i,r,o=this.shapeFactory,a=this.container,s=this.shapeType;this.shape=o.drawShape(s,t,a),this.shape&&(this.setShapeInfo(this.shape,t),(n=this.shape.cfg.name)?h.isString(n)&&(this.shape.cfg.name=["element",n]):this.shape.cfg.name=["element",this.shapeFactory.geometryType],i=e?"enter":"appear",(r=this.getAnimateCfg(i))&&p.doAnimate(this.shape,r,{coordinate:o.coordinate,toAttrs:l.__assign({},this.shape.attr())}))},o.prototype.getOffscreenGroup=function(){var t;return this.offscreenGroup||(t=this.container.getGroupBase(),this.offscreenGroup=new t({})),this.offscreenGroup},o.prototype.setShapeInfo=function(t,e){var n=this;t.cfg.origin=e,t.cfg.element=this,t.isGroup()&&t.get("children").forEach(function(t){n.setShapeInfo(t,e)})},o.prototype.syncShapeStyle=function(t,e,n,i,r){if(void 0===n&&(n=""),void 0===r&&(r=0),t.isGroup())for(var o=t.get("children"),a=e.get("children"),s=0;s<o.length;s++)this.syncShapeStyle(o[s],a[s],n,i,r+s);else{var l,c;n&&"reset"!==n&&(l=t.get("name"),h.isArray(l)&&(l=l[1]),c=this.getStateStyle(n,l||r),e.attr(c));var u=f.getReplaceAttrs(t,e);this.animate?i?p.doAnimate(t,i,{coordinate:this.shapeFactory.coordinate,toAttrs:u,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(u,{duration:300})):t.attr(u):t.attr(u)}},o.prototype.getShapeType=function(t){var e=h.get(t,"shape");return h.isArray(e)?e[0]:e},o);function o(t){var e=s.call(this,t)||this;e.states=[];var n=t.shapeFactory,i=t.container,r=t.offscreenGroup,o=t.visible,a=void 0===o||o;return e.shapeFactory=n,e.container=i,e.offscreenGroup=r,e.visible=a,e}e.default=r},1519:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(532),l=n(1400),d=n(864),c=n(528),i=n(1660),g=n(1520),u=n(1388),r=n(1432),y=n(1663);var o,a=(o=i.default,s.__extends(h,o),h.prototype.getDefaultCfg=function(){var t=o.prototype.getDefaultCfg.call(this);return s.__assign(s.__assign({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+u.CONTAINER_CLASS+'"><div class="'+u.TITLE_CLASS+'"></div><ul class="'+u.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+u.LIST_ITEM_CLASS+'" data-index={index}>\n          <span class="'+u.MARKER_CLASS+'" style="background:{color}"></span>\n          <span class="'+u.NAME_CLASS+'">{name}</span>:\n          <span class="'+u.VALUE_CLASS+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+u.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+u.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:u.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:r.default})},h.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},h.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},h.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),d.modifyCSS(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},h.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),d.modifyCSS(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},h.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},h.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},h.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",n=this.get("xCrosshairDom"),i=this.get("yCrosshairDom");n&&d.modifyCSS(n,{display:e}),i&&d.modifyCSS(i,{display:e})},h.prototype.initContainer=function(){var t;o.prototype.initContainer.call(this),this.get("customContent")&&(this.get("container")&&this.get("container").remove(),t=this.getHtmlContentNode(),this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles())},h.prototype.updateInner=function(t){var e,n,i;this.get("customContent")?this.renderCustomContent():(e=t,i=!(n=["title","showTitle"]),c.each(n,function(t){if(c.hasKey(e,t))return!(i=!0)}),i&&this.resetTitle(),c.hasKey(t,"items")&&this.renderItems()),o.prototype.updateInner.call(this,t)},h.prototype.initDom=function(){this.cacheDoms()},h.prototype.removeDom=function(){o.prototype.removeDom.call(this),this.clearCrosshairs()},h.prototype.resetPosition=function(){var t,e=this.get("x"),n=this.get("y"),i=this.get("offset"),r=this.getOffset(),o=r.offsetX,a=r.offsetY,s=this.get("position"),l=this.get("region"),c=this.getContainer(),u=this.getBBox(),h=u.width,p=u.height;l&&(t=g.regionToBBox(l));var f=y.getAlignPoint(e,n,i,h,p,s,t);d.modifyCSS(c,{left:g.toPx(f.x+o),top:g.toPx(f.y+a)}),this.resetCrosshairs()},h.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),n=this.get("container");n&&n.parentNode===e?e.replaceChild(t,n):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},h.prototype.getHtmlContentNode=function(){var t,e,n=this.get("customContent");return n&&(t=n(this.get("title"),this.get("items")),e=c.isElement(t)?t:d.createDom(t)),e},h.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(u.TITLE_CLASS)[0],n=t.getElementsByClassName(u.LIST_CLASS)[0];this.set("titleDom",e),this.set("listDom",n)},h.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},h.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},h.prototype.resetCrosshairs=function(){var t,e,n,i=this.get("crosshairsRegion"),r=this.get("crosshairs");i&&r?(t=g.regionToBBox(i),e=this.get("xCrosshairDom"),n=this.get("yCrosshairDom"),"x"===r?(this.resetCrosshair("x",t),n&&(n.remove(),this.set("yCrosshairDom",null))):"y"===r?(this.resetCrosshair("y",t),e&&(e.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",t),this.resetCrosshair("y",t)),this.setCrossHairsVisible(this.get("visible"))):this.clearCrosshairs()},h.prototype.resetCrosshair=function(t,e){var n=this.checkCrosshair(t),i=this.get(t);"x"===t?d.modifyCSS(n,{left:g.toPx(i),top:g.toPx(e.y),height:g.toPx(e.height)}):d.modifyCSS(n,{top:g.toPx(i),left:g.toPx(e.x),width:g.toPx(e.width)})},h.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",n=t+"CrosshairTpl",i="CROSSHAIR_"+t.toUpperCase(),r=u[i],o=this.get(e),a=this.get("parent");return o||(o=d.createDom(this.get(n)),this.applyStyle(r,o),a.appendChild(o),this.set(e,o)),o},h.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),o=this.get("itemTpl"),a=this.get("listDom");a&&(c.each(t,function(t){var e=l.default.toCSSGradient(t.color),n=s.__assign(s.__assign({},t),{color:e}),i=c.substitute(o,n),r=d.createDom(i);a.appendChild(r)}),this.applyChildrenStyles(a,this.get("domStyles")))},h.prototype.clearItemDoms=function(){this.get("listDom")&&g.clearDom(this.get("listDom"))},h.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},h);function h(){return null!==o&&o.apply(this,arguments)||this}e.default=a},1520:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTextPoint=e.toPx=e.updateClip=e.getBBoxWithClip=e.mergeBBox=e.intersectBBox=e.near=e.wait=e.distance=e.getCirclePoint=e.getValueByPercent=e.createBBox=e.pointsToBBox=e.regionToBBox=e.hasClass=e.clearDom=e.formatPadding=void 0;var o=n(528);function a(t,e,n,i){return{x:t,y:e,width:n,height:i,minX:t,minY:e,maxX:t+n,maxY:e+i}}function s(t,e,n){return(1-n)*t+e*n}function l(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function c(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY);return a(n,i,Math.min(t.maxX,e.maxX)-n,Math.min(t.maxY,e.maxY)-i)}e.formatPadding=function(t){var e=0,n=0,i=0,r=0;return o.isNumber(t)?e=n=i=r=t:o.isArray(t)&&(e=t[0],i=o.isNil(t[1])?t[0]:t[1],r=o.isNil(t[2])?t[0]:t[2],n=o.isNil(t[3])?i:t[3]),[e,i,r,n]},e.clearDom=function(t){for(var e=t.childNodes,n=e.length-1;0<=n;n--)t.removeChild(e[n])},e.hasClass=function(t,e){return!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},e.regionToBBox=function(t){var e=t.start,n=t.end,i=Math.min(e.x,n.x),r=Math.min(e.y,n.y),o=Math.max(e.x,n.x),a=Math.max(e.y,n.y);return{x:i,y:r,minX:i,minY:r,maxX:o,maxY:a,width:o-i,height:a-r}},e.pointsToBBox=function(t){var e=t.map(function(t){return t.x}),n=t.map(function(t){return t.y}),i=Math.min.apply(Math,e),r=Math.min.apply(Math,n),o=Math.max.apply(Math,e),a=Math.max.apply(Math,n);return{x:i,y:r,minX:i,minY:r,maxX:o,maxY:a,width:o-i,height:a-r}},e.createBBox=a,e.getValueByPercent=s,e.getCirclePoint=function(t,e,n){return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}},e.distance=l,e.wait=function(e){return new Promise(function(t){setTimeout(t,e)})},e.near=function(t,e){return[t,e].includes(1/0)?Math.abs(t)===Math.abs(e):Math.abs(t-e)<Math.pow(Number.EPSILON,.5)},e.intersectBBox=c,e.mergeBBox=function(t,e){var n=Math.min(t.minX,e.minX),i=Math.min(t.minY,e.minY);return a(n,i,Math.max(t.maxX,e.maxX)-n,Math.max(t.maxY,e.maxY)-i)},e.getBBoxWithClip=function u(t){var h,p,f,d,e,n=t.getClip(),i=n&&n.getBBox(),r=t.isGroup()?(f=h=1/0,d=p=-1/0,0<(e=t.getChildren()).length?o.each(e,function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=u(t),n=t.applyToMatrix([e.minX,e.minY,1]),i=t.applyToMatrix([e.minX,e.maxY,1]),r=t.applyToMatrix([e.maxX,e.minY,1]),o=t.applyToMatrix([e.maxX,e.maxY,1]),a=Math.min(n[0],i[0],r[0],o[0]),s=Math.max(n[0],i[0],r[0],o[0]),l=Math.min(n[1],i[1],r[1],o[1]),c=Math.max(n[1],i[1],r[1],o[1]);a<h&&(h=a),p<s&&(p=s),l<f&&(f=l),d<c&&(d=c)}}):d=f=p=h=0,a(h,f,p-h,d-f)):t.getBBox();return i?c(r,i):r},e.updateClip=function(t,e){var n,i;(t.getClip()||e.getClip())&&((n=e.getClip())?(i={type:n.get("type"),attrs:n.attr()},t.setClip(i)):t.setClip(null))},e.toPx=function(t){return t+"px"},e.getTextPoint=function(t,e,n,i){var r=i/l(t,e),o=0;return"start"===n?o=0-r:"end"===n&&(o=1+r),{x:s(t.x,e.x,o),y:s(t.y,e.y,o)}}},1521:function(t,e,n){"use strict";e.__esModule=!0;var i=y(n(6)),r=y(n(11)),o=y(n(12)),a=y(n(13)),s=y(n(0)),l=y(n(1)),c=y(n(904)),u=n(17),h=y(n(1522)),p=y(n(1672)),f=n(1673),d=n(1527),g=y(n(2));function y(t){return t&&t.__esModule?t:{default:t}}var v,m=(v=s.default.Component,(0,a.default)(b,v),b.prototype.render=function(){var t=this.props,e=this.state,n=e.mode,i=e.value,r=s.default.createElement("div",{className:t.prefixCls+"-month-calendar-content"},s.default.createElement("div",{className:t.prefixCls+"-month-header-wrap"},s.default.createElement(h.default,{prefixCls:t.prefixCls,mode:n,value:i,locale:t.locale,disabledMonth:t.disabledDate,monthCellRender:t.monthCellRender,monthCellContentRender:t.monthCellContentRender,onMonthSelect:this.onSelect,onValueChange:this.setValue,onPanelChange:this.handlePanelChange})),s.default.createElement(p.default,{prefixCls:t.prefixCls,renderFooter:t.renderFooter}));return this.renderRoot({className:t.prefixCls+"-month-calendar",children:r})},b);function b(t){(0,r.default)(this,b);var a=(0,o.default)(this,v.call(this,t));return a.onKeyDown=function(t){var e=t.keyCode,n=t.ctrlKey||t.metaKey,i=a.state.value,r=a.props.disabledDate,o=i;switch(e){case c.default.DOWN:(o=i.clone()).add(3,"months");break;case c.default.UP:(o=i.clone()).add(-3,"months");break;case c.default.LEFT:o=i.clone(),n?o.add(-1,"years"):o.add(-1,"months");break;case c.default.RIGHT:o=i.clone(),n?o.add(1,"years"):o.add(1,"months");break;case c.default.ENTER:return r&&r(i)||a.onSelect(i),t.preventDefault(),1;default:return}if(o!==i)return a.setValue(o),t.preventDefault(),1},a.handlePanelChange=function(t,e){"date"!==e&&a.setState({mode:e})},a.state={mode:"month",value:t.value||t.defaultValue||(0,g.default)(),selectedValue:t.selectedValue||t.defaultSelectedValue},a}m.propTypes=(0,i.default)({},f.calendarMixinPropTypes,d.propType,{monthCellRender:l.default.func,value:l.default.object,defaultValue:l.default.object,selectedValue:l.default.object,defaultSelectedValue:l.default.object,disabledDate:l.default.func}),m.defaultProps=(0,i.default)({},d.defaultProp,f.calendarMixinDefaultProps),e.default=(0,u.polyfill)((0,f.calendarMixinWrapper)((0,d.commonMixinWrapper)(m))),t.exports=e.default},1522:function(t,e,n){"use strict";e.__esModule=!0;var i=s(n(11)),r=s(n(12)),o=s(n(13)),d=s(n(0)),a=s(n(1)),g=s(n(1523)),p=s(n(1668)),f=s(n(1670)),y=s(n(1671));function s(t){return t&&t.__esModule?t:{default:t}}function l(t){var e=this.props.value.clone();e.add(t,"months"),this.props.onValueChange(e)}function c(t){var e=this.props.value.clone();e.add(t,"years"),this.props.onValueChange(e)}function v(t,e){return t?e:null}var u,h=(u=d.default.Component,(0,o.default)(m,u),m.prototype.render=function(){var t=this,e=this.props,n=e.prefixCls,i=e.locale,r=e.mode,o=e.value,a=e.showTimePicker,s=e.enableNext,l=e.enablePrev,c=e.disabledMonth,u=e.renderFooter,h=null;return"month"===r&&(h=d.default.createElement(p.default,{locale:i,value:o,rootPrefixCls:n,onSelect:this.onMonthSelect,onYearPanelShow:function(){return t.showYearPanel("month")},disabledDate:c,cellRender:e.monthCellRender,contentRender:e.monthCellContentRender,renderFooter:u,changeYear:this.changeYear})),"year"===r&&(h=d.default.createElement(f.default,{locale:i,defaultValue:o,rootPrefixCls:n,onSelect:this.onYearSelect,onDecadePanelShow:this.showDecadePanel,renderFooter:u})),"decade"===r&&(h=d.default.createElement(y.default,{locale:i,defaultValue:o,rootPrefixCls:n,onSelect:this.onDecadeSelect,renderFooter:u})),d.default.createElement("div",{className:n+"-header"},d.default.createElement("div",{style:{position:"relative"}},v(l&&!a,d.default.createElement("a",{className:n+"-prev-year-btn",role:"button",onClick:this.previousYear,title:i.previousYear})),v(l&&!a,d.default.createElement("a",{className:n+"-prev-month-btn",role:"button",onClick:this.previousMonth,title:i.previousMonth})),this.monthYearElement(a),v(s&&!a,d.default.createElement("a",{className:n+"-next-month-btn",onClick:this.nextMonth,title:i.nextMonth})),v(s&&!a,d.default.createElement("a",{className:n+"-next-year-btn",onClick:this.nextYear,title:i.nextYear}))),h)},m);function m(t){(0,i.default)(this,m);var e=(0,r.default)(this,u.call(this,t));return b.call(e),e.nextMonth=l.bind(e,1),e.previousMonth=l.bind(e,-1),e.nextYear=c.bind(e,1),e.previousYear=c.bind(e,-1),e.state={yearPanelReferer:null},e}h.propTypes={prefixCls:a.default.string,value:a.default.object,onValueChange:a.default.func,showTimePicker:a.default.bool,onPanelChange:a.default.func,locale:a.default.object,enablePrev:a.default.any,enableNext:a.default.any,disabledMonth:a.default.func,renderFooter:a.default.func,onMonthSelect:a.default.func},h.defaultProps={enableNext:1,enablePrev:1,onPanelChange:function(){},onValueChange:function(){}};var b=function(){var f=this;this.onMonthSelect=function(t){f.props.onPanelChange(t,"date"),f.props.onMonthSelect?f.props.onMonthSelect(t):f.props.onValueChange(t)},this.onYearSelect=function(t){var e=f.state.yearPanelReferer;f.setState({yearPanelReferer:null}),f.props.onPanelChange(t,e),f.props.onValueChange(t)},this.onDecadeSelect=function(t){f.props.onPanelChange(t,"year"),f.props.onValueChange(t)},this.changeYear=function(t){0<t?f.nextYear():f.previousYear()},this.monthYearElement=function(t){var e=f.props,n=e.prefixCls,i=e.locale,r=e.value,o=r.localeData(),a=i.monthBeforeYear,s=n+"-"+(a?"my-select":"ym-select"),l=t?" "+n+"-time-status":"",c=d.default.createElement("a",{className:n+"-year-select"+l,role:"button",onClick:t?null:function(){return f.showYearPanel("date")},title:t?null:i.yearSelect},r.format(i.yearFormat)),u=d.default.createElement("a",{className:n+"-month-select"+l,role:"button",onClick:t?null:f.showMonthPanel,title:t?null:i.monthSelect},i.monthFormat?r.format(i.monthFormat):o.monthsShort(r)),h=void 0;t&&(h=d.default.createElement("a",{className:n+"-day-select"+l,role:"button"},r.format(i.dayFormat)));var p=[],p=a?[u,h,c]:[c,u,h];return d.default.createElement("span",{className:s},(0,g.default)(p))},this.showMonthPanel=function(){f.props.onPanelChange(null,"month")},this.showYearPanel=function(t){f.setState({yearPanelReferer:t}),f.props.onPanelChange(null,"year")},this.showDecadePanel=function(){f.props.onPanelChange(null,"decade")}};e.default=h,t.exports=e.default},1523:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return r.default.Children.map(t,o)};var i,r=(i=n(0))&&i.__esModule?i:{default:i};function o(t){return t}},1524:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=t.prefixCls,n=t.locale,i=t.value,r=t.timePicker,o=t.disabled,a=t.disabledDate,s=t.onToday,l=t.text,c=(!l&&r?n.now:l)||n.today,u=a&&!(0,f.isAllowedDate)((0,f.getTodayTime)(i),a)||o,h=u?e+"-today-btn-disabled":"";return p.default.createElement("a",{className:e+"-today-btn "+h,role:"button",onClick:u?null:s,title:(0,f.getTodayTimeStr)(i)},c)};var i,r=n(0),p=(i=r)&&i.__esModule?i:{default:i},f=n(1359);t.exports=e.default},1525:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=t.prefixCls,n=t.locale,i=t.okDisabled,r=t.onOk,o=e+"-ok-btn";i&&(o+=" "+e+"-ok-btn-disabled");return a.default.createElement("a",{className:o,role:"button",onClick:i?null:r},n.ok)};var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i};t.exports=e.default},1526:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e,n=t.prefixCls,i=t.locale,r=t.showTimePicker,o=t.onOpenTimePicker,a=t.onCloseTimePicker,s=t.timePickerDisabled,l=(0,h.default)(((e={})[n+"-time-picker-btn"]=!0,e[n+"-time-picker-btn-disabled"]=s,e)),c=null;s||(c=r?a:o);return u.default.createElement("a",{className:l,role:"button",onClick:c},r?i.dateSelect:i.timeSelect)};var u=i(n(0)),h=i(n(9));function i(t){return t&&t.__esModule?t:{default:t}}t.exports=e.default},1527:function(t,e,n){"use strict";e.__esModule=!0,e.commonMixinWrapper=e.defaultProp=e.propType=void 0;var s=a(n(11)),l=a(n(12)),i=a(n(13)),r=a(n(1)),o=a(n(351));function a(t){return t&&t.__esModule?t:{default:t}}function c(){}e.propType={className:r.default.string,locale:r.default.object,style:r.default.object,visible:r.default.bool,onSelect:r.default.func,prefixCls:r.default.string,onChange:r.default.func,onOk:r.default.func},e.defaultProp={locale:o.default,style:{},visible:!0,prefixCls:"rc-calendar",className:"",onSelect:c,onChange:c,onClear:c,renderFooter:function(){return null},renderSidebar:function(){return null}},e.commonMixinWrapper=function(t){var e,n,o;return o=t,(0,i.default)(a,o),a.prototype.shouldComponentUpdate=function(t){return this.props.visible||t.visible},n=e=a,e.displayName="CommonMixinWrapper",e.defaultProps=t.defaultProps,e.getDerivedStateFromProps=t.getDerivedStateFromProps,n;function a(){var t,r;(0,s.default)(this,a);for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=r=(0,l.default)(this,o.call.apply(o,[this].concat(n)))).getFormat=function(){var t=r.props.format,e=r.props,n=e.locale,i=e.timePicker;return t=t||(i?n.dateTimeFormat:n.dateFormat)},r.focus=function(){r.focusElement?r.focusElement.focus():r.rootInstance&&r.rootInstance.focus()},r.saveFocusElement=function(t){r.focusElement=t},r.saveRoot=function(t){r.rootInstance=t},(0,l.default)(r,t)}}},1528:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatDate=function(t,e){if(!t)return"";Array.isArray(e)&&(e=e[0]);return t.format(e)}},1529:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var N=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t){var o;Object.prototype.hasOwnProperty.call(t,r)&&((o=i?Object.getOwnPropertyDescriptor(t,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r])}n.default=t,e&&e.set(t,n);return n}(n(0)),i=o(n(1)),Y=o(n(2)),V=o(n(9)),r=n(17),X=o(n(1678)),G=o(n(1679));function o(t){return t&&t.__esModule?t:{default:t}}function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function s(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(){}function z(t,e,n,i){for(var r=3<arguments.length&&void 0!==i?i:1,o=[],a=0;a<t;a+=r)e&&!(e.indexOf(a)<0)&&n||o.push(a);return o}var d,g,y,v=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(m,N.Component),d=m,y=[{key:"getDerivedStateFromProps",value:function(t,e){return"value"in t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{value:t.value}):null}}],(g=[{key:"close",value:function(){(0,this.props.onEsc)()}},{key:"isAM",value:function(){var t=this.props.defaultOpenValue,e=this.state.value||t;return 0<=e.hour()&&e.hour()<12}},{key:"render",value:function(){var n,t,e,i,r,o,a=this.props,s=a.prefixCls,l=a.className,c=a.placeholder,u=a.disabledMinutes,h=a.disabledSeconds,p=a.hideDisabledOptions,f=a.showHour,d=a.showMinute,g=a.showSecond,y=a.format,v=a.defaultOpenValue,m=a.clearText,b=a.onEsc,x=a.addon,O=a.use12Hours,w=a.focusOnOpen,_=a.onKeyDown,C=a.hourStep,j=a.minuteStep,S=a.secondStep,M=a.inputReadOnly,k=a.clearIcon,T=this.state,P=T.value,A=T.currentSelectPanel,E=this.disabledHours(),L=u(P?P.hour():null),I=h(P?P.hour():null,P?P.minute():null),B=z(24,E,p,C),D=z(60,L,p,j),F=z(60,I,p,S),R=(n=v,t=D,e=F,i=B.slice().sort(function(t,e){return Math.abs(n.hour()-t)-Math.abs(n.hour()-e)})[0],r=t.slice().sort(function(t,e){return Math.abs(n.minute()-t)-Math.abs(n.minute()-e)})[0],o=e.slice().sort(function(t,e){return Math.abs(n.second()-t)-Math.abs(n.second()-e)})[0],(0,Y.default)("".concat(i,":").concat(r,":").concat(o),"HH:mm:ss"));return N.default.createElement("div",{className:(0,V.default)(l,"".concat(s,"-inner"))},N.default.createElement(X.default,{clearText:m,prefixCls:s,defaultOpenValue:R,value:P,currentSelectPanel:A,onEsc:b,format:y,placeholder:c,hourOptions:B,minuteOptions:D,secondOptions:F,disabledHours:this.disabledHours,disabledMinutes:u,disabledSeconds:h,onChange:this.onChange,focusOnOpen:w,onKeyDown:_,inputReadOnly:M,clearIcon:k}),N.default.createElement(G.default,{prefixCls:s,value:P,defaultOpenValue:R,format:y,onChange:this.onChange,onAmPmChange:this.onAmPmChange,showHour:f,showMinute:d,showSecond:g,hourOptions:B,minuteOptions:D,secondOptions:F,disabledHours:this.disabledHours,disabledMinutes:u,disabledSeconds:h,onCurrentSelectPanelChange:this.onCurrentSelectPanelChange,use12Hours:O,onEsc:b,isAM:this.isAM()}),x(this))}}])&&l(d.prototype,g),y&&l(d,y),m);function m(){var t,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m);for(var e,n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=this,n=(t=c(m)).call.apply(t,[this].concat(o)),i=!n||"object"!=typeof n&&"function"!=typeof n?u(e):n,p(u(i),"state",{}),p(u(i),"onChange",function(t){var e=i.props.onChange;i.setState({value:t}),e(t)}),p(u(i),"onAmPmChange",function(t){(0,i.props.onAmPmChange)(t)}),p(u(i),"onCurrentSelectPanelChange",function(t){i.setState({currentSelectPanel:t})}),p(u(i),"disabledHours",function(){var t=i.props,e=t.use12Hours,n=(0,t.disabledHours)();return e&&Array.isArray(n)&&(n=i.isAM()?n.filter(function(t){return t<12}).map(function(t){return 0===t?12:t}):n.map(function(t){return 12===t?12:t-12})),n}),i}p(v,"propTypes",{clearText:i.default.string,prefixCls:i.default.string,className:i.default.string,defaultOpenValue:i.default.object,value:i.default.object,placeholder:i.default.string,format:i.default.string,inputReadOnly:i.default.bool,disabledHours:i.default.func,disabledMinutes:i.default.func,disabledSeconds:i.default.func,hideDisabledOptions:i.default.bool,onChange:i.default.func,onAmPmChange:i.default.func,onEsc:i.default.func,showHour:i.default.bool,showMinute:i.default.bool,showSecond:i.default.bool,use12Hours:i.default.bool,hourStep:i.default.number,minuteStep:i.default.number,secondStep:i.default.number,addon:i.default.func,focusOnOpen:i.default.bool,onKeyDown:i.default.func,clearIcon:i.default.node}),p(v,"defaultProps",{prefixCls:"rc-time-picker-panel",onChange:f,disabledHours:f,disabledMinutes:f,disabledSeconds:f,defaultOpenValue:(0,Y.default)(),use12Hours:!1,addon:f,onKeyDown:f,onAmPmChange:f,inputReadOnly:!1}),(0,r.polyfill)(v),e.default=v},1530:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateShowHourMinuteSecond=S,e.default=void 0;var x=f(n(0)),o=f(n(2)),O=r(n(49)),i=n(17),w=r(n(1681)),_=r(n(9)),a=r(n(63)),s=r(n(113)),l=n(27),c=r(n(157)),u=r(n(344)),h=r(n(24));function r(t){return t&&t.__esModule?t:{default:t}}function p(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return p=function(){return t},t}function f(t){if(t&&t.__esModule)return t;if(null===t||"object"!==d(t)&&"function"!=typeof t)return{default:t};var e=p();if(e&&e.has(t))return e.get(t);var n,i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t){Object.prototype.hasOwnProperty.call(t,o)&&((n=r?Object.getOwnPropertyDescriptor(t,o):null)&&(n.get||n.set)?Object.defineProperty(i,o,n):i[o]=t[o])}return i.default=t,e&&e.set(t,i),i}function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(){return(C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i,r=m(o);return e=a?(t=m(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),n=this,!(i=e)||"object"!==d(i)&&"function"!=typeof i?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):i}}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function S(t){return{showHour:-1<t.indexOf("H")||-1<t.indexOf("h")||-1<t.indexOf("k"),showMinute:-1<t.indexOf("m"),showSecond:-1<t.indexOf("s")}}var b=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(r,x.Component);var t,e,n,i=v(r);function r(t){var b;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(b=i.call(this,t)).getDefaultLocale=function(){return C(C({},c.default),b.props.locale)},b.handleOpenClose=function(t){var e=t.open,n=b.props.onOpenChange;n&&n(e)},b.saveTimePicker=function(t){b.timePickerRef=t},b.handleChange=function(t){"value"in b.props||b.setState({value:t});var e=b.props,n=e.onChange,i=e.format,r=void 0===i?"HH:mm:ss":i;n&&n(t,t&&t.format(r)||"")},b.renderTimePicker=function(m){return x.createElement(l.ConfigConsumer,null,function(t){var e,n,i,r=t.getPopupContainer,o=t.getPrefixCls,a=b.props,s=a.getPopupContainer,l=a.prefixCls,c=a.className,u=a.addon,h=a.placeholder,p=j(a,["getPopupContainer","prefixCls","className","addon","placeholder"]),f=p.size,d=(0,O.default)(p,["defaultValue","suffixIcon","allowEmpty","allowClear"]),g=b.getDefaultFormat(),y=o("time-picker",l),v=(0,_.default)(c,(e={},n="".concat(y,"-").concat(f),i=!!f,n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e));return x.createElement(w.default,C({},S(g),d,{allowEmpty:b.getAllowClear(),prefixCls:y,getPopupContainer:s||r,ref:b.saveTimePicker,format:g,className:v,value:b.state.value,placeholder:void 0===h?m.placeholder:h,onChange:b.handleChange,onOpen:b.handleOpenClose,onClose:b.handleOpenClose,addon:function(t){return u?x.createElement("div",{className:"".concat(y,"-panel-addon")},u(t)):null},inputIcon:b.renderInputIcon(y),clearIcon:b.renderClearIcon(y)}))})};var e=t.value||t.defaultValue;if(e&&!(0,u.default)(o).isMoment(e))throw new Error("The value/defaultValue of TimePicker must be a moment object after `antd@2.0`, see: https://u.ant.design/time-picker-value");return b.state={value:e},(0,a.default)(!("allowEmpty"in t),"TimePicker","`allowEmpty` is deprecated. Please use `allowClear` instead."),b}return t=r,n=[{key:"getDerivedStateFromProps",value:function(t){return"value"in t?{value:t.value}:null}}],(e=[{key:"getDefaultFormat",value:function(){var t=this.props,e=t.format,n=t.use12Hours;return e||(n?"h:mm:ss a":"HH:mm:ss")}},{key:"getAllowClear",value:function(){var t=this.props,e=t.allowClear,n=t.allowEmpty;return"allowClear"in this.props?e:n}},{key:"focus",value:function(){this.timePickerRef.focus()}},{key:"blur",value:function(){this.timePickerRef.blur()}},{key:"renderInputIcon",value:function(t){var e=this.props.suffixIcon,n=e&&x.isValidElement(e)&&x.cloneElement(e,{className:(0,_.default)(e.props.className,"".concat(t,"-clock-icon"))})||x.createElement(h.default,{type:"clock-circle",className:"".concat(t,"-clock-icon")});return x.createElement("span",{className:"".concat(t,"-icon")},n)}},{key:"renderClearIcon",value:function(t){var e=this.props.clearIcon,n="".concat(t,"-clear");return e&&x.isValidElement(e)?x.cloneElement(e,{className:(0,_.default)(e.props.className,n)}):x.createElement(h.default,{type:"close-circle",className:n,theme:"filled"})}},{key:"render",value:function(){return x.createElement(s.default,{componentName:"TimePicker",defaultLocale:this.getDefaultLocale()},this.renderTimePicker)}}])&&g(t.prototype,e),n&&g(t,n),r}();b.defaultProps={align:{offset:[0,-2]},disabledHours:void 0,disabledMinutes:void 0,disabledSeconds:void 0,hideDisabledOptions:!1,placement:"bottomLeft",transitionName:"slide-up",focusOnOpen:!0},(0,i.polyfill)(b),e.default=b},1531:function(t,e,n){"use strict";e.__esModule=!0,e.default={DATE_ROW_COUNT:6,DATE_COL_COUNT:7},t.exports=e.default},1532:function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n=t.suffixIcon,i=t.prefixCls;return n&&(r.isValidElement(n)?r.cloneElement(n,{className:(0,o.default)((c(e={},n.props.className,n.props.className),c(e,"".concat(i,"-picker-icon"),!0),e))}):r.createElement("span",{className:"".concat(i,"-picker-icon")},n))||r.createElement(s.default,{type:"calendar",className:"".concat(i,"-picker-icon")})};var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t){var o;Object.prototype.hasOwnProperty.call(t,r)&&((o=i?Object.getOwnPropertyDescriptor(t,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r])}n.default=t,e&&e.set(t,n);return n}(n(0)),o=i(n(9)),s=i(n(24));function i(t){return t&&t.__esModule?t:{default:t}}function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},1542:function(t,e,n){"use strict";n.r(e);var i,r=n(6),w=n.n(r),o=n(11),a=n.n(o),s=n(12),l=n.n(s),c=n(13),u=n.n(c),h=n(0),nt=n.n(h),p=n(7),f=n.n(p),d=n(1),g=n.n(d),y=n(30),v=n(17),it=6,rt=7,m=n(2),b=n.n(m);function x(){return a()(this,x),l()(this,i.apply(this,arguments))}var O=(i=nt.a.Component,u()(x,i),x.prototype.render=function(){for(var t=this.props,e=t.value.localeData(),n=t.prefixCls,i=[],r=[],o=e.firstDayOfWeek(),a=void 0,s=b()(),l=0;l<rt;l++){var c=(o+l)%rt;s.day(c),i[l]=e.weekdaysMin(s),r[l]=e.weekdaysShort(s)}t.showWeekNumber&&(a=nt.a.createElement("th",{role:"columnheader",className:n+"-column-header "+n+"-week-number-header"},nt.a.createElement("span",{className:n+"-column-header-inner"},"x")));var u=r.map(function(t,e){return nt.a.createElement("th",{key:e,role:"columnheader",title:t,className:n+"-column-header"},nt.a.createElement("span",{className:n+"-column-header-inner"},i[e]))});return nt.a.createElement("thead",null,nt.a.createElement("tr",{role:"row"},a,u))},x),_=n(9),ot=n.n(_),C={disabledHours:function(){return[]},disabledMinutes:function(){return[]},disabledSeconds:function(){return[]}};function at(t){var e=b()();return e.locale(t.locale()).utcOffset(t.utcOffset()),e}function st(t){return t.format("LL")}function j(t,e){var n=e?e(t):{};return n=w()({},C,n)}function S(t,e,n){return(!e||!e(t))&&(!n||(u=j(i=t,n),o=u,c=!1,(r=i)&&(a=r.hour(),s=r.minute(),l=r.second(),c=-1!==o.disabledHours().indexOf(a)||(-1!==o.disabledMinutes(a).indexOf(s)||-1!==o.disabledSeconds(a,s).indexOf(l))),!c));var i,r,o,a,s,l,c,u}function M(t,e){return t?(Array.isArray(e)&&(e=e[0]),t.format(e)):""}function lt(t,e){return t&&e&&t.isSame(e,"day")}var k,T=(k=nt.a.Component,u()(P,k),P.prototype.render=function(){var t=this.props,e=t.contentRender,n=t.prefixCls,i=t.selectedValue,r=t.value,o=t.showWeekNumber,a=t.dateRender,s=t.disabledDate,l=t.hoverValue,c=void 0,u=void 0,h=void 0,p=[],f=at(r),d=n+"-cell",g=n+"-week-number-cell",y=n+"-date",v=n+"-today",m=n+"-selected-day",b=n+"-selected-date",x=n+"-selected-start-date",O=n+"-selected-end-date",w=n+"-in-range-cell",_=n+"-last-month-cell",C=n+"-next-month-btn-day",j=n+"-disabled-cell",S=n+"-disabled-cell-first-of-row",M=n+"-disabled-cell-last-of-row",k=n+"-last-day-of-month",T=r.clone();T.date(1);var P=(T.day()+7-r.localeData().firstDayOfWeek())%7,A=T.clone();A.add(0-P,"days");for(var E=0,c=0;c<it;c++)for(u=0;u<rt;u++)h=A,E&&(h=h.clone()).add(E,"days"),p.push(h),E++;var L,I,B,D,F,R=[],E=0;for(c=0;c<it;c++){var N,Y=void 0,V=void 0,X=!1,G=[];for(o&&(V=nt.a.createElement("td",{key:p[E].week(),role:"gridcell",className:g},p[E].week())),u=0;u<rt;u++){var z=null,H=null,h=p[E];u<rt-1&&(z=p[E+1]),0<u&&(H=p[E-1]);var W=d,q=!1,U=!1;lt(h,f)&&(W+=" "+v,Y=!0);var K,Z,$,Q=(F=r,(D=h).year()<F.year()?1:D.year()===F.year()&&D.month()<F.month()),J=(B=r,(I=h).year()>B.year()?1:I.year()===B.year()&&I.month()>B.month());i&&Array.isArray(i)?(K=l.length?l:i,Q||J||(Z=K[0],$=K[1],Z&&lt(h,Z)&&(X=U=!0,W+=" "+x),(Z||$)&&(lt(h,$)?(X=U=!0,W+=" "+O):(null==Z&&h.isBefore($,"day")||null==$&&h.isAfter(Z,"day")||h.isAfter(Z,"day")&&h.isBefore($,"day"))&&(W+=" "+w)))):lt(h,r)&&(X=U=!0),lt(h,i)&&(W+=" "+b),Q&&(W+=" "+_),J&&(W+=" "+C),h.clone().endOf("month").date()===h.date()&&(W+=" "+k),s&&s(h,r)&&(q=!0,H&&s(H,r)||(W+=" "+S),z&&s(z,r)||(W+=" "+M)),U&&(W+=" "+m),q&&(W+=" "+j);var tt,et=void 0;et=a?a(h,r):(tt=e?e(h,r):h.date(),nt.a.createElement("div",{key:"rc-calendar-"+(L=h).year()+"-"+L.month()+"-"+L.date(),className:y,"aria-selected":U,"aria-disabled":q},tt)),G.push(nt.a.createElement("td",{key:E,onClick:q?void 0:t.onSelect.bind(null,h),onMouseEnter:!q&&t.onDayHover&&t.onDayHover.bind(null,h)||void 0,role:"gridcell",title:st(h),className:W},et)),E++}R.push(nt.a.createElement("tr",{key:c,role:"row",className:ot()(((N={})[n+"-current-week"]=Y,N[n+"-active-week"]=X,N))},V,G))}return nt.a.createElement("tbody",{className:n+"-tbody"},R)},P);function P(){return a()(this,P),l()(this,k.apply(this,arguments))}T.propTypes={contentRender:g.a.func,dateRender:g.a.func,disabledDate:g.a.func,prefixCls:g.a.string,selectedValue:g.a.oneOfType([g.a.object,g.a.arrayOf(g.a.object)]),value:g.a.object,hoverValue:g.a.any,showWeekNumber:g.a.bool},T.defaultProps={hoverValue:[]};var A,E=T;function L(){return a()(this,L),l()(this,A.apply(this,arguments))}var I=(A=nt.a.Component,u()(L,A),L.prototype.render=function(){var t=this.props,e=t.prefixCls;return nt.a.createElement("table",{className:e+"-table",cellSpacing:"0",role:"grid"},nt.a.createElement(O,t),nt.a.createElement(E,t))},L);function B(t){return t}function D(t){return nt.a.Children.map(t,B)}var F,R=(F=h.Component,u()(N,F),N.getDerivedStateFromProps=function(t){return"value"in t?{value:t.value}:null},N.prototype.setAndSelectValue=function(t){this.setState({value:t}),this.props.onSelect(t)},N.prototype.chooseMonth=function(t){var e=this.state.value.clone();e.month(t),this.setAndSelectValue(e)},N.prototype.months=function(){for(var t,e,n=this.state.value.clone(),i=[],r=0,o=0;o<4;o++){i[o]=[];for(var a=0;a<3;a++){n.month(r);var s=(e=void 0,e=(t=n).locale(),t.localeData()["zh-cn"===e?"months":"monthsShort"](t));i[o][a]={value:r,content:s,title:s},r++}}return i},N.prototype.render=function(){var c=this,u=this.props,h=this.state.value,p=at(h),t=this.months(),f=h.month(),d=u.prefixCls,g=u.locale,y=u.contentRender,v=u.cellRender,e=t.map(function(t,e){var n=t.map(function(t){var e,n,i=!1;u.disabledDate&&((n=h.clone()).month(t.value),i=u.disabledDate(n));var r,o,a,s=((e={})[d+"-cell"]=1,e[d+"-cell-disabled"]=i,e[d+"-selected-cell"]=t.value===f,e[d+"-current-cell"]=p.year()===h.year()&&t.value===p.month(),e),l=void 0;return l=v?((r=h.clone()).month(t.value),v(r,g)):(a=void 0,a=y?((o=h.clone()).month(t.value),y(o,g)):t.content,nt.a.createElement("a",{className:d+"-month"},a)),nt.a.createElement("td",{role:"gridcell",key:t.value,onClick:i?null:function(){return c.chooseMonth(t.value)},title:t.title,className:ot()(s)},l)});return nt.a.createElement("tr",{key:e,role:"row"},n)});return nt.a.createElement("table",{className:d+"-table",cellSpacing:"0",role:"grid"},nt.a.createElement("tbody",{className:d+"-tbody"},e))},N);function N(){var t,e,n;a()(this,N);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e=l()(this,F.call.apply(F,[this].concat(r)))).state={},n=t,l()(e,n)}R.defaultProps={onSelect:function(){}},R.propTypes={onSelect:g.a.func,cellRender:g.a.func,prefixCls:g.a.string,value:g.a.object},Object(v.polyfill)(R);var Y=R;function V(t){this.props.changeYear(t)}function X(){}var G,z=(G=nt.a.Component,u()(H,G),H.getDerivedStateFromProps=function(t){var e={};return"value"in t&&(e={value:t.value}),e},H.prototype.render=function(){var t=this.props,e=this.state.value,n=t.locale,i=t.cellRender,r=t.contentRender,o=t.renderFooter,a=e.year(),s=this.prefixCls,l=o&&o("month");return nt.a.createElement("div",{className:s,style:t.style},nt.a.createElement("div",null,nt.a.createElement("div",{className:s+"-header"},nt.a.createElement("a",{className:s+"-prev-year-btn",role:"button",onClick:this.previousYear,title:n.previousYear}),nt.a.createElement("a",{className:s+"-year-select",role:"button",onClick:t.onYearPanelShow,title:n.yearSelect},nt.a.createElement("span",{className:s+"-year-select-content"},a),nt.a.createElement("span",{className:s+"-year-select-arrow"},"x")),nt.a.createElement("a",{className:s+"-next-year-btn",role:"button",onClick:this.nextYear,title:n.nextYear})),nt.a.createElement("div",{className:s+"-body"},nt.a.createElement(Y,{disabledDate:t.disabledDate,onSelect:this.setAndSelectValue,locale:n,value:e,cellRender:i,contentRender:r,prefixCls:s})),l&&nt.a.createElement("div",{className:s+"-footer"},l)))},H);function H(t){a()(this,H);var e=l()(this,G.call(this,t));return e.setAndSelectValue=function(t){e.setValue(t),e.props.onSelect(t)},e.setValue=function(t){"value"in e.props&&e.setState({value:t})},e.nextYear=V.bind(e,1),e.previousYear=V.bind(e,-1),e.prefixCls=t.rootPrefixCls+"-month-panel",e.state={value:t.value||t.defaultValue},e}z.propTypes={onChange:g.a.func,disabledDate:g.a.func,onSelect:g.a.func,renderFooter:g.a.func,rootPrefixCls:g.a.string,value:g.a.object,defaultValue:g.a.object},z.defaultProps={onChange:X,onSelect:X},Object(v.polyfill)(z);var W=z;function q(t){var e=this.state.value.clone();e.add(t,"year"),this.setState({value:e})}var U,K=(U=nt.a.Component,u()(Z,U),Z.prototype.years=function(){for(var t=this.state.value.year(),e=10*parseInt(t/10,10)-1,n=[],i=0,r=0;r<4;r++){n[r]=[];for(var o=0;o<3;o++){var a=e+i,s=String(a);n[r][o]={content:s,year:a,title:s},i++}}return n},Z.prototype.render=function(){var r=this,t=this.props,e=this.state.value,n=t.locale,i=t.renderFooter,o=this.years(),a=e.year(),s=10*parseInt(a/10,10),l=9+s,c=this.prefixCls,u=o.map(function(t,e){var n=t.map(function(t){var e,n=((e={})[c+"-cell"]=1,e[c+"-selected-cell"]=t.year===a,e[c+"-last-decade-cell"]=t.year<s,e[c+"-next-decade-cell"]=t.year>l,e),i=void 0,i=t.year<s?r.previousDecade:t.year>l?r.nextDecade:function(t){var e=this.state.value.clone();e.year(t),e.month(this.state.value.month()),this.setState({value:e}),this.props.onSelect(e)}.bind(r,t.year);return nt.a.createElement("td",{role:"gridcell",title:t.title,key:t.content,onClick:i,className:ot()(n)},nt.a.createElement("a",{className:c+"-year"},t.content))});return nt.a.createElement("tr",{key:e,role:"row"},n)}),h=i&&i("year");return nt.a.createElement("div",{className:this.prefixCls},nt.a.createElement("div",null,nt.a.createElement("div",{className:c+"-header"},nt.a.createElement("a",{className:c+"-prev-decade-btn",role:"button",onClick:this.previousDecade,title:n.previousDecade}),nt.a.createElement("a",{className:c+"-decade-select",role:"button",onClick:t.onDecadePanelShow,title:n.decadeSelect},nt.a.createElement("span",{className:c+"-decade-select-content"},s,"-",l),nt.a.createElement("span",{className:c+"-decade-select-arrow"},"x")),nt.a.createElement("a",{className:c+"-next-decade-btn",role:"button",onClick:this.nextDecade,title:n.nextDecade})),nt.a.createElement("div",{className:c+"-body"},nt.a.createElement("table",{className:c+"-table",cellSpacing:"0",role:"grid"},nt.a.createElement("tbody",{className:c+"-tbody"},u))),h&&nt.a.createElement("div",{className:c+"-footer"},h)))},Z);function Z(t){a()(this,Z);var e=l()(this,U.call(this,t));return e.prefixCls=t.rootPrefixCls+"-year-panel",e.state={value:t.value||t.defaultValue},e.nextDecade=q.bind(e,10),e.previousDecade=q.bind(e,-10),e}var $=K;K.propTypes={rootPrefixCls:g.a.string,value:g.a.object,defaultValue:g.a.object,renderFooter:g.a.func},K.defaultProps={onSelect:function(){}};function Q(t){var e=this.state.value.clone();e.add(t,"years"),this.setState({value:e})}var J,tt=(J=nt.a.Component,u()(et,J),et.prototype.render=function(){for(var c=this,t=this.state.value,e=this.props,n=e.locale,i=e.renderFooter,u=t.year(),h=100*parseInt(u/100,10),r=h-10,p=99+h,o=[],a=0,f=this.prefixCls,s=0;s<4;s++){o[s]=[];for(var l=0;l<3;l++){var d=r+10*a,g=r+10*a+9;o[s][l]={startDecade:d,endDecade:g},a++}}var y=i&&i("decade"),v=o.map(function(t,e){var n=t.map(function(t){var e,n=t.startDecade,i=t.endDecade,r=n<h,o=p<i,a=((e={})[f+"-cell"]=1,e[f+"-selected-cell"]=n<=u&&u<=i,e[f+"-last-century-cell"]=r,e[f+"-next-century-cell"]=o,e),s=n+"-"+i,l=void 0,l=r?c.previousCentury:o?c.nextCentury:function(t,e){var n=this.state.value.clone();n.year(t),n.month(this.state.value.month()),this.props.onSelect(n),e.preventDefault()}.bind(c,n);return nt.a.createElement("td",{key:n,onClick:l,role:"gridcell",className:ot()(a)},nt.a.createElement("a",{className:f+"-decade"},s))});return nt.a.createElement("tr",{key:e,role:"row"},n)});return nt.a.createElement("div",{className:this.prefixCls},nt.a.createElement("div",{className:f+"-header"},nt.a.createElement("a",{className:f+"-prev-century-btn",role:"button",onClick:this.previousCentury,title:n.previousCentury}),nt.a.createElement("div",{className:f+"-century"},h,"-",p),nt.a.createElement("a",{className:f+"-next-century-btn",role:"button",onClick:this.nextCentury,title:n.nextCentury})),nt.a.createElement("div",{className:f+"-body"},nt.a.createElement("table",{className:f+"-table",cellSpacing:"0",role:"grid"},nt.a.createElement("tbody",{className:f+"-tbody"},v))),y&&nt.a.createElement("div",{className:f+"-footer"},y))},et);function et(t){a()(this,et);var e=l()(this,J.call(this,t));return e.state={value:t.value||t.defaultValue},e.prefixCls=t.rootPrefixCls+"-decade-panel",e.nextCentury=Q.bind(e,100),e.previousCentury=Q.bind(e,-100),e}var ct=tt;function ut(t){var e=this.props.value.clone();e.add(t,"months"),this.props.onValueChange(e)}function ht(t){var e=this.props.value.clone();e.add(t,"years"),this.props.onValueChange(e)}function pt(t,e){return t?e:null}tt.propTypes={locale:g.a.object,value:g.a.object,defaultValue:g.a.object,rootPrefixCls:g.a.string,renderFooter:g.a.func},tt.defaultProps={onSelect:function(){}};var ft,dt=(ft=nt.a.Component,u()(gt,ft),gt.prototype.render=function(){var t=this,e=this.props,n=e.prefixCls,i=e.locale,r=e.mode,o=e.value,a=e.showTimePicker,s=e.enableNext,l=e.enablePrev,c=e.disabledMonth,u=e.renderFooter,h=null;return"month"===r&&(h=nt.a.createElement(W,{locale:i,value:o,rootPrefixCls:n,onSelect:this.onMonthSelect,onYearPanelShow:function(){return t.showYearPanel("month")},disabledDate:c,cellRender:e.monthCellRender,contentRender:e.monthCellContentRender,renderFooter:u,changeYear:this.changeYear})),"year"===r&&(h=nt.a.createElement($,{locale:i,defaultValue:o,rootPrefixCls:n,onSelect:this.onYearSelect,onDecadePanelShow:this.showDecadePanel,renderFooter:u})),"decade"===r&&(h=nt.a.createElement(ct,{locale:i,defaultValue:o,rootPrefixCls:n,onSelect:this.onDecadeSelect,renderFooter:u})),nt.a.createElement("div",{className:n+"-header"},nt.a.createElement("div",{style:{position:"relative"}},pt(l&&!a,nt.a.createElement("a",{className:n+"-prev-year-btn",role:"button",onClick:this.previousYear,title:i.previousYear})),pt(l&&!a,nt.a.createElement("a",{className:n+"-prev-month-btn",role:"button",onClick:this.previousMonth,title:i.previousMonth})),this.monthYearElement(a),pt(s&&!a,nt.a.createElement("a",{className:n+"-next-month-btn",onClick:this.nextMonth,title:i.nextMonth})),pt(s&&!a,nt.a.createElement("a",{className:n+"-next-year-btn",onClick:this.nextYear,title:i.nextYear}))),h)},gt);function gt(t){a()(this,gt);var e=l()(this,ft.call(this,t));return yt.call(e),e.nextMonth=ut.bind(e,1),e.previousMonth=ut.bind(e,-1),e.nextYear=ht.bind(e,1),e.previousYear=ht.bind(e,-1),e.state={yearPanelReferer:null},e}dt.propTypes={prefixCls:g.a.string,value:g.a.object,onValueChange:g.a.func,showTimePicker:g.a.bool,onPanelChange:g.a.func,locale:g.a.object,enablePrev:g.a.any,enableNext:g.a.any,disabledMonth:g.a.func,renderFooter:g.a.func,onMonthSelect:g.a.func},dt.defaultProps={enableNext:1,enablePrev:1,onPanelChange:function(){},onValueChange:function(){}};var yt=function(){var f=this;this.onMonthSelect=function(t){f.props.onPanelChange(t,"date"),f.props.onMonthSelect?f.props.onMonthSelect(t):f.props.onValueChange(t)},this.onYearSelect=function(t){var e=f.state.yearPanelReferer;f.setState({yearPanelReferer:null}),f.props.onPanelChange(t,e),f.props.onValueChange(t)},this.onDecadeSelect=function(t){f.props.onPanelChange(t,"year"),f.props.onValueChange(t)},this.changeYear=function(t){0<t?f.nextYear():f.previousYear()},this.monthYearElement=function(t){var e=f.props,n=e.prefixCls,i=e.locale,r=e.value,o=r.localeData(),a=i.monthBeforeYear,s=n+"-"+(a?"my-select":"ym-select"),l=t?" "+n+"-time-status":"",c=nt.a.createElement("a",{className:n+"-year-select"+l,role:"button",onClick:t?null:function(){return f.showYearPanel("date")},title:t?null:i.yearSelect},r.format(i.yearFormat)),u=nt.a.createElement("a",{className:n+"-month-select"+l,role:"button",onClick:t?null:f.showMonthPanel,title:t?null:i.monthSelect},i.monthFormat?r.format(i.monthFormat):o.monthsShort(r)),h=void 0;t&&(h=nt.a.createElement("a",{className:n+"-day-select"+l,role:"button"},r.format(i.dayFormat)));var p=[],p=a?[u,h,c]:[c,u,h];return nt.a.createElement("span",{className:s},D(p))},this.showMonthPanel=function(){f.props.onPanelChange(null,"month")},this.showYearPanel=function(t){f.setState({yearPanelReferer:t}),f.props.onPanelChange(null,"year")},this.showDecadePanel=function(){f.props.onPanelChange(null,"decade")}},vt=dt;function mt(t){var e=t.prefixCls,n=t.locale,i=t.value,r=t.timePicker,o=t.disabled,a=t.disabledDate,s=t.onToday,l=t.text,c=(!l&&r?n.now:l)||n.today,u=a&&!S(at(i),a)||o,h=u?e+"-today-btn-disabled":"";return nt.a.createElement("a",{className:e+"-today-btn "+h,role:"button",onClick:u?null:s,title:st(at(i))},c)}function bt(t){var e=t.prefixCls,n=t.locale,i=t.okDisabled,r=t.onOk,o=e+"-ok-btn";return i&&(o+=" "+e+"-ok-btn-disabled"),nt.a.createElement("a",{className:o,role:"button",onClick:i?null:r},n.ok)}function xt(t){var e,n=t.prefixCls,i=t.locale,r=t.showTimePicker,o=t.onOpenTimePicker,a=t.onCloseTimePicker,s=t.timePickerDisabled,l=ot()(((e={})[n+"-time-picker-btn"]=!0,e[n+"-time-picker-btn-disabled"]=s,e)),c=s?null:r?a:o;return nt.a.createElement("a",{className:l,role:"button",onClick:c},r?i.dateSelect:i.timeSelect)}var Ot,wt=(Ot=nt.a.Component,u()(_t,Ot),_t.prototype.onSelect=function(t){this.props.onSelect(t)},_t.prototype.getRootDOMNode=function(){return f.a.findDOMNode(this)},_t.prototype.render=function(){var t,e,n,i,r,o,a=this.props,s=a.value,l=a.prefixCls,c=a.showOk,u=a.timePicker,h=a.renderFooter,p=a.mode,f=null,d=h&&h(p);return(a.showToday||u||d)&&(e=void 0,a.showToday&&(e=nt.a.createElement(mt,w()({},a,{value:s}))),(!(n=void 0)===c||!1!==c&&a.timePicker)&&(n=nt.a.createElement(bt,a)),i=void 0,a.timePicker&&(i=nt.a.createElement(xt,a)),r=void 0,(e||i||n||d)&&(r=nt.a.createElement("span",{className:l+"-footer-btn"},d,D([e,i,n]))),o=ot()(l+"-footer",((t={})[l+"-footer-show-ok"]=n,t)),f=nt.a.createElement("div",{className:o},r)),f},_t);function _t(){return a()(this,_t),l()(this,Ot.apply(this,arguments))}wt.propTypes={prefixCls:g.a.string,showDateInput:g.a.bool,disabledTime:g.a.any,timePicker:g.a.element,selectedValue:g.a.any,showOk:g.a.bool,onSelect:g.a.func,value:g.a.object,renderFooter:g.a.func,defaultValue:g.a.object,mode:g.a.string};var Ct=wt;function jt(t){return t?at(t):b()()}var St={value:g.a.object,defaultValue:g.a.object,onKeyDown:g.a.func},Mt={onKeyDown:function(){}};function kt(){}var Tt,Pt={className:g.a.string,locale:g.a.object,style:g.a.object,visible:g.a.bool,onSelect:g.a.func,prefixCls:g.a.string,onChange:g.a.func,onOk:g.a.func},At={locale:{today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},style:{},visible:!0,prefixCls:"rc-calendar",className:"",onSelect:kt,onChange:kt,onClear:kt,renderFooter:function(){return null},renderSidebar:function(){return null}},Et=void 0,Lt=void 0,It=void 0,Bt=(Tt=nt.a.Component,u()(Dt,Tt),Dt.prototype.componentDidUpdate=function(){!It||!this.state.hasFocus||this.state.invalid||0===Et&&0===Lt||It.setSelectionRange(Et,Lt)},Dt.getDerivedStateFromProps=function(t,e){var n={};It&&(Et=It.selectionStart,Lt=It.selectionEnd);var i=t.selectedValue;return e.hasFocus||(n={str:M(i,t.format),invalid:!1}),n},Dt.getInstance=function(){return It},Dt.prototype.render=function(){var t=this.props,e=this.state,n=e.invalid,i=e.str,r=t.locale,o=t.prefixCls,a=t.placeholder,s=t.clearIcon,l=t.inputMode,c=n?o+"-input-invalid":"";return nt.a.createElement("div",{className:o+"-input-wrap"},nt.a.createElement("div",{className:o+"-date-input-wrap"},nt.a.createElement("input",{ref:this.saveDateInput,className:o+"-input "+c,value:i,disabled:t.disabled,placeholder:a,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,inputMode:l})),t.showClear?nt.a.createElement("a",{role:"button",title:r.clear,onClick:this.onClear},s||nt.a.createElement("span",{className:o+"-clear-btn"})):null)},Dt);function Dt(t){a()(this,Dt);var e=l()(this,Tt.call(this,t));Ft.call(e);var n=t.selectedValue;return e.state={str:M(n,e.props.format),invalid:!1,hasFocus:!1},e}Bt.propTypes={prefixCls:g.a.string,timePicker:g.a.object,value:g.a.object,disabledTime:g.a.any,format:g.a.oneOfType([g.a.string,g.a.arrayOf(g.a.string)]),locale:g.a.object,disabledDate:g.a.func,onChange:g.a.func,onClear:g.a.func,placeholder:g.a.string,onSelect:g.a.func,selectedValue:g.a.object,clearIcon:g.a.node,inputMode:g.a.string};var Ft=function(){var c=this;this.onClear=function(){c.setState({str:""}),c.props.onClear(null)},this.onInputChange=function(t){var e=t.target.value,n=c.props,i=n.disabledDate,r=n.format,o=n.onChange,a=n.selectedValue;if(!e)return o(null),void c.setState({invalid:!1,str:e});var s,l=b()(e,r,!0);l.isValid()?((s=c.props.value.clone()).year(l.year()).month(l.month()).date(l.date()).hour(l.hour()).minute(l.minute()).second(l.second()),!s||i&&i(s)?c.setState({invalid:!0,str:e}):(a!==s||a&&s&&!a.isSame(s))&&(c.setState({invalid:!1,str:e}),o(s))):c.setState({invalid:!0,str:e})},this.onFocus=function(){c.setState({hasFocus:!0})},this.onBlur=function(){c.setState(function(t,e){return{hasFocus:!1,str:M(e.value,e.format)}})},this.onKeyDown=function(t){var e=t.keyCode,n=c.props,i=n.onSelect,r=n.value,o=n.disabledDate;e===y.a.ENTER&&i&&(o&&o(r)||i(r.clone()),t.preventDefault())},this.getRootDOMNode=function(){return f.a.findDOMNode(c)},this.focus=function(){It&&It.focus()},this.saveDateInput=function(t){It=t}};Object(v.polyfill)(Bt);var Rt=Bt;function Nt(){}var Yt,Vt=function(t){return!(!b.a.isMoment(t)||!t.isValid())&&t},Xt=(Yt=nt.a.Component,u()(Gt,Yt),Gt.prototype.componentDidMount=function(){this.props.showDateInput&&this.saveFocusElement(Rt.getInstance())},Gt.getDerivedStateFromProps=function(t,e){var n=t.value,i=t.selectedValue,r={};return"mode"in t&&e.mode!==t.mode&&(r={mode:t.mode}),"value"in t&&(r.value=Vt(n)||Vt(t.defaultValue)||jt(e.value)),"selectedValue"in t&&(r.selectedValue=i),r},Gt.prototype.render=function(){var t,e=this.props,n=this.state,i=e.locale,r=e.prefixCls,o=e.disabledDate,a=e.dateInputPlaceholder,s=e.timePicker,l=e.disabledTime,c=e.clearIcon,u=e.renderFooter,h=e.inputMode,p=e.monthCellRender,f=e.monthCellContentRender,d=n.value,g=n.selectedValue,y=n.mode,v="time"===y,m=v&&l&&s?j(g,l):null,b=null;s&&v&&(t=w()({showHour:!0,showSecond:!0,showMinute:!0},s.props,m,{onChange:this.onDateInputChange,value:g,disabledTime:l}),void 0!==s.props.defaultValue&&(t.defaultOpenValue=s.props.defaultValue),b=nt.a.cloneElement(s,t));var x=e.showDateInput?nt.a.createElement(Rt,{format:this.getFormat(),key:"date-input",value:d,locale:i,placeholder:a,showClear:!0,disabledTime:l,disabledDate:o,onClear:this.onClear,prefixCls:r,selectedValue:g,onChange:this.onDateInputChange,onSelect:this.onDateInputSelect,clearIcon:c,inputMode:h}):null,O=[];return e.renderSidebar&&O.push(e.renderSidebar()),O.push(nt.a.createElement("div",{className:r+"-panel",key:"panel"},x,nt.a.createElement("div",{tabIndex:this.props.focusablePanel?0:void 0,className:r+"-date-panel"},nt.a.createElement(vt,{locale:i,mode:y,value:d,onValueChange:this.setValue,onPanelChange:this.onPanelChange,renderFooter:u,showTimePicker:v,prefixCls:r,monthCellRender:p,monthCellContentRender:f}),s&&v?nt.a.createElement("div",{className:r+"-time-picker"},nt.a.createElement("div",{className:r+"-time-picker-panel"},b)):null,nt.a.createElement("div",{className:r+"-body"},nt.a.createElement(I,{locale:i,value:d,selectedValue:g,prefixCls:r,dateRender:e.dateRender,onSelect:this.onDateTableSelect,disabledDate:o,showWeekNumber:e.showWeekNumber})),nt.a.createElement(Ct,{showOk:e.showOk,mode:y,renderFooter:e.renderFooter,locale:i,prefixCls:r,showToday:e.showToday,disabledTime:l,showTimePicker:v,showDateInput:e.showDateInput,timePicker:s,selectedValue:g,timePickerDisabled:!g,value:d,disabledDate:o,okDisabled:!(!1===e.showOk||g&&this.isAllowedDate(g)),onOk:this.onOk,onSelect:this.onSelect,onToday:this.onToday,onOpenTimePicker:this.openTimePicker,onCloseTimePicker:this.closeTimePicker})))),this.renderRoot({children:O,className:e.showWeekNumber?r+"-week-number":""})},Gt);function Gt(t){a()(this,Gt);var e=l()(this,Yt.call(this,t));return zt.call(e),e.state={mode:e.props.mode||"date",value:Vt(t.value)||Vt(t.defaultValue)||b()(),selectedValue:t.selectedValue||t.defaultSelectedValue},e}Xt.propTypes=w()({},St,Pt,{prefixCls:g.a.string,className:g.a.string,style:g.a.object,defaultValue:g.a.object,value:g.a.object,selectedValue:g.a.object,defaultSelectedValue:g.a.object,mode:g.a.oneOf(["time","date","month","year","decade"]),locale:g.a.object,showDateInput:g.a.bool,showWeekNumber:g.a.bool,showToday:g.a.bool,showOk:g.a.bool,onSelect:g.a.func,onOk:g.a.func,onKeyDown:g.a.func,timePicker:g.a.element,dateInputPlaceholder:g.a.any,onClear:g.a.func,onChange:g.a.func,onPanelChange:g.a.func,disabledDate:g.a.func,disabledTime:g.a.any,dateRender:g.a.func,renderFooter:g.a.func,renderSidebar:g.a.func,clearIcon:g.a.node,focusablePanel:g.a.bool,inputMode:g.a.string,onBlur:g.a.func}),Xt.defaultProps=w()({},Mt,At,{showToday:!0,showDateInput:!0,timePicker:null,onOk:Nt,onPanelChange:Nt,focusablePanel:!0});var zt=function(){var o=this;this.onPanelChange=function(t,e){var n=o.props,i=o.state;"mode"in n||o.setState({mode:e}),n.onPanelChange(t||i.value,e)},this.onKeyDown=function(t){if("input"!==t.target.nodeName.toLowerCase()){var e=t.keyCode,n=t.ctrlKey||t.metaKey,i=o.props.disabledDate,r=o.state.value;switch(e){case y.a.DOWN:return o.goTime(1,"weeks"),t.preventDefault(),1;case y.a.UP:return o.goTime(-1,"weeks"),t.preventDefault(),1;case y.a.LEFT:return n?o.goTime(-1,"years"):o.goTime(-1,"days"),t.preventDefault(),1;case y.a.RIGHT:return n?o.goTime(1,"years"):o.goTime(1,"days"),t.preventDefault(),1;case y.a.HOME:return o.setValue(o.state.value.clone().startOf("month")),t.preventDefault(),1;case y.a.END:return o.setValue(o.state.value.clone().endOf("month")),t.preventDefault(),1;case y.a.PAGE_DOWN:return o.goTime(1,"month"),t.preventDefault(),1;case y.a.PAGE_UP:return o.goTime(-1,"month"),t.preventDefault(),1;case y.a.ENTER:return i&&i(r)||o.onSelect(r,{source:"keyboard"}),t.preventDefault(),1;default:return o.props.onKeyDown(t),1}}},this.onClear=function(){o.onSelect(null),o.props.onClear()},this.onOk=function(){var t=o.state.selectedValue;o.isAllowedDate(t)&&o.props.onOk(t)},this.onDateInputChange=function(t){o.onSelect(t,{source:"dateInput"})},this.onDateInputSelect=function(t){o.onSelect(t,{source:"dateInputSelect"})},this.onDateTableSelect=function(t){var e,n,i,r=o.props.timePicker;o.state.selectedValue||!r||(e=r.props.defaultValue)&&(n=e,i=t,b.a.isMoment(n)&&b.a.isMoment(i)&&(i.hour(n.hour()),i.minute(n.minute()),i.second(n.second()),i.millisecond(n.millisecond()))),o.onSelect(t)},this.onToday=function(){var t=at(o.state.value);o.onSelect(t,{source:"todayButton"})},this.onBlur=function(n){setTimeout(function(){var t=Rt.getInstance(),e=o.rootInstance;!e||e.contains(document.activeElement)||t&&t.contains(document.activeElement)||o.props.onBlur&&o.props.onBlur(n)},0)},this.getRootDOMNode=function(){return f.a.findDOMNode(o)},this.openTimePicker=function(){o.onPanelChange(null,"time")},this.closeTimePicker=function(){o.onPanelChange(null,"date")},this.goTime=function(t,e){var n,i,r;o.setValue((n=o.state.value,i=t,r=e,n.clone().add(i,r)))}};Object(v.polyfill)(Xt);var Ht,Wt,qt,Ut,Kt,Zt,$t,Qt,Jt=(Qt=Kt=Xt,u()(ee,Qt),ee.prototype.shouldComponentUpdate=function(t){return this.props.visible||t.visible},$t=Zt=ee,Zt.displayName="CommonMixinWrapper",Zt.defaultProps=Kt.defaultProps,Zt.getDerivedStateFromProps=Kt.getDerivedStateFromProps,Ut=Ht=$t,u()(te,Ut),te.getDerivedStateFromProps=function(t,e){if(Ht.getDerivedStateFromProps)return Ht.getDerivedStateFromProps(t,e);var n=t.value,i=t.selectedValue,r={};return"value"in t&&(r.value=n||t.defaultValue||jt(e.value)),"selectedValue"in t&&(r.selectedValue=i),r},qt=Wt=te,Wt.displayName="CalendarMixinWrapper",Wt.defaultProps=Ht.defaultProps,qt);function te(){var t,o,e;a()(this,te);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=o=l()(this,Ut.call.apply(Ut,[this].concat(i)))).onSelect=function(t,e){t&&o.setValue(t),o.setSelectedValue(t,e)},o.renderRoot=function(t){var e,n=o.props,i=n.prefixCls,r=((e={})[i]=1,e[i+"-hidden"]=!n.visible,e[n.className]=!!n.className,e[t.className]=!!t.className,e);return nt.a.createElement("div",{ref:o.saveRoot,className:""+ot()(r),style:o.props.style,tabIndex:"0",onKeyDown:o.onKeyDown,onBlur:o.onBlur},t.children)},o.setSelectedValue=function(t,e){"selectedValue"in o.props||o.setState({selectedValue:t}),o.props.onSelect&&o.props.onSelect(t,e)},o.setValue=function(t){var e=o.state.value;"value"in o.props||o.setState({value:t}),(e&&t&&!e.isSame(t)||!e&&t||e&&!t)&&o.props.onChange(t)},o.isAllowedDate=function(t){return S(t,o.props.disabledDate,o.props.disabledTime)},e=t,l()(o,e)}function ee(){var t,r,e;a()(this,ee);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=r=l()(this,Qt.call.apply(Qt,[this].concat(i)))).getFormat=function(){var t=r.props.format,e=r.props,n=e.locale,i=e.timePicker;return t=t||(i?n.dateTimeFormat:n.dateFormat)},r.focus=function(){r.focusElement?r.focusElement.focus():r.rootInstance&&r.rootInstance.focus()},r.saveFocusElement=function(t){r.focusElement=t},r.saveRoot=function(t){r.rootInstance=t},e=t,l()(r,e)}e.default=Jt},1543:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return c});n(1351);var i=n(913),r=n.n(i);n(1341);function o(t,e){for(var n=[],i=0,r=t.length;i<r-2*!e;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4===i?o[3]={x:+t[0],y:+t[1]}:r-2===i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4===i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}n(1624);n(528);var a="\t\n\v\f\r \u2028\u2029",s=new RegExp("([a-z])["+a+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+a+"]*,?["+a+"]*)+)","ig"),l=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+a+"]*,?["+a+"]*","ig");function c(t){if(!t)return null;if(r()(t))return t;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(s,function(t,e,n){var i=[],r=e.toLowerCase();if(n.replace(l,function(t,e){e&&i.push(+e)}),"m"===r&&2<i.length&&(a.push([e].concat(i.splice(0,2))),r="l",e="m"===e?"l":"L"),"o"===r&&1===i.length&&a.push([e,i[0]]),"r"===r)a.push([e].concat(i));else for(;i.length>=o[r]&&(a.push([e].concat(i.splice(0,o[r]))),o[r]););return""}),a}n(1386),n(1387)},1545:function(t,e,n){"use strict";var i=n(532),r=n(698),s=n(1502),o=n(1644);function p(t,e,n){var i=t.getTotalMatrix();if(i){var r=function(t,e){if(e){var n=Object(o.invert)(e);return Object(o.multiplyVec2)(n,t)}return t}([e,n,1],i);return[r[0],r[1]]}return[e,n]}function f(t,e,n){if(t.isCanvas&&t.isCanvas())return 1;if(Object(s.isAllowCapture)(t)||!1!==t.cfg.isInView){if(t.cfg.clipShape){var i=p(t,e,n),r=i[0],o=i[1];if(t.isClipped(r,o))return}var a=t.cfg.cacheCanvasBBox;if(e>=(a=a||t.getCanvasBBox()).minX&&e<=a.maxX&&n>=a.minY&&n<=a.maxY)return 1}}var a,l=n(1389),c=n(1403),u=n(1390),h=n(902),d=(a=r.AbstractCanvas,Object(i.__extends)(g,a),g.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},g.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},g.prototype.getShapeBase=function(){return l},g.prototype.getGroupBase=function(){return c.a},g.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Object(h.d)();return 1<=t?Math.ceil(t):1},g.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.get("width"),maxY:this.get("height")}},g.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},g.prototype.setDOMSize=function(t,e){a.prototype.setDOMSize.call(this,t,e);var n=this.get("context"),i=this.get("el"),r=this.getPixelRatio();i.width=r*t,i.height=r*e,1<r&&n.scale(r,r)},g.prototype.clear=function(){a.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),e=this.get("el");t.clearRect(0,0,e.width,e.height)},g.prototype.getShape=function(t,e){return this.get("quickHit")?function t(e,n,i){if(!f(e,n,i))return null;for(var r=null,o=e.getChildren(),a=o.length-1;0<=a;a--){var s,l,c,u,h=o[a];if(h.isGroup()?r=t(h,n,i):f(h,n,i)&&(c=(l=p(s=h,n,i))[0],u=l[1],s.isInShape(c,u)&&(r=h)),r)break}return r}(this,t,e):a.prototype.getShape.call(this,t,e,null)},g.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),n=this.getViewRange();return e.length&&e[0]===this?t=n:(t=Object(u.d)(e))&&(t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),this.get("clipView")&&(t=Object(u.e)(t,n))),t},g.prototype.refreshElement=function(t){this.get("refreshElements").push(t)},g.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(Object(h.a)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},g.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},g.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),n=this.getChildren();t.clearRect(0,0,e.width,e.height),Object(u.a)(t,this),Object(u.b)(t,n),this.set("refreshElements",[])},g.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),n=this.getChildren(),i=this._getRefreshRegion();i&&(t.clearRect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.save(),t.beginPath(),t.rect(i.minX,i.minY,i.maxX-i.minX,i.maxY-i.minY),t.clip(),Object(u.a)(t,this),Object(u.b)(t,n,i),t.restore()),Object(h.c)(e,function(t){t.get("hasChanged")&&t.set("hasChanged",!1)}),this.set("refreshElements",[])},g.prototype._startDraw=function(){var t=this,e=this.get("drawFrame");e||(e=Object(h.n)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",e))},g.prototype.skipDraw=function(){},g);function g(){return null!==a&&a.apply(this,arguments)||this}e.a=d},1617:function(t){t.exports=JSON.parse('{"__npminstall_done":false,"_args":[["@antv/g-base@0.4.7","/home/travis/build/William-YanHua/Deecamp-Forex"]],"_from":"@antv/g-base@0.4.7","_id":"@antv/g-base@0.4.7","_inBundle":false,"_integrity":"sha1-dpj8TIyzgfK3iaMPvrJrHojEgZY=","_location":"/@antv/g-base","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@antv/g-base@0.4.7","name":"@antv/g-base","escapedName":"@antv%2fg-base","scope":"@antv","rawSpec":"0.4.7","saveSpec":null,"fetchSpec":"0.4.7"},"_requiredBy":["/@ant-design/charts/@antv/g6","/@antv/component","/@antv/g-canvas","/@antv/g-svg","/@antv/g2plot","/@antv/g2plot/@antv/g2"],"_resolved":"https://registry.npm.taobao.org/@antv/g-base/download/@antv/g-base-0.4.7.tgz?cache=0&sync_timestamp=1589277759778&other_urls=https%3A%2F%2Fregistry.npm.taobao.org%2F%40antv%2Fg-base%2Fdownload%2F%40antv%2Fg-base-0.4.7.tgz","_spec":"0.4.7","_where":"/home/travis/build/William-YanHua/Deecamp-Forex","author":{"name":"https://github.com/orgs/antvis/people"},"bugs":{"url":"https://github.com/antvis/util/issues"},"dependencies":{"@antv/event-emitter":"^0.1.1","@antv/g-math":"^0.1.3","@antv/matrix-util":"^3.1.0-beta.1","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","@types/d3-timer":"^1.0.9","d3-ease":"^1.0.5","d3-interpolate":"^1.3.2","d3-timer":"^1.0.9","detect-browser":"^5.1.0"},"description":"A common util collection for antv projects","devDependencies":{"@antv/torch":"^1.0.0","gl-matrix":"^3.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","tsc-watch":"^4.0.0"},"files":["package.json","esm","lib","LICENSE","README.md"],"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a","homepage":"https://github.com/antvis/util#readme","keywords":["util","antv","g"],"license":"ISC","main":"lib/index.js","module":"esm/index.js","name":"@antv/g-base","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/antvis/util.git"},"scripts":{"build":"npm run clean && run-p build:*","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","clean":"rm -rf esm lib","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit","watch:cjs":"tsc-watch -p tsconfig.json --target ES5 --module commonjs --outDir lib --compiler typescript/bin/tsc"},"types":"lib/index.d.ts","version":"0.4.7"}')},1618:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1357);e.default=function(t){return i.default(t)?"":t.toString()}},1619:function(t,a,s){"use strict";(function(e){s.d(a,"a",function(){return r});var l=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i},c=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},n=function(t){this.version=t,this.type="node",this.name="node",this.os=e.platform},u=function(t,e,n,i){this.name=t,this.version=e,this.os=n,this.bot=i,this.type="bot-device"},h=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},i=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},p=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,f=3,t=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],d=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function r(t){return t?o(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new i:"undefined"!=typeof navigator?o(navigator.userAgent):void 0!==e&&e.version?new n(e.version.slice(1)):null}function g(o){return""!==o&&t.reduce(function(t,e){var n=e[0],i=e[1];if(t)return t;var r=i.exec(o);return!!r&&[n,r]},!1)}function o(t){var e=g(t);if(!e)return null;var n=e[0],i=e[1];if("searchbot"===n)return new h;var r=i[1]&&i[1].split(/[._]/).slice(0,3);r?r.length<f&&(r=l(r,function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(f-r.length))):r=[];var o=r.join("."),a=function(t){for(var e=0,n=d.length;e<n;e++){var i=d[e],r=i[0];if(i[1].exec(t))return r}return null}(t),s=p.exec(t);return s&&s[1]?new u(n,o,a,s[1]):new c(n,o,a)}}).call(this,s(77))},1620:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(528),o=n(1621),i=(r.prototype.isAdjust=function(t){return 0<=this.adjustNames.indexOf(t)},r.prototype.getAdjustRange=function(t,e,n){var i,r,o=this.yField,a=n.indexOf(e),s=n.length;return!o&&this.isAdjust("y")?(i=0,r=1):1<s?(i=n[0===a?0:a-1],r=n[a===s-1?s-1:a+1],0!==a?i+=(e-i)/2:i-=(r-e)/2,a!==s-1?r-=(r-e)/2:r+=(e-n[s-2])/2):(i=0===e?0:e-.5,r=0===e?1:e+.5),{pre:i,next:r}},r.prototype.adjustData=function(t,e){var r=this,o=this.getDimValues(e);a.each(t,function(n,i){a.each(o,function(t,e){r.adjustDim(e,t,n,i)})})},r.prototype.groupData=function(t,e){return a.each(t,function(t){void 0===t[e]&&(t[e]=o.DEFAULT_Y)}),a.groupBy(t,e)},r.prototype.adjustDim=function(t,e,n,i){},r.prototype.getDimValues=function(e){var t=this.xField,n=this.yField,i={},r=[];return t&&this.isAdjust("x")&&r.push(t),n&&this.isAdjust("y")&&r.push(n),r.forEach(function(t){i[t]=a.valuesOfKey(e,t).sort(function(t,e){return t-e})}),!n&&this.isAdjust("y")&&(i.y=[o.DEFAULT_Y,1]),i},r);function r(t){var e=t.xField,n=t.yField,i=t.adjustNames,r=void 0===i?["x","y"]:i;this.adjustNames=r,this.xField=e,this.yField=n}e.default=i},1621:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_Y=0,e.MARGIN_RATIO=.5,e.DODGE_RATIO=.5,e.GAP=.05},1622:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function i(t,e){return h.isString(e)?e:t.invert(t.scale(e))}var h=n(528),r=(o.prototype.mapping=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t.map(function(t,e){return n._toOriginParam(t,n.scales[e])});return this.callback.apply(this,i)},o.prototype.getLinearValue=function(t){var e=this.values.length-1,n=Math.floor(e*t),i=e*t-n,r=this.values[n];return r+((n===e?r:this.values[n+1])-r)*i},o.prototype.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),i=[],r=0;r<n;r+=1)i.push(e[r]);return i},o.prototype.getFields=function(){return this.scales.map(function(t){return t.field})},o.prototype.getScale=function(t){return this.scales[this.names.indexOf(t)]},o.prototype.defaultCallback=function(){for(var i=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this.values:t.map(function(t,e){var n=i.scales[e];return"identity"===n.type?n.values[0]:i._getAttributeValue(n,t)})},o.prototype._parseCfg=function(t){var i=this,e=t.type,n=void 0===e?"base":e,r=t.names,o=void 0===r?[]:r,a=t.scales,s=void 0===a?[]:a,l=t.values,c=void 0===l?[]:l,u=t.callback;this.type=n,this.scales=s,this.values=c,this.names=o,this.callback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(u){var n=u.apply(void 0,t);if(!h.isNil(n))return[n]}return i.defaultCallback.apply(i,t)}},o.prototype._getAttributeValue=function(t,e){if(t.isCategory&&!this.linear){var n=t.translate(e);return this.values[n%this.values.length]}var i=t.scale(e);return this.getLinearValue(i)},o.prototype._toOriginParam=function(t,e){return e.isLinear?t:h.isArray(t)?t.map(function(t){return i(e,t)}):i(e,t)},o);function o(t){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(t)}e.default=r},1623:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(897);e.Scale=i.Scale},1624:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1625),s=n(1626),l=n(1341),c=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(l.default(t)||l.default(e))return!1;if(s.default(t)||s.default(e)){if(t.length!==e.length)return!1;for(var n=!0,i=0;i<t.length&&(n=c(t[i],e[i]));i++);return n}if(a.default(t)||a.default(e)){var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(n=!0,i=0;i<r.length&&(n=c(t[r[i]],e[r[i]]));i++);return n}return!1};e.default=c},1625:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return"object"==typeof t&&null!==t}},1626:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},1627:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=1e-6;function h(t){return Math.abs(t)<i?0:t<0?-1:1}e.default=function(t,e,n){var i=!1,r=t.length;if(r<=2)return!1;for(var o,a,s,l=0;l<r;l++){var c=t[l],u=t[(l+1)%r];if(a=u,((s=[e,n])[0]-(o=c)[0])*(a[1]-o[1])==(a[0]-o[0])*(s[1]-o[1])&&Math.min(o[0],a[0])<=s[0]&&s[0]<=Math.max(o[0],a[0])&&Math.min(o[1],a[1])<=s[1]&&s[1]<=Math.max(o[1],a[1]))return!0;0<h(c[1]-n)!=0<h(u[1]-n)&&h(e-(n-c[1])*(c[0]-u[0])/(c[1]-u[1])-c[0])<0&&(i=!i)}return i}},1628:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function f(t,e,n){return e<=t&&t<=n}e.default=function(t,e,n,i){var r,o=n.x-t.x,a=n.y-t.y,s=e.x-t.x,l=e.y-t.y,c=i.x-n.x,u=i.y-n.y,h=s*u-l*c,p=null;return.001*(s*s+l*l)*(c*c+u*u)<h*h&&(f(r=(o*u-a*c)/h,0,1)&&f((o*l-a*s)/h,0,1)&&(p={x:t.x+r*s,y:t.y+r*l})),p}},1629:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=new Map;e.register=function(t,e){i.set(t,e)},e.getMethod=function(t){return i.get(t)}},1630:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr();return{x:e.x,y:e.y,width:e.width,height:e.height}}},1631:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,i=e.y,r=e.r;return{x:n-r,y:i-r,width:2*r,height:2*r}}},1632:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=n(916),h=n(1427);e.default=function(t){for(var e=t.attr().points,n=[],i=[],r=0;r<e.length;r++){var o=e[r];n.push(o[0]),i.push(o[1])}var a=u.getBBoxByArray(n,i),s=a.x,l=a.y,c={minX:s,minY:l,maxX:s+a.width,maxY:l+a.height};return{x:(c=h.mergeArrowBBox(t,c)).minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}},1633:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(916);e.default=function(t){for(var e=t.attr().points,n=[],i=[],r=0;r<e.length;r++){var o=e[r];n.push(o[0]),i.push(o[1])}return a.getBBoxByArray(n,i)}},1634:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=n(1501);e.default=function(t){var e,n,i,r,o=t.attr(),a=o.x,s=o.y,l=o.text,c=o.fontSize,u=o.lineHeight,h=(h=o.font)||d.assembleFont(o),p=d.getTextWidth(l,h),f=p?(e=o.textAlign,n=o.textBaseline,r={x:a,y:s-(i=d.getTextHeight(l,c,u))},e&&("end"===e||"right"===e?r.x-=p:"center"===e&&(r.x-=p/2)),n&&("top"===n?r.y+=i:"middle"===n&&(r.y+=i/2)),{x:r.x,y:r.y,width:p,height:i}):{x:a,y:s,width:0,height:0};return f}},1635:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var y=n(1504),v=n(1428),m=n(1636),l=n(1506),h=n(1401),c=n(1427);function b(t,e){var n=t.prePoint,i=t.currentPoint,r=t.nextPoint,o=Math.pow(i[0]-n[0],2)+Math.pow(i[1]-n[1],2),a=Math.pow(i[0]-r[0],2)+Math.pow(i[1]-r[1],2),s=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2),l=Math.acos((o+a-s)/(2*Math.sqrt(o)*Math.sqrt(a)));if(!l||0===Math.sin(l)||h.default(l,0))return{xExtra:0,yExtra:0};var c=Math.abs(Math.atan2(r[1]-i[1],r[0]-i[0])),u=Math.abs(Math.atan2(r[0]-i[0],r[1]-i[1])),c=c>Math.PI/2?Math.PI-c:c,u=u>Math.PI/2?Math.PI-u:u;return{xExtra:Math.cos(l/2-c)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(u-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0}}e.default=function(t){var e=t.attr(),n=e.path,i=e.stroke?e.lineWidth:0,r=function(t,e){for(var n=[],i=[],r=[],o=0;o<t.length;o++){var a=(h=t[o]).currentPoint,s=h.params,l=h.prePoint,c=void 0;switch(h.command){case"Q":c=y.default.box(l[0],l[1],s[1],s[2],s[3],s[4]);break;case"C":c=v.default.box(l[0],l[1],s[1],s[2],s[3],s[4],s[5],s[6]);break;case"A":var u=h.arcParams,c=m.default.box(u.cx,u.cy,u.rx,u.ry,u.xRotation,u.startAngle,u.endAngle);break;default:n.push(a[0]),i.push(a[1])}c&&(h.box=c,n.push(c.x,c.x+c.width),i.push(c.y,c.y+c.height)),e&&("L"===h.command||"M"===h.command)&&h.prePoint&&h.nextPoint&&r.push(h)}n=n.filter(function(t){return!Number.isNaN(t)}),i=i.filter(function(t){return!Number.isNaN(t)});var h,p=Math.min.apply(null,n),f=Math.min.apply(null,i),d=Math.max.apply(null,n),g=Math.max.apply(null,i);if(0===r.length)return{x:p,y:f,width:d-p,height:g-f};for(o=0;o<r.length;o++){(a=(h=r[o]).currentPoint)[0]===p?p-=b(h,e).xExtra:a[0]===d&&(d+=b(h,e).xExtra),a[1]===f?f-=b(h,e).yExtra:a[1]===g&&(g+=b(h,e).yExtra)}return{x:p,y:f,width:d-p,height:g-f}}(t.get("segments")||l.default(n),i),o=r.x,a=r.y,s={minX:o,minY:a,maxX:o+r.width,maxY:a+r.height};return{x:(s=c.mergeArrowBBox(t,s)).minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}}},1636:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var v=n(916),b=n(1637);function S(t,e,n,i,r,o){return n*Math.cos(r)*Math.cos(o)-i*Math.sin(r)*Math.sin(o)+t}function M(t,e,n,i,r,o){return n*Math.sin(r)*Math.cos(o)+i*Math.cos(r)*Math.sin(o)+e}function x(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function O(t,e,n){var i=Math.cos(n),r=Math.sin(n);return[t*i-e*r,t*r+e*i]}e.default={box:function(t,e,n,i,r,o,a){for(var s,l,c,u=(s=n,l=i,c=r,Math.atan(-l/s*Math.tan(c))),h=1/0,p=-1/0,f=[o,a],d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var g=u+d;o<a?o<g&&g<a&&f.push(g):a<g&&g<o&&f.push(g)}for(d=0;d<f.length;d++){var y=S(t,0,n,i,r,f[d]);y<h&&(h=y),p<y&&(p=y)}for(var v,m,b,x=(v=n,m=i,b=r,Math.atan(m/(v*Math.tan(b)))),O=1/0,w=-1/0,_=[o,a],d=2*-Math.PI;d<=2*Math.PI;d+=Math.PI){var C=x+d;o<a?o<C&&C<a&&_.push(C):a<C&&C<o&&_.push(C)}for(d=0;d<_.length;d++){var j=M(0,e,n,i,r,_[d]);j<O&&(O=j),w<j&&(w=j)}return{x:h,y:O,width:p-h,height:w-O}},length:function(t,e,n,i,r,o,a){},nearestPoint:function(t,e,n,i,r,o,a,s,l){var c,u,h,p,f=O(s-t,l-e,-r),d=f[0],g=f[1],y=b.default.nearestPoint(0,0,n,i,d,g),v=(c=n,u=i,h=y.x,p=y.y,(Math.atan2(p*c,h*u)+2*Math.PI)%(2*Math.PI));v<o?y=x(n,i,o):a<v&&(y=x(n,i,a));var m=O(y.x,y.y,r);return{x:m[0]+t,y:m[1]+e}},pointDistance:function(t,e,n,i,r,o,a,s,l){var c=this.nearestPoint(t,e,n,i,s,l);return v.distance(c.x,c.y,s,l)},pointAt:function(t,e,n,i,r,o,a,s){var l=(a-o)*s+o;return{x:S(t,0,n,i,r,l),y:M(0,e,n,i,r,l)}},tangentAngle:function(t,e,n,i,r,o,a,s){var l,c,u,h,p,f,d=(a-o)*s+o,g=(l=i,c=r,u=d,-1*n*Math.cos(c)*Math.sin(u)-l*Math.sin(c)*Math.cos(u)),y=(h=i,p=r,f=d,-1*n*Math.sin(p)*Math.sin(f)+h*Math.cos(p)*Math.cos(f));return v.piMod(Math.atan2(y,g))}}},1637:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(916);function S(t,e){var n=Math.abs(t);return 0<e?n:-1*n}e.default={box:function(t,e,n,i){return{x:t-n,y:e-i,width:2*n,height:2*i}},length:function(t,e,n,i){return Math.PI*(3*(n+i)-Math.sqrt((3*n+i)*(n+3*i)))},nearestPoint:function(t,e,n,i,r,o){var a=n,s=i;if(0===a||0===s)return{x:t,y:e};for(var l,c,u=r-t,h=o-e,p=Math.abs(u),f=Math.abs(h),d=a*a,g=s*s,y=Math.PI/4,v=0;v<4;v++){l=a*Math.cos(y),c=s*Math.sin(y);var m=(d-g)*Math.pow(Math.cos(y),3)/a,b=(g-d)*Math.pow(Math.sin(y),3)/s,x=l-m,O=c-b,w=p-m,_=f-b,C=Math.hypot(O,x),j=Math.hypot(_,w);y+=C*Math.asin((x*_-O*w)/(C*j))/Math.sqrt(d+g-l*l-c*c),y=Math.min(Math.PI/2,Math.max(0,y))}return{x:t+S(l,u),y:e+S(c,h)}},pointDistance:function(t,e,n,i,r,o){var a=this.nearestPoint(t,e,n,i,r,o);return s.distance(a.x,a.y,r,o)},pointAt:function(t,e,n,i,r){var o=2*Math.PI*r;return{x:t+n*Math.cos(o),y:e+i*Math.sin(o)}},tangentAngle:function(t,e,n,i,r){var o=2*Math.PI*r,a=Math.atan2(i*Math.cos(o),-n*Math.sin(o));return s.piMod(a)}}},1638:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1351),o=n(913),a=n(1341),s=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,l=/[^\s\,]+/gi;e.default=function(t){var i=t||[];return o.default(i)?i:a.default(i)?(i=i.match(s),r.default(i,function(n,t){var e;1<(n=n.match(l))[0].length&&(e=n[0].charAt(0),n.splice(1,0,n[0].substr(1)),n[0]=e),r.default(n,function(t,e){isNaN(t)||(n[e]=+t)}),i[t]=n}),i):void 0}},1639:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(1427);e.default=function(t){var e=t.attr(),n=e.x1,i=e.y1,r=e.x2,o=e.y2,a={minX:Math.min(n,r),maxX:Math.max(n,r),minY:Math.min(i,o),maxY:Math.max(i,o)};return{x:(a=s.mergeArrowBBox(t,a)).minX,y:a.minY,width:a.maxX-a.minX,height:a.maxY-a.minY}}},1640:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t.attr(),n=e.x,i=e.y,r=e.rx,o=e.ry;return{x:n-r,y:i-o,width:2*r,height:2*o}}},1641:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(913),r="\t\n\v\f\r \u2028\u2029",s=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),l=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig");e.default=function(t){if(!t)return null;if(i.default(t))return t;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(s,function(t,e,n){var i=[],r=e.toLowerCase();if(n.replace(l,function(t,e){e&&i.push(+e)}),"m"===r&&2<i.length&&(a.push([e].concat(i.splice(0,2))),r="l",e="m"===e?"l":"L"),"o"===r&&1===i.length&&a.push([e,i[0]]),"r"===r)a.push([e].concat(i));else for(;i.length>=o[r]&&(a.push([e].concat(i.splice(0,o[r]))),o[r]););return""}),a}},1642:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f=n(1353),l=n(916);function d(t){for(var e=0,n=[],i=0;i<t.length-1;i++){var r=t[i],o=t[i+1],a=l.distance(r[0],r[1],o[0],o[1]),s={from:r,to:o,length:a};n.push(s),e+=a}return{segments:n,totalLength:e}}e.lengthOfSegment=function(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var i=t[n],r=t[n+1];e+=l.distance(i[0],i[1],r[0],r[1])}return e},e.pointAtSegments=function(t,e){if(1<e||e<0||t.length<2)return null;var n=d(t),i=n.segments,r=n.totalLength;if(0===r)return{x:t[0][0],y:t[0][1]};for(var o=0,a=null,s=0;s<i.length;s++){var l=i[s],c=l.from,u=l.to,h=l.length/r;if(o<=e&&e<=o+h){var p=(e-o)/h,a=f.default.pointAt(c[0],c[1],u[0],u[1],p);break}o+=h}return a},e.angleAtSegments=function(t,e){if(1<e||e<0||t.length<2)return 0;for(var n=d(t),i=n.segments,r=n.totalLength,o=0,a=0,s=0;s<i.length;s++){var l=i[s],c=l.from,u=l.to,h=l.length/r;if(o<=e&&e<=o+h){a=Math.atan2(u[1]-c[1],u[0]-c[0]);break}o+=h}return a},e.distanceAtSegment=function(t,e,n){for(var i=1/0,r=0;r<t.length-1;r++){var o=t[r],a=t[r+1],s=f.default.pointDistance(o[0],o[1],a[0],a[1],e,n);s<i&&(i=s)}return i}},1643:function(t){t.exports=JSON.parse('{"__npminstall_done":false,"_args":[["@antv/g-canvas@0.4.14","/home/travis/build/William-YanHua/Deecamp-Forex"]],"_from":"@antv/g-canvas@0.4.14","_id":"@antv/g-canvas@0.4.14","_inBundle":false,"_integrity":"sha1-+5ev3Jl62P39B6QQRUfEbGGhsoo=","_location":"/@antv/g-canvas","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@antv/g-canvas@0.4.14","name":"@antv/g-canvas","escapedName":"@antv%2fg-canvas","scope":"@antv","rawSpec":"0.4.14","saveSpec":null,"fetchSpec":"0.4.14"},"_requiredBy":["/@ant-design/charts/@antv/g6","/@antv/g2plot","/@antv/g2plot/@antv/g2"],"_resolved":"https://registry.npm.taobao.org/@antv/g-canvas/download/@antv/g-canvas-0.4.14.tgz","_spec":"0.4.14","_where":"/home/travis/build/William-YanHua/Deecamp-Forex","author":{"name":"https://github.com/orgs/antvis/people"},"bugs":{"url":"https://github.com/antvis/g/issues"},"dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/path-util":"~2.0.5","@antv/util":"~2.0.0","gl-matrix":"^3.0.0"},"description":"A canvas library which providing 2d","devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.26.1","webpack-cli":"^3.1.2"},"files":["package.json","esm","lib","dist","LICENSE","README.md"],"gitHead":"6b4107c8cfae1b893c385758ad8e870236f73f6b","homepage":"https://github.com/antvis/g#readme","keywords":["util","antv","g"],"license":"ISC","main":"lib/index.js","module":"esm/index.js","name":"@antv/g-canvas","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"scripts":{"build":"npm run clean && run-p build:*","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","dist":"webpack --config webpack.config.js --mode production","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"types":"lib/index.d.ts","unpkg":"dist/g.min.js","version":"0.4.14"}')},1644:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiplyMatrix=function(t,e){var n=[],i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],p=e[0],f=e[1],d=e[2],g=e[3],y=e[4],v=e[5],m=e[6],b=e[7],x=e[8];return n[0]=p*i+f*a+d*c,n[1]=p*r+f*s+d*u,n[2]=p*o+f*l+d*h,n[3]=g*i+y*a+v*c,n[4]=g*r+y*s+v*u,n[5]=g*o+y*l+v*h,n[6]=m*i+b*a+x*c,n[7]=m*r+b*s+x*u,n[8]=m*o+b*l+x*h,n},e.multiplyVec2=function(t,e){var n=[],i=e[0],r=e[1];return n[0]=t[0]*i+t[3]*r+t[6],n[1]=t[1]*i+t[4]*r+t[7],n},e.invert=function(t){var e=[],n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=u*a-s*c,p=-u*o+s*l,f=c*o-a*l,d=n*h+i*p+r*f;return d?(d=1/d,e[0]=h*d,e[1]=(-u*i+r*c)*d,e[2]=(s*i-r*a)*d,e[3]=p*d,e[4]=(u*n-r*l)*d,e[5]=(-s*n+r*o)*d,e[6]=f*d,e[7]=(-c*n+i*l)*d,e[8]=(a*n-i*o)*d,e):null}},1645:function(t,h,e){"use strict";(function(e){var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i};Object.defineProperty(h,"__esModule",{value:!0});var a=function(t,e,n){this.name=t,this.version=e,this.os=n};h.BrowserInfo=a;var t=function(t){this.version=t,this.name="node",this.os=e.platform};h.NodeInfo=t;var s=function(){this.bot=!0,this.name="bot",this.version=null,this.os=null};h.BotInfo=s;var l=3,c=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/Edg\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],o=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]];function n(o){var t=""!==o&&c.reduce(function(t,e){var n=e[0],i=e[1];if(t)return t;var r=i.exec(o);return!!r&&[n,r]},!1);if(!t)return null;var e=t[0],n=t[1];if("searchbot"===e)return new s;var i=n[1]&&n[1].split(/[._]/).slice(0,3);return i?i.length<l&&(i=r(i,function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(l-i.length))):i=[],new a(e,i.join("."),u(o))}function u(t){for(var e=0,n=o.length;e<n;e++){var i=o[e],r=i[0];if(i[1].test(t))return r}return null}function i(){return void 0!==e&&e.version?new t(e.version.slice(1)):null}h.detect=function(t){return t?n(t):"undefined"!=typeof navigator?n(navigator.userAgent):i()},h.parseUserAgent=n,h.detectOS=u,h.getNodeVersion=i}).call(this,e(77))},1646:function(t){t.exports=JSON.parse('{"__npminstall_done":false,"_args":[["@antv/g-svg@0.4.7","/home/travis/build/William-YanHua/Deecamp-Forex"]],"_from":"@antv/g-svg@0.4.7","_id":"@antv/g-svg@0.4.7","_inBundle":false,"_integrity":"sha1-DWXh2zTm3+YJqts+3fR0jbAvCwE=","_location":"/@antv/g-svg","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@antv/g-svg@0.4.7","name":"@antv/g-svg","escapedName":"@antv%2fg-svg","scope":"@antv","rawSpec":"0.4.7","saveSpec":null,"fetchSpec":"0.4.7"},"_requiredBy":["/@ant-design/charts/@antv/g6","/@antv/g2plot","/@antv/g2plot/@antv/g2"],"_resolved":"https://registry.npm.taobao.org/@antv/g-svg/download/@antv/g-svg-0.4.7.tgz","_spec":"0.4.7","_where":"/home/travis/build/William-YanHua/Deecamp-Forex","author":{"name":"https://github.com/orgs/antvis/people"},"bugs":{"url":"https://github.com/antvis/g/issues"},"dependencies":{"@antv/g-base":"^0.4.7","@antv/g-math":"^0.1.3","@antv/util":"~2.0.0","detect-browser":"^4.6.0"},"description":"A canvas library which providing 2d","devDependencies":{"@antv/torch":"^1.0.0","less":"^3.9.0","npm-run-all":"^4.1.5","webpack":"^4.39.3","webpack-cli":"^3.3.7"},"files":["package.json","esm","lib","dist","LICENSE","README.md"],"gitHead":"eb6a2503cb7bb8154697592b10680939d954a31a","homepage":"https://github.com/antvis/g#readme","keywords":["util","antv","g"],"license":"ISC","main":"lib/index.js","module":"esm/index.js","name":"@antv/g-svg","publishConfig":{"access":"public"},"repository":{"type":"git","url":"git+https://github.com/antvis/g.git"},"scripts":{"build":"npm run clean && run-p build:*","build:cjs":"tsc -p tsconfig.json --target ES5 --module commonjs --outDir lib","build:esm":"tsc -p tsconfig.json --target ES5 --module ESNext --outDir esm","build:umd":"webpack --config webpack.config.js --mode production","clean":"rm -rf esm lib dist","coverage":"npm run coverage-generator && npm run coverage-viewer","coverage-generator":"torch --coverage --compile --source-pattern src/*.js,src/**/*.js --opts tests/mocha.opts","coverage-viewer":"torch-coverage","test":"torch --renderer --compile --opts tests/mocha.opts","test-live":"torch --compile --interactive --opts tests/mocha.opts","tsc":"tsc --noEmit","typecheck":"tsc --noEmit"},"types":"lib/index.d.ts","unpkg":"dist/g.min.js","version":"0.4.7"}')},1647:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var C=n(1648);function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function j(t,e){return i(t)*i(e)?(t[0]*e[0]+t[1]*e[1])/(i(t)*i(e)):1}function S(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(j(t,e))}e.default=function(t,e){var n=e[1],i=e[2],r=C.mod(C.toRadian(e[3]),2*Math.PI),o=e[4],a=e[5],s=t[0],l=t[1],c=e[6],u=e[7],h=Math.cos(r)*(s-c)/2+Math.sin(r)*(l-u)/2,p=-1*Math.sin(r)*(s-c)/2+Math.cos(r)*(l-u)/2,f=h*h/(n*n)+p*p/(i*i);1<f&&(n*=Math.sqrt(f),i*=Math.sqrt(f));var d=n*n*(p*p)+i*i*(h*h),g=d?Math.sqrt((n*n*(i*i)-d)/d):1;o===a&&(g*=-1),isNaN(g)&&(g=0);var y=i?g*n*p/i:0,v=n?g*-i*h/n:0,m=(s+c)/2+Math.cos(r)*y-Math.sin(r)*v,b=(l+u)/2+Math.sin(r)*y+Math.cos(r)*v,x=[(h-y)/n,(p-v)/i],O=[(-1*h-y)/n,(-1*p-v)/i],w=S([1,0],x),_=S(x,O);return j(x,O)<=-1&&(_=Math.PI),1<=j(x,O)&&(_=0),0===a&&0<_&&(_-=2*Math.PI),1===a&&_<0&&(_+=2*Math.PI),{cx:m,cy:b,rx:C.isSamePoint(t,[c,u])?0:n,ry:C.isSamePoint(t,[c,u])?0:i,startAngle:w,endAngle:w+_,xRotation:r,arcFlag:o,sweepFlag:a}}},1648:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSamePoint=e.mergeRegion=e.intersectRect=e.inBox=e.distance=e.getPixelRatio=void 0,e.getPixelRatio=function(){return window?window.devicePixelRatio:1},e.distance=function(t,e,n,i){var r=t-n,o=e-i;return Math.sqrt(r*r+o*o)},e.inBox=function(t,e,n,i,r,o){return t<=r&&r<=t+n&&e<=o&&o<=e+i},e.intersectRect=function(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)},e.mergeRegion=function(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e},e.isSamePoint=function(t,e){return t[0]===e[0]&&t[1]===e[1]};var i=n(1357);Object.defineProperty(e,"isNil",{enumerable:!0,get:function(){return i.default}});var r=n(1341);Object.defineProperty(e,"isString",{enumerable:!0,get:function(){return r.default}});var o=n(1365);Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return o.default}});var a=n(913);Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return a.default}});var s=n(1351);Object.defineProperty(e,"each",{enumerable:!0,get:function(){return s.default}});var l=n(1387);Object.defineProperty(e,"toRadian",{enumerable:!0,get:function(){return l.default}});var c=n(1386);Object.defineProperty(e,"mod",{enumerable:!0,get:function(){return c.default}});var u=n(1401);Object.defineProperty(e,"isNumberEqual",{enumerable:!0,get:function(){return u.default}});var h=n(1425);Object.defineProperty(e,"requestAnimationFrame",{enumerable:!0,get:function(){return h.default}});var p=n(1426);Object.defineProperty(e,"clearAnimationFrame",{enumerable:!0,get:function(){return p.default}})},1649:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uniq=e.omit=e.padEnd=e.isBetween=void 0;var a=n(528);e.isBetween=function(t,e,n){var i=Math.min(e,n),r=Math.max(e,n);return i<=t&&t<=r},e.padEnd=function(t,e,n){if(a.isString(t))return t.padEnd(e,n);if(a.isArray(t)){var i=t.length;if(i<e)for(var r=e-i,o=0;o<r;o++)t.push(n)}return t},e.omit=function(e,t){return t.forEach(function(t){delete e[t]}),e},e.uniq=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n={});for(var i=0,r=t;i<r.length;i++){var o=r[i];n[o]||(e.push(o),n[o]=!0)}return e}},1650:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTooltipItems=e.findDataByPoint=void 0;var _=n(544),N=n(528),Y=n(915),C=n(1651);function V(t,e,n){var i=n.translate(t),r=n.translate(e);return N.isNumberEqual(i,r)}function X(t,e,n){var i=n.coordinate,r=n.getYScale(),o=r.field,a=i.invert(e),s=r.invert(a.y);return N.find(t,function(t){var e=t[Y.FIELD_ORIGIN];return e[o][0]<=s&&e[o][1]>=s})||t[t.length-1]}var G=N.memoize(function(t){if(t.isCategory)return 1;for(var e=t.values,n=e.length,i=t.translate(e[0]),r=i,o=0;o<n;o++){var a=e[o],s=t.translate(a);s<i&&(i=s),r<s&&(r=s)}return(r-i)/(n-1)});function j(t){for(var e,n,i,r=0,o=(e=t,n=N.values(e.attributes),N.filter(n,function(t){return N.contains(Y.GROUP_ATTRS,t.type)}));r<o.length;r++){var a=o[r],s=a.getScale(a.type);if(s&&s.isLinear){i=s;break}}var l=t.getXScale(),c=t.getYScale();return i||c||l}e.findDataByPoint=function(t,e,n){if(0===e.length)return null;var i=n.type,r=n.getXScale(),o=n.getYScale(),a=r.field,s=o.field,l=null;if("heatmap"===i||"point"===i){for(var c=n.coordinate.invert(t),u=r.invert(c.x),h=o.invert(c.y),p=1/0,f=0;f<e.length;f++){var d=e[f],g=d[Y.FIELD_ORIGIN],y=Math.pow(g[a]-u,2)+Math.pow(g[s]-h,2);y<p&&(p=y,l=d)}return l}var v,m,b,x,O,w,_,C,j=e[0],S=e[e.length-1],M=(v=t,b=(m=n).coordinate,x=m.getXScale(),O=x.range,w=O[O.length-1],_=O[0],C=b.invert(v).x,b.isPolar&&(1+w)/2<C&&(C=_),x.translate(x.invert(C))),k=j[Y.FIELD_ORIGIN][a],T=j[Y.FIELD_ORIGIN][s],P=S[Y.FIELD_ORIGIN][a],A=o.isLinear&&N.isArray(T);if(N.isArray(k)){for(f=0;f<e.length;f++){g=(F=e[f])[Y.FIELD_ORIGIN];if(r.translate(g[a][0])<=M&&r.translate(g[a][1])>=M){if(!A){l=F;break}N.isArray(l)||(l=[]),l.push(F)}}N.isArray(l)&&(l=X(l,t,n))}else{var E=void 0;if(r.isLinear||"timeCat"===r.type){if((M>r.translate(P)||M<r.translate(k))&&(M>r.max||M<r.min))return null;for(var L,I=0,B=e.length-1;I<=B;){var D=e[L=Math.floor((I+B)/2)][Y.FIELD_ORIGIN][a];if(V(D,M,r))return e[L];r.translate(D)<=r.translate(M)?(I=L+1,S=e[L],E=e[L+1]):(0===B&&(S=e[0]),B=L-1)}}else{for(var F,f=0;f<e.length;f++){if(V((g=(F=e[f])[Y.FIELD_ORIGIN])[a],M,r)){if(!A){l=F;break}N.isArray(l)||(l=[]),l.push(F)}else r.translate(g[a])<=M&&(S=F,E=e[f+1])}N.isArray(l)&&(l=X(l,t,n))}S&&E&&Math.abs(r.translate(S[Y.FIELD_ORIGIN][a])-M)>Math.abs(r.translate(E[Y.FIELD_ORIGIN][a])-M)&&(S=E)}var R=G(n.getXScale());return!l&&Math.abs(r.translate(S[Y.FIELD_ORIGIN][a])-M)<=R/2&&(l=S),l},e.getTooltipItems=function(i,t,e){void 0===e&&(e="");var n,r,o=i[Y.FIELD_ORIGIN],a=function(t,e,n){var i=n;n||(i=e.getAttribute("position").getFields()[0]);var r=e.scales;return r[i]?r[i].getText(t[i]):N.hasKey(t,i)?t[i]:i}(o,t,e),s=t.tooltipOption,l=t.theme.defaultColor,c=[];function u(t,e){var n;N.isNil(e)||""===e||(n={title:a,data:o,mappingData:i,name:t,value:e,color:i.color||l,marker:!0},c.push(n))}if(N.isObject(s)){var h=s.fields,p=s.callback;if(p){var f=h.map(function(t){return i[Y.FIELD_ORIGIN][t]}),d=p.apply(void 0,f),g=_.__assign({data:i[Y.FIELD_ORIGIN],mappingData:i,title:a,color:i.color||l,marker:!0},d);c.push(g)}else for(var y=t.scales,v=0,m=h;v<m.length;v++){var b,x,O=m[v];N.isNil(o[O])||(b=y[O],u(C.getName(b),x=b.getText(o[O])))}}else{var w=j(t);N.isNil(o[w.field])||(r=o[(n=w).field],x=N.isArray(r)?r.map(function(t){return n.getText(t)}).join("-"):n.getText(r),u(function(t,e){var n,i=e.getGroupScales();if(i.length&&(n=i[0]),n){var r=n.field;return n.getText(t[r])}var o=j(e);return C.getName(o)}(o,t),x))}return c}},1651:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getName=e.syncScale=e.createScaleByField=void 0;var l=n(544),c=n(528),u=n(1515),h=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;e.createScaleByField=function(t,e,n){var i=e||[];if(c.isNumber(t)||c.isNil(c.firstValue(i,t))&&c.isEmpty(n))return new(u.getScale("identity"))({field:t.toString(),values:[t]});var r,o,a=c.valuesOfKey(i,t),s=c.get(n,"type",(r=a[0],o="linear",h.test(r)?o="time":c.isString(r)&&(o="cat"),o));return new(u.getScale(s))(l.__assign({field:t,values:a},n))},e.syncScale=function(t,e){if("identity"!==t.type&&"identity"!==e.type){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);t.change(n)}},e.getName=function(t){return t.alias||t.field}},1652:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCallbackAction=e.unregisterAction=e.registerAction=e.getActionClass=e.createAction=void 0;var i=n(544).__importDefault(n(1653)),r=n(528),o={};e.createAction=function(t,e){var n=o[t],i=null;return n&&((i=new n.ActionClass(e,n.cfg)).name=t,i.init()),i},e.getActionClass=function(t){var e=o[t];return r.get(e,"ActionClass")},e.registerAction=function(t,e,n){o[t]={ActionClass:e,cfg:n}},e.unregisterAction=function(t){delete o[t]},e.createCallbackAction=function(t,e){var n=new i.default(e);return n.callback=t,n.name="callback",n}},1653:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(544),o=r.__importDefault(n(1654)),a=(i=o.default,r.__extends(s,i),s.prototype.execute=function(){this.callback&&this.callback(this.context)},s.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},s);function s(){return null!==i&&i.apply(this,arguments)||this}e.default=a},1654:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(528),r=(o.prototype.applyCfg=function(t){i.assign(this,t)},o.prototype.init=function(){this.applyCfg(this.cfg)},o.prototype.destroy=function(){this.context.removeAction(this),this.context=null},o);function o(t,e){this.context=t,this.cfg=e,t.addAction(this)}e.default=r},1655:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(528),r=n(1431),o=(a.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},a.prototype.getAction=function(e){return this.actions.find(function(t){return t.name===e})},a.prototype.addAction=function(t){this.actions.push(t)},a.prototype.removeAction=function(t){var e=this.actions,n=this.actions.indexOf(t);0<=n&&e.splice(n,1)},a.prototype.getCurrentPoint=function(){var t=this.event;return t?t.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(t.clientX,t.clientY):{x:t.x,y:t.y}:null},a.prototype.getCurrentShape=function(){return i.get(this.event,["gEvent","shape"])},a.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},a.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},a.prototype.isInComponent=function(n){var t=r.getComponents(this.view),i=this.getCurrentPoint();return!!i&&!!t.find(function(t){var e=t.getBBox();return(!n||t.get("name")===n)&&r.isInBox(e,i)})},a.prototype.destroy=function(){this.view=null,this.event=null,i.each(this.actions.slice(),function(t){t.destroy()}),this.actions=null,this.cacheMap=null},a);function a(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}e.default=o},1656:function(t,f,e){"use strict";Object.defineProperty(f,"__esModule",{value:!0}),f.convertPolarPath=f.convertNormalPath=f.getSplinePath=f.getLinePath=f.catmullRom2bezier=f.smoothBezier=void 0;var w=e(636),i=e(528),j=e(1516);function S(t,e){for(var n=[t[0]],i=1,r=t.length;i<r;i+=2){var o=e.convert({x:t[i],y:t[i+1]});n.push(o.x,o.y)}return n}function u(t,e,n){for(var i=!!e,r=[],o=0,a=t.length;o<a;o+=2)r.push([t[o],t[o+1]]);for(var s,l,c,u=f.smoothBezier(r,.4,i,n),h=r.length,p=[],o=0;o<h-1;o++)s=u[2*o],l=u[2*o+1],c=r[o+1],p.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]]);return i&&(s=u[h],l=u[h+1],c=r[0],p.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]])),p}function h(t,e){return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var i=1,r=t.length;i<r;i+=1){var o=t[i];n.push(["L",o.x,o.y])}e&&n.push(["Z"])}return n}(t,e)}f.smoothBezier=function(t,e,n,i){var r,o,a=[],s=!!i;if(s){h=[1/0,1/0],p=[-1/0,-1/0];for(var l=0,c=t.length;l<c;l++)var u=t[l],h=w.vec2.min([0,0],h,u),p=w.vec2.max([0,0],p,u);h=w.vec2.min([0,0],h,i[0]),p=w.vec2.max([0,0],p,i[1])}for(var l=0,f=t.length;l<f;l++){u=t[l];if(n)r=t[l?l-1:f-1],o=t[(l+1)%f];else{if(0===l||l===f-1){a.push(u);continue}r=t[l-1],o=t[l+1]}var d=[0,0],d=w.vec2.sub(d,o,r);d=w.vec2.scale(d,d,e);var g=w.vec2.distance(u,r),y=w.vec2.distance(u,o),v=g+y;0!==v&&(g/=v,y/=v);var m=w.vec2.scale([0,0],d,-g),b=w.vec2.scale([0,0],d,y),x=w.vec2.add([0,0],u,m),O=w.vec2.add([0,0],u,b);s&&(x=w.vec2.max([0,0],x,h),x=w.vec2.min([0,0],x,p),O=w.vec2.max([0,0],O,h),O=w.vec2.min([0,0],O,p)),a.push(x),a.push(O)}return n&&a.push(a.shift()),a},f.catmullRom2bezier=u,f.getLinePath=h,f.getSplinePath=function(t,e,n){var i=[],r=t[0],o=null;if(t.length<=2)return h(t,e);for(var a=0,s=t.length;a<s;a++){var l=t[a];o&&o.x===l.x&&o.y===l.y||(i.push(l.x),i.push(l.y),o=l)}var c=u(i,e,n||[[0,0],[1,1]]);return c.unshift(["M",r.x,r.y]),c},f.convertNormalPath=function(e,t){var n=[];return i.each(t,function(t){switch(t[0].toLowerCase()){case"m":case"l":case"c":n.push(S(t,e));break;case"z":default:n.push(t)}}),n},f.convertPolarPath=function(b,x){var O,w,_,r,C=[];return i.each(x,function(t,e){var n,i,r,o,a,s,l,c,u,h,p,f,d,g,y,v,m;switch(t[0].toLowerCase()){case"m":case"c":case"q":C.push(S(t,b));break;case"l":O=x[e-1],w=t,_=b.isTransposed,(_?O[O.length-2]===w[1]:O[O.length-1]===w[2])?C=C.concat((n=O,i=w,s=(r=b).isTransposed,l=r.startAngle,c=r.endAngle,u={x:n[1],y:n[2]},h={x:i[1],y:i[2]},p=[],f=s?"y":"x",d=Math.abs(h[f]-u[f])*(c-l),g=u[f]<=h[f]?1:0,y=d>Math.PI?1:0,v=r.convert(h),.5<=(m=j.getDistanceToCenter(r,v))&&(d==2*Math.PI&&(o={x:(h.x+u.x)/2,y:(h.y+u.y)/2},a=r.convert(o),p.push(["A",m,m,0,y,g,a.x,a.y])),p.push(["A",m,m,0,y,g,v.x,v.y])),p)):C.push(S(t,b));break;case"z":default:C.push(t)}}),r=C,i.each(r,function(t,e){var n,i;"a"===t[0].toLowerCase()&&(n=r[e-1],(i=r[e+1])&&"a"===i[0].toLowerCase()?n&&"l"===n[0].toLowerCase()&&(n[0]="M"):n&&"a"===n[0].toLowerCase()&&i&&"l"===i[0].toLowerCase()&&(i[0]="M"))}),C}},1657:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(r.prototype.init=function(){this.initEvents()},r.prototype.initEvents=function(){},r.prototype.clearEvents=function(){},r.prototype.destroy=function(){this.clearEvents()},r);function r(t,e){this.view=t,this.cfg=e}e.default=i},1658:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerAnimation=e.getAnimation=void 0;var i={};e.getAnimation=function(t){return i[t.toLowerCase()]},e.registerAnimation=function(t,e){i[t.toLowerCase()]=e}},1659:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(544),o=i.__importDefault(n(914)),a=(r=o.default,i.__extends(s,r),s.prototype.show=function(){this.visible||this.changeVisible(!0)},s.prototype.hide=function(){this.visible&&this.changeVisible(!1)},s.prototype.destroy=function(){this.off(),this.destroyed=!0},s.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},s);function s(t){var e=r.call(this)||this;e.destroyed=!1;var n=t.visible,i=void 0===n||n;return e.visible=i,e}e.default=a},1660:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(532),o=n(864),a=n(528),s=n(1520),l=n(1661),c=(i=l.default,r.__extends(u,i),u.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return r.__assign(r.__assign({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},u.prototype.getContainer=function(){return this.get("container")},u.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},u.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},u.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},u.prototype.getBBox=function(){var t=this.getContainer(),e=parseFloat(t.style.left)||0,n=parseFloat(t.style.top)||0;return s.createBBox(e,n,t.clientWidth,t.clientHeight)},u.prototype.clear=function(){var t=this.get("container");s.clearDom(t)},u.prototype.destroy=function(){this.removeEvent(),this.removeDom(),i.prototype.destroy.call(this)},u.prototype.init=function(){i.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},u.prototype.initCapture=function(){this.setCapture(this.get("capture"))},u.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},u.prototype.initDom=function(){},u.prototype.initContainer=function(){var t,e=this.get("container");a.isNil(e)?(e=this.createDom(),t=this.get("parent"),a.isString(t)&&(t=document.getElementById(t),this.set("parent",t)),t.appendChild(e),this.set("container",e)):a.isString(e)&&(e=document.getElementById(e),this.set("container",e)),this.get("parent")||this.set("parent",e.parentNode)},u.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles"),t=t?a.deepMix({},e,t):e;this.set("domStyles",t)},u.prototype.applyStyles=function(){var t,e,n,i=this.get("domStyles");i&&(t=this.getContainer(),this.applyChildrenStyles(t,i),(e=this.get("containerClassName"))&&s.hasClass(t,e)&&(n=i[e],o.modifyCSS(t,n)))},u.prototype.applyChildrenStyles=function(i,t){a.each(t,function(e,t){var n=i.getElementsByClassName(t);a.each(n,function(t){o.modifyCSS(t,e)})})},u.prototype.applyStyle=function(t,e){var n=this.get("domStyles");o.modifyCSS(e,n[t])},u.prototype.createDom=function(){var t=this.get("containerTpl");return o.createDom(t)},u.prototype.initEvent=function(){},u.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode.removeChild(t)},u.prototype.removeEvent=function(){},u.prototype.updateInner=function(t){a.hasKey(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},u.prototype.resetPosition=function(){},u);function u(){return null!==i&&i.apply(this,arguments)||this}e.default=c},1661:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(532),o=n(698),a=n(528),s={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},l=(i=o.Base,r.__extends(c,i),c.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},c.prototype.clear=function(){},c.prototype.update=function(t){var i=this,r=this.get("defaultCfg");a.each(t,function(t,e){var n=t;i.get(e)!==t&&(a.isObject(t)&&r[e]&&(n=a.deepMix({},r[e],t)),i.set(e,n))}),this.updateInner(t),this.afterUpdate(t)},c.prototype.updateInner=function(t){},c.prototype.afterUpdate=function(t){a.hasKey(t,"visible")&&(t.visible?this.show():this.hide()),a.hasKey(t,"capture")&&this.setCapture(t.capture)},c.prototype.getLayoutBBox=function(){return this.getBBox()},c.prototype.getLocationType=function(){return this.get("locationType")},c.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},c.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},c.prototype.setLocation=function(t){var e=r.__assign({},t);this.update(e)},c.prototype.getLocation=function(){var e=this,n={},t=this.get("locationType"),i=s[t];return a.each(i,function(t){n[t]=e.get(t)}),n},c.prototype.isList=function(){return!1},c.prototype.isSlider=function(){return!1},c.prototype.init=function(){},c.prototype.initCfg=function(){var r=this,t=this.get("defaultCfg");a.each(t,function(t,e){var n,i=r.get(e);a.isObject(i)&&(n=a.deepMix({},t,i),r.set(e,n))})},c);function c(t){var e=i.call(this,t)||this;return e.initCfg(),e}e.default=l},1662:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={fontFamily:'\n  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},1663:function(t,e,n){"use strict";function c(t,e,n,i,r){return{left:t<r.x,right:t+n>r.x+r.width,top:e<r.y,bottom:e+i>r.y+r.height}}function u(t,e,n,i,r,o){var a=t,s=e;switch(o){case"left":a=t-i-n,s=e-r/2;break;case"right":a=t+n,s=e-r/2;break;case"top":a=t-i/2,s=e-r-n;break;case"bottom":a=t-i/2,s=e+n;break;default:a=t+n,s=e-r-n}return{x:a,y:s}}Object.defineProperty(e,"__esModule",{value:!0}),e.getAlignPoint=e.getPointByPosition=e.getOutSides=void 0,e.getOutSides=c,e.getPointByPosition=u,e.getAlignPoint=function(t,e,n,i,r,o,a){var s,l=u(t,e,n,i,r,o);return a&&(s=c(l.x,l.y,i,r,a),"auto"===o?(s.right&&(l.x=Math.max(0,t-i-n)),s.top&&(l.y=Math.max(0,e-r-n))):"top"===o||"bottom"===o?(s.left&&(l.x=a.x),s.right&&(l.x=a.x+a.width-i),"top"===o&&s.top&&(l.y=e+n),"bottom"===o&&s.bottom&&(l.y=e-r-n)):(s.top&&(l.y=a.y),s.bottom&&(l.y=a.y+a.height-r),"left"===o&&s.left&&(l.x=t+n),"right"===o&&s.right&&(l.x=t-i-n))),l}},1664:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawPoints=e.HOLLOW_SHAPES=e.SHAPES=void 0;var p=n(544),f=n(1430),d=n(1433);e.SHAPES=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],e.HOLLOW_SHAPES=["cross","tick","plus","hyphen","line"],e.drawPoints=function(t,e,n,i,r){var o=d.getStyle(e,r,!r,"r"),a=t.parsePoints(e.points),s=a[0];if(e.isStack)s=a[1];else if(1<a.length){for(var l=n.addGroup(),c=0,u=a;c<u.length;c++){var h=u[c];l.addShape({type:"marker",attrs:p.__assign(p.__assign(p.__assign({},o),{symbol:f.MarkerSymbols[i]||i}),h)})}return l}return n.addShape({type:"marker",attrs:p.__assign(p.__assign(p.__assign({},o),{symbol:f.MarkerSymbols[i]||i}),s)})}},1665:function(t,e,n){"use strict";n(32),n(1666),n(1380),n(1434),n(1439)},1666:function(t,e,n){},1667:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=c(n(1542)),r=c(n(1521)),o=c(n(1674)),a=c(n(1677)),s=c(n(1683)),l=c(n(1691));function c(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var h=(0,a.default)((0,o.default)(i.default),"date"),p=(0,a.default)((0,o.default)(r.default),"month");u(h,{RangePicker:(0,a.default)(s.default,"date"),MonthPicker:p,WeekPicker:(0,a.default)(l.default,"week")}),e.default=h},1668:function(t,e,n){"use strict";e.__esModule=!0;var i=l(n(11)),r=l(n(12)),o=l(n(13)),c=l(n(0)),a=l(n(1)),s=n(17),u=l(n(1669));function l(t){return t&&t.__esModule?t:{default:t}}function h(t){this.props.changeYear(t)}function p(){}var f,d=(f=c.default.Component,(0,o.default)(g,f),g.getDerivedStateFromProps=function(t){var e={};return"value"in t&&(e={value:t.value}),e},g.prototype.render=function(){var t=this.props,e=this.state.value,n=t.locale,i=t.cellRender,r=t.contentRender,o=t.renderFooter,a=e.year(),s=this.prefixCls,l=o&&o("month");return c.default.createElement("div",{className:s,style:t.style},c.default.createElement("div",null,c.default.createElement("div",{className:s+"-header"},c.default.createElement("a",{className:s+"-prev-year-btn",role:"button",onClick:this.previousYear,title:n.previousYear}),c.default.createElement("a",{className:s+"-year-select",role:"button",onClick:t.onYearPanelShow,title:n.yearSelect},c.default.createElement("span",{className:s+"-year-select-content"},a),c.default.createElement("span",{className:s+"-year-select-arrow"},"x")),c.default.createElement("a",{className:s+"-next-year-btn",role:"button",onClick:this.nextYear,title:n.nextYear})),c.default.createElement("div",{className:s+"-body"},c.default.createElement(u.default,{disabledDate:t.disabledDate,onSelect:this.setAndSelectValue,locale:n,value:e,cellRender:i,contentRender:r,prefixCls:s})),l&&c.default.createElement("div",{className:s+"-footer"},l)))},g);function g(t){(0,i.default)(this,g);var e=(0,r.default)(this,f.call(this,t));return e.setAndSelectValue=function(t){e.setValue(t),e.props.onSelect(t)},e.setValue=function(t){"value"in e.props&&e.setState({value:t})},e.nextYear=h.bind(e,1),e.previousYear=h.bind(e,-1),e.prefixCls=t.rootPrefixCls+"-month-panel",e.state={value:t.value||t.defaultValue},e}d.propTypes={onChange:a.default.func,disabledDate:a.default.func,onSelect:a.default.func,renderFooter:a.default.func,rootPrefixCls:a.default.string,value:a.default.object,defaultValue:a.default.object},d.defaultProps={onChange:p,onSelect:p},(0,s.polyfill)(d),e.default=d,t.exports=e.default},1669:function(t,e,n){"use strict";e.__esModule=!0;var o=c(n(11)),a=c(n(12)),i=c(n(13)),r=n(0),m=c(r),s=c(n(1)),b=c(n(9)),l=n(17),x=n(1359);function c(t){return t&&t.__esModule?t:{default:t}}var u,h=(u=r.Component,(0,i.default)(p,u),p.getDerivedStateFromProps=function(t){return"value"in t?{value:t.value}:null},p.prototype.setAndSelectValue=function(t){this.setState({value:t}),this.props.onSelect(t)},p.prototype.chooseMonth=function(t){var e=this.state.value.clone();e.month(t),this.setAndSelectValue(e)},p.prototype.months=function(){for(var t=this.state.value.clone(),e=[],n=0,i=0;i<4;i++){e[i]=[];for(var r=0;r<3;r++){t.month(n);var o=(0,x.getMonthName)(t);e[i][r]={value:n,content:o,title:o},n++}}return e},p.prototype.render=function(){var c=this,u=this.props,h=this.state.value,p=(0,x.getTodayTime)(h),t=this.months(),f=h.month(),d=u.prefixCls,g=u.locale,y=u.contentRender,v=u.cellRender,e=t.map(function(t,e){var n=t.map(function(t){var e,n,i=!1;u.disabledDate&&((n=h.clone()).month(t.value),i=u.disabledDate(n));var r,o,a,s=((e={})[d+"-cell"]=1,e[d+"-cell-disabled"]=i,e[d+"-selected-cell"]=t.value===f,e[d+"-current-cell"]=p.year()===h.year()&&t.value===p.month(),e),l=void 0;return l=v?((r=h.clone()).month(t.value),v(r,g)):(a=void 0,a=y?((o=h.clone()).month(t.value),y(o,g)):t.content,m.default.createElement("a",{className:d+"-month"},a)),m.default.createElement("td",{role:"gridcell",key:t.value,onClick:i?null:function(){return c.chooseMonth(t.value)},title:t.title,className:(0,b.default)(s)},l)});return m.default.createElement("tr",{key:e,role:"row"},n)});return m.default.createElement("table",{className:d+"-table",cellSpacing:"0",role:"grid"},m.default.createElement("tbody",{className:d+"-tbody"},e))},p);function p(){var t,e;(0,o.default)(this,p);for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e=(0,a.default)(this,u.call.apply(u,[this].concat(i)))).state={},(0,a.default)(e,t)}h.defaultProps={onSelect:function(){}},h.propTypes={onSelect:s.default.func,cellRender:s.default.func,prefixCls:s.default.string,value:s.default.object},(0,l.polyfill)(h),e.default=h,t.exports=e.default},1670:function(t,e,n){"use strict";e.__esModule=!0;var i=s(n(11)),r=s(n(12)),o=s(n(13)),p=s(n(0)),a=s(n(1)),f=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}function l(t){var e=this.state.value.clone();e.add(t,"year"),this.setState({value:e})}var c,u=(c=p.default.Component,(0,o.default)(h,c),h.prototype.years=function(){for(var t=this.state.value.year(),e=10*parseInt(t/10,10)-1,n=[],i=0,r=0;r<4;r++){n[r]=[];for(var o=0;o<3;o++){var a=e+i,s=String(a);n[r][o]={content:s,year:a,title:s},i++}}return n},h.prototype.render=function(){var r=this,t=this.props,e=this.state.value,n=t.locale,i=t.renderFooter,o=this.years(),a=e.year(),s=10*parseInt(a/10,10),l=9+s,c=this.prefixCls,u=o.map(function(t,e){var n=t.map(function(t){var e,n=((e={})[c+"-cell"]=1,e[c+"-selected-cell"]=t.year===a,e[c+"-last-decade-cell"]=t.year<s,e[c+"-next-decade-cell"]=t.year>l,e),i=void 0,i=t.year<s?r.previousDecade:t.year>l?r.nextDecade:function(t){var e=this.state.value.clone();e.year(t),e.month(this.state.value.month()),this.setState({value:e}),this.props.onSelect(e)}.bind(r,t.year);return p.default.createElement("td",{role:"gridcell",title:t.title,key:t.content,onClick:i,className:(0,f.default)(n)},p.default.createElement("a",{className:c+"-year"},t.content))});return p.default.createElement("tr",{key:e,role:"row"},n)}),h=i&&i("year");return p.default.createElement("div",{className:this.prefixCls},p.default.createElement("div",null,p.default.createElement("div",{className:c+"-header"},p.default.createElement("a",{className:c+"-prev-decade-btn",role:"button",onClick:this.previousDecade,title:n.previousDecade}),p.default.createElement("a",{className:c+"-decade-select",role:"button",onClick:t.onDecadePanelShow,title:n.decadeSelect},p.default.createElement("span",{className:c+"-decade-select-content"},s,"-",l),p.default.createElement("span",{className:c+"-decade-select-arrow"},"x")),p.default.createElement("a",{className:c+"-next-decade-btn",role:"button",onClick:this.nextDecade,title:n.nextDecade})),p.default.createElement("div",{className:c+"-body"},p.default.createElement("table",{className:c+"-table",cellSpacing:"0",role:"grid"},p.default.createElement("tbody",{className:c+"-tbody"},u))),h&&p.default.createElement("div",{className:c+"-footer"},h)))},h);function h(t){(0,i.default)(this,h);var e=(0,r.default)(this,c.call(this,t));return e.prefixCls=t.rootPrefixCls+"-year-panel",e.state={value:t.value||t.defaultValue},e.nextDecade=l.bind(e,10),e.previousDecade=l.bind(e,-10),e}(e.default=u).propTypes={rootPrefixCls:a.default.string,value:a.default.object,defaultValue:a.default.object,renderFooter:a.default.func},u.defaultProps={onSelect:function(){}},t.exports=e.default},1671:function(t,e,n){"use strict";e.__esModule=!0;var i=s(n(11)),r=s(n(12)),o=s(n(13)),m=s(n(0)),a=s(n(1)),b=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}function l(t){var e=this.state.value.clone();e.add(t,"years"),this.setState({value:e})}var c,u=(c=m.default.Component,(0,o.default)(h,c),h.prototype.render=function(){for(var c=this,t=this.state.value,e=this.props,n=e.locale,i=e.renderFooter,u=t.year(),h=100*parseInt(u/100,10),r=h-10,p=99+h,o=[],a=0,f=this.prefixCls,s=0;s<4;s++){o[s]=[];for(var l=0;l<3;l++){var d=r+10*a,g=r+10*a+9;o[s][l]={startDecade:d,endDecade:g},a++}}var y=i&&i("decade"),v=o.map(function(t,e){var n=t.map(function(t){var e,n=t.startDecade,i=t.endDecade,r=n<h,o=p<i,a=((e={})[f+"-cell"]=1,e[f+"-selected-cell"]=n<=u&&u<=i,e[f+"-last-century-cell"]=r,e[f+"-next-century-cell"]=o,e),s=n+"-"+i,l=void 0,l=r?c.previousCentury:o?c.nextCentury:function(t,e){var n=this.state.value.clone();n.year(t),n.month(this.state.value.month()),this.props.onSelect(n),e.preventDefault()}.bind(c,n);return m.default.createElement("td",{key:n,onClick:l,role:"gridcell",className:(0,b.default)(a)},m.default.createElement("a",{className:f+"-decade"},s))});return m.default.createElement("tr",{key:e,role:"row"},n)});return m.default.createElement("div",{className:this.prefixCls},m.default.createElement("div",{className:f+"-header"},m.default.createElement("a",{className:f+"-prev-century-btn",role:"button",onClick:this.previousCentury,title:n.previousCentury}),m.default.createElement("div",{className:f+"-century"},h,"-",p),m.default.createElement("a",{className:f+"-next-century-btn",role:"button",onClick:this.nextCentury,title:n.nextCentury})),m.default.createElement("div",{className:f+"-body"},m.default.createElement("table",{className:f+"-table",cellSpacing:"0",role:"grid"},m.default.createElement("tbody",{className:f+"-tbody"},v))),y&&m.default.createElement("div",{className:f+"-footer"},y))},h);function h(t){(0,i.default)(this,h);var e=(0,r.default)(this,c.call(this,t));return e.state={value:t.value||t.defaultValue},e.prefixCls=t.rootPrefixCls+"-decade-panel",e.nextCentury=l.bind(e,100),e.previousCentury=l.bind(e,-100),e}(e.default=u).propTypes={locale:a.default.object,value:a.default.object,defaultValue:a.default.object,rootPrefixCls:a.default.string,renderFooter:a.default.func},u.defaultProps={onSelect:function(){}},t.exports=e.default},1672:function(t,e,n){"use strict";e.__esModule=!0;var g=l(n(6)),i=l(n(11)),r=l(n(12)),o=l(n(13)),y=l(n(0)),a=l(n(7)),s=l(n(1)),v=l(n(1523)),m=l(n(9)),b=l(n(1524)),x=l(n(1525)),O=l(n(1526));function l(t){return t&&t.__esModule?t:{default:t}}var c,u=(c=y.default.Component,(0,o.default)(h,c),h.prototype.onSelect=function(t){this.props.onSelect(t)},h.prototype.getRootDOMNode=function(){return a.default.findDOMNode(this)},h.prototype.render=function(){var t,e,n,i,r,o,a=this.props,s=a.value,l=a.prefixCls,c=a.showOk,u=a.timePicker,h=a.renderFooter,p=a.mode,f=null,d=h&&h(p);return(a.showToday||u||d)&&(e=void 0,a.showToday&&(e=y.default.createElement(b.default,(0,g.default)({},a,{value:s}))),(!(n=void 0)===c||!1!==c&&a.timePicker)&&(n=y.default.createElement(x.default,a)),i=void 0,a.timePicker&&(i=y.default.createElement(O.default,a)),r=void 0,(e||i||n||d)&&(r=y.default.createElement("span",{className:l+"-footer-btn"},d,(0,v.default)([e,i,n]))),o=(0,m.default)(l+"-footer",((t={})[l+"-footer-show-ok"]=n,t)),f=y.default.createElement("div",{className:o},r)),f},h);function h(){return(0,i.default)(this,h),(0,r.default)(this,c.apply(this,arguments))}u.propTypes={prefixCls:s.default.string,showDateInput:s.default.bool,disabledTime:s.default.any,timePicker:s.default.element,selectedValue:s.default.any,showOk:s.default.bool,onSelect:s.default.func,value:s.default.object,renderFooter:s.default.func,defaultValue:s.default.object,mode:s.default.string},e.default=u,t.exports=e.default},1673:function(t,e,n){"use strict";e.__esModule=!0,e.calendarMixinWrapper=e.calendarMixinDefaultProps=e.calendarMixinPropTypes=void 0;var s=a(n(11)),l=a(n(12)),i=a(n(13));e.getNowByCurrentStateValue=p;var c=a(n(0)),r=a(n(1)),u=a(n(9)),o=a(n(2)),h=n(1359);function a(t){return t&&t.__esModule?t:{default:t}}function p(t){return t?(0,h.getTodayTime)(t):(0,o.default)()}e.calendarMixinPropTypes={value:r.default.object,defaultValue:r.default.object,onKeyDown:r.default.func},e.calendarMixinDefaultProps={onKeyDown:function(){}},e.calendarMixinWrapper=function(o){var t,e,r;return r=o,(0,i.default)(a,r),a.getDerivedStateFromProps=function(t,e){if(o.getDerivedStateFromProps)return o.getDerivedStateFromProps(t,e);var n=t.value,i=t.selectedValue,r={};return"value"in t&&(r.value=n||t.defaultValue||p(e.value)),"selectedValue"in t&&(r.selectedValue=i),r},e=t=a,t.displayName="CalendarMixinWrapper",t.defaultProps=o.defaultProps,e;function a(){var t,o;(0,s.default)(this,a);for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return(t=o=(0,l.default)(this,r.call.apply(r,[this].concat(n)))).onSelect=function(t,e){t&&o.setValue(t),o.setSelectedValue(t,e)},o.renderRoot=function(t){var e,n=o.props,i=n.prefixCls,r=((e={})[i]=1,e[i+"-hidden"]=!n.visible,e[n.className]=!!n.className,e[t.className]=!!t.className,e);return c.default.createElement("div",{ref:o.saveRoot,className:""+(0,u.default)(r),style:o.props.style,tabIndex:"0",onKeyDown:o.onKeyDown,onBlur:o.onBlur},t.children)},o.setSelectedValue=function(t,e){"selectedValue"in o.props||o.setState({selectedValue:t}),o.props.onSelect&&o.props.onSelect(t,e)},o.setValue=function(t){var e=o.state.value;"value"in o.props||o.setState({value:t}),(e&&t&&!e.isSame(t)||!e&&t||e&&!t)&&o.props.onChange(t)},o.isAllowedDate=function(t){var e=o.props.disabledDate,n=o.props.disabledTime;return(0,h.isAllowedDate)(t,e,n)},(0,l.default)(o,t)}}},1674:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(j){var t=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(i,S.Component);var o,a,n=(o=i,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e,n,i,r=p(o);return e=a?(t=p(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),n=this,!(i=e)||"object"!==l(i)&&"function"!=typeof i?h(n):i});function i(t){var C;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(C=n.call(this,t)).saveInput=function(t){C.input=t},C.clearSelection=function(t){t.preventDefault(),t.stopPropagation(),C.handleChange(null)},C.handleChange=function(t){var e=h(C).props;"value"in e||C.setState({value:t,showDate:t}),e.onChange(t,(0,D.formatDate)(t,e.format))},C.handleCalendarChange=function(t){C.setState({showDate:t})},C.handleOpenChange=function(t){var e=C.props.onOpenChange;"open"in C.props||C.setState({open:t}),e&&e(t)},C.renderFooter=function(){var t=C.props.renderExtraFooter,e=h(C).prefixCls;return t?S.createElement("div",{className:"".concat(e,"-footer-extra")},t.apply(void 0,arguments)):null},C.renderPicker=function(t){var e,n,i=t.getPrefixCls,r=C.state,o=r.value,a=r.showDate,s=r.open,l=(0,A.default)(C.props,["onChange"]),c=l.prefixCls,u=l.locale,h=l.localeCode,p=l.suffixIcon,f=i("calendar",c);C.prefixCls=f;var d="placeholder"in l?l.placeholder:u.lang.placeholder,g=l.showTime?l.disabledTime:null,y=(0,P.default)((R(e={},"".concat(f,"-time"),l.showTime),R(e,"".concat(f,"-month"),k.default===j),e));o&&h&&o.locale(h);var v={},m={},b={};l.showTime?(m={onSelect:C.handleChange},b.minWidth=195):v={onChange:C.handleChange},"mode"in l&&(m.mode=l.mode),(0,L.default)(!("onOK"in l),"DatePicker","It should be `DatePicker[onOk]` or `MonthPicker[onOk]`, instead of `onOK`!");var x=S.createElement(j,F({},m,{disabledDate:l.disabledDate,disabledTime:g,locale:u.lang,timePicker:l.timePicker,defaultValue:l.defaultPickerValue||(0,I.default)(M)(),dateInputPlaceholder:d,prefixCls:f,className:y,onOk:l.onOk,dateRender:l.dateRender,format:l.format,showToday:l.showToday,monthCellContentRender:l.monthCellContentRender,renderFooter:C.renderFooter,onPanelChange:l.onPanelChange,onChange:C.handleCalendarChange,value:a})),O=!l.disabled&&l.allowClear&&o?S.createElement(E.default,{type:"close-circle",className:"".concat(f,"-picker-clear"),onClick:C.clearSelection,theme:"filled"}):null,w=p&&(S.isValidElement(p)?S.cloneElement(p,{className:(0,P.default)((R(n={},p.props.className,p.props.className),R(n,"".concat(f,"-picker-icon"),!0),n))}):S.createElement("span",{className:"".concat(f,"-picker-icon")},p))||S.createElement(E.default,{type:"calendar",className:"".concat(f,"-picker-icon")}),_=(0,B.default)(l);return S.createElement("span",{id:l.id,className:(0,P.default)(l.className,l.pickerClass),style:F(F({},b),l.style),onFocus:l.onFocus,onBlur:l.onBlur,onMouseEnter:l.onMouseEnter,onMouseLeave:l.onMouseLeave},S.createElement(T.default,F({},l,v,{calendar:x,value:o,prefixCls:"".concat(f,"-picker-container"),style:l.popupStyle,open:s,onOpenChange:C.handleOpenChange}),function(t){var e=t.value;return S.createElement("div",null,S.createElement("input",F({ref:C.saveInput,disabled:l.disabled,readOnly:!0,value:(0,D.formatDate)(e,l.format),placeholder:d,className:l.pickerInputClass,tabIndex:l.tabIndex,name:l.name},_)),O,w)}))};var e=t.value||t.defaultValue;if(e&&!(0,I.default)(M).isMoment(e))throw new Error("The value/defaultValue of DatePicker or MonthPicker must be a moment object after `antd@2.0`, see: https://u.ant.design/date-picker-value");return C.state={value:e,showDate:e,open:!1},C}return function(t,e,n){e&&c(t.prototype,e);n&&c(t,n)}(i,[{key:"componentDidUpdate",value:function(t,e){"open"in this.props||!e.open||this.state.open||this.focus()}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){return S.createElement(r.ConfigConsumer,null,this.renderPicker)}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n={},i=e.open;return"open"in t&&(n.open=t.open,i=t.open||!1),"value"in t&&(n.value=t.value,t.value===e.value&&(i||t.value===e.showDate)||(n.showDate=t.value)),0<Object.keys(n).length?n:null}}]),i}();return t.defaultProps={allowClear:!0,showToday:!0},(0,i.polyfill)(t),t};var S=s(n(0)),M=s(n(2)),i=n(17),k=o(n(1521)),T=o(n(1436)),P=o(n(9)),A=o(n(49)),E=o(n(24)),r=n(27),L=o(n(63)),I=o(n(344)),B=o(n(1417)),D=n(1528);function o(t){return t&&t.__esModule?t:{default:t}}function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function s(t){if(t&&t.__esModule)return t;if(null===t||"object"!==l(t)&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n,i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t){Object.prototype.hasOwnProperty.call(t,o)&&((n=r?Object.getOwnPropertyDescriptor(t,o):null)&&(n.get||n.set)?Object.defineProperty(i,o,n):i[o]=t[o])}return i.default=t,e&&e.set(t,i),i}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(){return(F=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function R(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}},1675:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var e=[].slice.call(arguments,0);return 1!==e.length?function(){for(var t=0;t<e.length;t++)e[t]&&e[t].apply&&e[t].apply(this,arguments)}:e[0]}},1676:function(t,e,n){"use strict";e.__esModule=!0;var i={adjustX:1,adjustY:1},r=[0,0],o={bottomLeft:{points:["tl","tl"],overflow:i,offset:[0,-3],targetOffset:r},bottomRight:{points:["tr","tr"],overflow:i,offset:[0,-3],targetOffset:r},topRight:{points:["br","br"],overflow:i,offset:[0,3],targetOffset:r},topLeft:{points:["bl","bl"],overflow:i,offset:[0,3],targetOffset:r}};e.default=o,t.exports=e.default},1677:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(j,i){var t=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,S.Component);var o,a,t=(o=e,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e,n,i,r=y(o);return e=a?(t=y(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),n=this,!(i=e)||"object"!==f(i)&&"function"!=typeof i?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):i});function e(){var C;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(C=t.apply(this,arguments)).state={},C.savePicker=function(t){C.picker=t},C.getDefaultLocale=function(){var t=A(A({},s.default),C.props.locale);return t.lang=A(A({},t.lang),(C.props.locale||{}).lang),t},C.handleOpenChange=function(t){(0,C.props.onOpenChange)(t)},C.handleFocus=function(t){var e=C.props.onFocus;e&&e(t)},C.handleBlur=function(t){var e=C.props.onBlur;e&&e(t)},C.handleMouseEnter=function(t){var e=C.props.onMouseEnter;e&&e(t)},C.handleMouseLeave=function(t){var e=C.props.onMouseLeave;e&&e(t)},C.renderPicker=function(x,O){var t=C.props,e=t.format,w=t.showTime,n=w?"".concat(i,"Time"):i,_=e||x[m[n]]||v[n];return S.createElement(c.ConfigConsumer,null,function(t){var e,n=t.getPrefixCls,i=t.getPopupContainer,r=C.props,o=r.prefixCls,a=r.inputPrefixCls,s=r.getCalendarContainer,l=r.size,c=r.disabled,u=s||i,h=n("calendar",o),p=n("input",a),f=(0,k.default)("".concat(h,"-picker"),P({},"".concat(h,"-picker-").concat(l),!!l)),d=(0,k.default)("".concat(h,"-picker-input"),p,(P(e={},"".concat(p,"-lg"),"large"===l),P(e,"".concat(p,"-sm"),"small"===l),P(e,"".concat(p,"-disabled"),c),e)),g=w&&w.format||"HH:mm:ss",y=A(A({},(0,T.generateShowHourMinuteSecond)(g)),{format:g,use12Hours:w&&w.use12Hours}),v=function(t){var e=t.showHour,n=t.showMinute,i=t.showSecond,r=t.use12Hours,o=0;e&&(o+=1);n&&(o+=1);i&&(o+=1);r&&(o+=1);return o}(y),m="".concat(h,"-time-picker-column-").concat(v),b=w?S.createElement(M.default,A({},y,w,{prefixCls:"".concat(h,"-time-picker"),className:m,placeholder:x.timePickerLocale.placeholder,transitionName:"slide-up",onEsc:function(){}})):null;return S.createElement(j,A({},C.props,{getCalendarContainer:u,format:_,ref:C.savePicker,pickerClass:f,pickerInputClass:d,locale:x,localeCode:O,timePicker:b,onOpenChange:C.handleOpenChange,onFocus:C.handleFocus,onBlur:C.handleBlur,onMouseEnter:C.handleMouseEnter,onMouseLeave:C.handleMouseLeave}))})},C}return function(t,e,n){e&&d(t.prototype,e);n&&d(t,n)}(e,[{key:"componentDidMount",value:function(){var t=this.props,e=t.autoFocus,n=t.disabled;e&&!n&&this.focus()}},{key:"focus",value:function(){this.picker.focus()}},{key:"blur",value:function(){this.picker.blur()}},{key:"render",value:function(){return S.createElement(l.default,{componentName:"DatePicker",defaultLocale:this.getDefaultLocale},this.renderPicker)}}],[{key:"getDerivedStateFromProps",value:function(t){var e=t.value;return b(t.defaultValue,"defaultValue"),b(e,"value"),{}}}]),e}();return t.defaultProps={transitionName:"slide-up",popupStyle:{},onChange:function(){},onOk:function(){},onOpenChange:function(){},locale:{}},(0,r.polyfill)(t),t};var S=p(n(0)),r=n(17),M=u(n(1529)),k=u(n(9)),i=p(n(2)),s=u(n(156)),o=u(n(344)),l=u(n(113)),T=n(1530),c=n(27),a=u(n(63));function u(t){return t&&t.__esModule?t:{default:t}}function h(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return h=function(){return t},t}function p(t){if(t&&t.__esModule)return t;if(null===t||"object"!==f(t)&&"function"!=typeof t)return{default:t};var e=h();if(e&&e.has(t))return e.get(t);var n,i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t){Object.prototype.hasOwnProperty.call(t,o)&&((n=r?Object.getOwnPropertyDescriptor(t,o):null)&&(n.get||n.set)?Object.defineProperty(i,o,n):i[o]=t[o])}return i.default=t,e&&e.set(t,i),i}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(){return(A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v={date:"YYYY-MM-DD",dateTime:"YYYY-MM-DD HH:mm:ss",week:"gggg-wo",month:"YYYY-MM"},m={date:"dateFormat",dateTime:"dateTimeFormat",week:"weekFormat",month:"monthFormat"};function b(t,e){(Array.isArray(t)?t:[t]).forEach(function(t){t&&(0,a.default)(!(0,o.default)(i).isMoment(t)||t.isValid(),"DatePicker","`".concat(e,"` provides invalidate moment time. If you want to set empty value, use `null` instead."))})}},1678:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t){var o;Object.prototype.hasOwnProperty.call(t,r)&&((o=i?Object.getOwnPropertyDescriptor(t,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r])}n.default=t,e&&e.set(t,n);return n}(n(0)),i=r(n(1)),b=r(n(2)),u=r(n(9));function r(t){return t&&t.__esModule?t:{default:t}}function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f,d,g,y=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(v,c.Component),f=v,(d=[{key:"componentDidMount",value:function(){var t=this;this.props.focusOnOpen&&(window.requestAnimationFrame||window.setTimeout)(function(){t.refInput.focus(),t.refInput.select()})}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.value,i=e.format;n!==t.value&&this.setState({str:n&&n.format(i)||"",invalid:!1})}},{key:"getProtoValue",value:function(){var t=this.props,e=t.value,n=t.defaultOpenValue;return e||n}},{key:"getInput",value:function(){var e=this,t=this.props,n=t.prefixCls,i=t.placeholder,r=t.inputReadOnly,o=this.state,a=o.invalid,s=o.str,l=a?"".concat(n,"-input-invalid"):"";return c.default.createElement("input",{className:(0,u.default)("".concat(n,"-input"),l),ref:function(t){e.refInput=t},onKeyDown:this.onKeyDown,value:s,placeholder:i,onChange:this.onInputChange,readOnly:!!r})}},{key:"render",value:function(){var t=this.props.prefixCls;return c.default.createElement("div",{className:"".concat(t,"-input-wrap")},this.getInput())}}])&&o(f.prototype,d),g&&o(f,g),v);function v(t){var m,e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),e=this,n=s(v).call(this,t),m=!n||"object"!=typeof n&&"function"!=typeof n?l(e):n,p(l(m),"onInputChange",function(t){var e=t.target.value;m.setState({str:e});var n=m.props,i=n.format,r=n.hourOptions,o=n.minuteOptions,a=n.secondOptions,s=n.disabledHours,l=n.disabledMinutes,c=n.disabledSeconds,u=n.onChange;if(e){var h=m.props.value,p=m.getProtoValue().clone(),f=(0,b.default)(e,i,!0);if(!f.isValid())return void m.setState({invalid:!0});if(p.hour(f.hour()).minute(f.minute()).second(f.second()),r.indexOf(p.hour())<0||o.indexOf(p.minute())<0||a.indexOf(p.second())<0)return void m.setState({invalid:!0});var d,g=s(),y=l(p.hour()),v=c(p.hour(),p.minute());if(g&&0<=g.indexOf(p.hour())||y&&0<=y.indexOf(p.minute())||v&&0<=v.indexOf(p.second()))return void m.setState({invalid:!0});h?h.hour()===p.hour()&&h.minute()===p.minute()&&h.second()===p.second()||((d=h.clone()).hour(p.hour()),d.minute(p.minute()),d.second(p.second()),u(d)):h!==p&&u(p)}else u(null);m.setState({invalid:!1})}),p(l(m),"onKeyDown",function(t){var e=m.props,n=e.onEsc,i=e.onKeyDown;27===t.keyCode&&n(),i(t)});var i=t.value,r=t.format;return m.state={str:i&&i.format(r)||"",invalid:!1},m}p(y,"propTypes",{format:i.default.string,prefixCls:i.default.string,disabledDate:i.default.func,placeholder:i.default.string,clearText:i.default.string,value:i.default.object,inputReadOnly:i.default.bool,hourOptions:i.default.array,minuteOptions:i.default.array,secondOptions:i.default.array,disabledHours:i.default.func,disabledMinutes:i.default.func,disabledSeconds:i.default.func,onChange:i.default.func,onEsc:i.default.func,defaultOpenValue:i.default.object,currentSelectPanel:i.default.string,focusOnOpen:i.default.bool,onKeyDown:i.default.func,clearIcon:i.default.node}),p(y,"defaultProps",{inputReadOnly:!1}),e.default=y},1679:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var p=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t){var o;Object.prototype.hasOwnProperty.call(t,r)&&((o=i?Object.getOwnPropertyDescriptor(t,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r])}n.default=t,e&&e.set(t,n);return n}(n(0)),i=r(n(1)),f=r(n(1680));function r(t){return t&&t.__esModule?t:{default:t}}function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){var n="".concat(t);t<10&&(n="0".concat(t));var i=!1;return e&&0<=e.indexOf(t)&&(i=!0),{value:n,disabled:i}}var h,g,y,v=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(m,p.Component),h=m,(g=[{key:"getHourSelect",value:function(t){var e=this,n=this.props,i=n.prefixCls,r=n.hourOptions,o=n.disabledHours,a=n.showHour,s=n.use12Hours,l=n.onEsc;if(!a)return null;var c,u=o(),h=s?(c=[12].concat(r.filter(function(t){return t<12&&0<t})),t%12||12):(c=r,t);return p.default.createElement(f.default,{prefixCls:i,options:c.map(function(t){return d(t,u)}),selectedIndex:c.indexOf(h),type:"hour",onSelect:this.onItemChange,onMouseEnter:function(){return e.onEnterSelectPanel("hour")},onEsc:l})}},{key:"getMinuteSelect",value:function(t){var e=this,n=this.props,i=n.prefixCls,r=n.minuteOptions,o=n.disabledMinutes,a=n.defaultOpenValue,s=n.showMinute,l=n.value,c=n.onEsc;if(!s)return null;var u=o((l||a).hour());return p.default.createElement(f.default,{prefixCls:i,options:r.map(function(t){return d(t,u)}),selectedIndex:r.indexOf(t),type:"minute",onSelect:this.onItemChange,onMouseEnter:function(){return e.onEnterSelectPanel("minute")},onEsc:c})}},{key:"getSecondSelect",value:function(t){var e=this,n=this.props,i=n.prefixCls,r=n.secondOptions,o=n.disabledSeconds,a=n.showSecond,s=n.defaultOpenValue,l=n.value,c=n.onEsc;if(!a)return null;var u=l||s,h=o(u.hour(),u.minute());return p.default.createElement(f.default,{prefixCls:i,options:r.map(function(t){return d(t,h)}),selectedIndex:r.indexOf(t),type:"second",onSelect:this.onItemChange,onMouseEnter:function(){return e.onEnterSelectPanel("second")},onEsc:c})}},{key:"getAMPMSelect",value:function(){var t=this,e=this.props,n=e.prefixCls,i=e.use12Hours,r=e.format,o=e.isAM,a=e.onEsc;if(!i)return null;var s=["am","pm"].map(function(t){return r.match(/\sA/)?t.toUpperCase():t}).map(function(t){return{value:t}}),l=o?0:1;return p.default.createElement(f.default,{prefixCls:n,options:s,selectedIndex:l,type:"ampm",onSelect:this.onItemChange,onMouseEnter:function(){return t.onEnterSelectPanel("ampm")},onEsc:a})}},{key:"render",value:function(){var t=this.props,e=t.prefixCls,n=t.defaultOpenValue,i=t.value||n;return p.default.createElement("div",{className:"".concat(e,"-combobox")},this.getHourSelect(i.hour()),this.getMinuteSelect(i.minute()),this.getSecondSelect(i.second()),this.getAMPMSelect(i.hour()))}}])&&o(h.prototype,g),y&&o(h,y),m);function m(){var t,h;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m);for(var e,n,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=this,n=(t=s(m)).call.apply(t,[this].concat(r)),h=!n||"object"!=typeof n&&"function"!=typeof n?l(e):n,u(l(h),"onItemChange",function(t,e){var n,i=h.props,r=i.onChange,o=i.defaultOpenValue,a=i.use12Hours,s=i.value,l=i.isAM,c=i.onAmPmChange,u=(s||o).clone();"hour"===t?a?l?u.hour(+e%12):u.hour(+e%12+12):u.hour(+e):"minute"===t?u.minute(+e):"ampm"===t?(n=e.toUpperCase(),a&&("PM"===n&&u.hour()<12&&u.hour(u.hour()%12+12),"AM"===n&&12<=u.hour()&&u.hour(u.hour()-12)),c(n)):u.second(+e),r(u)}),u(l(h),"onEnterSelectPanel",function(t){(0,h.props.onCurrentSelectPanelChange)(t)}),h}u(v,"propTypes",{format:i.default.string,defaultOpenValue:i.default.object,prefixCls:i.default.string,value:i.default.object,onChange:i.default.func,onAmPmChange:i.default.func,showHour:i.default.bool,showMinute:i.default.bool,showSecond:i.default.bool,hourOptions:i.default.array,minuteOptions:i.default.array,secondOptions:i.default.array,disabledHours:i.default.func,disabledMinutes:i.default.func,disabledSeconds:i.default.func,onCurrentSelectPanelChange:i.default.func,use12Hours:i.default.bool,onEsc:i.default.func,isAM:i.default.bool}),e.default=v},1680:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t){var o;Object.prototype.hasOwnProperty.call(t,r)&&((o=i?Object.getOwnPropertyDescriptor(t,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r])}n.default=t,e&&e.set(t,n);return n}(n(0)),i=r(n(1)),o=r(n(7)),u=r(n(9)),a=r(n(45));function r(t){return t&&t.__esModule?t:{default:t}}function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g,y,v,m=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(b,c.Component),g=b,(y=[{key:"componentDidMount",value:function(){this.scrollToSelected(0)}},{key:"componentDidUpdate",value:function(t){var e=this.props.selectedIndex;t.selectedIndex!==e&&this.scrollToSelected(120)}},{key:"getOptions",value:function(){var o=this,t=this.props,e=t.options,a=t.selectedIndex,s=t.prefixCls,l=t.onEsc;return e.map(function(t,e){var n,i=(0,u.default)((d(n={},"".concat(s,"-select-option-selected"),a===e),d(n,"".concat(s,"-select-option-disabled"),t.disabled),n)),r=t.disabled?void 0:function(){o.onSelect(t.value)};return c.default.createElement("li",{role:"button",onClick:r,className:i,key:e,disabled:t.disabled,tabIndex:"0",onKeyDown:function(t){13===t.keyCode?r():27===t.keyCode&&l()}},t.value)})}},{key:"scrollToSelected",value:function(t){var e,n=this.props.selectedIndex,i=o.default.findDOMNode(this),r=o.default.findDOMNode(this.list);r&&((e=n)<0&&(e=0),function t(e,n,i){var r;i<=0?(0,a.default)(function(){e.scrollTop=n}):(r=(n-e.scrollTop)/i*10,(0,a.default)(function(){e.scrollTop+=r,e.scrollTop!==n&&t(e,n,i-10)}))}(i,r.children[e].offsetTop,t))}},{key:"render",value:function(){var t=this.props,e=t.prefixCls,n=t.options,i=this.state.active;if(0===n.length)return null;var r=(0,u.default)("".concat(e,"-select"),d({},"".concat(e,"-select-active"),i));return c.default.createElement("div",{className:r,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},c.default.createElement("ul",{ref:this.saveList},this.getOptions()))}}])&&l(g.prototype,y),v&&l(g,v),b);function b(){var t,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b);for(var e,i,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=this,i=(t=h(b)).call.apply(t,[this].concat(o)),n=!i||"object"!=typeof i&&"function"!=typeof i?p(e):i,d(p(n),"state",{active:!1}),d(p(n),"onSelect",function(t){var e=n.props;(0,e.onSelect)(e.type,t)}),d(p(n),"handleMouseEnter",function(t){var e=n.props.onMouseEnter;n.setState({active:!0}),e(t)}),d(p(n),"handleMouseLeave",function(){n.setState({active:!1})}),d(p(n),"saveList",function(t){n.list=t}),n}d(m,"propTypes",{prefixCls:i.default.string,options:i.default.array,selectedIndex:i.default.number,type:i.default.string,onSelect:i.default.func,onMouseEnter:i.default.func,onEsc:i.default.func}),e.default=m},1681:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var _=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t){var o;Object.prototype.hasOwnProperty.call(t,r)&&((o=i?Object.getOwnPropertyDescriptor(t,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=t[r])}n.default=t,e&&e.set(t,n);return n}(n(0)),i=a(n(1)),C=a(n(69)),r=a(n(2)),o=n(17),j=a(n(9)),w=a(n(1529)),S=a(n(1682));function a(t){return t&&t.__esModule?t:{default:t}}function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M(){}function d(t,e){this[t]=e}var g,y,v,m=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(b,_.Component),g=b,v=[{key:"getDerivedStateFromProps",value:function(t,e){var n={};return"value"in t&&(n.value=t.value),void 0!==t.open&&(n.open=t.open),0<Object.keys(n).length?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{},n):null}}],(y=[{key:"setValue",value:function(t){var e=this.props.onChange;"value"in this.props||this.setState({value:t}),e(t)}},{key:"getFormat",value:function(){var t=this.props,e=t.format,n=t.showHour,i=t.showMinute,r=t.showSecond,o=t.use12Hours;return e||(o?[n?"h":"",i?"mm":"",r?"ss":""].filter(function(t){return!!t}).join(":").concat(" a"):[n?"HH":"",i?"mm":"",r?"ss":""].filter(function(t){return!!t}).join(":"))}},{key:"getPanelElement",value:function(){var t=this.props,e=t.prefixCls,n=t.placeholder,i=t.disabledHours,r=t.disabledMinutes,o=t.disabledSeconds,a=t.hideDisabledOptions,s=t.inputReadOnly,l=t.showHour,c=t.showMinute,u=t.showSecond,h=t.defaultOpenValue,p=t.clearText,f=t.addon,d=t.use12Hours,g=t.focusOnOpen,y=t.onKeyDown,v=t.hourStep,m=t.minuteStep,b=t.secondStep,x=t.clearIcon,O=this.state.value;return _.default.createElement(w.default,{clearText:p,prefixCls:"".concat(e,"-panel"),ref:this.savePanelRef,value:O,inputReadOnly:s,onChange:this.onPanelChange,onAmPmChange:this.onAmPmChange,defaultOpenValue:h,showHour:l,showMinute:c,showSecond:u,onEsc:this.onEsc,format:this.getFormat(),placeholder:n,disabledHours:i,disabledMinutes:r,disabledSeconds:o,hideDisabledOptions:a,use12Hours:d,hourStep:v,minuteStep:m,secondStep:b,addon:f,focusOnOpen:g,onKeyDown:y,clearIcon:x})}},{key:"getPopupClassName",value:function(){var t=this.props,e=t.showHour,n=t.showMinute,i=t.showSecond,r=t.use12Hours,o=t.prefixCls,a=t.popupClassName,s=0;return e&&(s+=1),n&&(s+=1),i&&(s+=1),r&&(s+=1),(0,j.default)(a,f({},"".concat(o,"-panel-narrow"),!(e&&n&&i||r)),"".concat(o,"-panel-column-").concat(s))}},{key:"setOpen",value:function(t){var e=this.props,n=e.onOpen,i=e.onClose;this.state.open!==t&&("open"in this.props||this.setState({open:t}),(t?n:i)({open:t}))}},{key:"focus",value:function(){this.picker.focus()}},{key:"blur",value:function(){this.picker.blur()}},{key:"renderClearButton",value:function(){var t=this,e=this.state.value,n=this.props,i=n.prefixCls,r=n.allowEmpty,o=n.clearIcon,a=n.clearText,s=n.disabled;if(!r||!e||s)return null;if(_.default.isValidElement(o)){var l=(o.props||{}).onClick;return _.default.cloneElement(o,{onClick:function(){l&&l.apply(void 0,arguments),t.onClear.apply(t,arguments)}})}return _.default.createElement("a",{role:"button",className:"".concat(i,"-clear"),title:a,onClick:this.onClear,tabIndex:0},o||_.default.createElement("i",{className:"".concat(i,"-clear-icon")}))}},{key:"render",value:function(){var t=this.props,e=t.prefixCls,n=t.placeholder,i=t.placement,r=t.align,o=t.id,a=t.disabled,s=t.transitionName,l=t.style,c=t.className,u=t.getPopupContainer,h=t.name,p=t.autoComplete,f=t.onFocus,d=t.onBlur,g=t.autoFocus,y=t.inputReadOnly,v=t.inputIcon,m=t.popupStyle,b=this.state,x=b.open,O=b.value,w=this.getPopupClassName();return _.default.createElement(C.default,{prefixCls:"".concat(e,"-panel"),popupClassName:w,popupStyle:m,popup:this.getPanelElement(),popupAlign:r,builtinPlacements:S.default,popupPlacement:i,action:a?[]:["click"],destroyPopupOnHide:!0,getPopupContainer:u,popupTransitionName:s,popupVisible:x,onPopupVisibleChange:this.onVisibleChange},_.default.createElement("span",{className:(0,j.default)(e,c),style:l},_.default.createElement("input",{className:"".concat(e,"-input"),ref:this.saveInputRef,type:"text",placeholder:n,name:h,onKeyDown:this.onKeyDown,disabled:a,value:O&&O.format(this.getFormat())||"",autoComplete:p,onFocus:f,onBlur:d,autoFocus:g,onChange:M,readOnly:!!y,id:o}),v||_.default.createElement("span",{className:"".concat(e,"-icon")}),this.renderClearButton()))}}])&&c(g.prototype,y),v&&c(g,v),b);function b(t){var e,n,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b),n=this,i=u(b).call(this,t),e=!i||"object"!=typeof i&&"function"!=typeof i?h(n):i,f(h(e),"onPanelChange",function(t){e.setValue(t)}),f(h(e),"onAmPmChange",function(t){(0,e.props.onAmPmChange)(t)}),f(h(e),"onClear",function(t){t.stopPropagation(),e.setValue(null),e.setOpen(!1)}),f(h(e),"onVisibleChange",function(t){e.setOpen(t)}),f(h(e),"onEsc",function(){e.setOpen(!1),e.focus()}),f(h(e),"onKeyDown",function(t){40===t.keyCode&&e.setOpen(!0)}),e.saveInputRef=d.bind(h(e),"picker"),e.savePanelRef=d.bind(h(e),"panelInstance");var r=t.defaultOpen,o=t.defaultValue,a=t.open,s=void 0===a?r:a,l=t.value,c=void 0===l?o:l;return e.state={open:s,value:c},e}f(m,"propTypes",{prefixCls:i.default.string,clearText:i.default.string,value:i.default.object,defaultOpenValue:i.default.object,inputReadOnly:i.default.bool,disabled:i.default.bool,allowEmpty:i.default.bool,defaultValue:i.default.object,open:i.default.bool,defaultOpen:i.default.bool,align:i.default.object,placement:i.default.any,transitionName:i.default.string,getPopupContainer:i.default.func,placeholder:i.default.string,format:i.default.string,showHour:i.default.bool,showMinute:i.default.bool,showSecond:i.default.bool,style:i.default.object,className:i.default.string,popupClassName:i.default.string,popupStyle:i.default.object,disabledHours:i.default.func,disabledMinutes:i.default.func,disabledSeconds:i.default.func,hideDisabledOptions:i.default.bool,onChange:i.default.func,onAmPmChange:i.default.func,onOpen:i.default.func,onClose:i.default.func,onFocus:i.default.func,onBlur:i.default.func,addon:i.default.func,name:i.default.string,autoComplete:i.default.string,use12Hours:i.default.bool,hourStep:i.default.number,minuteStep:i.default.number,secondStep:i.default.number,focusOnOpen:i.default.bool,onKeyDown:i.default.func,autoFocus:i.default.bool,id:i.default.string,inputIcon:i.default.node,clearIcon:i.default.node}),f(m,"defaultProps",{clearText:"clear",prefixCls:"rc-time-picker",defaultOpen:!1,inputReadOnly:!1,style:{},className:"",popupClassName:"",popupStyle:{},align:{},defaultOpenValue:(0,r.default)(),allowEmpty:!0,showHour:!0,showMinute:!0,showSecond:!0,disabledHours:M,disabledMinutes:M,disabledSeconds:M,hideDisabledOptions:!1,placement:"bottomLeft",onChange:M,onAmPmChange:M,onOpen:M,onClose:M,onFocus:M,onBlur:M,addon:M,use12Hours:!1,focusOnOpen:!1,onKeyDown:M}),(0,o.polyfill)(m),e.default=m},1682:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={adjustX:1,adjustY:1},r=[0,0],o={bottomLeft:{points:["tl","tl"],overflow:i,offset:[0,-3],targetOffset:r},bottomRight:{points:["tr","tr"],overflow:i,offset:[0,-3],targetOffset:r},topRight:{points:["br","br"],overflow:i,offset:[0,3],targetOffset:r},topLeft:{points:["bl","bl"],overflow:i,offset:[0,3],targetOffset:r}};e.default=o},1683:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var X=l(n(0)),c=l(n(2)),i=n(17),G=a(n(1684)),z=a(n(1436)),H=a(n(9)),r=a(n(112)),W=a(n(24)),u=a(n(1440)),o=n(27),q=a(n(63)),h=a(n(344)),U=n(1528),K=a(n(1532));function a(t){return t&&t.__esModule?t:{default:t}}function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}function l(t){if(t&&t.__esModule)return t;if(null===t||"object"!==p(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n,i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t){Object.prototype.hasOwnProperty.call(t,o)&&((n=r?Object.getOwnPropertyDescriptor(t,o):null)&&(n.get||n.set)?Object.defineProperty(i,o,n):i[o]=t[o])}return i.default=t,e&&e.set(t,i),i}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(){return(Z=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function $(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i,r=y(o);return e=a?(t=y(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),n=this,!(i=e)||"object"!==p(i)&&"function"!=typeof i?Q(n):i}}function Q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function J(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function m(t,e){var n=J(t,2),i=n[0],r=n[1];if(i||r)return e&&"month"===e[0]?[i,r]:[i,r&&r.isSame(i,"month")?r.clone().add(1,"month"):r]}function tt(t,e){var n,i,r;e&&t&&0!==t.length&&(i=(n=J(t,2))[0],r=n[1],i&&i.locale(e),r&&r.locale(e))}var b=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(l,X.Component);var t,e,n,s=g(l);function l(t){var V;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(V=s.call(this,t)).savePicker=function(t){V.picker=t},V.clearSelection=function(t){t.preventDefault(),t.stopPropagation(),V.setState({value:[]}),V.handleChange([])},V.clearHoverValue=function(){return V.setState({hoverValue:[]})},V.handleChange=function(n){var t=Q(V).props;"value"in t||V.setState(function(t){var e=t.showDate;return{value:n,showDate:m(n)||e}}),n[0]&&n[1]&&0<n[0].diff(n[1])&&(n[1]=void 0);var e=J(n,2),i=e[0],r=e[1];"function"==typeof t.onChange&&t.onChange(n,[(0,U.formatDate)(i,t.format),(0,U.formatDate)(r,t.format)])},V.handleOpenChange=function(t){"open"in V.props||V.setState({open:t}),!1===t&&V.clearHoverValue();var e=V.props.onOpenChange;e&&e(t)},V.handleShowDateChange=function(t){return V.setState({showDate:t})},V.handleHoverChange=function(t){return V.setState({hoverValue:t})},V.handleRangeMouseLeave=function(){V.state.open&&V.clearHoverValue()},V.handleCalendarInputSelect=function(n){J(n,1)[0]&&V.setState(function(t){var e=t.showDate;return{value:n,showDate:m(n)||e}})},V.handleRangeClick=function(t){"function"==typeof t&&(t=t()),V.setValue(t,!0);var e=V.props,n=e.onOk,i=e.onOpenChange;n&&n(t),i&&i(!1)},V.renderFooter=function(){var t=V.props,i=t.ranges,e=t.renderExtraFooter,n=Q(V),r=n.prefixCls,o=n.tagPrefixCls;if(!i&&!e)return null;var a=e?X.createElement("div",{className:"".concat(r,"-footer-extra"),key:"extra"},e()):null,s=i&&Object.keys(i).map(function(t){var e=i[t],n="function"==typeof e?e.call(Q(V)):e;return X.createElement(u.default,{key:t,prefixCls:o,color:"blue",onClick:function(){return V.handleRangeClick(e)},onMouseEnter:function(){return V.setState({hoverValue:n})},onMouseLeave:V.handleRangeMouseLeave},t)});return[s&&0<s.length?X.createElement("div",{className:"".concat(r,"-footer-extra ").concat(r,"-range-quick-selector"),key:"range"},s):null,a]},V.renderRangePicker=function(t){var e,n=t.getPrefixCls,i=Q(V),r=i.state,o=i.props,a=r.value,s=r.showDate,l=r.hoverValue,c=r.open,u=o.prefixCls,h=o.tagPrefixCls,p=o.popupStyle,f=o.style,d=o.disabledDate,g=o.disabledTime,y=o.showTime,v=o.showToday,m=o.ranges,b=o.onOk,x=o.locale,O=o.localeCode,w=o.format,_=o.dateRender,C=o.onCalendarChange,j=o.suffixIcon,S=o.separator,M=n("calendar",u),k=n("tag",h);V.prefixCls=M,V.tagPrefixCls=k,tt(a,O),tt(s,O),(0,q.default)(!("onOK"in o),"RangePicker","It should be `RangePicker[onOk]`, instead of `onOK`!");var T=(0,H.default)(($(e={},"".concat(M,"-time"),y),$(e,"".concat(M,"-range-with-ranges"),m),e)),P={onChange:V.handleChange},A={onOk:V.handleChange};o.timePicker?P.onChange=function(t){return V.handleChange(t)}:A={},"mode"in o&&(A.mode=o.mode);var E=Array.isArray(o.placeholder)?o.placeholder[0]:x.lang.rangePlaceholder[0],L=Array.isArray(o.placeholder)?o.placeholder[1]:x.lang.rangePlaceholder[1],I=X.createElement(G.default,Z({},A,{seperator:S,onChange:C,format:w,prefixCls:M,className:T,renderFooter:V.renderFooter,timePicker:o.timePicker,disabledDate:d,disabledTime:g,dateInputPlaceholder:[E,L],locale:x.lang,onOk:b,dateRender:_,value:s,onValueChange:V.handleShowDateChange,hoverValue:l,onHoverChange:V.handleHoverChange,onPanelChange:o.onPanelChange,showToday:v,onInputSelect:V.handleCalendarInputSelect})),B={};o.showTime&&(B.width=f&&f.width||350);var D=J(a,2),F=D[0],R=D[1],N=!o.disabled&&o.allowClear&&a&&(F||R)?X.createElement(W.default,{type:"close-circle",className:"".concat(M,"-picker-clear"),onClick:V.clearSelection,theme:"filled"}):null,Y=X.createElement(K.default,{suffixIcon:j,prefixCls:M});return X.createElement("span",{ref:V.savePicker,id:"number"==typeof o.id?o.id.toString():o.id,className:(0,H.default)(o.className,o.pickerClass),style:Z(Z({},f),B),tabIndex:o.disabled?-1:0,onFocus:o.onFocus,onBlur:o.onBlur,onMouseEnter:o.onMouseEnter,onMouseLeave:o.onMouseLeave},X.createElement(z.default,Z({},o,P,{calendar:I,value:a,open:c,onOpenChange:V.handleOpenChange,prefixCls:"".concat(M,"-picker-container"),style:p}),function(t){var e=J(t.value,2),n=e[0],i=e[1];return X.createElement("span",{className:o.pickerInputClass},X.createElement("input",{disabled:o.disabled,readOnly:!0,value:(0,U.formatDate)(n,o.format),placeholder:E,className:"".concat(M,"-range-picker-input"),tabIndex:-1}),X.createElement("span",{className:"".concat(M,"-range-picker-separator")}," ",S," "),X.createElement("input",{disabled:o.disabled,readOnly:!0,value:(0,U.formatDate)(i,o.format),placeholder:L,className:"".concat(M,"-range-picker-input"),tabIndex:-1}),N,Y)}))};var e=t.value||t.defaultValue||[],n=J(e,2),i=n[0],r=n[1];if(i&&!(0,h.default)(c).isMoment(i)||r&&!(0,h.default)(c).isMoment(r))throw new Error("The value/defaultValue of RangePicker must be a moment object array after `antd@2.0`, see: https://u.ant.design/date-picker-value");var o,a=e&&(o=e,!Array.isArray(o)||0!==o.length&&!o.every(function(t){return!t}))?e:t.defaultPickerValue;return V.state={value:e,showDate:function(t){if(t)return Array.isArray(t)?t:[t,t.clone().add(1,"month")]}(a||(0,h.default)(c)()),open:t.open,hoverValue:[]},V}return t=l,n=[{key:"getDerivedStateFromProps",value:function(t,e){var n,i=null;return"value"in t&&(i={value:n=t.value||[]},(0,r.default)(t.value,e.value)||(i=Z(Z({},i),{showDate:m(n,t.mode)||e.showDate}))),"open"in t&&e.open!==t.open&&(i=Z(Z({},i),{open:t.open})),i}}],(e=[{key:"componentDidUpdate",value:function(t,e){"open"in this.props||!e.open||this.state.open||this.focus()}},{key:"setValue",value:function(t,e){this.handleChange(t),!e&&this.props.showTime||"open"in this.props||this.setState({open:!1})}},{key:"focus",value:function(){this.picker.focus()}},{key:"blur",value:function(){this.picker.blur()}},{key:"render",value:function(){return X.createElement(o.ConfigConsumer,null,this.renderRangePicker)}}])&&f(t.prototype,e),n&&f(t,n),l}();b.defaultProps={allowClear:!0,showToday:!1,separator:"~"},(0,i.polyfill)(b),e.default=b},1684:function(t,e,n){"use strict";e.__esModule=!0;var I=c(n(6)),r=c(n(11)),o=c(n(12)),i=c(n(13)),B=c(n(0)),a=c(n(1)),d=c(n(2)),D=c(n(9)),s=n(17),g=c(n(904)),F=c(n(1685)),R=c(n(1524)),N=c(n(1525)),Y=c(n(1526)),l=n(1527),V=n(1359),y=n(1690);function c(t){return t&&t.__esModule?t:{default:t}}function u(){}function h(t,e){if(t===e)return 1;if(null!=t&&null!=e&&t.length===e.length){for(var n=0;n<t.length;++n)if(t[n]!==e[n])return;return 1}}function p(t){var e=t[0],n=t[1];return n&&null==e&&(e=n.clone().subtract(1,"month")),e&&null==n&&(n=e.clone().add(1,"month")),[e,n]}function f(t,e){var n,i=t.selectedValue||e&&t.defaultSelectedValue,r=t.value||e&&t.defaultValue,o=p(r||i);return n=o,!Array.isArray(n)||0!==n.length&&!n.every(function(t){return!t})?o:e&&[(0,d.default)(),(0,d.default)().add(1,"months")]}function v(t,e){for(var n=e?e().concat():[],i=0;i<t;i++)-1===n.indexOf(i)&&n.push(i);return n}function m(t,e,n){var i,r;e&&((i=this.state.selectedValue.concat())[r="left"===t?0:1]=e,i[0]&&0<this.compare(i[0],i[1])&&(i[1-r]=this.state.showTimePicker?i[r]:void 0),this.props.onInputSelect(i),this.fireSelectValueChange(i,null,n||{source:"dateInput"}))}var b,x=(b=B.default.Component,(0,i.default)(O,b),O.getDerivedStateFromProps=function(t,e){var n={};return"value"in t&&(n.value=f(t,0)),"hoverValue"in t&&!h(e.hoverValue,t.hoverValue)&&(n.hoverValue=t.hoverValue),"selectedValue"in t&&(n.selectedValue=t.selectedValue,n.prevSelectedValue=t.selectedValue),"mode"in t&&!h(e.mode,t.mode)&&(n.mode=t.mode),n},O.prototype.render=function(){var t,e,n=this.props,i=this.state,r=n.prefixCls,o=n.dateInputPlaceholder,a=n.seperator,s=n.timePicker,l=n.showOk,c=n.locale,u=n.showClear,h=n.showToday,p=n.type,f=n.clearIcon,d=i.hoverValue,g=i.selectedValue,y=i.mode,v=i.showTimePicker,m=((t={})[n.className]=!!n.className,t[r]=1,t[r+"-hidden"]=!n.visible,t[r+"-range"]=1,t[r+"-show-time-picker"]=v,t[r+"-week-number"]=n.showWeekNumber,t),b=(0,D.default)(m),x={selectedValue:i.selectedValue,onSelect:this.onSelect,onDayHover:"start"===p&&g[1]||"end"===p&&g[0]||d.length?this.onDayHover:void 0},O=void 0,w=void 0;o&&(Array.isArray(o)?(O=o[0],w=o[1]):O=w=o);var _=!0===l||!1!==l&&!!s,C=(0,D.default)(((e={})[r+"-footer"]=!0,e[r+"-range-bottom"]=!0,e[r+"-footer-show-ok"]=_,e)),j=this.getStartValue(),S=this.getEndValue(),M=(0,V.getTodayTime)(j),k=M.month(),T=M.year(),P=j.year()===T&&j.month()===k||S.year()===T&&S.month()===k,A=j.clone().add(1,"months"),E=A.year()===S.year()&&A.month()===S.month(),L=n.renderFooter();return B.default.createElement("div",{ref:this.saveRoot,className:b,style:n.style,tabIndex:"0",onKeyDown:this.onKeyDown},n.renderSidebar(),B.default.createElement("div",{className:r+"-panel"},u&&g[0]&&g[1]?B.default.createElement("a",{role:"button",title:c.clear,onClick:this.clear},f||B.default.createElement("span",{className:r+"-clear-btn"})):null,B.default.createElement("div",{className:r+"-date-panel",onMouseLeave:"both"!==p?this.onDatePanelLeave:void 0,onMouseEnter:"both"!==p?this.onDatePanelEnter:void 0},B.default.createElement(F.default,(0,I.default)({},n,x,{hoverValue:d,direction:"left",disabledTime:this.disabledStartTime,disabledMonth:this.disabledStartMonth,format:this.getFormat(),value:j,mode:y[0],placeholder:O,onInputChange:this.onStartInputChange,onInputSelect:this.onStartInputSelect,onValueChange:this.onStartValueChange,onPanelChange:this.onStartPanelChange,showDateInput:this.props.showDateInput,timePicker:s,showTimePicker:v||"time"===y[0],enablePrev:!0,enableNext:!E||this.isMonthYearPanelShow(y[1]),clearIcon:f})),B.default.createElement("span",{className:r+"-range-middle"},a),B.default.createElement(F.default,(0,I.default)({},n,x,{hoverValue:d,direction:"right",format:this.getFormat(),timePickerDisabledTime:this.getEndDisableTime(),placeholder:w,value:S,mode:y[1],onInputChange:this.onEndInputChange,onInputSelect:this.onEndInputSelect,onValueChange:this.onEndValueChange,onPanelChange:this.onEndPanelChange,showDateInput:this.props.showDateInput,timePicker:s,showTimePicker:v||"time"===y[1],disabledTime:this.disabledEndTime,disabledMonth:this.disabledEndMonth,enablePrev:!E||this.isMonthYearPanelShow(y[0]),enableNext:!0,clearIcon:f}))),B.default.createElement("div",{className:C},h||n.timePicker||_||L?B.default.createElement("div",{className:r+"-footer-btn"},L,h?B.default.createElement(R.default,(0,I.default)({},n,{disabled:P,value:i.value[0],onToday:this.onToday,text:c.backToToday})):null,n.timePicker?B.default.createElement(Y.default,(0,I.default)({},n,{showTimePicker:v||"time"===y[0]&&"time"===y[1],onOpenTimePicker:this.onOpenTimePicker,onCloseTimePicker:this.onCloseTimePicker,timePickerDisabled:!this.hasSelectedValue()||d.length})):null,_?B.default.createElement(N.default,(0,I.default)({},n,{onOk:this.onOk,okDisabled:!this.isAllowedDateAndTime(g)||!this.hasSelectedValue()||d.length})):null):null)))},O);function O(t){(0,r.default)(this,O);var e=(0,o.default)(this,b.call(this,t));w.call(e);var n=t.selectedValue||t.defaultSelectedValue,i=f(t,1);return e.state={selectedValue:n,prevSelectedValue:n,firstSelectedValue:null,hoverValue:t.hoverValue||[],value:i,showTimePicker:!1,mode:t.mode||["date","date"],panelTriggerSource:""},e}x.propTypes=(0,I.default)({},l.propType,{prefixCls:a.default.string,dateInputPlaceholder:a.default.any,seperator:a.default.string,defaultValue:a.default.any,value:a.default.any,hoverValue:a.default.any,mode:a.default.arrayOf(a.default.oneOf(["time","date","month","year","decade"])),showDateInput:a.default.bool,timePicker:a.default.any,showOk:a.default.bool,showToday:a.default.bool,defaultSelectedValue:a.default.array,selectedValue:a.default.array,onOk:a.default.func,showClear:a.default.bool,locale:a.default.object,onChange:a.default.func,onSelect:a.default.func,onValueChange:a.default.func,onHoverChange:a.default.func,onPanelChange:a.default.func,format:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),onClear:a.default.func,type:a.default.any,disabledDate:a.default.func,disabledTime:a.default.func,clearIcon:a.default.node,onKeyDown:a.default.func}),x.defaultProps=(0,I.default)({},l.defaultProp,{type:"both",seperator:"~",defaultSelectedValue:[],onValueChange:u,onHoverChange:u,onPanelChange:u,disabledTime:u,onInputSelect:u,showToday:!0,showDateInput:!0});var w=function(){var f=this;this.onDatePanelEnter=function(){f.hasSelectedValue()&&f.fireHoverValueChange(f.state.selectedValue.concat())},this.onDatePanelLeave=function(){f.hasSelectedValue()&&f.fireHoverValueChange([])},this.onSelect=function(t){var e,n,i=f.props.type,r=f.state,o=r.selectedValue,a=r.prevSelectedValue,s=r.firstSelectedValue,l=void 0;l="both"===i?s?f.compare(s,t)<0?((0,V.syncTime)(a[1],t),[s,t]):((0,V.syncTime)(a[0],t),(0,V.syncTime)(a[1],s),[t,s]):((0,V.syncTime)(a[0],t),[t]):"start"===i?((0,V.syncTime)(a[0],t),(e=o[1])&&0<f.compare(e,t)?[t,e]:[t]):(n=o[0])&&f.compare(n,t)<=0?((0,V.syncTime)(a[1],t),[n,t]):((0,V.syncTime)(a[0],t),[t]),f.fireSelectValueChange(l)},this.onKeyDown=function(s){if("input"!==s.target.nodeName.toLowerCase()){var t=s.keyCode,e=s.ctrlKey||s.metaKey,n=f.state,l=n.selectedValue,c=n.hoverValue,u=n.firstSelectedValue,h=n.value,i=f.props,r=i.onKeyDown,o=i.disabledDate,a=function(t){var e,n,i,r=void 0,o=void 0,a=void 0;return u?a=(o=t(r=1===c.length?c[0].clone():c[0].isSame(u,"day")?c[1]:c[0]),f.onDayHover(o)):(r=c[0]||l[0]||h[0]||(0,d.default)(),a=[o=t(r)],f.fireHoverValueChange(a)),2<=a.length?a.some(function(t){return!(0,y.includesTime)(h,t,"month")})&&((e=a.slice().sort(function(t,e){return t.valueOf()-e.valueOf()}))[0].isSame(e[1],"month")&&(e[1]=e[0].clone().add(1,"month")),f.fireValueChange(e)):1===a.length&&(-1===(n=h.findIndex(function(t){return t.isSame(r,"month")}))&&(n=0),h.every(function(t){return!t.isSame(o,"month")})&&((i=h.slice())[n]=o.clone(),f.fireValueChange(i))),s.preventDefault(),o};switch(t){case g.default.DOWN:return void a(function(t){return(0,y.goTime)(t,1,"weeks")});case g.default.UP:return void a(function(t){return(0,y.goTime)(t,-1,"weeks")});case g.default.LEFT:return void a(e?function(t){return(0,y.goTime)(t,-1,"years")}:function(t){return(0,y.goTime)(t,-1,"days")});case g.default.RIGHT:return void a(e?function(t){return(0,y.goTime)(t,1,"years")}:function(t){return(0,y.goTime)(t,1,"days")});case g.default.HOME:return void a(function(t){return(0,y.goStartMonth)(t)});case g.default.END:return void a(function(t){return(0,y.goEndMonth)(t)});case g.default.PAGE_DOWN:return void a(function(t){return(0,y.goTime)(t,1,"month")});case g.default.PAGE_UP:return void a(function(t){return(0,y.goTime)(t,-1,"month")});case g.default.ENTER:var p=void 0;return!(p=0===c.length?a(function(t){return t}):1!==c.length&&c[0].isSame(u,"day")?c[1]:c[0])||o&&o(p)||f.onSelect(p),void s.preventDefault();default:r&&r(s)}}},this.onDayHover=function(t){var e=[],n=f.state,i=n.selectedValue,r=n.firstSelectedValue,o=f.props.type;if("start"===o&&i[1])e=f.compare(t,i[1])<0?[t,i[1]]:[t];else if("end"===o&&i[0])e=0<f.compare(t,i[0])?[i[0],t]:[];else{if(!r)return f.state.hoverValue.length&&f.setState({hoverValue:[]}),e;e=f.compare(t,r)<0?[t,r]:[r,t]}return f.fireHoverValueChange(e),e},this.onToday=function(){var t=(0,V.getTodayTime)(f.state.value[0]),e=t.clone().add(1,"months");f.setState({value:[t,e]})},this.onOpenTimePicker=function(){f.setState({showTimePicker:!0})},this.onCloseTimePicker=function(){f.setState({showTimePicker:!1})},this.onOk=function(){var t=f.state.selectedValue;f.isAllowedDateAndTime(t)&&f.props.onOk(f.state.selectedValue)},this.onStartInputChange=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=["left"].concat(e);return m.apply(f,i)},this.onEndInputChange=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=["right"].concat(e);return m.apply(f,i)},this.onStartInputSelect=function(t){return m.apply(f,["left",t,{source:"dateInputSelect"}])},this.onEndInputSelect=function(t){return m.apply(f,["right",t,{source:"dateInputSelect"}])},this.onStartValueChange=function(t){var e=[].concat(f.state.value);return e[0]=t,f.fireValueChange(e)},this.onEndValueChange=function(t){var e=[].concat(f.state.value);return e[1]=t,f.fireValueChange(e)},this.onStartPanelChange=function(t,e){var n=f.props,i=f.state,r=[e,i.mode[1]],o={panelTriggerSource:"start"};"mode"in n||(o.mode=r),f.setState(o);var a=[t||i.value[0],i.value[1]];n.onPanelChange(a,r)},this.onEndPanelChange=function(t,e){var n=f.props,i=f.state,r=[i.mode[0],e],o={panelTriggerSource:"end"};"mode"in n||(o.mode=r),f.setState(o);var a=[i.value[0],t||i.value[1]];n.onPanelChange(a,r)},this.getStartValue=function(){var t=f.state,e=t.selectedValue,n=t.showTimePicker,i=t.value,r=t.mode,o=t.panelTriggerSource,a=i[0];return e[0]&&f.props.timePicker&&(a=a.clone(),(0,V.syncTime)(e[0],a)),n&&e[0]&&(a=e[0]),"end"===o&&"date"===r[0]&&"date"===r[1]&&a.isSame(i[1],"month")&&(a=a.clone().subtract(1,"month")),a},this.getEndValue=function(){var t=f.state,e=t.value,n=t.selectedValue,i=t.showTimePicker,r=t.mode,o=t.panelTriggerSource,a=e[1]?e[1].clone():e[0].clone().add(1,"month");return n[1]&&f.props.timePicker&&(0,V.syncTime)(n[1],a),i&&(a=n[1]?n[1]:f.getStartValue()),!i&&"end"!==o&&"date"===r[0]&&"date"===r[1]&&a.isSame(e[0],"month")&&(a=a.clone().add(1,"month")),a},this.getEndDisableTime=function(){var t=f.state,e=t.selectedValue,n=t.value,i=(0,f.props.disabledTime)(e,"end")||{},r=e&&e[0]||n[0].clone();if(e[1]&&!r.isSame(e[1],"day"))return i;var o=r.hour(),a=r.minute(),s=r.second(),l=i.disabledHours,c=i.disabledSeconds,u=(p=i.disabledMinutes)?p():[],h=c?c():[],l=v(o,l),p=v(a,p),c=v(s,c);return{disabledHours:function(){return l},disabledMinutes:function(t){return t===o?p:u},disabledSeconds:function(t,e){return t===o&&e===a?c:h}}},this.isAllowedDateAndTime=function(t){return(0,V.isAllowedDate)(t[0],f.props.disabledDate,f.disabledStartTime)&&(0,V.isAllowedDate)(t[1],f.props.disabledDate,f.disabledEndTime)},this.isMonthYearPanelShow=function(t){return-1<["month","year","decade"].indexOf(t)},this.hasSelectedValue=function(){var t=f.state.selectedValue;return!!t[1]&&!!t[0]},this.compare=function(t,e){return f.props.timePicker?t.diff(e):t.diff(e,"days")},this.fireSelectValueChange=function(t,e,n){var i,r,o,a=f.props.timePicker,s=f.state.prevSelectedValue;a&&a.props.defaultValue&&(i=a.props.defaultValue,!s[0]&&t[0]&&(0,V.syncTime)(i[0],t[0]),!s[1]&&t[1]&&(0,V.syncTime)(i[1],t[1])),"selectedValue"in f.props||f.setState({selectedValue:t}),f.state.selectedValue[0]&&f.state.selectedValue[1]||(r=t[0]||(0,d.default)(),o=t[1]||r.clone().add(1,"months"),f.setState({selectedValue:t,value:p([r,o])})),t[0]&&!t[1]&&(f.setState({firstSelectedValue:t[0]}),f.fireHoverValueChange(t.concat())),f.props.onChange(t),(e||t[0]&&t[1])&&(f.setState({prevSelectedValue:t,firstSelectedValue:null}),f.fireHoverValueChange([]),f.props.onSelect(t,n))},this.fireValueChange=function(t){var e=f.props;"value"in e||f.setState({value:t}),e.onValueChange(t)},this.fireHoverValueChange=function(t){var e=f.props;"hoverValue"in e||f.setState({hoverValue:t}),e.onHoverChange(t)},this.clear=function(){f.fireSelectValueChange([],!0),f.props.onClear()},this.disabledStartTime=function(t){return f.props.disabledTime(t,"start")},this.disabledEndTime=function(t){return f.props.disabledTime(t,"end")},this.disabledStartMonth=function(t){var e=f.state.value;return t.isAfter(e[1],"month")},this.disabledEndMonth=function(t){var e=f.state.value;return t.isBefore(e[0],"month")}};(0,s.polyfill)(x),e.default=(0,l.commonMixinWrapper)(x),t.exports=e.default},1685:function(t,e,n){"use strict";e.__esModule=!0;var T=s(n(6)),i=s(n(11)),r=s(n(12)),o=s(n(13)),P=s(n(0)),a=s(n(1)),A=s(n(1522)),E=s(n(1686)),L=s(n(1689)),I=n(1359);function s(t){return t&&t.__esModule?t:{default:t}}var l,c=(l=P.default.Component,(0,o.default)(u,l),u.prototype.render=function(){var t=this.props,e=t.prefixCls,n=t.value,i=t.hoverValue,r=t.selectedValue,o=t.mode,a=t.direction,s=t.locale,l=t.format,c=t.placeholder,u=t.disabledDate,h=t.timePicker,p=t.disabledTime,f=t.timePickerDisabledTime,d=t.showTimePicker,g=t.onInputChange,y=t.onInputSelect,v=t.enablePrev,m=t.enableNext,b=t.clearIcon,x=t.showClear,O=t.inputMode,w=d&&h,_=w&&p?(0,I.getTimeConfig)(r,p):null,C=e+"-range",j={locale:s,value:n,prefixCls:e,showTimePicker:d},S="left"===a?0:1,M=w&&P.default.cloneElement(h,(0,T.default)({showHour:!0,showMinute:!0,showSecond:!0},h.props,_,f,{onChange:g,defaultOpenValue:n,value:r[S]})),k=t.showDateInput&&P.default.createElement(L.default,{format:l,locale:s,prefixCls:e,timePicker:h,disabledDate:u,placeholder:c,disabledTime:p,value:n,showClear:x||!1,selectedValue:r[S],onChange:g,onSelect:y,clearIcon:b,inputMode:O});return P.default.createElement("div",{className:C+"-part "+C+"-"+a},k,P.default.createElement("div",{style:{outline:"none"}},P.default.createElement(A.default,(0,T.default)({},j,{mode:o,enableNext:m,enablePrev:v,onValueChange:t.onValueChange,onPanelChange:t.onPanelChange,disabledMonth:t.disabledMonth})),d?P.default.createElement("div",{className:e+"-time-picker"},P.default.createElement("div",{className:e+"-time-picker-panel"},M)):null,P.default.createElement("div",{className:e+"-body"},P.default.createElement(E.default,(0,T.default)({},j,{hoverValue:i,selectedValue:r,dateRender:t.dateRender,onSelect:t.onSelect,onDayHover:t.onDayHover,disabledDate:u,showWeekNumber:t.showWeekNumber})))))},u);function u(){return(0,i.default)(this,u),(0,r.default)(this,l.apply(this,arguments))}c.propTypes={prefixCls:a.default.string,value:a.default.any,hoverValue:a.default.any,selectedValue:a.default.any,direction:a.default.any,locale:a.default.any,showDateInput:a.default.bool,showTimePicker:a.default.bool,format:a.default.any,placeholder:a.default.any,disabledDate:a.default.any,timePicker:a.default.any,disabledTime:a.default.any,onInputChange:a.default.func,onInputSelect:a.default.func,timePickerDisabledTime:a.default.object,enableNext:a.default.any,enablePrev:a.default.any,clearIcon:a.default.node,dateRender:a.default.func,inputMode:a.default.string},e.default=c,t.exports=e.default},1686:function(t,e,n){"use strict";e.__esModule=!0;var i=c(n(11)),r=c(n(12)),o=c(n(13)),a=c(n(0)),s=c(n(1687)),l=c(n(1688));function c(t){return t&&t.__esModule?t:{default:t}}var u,h=(u=a.default.Component,(0,o.default)(p,u),p.prototype.render=function(){var t=this.props,e=t.prefixCls;return a.default.createElement("table",{className:e+"-table",cellSpacing:"0",role:"grid"},a.default.createElement(s.default,t),a.default.createElement(l.default,t))},p);function p(){return(0,i.default)(this,p),(0,r.default)(this,u.apply(this,arguments))}e.default=h,t.exports=e.default},1687:function(t,e,n){"use strict";e.__esModule=!0;var i=a(n(11)),r=a(n(12)),o=a(n(13)),h=a(n(0)),p=a(n(1531)),f=a(n(2));function a(t){return t&&t.__esModule?t:{default:t}}var s,l=(s=h.default.Component,(0,o.default)(c,s),c.prototype.render=function(){for(var t=this.props,e=t.value.localeData(),n=t.prefixCls,i=[],r=[],o=e.firstDayOfWeek(),a=void 0,s=(0,f.default)(),l=0;l<p.default.DATE_COL_COUNT;l++){var c=(o+l)%p.default.DATE_COL_COUNT;s.day(c),i[l]=e.weekdaysMin(s),r[l]=e.weekdaysShort(s)}t.showWeekNumber&&(a=h.default.createElement("th",{role:"columnheader",className:n+"-column-header "+n+"-week-number-header"},h.default.createElement("span",{className:n+"-column-header-inner"},"x")));var u=r.map(function(t,e){return h.default.createElement("th",{key:e,role:"columnheader",title:t,className:n+"-column-header"},h.default.createElement("span",{className:n+"-column-header-inner"},i[e]))});return h.default.createElement("thead",null,h.default.createElement("tr",{role:"row"},a,u))},c);function c(){return(0,i.default)(this,c),(0,r.default)(this,s.apply(this,arguments))}e.default=l,t.exports=e.default},1688:function(t,e,n){"use strict";e.__esModule=!0;var i=s(n(11)),r=s(n(12)),o=s(n(13)),nt=s(n(0)),a=s(n(1)),it=s(n(9)),rt=s(n(1531)),ot=n(1359);function s(t){return t&&t.__esModule?t:{default:t}}function at(t,e){return t&&e&&t.isSame(e,"day")}var l,c=(l=nt.default.Component,(0,o.default)(u,l),u.prototype.render=function(){var t=this.props,e=t.contentRender,n=t.prefixCls,i=t.selectedValue,r=t.value,o=t.showWeekNumber,a=t.dateRender,s=t.disabledDate,l=t.hoverValue,c=void 0,u=void 0,h=void 0,p=[],f=(0,ot.getTodayTime)(r),d=n+"-cell",g=n+"-week-number-cell",y=n+"-date",v=n+"-today",m=n+"-selected-day",b=n+"-selected-date",x=n+"-selected-start-date",O=n+"-selected-end-date",w=n+"-in-range-cell",_=n+"-last-month-cell",C=n+"-next-month-btn-day",j=n+"-disabled-cell",S=n+"-disabled-cell-first-of-row",M=n+"-disabled-cell-last-of-row",k=n+"-last-day-of-month",T=r.clone();T.date(1);var P=(T.day()+7-r.localeData().firstDayOfWeek())%7,A=T.clone();A.add(0-P,"days");for(var E=0,c=0;c<rt.default.DATE_ROW_COUNT;c++)for(u=0;u<rt.default.DATE_COL_COUNT;u++)h=A,E&&(h=h.clone()).add(E,"days"),p.push(h),E++;var L,I,B,D,F,R=[],E=0;for(c=0;c<rt.default.DATE_ROW_COUNT;c++){var N,Y=void 0,V=void 0,X=!1,G=[];for(o&&(V=nt.default.createElement("td",{key:p[E].week(),role:"gridcell",className:g},p[E].week())),u=0;u<rt.default.DATE_COL_COUNT;u++){var z=null,H=null,h=p[E];u<rt.default.DATE_COL_COUNT-1&&(z=p[E+1]),0<u&&(H=p[E-1]);var W=d,q=!1,U=!1;at(h,f)&&(W+=" "+v,Y=!0);var K,Z,$,Q=(F=r,(D=h).year()<F.year()?1:D.year()===F.year()&&D.month()<F.month()),J=(B=r,(I=h).year()>B.year()?1:I.year()===B.year()&&I.month()>B.month());i&&Array.isArray(i)?(K=l.length?l:i,Q||J||(Z=K[0],$=K[1],Z&&at(h,Z)&&(X=U=!0,W+=" "+x),(Z||$)&&(at(h,$)?(X=U=!0,W+=" "+O):(null==Z&&h.isBefore($,"day")||null==$&&h.isAfter(Z,"day")||h.isAfter(Z,"day")&&h.isBefore($,"day"))&&(W+=" "+w)))):at(h,r)&&(X=U=!0),at(h,i)&&(W+=" "+b),Q&&(W+=" "+_),J&&(W+=" "+C),h.clone().endOf("month").date()===h.date()&&(W+=" "+k),s&&s(h,r)&&(q=!0,H&&s(H,r)||(W+=" "+S),z&&s(z,r)||(W+=" "+M)),U&&(W+=" "+m),q&&(W+=" "+j);var tt,et=void 0;et=a?a(h,r):(tt=e?e(h,r):h.date(),nt.default.createElement("div",{key:"rc-calendar-"+(L=h).year()+"-"+L.month()+"-"+L.date(),className:y,"aria-selected":U,"aria-disabled":q},tt)),G.push(nt.default.createElement("td",{key:E,onClick:q?void 0:t.onSelect.bind(null,h),onMouseEnter:!q&&t.onDayHover&&t.onDayHover.bind(null,h)||void 0,role:"gridcell",title:(0,ot.getTitleString)(h),className:W},et)),E++}R.push(nt.default.createElement("tr",{key:c,role:"row",className:(0,it.default)(((N={})[n+"-current-week"]=Y,N[n+"-active-week"]=X,N))},V,G))}return nt.default.createElement("tbody",{className:n+"-tbody"},R)},u);function u(){return(0,i.default)(this,u),(0,r.default)(this,l.apply(this,arguments))}c.propTypes={contentRender:a.default.func,dateRender:a.default.func,disabledDate:a.default.func,prefixCls:a.default.string,selectedValue:a.default.oneOfType([a.default.object,a.default.arrayOf(a.default.object)]),value:a.default.object,hoverValue:a.default.any,showWeekNumber:a.default.bool},c.defaultProps={hoverValue:[]},e.default=c,t.exports=e.default},1689:function(t,e,n){"use strict";e.__esModule=!0;var i=f(n(11)),r=f(n(12)),o=f(n(13)),u=f(n(0)),a=f(n(7)),s=f(n(1)),l=f(n(904)),c=n(17),h=f(n(2)),p=n(1359);function f(t){return t&&t.__esModule?t:{default:t}}var d,g=void 0,y=void 0,v=void 0,m=(d=u.default.Component,(0,o.default)(b,d),b.prototype.componentDidUpdate=function(){!v||!this.state.hasFocus||this.state.invalid||0===g&&0===y||v.setSelectionRange(g,y)},b.getDerivedStateFromProps=function(t,e){var n={};v&&(g=v.selectionStart,y=v.selectionEnd);var i=t.selectedValue;return e.hasFocus||(n={str:(0,p.formatDate)(i,t.format),invalid:!1}),n},b.getInstance=function(){return v},b.prototype.render=function(){var t=this.props,e=this.state,n=e.invalid,i=e.str,r=t.locale,o=t.prefixCls,a=t.placeholder,s=t.clearIcon,l=t.inputMode,c=n?o+"-input-invalid":"";return u.default.createElement("div",{className:o+"-input-wrap"},u.default.createElement("div",{className:o+"-date-input-wrap"},u.default.createElement("input",{ref:this.saveDateInput,className:o+"-input "+c,value:i,disabled:t.disabled,placeholder:a,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,inputMode:l})),t.showClear?u.default.createElement("a",{role:"button",title:r.clear,onClick:this.onClear},s||u.default.createElement("span",{className:o+"-clear-btn"})):null)},b);function b(t){(0,i.default)(this,b);var e=(0,r.default)(this,d.call(this,t));x.call(e);var n=t.selectedValue;return e.state={str:(0,p.formatDate)(n,e.props.format),invalid:!1,hasFocus:!1},e}m.propTypes={prefixCls:s.default.string,timePicker:s.default.object,value:s.default.object,disabledTime:s.default.any,format:s.default.oneOfType([s.default.string,s.default.arrayOf(s.default.string)]),locale:s.default.object,disabledDate:s.default.func,onChange:s.default.func,onClear:s.default.func,placeholder:s.default.string,onSelect:s.default.func,selectedValue:s.default.object,clearIcon:s.default.node,inputMode:s.default.string};var x=function(){var c=this;this.onClear=function(){c.setState({str:""}),c.props.onClear(null)},this.onInputChange=function(t){var e=t.target.value,n=c.props,i=n.disabledDate,r=n.format,o=n.onChange,a=n.selectedValue;if(!e)return o(null),void c.setState({invalid:!1,str:e});var s,l=(0,h.default)(e,r,!0);l.isValid()?((s=c.props.value.clone()).year(l.year()).month(l.month()).date(l.date()).hour(l.hour()).minute(l.minute()).second(l.second()),!s||i&&i(s)?c.setState({invalid:!0,str:e}):(a!==s||a&&s&&!a.isSame(s))&&(c.setState({invalid:!1,str:e}),o(s))):c.setState({invalid:!0,str:e})},this.onFocus=function(){c.setState({hasFocus:!0})},this.onBlur=function(){c.setState(function(t,e){return{hasFocus:!1,str:(0,p.formatDate)(e.value,e.format)}})},this.onKeyDown=function(t){var e=t.keyCode,n=c.props,i=n.onSelect,r=n.value,o=n.disabledDate;e===l.default.ENTER&&i&&(o&&o(r)||i(r.clone()),t.preventDefault())},this.getRootDOMNode=function(){return a.default.findDOMNode(c)},this.focus=function(){v&&v.focus()},this.saveDateInput=function(t){v=t}};(0,c.polyfill)(m),e.default=m,t.exports=e.default},1690:function(t,e,n){"use strict";e.__esModule=!0,e.goStartMonth=function(t){return t.clone().startOf("month")},e.goEndMonth=function(t){return t.clone().endOf("month")},e.goTime=function(t,e,n){return t.clone().add(e,n)},e.includesTime=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=arguments[2];return t.some(function(t){return t.isSame(e,n)})}},1691:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var T=c(n(0)),o=c(n(2)),i=n(17),P=r(n(1542)),A=r(n(1436)),E=r(n(9)),L=r(n(24)),a=n(27),s=r(n(344)),I=r(n(1532));function r(t){return t&&t.__esModule?t:{default:t}}function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function c(t){if(t&&t.__esModule)return t;if(null===t||"object"!==u(t)&&"function"!=typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n,i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t){Object.prototype.hasOwnProperty.call(t,o)&&((n=r?Object.getOwnPropertyDescriptor(t,o):null)&&(n.get||n.set)?Object.defineProperty(i,o,n):i[o]=t[o])}return i.default=t,e&&e.set(t,i),i}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(){return(B=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(o){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,i,r=g(o);return e=a?(t=g(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),n=this,!(i=e)||"object"!==u(i)&&"function"!=typeof i?d(n):i}}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(r,T.Component);var t,e,n,i=f(r);function r(t){var k;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(k=i.call(this,t)).saveInput=function(t){k.input=t},k.weekDateRender=function(t){var e=k.state.value,n=d(k).prefixCls,i=k.props.dateRender,r=i?i(t):t.date();return e&&t.year()===e.year()&&t.week()===e.week()?T.createElement("div",{className:"".concat(n,"-selected-day")},T.createElement("div",{className:"".concat(n,"-date")},r)):T.createElement("div",{className:"".concat(n,"-date")},r)},k.handleChange=function(t){var e,n;"value"in k.props||k.setState({value:t}),k.props.onChange(t,(e=t,n=k.props.format,e&&e.format(n)||""))},k.handleOpenChange=function(t){var e=k.props.onOpenChange;"open"in k.props||k.setState({open:t}),e&&e(t)},k.clearSelection=function(t){t.preventDefault(),t.stopPropagation(),k.handleChange(null)},k.renderFooter=function(){var t=k.props,e=t.prefixCls,n=t.renderExtraFooter;return n?T.createElement("div",{className:"".concat(e,"-footer-extra")},n.apply(void 0,arguments)):null},k.renderWeekPicker=function(t){var e=t.getPrefixCls,n=k.props,i=n.prefixCls,r=n.className,o=n.disabled,a=n.pickerClass,s=n.popupStyle,l=n.pickerInputClass,c=n.format,u=n.allowClear,h=n.locale,p=n.localeCode,f=n.disabledDate,d=n.style,g=n.onFocus,y=n.onBlur,v=n.id,m=n.suffixIcon,b=n.defaultPickerValue,x=e("calendar",i);k.prefixCls=x;var O=k.state,w=O.open,_=O.value;_&&p&&_.locale(p);var C="placeholder"in k.props?k.props.placeholder:h.lang.placeholder,j=T.createElement(P.default,{showWeekNumber:!0,dateRender:k.weekDateRender,prefixCls:x,format:c,locale:h.lang,showDateInput:!1,showToday:!1,disabledDate:f,renderFooter:k.renderFooter,defaultValue:b}),S=!o&&u&&k.state.value?T.createElement(L.default,{type:"close-circle",className:"".concat(x,"-picker-clear"),onClick:k.clearSelection,theme:"filled"}):null,M=T.createElement(I.default,{suffixIcon:m,prefixCls:x});return T.createElement("span",{className:(0,E.default)(r,a),style:d,id:v},T.createElement(A.default,B({},k.props,{calendar:j,prefixCls:"".concat(x,"-picker-container"),value:_,onChange:k.handleChange,open:w,onOpenChange:k.handleOpenChange,style:s}),function(t){var e=t.value;return T.createElement("span",{style:{display:"inline-block",width:"100%"}},T.createElement("input",{ref:k.saveInput,disabled:o,readOnly:!0,value:e&&e.format(c)||"",placeholder:C,className:l,onFocus:g,onBlur:y}),S,M)}))};var e=t.value||t.defaultValue;if(e&&!(0,s.default)(o).isMoment(e))throw new Error("The value/defaultValue of WeekPicker must be a moment object after `antd@2.0`, see: https://u.ant.design/date-picker-value");return k.state={value:e,open:t.open},k}return t=r,n=[{key:"getDerivedStateFromProps",value:function(t){if("value"in t||"open"in t){var e={};return"value"in t&&(e.value=t.value),"open"in t&&(e.open=t.open),e}return null}}],(e=[{key:"componentDidUpdate",value:function(t,e){"open"in this.props||!e.open||this.state.open||this.focus()}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){return T.createElement(a.ConfigConsumer,null,this.renderWeekPicker)}}])&&h(t.prototype,e),n&&h(t,n),r}();y.defaultProps={format:"gggg-wo",allowClear:!0},(0,i.polyfill)(y),e.default=y},1703:function(t,e,n){"use strict";n.d(e,"a",function(){return Qg});var i={};n.r(i),n.d(i,"Base",function(){return Or}),n.d(i,"Circle",function(){return Cr}),n.d(i,"Dom",function(){return Mr}),n.d(i,"Ellipse",function(){return Pr}),n.d(i,"Image",function(){return Lr}),n.d(i,"Line",function(){return Rr}),n.d(i,"Marker",function(){return Gr}),n.d(i,"Path",function(){return Wr}),n.d(i,"Polygon",function(){return Kr}),n.d(i,"Polyline",function(){return to}),n.d(i,"Rect",function(){return io}),n.d(i,"Text",function(){return co});var r={};n.r(r),n.d(r,"version",function(){return Lo}),n.d(r,"Event",function(){return _t.Event}),n.d(r,"Canvas",function(){return Eo}),n.d(r,"Group",function(){return vr}),n.d(r,"Shape",function(){return i});var o={};n.r(o),n.d(o,"EVENT_MAP",function(){return L}),n.d(o,"onEvent",function(){return I});var a={};n.r(a),n.d(a,"EVENT_MAP",function(){return L}),n.d(a,"onEvent",function(){return I});var s={};n.r(s),n.d(s,"EVENT_MAP",function(){return L}),n.d(s,"onEvent",function(){return I});var l={};n.r(l),n.d(l,"EVENT_MAP",function(){return L}),n.d(l,"onEvent",function(){return I});var c={};n.r(c),n.d(c,"EVENT_MAP",function(){return L}),n.d(c,"onEvent",function(){return I});var u={};n.r(u),n.d(u,"EVENT_MAP",function(){return L}),n.d(u,"onEvent",function(){return I});var h={};n.r(h),n.d(h,"EVENT_MAP",function(){return L}),n.d(h,"onEvent",function(){return I});var p={};n.r(p),n.d(p,"EVENT_MAP",function(){return L}),n.d(p,"onEvent",function(){return I});var f={};n.r(f),n.d(f,"EVENT_MAP",function(){return L}),n.d(f,"onEvent",function(){return I});var d={};n.r(d),n.d(d,"EVENT_MAP",function(){return L}),n.d(d,"onEvent",function(){return I});var g={};n.r(g),n.d(g,"EVENT_MAP",function(){return L}),n.d(g,"onEvent",function(){return I});var y={};n.r(y),n.d(y,"EVENT_MAP",function(){return L}),n.d(y,"onEvent",function(){return I});var v={};n.r(v),n.d(v,"EVENT_MAP",function(){return L}),n.d(v,"onEvent",function(){return I});var m={};n.r(m),n.d(m,"EVENT_MAP",function(){return L}),n.d(m,"onEvent",function(){return I});var b={};n.r(b),n.d(b,"EVENT_MAP",function(){return L}),n.d(b,"onEvent",function(){return I});var x={};n.r(x),n.d(x,"EVENT_MAP",function(){return L}),n.d(x,"onEvent",function(){return I});var O={};n.r(O),n.d(O,"EVENT_MAP",function(){return L}),n.d(O,"onEvent",function(){return I});var w={};n.r(w),n.d(w,"EVENT_MAP",function(){return L}),n.d(w,"onEvent",function(){return I});var _={};n.r(_),n.d(_,"EVENT_MAP",function(){return L}),n.d(_,"onEvent",function(){return I});var C={};n.r(C),n.d(C,"EVENT_MAP",function(){return L}),n.d(C,"onEvent",function(){return I});var j={};n.r(j),n.d(j,"EVENT_MAP",function(){return L}),n.d(j,"onEvent",function(){return I});var S,M={second:{value:1e3,format:"HH:mm:ss"},miniute:{value:6e4,format:"HH:mm"},hour:{value:36e5,format:"HH"},day:{value:864e5,format:"YYYY-MM-DD"},week:{value:6048e5,format:"YYYY-MM-DD"},month:{value:2592e6,format:"YYYY-MM"},year:{value:31536e6,format:"YYYY"}},q=n(532),k=n(914),U=n(528),T=["click","dblclick","mousemove","mouseenter","mouseleave","mousedown","mouseup","contextmenu"],P=[],A=Object(U.deepMix)(B({title:"title",description:"description",breadcrumb:"breadcrumb"}),D("Plot",T)),E=D("Layer",T),L=Object(U.deepMix)({},B({axis:"axis-label",label:"label",legend:"legend-item"}),D("View",T),(S={},Object(U.each)(P,function(t){var e=Object(U.upperFirst)(t);S["on"+e]=t}),S));function I(n,t,i){n.view.on(t,function(t){var e={x:null==t?void 0:t.x,y:null==t?void 0:t.y,clientX:null==t?void 0:t.clientX,clientY:null==t?void 0:t.clientY,target:null==t?void 0:t.target,data:null!=t&&t.data?t.data.data:null,plot:n,canvas:n.canvas,gEvent:null==t?void 0:t.gEvent};i(e)})}function B(t){var o={};return Object(U.each)(t,function(t,e){var i="on"+Object(U.upperFirst)(e),r=t+":";Object(U.each)(T,function(t){var e=Object(U.upperFirst)(t),n=r+t;o[i+e]=n})}),o}function D(n,t){var i={};return Object(U.each)(t,function(t){var e=Object(U.upperFirst)(t);i["on"+n+e]=t}),i}var F,R=n(1492),N=n(915);function Y(){return null!==F&&F.apply(this,arguments)||this}var V,X=(F=R.BBox,Object(q.__extends)(Y,F),Y.fromBBoxObject=function(t){return new Y(t.x,t.y,t.width,t.height)},Y);function G(t){var e=V.call(this)||this;return e.layers=[],e.destroyed=!1,e.visibility=!0,e.rendered=!1,e.eventHandlers=[],e.options=e.getOptions(t),e.processOptions(e.options),e}var z,H,W,K,Z,$,Q=(V=k.default,Object(q.__extends)(G,V),G.prototype.processOptions=function(t){this.id=t.id,this.x=t.x||0,this.y=t.y||0,this.width=t.width,this.height=t.height,this.canvas=t.canvas,this.parent=t.parent},G.prototype.updateConfig=function(t){this.options=Object(U.deepMix)({},this.options,t),this.processOptions(this.options)},G.prototype.beforeInit=function(){return null},G.prototype.init=function(){this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.eachLayer(function(t){t.init()})},G.prototype.afterInit=function(){return null},G.prototype.render=function(){this.rendered||(this.container=this.parent?this.parent.container.addGroup():this.canvas.addGroup()),this.rendered=!0,this.beforeInit(),this.init(),this.afterInit(),this.eachLayer(function(t){t.render()}),this.canvas.draw()},G.prototype.clear=function(){this.eachLayer(function(t){t.destroy()}),this.layers=[],this.container.clear()},G.prototype.destroy=function(){var e=this;this.eachLayer(function(t){t.destroy()}),Object(U.each)(this.eventHandlers,function(t){e.off(t.eventName,t.handler)}),this.container.remove(!0),this.destroyed=!0},G.prototype.show=function(){this.container.attr("visible",!0),this.container.set("visible",!0),this.visibility=!0,this.canvas.draw()},G.prototype.hide=function(){this.container.attr("visible",!1),this.container.set("visible",!1),this.visibility=!1,this.canvas.draw()},G.prototype.addLayer=function(e){Object(U.findIndex)(this.layers,function(t){return t===e})<0&&(e.parent!==this&&(e.parent=this,e.init()),this.layers.push(e))},G.prototype.removeLayer=function(e){var t=Object(U.findIndex)(this.layers,function(t){return t===e});0<=t&&this.layers.splice(t,1)},G.prototype.updateBBox=function(t,e){void 0===e&&(e=!1);var n={x:this.x,y:this.y,width:this.width,height:this.height},i=Object(U.deepMix)({},n,t);this.x=i.x,this.y=i.y,this.width=i.width,this.height=i.height,this.layerBBox=this.getLayerBBox(),this.layerRegion=this.getLayerRegion(),this.render(),e&&this.eachLayer(function(t){t.updateBBoxByParent(),t.render()}),this.canvas.draw()},G.prototype.updateBBoxByParent=function(){var t=this.layerRegion;this.x=this.parent.x+this.parent.width*t.start.x,this.y=this.parent.y+this.parent.height*t.start.y,this.width=this.parent.width*(t.end.x-t.start.x),this.height=this.parent.height*(t.end.y-t.start.y),this.layerBBox=this.getLayerBBox()},G.prototype.getGlobalPosition=function(){for(var t=this.x,e=this.y,n=this.parent;n;)t+=n.x,e+=n.y,n=n.parent;return{x:t,y:e}},G.prototype.getGlobalBBox=function(){var t=this.getGlobalPosition();return new X(t.x,t.y,this.width,this.height)},G.prototype.getOptions=function(t){var e=0,n=0;t.parent&&(e=t.parent.width,n=t.parent.height);var i={x:0,y:0,width:e,height:n};return Object(U.deepMix)({},i,t)},G.prototype.eachLayer=function(t){Object(U.each)(this.layers,t)},G.prototype.parseEvents=function(t){var r=this,o=Object(U.keys)(E);Object(U.each)(t,function(t,e){var n,i;Object(U.contains)(o,e)&&Object(U.isFunction)(t)&&(n=E[e]||e,i=t,r.on(n,i),r.eventHandlers.push({name:n,handler:i}))})},G.prototype.getLayerBBox=function(){return new X(this.x,this.y,this.width,this.height)},G.prototype.getLayerRegion=function(){if(this.parent){var t=this.parent.width,e=this.parent.height,n=this.parent.x,i=this.parent.y;return{start:{x:(this.x-n)/t,y:(this.y-i)/e},end:{x:(this.x+this.width-n)/t,y:(this.y+this.height-i)/e}}}return{start:{x:0,y:0},end:{x:1,y:1}}},G),J=n(1493),tt=n.n(J),et=n(544);(H=z=z||{}).FORE="fore",H.MID="mid",H.BG="bg",(K=W=W||{}).TOP="top",K.TOP_LEFT="top-left",K.TOP_RIGHT="top-right",K.RIGHT="right",K.RIGHT_TOP="right-top",K.RIGHT_BOTTOM="right-bottom",K.LEFT="left",K.LEFT_TOP="left-top",K.LEFT_BOTTOM="left-bottom",K.BOTTOM="bottom",K.BOTTOM_LEFT="bottom-left",K.BOTTOM_RIGHT="bottom-right",K.RADIUS="radius",K.CIRCLE="circle",K.NONE="none",($=Z=Z||{}).AXIS="axis",$.GRID="grid",$.LEGEND="legend",$.TOOLTIP="tooltip",$.ANNOTATION="annotation",$.OTHER="other";var nt,it,rt,ot,at,st,lt=3,ct=2,ut=1;(it=nt=nt||{}).BEFORE_RENDER="beforerender",it.AFTER_RENDER="afterrender",it.BEFORE_PAINT="beforepaint",it.AFTER_PAINT="afterpaint",it.BEFORE_CHANGE_DATA="beforechangedata",it.AFTER_CHANGE_DATA="afterchangedata",it.BEFORE_CLEAR="beforeclear",it.AFTER_CLEAR="afterclear",it.BEFORE_DESTROY="beforedestroy",(ot=rt=rt||{}).MOUSE_ENTER="plot:mouseenter",ot.MOUSE_DOWN="plot:mousedown",ot.MOUSE_MOVE="plot:mousemove",ot.MOUSE_UP="plot:mouseup",ot.MOUSE_LEAVE="plot:mouseleave",ot.TOUCH_START="plot:touchstart",ot.TOUCH_MOVE="plot:touchmove",ot.TOUCH_END="plot:touchend",ot.TOUCH_CANCEL="plot:touchcancel",ot.CLICK="plot:click",ot.DBLCLICK="plot:dblclick",ot.CONTEXTMENU="plot:contextmenu",ot.LEAVE="plot:leave",ot.ENTER="plot:enter",(st=at=at||{}).ACTIVE="active",st.INACTIVE="inactive",st.SELECTED="selected",st.DEFAULT="default";var ht=["color","shape","size"],pt="_origin",ft=1,dt=1,gt={};function yt(t,e){gt[t]=e}var vt,mt=n(864);function bt(t){return"number"==typeof t&&!isNaN(t)}function xt(t,e,n,i){var r,o,a,s=n,l=i;return e&&(o=t,a=getComputedStyle(o),s=(r={width:(o.clientWidth||parseInt(a.width,10))-parseInt(a.paddingLeft,10)-parseInt(a.paddingRight,10),height:(o.clientHeight||parseInt(a.height,10))-parseInt(a.paddingTop,10)-parseInt(a.paddingBottom,10)}).width?r.width:s,l=r.height?r.height:l),{width:Math.max(bt(s)?s:ft,ft),height:Math.max(bt(l)?l:dt,dt)}}function Ot(t){var e=vt.call(this)||this;e.destroyed=!1;var n=t.visible,i=void 0===n||n;return e.visible=i,e}var wt=(vt=k.default,Object(et.__extends)(Ot,vt),Ot.prototype.show=function(){this.visible||this.changeVisible(!0)},Ot.prototype.hide=function(){this.visible&&this.changeVisible(!1)},Ot.prototype.destroy=function(){this.off(),this.destroyed=!0},Ot.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},Ot),_t=n(698),Ct=(n(1385),n(1399),n(1404)),jt=n(1360),St=n(897),Mt=n(711),kt=Mt.Axis.Line,Tt=Mt.Axis.Circle,Pt=Mt.Grid.Line,At=Mt.Grid.Circle,Et=Mt.Legend.Category,Lt=Mt.Legend.Continuous,It=Mt.Tooltip.Html,Bt=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function Dt(t,e,n){var i=e||[];if(Object(U.isNumber)(t)||Object(U.isNil)(Object(U.firstValue)(i,t))&&Object(U.isEmpty)(n))return new(Object(St.getScale)("identity"))({field:t.toString(),values:[t]});var r,o,a=Object(U.valuesOfKey)(i,t),s=Object(U.get)(n,"type",(r=a[0],o="linear",Bt.test(r)?o="time":Object(U.isString)(r)&&(o="cat"),o));return new(Object(St.getScale)(s))(Object(et.__assign)({field:t,values:a},n))}function Ft(t){return t.alias||t.field}var Rt=n(636);function Nt(t,e){var n,i,r={start:{x:0,y:0},end:{x:0,y:0}};t.isRect?r=function(t){var e,n;switch(t){case W.TOP:e={x:0,y:1},n={x:1,y:1};break;case W.RIGHT:e={x:1,y:0},n={x:1,y:1};break;case W.BOTTOM:e={x:0,y:0},n={x:1,y:0};break;case W.LEFT:e={x:0,y:0},n={x:0,y:1};break;default:e=n={x:0,y:0}}return{start:e,end:n}}(e):t.isPolar&&(i=t.isTransposed?(n={x:0,y:0},{x:1,y:0}):(n={x:0,y:0},{x:0,y:1}),r={start:n,end:i});var o=r.start,a=r.end;return{start:t.convert(o),end:t.convert(a)}}function Yt(t){var e=t.start,n=t.end;return e.x===n.x}function Vt(t,e){var n=t.start,i=t.end;return Yt(t)?0<(n.y-i.y)*(e.x-n.x)?1:-1:0<(i.x-n.x)*(n.y-e.y)?-1:1}function Xt(t,e){return Object(U.get)(t,["components","axis",e],{})}function Gt(t){var e=t.x,n=t.y,i=t.circleCenter,r=n.start>n.end,o=t.isTransposed?t.convert({x:r?0:1,y:0}):t.convert({x:0,y:r?0:1}),a=[o.x-i.x,o.y-i.y],s=[1,0],l=o.y>i.y?Rt.vec2.angle(a,s):-1*Rt.vec2.angle(a,s),c=l+(e.end-e.start);return{center:i,radius:Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)),startAngle:l,endAngle:c}}function zt(t,e){return Object(U.isBoolean)(t)?!1!==t&&{}:Object(U.get)(t,[e])}function Ht(t,e){return Object(U.get)(t,"position",e)}function Wt(t,e){return Object(U.get)(e,["title","text"],Ft(t))}var qt=(Ut.prototype.init=function(){this.container||(this.container=this.createContainer());var t=this.view.getData();this.facets=this.generateFacets(t)},Ut.prototype.render=function(){this.renderViews()},Ut.prototype.update=function(){},Ut.prototype.clear=function(){this.clearFacetViews()},Ut.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},Ut.prototype.facetToView=function(t){var e=t.region,n=t.data,i=t.padding,r=void 0===i?this.cfg.padding:i,o=this.view.createView({region:e,padding:r});o.data(n||[]),t.view=o,this.beforeEachView(o,t);var a=this.cfg.eachView;return a&&a(o,t),this.afterEachView(o,t),o},Ut.prototype.createContainer=function(){return this.view.getLayer(z.FORE).addGroup()},Ut.prototype.renderViews=function(){this.createFacetViews()},Ut.prototype.createFacetViews=function(){var e=this;return this.facets.map(function(t){return e.facetToView(t)})},Ut.prototype.clearFacetViews=function(){var e=this;Object(U.each)(this.facets,function(t){t.view&&(e.view.removeView(t.view),t.view=void 0)})},Ut.prototype.getFieldValues=function(t,n){var i=[],r={};return Object(U.each)(t,function(t){var e=t[n];Object(U.isNil)(e)||r[e]||(i.push(e),r[e]=!0)}),i},Ut.prototype.getRegion=function(t,e,n,i){var r=1/(0===e?1:e),o=1/(0===t?1:t);return{start:{x:r*n,y:o*i},end:{x:r*(n+1),y:o*(i+1)}}},Ut.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},Ut.prototype.getDefaultTitleCfg=function(){return{style:{fontSize:14,fill:"#666",fontFamily:this.view.getTheme().fontFamily}}},Ut.prototype.processAxis=function(t,e){var n,i,r,o,a,s,l=t.getOptions(),c=l.coordinate,u=t.geometries;"rect"===Object(U.get)(c,"type","rect")&&u.length&&(Object(U.isNil)(l.axes)&&(l.axes={}),n=l.axes,r=(i=u[0].getXYFields())[0],o=i[1],a=zt(n,r),s=zt(n,o),!1!==a&&(l.axes[r]=this.getXAxisOption(r,n,a,e)),!1!==s&&(l.axes[o]=this.getYAxisOption(o,n,s,e)))},Ut.prototype.getFacetDataFilter=function(t){return function(i){return Object(U.every)(t,function(t){var e=t.field,n=t.value;return!(!Object(U.isNil)(n)&&e)||i[e]===n})}},Ut);function Ut(t,e){this.destroyed=!1,this.facets=[],this.view=t,this.cfg=Object(U.deepMix)({},this.getDefaultCfg(),e)}function Kt(t,e){Zt[Object(U.lowerCase)(t)]=e}var Zt={};function $t(t,e){this.context=t,this.cfg=e,t.addAction(this)}var Qt,Jt=($t.prototype.applyCfg=function(t){Object(U.assign)(this,t)},$t.prototype.init=function(){this.applyCfg(this.cfg)},$t.prototype.destroy=function(){this.context.removeAction(this),this.context=null},$t);function te(){return null!==Qt&&Qt.apply(this,arguments)||this}var ee=(Qt=Jt,Object(et.__extends)(te,Qt),te.prototype.execute=function(){this.callback&&this.callback(this.context)},te.prototype.destroy=function(){Qt.prototype.destroy.call(this),this.callback=null},te),ne={};function ie(t,e,n){ne[t]={ActionClass:e,cfg:n}}function re(t,e,n,i){return{x:t+n*Math.cos(i),y:e+n*Math.sin(i)}}function oe(t,e,n,i,r,o){void 0===o&&(o=0);var a=re(t,e,n,i),s=re(t,e,n,r),l=re(t,e,o,i),c=re(t,e,o,r);if(r-i==2*Math.PI){var u=re(t,e,n,i+Math.PI),h=re(t,e,o,i+Math.PI),p=[["M",a.x,a.y],["A",n,n,0,1,1,u.x,u.y],["A",n,n,0,1,1,s.x,s.y],["M",l.x,l.y]];return o&&(p.push(["A",o,o,0,1,0,h.x,h.y]),p.push(["A",o,o,0,1,0,c.x,c.y])),p.push(["M",a.x,a.y]),p.push(["Z"]),p}var f=r-i<=Math.PI?0:1,d=[["M",a.x,a.y],["A",n,n,0,f,1,s.x,s.y],["L",c.x,c.y]];return o&&d.push(["A",o,o,0,f,0,l.x,l.y]),d.push(["L",a.x,a.y]),d.push(["Z"]),d}function ae(t,e,n,i,r){var o=re(t,e,n,i),a=re(t,e,n,r);if(Object(U.isNumberEqual)(r-i,2*Math.PI)){var s=re(t,e,n,i+Math.PI);return[["M",o.x,o.y],["A",n,n,0,1,1,s.x,s.y],["A",n,n,0,1,1,o.x,o.y],["A",n,n,0,1,0,s.x,s.y],["A",n,n,0,1,0,o.x,o.y],["Z"]]}var l=r-i<=Math.PI?0:1;return[["M",o.x,o.y],["A",n,n,0,l,1,a.x,a.y]]}function se(t,e){var n,i=function(t){if(Object(U.isEmpty)(t))return null;var e=t[0].x,n=t[0].x,i=t[0].y,r=t[0].y;return Object(U.each)(t,function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,i=i>t.y?t.y:i,r=r<t.y?t.y:r}),{minX:e,maxX:n,minY:i,maxY:r,centerX:(e+n)/2,centerY:(i+r)/2}}(t.points),r=e.startAngle,o=e.endAngle-r,a=e.isTransposed?(n=i.maxY*o,i.minY*o):(n=i.maxX*o,i.minX*o);return{startAngle:a+=r,endAngle:n+=r}}function le(t,e){var n=t.attr(),i=e.attr();return Object(U.each)(n,function(t,e){void 0===i[e]&&(i[e]=void 0)}),i}function ce(t,e,n){var i=Math.min(e,n),r=Math.max(e,n);return i<=t&&t<=r}function ue(e,t){return t.forEach(function(t){delete e[t]}),e}function he(t,e,n){void 0===e&&(e=[]),void 0===n&&(n={});for(var i=0,r=t;i<r.length;i++){var o=r[i];n[o]||(e.push(o),n[o]=!0)}return e}function pe(t){if(t.isPolar&&!t.isTransposed)return(t.endAngle-t.startAngle)*t.getRadius();var e=t.convert({x:0,y:0}),n=t.convert({x:1,y:0});return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function fe(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function de(t,e){var n,i,r,o=!1;return t&&(o="theta"===t.type?(n=t.start,i=t.end,ce(e.x,n.x,i.x)&&ce(e.y,n.y,i.y)):ce((r=t.invert(e)).x,0,1)&&ce(r.y,0,1)),o}function ge(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)}function ye(t,n){void 0===n&&(n=0);var e,i=t.start,r=t.end,o=t.getWidth(),a=t.getHeight();if(t.isPolar){var s=t.startAngle,l=t.endAngle,c=t.getCenter(),u=t.getRadius();return{type:"path",startState:{path:oe(c.x,c.y,u+n,s,s)},endState:function(t){var e=(l-s)*t+s;return{path:oe(c.x,c.y,u+n,s,e)}},attrs:{path:oe(c.x,c.y,u+n,s,l)}}}return e=t.isTransposed?{height:a+2*n}:{width:o+2*n},{type:"rect",startState:{x:i.x-n,y:r.y-n,width:t.isTransposed?o+2*n:0,height:t.isTransposed?0:a+2*n},endState:e,attrs:{x:i.x-n,y:r.y-n,width:o+2*n,height:a+2*n}}}function ve(t,e){for(var n=[t[0]],i=1,r=t.length;i<r;i+=2){var o=e.convert({x:t[i],y:t[i+1]});n.push(o.x,o.y)}return n}var me=function(t,e,n,i){var r,o,a=[],s=!!i;if(s){h=[1/0,1/0],p=[-1/0,-1/0];for(var l=0,c=t.length;l<c;l++)var u=t[l],h=Rt.vec2.min([0,0],h,u),p=Rt.vec2.max([0,0],p,u);h=Rt.vec2.min([0,0],h,i[0]),p=Rt.vec2.max([0,0],p,i[1])}for(var l=0,f=t.length;l<f;l++){u=t[l];if(n)r=t[l?l-1:f-1],o=t[(l+1)%f];else{if(0===l||l===f-1){a.push(u);continue}r=t[l-1],o=t[l+1]}var d=[0,0],d=Rt.vec2.sub(d,o,r);d=Rt.vec2.scale(d,d,e);var g=Rt.vec2.distance(u,r),y=Rt.vec2.distance(u,o),v=g+y;0!==v&&(g/=v,y/=v);var m=Rt.vec2.scale([0,0],d,-g),b=Rt.vec2.scale([0,0],d,y),x=Rt.vec2.add([0,0],u,m),O=Rt.vec2.add([0,0],u,b);s&&(x=Rt.vec2.max([0,0],x,h),x=Rt.vec2.min([0,0],x,p),O=Rt.vec2.max([0,0],O,h),O=Rt.vec2.min([0,0],O,p)),a.push(x),a.push(O)}return n&&a.push(a.shift()),a};function be(t,e,n){for(var i=!!e,r=[],o=0,a=t.length;o<a;o+=2)r.push([t[o],t[o+1]]);for(var s,l,c,u=me(r,.4,i,n),h=r.length,p=[],o=0;o<h-1;o++)s=u[2*o],l=u[2*o+1],c=r[o+1],p.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]]);return i&&(s=u[h],l=u[h+1],c=r[0],p.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]])),p}function xe(t,e){return function(t,e){var n=[];if(t.length){n.push(["M",t[0].x,t[0].y]);for(var i=1,r=t.length;i<r;i+=1){var o=t[i];n.push(["L",o.x,o.y])}e&&n.push(["Z"])}return n}(t,e)}function Oe(t,e,n){var i=[],r=t[0],o=null;if(t.length<=2)return xe(t,e);for(var a=0,s=t.length;a<s;a++){var l=t[a];o&&o.x===l.x&&o.y===l.y||(i.push(l.x),i.push(l.y),o=l)}var c=be(i,e,n||[[0,0],[1,1]]);return c.unshift(["M",r.x,r.y]),c}function we(b,x){var O,w,_,r,C=[];return Object(U.each)(x,function(t,e){var n,i,r,o,a,s,l,c,u,h,p,f,d,g,y,v,m;switch(t[0].toLowerCase()){case"m":case"c":case"q":C.push(ve(t,b));break;case"l":O=x[e-1],w=t,_=b.isTransposed,(_?O[O.length-2]===w[1]:O[O.length-1]===w[2])?C=C.concat((n=O,i=w,s=(r=b).isTransposed,l=r.startAngle,c=r.endAngle,u={x:n[1],y:n[2]},h={x:i[1],y:i[2]},p=[],f=s?"y":"x",d=Math.abs(h[f]-u[f])*(c-l),g=u[f]<=h[f]?1:0,y=d>Math.PI?1:0,v=r.convert(h),.5<=(m=fe(r,v))&&(d==2*Math.PI&&(o={x:(h.x+u.x)/2,y:(h.y+u.y)/2},a=r.convert(o),p.push(["A",m,m,0,y,g,a.x,a.y])),p.push(["A",m,m,0,y,g,v.x,v.y])),p)):C.push(ve(t,b));break;case"z":default:C.push(t)}}),r=C,Object(U.each)(r,function(t,e){var n,i;"a"===t[0].toLowerCase()&&(n=r[e-1],(i=r[e+1])&&"a"===i[0].toLowerCase()?n&&"l"===n[0].toLowerCase()&&(n[0]="M"):n&&"a"===n[0].toLowerCase()&&i&&"l"===i[0].toLowerCase()&&(i[0]="M"))}),C}var _e=(Ce.fromRange=function(t,e,n,i){return new Ce(t,e,n-t,i-e)},Object.defineProperty(Ce.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(Ce.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(Ce.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(Ce.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(Ce.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(Ce.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(Ce.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(Ce.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(Ce.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(Ce.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(Ce.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(Ce.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Ce.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},Ce.prototype.clone=function(){return new Ce(this.x,this.y,this.width,this.height)},Ce.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return Object(U.each)(t,function(t){n.x=Math.min(t.x,n.x),n.y=Math.min(t.y,n.y),n.width=Math.max(t.maxX,n.maxX)-n.x,n.height=Math.max(t.maxY,n.maxY)-n.y}),n},Ce.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.clone();return Object(U.each)(t,function(t){n.x=Math.max(t.x,n.x),n.y=Math.max(t.y,n.y),n.width=Math.min(t.maxX,n.maxX)-n.x,n.height=Math.min(t.maxY,n.maxY)-n.y}),n},Ce.prototype.cut=function(t,e){var n=t.width,i=t.height;switch(e){case W.TOP:case W.TOP_LEFT:case W.TOP_RIGHT:return Ce.fromRange(this.minX,this.minY+i,this.maxX,this.maxY);case W.RIGHT:case W.RIGHT_TOP:case W.RIGHT_BOTTOM:return Ce.fromRange(this.minX,this.minY,this.maxX-n,this.maxY);case W.BOTTOM:case W.BOTTOM_LEFT:case W.BOTTOM_RIGHT:return Ce.fromRange(this.minX,this.minY,this.maxX,this.maxY-i);case W.LEFT:case W.LEFT_TOP:case W.LEFT_BOTTOM:return Ce.fromRange(this.minX+n,this.minY,this.maxX,this.maxY);default:return this}},Ce.prototype.shrink=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return new Ce(this.x+r,this.y+e,this.width-r-n,this.height-e-i)},Ce.prototype.exceed=function(t){return[Math.max(-this.minY+t.minY,0),Math.max(this.maxX-t.maxX,0),Math.max(this.maxY-t.maxY,0),Math.max(-this.minX+t.minX,0)]},Ce.prototype.size=function(){return this.width*this.height},Ce);function Ce(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=t,this.y=e,this.height=i,this.width=n}var je=n(1496),Se=n.n(je);function Me(t,e){var n=t.event.target.getCanvasBBox();return n.width>=e||n.height>=e?n:null}function ke(t){var e,n=t.event.target;return n&&(e=n.get("element")),e}function Te(t){var e,n=t.event.target;return n&&(e=n.get("delegateObject")),e}function Pe(t){var e=t.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function Ae(t){return t&&t.component&&t.component.isList()}function Ee(t){return t&&t.component&&t.component.isSlider()}function Le(t){var e=t.event.target;return e&&"mask"===e.get("name")}function Ie(t,e){var n,i,r,o,a,s,l;if("path"===t.event.target.get("type")){var c=(a=e,s=t.event.target,(l=s.getCanvasBBox()).width>=a||l.height>=a?s.attr("path"):null);if(!c)return;return n=t.view,i=c,r=De(n),o=Ye(i),r.filter(function(t){var e,n,i,r=t.shape;return n="path"===r.get("type")?Ye(r.attr("path")):(e=r.getCanvasBBox(),[[(i=e).minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]),Se()(o,n)})}var u=Me(t,e);return u?Ne(t.view,u):null}function Be(t,e,n){var i=Me(t,n);if(!i)return null;var r=t.view,o=He(r,e,{x:i.x,y:i.y}),a=He(r,e,{x:i.maxX,y:i.maxY});return Ne(e,{minX:o.x,minY:o.y,maxX:a.x,maxY:a.y})}function De(t){var e=t.geometries,n=[];return Object(U.each)(e,function(t){var e=t.elements;n=n.concat(e)}),t.views&&t.views.length&&Object(U.each)(t.views,function(t){n=n.concat(De(t))}),n}function Fe(t,n){var e=t.geometries,i=[];return Object(U.each)(e,function(t){var e=t.getElementsBy(function(t){return t.hasState(n)});i=i.concat(e)}),i}function Re(t,e){var n=t.getModel().data,i=Object(U.isArray)(n)?n[0][e]:n[e];return i}function Ne(t,r){var e=De(t),o=[];return Object(U.each)(e,function(t){var e,n,i=t.shape.getCanvasBBox();e=r,(n=i).minX>e.maxX||n.maxX<e.minX||n.minY>e.maxY||n.maxY<e.minY||o.push(t)}),o}function Ye(t){var i=[];return Object(U.each)(t,function(t){if("A"!==t[0])for(var e=1;e<t.length;e+=2)i.push([t[e],t[e+1]]);else{var n=t.length;i.push([t[n-2],t[n-1]])}}),i}function Ve(t){return t.getComponents().map(function(t){return t.component})}function Xe(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function Ge(t,e){return t.x<=e.x&&t.maxX>=e.x&&t.y<=e.y&&t.maxY>e.y}function ze(e){var t=e.parent,n=null;return t&&(n=t.views.filter(function(t){return t!==e})),n}function He(t,e,n){var i,r=(i=n,t.getCoordinate().invert(i));return e.getCoordinate().convert(r)}function We(t,e,n,i){var r=!1;return Object(U.each)(t,function(t){if(t[n]===e[n]&&t[i]===e[i])return!(r=!0)}),r}function qe(t,e){var n=t.getScaleByField(e);return!n&&t.views&&Object(U.each)(t.views,function(t){if(n=qe(t,e))return!1}),n}function Ue(t){this.actions=[],this.event=null,this.cacheMap={},this.view=t}var Ke=(Ue.prototype.cache=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)return this.cacheMap[t[0]];2===t.length&&(this.cacheMap[t[0]]=t[1])},Ue.prototype.getAction=function(e){return this.actions.find(function(t){return t.name===e})},Ue.prototype.addAction=function(t){this.actions.push(t)},Ue.prototype.removeAction=function(t){var e=this.actions,n=this.actions.indexOf(t);0<=n&&e.splice(n,1)},Ue.prototype.getCurrentPoint=function(){var t=this.event;return t?t.target instanceof HTMLElement?this.view.getCanvas().getPointByClient(t.clientX,t.clientY):{x:t.x,y:t.y}:null},Ue.prototype.getCurrentShape=function(){return Object(U.get)(this.event,["gEvent","shape"])},Ue.prototype.isInPlot=function(){var t=this.getCurrentPoint();return!!t&&this.view.isPointInPlot(t)},Ue.prototype.isInShape=function(t){var e=this.getCurrentShape();return!!e&&e.get("name")===t},Ue.prototype.isInComponent=function(n){var t=Ve(this.view),i=this.getCurrentPoint();return!!i&&!!t.find(function(t){var e=t.getBBox();return(!n||t.get("name")===n)&&Ge(e,i)})},Ue.prototype.destroy=function(){this.view=null,this.event=null,Object(U.each)(this.actions.slice(),function(t){t.destroy()}),this.actions=null,this.cacheMap=null},Ue),Ze=($e.prototype.init=function(){this.initEvents()},$e.prototype.initEvents=function(){},$e.prototype.clearEvents=function(){},$e.prototype.destroy=function(){this.clearEvents()},$e);function $e(t,e){this.view=t,this.cfg=e}function Qe(t,e){var n,i,r,o,a=t.split(":"),s=a[0],l=e.getAction(s)||(i=e,r=ne[n=s],o=null,r&&((o=new r.ActionClass(i,r.cfg)).name=n,o.init()),o);if(!l)throw new Error("There is no action named "+s);return{action:l,methodName:a[1]}}function Je(t){var e=t.action,n=t.methodName;if(!e[n])throw new Error("Action("+e.name+") doesn't have a method called "+n);e[n]()}var tn,en="start",nn="showEnable",rn="end",on="rollback",an="processing";function sn(t,e){var n=tn.call(this,t,e)||this;return n.callbackCaches={},n.emitCaches={},n.steps=e,n}var ln=(tn=Ze,Object(et.__extends)(sn,tn),sn.prototype.init=function(){this.initContext(),tn.prototype.init.call(this)},sn.prototype.destroy=function(){tn.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},sn.prototype.initEvents=function(){var i=this;Object(U.each)(this.steps,function(t,n){Object(U.each)(t,function(t){var e=i.getActionCallback(n,t);e&&i.bindEvent(t.trigger,e)})})},sn.prototype.clearEvents=function(){var i=this;Object(U.each)(this.steps,function(t,n){Object(U.each)(t,function(t){var e=i.getActionCallback(n,t);e&&i.offEvent(t.trigger,e)})})},sn.prototype.initContext=function(){var t=this.view,r=new Ke(t);this.context=r;var e=this.steps;Object(U.each)(e,function(t){Object(U.each)(t,function(e){var t,n,i;Object(U.isFunction)(e.action)?e.actionObject={action:(n=e.action,(i=new ee(r)).callback=n,i.name="callback",i),methodName:"execute"}:Object(U.isString)(e.action)?e.actionObject=Qe(e.action,r):Object(U.isArray)(e.action)&&(t=e.action,e.actionObject=[],Object(U.each)(t,function(t){e.actionObject.push(Qe(t,r))}))})})},sn.prototype.isAllowStep=function(t){var e=this.currentStepName,n=this.steps;if(e===t)return!0;if(t===nn)return!0;if(t===an)return e===en;if(t===en)return e!==an;if(t===rn)return e===an||e===en;if(t===on){if(n[rn])return e===rn;if(e===en)return!0}return!1},sn.prototype.isAllowExcute=function(t,e){if(this.isAllowStep(t)){var n=this.getKey(t,e);return e.once&&this.emitCaches[n]?!1:!e.isEnable||e.isEnable(this.context)}return!1},sn.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},sn.prototype.afterExecute=function(t,e){t!==nn&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,e);this.emitCaches[n]=!0},sn.prototype.getKey=function(t,e){return t+e.trigger+e.action},sn.prototype.getActionCallback=function(t,n){var i=this,r=this.context,e=this.callbackCaches,o=n.actionObject;if(n.action&&o){var a,s=this.getKey(t,n);return e[s]||(a=function(e){r.event=e,i.isAllowExcute(t,n)?(Object(U.isArray)(o)?Object(U.each)(o,function(t){r.event=e,Je(t)}):(r.event=e,Je(o)),i.afterExecute(t,n),n.callback&&(r.event=e,n.callback(r))):r.event=null},n.debounce?e[s]=Object(U.debounce)(a,n.debounce.wait,n.debounce.immediate):n.throttle?e[s]=Object(U.throttle)(a,n.throttle.wait,{leading:n.throttle.leading,trailing:n.throttle.trailing}):e[s]=a),e[s]}return null},sn.prototype.bindEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.addEventListener(n[1],e):"document"===n[0]?document.addEventListener(n[1],e):this.view.on(t,e)},sn.prototype.offEvent=function(t,e){var n=t.split(":");"window"===n[0]?window.removeEventListener(n[1],e):"document"===n[0]?document.removeEventListener(n[1],e):this.view.off(t,e)},sn),cn={};function un(t,e){cn[Object(U.lowerCase)(t)]=e}function hn(t,e,n){var i,r=(i=t,cn[Object(U.lowerCase)(i)]);if(!r)return null;if(Object(U.isPlainObject)(r)){var o=Object(U.mix)(Object(U.clone)(r),n);return new ln(e,o)}return new r(e,n)}var pn=n(1388);function fn(t){var e,a={point:{default:{fill:t.pointFillColor,r:t.pointSize,stroke:t.pointBorderColor,lineWidth:t.pointBorder,fillOpacity:t.pointFillOpacity},active:{stroke:t.pointActiveBorderColor,lineWidth:t.pointActiveBorder},selected:{stroke:t.pointSelectedBorderColor,lineWidth:t.pointSelectedBorder},inactive:{fillOpacity:t.pointInactiveFillOpacity,strokeOpacity:t.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:t.hollowPointFillColor,lineWidth:t.hollowPointBorder,stroke:t.hollowPointBorderColor,strokeOpacity:t.hollowPointBorderOpacity,r:t.hollowPointSize},active:{stroke:t.hollowPointActiveBorderColor,strokeOpacity:t.hollowPointActiveBorderOpacity},selected:{lineWidth:t.hollowPointSelectedBorder,stroke:t.hollowPointSelectedBorderColor,strokeOpacity:t.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:t.hollowPointInactiveBorderOpacity}},area:{default:{fill:t.areaFillColor,fillOpacity:t.areaFillOpacity,stroke:null},active:{fillOpacity:t.areaActiveFillOpacity},selected:{fillOpacity:t.areaSelectedFillOpacity},inactive:{fillOpacity:t.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:t.hollowAreaBorderColor,lineWidth:t.hollowAreaBorder,strokeOpacity:t.hollowAreaBorderOpacity},active:{fill:null,lineWidth:t.hollowAreaActiveBorder},selected:{fill:null,lineWidth:t.hollowAreaSelectedBorder},inactive:{strokeOpacity:t.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:t.intervalFillColor,fillOpacity:t.intervalFillOpacity},active:{stroke:t.intervalActiveBorderColor,lineWidth:t.intervalActiveBorder},selected:{stroke:t.intervalSelectedBorderColor,lineWidth:t.intervalSelectedBorder},inactive:{fillOpacity:t.intervalInactiveFillOpacity,strokeOpacity:t.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:t.hollowIntervalFillColor,stroke:t.hollowIntervalBorderColor,lineWidth:t.hollowIntervalBorder,strokeOpacity:t.hollowIntervalBorderOpacity},active:{stroke:t.hollowIntervalActiveBorderColor,lineWidth:t.hollowIntervalActiveBorder,strokeOpacity:t.hollowIntervalActiveBorderOpacity},selected:{stroke:t.hollowIntervalSelectedBorderColor,lineWidth:t.hollowIntervalSelectedBorder,strokeOpacity:t.hollowIntervalSelectedBorderOpacity},inactive:{stroke:t.hollowIntervalInactiveBorderColor,lineWidth:t.hollowIntervalInactiveBorder,strokeOpacity:t.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:t.lineBorderColor,lineWidth:t.lineBorder,strokeOpacity:t.lineBorderOpacity,fill:null,lineAppendWidth:10},active:{lineWidth:t.lineActiveBorder},selected:{lineWidth:t.lineSelectedBorder},inactive:{strokeOpacity:t.lineInactiveBorderOpacity}}},n={title:{autoRotate:!0,position:"center",style:{fill:t.axisTitleTextFillColor,fontSize:t.axisTitleTextFontSize,lineHeight:t.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},label:{autoRotate:!0,autoEllipsis:!0,autoHide:!0,offset:16,style:{fill:t.axisLabelFillColor,fontSize:t.axisLabelFontSize,lineHeight:t.axisLabelLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},line:{style:{lineWidth:t.axisLineBorder,stroke:t.axisLineBorderColor}},tickLine:{style:{lineWidth:t.axisTickLineBorder,stroke:t.axisTickLineBorderColor},alignTick:!0,length:t.axisTickLineLength},subTickLine:null,animate:!0},i={line:{type:"line",style:{stroke:t.axisGridBorderColor,lineWidth:t.axisGridBorder,lineDash:t.axisGridLineDash}},alignTick:!0,animate:!0},r={title:null,marker:{symbol:"circle",style:{r:t.legendCircleMarkerSize,fill:t.legendMarkerColor}},itemName:{spacing:5,style:{fill:t.legendItemNameFillColor,fontFamily:t.fontFamily,fontSize:t.legendItemNameFontSize,lineHeight:t.legendItemNameLineHeight,fontWeight:t.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:.2};return{background:t.backgroundColor,defaultColor:t.brandColor,padding:"auto",fontFamily:t.fontFamily,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:t.paletteQualitative10,colors20:t.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:function(t){var e=t.geometry.coordinate;if(e.isPolar&&e.isTransposed){var n=se(t.getModel(),e),i=(n.startAngle+n.endAngle)/2,r=7.5*Math.cos(i),o=7.5*Math.sin(i);return{matrix:Rt.ext.transform(null,[["t",r,o]])}}return a.interval.selected}}},"hollow-rect":{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},line:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},tick:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},funnel:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:a.interval.selected}},pyramid:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:a.interval.selected}}},line:{line:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},dot:{default:{style:Object(et.__assign)(Object(et.__assign)({},a.line.default),{lineDash:[1,1]})},active:{style:Object(et.__assign)(Object(et.__assign)({},a.line.active),{lineDash:[1,1]})},inactive:{style:Object(et.__assign)(Object(et.__assign)({},a.line.inactive),{lineDash:[1,1]})},selected:{style:Object(et.__assign)(Object(et.__assign)({},a.line.selected),{lineDash:[1,1]})}},dash:{default:{style:Object(et.__assign)(Object(et.__assign)({},a.line.default),{lineDash:[5.5,1]})},active:{style:Object(et.__assign)(Object(et.__assign)({},a.line.active),{lineDash:[5.5,1]})},inactive:{style:Object(et.__assign)(Object(et.__assign)({},a.line.inactive),{lineDash:[5.5,1]})},selected:{style:Object(et.__assign)(Object(et.__assign)({},a.line.selected),{lineDash:[5.5,1]})}},smooth:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},hv:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},vh:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},hvh:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},vhv:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}}},polygon:{polygon:{default:{style:a.interval.default},active:{style:a.interval.active},inactive:{style:a.interval.inactive},selected:{style:a.interval.selected}}},point:{circle:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},square:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},bowtie:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},diamond:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},hexagon:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},triangle:{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},"triangle-down":{default:{style:a.point.default},active:{style:a.point.active},inactive:{style:a.point.inactive},selected:{style:a.point.selected}},"hollow-circle":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-square":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-bowtie":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-diamond":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-hexagon":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-triangle":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},"hollow-triangle-down":{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},cross:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},tick:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},plus:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},hyphen:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}},line:{default:{style:a.hollowPoint.default},active:{style:a.hollowPoint.active},inactive:{style:a.hollowPoint.inactive},selected:{style:a.hollowPoint.selected}}},area:{area:{default:{style:a.area.default},active:{style:a.area.active},inactive:{style:a.area.inactive},selected:{style:a.area.selected}},smooth:{default:{style:a.area.default},active:{style:a.area.active},inactive:{style:a.area.inactive},selected:{style:a.area.selected}},line:{default:{style:a.hollowArea.default},active:{style:a.hollowArea.active},inactive:{style:a.hollowArea.inactive},selected:{style:a.hollowArea.selected}},"smooth-line":{default:{style:a.hollowArea.default},active:{style:a.hollowArea.active},inactive:{style:a.hollowArea.inactive},selected:{style:a.hollowArea.selected}}},schema:{candle:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}},box:{default:{style:a.hollowInterval.default},active:{style:a.hollowInterval.active},inactive:{style:a.hollowInterval.inactive},selected:{style:a.hollowInterval.selected}}},edge:{line:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},vhv:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},smooth:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}},arc:{default:{style:a.line.default},active:{style:a.line.active},inactive:{style:a.line.inactive},selected:{style:a.line.selected}}}},components:{axis:{top:Object(U.deepMix)({},n,{position:"top",grid:null,title:null,verticalLimitLength:.5}),bottom:Object(U.deepMix)({},n,{position:"bottom",grid:null,title:null,verticalLimitLength:.5}),left:Object(U.deepMix)({},n,{position:"left",label:{offset:8},title:null,line:null,tickLine:null,grid:i,verticalLimitLength:1/3}),right:Object(U.deepMix)({},n,{position:"right",label:{offset:8},title:null,line:null,tickLine:null,grid:i,verticalLimitLength:1/3}),circle:Object(U.deepMix)({},n,{title:null,label:{offset:8},grid:Object(U.deepMix)({},i,{line:{type:"line"}})}),radius:Object(U.deepMix)({},n,{title:null,label:{offset:8},grid:Object(U.deepMix)({},i,{line:{type:"circle"}})})},legend:{right:Object(U.deepMix)({},r,{layout:"vertical"}),left:Object(U.deepMix)({},r,{layout:"vertical"}),top:Object(U.deepMix)({},r,{layout:"horizontal"}),bottom:Object(U.deepMix)({},r,{layout:"horizontal"}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:t.sliderRailHeight,defaultLength:t.sliderRailWidth,style:{fill:t.sliderRailFillColor,stroke:t.sliderRailBorderColor,lineWidth:t.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:t.sliderLabelTextFillColor,fontSize:t.sliderLabelTextFontSize,lineHeight:t.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:t.fontFamily}},handler:{size:t.sliderHandlerWidth,style:{fill:t.sliderHandlerFillColor,stroke:t.sliderHandlerBorderColor}},slidable:!0},margin:[0,0,0,0]},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:t.tooltipCrosshairsBorderColor,lineWidth:t.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:((e={})[""+pn.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:t.tooltipContainerFillColor,opacity:t.tooltipContainerFillOpacity,boxShadow:t.tooltipContainerShadow,borderRadius:t.tooltipContainerBorderRadius+"px",color:t.tooltipTextFillColor,fontSize:t.tooltipTextFontSize+"px",fontFamily:t.fontFamily,lineHeight:t.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},e[""+pn.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},e[""+pn.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},e[""+pn.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e[""+pn.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e[""+pn.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:t.annotationArcBorderColor,lineWidth:t.annotationArcBorder},animate:!0},line:{style:{stroke:t.annotationLineBorderColor,lineDash:t.annotationLineDash,lineWidth:t.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textAlign:"start",fontFamily:t.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:t.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:t.annotationRegionBorder,stroke:t.annotationRegionBorderColor,fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:t.brandColor,lineWidth:2}},line:{style:{stroke:t.annotationLineBorderColor,lineWidth:t.annotationLineBorder},length:t.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:t.annotationRegionFillColor,fillOpacity:t.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:t.annotationTextFillColor,stroke:t.annotationTextBorderColor,lineWidth:t.annotationTextBorder,fontSize:t.annotationTextFontSize,fontFamily:t.fontFamily}},animate:!0}}},labels:{offset:12,style:{fill:t.labelFillColor,fontSize:t.labelFontSize,fontFamily:t.fontFamily,stroke:t.labelBorderColor,lineWidth:t.labelBorder},autoRotate:!0},innerLabels:{style:{fill:t.innerLabelFillColor,fontSize:t.innerLabelFontSize,fontFamily:t.fontFamily,stroke:t.innerLabelBorderColor,lineWidth:t.innerLabelBorder},autoRotate:!0},pieLabels:{labelHeight:14,offset:30,labelLine:{style:{lineWidth:t.labelLineBorder}},autoRotate:!0}}}var dn="#000",gn="#595959",yn="#8C8C8C",vn="#BFBFBF",mn="#D9D9D9",bn="#FFFFFF",xn=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],On={default:fn({backgroundColor:"transparent",brandColor:xn[0],paletteQualitative10:xn,paletteQualitative20:["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:'"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,\n  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n  "Noto Color Emoji"',axisLineBorderColor:vn,axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:gn,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:vn,axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:mn,axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:yn,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:mn,axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:yn,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:xn[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:gn,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:mn,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:yn,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:vn,annotationArcBorderColor:mn,annotationArcBorder:.5,annotationLineBorderColor:vn,annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:gn,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:"#F2F2F2",annotationTextBorder:1.5,annotationRegionFillColor:dn,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:vn,tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:gn,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:gn,labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:bn,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:vn,pointFillColor:xn[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:bn,pointBorderOpacity:1,pointActiveBorderColor:dn,pointSelectedBorder:2,pointSelectedBorderColor:dn,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:xn[0],hollowPointBorderOpacity:.95,hollowPointFillColor:bn,hollowPointActiveBorder:1,hollowPointActiveBorderColor:dn,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:dn,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:xn[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:xn[0],areaFillOpacity:.25,areaActiveFillColor:xn[0],areaActiveFillOpacity:.5,areaSelectedFillColor:xn[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:xn[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:dn,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:dn,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:xn[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:dn,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:dn,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:xn[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:bn,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:dn,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:dn,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3})};function wn(t){return Object(U.get)(On,Object(U.lowerCase)(t),On.default)}function _n(t,e,n){var i=n.translate(t),r=n.translate(e);return Object(U.isNumberEqual)(i,r)}function Cn(t,e,n){var i=n.coordinate,r=n.getYScale(),o=r.field,a=i.invert(e),s=r.invert(a.y);return Object(U.find)(t,function(t){var e=t[pt];return e[o][0]<=s&&e[o][1]>=s})||t[t.length-1]}var jn=Object(U.memoize)(function(t){if(t.isCategory)return 1;for(var e=t.values,n=e.length,i=t.translate(e[0]),r=i,o=0;o<n;o++){var a=e[o],s=t.translate(a);s<i&&(i=s),r<s&&(r=s)}return(r-i)/(n-1)});function Sn(t){for(var e,n,i,r=0,o=(e=t,n=Object(U.values)(e.attributes),Object(U.filter)(n,function(t){return Object(U.contains)(ht,t.type)}));r<o.length;r++){var a=o[r],s=a.getScale(a.type);if(s&&s.isLinear){i=s;break}}var l=t.getXScale(),c=t.getYScale();return i||c||l}function Mn(t,e,n){if(0===e.length)return null;var i=n.type,r=n.getXScale(),o=n.getYScale(),a=r.field,s=o.field,l=null;if("heatmap"===i||"point"===i){for(var c=n.coordinate.invert(t),u=r.invert(c.x),h=o.invert(c.y),p=1/0,f=0;f<e.length;f++){var d=e[f],g=d[pt],y=Math.pow(g[a]-u,2)+Math.pow(g[s]-h,2);y<p&&(p=y,l=d)}return l}var v,m,b,x,O,w,_,C,j=e[0],S=e[e.length-1],M=(v=t,b=(m=n).coordinate,x=m.getXScale(),O=x.range,w=O[O.length-1],_=O[0],C=b.invert(v).x,b.isPolar&&(1+w)/2<C&&(C=_),x.translate(x.invert(C))),k=j[pt][a],T=j[pt][s],P=S[pt][a],A=o.isLinear&&Object(U.isArray)(T);if(Object(U.isArray)(k)){for(f=0;f<e.length;f++){g=(F=e[f])[pt];if(r.translate(g[a][0])<=M&&r.translate(g[a][1])>=M){if(!A){l=F;break}Object(U.isArray)(l)||(l=[]),l.push(F)}}Object(U.isArray)(l)&&(l=Cn(l,t,n))}else{var E=void 0;if(r.isLinear||"timeCat"===r.type){if((M>r.translate(P)||M<r.translate(k))&&(M>r.max||M<r.min))return null;for(var L,I=0,B=e.length-1;I<=B;){var D=e[L=Math.floor((I+B)/2)][pt][a];if(_n(D,M,r))return e[L];r.translate(D)<=r.translate(M)?(I=L+1,S=e[L],E=e[L+1]):(0===B&&(S=e[0]),B=L-1)}}else{for(var F,f=0;f<e.length;f++){if(_n((g=(F=e[f])[pt])[a],M,r)){if(!A){l=F;break}Object(U.isArray)(l)||(l=[]),l.push(F)}else r.translate(g[a])<=M&&(S=F,E=e[f+1])}Object(U.isArray)(l)&&(l=Cn(l,t,n))}S&&E&&Math.abs(r.translate(S[pt][a])-M)>Math.abs(r.translate(E[pt][a])-M)&&(S=E)}var R=jn(n.getXScale());return!l&&Math.abs(r.translate(S[pt][a])-M)<=R/2&&(l=S),l}function kn(i,t,e){void 0===e&&(e="");var n,r,o=i[pt],a=function(t,e,n){var i=n;n||(i=e.getAttribute("position").getFields()[0]);var r=e.scales;return r[i]?r[i].getText(t[i]):Object(U.hasKey)(t,i)?t[i]:i}(o,t,e),s=t.tooltipOption,l=t.theme.defaultColor,c=[];function u(t,e){var n;Object(U.isNil)(e)||""===e||(n={title:a,data:o,mappingData:i,name:t,value:e,color:i.color||l,marker:!0},c.push(n))}if(Object(U.isObject)(s)){var h=s.fields,p=s.callback;if(p){var f=h.map(function(t){return i[pt][t]}),d=p.apply(void 0,f),g=Object(et.__assign)({data:i[pt],mappingData:i,title:a,color:i.color||l,marker:!0},d);c.push(g)}else for(var y=t.scales,v=0,m=h;v<m.length;v++){var b,x,O=m[v];Object(U.isNil)(o[O])||u(Ft(b=y[O]),x=b.getText(o[O]))}}else{var w=Sn(t);Object(U.isNil)(o[w.field])||(r=o[(n=w).field],x=Object(U.isArray)(r)?r.map(function(t){return n.getText(t)}).join("-"):n.getText(r),u(function(t,e){var n,i=e.getGroupScales();if(i.length&&(n=i[0]),n){var r=n.field;return n.getText(t[r])}return Ft(Sn(e))}(o,t),x))}return c}var Tn={};function Pn(t,e){Tn[t]=e}function An(t){this.option=this.wrapperOption(t)}var En=(An.prototype.update=function(t){return this.option=this.wrapperOption(t),this},An.prototype.hasAction=function(e){var t=this.option.actions;return Object(U.some)(t,function(t){return t[0]===e})},An.prototype.create=function(t,e){var n=this.option,i=n.type,r=n.cfg,o="theta"===i,a=Object(et.__assign)({start:t,end:e},r),s=Object(jt.getCoordinate)(o?"polar":i);return this.coordinate=new s(a),this.coordinate.type=i,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},An.prototype.adjust=function(t,e){return this.coordinate.update({start:t,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},An.prototype.rotate=function(t){return this.option.actions.push(["rotate",t]),this},An.prototype.reflect=function(t){return this.option.actions.push(["reflect",t]),this},An.prototype.scale=function(t,e){return this.option.actions.push(["scale",t,e]),this},An.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},An.prototype.getOption=function(){return this.option},An.prototype.getCoordinate=function(){return this.coordinate},An.prototype.wrapperOption=function(t){return Object(et.__assign)({type:"rect",actions:[],cfg:{}},t)},An.prototype.execActions=function(r){var o=this,t=this.option.actions;Object(U.each)(t,function(t){var e,n=t[0],i=t.slice(1);!Object(U.isNil)(r)&&!r.includes(n)||(e=o.coordinate)[n].apply(e,i)})},An);function Ln(t,e,n){this.view=t,this.gEvent=e,this.data=n,this.type=e.type}var In=(Object.defineProperty(Ln.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(Ln.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(Ln.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(Ln.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(Ln.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(Ln.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),Ln.prototype.toString=function(){return"[Event (type="+this.type+")]"},Ln.prototype.clone=function(){return new Ln(this.view,this.gEvent,this.data)},Ln);function Bn(t){return!Object(U.isNumber)(t)&&!Object(U.isArray)(t)}function Dn(t){void 0===t&&(t=0);var e=Object(U.isArray)(t)?t:[t];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=Object(et.__spreadArrays)(e,e);break;case 3:e=Object(et.__spreadArrays)(e,[e[1]]);break;default:e=e.slice(0,4)}return e}var Fn=(Rn.prototype.shrink=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return this.top+=e,this.right+=n,this.bottom+=i,this.left+=r,this},Rn.prototype.inc=function(t,e){var n=t.width,i=t.height;switch(e){case W.TOP:case W.TOP_LEFT:case W.TOP_RIGHT:this.top+=i;break;case W.RIGHT:case W.RIGHT_TOP:case W.RIGHT_BOTTOM:this.right+=n;break;case W.BOTTOM:case W.BOTTOM_LEFT:case W.BOTTOM_RIGHT:this.bottom+=i;break;case W.LEFT:case W.LEFT_TOP:case W.LEFT_BOTTOM:this.left+=n}return this},Rn.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},Rn);function Rn(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.top=t,this.right=e,this.bottom=n,this.left=i}function Nn(t){var e=t.getController("axis"),n=t.getController("legend"),i=t.getController("annotation"),r=t.getController("slider"),o=function(t){var e=t.padding;if(!Bn(e))return Dn(e);var s=t.viewBBox,n=t.autoPadding,l=new Fn;Object(U.each)(t.getComponents(),function(t){var e,n,i,r,o=t.component,a=t.type;a!==Z.GRID&&a!==Z.TOOLTIP&&(e=o.getLayoutBBox(),n=new _e(e.x,e.y,e.width,e.height),a===Z.AXIS?(i=n.exceed(s),l.shrink(i)):(r=t.direction,l.inc(n,r)))});var i=l.getPadding();if(n){var r=Dn(t.appendPadding);return[Math.max(n[0]-r[0],i[0]),Math.max(n[1]-r[1],i[1]),Math.max(n[2]-r[2],i[2]),Math.max(n[3]-r[3],i[3])]}return i}(t);t.coordinateBBox=t.viewBBox.shrink(o).shrink(Dn(t.appendPadding)),t.adjustCoordinate(),[e,r,n,i].forEach(function(t){t&&t.layout()})}var Yn=(Vn.prototype.createScale=function(t,e,n,i){var r,o,a=n,s=this.getScaleMeta(i);0===e.length&&s&&(o={type:(r=s.scale).type},r.isCategory&&(o.values=r.values),a=Object(U.deepMix)(o,s.scaleDef,n));var l=Dt(t,e,a);return this.cacheScale(l,n,i),l},Vn.prototype.sync=function(){var o=this;this.syncScales.forEach(function(t,e){var n=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,r=[];Object(U.each)(t,function(t){var e=o.getScale(t);i=Object(U.isNumber)(e.max)?Math.max(i,e.max):i,n=Object(U.isNumber)(e.min)?Math.min(n,e.min):n,Object(U.each)(e.values,function(t){r.includes(t)||r.push(t)})}),Object(U.each)(t,function(t){var e=o.getScale(t);e.isContinuous?e.change({min:n,max:i,values:r}):e.isCategory&&e.change({values:r})})})},Vn.prototype.cacheScale=function(t,e,n){var i=this.getScaleMeta(n);i&&i.scale.type===t.type?(function(t,e){if("identity"!==t.type&&"identity"!==e.type){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);t.change(n)}}(i.scale,t),i.scaleDef=e):(i={key:n,scale:t,scaleDef:e},this.scales.set(n,i));var r,o=this.getSyncKey(i);i.syncKey=o,this.removeFromSyncScales(n),o&&((r=this.syncScales.get(o))||(r=[],this.syncScales.set(o,r)),r.push(n))},Vn.prototype.getScale=function(t){var e,n,i=this.getScaleMeta(t);return i||(e=Object(U.last)(t.split("-")),(n=this.syncScales.get(e))&&n.length&&(i=this.getScaleMeta(n[0]))),i&&i.scale},Vn.prototype.deleteScale=function(t){var e,n,i,r=this.getScaleMeta(t);r&&(e=r.syncKey,(n=this.syncScales.get(e))&&n.length&&(-1!==(i=n.indexOf(t))&&n.splice(i,1))),this.scales.delete(t)},Vn.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},Vn.prototype.removeFromSyncScales=function(i){var r=this;this.syncScales.forEach(function(t,e){var n=t.indexOf(i);if(-1!==n)return t.splice(n,1),0===t.length&&r.syncScales.delete(e),!1})},Vn.prototype.getSyncKey=function(t){var e=t.scale,n=t.scaleDef,i=e.field,r=Object(U.get)(n,["sync"]);return!0===r?i:!1===r?void 0:r},Vn.prototype.getScaleMeta=function(t){return this.scales.get(t)},Vn);function Vn(){this.scales=new Map,this.syncScales=new Map}var Xn,Gn=(Xn=wt,Object(et.__extends)(zn,Xn),zn.prototype.setLayout=function(t){this.layoutFunc=t},zn.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.coordinateController=new En(this.options.coordinate),this.initOptions();for(var t=this.views,e=0;e<t.length;e++)t[e].init()},zn.prototype.render=function(t){void 0===t&&(t=!1),this.emit(nt.BEFORE_RENDER),this.paint(t),this.emit(nt.AFTER_RENDER),!1===this.visible&&this.changeVisible(!1)},zn.prototype.clear=function(){var n=this;this.emit(nt.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var t=this.geometries,e=0;e<t.length;e++)t[e].clear();this.geometries=[];for(var i=this.controllers,e=0;e<i.length;e++)i[e].clear();this.createdScaleKeys.forEach(function(t,e){n.getRootView().scalePool.deleteScale(e)}),this.createdScaleKeys.clear();for(var r=this.views,e=0;e<r.length;e++)r[e].clear();this.emit(nt.AFTER_CLEAR)},zn.prototype.destroy=function(){this.emit(nt.BEFORE_DESTROY);var t=this.interactions;Object(U.each)(t,function(t){t&&t.destroy()}),this.clear();for(var e=this.controllers,n=0,i=e.length;n<i;n++){e[n].destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),Xn.prototype.destroy.call(this)},zn.prototype.changeVisible=function(t){Xn.prototype.changeVisible.call(this,t);for(var e=this.geometries,n=0,i=e.length;n<i;n++){e[n].changeVisible(t)}for(var r=this.controllers,n=0,i=r.length;n<i;n++){r[n].changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},zn.prototype.data=function(t){return Object(U.set)(this.options,"data",t),this.isDataChanged=!0,this},zn.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},zn.prototype.filter=function(t,e){return Object(U.isFunction)(e)?Object(U.set)(this.options,["filters",t],e):!e&&Object(U.get)(this.options,["filters",t])&&delete this.options.filters[t],this},zn.prototype.axis=function(t,e){return Object(U.isBoolean)(t)?Object(U.set)(this.options,["axes"],t):Object(U.set)(this.options,["axes",t],e),this},zn.prototype.legend=function(t,e){return!Object(U.isBoolean)(t)&&Object(U.isString)(t)?Object(U.set)(this.options,["legends",t],e):Object(U.set)(this.options,["legends"],t),this},zn.prototype.scale=function(t,e){var n=this;return Object(U.isString)(t)?Object(U.set)(this.options,["scales",t],e):Object(U.isObject)(t)&&Object(U.each)(t,function(t,e){Object(U.set)(n.options,["scales",e],t)}),this},zn.prototype.tooltip=function(t){return Object(U.set)(this.options,"tooltip",t),this},zn.prototype.annotation=function(){return this.getController("annotation")},zn.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},zn.prototype.coordinate=function(t,e){return Object(U.isString)(t)?Object(U.set)(this.options,"coordinate",{type:t,cfg:e}):Object(U.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},zn.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},zn.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var n,i=(n=t,Zt[Object(U.lowerCase)(n)]);if(!i)throw new Error("facet '"+t+"' is not exist!");return this.facetInstance=new i(this,Object(et.__assign)(Object(et.__assign)({},e),{type:t})),this},zn.prototype.animate=function(t){return Object(U.set)(this.options,"animate",t),this},zn.prototype.updateOptions=function(t){return this.clear(),Object(U.mix)(this.options,t),this.initOptions(),this},zn.prototype.option=function(t,e){if(zn.prototype[t])throw new Error("Can't use built in variable name \""+t+'", please change another one.');return Object(U.set)(this.options,t,e),this},zn.prototype.theme=function(t){return this.themeObject=Object(U.isObject)(t)?Object(U.deepMix)({},this.themeObject,t):wn(t),this},zn.prototype.interaction=function(t,e){var n=this.interactions[t];n&&n.destroy();var i=hn(t,this,e);return i&&(i.init(),this.interactions[t]=i),this},zn.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},zn.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(nt.BEFORE_CHANGE_DATA),this.data(t),this.paint(!0);for(var e=this.views,n=0,i=e.length;n<i;n++){e[n].changeData(t)}this.emit(nt.AFTER_CHANGE_DATA)},zn.prototype.createView=function(t){var e={data:this.options.data,scales:Object(U.clone)(this.options.scales),axes:Object(U.clone)(this.options.axes),coordinate:Object(U.clone)(this.coordinateController.getOption()),tooltip:Object(U.clone)(this.options.tooltip),legends:Object(U.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new zn(Object(et.__assign)(Object(et.__assign)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:ut}),middleGroup:this.middleGroup.addGroup({zIndex:ct}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:lt}),theme:this.themeObject,padding:this.padding},t),{options:Object(et.__assign)(Object(et.__assign)({},e),Object(U.get)(t,"options",{}))}));return this.views.push(n),n},zn.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},zn.prototype.removeView=function(e){var t=Object(U.remove)(this.views,function(t){return t===e})[0];return t&&t.destroy(),t},zn.prototype.getCoordinate=function(){return this.coordinateInstance},zn.prototype.getTheme=function(){return this.themeObject},zn.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},zn.prototype.getYScales=function(){var i={};return this.geometries.map(function(t){var e=t.getYScale(),n=e.field;if(!i[n])return i[n]=!0,e})},zn.prototype.getScalesByDim=function(t){for(var e=this.geometries,n={},i=0,r=e.length;i<r;i++){var o=e[i],a="x"===t?o.getXScale():o.getYScale();a&&!n[a.field]&&(n[a.field]=a)}return n},zn.prototype.getScaleByField=function(t,e){var n=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},zn.prototype.getOptions=function(){return this.options},zn.prototype.getData=function(){return this.filteredData},zn.prototype.getLayer=function(t){return t===z.BG?this.backgroundGroup:t===z.MID?this.middleGroup:(z.FORE,this.foregroundGroup)},zn.prototype.isPointInPlot=function(t){return de(this.getCoordinate(),t)},zn.prototype.getLegendAttributes=function(){return Object(U.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},zn.prototype.getGroupScales=function(){var t=this.geometries.map(function(t){return t.getGroupScales()});return he(Object(U.flatten)(t))},zn.prototype.getCanvas=function(){return this.getRootView().canvas},zn.prototype.getRootView=function(){for(var t=this;t.parent;)t=t.parent;return t},zn.prototype.getXY=function(t){var n,i,e=this.getCoordinate(),r=this.getScalesByDim("x"),o=this.getScalesByDim("y");if(Object(U.each)(t,function(t,e){r[e]&&(n=r[e].scale(t)),o[e]&&(i=o[e].scale(t))}),!Object(U.isNil)(n)&&!Object(U.isNil)(i))return e.convert({x:n,y:i})},zn.prototype.getController=function(e){return Object(U.find)(this.controllers,function(t){return t.name===e})},zn.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},zn.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},zn.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},zn.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},zn.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},zn.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},zn.prototype.getSnapRecords=function(t){for(var e=this.geometries,n=[],i=0,r=e.length;i<r;i++){var o=e[i],a=o.dataArray;o.sort(a);for(var s=void 0,l=0,c=a.length;l<c;l++){(s=Mn(t,a[l],o))&&n.push(s)}}for(var u=this.views,i=0,r=u.length;i<r;i++)var h=u[i].getSnapRecords(t),n=n.concat(h);return n},zn.prototype.getComponents=function(){for(var t=[],e=this.controllers,n=0,i=e.length;n<i;n++)var r=e[n],t=t.concat(r.getComponents());return t},zn.prototype.filterData=function(t){var i=this.options.filters;return 0===Object(U.size)(i)?t:Object(U.filter)(t,function(e,n){return Object.keys(i).every(function(t){return(0,i[t])(e[t],e,n)})})},zn.prototype.filterFieldData=function(n,t){var e=this.options.filters,i=Object(U.get)(e,n);return Object(U.isUndefined)(i)?t:t.filter(function(t,e){return i(t[n],t,e)})},zn.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,n=t.end,i=this.coordinateBBox.bl,r=this.coordinateBBox.tr;Object(U.isEqual)(e,i)&&Object(U.isEqual)(n,r)?this.isCoordinateChanged=!1:(this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(i,r))},zn.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(nt.BEFORE_PAINT),this.renderLayoutRecursive(t),this.renderPaintRecursive(t),this.emit(nt.AFTER_PAINT),this.isDataChanged=!1},zn.prototype.renderLayoutRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.doLayout();var e=this.viewBBox,n=this.coordinateBBox;Bn(this.padding)&&(this.autoPadding=[n.tl.y-e.tl.y,e.tr.x-n.tr.x,e.bl.y-n.bl.y,n.tl.x-e.tl.x]);for(var i=this.views,r=0,o=i.length;r<o;r++){i[r].renderLayoutRecursive(t)}},zn.prototype.renderPaintRecursive=function(t){var e,n,i,r;this.limitInPlot&&(e=this.middleGroup,i=(n=ye(this.coordinateInstance)).type,r=n.attrs,e.setClip({type:i,attrs:r})),this.paintGeometries(t),this.renderComponents(t);for(var o=this.views,a=0,s=o.length;a<s;a++){o[a].renderPaintRecursive(t)}},zn.prototype.createScale=function(t,e,n,i){var r=Object(U.get)(this.options.scales,[t]),o=Object(et.__assign)(Object(et.__assign)({},r),n);return this.parent?this.parent.createScale(t,e,o,i):this.scalePool.createScale(t,e,o,i)},zn.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,n=0,i=e.length;n<i;n++){e[n].renderDataRecursive(t)}},zn.prototype.calculateViewBBox=function(){var t,e,n,i,r;r=this.parent?(e=(t=this.parent.coordinateBBox).x,n=t.y,i=t.width,t.height):(n=e=0,i=this.canvas.get("width"),this.canvas.get("height"));var o=this.region,a=o.start,s=o.end,l=new _e(e+i*a.x,n+r*a.y,i*(s.x-a.x),r*(s.y-a.y));this.viewBBox&&this.viewBBox.isEqual(l)||(this.viewBBox=new _e(e+i*a.x,n+r*a.y,i*(s.x-a.x),r*(s.y-a.y)),this.coordinateBBox=this.viewBBox)},zn.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},zn.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,n=t.length;e<n;e++){var i=t[e],r=Tn[i];r&&this.controllers.push(new r(this))}},zn.prototype.createViewEvent=function(t){var e=t.shape,n=t.name,i=e?e.get("origin"):null,r=new In(this,t,i);return r.type=n,r},zn.prototype.doPlotEvent=function(t){var e,n,i=t.type,r={x:t.x,y:t.y};["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"].includes(i)&&((e=this.isPointInPlot(r))&&(n="plot:"+i,t.type=n,this.emit(n,t),"mouseleave"!==i&&"touchend"!==i||(this.isPreMouseInPlot=!1)),"mousemove"===i||"touchmove"===i?(this.isPreMouseInPlot&&!e?("mousemove"===i&&(t.type=rt.MOUSE_LEAVE,this.emit(rt.MOUSE_LEAVE,t)),t.type=rt.LEAVE,this.emit(rt.LEAVE,t)):!this.isPreMouseInPlot&&e&&("mousemove"===i&&(t.type=rt.MOUSE_ENTER,this.emit(rt.MOUSE_ENTER,t)),t.type=rt.ENTER,this.emit(rt.ENTER,t)),this.isPreMouseInPlot=e):"mouseleave"!==i&&"touchend"!==i||this.isPreMouseInPlot&&("mouseleave"===i&&(t.type=rt.MOUSE_LEAVE,this.emit(rt.MOUSE_LEAVE,t)),t.type=rt.LEAVE,this.emit(rt.LEAVE,t),this.isPreMouseInPlot=!1))},zn.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},zn.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),n=Object(U.get)(this.options,"scales",{}),i=this.geometries,r=0,o=i.length;r<o;r++){var a=i[r];a.scales=this.getGeometryScales();var s={coordinate:e,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?a.update(s):a.init(s)}this.adjustScales()},zn.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),n=this.getOptions(),i=n.data,r=n.scales,o=void 0===r?{}:r,a=this.filteredData,s=0,l=t.length;s<l;s++){var c=t[s],u=o[c],h=this.getScaleKey(c);this.createScale(c,e.includes(c)?i:a,u,h),this.createdScaleKeys.set(h,!0)}},zn.prototype.syncScale=function(){this.getRootView().scalePool.sync()},zn.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},n=0;n<t.length;n++){var i=t[n];e[i]=this.getScaleByField(i)}return e},zn.prototype.getScaleFields=function(){for(var t=[],e={},n=this.geometries,i=0;i<n.length;i++){he(n[i].getScaleFields(),t,e)}return t},zn.prototype.getGroupedFields=function(){for(var t=[],e={},n=this.geometries,i=0;i<n.length;i++){he(n[i].getGroupFields(),t,e)}return t},zn.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},zn.prototype.adjustCategoryScaleRange=function(){var l=this,t=Object(et.__spreadArrays)([this.getXScale()],this.getYScales()).filter(function(t){return!!t}),c=this.getCoordinate(),u=this.options.scales;Object(U.each)(t,function(t){var e,n,i,r=t.field,o=t.values,a=t.isCategory,s=t.isIdentity;(a||s)&&o&&!Object(U.get)(u,[r,"range"])&&(i=void 0,i=1===(e=o.length)?[.5,1]:(n=0,function(t){if(t.isPolar){var e=t.startAngle;return t.endAngle-e==2*Math.PI}}(c)?c.isTransposed?[(n=1/e*Object(U.get)(l.theme,"widthRatio.multiplePie",1/1.3))/2,1-n/2]:[0,1-1/e]:[n=1/e/2,1-n]),t.range=i)})},zn.prototype.initComponents=function(t){for(var e=this.controllers,n=0;n<e.length;n++){var i=e[n];t?i.update():(i.clear(),i.render())}},zn.prototype.doLayout=function(){this.layoutFunc(this)},zn.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},zn.prototype.paintGeometries=function(t){for(var e=this.options.animate,n=this.getCoordinate(),i={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},r=this.geometries,o=0;o<r.length;o++){var a=r[o];a.coordinate=n,a.canvasRegion=i,e||a.animate(!1),a.paint(t)}},zn.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){this.getComponents()[e].component.render()}},zn.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},zn.prototype.initOptions=function(){for(var t=this.options,e=t.geometries,n=void 0===e?[]:e,i=t.interactions,r=void 0===i?[]:i,o=t.views,a=void 0===o?[]:o,s=t.annotations,l=void 0===s?[]:s,c=0;c<n.length;c++){var u=n[c];this.createGeometry(u)}for(var h=0;h<r.length;h++){var p=r[h],f=p.type,d=p.cfg;this.interaction(f,d)}for(var g=0;g<a.length;g++){var y=a[g];this.createView(y)}for(var v=this.getController("annotation"),m=0;m<l.length;m++){var b=l[m];v.annotation(b)}},zn.prototype.createGeometry=function(t){var n,e=t.type,i=t.cfg,r=void 0===i?{}:i;this[e]&&(n=this[e](r),Object(U.each)(t,function(t,e){Object(U.isFunction)(n[e])&&n[e](t)}))},zn.prototype.getScaleKey=function(t){return this.id+"-"+t},zn);function zn(t){var i=Xn.call(this,{visible:t.visible})||this;i.id=Object(U.uniqueId)("view"),i.views=[],i.geometries=[],i.controllers=[],i.interactions={},i.limitInPlot=!1,i.options={data:[],animate:!0},i.usedControllers=Object.keys(Tn),i.scalePool=new Yn,i.layoutFunc=Nn,i.isPreMouseInPlot=!1,i.isDataChanged=!1,i.isCoordinateChanged=!1,i.createdScaleKeys=new Map,i.onCanvasEvent=function(t){var e,n=t.name;n.includes(":")||(e=i.createViewEvent(t),i.doPlotEvent(e),i.emit(n,e))},i.onDelegateEvents=function(t){var e,n=t.name;n.includes(":")&&(e=i.createViewEvent(t),i.emit(n,e))};var e=t.parent,n=t.canvas,r=t.backgroundGroup,o=t.middleGroup,a=t.foregroundGroup,s=t.region,l=void 0===s?{start:{x:0,y:0},end:{x:1,y:1}}:s,c=t.padding,u=t.appendPadding,h=t.theme,p=t.options,f=t.limitInPlot;return i.parent=e,i.canvas=n,i.backgroundGroup=r,i.middleGroup=o,i.foregroundGroup=a,i.region=l,i.padding=c,i.appendPadding=u,i.options=Object(et.__assign)(Object(et.__assign)({},i.options),p),i.limitInPlot=f,i.themeObject=Object(U.isObject)(h)?Object(U.deepMix)({},wn("default"),h):wn(h),i.init(),i}function Hn(t,i){Gn.prototype[t.toLowerCase()]=function(t){void 0===t&&(t={});var e=Object(et.__assign)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new i(e);return this.geometries.push(n),n}}var Wn,qn=Gn;function Un(t){var e=this,n=t.container,i=t.width,r=t.height,o=t.autoFit,a=void 0!==o&&o,s=t.padding,l=t.appendPadding,c=t.renderer,u=void 0===c?"canvas":c,h=t.pixelRatio,p=t.localRefresh,f=void 0===p||p,d=t.visible,g=void 0===d||d,y=t.defaultInteractions,v=void 0===y?["tooltip","legend-filter","legend-active","continuous-filter"]:y,m=t.options,b=t.limitInPlot,x=t.theme,O=Object(U.isString)(n)?document.getElementById(n):n,w=Object(mt.createDom)('<div style="position:relative;"></div>');O.appendChild(w);var _=xt(O,a,i,r),C=new(function(t){var e=gt[t];if(!e)throw new Error("G engine '"+t+"' is not exist, please register it at first.");return e}(u).Canvas)(Object(et.__assign)({container:w,pixelRatio:h,localRefresh:f},_));(e=Wn.call(this,{parent:null,canvas:C,backgroundGroup:C.addGroup({zIndex:ut}),middleGroup:C.addGroup({zIndex:ct}),foregroundGroup:C.addGroup({zIndex:lt}),padding:s,appendPadding:l,visible:g,options:m,limitInPlot:b,theme:x})||this).onResize=Object(U.debounce)(function(){e.forceFit()},300);var j=e.getTheme();return Object(U.get)(j,"background")&&Object(mt.modifyCSS)(w,{background:Object(U.get)(j,"background")}),e.ele=O,e.canvas=C,e.width=_.width,e.height=_.height,e.autoFit=a,e.localRefresh=f,e.renderer=u,e.wrapperElement=w,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(v),e}Wn=qn,Object(et.__extends)(Un,Wn),Un.prototype.initDefaultInteractions=function(t){var e=this;Object(U.each)(t,function(t){e.interaction(t)})},Un.prototype.changeSize=function(t,e){return this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this},Un.prototype.destroy=function(){var t,e;Wn.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),t=this.wrapperElement,(e=t.parentNode)&&e.removeChild(t),this.wrapperElement=null},Un.prototype.changeVisible=function(t){return Wn.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},Un.prototype.forceFit=function(){var t,e,n;this.destroyed||(e=(t=xt(this.ele,!0,this.width,this.height)).width,n=t.height,this.changeSize(e,n))},Un.prototype.updateCanvasStyle=function(){Object(mt.modifyCSS)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},Un.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},Un.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)};var Kn=(Zn.prototype.clear=function(){Object(U.each)(this.components,function(t){t.component.destroy()}),this.components=[]},Zn.prototype.destroy=function(){this.clear()},Zn.prototype.getComponents=function(){return this.components},Zn.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(t){e?t.component.show():t.component.hide()}),this.visible=e)},Zn);function Zn(t){this.visible=!0,this.components=[],this.view=t}function $n(t){var e=t.xField,n=t.yField,i=t.adjustNames,r=void 0===i?["x","y"]:i;this.adjustNames=r,this.xField=e,this.yField=n}function Qn(t){return ni[t.toLowerCase()]}function Jn(t,e){if(Qn(t))throw new Error("Adjust type '"+t+"' existed.");ni[t.toLowerCase()]=e}var ti,ei=($n.prototype.isAdjust=function(t){return 0<=this.adjustNames.indexOf(t)},$n.prototype.getAdjustRange=function(t,e,n){var i,r,o=this.yField,a=n.indexOf(e),s=n.length;return!o&&this.isAdjust("y")?(i=0,r=1):1<s?(i=n[0===a?0:a-1],r=n[a===s-1?s-1:a+1],0!==a?i+=(e-i)/2:i-=(r-e)/2,a!==s-1?r-=(r-e)/2:r+=(e-n[s-2])/2):(i=0===e?0:e-.5,r=0===e?1:e+.5),{pre:i,next:r}},$n.prototype.adjustData=function(t,e){var r=this,o=this.getDimValues(e);U.each(t,function(n,i){U.each(o,function(t,e){r.adjustDim(e,t,n,i)})})},$n.prototype.groupData=function(t,e){return U.each(t,function(t){void 0===t[e]&&(t[e]=0)}),U.groupBy(t,e)},$n.prototype.adjustDim=function(t,e,n,i){},$n.prototype.getDimValues=function(e){var t=this.xField,n=this.yField,i={},r=[];return t&&this.isAdjust("x")&&r.push(t),n&&this.isAdjust("y")&&r.push(n),r.forEach(function(t){i[t]=U.valuesOfKey(e,t).sort(function(t,e){return t-e})}),!n&&this.isAdjust("y")&&(i.y=[0,1]),i},$n),ni={};function ii(t){var e=ti.call(this,t)||this;e.cacheMap={},e.adjustDataArray=[],e.mergeData=[];var n=t.marginRatio,i=void 0===n?.5:n,r=t.dodgeRatio,o=void 0===r?.5:r,a=t.dodgeBy;return e.marginRatio=i,e.dodgeRatio=o,e.dodgeBy=a,e}var ri,oi=(ti=ei,Object(q.__extends)(ii,ti),ii.prototype.process=function(t){var e=U.clone(t),n=U.flatten(e),i=this.dodgeBy,r=i?U.group(n,i):e;return this.cacheMap={},this.adjustDataArray=r,this.mergeData=n,this.adjustData(r,n),this.adjustDataArray=[],this.mergeData=[],e},ii.prototype.adjustDim=function(o,n,t,a){var s=this,l=this.getDistribution(o),e=this.groupData(t,o);return U.each(e,function(t,e){var r=1===n.length?{pre:n[0]-1,next:n[0]+1}:s.getAdjustRange(o,parseFloat(e),n);U.each(t,function(t){var e=t[o],n=l[e],i=n.indexOf(a);t[o]=s.getDodgeOffset(r,i,n.length)})}),[]},ii.prototype.getDodgeOffset=function(t,e,n){var i=this.dodgeRatio,r=this.marginRatio,o=t.pre,a=t.next,s=a-o,l=s*i/n,c=r*l;return(o+a)/2+(.5*(s-n*l-(n-1)*c)+((e+1)*l+e*c)-.5*l-.5*s)},ii.prototype.getDistribution=function(i){var t=this.adjustDataArray,e=this.cacheMap,r=e[i];return r||(r={},U.each(t,function(t,e){var n=U.valuesOfKey(t,i);n.length||n.push(0),U.each(n,function(t){r[t]||(r[t]=[]),r[t].push(e)})}),e[i]=r),r},ii);function ai(){return null!==ri&&ri.apply(this,arguments)||this}var si,li=(ri=ei,Object(q.__extends)(ai,ri),ai.prototype.process=function(t){var e=U.clone(t),n=U.flatten(e);return this.adjustData(e,n),e},ai.prototype.adjustDim=function(n,i,t){var r=this,e=this.groupData(t,n);return U.each(e,function(t,e){return r.adjustGroup(t,n,parseFloat(e),i)})},ai.prototype.getAdjustOffset=function(t){var e,n=t.pre,i=t.next,r=.05*(i-n);return(i-r-(e=n+r))*Math.random()+e},ai.prototype.adjustGroup=function(t,e,n,i){var r=this,o=this.getAdjustRange(e,n,i);return U.each(t,function(t){t[e]=r.getAdjustOffset(o)}),t},ai),ci=U.Cache;function ui(t){var e=si.call(this,t)||this,n=t.adjustNames,i=void 0===n?["y"]:n,r=t.height,o=void 0===r?NaN:r,a=t.size,s=void 0===a?10:a,l=t.reverseOrder,c=void 0!==l&&l;return e.adjustNames=i,e.height=o,e.size=s,e.reverseOrder=c,e}var hi,pi=(si=ei,Object(q.__extends)(ui,si),ui.prototype.process=function(t){var e=this.yField,n=this.reverseOrder,i=e?this.processStack(t):this.processOneDimStack(t);return n?this.reverse(i):i},ui.prototype.reverse=function(t){return t.slice(0).reverse()},ui.prototype.processStack=function(t){var l=this.xField,c=this.yField,e=this.reverseOrder?this.reverse(t):t,u=new ci,h=new ci;return e.map(function(t){return t.map(function(t){var e,n=U.get(t,l,0),i=U.get(t,c),r=n.toString(),i=U.isArray(i)?i[1]:i;if(U.isNil(i))return t;var o=0<=i?u:h;o.has(r)||o.set(r,0);var a=o.get(r),s=i+a;return o.set(r,s),Object(q.__assign)(Object(q.__assign)({},t),((e={})[c]=[a,s],e))})})},ui.prototype.processOneDimStack=function(t){var a=this,s=this.xField,l=this.height,e=this.reverseOrder,n=e?this.reverse(t):t,c=new ci;return n.map(function(t){return t.map(function(t){var e,n=a.size,i=t[s],r=2*n/l;c.has(i)||c.set(i,r/2);var o=c.get(i);return c.set(i,o+r),Object(q.__assign)(Object(q.__assign)({},t),((e={}).y=o,e))})})},ui);function fi(){return null!==hi&&hi.apply(this,arguments)||this}var di=(hi=ei,Object(q.__extends)(fi,hi),fi.prototype.process=function(t){var e=U.flatten(t),s=this.xField,l=this.yField,c=this.getXValuesMaxMap(e),u=Math.max.apply(Math,Object.keys(c).map(function(t){return c[t]}));return U.map(t,function(t){return U.map(t,function(t){var e,n,i=t[l],r=t[s];if(U.isArray(i)){var o=(u-c[r])/2;return Object(q.__assign)(Object(q.__assign)({},t),((e={})[l]=U.map(i,function(t){return o+t}),e))}var a=(u-i)/2;return Object(q.__assign)(Object(q.__assign)({},t),((n={})[l]=[a,i+a],n))})})},fi.prototype.getXValuesMaxMap=function(t){var e=this,n=this.xField,i=this.yField,r=U.groupBy(t,function(t){return t[n]});return U.mapValues(r,function(t){return e.getDimMaxValue(t,i)})},fi.prototype.getDimMaxValue=function(t,e){var n=U.map(t,function(t){return U.get(t,e,[])}),i=U.flatten(n);return Math.max.apply(Math,i)},fi);Jn("Dodge",oi),Jn("Jitter",li),Jn("Stack",pi),Jn("Symmetric",di);var gi={};function yi(t){return gi[t.toLowerCase()]}function vi(t,e){gi[t.toLowerCase()]=e}var mi={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},bi={interval:function(t){return{enter:{animation:t.isRect?t.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:t.isPolar&&t.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},xi={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(t){var e;return t.isRect?e=t.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",t.isPolar&&t.isTransposed&&(e="wave-in")),{animation:e}},schema:function(t){var e=t.isRect?t.isTransposed?"grow-in-x":"grow-in-y":"grow-in-xy";return{animation:e}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Oi(t,e,n){var i=bi[t];return i&&(Object(U.isFunction)(i)&&(i=i(e)),i=Object(U.deepMix)({},mi,i),n)?i[n]:i}function wi(t,e,n){var i,r,o,a=Object(U.get)(t.get("origin"),"data",pt),s=e.animation,l=(i=e,r=a,{delay:Object(U.isFunction)(i.delay)?i.delay(r):i.delay,easing:Object(U.isFunction)(i.easing)?i.easing(r):i.easing,duration:Object(U.isFunction)(i.duration)?i.duration(r):i.duration,callback:i.callback});s?(o=yi(s))&&o(t,l,n):t.animate(n.toAttrs,l)}var _i,Ci=n(1497);function ji(t){var e=_i.call(this,t)||this;e.states=[];var n=t.shapeFactory,i=t.container,r=t.offscreenGroup,o=t.visible,a=void 0===o||o;return e.shapeFactory=n,e.container=i,e.offscreenGroup=r,e.visible=a,e}var Si=(_i=wt,Object(et.__extends)(ji,_i),ji.prototype.draw=function(t,e){void 0===e&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),!1===this.visible&&this.changeVisible(!1)},ji.prototype.update=function(t){var e,n,i=this.shapeFactory,r=this.shape;r&&(this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(r,t),e=this.getOffscreenGroup(),(n=i.drawShape(this.shapeType,t,e)).cfg.data=this.data,n.cfg.origin=t,this.syncShapeStyle(r,n,"",this.getAnimateCfg("update")))},ji.prototype.destroy=function(){var t,e=this.shapeFactory,n=this.shape;n&&((t=this.getAnimateCfg("leave"))?wi(n,t,{coordinate:e.coordinate,toAttrs:Object(et.__assign)({},n.attr())}):n.remove(!0)),this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,_i.prototype.destroy.call(this)},ji.prototype.changeVisible=function(t){_i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(t){t.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(t){t.hide()}))},ji.prototype.setState=function(t,e){var n=this,i=this.states,r=this.shapeFactory,o=this.model,a=this.shape,s=this.shapeType,l=i.indexOf(t);if(e){if(-1<l)return;i.push(t),"active"!==t&&"selected"!==t||a.toFront()}else{if(-1===l)return;i.splice(l,1),"active"!==t&&"selected"!==t||a.toBack()}var c=r.drawShape(s,o,this.getOffscreenGroup());i.length?i.forEach(function(t){n.syncShapeStyle(a,c,t,null)}):this.syncShapeStyle(a,c,"reset",null),c.remove(!0);var u={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",u),Object(Ci.propagationDelegate)(this.shape,"statechange",u)},ji.prototype.clearStates=function(){var e=this,t=this.states;Object(U.each)(t,function(t){e.setState(t,!1)}),this.states=[]},ji.prototype.hasState=function(t){return this.states.includes(t)},ji.prototype.getStates=function(){return this.states},ji.prototype.getData=function(){return this.data},ji.prototype.getModel=function(){return this.model},ji.prototype.getBBox=function(){var t=this.shape,e=this.labelShape,n={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return t&&(n=t.getCanvasBBox()),e&&e.forEach(function(t){var e=t.getCanvasBBox();n.x=Math.min(e.x,n.x),n.y=Math.min(e.y,n.y),n.minX=Math.min(e.minX,n.minX),n.minY=Math.min(e.minY,n.minY),n.maxX=Math.max(e.maxX,n.maxX),n.maxY=Math.max(e.maxY,n.maxY)}),n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n},ji.prototype.getStatesStyle=function(){var t,e,n,i,r,o;return this.statesStyle||(t=this.shapeType,e=this.geometry,n=this.shapeFactory,i=e.stateOption,r=n.defaultShapeType,o=n.theme[t]||n.theme[r],this.statesStyle=Object(U.deepMix)({},o,i)),this.statesStyle},ji.prototype.getStateStyle=function(t,e){var n=this.getStatesStyle(),i=Object(U.get)(n,[t,"style"],{}),r=i[e]||i;return Object(U.isFunction)(r)?r(this):r},ji.prototype.getAnimateCfg=function(t){var e=this.animate;return e?e[t]:null},ji.prototype.drawShape=function(t,e){void 0===e&&(e=!1);var n,i,r,o=this.shapeFactory,a=this.container,s=this.shapeType;this.shape=o.drawShape(s,t,a),this.shape&&(this.setShapeInfo(this.shape,t),(n=this.shape.cfg.name)?Object(U.isString)(n)&&(this.shape.cfg.name=["element",n]):this.shape.cfg.name=["element",this.shapeFactory.geometryType],i=e?"enter":"appear",(r=this.getAnimateCfg(i))&&wi(this.shape,r,{coordinate:o.coordinate,toAttrs:Object(et.__assign)({},this.shape.attr())}))},ji.prototype.getOffscreenGroup=function(){var t;return this.offscreenGroup||(t=this.container.getGroupBase(),this.offscreenGroup=new t({})),this.offscreenGroup},ji.prototype.setShapeInfo=function(t,e){var n=this;t.cfg.origin=e,t.cfg.element=this,t.isGroup()&&t.get("children").forEach(function(t){n.setShapeInfo(t,e)})},ji.prototype.syncShapeStyle=function(t,e,n,i,r){if(void 0===n&&(n=""),void 0===r&&(r=0),t.isGroup())for(var o=t.get("children"),a=e.get("children"),s=0;s<o.length;s++)this.syncShapeStyle(o[s],a[s],n,i,r+s);else{var l,c;n&&"reset"!==n&&(l=t.get("name"),Object(U.isArray)(l)&&(l=l[1]),c=this.getStateStyle(n,l||r),e.attr(c));var u=le(t,e);this.animate?i?wi(t,i,{coordinate:this.shapeFactory.coordinate,toAttrs:u,shapeModel:this.model}):n?(t.stopAnimate(),t.animate(u,{duration:300})):t.attr(u):t.attr(u)}},ji.prototype.getShapeType=function(t){var e=Object(U.get)(t,"shape");return Object(U.isArray)(e)?e[0]:e},ji),Mi={},ki={};function Ti(t,e){Mi[t.toLowerCase()]=e}function Pi(t,e){ki[t.toLowerCase()]=e}var Ai,Ei=n(1543),Li={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(t,e){var n=this.getShape(t);return n.getPoints?n.getPoints(e):this.getDefaultPoints(e)},getShape:function(t){var e=this[t]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getMarker:function(t,e){var n,i=this.getShape(t);i.getMarker||(n=this.defaultShapeType,i=this.getShape(n));var r=this.theme,o=Object(U.get)(r,[t,"default"],{}),a=i.getMarker(e);return Object(U.deepMix)({},o,a)},drawShape:function(t,e,n){return this.getShape(t).draw(e,n)}},Ii={coordinate:null,parsePath:function(t){var e,n,i,r=this.coordinate,o=Object(Ei.b)(t);return o=r.isPolar?we(r,o):(e=r,n=o,i=[],Object(U.each)(n,function(t){switch(t[0].toLowerCase()){case"m":case"l":case"c":i.push(ve(t,e));break;case"z":default:i.push(t)}}),i)},parsePoint:function(t){return this.coordinate.convert(t)},parsePoints:function(t){var e=this.coordinate;return t.map(function(t){return e.convert(t)})},draw:function(t,e){}},Bi={};function Di(t,e){var n=Object(U.upperFirst)(t),i=Object(et.__assign)(Object(et.__assign)(Object(et.__assign)({},Li),e),{geometryType:t});return Bi[n]=i}function Fi(t,e,n){var i=Object(U.upperFirst)(t),r=Bi[i],o=Object(et.__assign)(Object(et.__assign)({},Ii),n);return r[e]=o}function Ri(t){var e=Object(U.upperFirst)(t);return Bi[e]}function Ni(e,n){return Object(U.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!Object(U.isEqual)(e[t],n[t])})}function Yi(t){return Object(U.isArray)(t)?t:t.split("*")}function Vi(t){var e=Ai.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var n=t.container,i=t.labelsContainer,r=t.coordinate,o=t.data,a=t.sortable,s=void 0!==a&&a,l=t.visible,c=void 0===l||l,u=t.theme,h=t.scales,p=void 0===h?{}:h,f=t.scaleDefs,d=void 0===f?{}:f;return e.container=n,e.labelsContainer=i,e.coordinate=r,e.data=o,e.sortable=s,e.visible=c,e.userTheme=u,e.scales=p,e.scaleDefs=d,e}var Xi=(Ai=wt,Object(et.__extends)(Vi,Ai),Vi.prototype.position=function(t){var e=t;Object(U.isPlainObject)(t)||(e={fields:Yi(t)});var n=Object(U.get)(e,"fields");return 1===n.length&&(n.unshift("1"),Object(U.set)(e,"fields",n)),Object(U.set)(this.attributeOption,"position",e),this},Vi.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},Vi.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},Vi.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},Vi.prototype.adjust=function(t){var n=t;return(Object(U.isString)(t)||Object(U.isPlainObject)(t))&&(n=[t]),Object(U.each)(n,function(t,e){Object(U.isObject)(t)||(n[e]={type:t})}),this.adjustOption=n,this},Vi.prototype.style=function(t,e){var n,i,r;return Object(U.isString)(t)?(n=Yi(t),this.styleOption={fields:n,callback:e}):(n=t.fields,i=t.callback,r=t.cfg,this.styleOption=n||i||r?t:{cfg:t}),this},Vi.prototype.tooltip=function(t,e){var n;return Object(U.isString)(t)?(n=Yi(t),this.tooltipOption={fields:n,callback:e}):this.tooltipOption=t,this},Vi.prototype.animate=function(t){return this.animateOption=t,this},Vi.prototype.label=function(t,e,n){var i,r;return Object(U.isString)(t)?(i={},r=Yi(t),i.fields=r,Object(U.isFunction)(e)?i.callback=e:Object(U.isPlainObject)(e)&&(i.cfg=e),n&&(i.cfg=n),this.labelOption=i):this.labelOption=t,this},Vi.prototype.state=function(t){return this.stateOption=t,this},Vi.prototype.init=function(t){void 0===t&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},Vi.prototype.update=function(t){void 0===t&&(t={});var e=t.data,n=t.isDataChanged,i=t.isCoordinateChanged,r=this.attributeOption,o=this.lastAttributeOption;Object(U.isEqual)(r,o)?!e||!n&&Object(U.isEqual)(e,this.data)?this.setCfg(t):(this.setCfg(t),this.processData(e)):this.init(t),this.adjustScale(),this.isCoordinateChanged=i},Vi.prototype.paint=function(t){var e=this;void 0===t&&(t=!1),this.animateOption&&(this.animateOption=Object(U.deepMix)({},Oi(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={},this.getOffscreenGroup().clear();for(var n,i,r,o,a,s,l,c,u,h,p,f,d,g,y=this.beforeMappingData,v=this.beforeMapping(y),m=[],b=0,x=v.length;b<x;b++){var O=v[b],w=this.mapping(O);m.push(w),this.createElements(w,b,t)}this.canDoGroupAnimation(t)&&(n=this.container,i=this.type,r=this.coordinate,o=Object(U.get)(this.animateOption,"appear"),a=this.getYScale(),s=r.convert({x:0,y:a.scale(this.getYMinValue())}),l=n,c=o,h=r,p=s,xi[u=i]&&(f=xi[u](h),(d=yi(Object(U.get)(f,"animation","")))&&(g=Object(et.__assign)(Object(et.__assign)(Object(et.__assign)({},mi.appear),f),c),l.stopAnimate(),d(l,g,{coordinate:h,minYPoint:p,toAttrs:null})))),this.labelOption&&this.renderLabels(Object(U.flatten)(m),t),this.dataArray=m,Object(U.each)(this.lastElementsMap,function(t){t.animate=e.animateOption,t.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=Object(et.__assign)({},this.attributeOption),!1===this.visible&&this.changeVisible(!1)},Vi.prototype.clear=function(){var t=this.container,e=this.geometryLabel,n=this.offscreenGroup;t&&t.clear(),e&&e.clear(),n&&n.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},Vi.prototype.destroy=function(){this.clear(),this.container.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,Ai.prototype.destroy.call(this)},Vi.prototype.getGroupScales=function(){return this.groupScales},Vi.prototype.getAttribute=function(t){return this.attributes[t]},Vi.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},Vi.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},Vi.prototype.getGroupAttributes=function(){var e=[];return Object(U.each)(this.attributes,function(t){ht.includes(t.type)&&e.push(t)}),e},Vi.prototype.getDefaultValue=function(t){var e,n=this.getAttribute(t);return n&&Object(U.isEmpty)(n.scales)&&(e=n.values[0]),e},Vi.prototype.getAttributeValues=function(t,e){for(var n=[],i=t.scales,r=0,o=i.length;r<o;r++){var a=i[r],s=a.field;a.isIdentity?n.push(a.values):n.push(e[s])}return t.mapping.apply(t,n)},Vi.prototype.getAdjust=function(t){return this.adjusts[t]},Vi.prototype.getShapeMarker=function(t,e){return this.getShapeFactory().getMarker(t,e)},Vi.prototype.getElementsBy=function(e){return this.elements.filter(function(t){return e(t)})},Vi.prototype.getElementId=function(t){var e=(t=Object(U.isArray)(t)?t[0]:t)[pt];if(this.idFields.length){for(var n=e[this.idFields[0]],i=1;i<this.idFields.length;i++)n+="-"+e[this.idFields[i]];return n}var r=this.type,o=this.getXScale(),a=this.getYScale(),s=o.field||"x",l=e[a.field||"y"],c="identity"===o.type?o.values[0]:e[s];p="interval"===r||"schema"===r?c:"line"===r||"area"===r||"path"===r?r:c+"-"+l;for(var u=this.groupScales,i=0,h=u.length;i<h;i++)var p=p+"-"+e[u[i].field];var f,d=this.getAdjust("dodge");return!d||(f=d.dodgeBy)&&(p=p+"-"+e[f]),this.getAdjust("jitter")&&(p=p+"-"+t.x+"-"+t.y),p},Vi.prototype.getScaleFields=function(){var t,e=[],n={},i=this.attributeOption,r=this.labelOption,o=this.tooltipOption;for(var a in i){i.hasOwnProperty(a)&&((t=i[a]).fields?he(t.fields,e,n):t.values&&he(t.values,e,n))}return r&&r.fields&&he(r.fields,e,n),Object(U.isObject)(o)&&o.fields&&he(o.fields,e,n),e},Vi.prototype.changeVisible=function(t){Ai.prototype.changeVisible.call(this,t);for(var e=this.elements,n=0,i=e.length;n<i;n++){e[n].changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},Vi.prototype.getGroupFields=function(){for(var t=[],e={},n=0,i=ht.length;n<i;n++){var r=ht[n],o=this.attributeOption[r];o&&o.fields&&he(o.fields,t,e)}return t},Vi.prototype.getXYFields=function(){var t=this.attributeOption.position.fields;return[t[0],t[1]]},Vi.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},Vi.prototype.getOffscreenGroup=function(){var t;return this.offscreenGroup||(t=this.container.getGroupBase(),this.offscreenGroup=new t({})),this.offscreenGroup},Vi.prototype.sort=function(t){if(!this.hasSorted)for(var n=this.getXScale(),i=n.field,e=0;e<t.length;e++){t[e].sort(function(t,e){return n.translate(t[pt][i])-n.translate(e[pt][i])})}this.hasSorted=!0},Vi.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},Vi.prototype.getShapeFactory=function(){var t=this.shapeType;if(Ri(t))return this.shapeFactory||(this.shapeFactory=Object(U.clone)(Ri(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},Vi.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale(),i=this.normalizeValues(t[e.field],e),r=n?this.normalizeValues(t[n.field],n):t.y?t.y:.1;return{x:i,y:r,y0:n?n.scale(this.getYMinValue()):void 0}},Vi.prototype.createElement=function(t,e){void 0===e&&(e=!1);var n=this.container,i=this.getDrawCfg(t),r=this.getShapeFactory(),o=new Si({shapeFactory:r,container:n,offscreenGroup:this.getOffscreenGroup()});return o.animate=this.animateOption,o.geometry=this,o.draw(i,e),o},Vi.prototype.getDrawCfg=function(t){var e=t[pt],n={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar},i=t.shape;!i&&this.getShapeFactory()&&(i=this.getShapeFactory().defaultShapeType),n.shape=i;var r=this.theme.geometries[this.shapeType];n.defaultStyle=Object(U.get)(r,[i,"default"],{}).style;var o=this.styleOption;return o&&(n.style=this.getStyleCfg(o,e)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},Vi.prototype.createElements=function(t,e,n){void 0===n&&(n=!1);for(var i=this.lastElementsMap,r=this.elementsMap,o=this.elements,a=0,s=t.length;a<s;a++){var l=t[a],c=this.getElementId(l);r[c]&&(c=c+"-"+e+"-"+a);var u,h,p=i[c];p?(u=this.getDrawCfg(l),h=p.getModel(),(this.isCoordinateChanged||Ni(u,h))&&(p.animate=this.animateOption,p.update(u)),delete i[c]):p=this.createElement(l,n),o.push(p),r[c]=p}return o},Vi.prototype.getLabelType=function(){var t=this.labelOption,e=this.coordinate,n=this.type,i=e.type,r=Object(U.get)(t,["cfg","type"]);return r=r||("polar"===i?"polar":"theta"===i?"pie":"interval"===n||"polygon"===n?"interval":"base")},Vi.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max,i=0<=e?e:n<=0?n:0;return i},Vi.prototype.createAttrOption=function(t,e,n){var i;Object(U.isNil)(e)||Object(U.isObject)(e)?Object(U.isObject)(e)&&Object(U.isEqual)(Object.keys(e),["values"])?Object(U.set)(this.attributeOption,t,{fields:e.values}):Object(U.set)(this.attributeOption,t,e):(i={},Object(U.isNumber)(e)?i.values=[e]:i.fields=Yi(e),n&&(Object(U.isFunction)(n)?i.callback=n:i.values=n),Object(U.set)(this.attributeOption,t,i))},Vi.prototype.initAttributes=function(){var l=this,c=this.attributes,u=this.attributeOption,h=this.theme,p=this.shapeType;this.groupScales=[];var f={};for(var t in u){var e=function(n){if(u.hasOwnProperty(n)){var t=u[n];if(!t)return{value:void 0};var e=Object(et.__assign)({},t),i=e.callback,r=e.values,o=e.fields,a=(void 0===o?[]:o).map(function(t){var e=l.scales[t];return e.isCategory&&!f[t]&&ht.includes(n)&&(l.groupScales.push(e),f[t]=!0),e});e.scales=a,"position"!==n&&1===a.length&&"identity"===a[0].type?e.values=a[0].values:i||r||("size"===n?e.values=h.sizes:"shape"===n?e.values=h.shapes[p]||[]:"color"===n&&(a.length?e.values=a[0].values.length<=10?h.colors10:h.colors20:e.values=h.colors10));var s=Object(Ct.getAttribute)(n);c[n]=new s(e)}}(t);if("object"==typeof e)return e.value}},Vi.prototype.processData=function(t){this.hasSorted=!1;for(var e=this.getAttribute("position").scales.filter(function(t){return t.isCategory}),n=this.groupData(t),i=[],r=0,o=n.length;r<o;r++){for(var a=n[r],s=[],l=0,c=a.length;l<c;l++){var u=a[l],h={};for(var p in u)h[p]=u[p];h[pt]=u;for(var f=0,d=e;f<d.length;f++){var g=d[f],y=g.field;h[y]=g.translate(h[y])}s.push(h)}i.push(s)}var v=this.adjustData(i);return this.beforeMappingData=v},Vi.prototype.adjustData=function(t){var e=this.adjustOption,n=t;if(e)for(var i=this.getXScale(),r=this.getYScale(),o=i.field,a=r?r.field:null,s=0,l=e.length;s<l;s++){var c,u,h=e[s],p=Object(et.__assign)({xField:o,yField:a},h),f=h.type;if("dodge"===f){var d=[];if(i.isCategory||"identity"===i.type)d.push("x");else{if(r)throw new Error("dodge is not support linear attribute, please use category attribute!");d.push("y")}p.adjustNames=d,p.dodgeRatio=this.theme.columnWidthRatio}else{"stack"===f&&(c=this.coordinate,r||(p.height=c.getHeight(),u=this.getDefaultValue("size")||3,p.size=u),!c.isTransposed&&Object(U.isNil)(p.reverseOrder)&&(p.reverseOrder=!0))}var g=new(Qn(f))(p),n=g.process(n);this.adjusts[f]=g}return n},Vi.prototype.groupData=function(t){for(var e=this.getGroupScales(),n=this.scaleDefs,i={},r=[],o=0;o<e.length;o++){var a=e[o].field;r.push(a),Object(U.get)(n,[a,"values"])&&(i[a]=n[a].values)}return function(t,e,n){if(void 0===n&&(n={}),!e)return[t];var i,r=Object(U.groupToMap)(t,e),o=[];if(1===e.length&&n[e[0]])for(var a=0,s=n[e[0]];a<s.length;a++){var l=r["_"+s[a]];l&&o.push(l)}else for(var c in r){r.hasOwnProperty(c)&&(i=r[c],o.push(i))}return o}(t,r,i)},Vi.prototype.updateStackRange=function(t,e){for(var n=Object(U.flatten)(e),i=t.field,r=t.min,o=t.max,a=0;a<n.length;a++){var s=n[a],l=Math.min.apply(null,s[i]),c=Math.max.apply(null,s[i]);l<r&&(r=l),o<c&&(o=c)}var u=this.scaleDefs,h={};r<t.min&&!Object(U.get)(u,[i,"min"])&&(h.min=r),o>t.max&&!Object(U.get)(u,[i,"max"])&&(h.max=o),t.change(h)},Vi.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var n=0,i=e.length;n<i;n++){var r=e[n];this.generateShapePoints(r);var o=e[n+1];o&&(this.generateShapePoints(o),r[0].nextPoints=o[0].points)}return e},Vi.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttribute("shape"),i=0;i<t.length;i++){var r=t[i],o=this.createShapePointsCfg(r),a=n?this.getAttributeValues(n,r):null,s=e.getShapePoints(a,o);r.points=s}},Vi.prototype.normalizeValues=function(t,e){var n=[];if(Object(U.isArray)(t))for(var i=0;i<t.length;i++){var r=t[i];n.push(e.scale(r))}else n=e.scale(t);return n},Vi.prototype.mapping=function(t){for(var e=this.attributes,n=[],i=0;i<t.length;i++){var r=t[i],o={_origin:r[pt],points:r.points,nextPoints:r.nextPoints};for(var a in e)if(e.hasOwnProperty(a)){var s=e[a],l=s.names,c=this.getAttributeValues(s,r);if(1<l.length)for(var u=0;u<c.length;u+=1){var h=c[u];o[l[u]]=Object(U.isArray)(h)&&1===h.length?h[0]:h}else o[l[0]]=1===c.length?c[0]:c}this.convertPoint(o),n.push(o)}return n},Vi.prototype.convertPoint=function(t){var e=t.x,n=t.y,i=this.coordinate;if(Object(U.isArray)(e)&&Object(U.isArray)(n)){f=[],d=[];for(var r=0,o=0,a=e.length,s=n.length;r<a&&o<s;r+=1,o+=1)u=i.convert({x:e[r],y:n[o]}),f.push(u.x),d.push(u.y)}else if(Object(U.isArray)(n)){d=[];for(var l=0;l<n.length;l++){var c=n[l],u=i.convert({x:e,y:c});f&&f!==u.x?(Object(U.isArray)(f)||(f=[f]),f.push(u.x)):f=u.x,d.push(u.y)}}else if(Object(U.isArray)(e)){f=[];for(l=0;l<e.length;l++){var h=e[l];u=i.convert({x:h,y:n}),d&&d!==u.y?(Object(U.isArray)(d)||(d=[d]),d.push(u.y)):d=u.y,f.push(u.x)}}else var p=i.convert({x:e,y:n}),f=p.x,d=p.y;t.x=f,t.y=d},Vi.prototype.getStyleCfg=function(t,e){var n=t.fields,i=void 0===n?[]:n,r=t.callback,o=t.cfg;if(o)return o;var a=i.map(function(t){return e[t]});return r.apply(void 0,a)},Vi.prototype.setCfg=function(t){var n=this,e=t.coordinate,i=t.data,r=t.theme,o=t.scaleDefs;e&&(this.coordinate=e),i&&(this.data=i),o&&(this.scaleDefs=o,this.idFields=[],Object(U.each)(o,function(t,e){t&&t.key&&n.idFields.push(e)})),r&&(this.theme=this.userTheme?Object(U.deepMix)({},r,this.userTheme):r)},Vi.prototype.renderLabels=function(t,e){void 0===e&&(e=!1);var n,i=this.geometryLabel;i||(n=this.getLabelType(),i=new(Mi[n.toLowerCase()])(this),this.geometryLabel=i),i.render(t,e);var u=i.labelsRenderer.shapesMap;Object(U.each)(this.elementsMap,function(t,e){var n,i,r,o=(n=e,i=u,r=[],Object(U.each)(i,function(t,e){e.split(" ")[0]===n&&r.push(t)}),r);if(o.length){t.labelShape=o;for(var a=0;a<o.length;a++)for(var s=o[a].getChildren(),l=0;l<s.length;l++){var c=s[l];c.cfg.name=["element","label"],c.cfg.element=t}}})},Vi.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(void 0===Object(U.get)(this.animateOption,"appear")||Object(U.get)(this.animateOption,"appear")&&void 0===Object(U.get)(this.animateOption,["appear","animation"]))},Vi),Gi=Rt.ext.transform;function zi(t,e,n){var i=Gi(t.getMatrix(),[["t",e,n]]);t.setMatrix(i)}function Hi(t,e){var n=t.attr(),i=n.x,r=n.y,o=Gi(t.getMatrix(),[["t",-i,-r],["r",e],["t",i,r]]);t.setMatrix(o)}function Wi(t){this.shapesMap={},this.lastShapesMap={};var e=t.layout,n=t.container;this.layout=e,this.container=n}var qi=(Wi.prototype.render=function(t,e,u){var h=this;void 0===u&&(u=!1),this.shapesMap={};var p=this.container,n=this.createOffscreenGroup();if(t.length){for(var i=0,r=t;i<r.length;i++){var o=r[i];o&&this.renderLabel(o,n)}this.doLayout(t,e),this.renderLabelLine(t),this.adjustLabel(t)}var f=this.lastShapesMap,d=this.shapesMap;Object(U.each)(d,function(t,e){var r,o,a,n,s,l,c,i;t.destroyed?delete d[e]:(f[e]?(r=t.get("data"),o=t.get("origin"),a=t.get("coordinate"),n=f[e],s=t.get("animateCfg"),n.set("data",r),n.set("origin",o),n.set("animateCfg",s),n.set("coordinate",a),l=Object(U.get)(s,"update"),c=n.getChildren(),t.getChildren().map(function(t,e){var n=c[e];n.set("data",r),n.set("origin",o),n.set("animateCfg",s),n.set("coordinate",a);var i=le(n,t);l?wi(n,l,{toAttrs:i,coordinate:a}):n.attr(i)}),h.shapesMap[e]=n):(p.add(t),(i=Object(U.get)(t.get("animateCfg"),u?"enter":"appear"))&&wi(t,i,{toAttrs:Object(et.__assign)({},t.attr()),coordinate:t.get("coordinate")})),delete f[e])}),Object(U.each)(f,function(t){var e=Object(U.get)(t.get("animateCfg"),"leave");e?wi(t,e,{toAttrs:null,coordinate:t.get("coordinate")}):t.remove(!0)}),this.lastShapesMap=d,n.destroy()},Wi.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},Wi.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},Wi.prototype.renderLabel=function(t,e){var n,i,r,o,a,s,l=t.id,c=t.data,u=t.mappingData,h=t.coordinate,p=t.animate,f=t.content,d={id:l,data:c,origin:u,coordinate:h},g=e.addGroup(Object(et.__assign)({name:"label",animateCfg:!1!==this.animate&&null!==p&&!1!==p&&Object(U.deepMix)({},this.animate,p)},d));f.isGroup&&f.isGroup()||f.isShape&&f.isShape()?(r=(i=f.getCanvasBBox()).width,o=i.height,a=Object(U.get)(t,"textAlign","left"),s=t.x,"center"===a?s-=r/2:"right"!==a&&"end"!==a||(s-=r),zi(f,s,t.y-o/2),n=f,g.add(f)):n=g.addShape("text",Object(et.__assign)({attrs:Object(et.__assign)({x:t.x,y:t.y,textAlign:t.textAlign,textBaseline:Object(U.get)(t,"textBaseline","middle"),text:t.content},t.style)},d)),t.rotate&&Hi(n,t.rotate),this.shapesMap[l]=g},Wi.prototype.doLayout=function(o,a){var t,s=this;this.layout&&(t=Object(U.isArray)(this.layout)?this.layout:[this.layout],Object(U.each)(t,function(t){var e,n,i,r=(e=Object(U.get)(t,"type",""),ki[e.toLowerCase()]);r&&(n=[],i=[],Object(U.each)(s.shapesMap,function(t,e){n.push(t),i.push(a[e])}),r(o,n,i,s.region,t.cfg))}))},Wi.prototype.renderLabelLine=function(t){var c=this;Object(U.each)(t,function(t){var e,n,i,r,o,a,s,l=Object(U.get)(t,"coordinate");t&&l&&(e=l.getCenter(),n=l.getRadius(),t.labelLine&&(i=Object(U.get)(t,"labelLine",{}),r=t.id,(a=i.path)||(a=[["M",(o=re(e.x,e.y,n,t.angle)).x,o.y],["L",t.x,t.y]]),(s=c.shapesMap[r]).destroyed||s.addShape("path",{capture:!1,attrs:Object(et.__assign)({path:a,stroke:t.color?t.color:Object(U.get)(t,["style","fill"],"#000"),fill:null},i.style),id:r,origin:t.mappingData,data:t.data,coordinate:t.coordinate})))})},Wi.prototype.createOffscreenGroup=function(){return new(this.container.getGroupBase())({})},Wi.prototype.adjustLabel=function(t){var r=this;Object(U.each)(t,function(t){var e,n,i;t&&(e=t.id,(n=r.shapesMap[e]).destroyed||(i=n.find(function(t){return"text"===t.get("type")}))&&(t.offsetX&&i.attr("x",i.attr("x")+t.offsetX),t.offsetY&&i.attr("y",i.attr("y")+t.offsetY)))})},Wi);function Ui(t){this.geometry=t}var Ki,Zi=(Ui.prototype.getLabelItems=function(t){var a=this,s=[],n=this.getLabelCfgs(t);return Object(U.each)(t,function(i,t){var e,r,o=n[t];!o||Object(U.isNil)(i.x)||Object(U.isNil)(i.y)?s.push(null):(e=Object(U.isArray)(o.content)?o.content:[o.content],r=(o.content=e).length,Object(U.each)(e,function(t,e){var n;Object(U.isNil)(t)||""===t?s.push(null):((n=Object(et.__assign)(Object(et.__assign)({},o),a.getLabelPoint(o,i,e))).textAlign||(n.textAlign=a.getLabelAlign(n,e,r)),n.offset<=0&&(n.labelLine=null),s.push(n))}))}),s},Ui.prototype.render=function(t,e){void 0===e&&(e=!1);var n=this.getLabelItems(t),i=this.getLabelsRenderer(),r=this.getGeometryShapes();i.render(n,r,e)},Ui.prototype.clear=function(){var t=this.labelsRenderer;t&&t.clear()},Ui.prototype.destroy=function(){var t=this.labelsRenderer;t&&t.destroy(),this.labelsRenderer=null},Ui.prototype.getCoordinate=function(){return this.geometry.coordinate},Ui.prototype.getDefaultLabelCfg=function(){return Object(U.get)(this.geometry.theme,"labels",{})},Ui.prototype.setLabelPosition=function(t,e,n,i){},Ui.prototype.getDefaultOffset=function(t){var e=this.getCoordinate(),n=this.getOffsetVector(t);return e.isTransposed?n[0]:n[1]},Ui.prototype.getLabelOffset=function(t,e,n){var i=this.getDefaultOffset(t.offset),r=this.getCoordinate().isTransposed,o=r?"x":"y",a=r?1:-1,s={x:0,y:0};return s[o]=0<e||1===n?i*a:i*a*-1,s},Ui.prototype.getLabelPoint=function(o,t,e){var n=this.getCoordinate(),i=o.content.length;function r(t,e){var n,i,r=t;return Object(U.isArray)(r)&&(r=1===o.content.length?r.length<=2?r[t.length-1]:(n=r,i=0,Object(U.each)(n,function(t){i+=t}),i/n.length):r[e]),r}var a,s={content:o.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"};t&&"polygon"===this.geometry.type?(a=function(t,e){if(Object(U.isNumber)(t)&&Object(U.isNumber)(e))return[t,e];for(var n,i,r=-1,o=0,a=0,s=t.length-1,l=0;++r<t.length;)n=s,s=r,l+=i=t[n]*e[s]-t[s]*e[n],o+=(t[n]+t[s])*i,a+=(e[n]+e[s])*i;return[o/(l*=3),a/l]}(t.x,t.y),s.x=a[0],s.y=a[1]):(s.x=r(t.x,e),s.y=r(t.y,e));var l,c,u,h,p=Object(U.isArray)(t.shape)?t.shape[0]:t.shape;"funnel"!==p&&"pyramid"!==p||(l=Object(U.get)(t,"nextPoints"),c=Object(U.get)(t,"points"),l?(u=n.convert(c[1]),h=n.convert(l[1]),s.x=(u.x+h.x)/2,s.y=(u.y+h.y)/2):"pyramid"===p&&(u=n.convert(c[1]),h=n.convert(c[2]),s.x=(u.x+h.x)/2,s.y=(u.y+h.y)/2)),o.position&&this.setLabelPosition(s,t,e,o.position);var f=this.getLabelOffset(o,e,i);return s.start={x:s.x,y:s.y},s.x+=f.x,s.y+=f.y,s.color=t.color,s},Ui.prototype.getLabelAlign=function(t,e,n){var i,r="center";return this.getCoordinate().isTransposed&&(r=(i=this.getDefaultOffset(t.offset))<0?"right":0===i?"center":"left",1<n&&0===e&&("right"===r?r="left":"left"===r&&(r="right"))),r},Ui.prototype.getLabelId=function(t){var e=this.geometry,n=e.type,i=e.getXScale(),r=e.getYScale(),o=t[pt],a=e.getElementId(t);return"line"===n||"area"===n?a+=" "+o[i.field]:"path"===n&&(a+=" "+o[i.field]+"-"+o[r.field]),a},Ui.prototype.getLabelsRenderer=function(){var t=this.geometry,e=t.labelsContainer,n=t.labelOption,i=t.canvasRegion,r=t.animateOption,o=this.geometry.coordinate,a=this.labelsRenderer;return a||(a=new qi({container:e,layout:Object(U.get)(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=a),a.region=i,a.animate=!!r&&Oi("label",o),a},Ui.prototype.getLabelCfgs=function(t){var l=this,e=this.geometry,c=this.getDefaultLabelCfg(),u=e.type,h=e.theme,n=e.labelOption,i=e.scales,p=e.coordinate,f=n.fields,d=n.callback,g=n.cfg,y=f.map(function(t){return i[t]}),v=[];return Object(U.each)(t,function(t,e){var n=t[pt],i=l.getLabelText(n,y);if(d){var r=f.map(function(t){return n[t]}),o=d.apply(void 0,r);if(Object(U.isNil)(o))return void v.push(null)}var a=Object(et.__assign)(Object(et.__assign)({id:l.getLabelId(t),data:n,mappingData:t,coordinate:p},g),o),s=a.content;Object(U.isFunction)(s)?a.content=s(n,t,e):Object(U.isUndefined)(s)&&(a.content=i[0]),Object(U.isFunction)(a.position)&&(a.position=a.position(n,t,e)),a="polygon"===u||a.offset<0&&!["line","point","path"].includes(u)?Object(U.deepMix)({},c,h.innerLabels,a):Object(U.deepMix)({},c,h.labels,a),v.push(a)}),v},Ui.prototype.getLabelText=function(n,t){var i=[];return Object(U.each)(t,function(e){var t=n[e.field],t=Object(U.isArray)(t)?t.map(function(t){return e.getText(t)}):e.getText(t);Object(U.isNil)(t)||""===t?i.push(null):i.push(t)}),i},Ui.prototype.getOffsetVector=function(t){void 0===t&&(t=0);var e=this.getCoordinate();return e.isTransposed?e.applyMatrix(t,0):e.applyMatrix(0,t)},Ui.prototype.getGeometryShapes=function(){var n=this.geometry,i={};return Object(U.each)(n.elementsMap,function(t,e){i[e]=t.shape}),Object(U.each)(n.getOffscreenGroup().getChildren(),function(t){var e=n.getElementId(t.get("origin").mappingData);i[e]=t}),i},Ui),$i=(n(1498),"#000"),Qi="#FFFFFF",Ji="#A6A6A6",tr="#737373",er="#404040",nr="#262626",ir=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],rr={backgroundColor:"#141414",brandColor:ir[0],paletteQualitative10:ir,paletteQualitative20:["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",fontFamily:'"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,\n  "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",\n  "Noto Color Emoji"',axisLineBorderColor:er,axisLineBorder:.5,axisLineDash:null,axisTitleTextFillColor:Ji,axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTickLineBorderColor:er,axisTickLineLength:4,axisTickLineBorder:.5,axisSubTickLineBorderColor:nr,axisSubTickLineLength:2,axisSubTickLineBorder:.5,axisLabelFillColor:tr,axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisGridBorderColor:nr,axisGridBorder:.5,axisGridLineDash:null,legendTitleTextFillColor:tr,legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:ir[0],legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Ji,legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",sliderRailFillColor:nr,sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:tr,sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:"#F0F0F0",sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:"#BFBFBF",annotationArcBorderColor:nr,annotationArcBorder:.5,annotationLineBorderColor:er,annotationLineBorder:.5,annotationLineDash:null,annotationTextFillColor:Ji,annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:"#0D0D0D",annotationTextBorder:1.5,annotationRegionFillColor:Qi,annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:er,tooltipCrosshairsBorder:.5,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Ji,tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Ji,labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:$i,innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,labelLineBorder:.5,labelLineBorderColor:er,pointFillColor:ir[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:$i,pointBorderOpacity:1,pointActiveBorderColor:Qi,pointSelectedBorder:2,pointSelectedBorderColor:Qi,pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:ir[0],hollowPointBorderOpacity:.95,hollowPointFillColor:$i,hollowPointActiveBorder:1,hollowPointActiveBorderColor:Qi,hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Qi,hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:ir[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:ir[0],areaFillOpacity:.25,areaActiveFillColor:ir[0],areaActiveFillOpacity:.5,areaSelectedFillColor:ir[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:ir[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Qi,hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Qi,hollowAreaInactiveBorderOpacity:.3,intervalFillColor:ir[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Qi,intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Qi,intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:ir[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:$i,hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Qi,hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Qi,hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3},or=n(1424),ar={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},sr={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function lr(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function cr(t){var e=ar[t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var i,r=lr(e);return t.get("id")&&(r.id=t.get("id")),t.set("el",r),t.set("attrs",{}),n&&((i=n.get("el"))||(i=n.createDom(),n.set("el",i)),i.appendChild(r)),r}function ur(t,e){var n=t.get("el"),i=Object(U.toArray)(n.children).sort(e),r=document.createDocumentFragment();i.forEach(function(t){r.appendChild(t)}),n.appendChild(r)}function hr(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,i=[],r=0;r<9;r+=3)i.push(e[r]+","+e[r+1]);-1===(i=i.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+i+")"):console.warn("invalid matrix:",e)}}function pr(t,e){var n,i=t.getClip(),r=t.get("el");i?i&&!r.hasAttribute("clip-path")&&(cr(i),i.createPath(e),n=e.addClip(i),r.setAttribute("clip-path","url(#"+n+")")):r.removeAttribute("clip-path")}function fr(e,t){t.forEach(function(t){t.draw(e)})}function dr(t,e){var n,i,r,o,a,s,l,c,u,h,p,f,d,g,y=t.get("canvas");y&&y.get("autoDraw")&&(n=y.get("context"),r=(i=t.getParent())?i.getChildren():[y],o=t.get("el"),"remove"===e?t.get("isClipShape")?(s=(a=o&&o.parentNode)&&a.parentNode,a&&s&&s.removeChild(a)):o&&o.parentNode&&o.parentNode.removeChild(o):"show"===e?o.setAttribute("visibility","visible"):"hide"===e?o.setAttribute("visibility","hidden"):"zIndex"===e?(c=o,u=r.indexOf(t),p=c.parentNode,f=Array.from(p.childNodes).filter(function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()}),d=f[u],g=f.indexOf(c),d?u<g?p.insertBefore(c,d):g<u&&((h=f[u+1])?p.insertBefore(c,h):p.appendChild(c)):p.appendChild(c)):"sort"===e?(l=t.get("children"))&&l.length&&ur(t,function(t,e){return l.indexOf(t)-l.indexOf(e)?1:0}):"clear"===e?o&&(o.innerHTML=""):"matrix"===e?hr(t):"clip"===e?pr(t,n):"attr"===e||"add"===e&&t.draw(n))}function gr(){return null!==Ki&&Ki.apply(this,arguments)||this}var yr,vr=(Ki=_t.AbstractGroup,Object(q.__extends)(gr,Ki),gr.prototype.isEntityGroup=function(){return!0},gr.prototype.createDom=function(){var t=lr("g");this.set("el",t);var e,n=this.getParent();return n&&((e=n.get("el"))||(e=n.createDom(),n.set("el",e)),e.appendChild(t)),t},gr.prototype.afterAttrsChange=function(t){Ki.prototype.afterAttrsChange.call(this,t);var e,n=this.get("canvas");n&&n.get("autoDraw")&&(e=n.get("context"),this.createPath(e,t))},gr.prototype.onCanvasChange=function(t){dr(this,t)},gr.prototype.getShapeBase=function(){return i},gr.prototype.getGroupBase=function(){return gr},gr.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),pr(this,t),this.createPath(t),e.length&&fr(t,e))},gr.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(U.each)(e||n,function(t,e){sr[e]&&i.setAttribute(sr[e],t)}),hr(this)},gr),mr=n(1500);function br(){var t=null!==yr&&yr.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}var xr,Or=(yr=_t.AbstractShape,Object(q.__extends)(br,yr),br.prototype.getDefaultAttrs=function(){var t=yr.prototype.getDefaultAttrs.call(this);return Object(q.__assign)(Object(q.__assign)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},br.prototype.afterAttrsChange=function(t){yr.prototype.afterAttrsChange.call(this,t);var e,n=this.get("canvas");n&&n.get("autoDraw")&&(e=n.get("context"),this.draw(e,t))},br.prototype.getShapeBase=function(){return i},br.prototype.getGroupBase=function(){return vr},br.prototype.onCanvasChange=function(t){dr(this,t)},br.prototype.calculateBBox=function(){var t,e=this.get("el"),n=null;if(e?n=e.getBBox():(t=Object(mr.getBBoxMethod)(this.get("type")))&&(n=t(this)),n){var i=n.x,r=n.y,o=n.width,a=n.height,s=this.getHitLineWidth(),l=s/2,c=i-l,u=r-l;return{x:c,y:u,minX:c,minY:u,maxX:i+o+l,maxY:r+a+l,width:o+s,height:a+s}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},br.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},br.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},br.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||cr(this),pr(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},br.prototype.createPath=function(t,e){},br.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),i=n.fill,r=n.fillStyle,o=n.stroke,a=n.strokeStyle,s=n.fillOpacity,l=n.strokeOpacity,c=n.lineWidth,u=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",i):"fillStyle"in n&&this._setColor(t,"fill",r):this._setColor(t,"fill",i||r),s&&u.setAttribute(sr.fillOpacity,s)),this.canStroke&&0<c&&(e?"stroke"in n?this._setColor(t,"stroke",o):"strokeStyle"in n&&this._setColor(t,"stroke",a):this._setColor(t,"stroke",o||a),l&&u.setAttribute(sr.strokeOpacity,l),c&&u.setAttribute(sr.lineWidth,c))},br.prototype._setColor=function(t,e,n){var i,r=this.get("el");n?(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)?(i=(i=t.find("gradient",n))||t.addGradient(n),r.setAttribute(sr[e],"url(#"+i+")")):/^[p,P]{1}[\s]*\(/.test(n)?(i=(i=t.find("pattern",n))||t.addPattern(n),r.setAttribute(sr[e],"url(#"+i+")")):r.setAttribute(sr[e],n)):r.setAttribute(sr[e],"none")},br.prototype.shadow=function(t,e){var n,i,r,o,a,s,l=this.attr(),c=e||l,u=c.shadowOffsetX,h=c.shadowOffsetY,p=c.shadowBlur,f=c.shadowColor;(u||h||p||f)&&(i=t,o=(n=this).cfg.el,a=n.attr(),(s={dx:a.shadowOffsetX,dy:a.shadowOffsetY,blur:a.shadowBlur,color:a.shadowColor}).dx||s.dy||s.blur||s.color?(r=(r=i.find("filter",s))||i.addShadow(s),o.setAttribute("filter","url(#"+r+")")):o.removeAttribute("filter"))},br.prototype.transform=function(t){var e=this.attr();(t||e).matrix&&hr(this)},br.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},br.prototype.isPointInPath=function(t,e){var n=this.get("el"),i=this.get("canvas").get("el").getBoundingClientRect(),r=t+i.left,o=e+i.top,a=document.elementFromPoint(r,o);return!(!a||!a.isEqualNode(n))},br.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},br);function wr(){var t=null!==xr&&xr.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}var _r,Cr=(xr=Or,Object(q.__extends)(wr,xr),wr.prototype.getDefaultAttrs=function(){var t=xr.prototype.getDefaultAttrs.call(this);return Object(q.__assign)(Object(q.__assign)({},t),{x:0,y:0,r:0})},wr.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(U.each)(e||n,function(t,e){"x"===e||"y"===e?i.setAttribute("c"+e,t):sr[e]&&i.setAttribute(sr[e],t)})},wr);function jr(){var t=null!==_r&&_r.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}var Sr,Mr=(_r=Or,Object(q.__extends)(jr,_r),jr.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(U.each)(e||n,function(t,e){sr[e]&&i.setAttribute(sr[e],t)}),i.innerHTML=n.html},jr);function kr(){var t=null!==Sr&&Sr.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}var Tr,Pr=(Sr=Or,Object(q.__extends)(kr,Sr),kr.prototype.getDefaultAttrs=function(){var t=Sr.prototype.getDefaultAttrs.call(this);return Object(q.__assign)(Object(q.__assign)({},t),{x:0,y:0,rx:0,ry:0})},kr.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(U.each)(e||n,function(t,e){"x"===e||"y"===e?i.setAttribute("c"+e,t):sr[e]&&i.setAttribute(sr[e],t)})},kr);function Ar(){var t=null!==Tr&&Tr.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}var Er,Lr=(Tr=Or,Object(q.__extends)(Ar,Tr),Ar.prototype.getDefaultAttrs=function(){var t=Tr.prototype.getDefaultAttrs.call(this);return Object(q.__assign)(Object(q.__assign)({},t),{x:0,y:0,width:0,height:0})},Ar.prototype.createPath=function(t,e){var n=this,i=this.attr(),r=this.get("el");Object(U.each)(e||i,function(t,e){"img"===e?n._setImage(i.img):sr[e]&&r.setAttribute(sr[e],t)})},Ar.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},Ar.prototype._setImage=function(t){var e,n=this.attr(),i=this.get("el");Object(U.isString)(t)?i.setAttribute("href",t):t instanceof window.Image?(n.width||(i.setAttribute("width",t.width),this.attr("width",t.width)),n.height||(i.setAttribute("height",t.height),this.attr("height",t.height)),i.setAttribute("href",t.src)):t instanceof HTMLElement&&Object(U.isString)(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()?i.setAttribute("href",t.toDataURL()):t instanceof ImageData&&((e=document.createElement("canvas")).setAttribute("width",""+t.width),e.setAttribute("height",""+t.height),e.getContext("2d").putImageData(t,0,0),n.width||(i.setAttribute("width",""+t.width),this.attr("width",t.width)),n.height||(i.setAttribute("height",""+t.height),this.attr("height",t.height)),i.setAttribute("href",e.toDataURL()))},Ar),Ir=n(1353),Br=n.n(Ir);function Dr(){var t=null!==Er&&Er.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}var Fr,Rr=(Er=Or,Object(q.__extends)(Dr,Er),Dr.prototype.getDefaultAttrs=function(){var t=Er.prototype.getDefaultAttrs.call(this);return Object(q.__assign)(Object(q.__assign)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},Dr.prototype.createPath=function(i,t){var r=this.attr(),o=this.get("el");Object(U.each)(t||r,function(t,e){var n;"startArrow"===e||"endArrow"===e?t?(n=Object(U.isObject)(t)?i.addArrow(r,sr[e]):i.getDefaultArrow(r,sr[e]),o.setAttribute(sr[e],"url(#"+n+")")):o.removeAttribute(sr[e]):sr[e]&&o.setAttribute(sr[e],t)})},Dr.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,i=t.x2,r=t.y2;return Br.a.length(e,n,i,r)},Dr.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,i=e.y1,r=e.x2,o=e.y2;return Br.a.pointAt(n,i,r,o,t)},Dr),Nr={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+i],["L",t,e-i],["L",t+n,e+i],["z"]]},triangleDown:function(t,e,n){var i=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-i],["L",t+n,e-i],["L",t,e+i],["Z"]]}},Yr={get:function(t){return Nr[t]},register:function(t,e){Nr[t]=e},remove:function(t){delete Nr[t]},getAll:function(){return Nr}};function Vr(){var t=null!==Fr&&Fr.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}var Xr,Gr=(Fr=Or,Object(q.__extends)(Vr,Fr),Vr.prototype.createPath=function(t){this.get("el").setAttribute("d",this._assembleMarker())},Vr.prototype._assembleMarker=function(){var t=this._getPath();return Object(U.isArray)(t)?t.map(function(t){return t.join(" ")}).join(""):t},Vr.prototype._getPath=function(){var t=this.attr(),e=t.x,n=t.y,i=t.r||t.radius,r=t.symbol||"circle",o=Object(U.isFunction)(r)?r:Yr.get(r);return o?o(e,n,i):(console.warn(o+" symbol is not exist."),null)},Vr.symbolsFactory=Yr,Vr);function zr(){var t=null!==Xr&&Xr.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}var Hr,Wr=(Xr=Or,Object(q.__extends)(zr,Xr),zr.prototype.getDefaultAttrs=function(){var t=Xr.prototype.getDefaultAttrs.call(this);return Object(q.__assign)(Object(q.__assign)({},t),{startArrow:!1,endArrow:!1})},zr.prototype.createPath=function(i,t){var r=this,o=this.attr(),a=this.get("el");Object(U.each)(t||o,function(t,e){var n;"path"===e&&Object(U.isArray)(t)?a.setAttribute("d",r._formatPath(t)):"startArrow"===e||"endArrow"===e?t?(n=Object(U.isObject)(t)?i.addArrow(o,sr[e]):i.getDefaultArrow(o,sr[e]),a.setAttribute(sr[e],"url(#"+n+")")):a.removeAttribute(sr[e]):sr[e]&&a.setAttribute(sr[e],t)})},zr.prototype._formatPath=function(t){var e=t.map(function(t){return t.join(" ")}).join("");return~e.indexOf("NaN")?"":e},zr.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},zr.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength(),i=e?e.getPointAtLength(t*n):null;return i?{x:i.x,y:i.y}:null},zr);function qr(){var t=null!==Hr&&Hr.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}var Ur,Kr=(Hr=Or,Object(q.__extends)(qr,Hr),qr.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(U.each)(e||n,function(t,e){"points"===e&&Object(U.isArray)(t)&&2<=t.length?i.setAttribute("points",t.map(function(t){return t[0]+","+t[1]}).join(" ")):sr[e]&&i.setAttribute(sr[e],t)})},qr),Zr=n(1509),$r=n.n(Zr);function Qr(){var t=null!==Ur&&Ur.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}var Jr,to=(Ur=Or,Object(q.__extends)(Qr,Ur),Qr.prototype.getDefaultAttrs=function(){var t=Ur.prototype.getDefaultAttrs.call(this);return Object(q.__assign)(Object(q.__assign)({},t),{startArrow:!1,endArrow:!1})},Qr.prototype.onAttrChange=function(t,e,n){Ur.prototype.onAttrChange.call(this,t,e,n),-1!==["points"].indexOf(t)&&this._resetCache()},Qr.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},Qr.prototype.createPath=function(t,e){var n=this.attr(),i=this.get("el");Object(U.each)(e||n,function(t,e){"points"===e&&Object(U.isArray)(t)&&2<=t.length?i.setAttribute("points",t.map(function(t){return t[0]+","+t[1]}).join(" ")):sr[e]&&i.setAttribute(sr[e],t)})},Qr.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(U.isNil)(e)?(this.set("totalLength",$r.a.length(t)),this.get("totalLength")):e},Qr.prototype.getPoint=function(n){var i,r,t=this.attr().points,e=this.get("tCache");return e||(this._setTcache(),e=this.get("tCache")),Object(U.each)(e,function(t,e){n>=t[0]&&n<=t[1]&&(i=(n-t[0])/(t[1]-t[0]),r=e)}),Br.a.pointAt(t[r][0],t[r][1],t[r+1][0],t[r+1][1],i)},Qr.prototype._setTcache=function(){var n,i,r,o,a,s=this.attr().points;s&&0!==s.length&&((n=this.getTotalLength())<=0||(i=0,r=[],Object(U.each)(s,function(t,e){s[e+1]&&((o=[])[0]=i/n,a=Br.a.length(t[0],t[1],s[e+1][0],s[e+1][1]),i+=a,o[1]=i/n,r.push(o))}),this.set("tCache",r)))},Qr.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},Qr.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},Qr);function eo(){var t=null!==Jr&&Jr.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}var no,io=(Jr=Or,Object(q.__extends)(eo,Jr),eo.prototype.getDefaultAttrs=function(){var t=Jr.prototype.getDefaultAttrs.call(this);return Object(q.__assign)(Object(q.__assign)({},t),{x:0,y:0,width:0,height:0,radius:0})},eo.prototype.createPath=function(t,e){var n=this,i=this.attr(),r=this.get("el"),o=!1,a=["x","y","width","height","radius"];Object(U.each)(e||i,function(t,e){-1===a.indexOf(e)||o?-1===a.indexOf(e)&&sr[e]&&r.setAttribute(sr[e],t):(r.setAttribute("d",n._assembleRect(i)),o=!0)})},eo.prototype._assembleRect=function(t){var e=t.x,n=t.y,i=t.width,r=t.height,o=t.radius;if(!o)return"M "+e+","+n+" l "+i+",0 l 0,"+r+" l"+-i+" 0 z";var a,s,l,c,u,h=(a=o,u=c=l=s=0,Object(U.isArray)(a)?1===a.length?s=l=c=u=a[0]:2===a.length?(s=c=a[0],l=u=a[1]):3===a.length?(s=a[0],l=u=a[1],c=a[2]):(s=a[0],l=a[1],c=a[2],u=a[3]):s=l=c=u=a,{r1:s,r2:l,r3:c,r4:u});return Object(U.isArray)(o)?1===o.length?h.r1=h.r2=h.r3=h.r4=o[0]:2===o.length?(h.r1=h.r3=o[0],h.r2=h.r4=o[1]):3===o.length?(h.r1=o[0],h.r2=h.r4=o[1],h.r3=o[2]):(h.r1=o[0],h.r2=o[1],h.r3=o[2],h.r4=o[3]):h.r1=h.r2=h.r3=h.r4=o,[["M "+(e+h.r1)+","+n],["l "+(i-h.r1-h.r2)+",0"],["a "+h.r2+","+h.r2+",0,0,1,"+h.r2+","+h.r2],["l 0,"+(r-h.r2-h.r3)],["a "+h.r3+","+h.r3+",0,0,1,"+-h.r3+","+h.r3],["l "+(h.r3+h.r4-i)+",0"],["a "+h.r4+","+h.r4+",0,0,1,"+-h.r4+","+-h.r4],["l 0,"+(h.r4+h.r1-r)],["a "+h.r1+","+h.r1+",0,0,1,"+h.r1+","+-h.r1],["z"]].join(" ")},eo),ro=n(1645),oo={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},ao={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},so={left:"left",start:"left",center:"middle",right:"end",end:"end"};function lo(){var t=null!==no&&no.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}var co=(no=Or,Object(q.__extends)(lo,no),lo.prototype.getDefaultAttrs=function(){var t=no.prototype.getDefaultAttrs.call(this);return Object(q.__assign)(Object(q.__assign)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},lo.prototype.createPath=function(t,e){var n=this,i=this.attr(),r=this.get("el");this._setFont(),Object(U.each)(e||i,function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?hr(n):sr[e]&&r.setAttribute(sr[e],t)}),r.setAttribute("paint-order","stroke"),r.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},lo.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,i=e.textAlign,r=Object(ro.detect)();r&&"firefox"===r.name?t.setAttribute("dominant-baseline",ao[n]||"alphabetic"):t.setAttribute("alignment-baseline",oo[n]||"baseline"),t.setAttribute("text-anchor",so[i]||"left")},lo.prototype._setText=function(t){var e,n,i,r=this.get("el"),o=this.attr(),a=o.x,s=o.textBaseline,l=void 0===s?"bottom":s;t?~t.indexOf("\n")?(e=t.split("\n"),n=e.length-1,i="",Object(U.each)(e,function(t,e){0===e?"alphabetic"===l?i+='<tspan x="'+a+'" dy="'+-n+'em">'+t+"</tspan>":"top"===l?i+='<tspan x="'+a+'" dy="0.9em">'+t+"</tspan>":"middle"===l?i+='<tspan x="'+a+'" dy="'+-(n-1)/2+'em">'+t+"</tspan>":"bottom"===l?i+='<tspan x="'+a+'" dy="-'+(.3+n)+'em">'+t+"</tspan>":"hanging"===l&&(i+='<tspan x="'+a+'" dy="'+(-(n-1)-.3)+'em">'+t+"</tspan>"):i+='<tspan x="'+a+'" dy="1em">'+t+"</tspan>"}),r.innerHTML=i):r.innerHTML=t:r.innerHTML=""},lo),uo=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ho=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,po=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function fo(t){var e=t.match(po);if(!e)return"";var n="";return e.sort(function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])}),Object(U.each)(e,function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'}),n}function go(t){this.cfg={};var e,n,i,r,o,a,s,l,c,u,h,p,f,d,g,y,v,m,b=null,x=Object(U.uniqueId)("gradient_");return"l"===t.toLowerCase()[0]?(b=lr("linearGradient"),l=t,c=b,h=uo.exec(l),p=Object(U.mod)(Object(U.toRadian)(parseFloat(h[1])),2*Math.PI),f=h[2],d=0<=p&&p<.5*Math.PI?(u={x:0,y:0},{x:1,y:1}):.5*Math.PI<=p&&p<Math.PI?(u={x:1,y:0},{x:0,y:1}):Math.PI<=p&&p<1.5*Math.PI?(u={x:1,y:1},{x:0,y:0}):(u={x:0,y:1},{x:1,y:0}),g=Math.tan(p),y=g*g,v=(d.x-u.x+g*(d.y-u.y))/(1+y)+u.x,m=g*(d.x-u.x+g*(d.y-u.y))/(1+y)+u.y,c.setAttribute("x1",u.x),c.setAttribute("y1",u.y),c.setAttribute("x2",v),c.setAttribute("y2",m),c.innerHTML=fo(f)):(b=lr("radialGradient"),e=t,n=b,i=ho.exec(e),r=parseFloat(i[1]),o=parseFloat(i[2]),a=parseFloat(i[3]),s=i[4],n.setAttribute("cx",r),n.setAttribute("cy",o),n.setAttribute("r",a),n.innerHTML=fo(s)),b.setAttribute("id",x),this.el=b,this.id=x,this.cfg=t,this}var yo=(go.prototype.match=function(t,e){return this.cfg===e},go),vo={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},mo={x:"-40%",y:"-40%",width:"200%",height:"200%"};function bo(t){this.type="filter",this.cfg={};var n=lr(this.type="filter");return Object(U.each)(mo,function(t,e){n.setAttribute(e,t)}),this.el=n,this.id=Object(U.uniqueId)("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,n),this}var xo=(bo.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,i=this.cfg;return Object(U.each)(Object.keys(i),function(t){if(i[t]!==e[t])return n=!1}),n},bo.prototype.update=function(t,e){var n=this.cfg;return n[vo[t]]=e,this._parseShadow(n,this.el),this},bo.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},bo);function Oo(t,e){this.cfg={};var n=lr("marker"),i=Object(U.uniqueId)("marker_");n.setAttribute("id",i);var r=lr("path");r.setAttribute("stroke",t.stroke||"none"),r.setAttribute("fill",t.fill||"none"),n.appendChild(r),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=r,this.id=i;var o=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===o?this._setDefaultPath(e,r):(this.cfg=o,this._setMarker(t.lineWidth,r)),this}var wo=(Oo.prototype.match=function(){return!1},Oo.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},Oo.prototype._setMarker=function(t,e){var n=this.el,i=this.cfg.path,r=this.cfg.d;Object(U.isArray)(i)&&(i=i.map(function(t){return t.join(" ")}).join("")),e.setAttribute("d",i),n.appendChild(e),r&&n.setAttribute("refX",""+r/t)},Oo.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},Oo);function _o(t){this.type="clip",this.cfg={};var e=lr("clipPath");this.el=e,this.id=Object(U.uniqueId)("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}var Co=(_o.prototype.match=function(){return!1},_o.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},_o),jo=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i;function So(t){this.cfg={};var e=lr("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=lr("image");e.appendChild(n);var i=Object(U.uniqueId)("pattern_");e.id=i,this.el=e,this.id=i,this.cfg=t;var r=jo.exec(t)[2];n.setAttribute("href",r);var o=new Image;function a(){e.setAttribute("width",""+o.width),e.setAttribute("height",""+o.height)}return r.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=r,o.complete?a():(o.onload=a,o.src=o.src),this}var Mo=(So.prototype.match=function(t,e){return this.cfg===e},So);function ko(t){var e=lr("defs"),n=Object(U.uniqueId)("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}var To,Po=(ko.prototype.find=function(t,e){for(var n=this.children,i=null,r=0;r<n.length;r++)if(n[r].match(t,e)){i=n[r].id;break}return i},ko.prototype.findById=function(t){for(var e=this.children,n=null,i=0;i<e.length;i++)if(e[i].id===t){n=e[i];break}return n},ko.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},ko.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var i=new wo(t,e);return this.defaultArrow[n]=i,this.el.appendChild(i.el),this.add(i),i.id},ko.prototype.addGradient=function(t){var e=new yo(t);return this.el.appendChild(e.el),this.add(e),e.id},ko.prototype.addArrow=function(t,e){var n=new wo(t,e);return this.el.appendChild(n.el),this.add(n),n.id},ko.prototype.addShadow=function(t){var e=new xo(t);return this.el.appendChild(e.el),this.add(e),e.id},ko.prototype.addPattern=function(t){var e=new Mo(t);return this.el.appendChild(e.el),this.add(e),e.id},ko.prototype.addClip=function(t){var e=new Co(t);return this.el.appendChild(e.el),this.add(e),e.id},ko);function Ao(t){return To.call(this,Object(q.__assign)(Object(q.__assign)({},t),{autoDraw:!0,renderer:"svg"}))||this}var Eo=(To=_t.AbstractCanvas,Object(q.__extends)(Ao,To),Ao.prototype.getShapeBase=function(){return i},Ao.prototype.getGroupBase=function(){return vr},Ao.prototype.getShape=function(t,e,n){var i=n.target||n.srcElement;if(!ar[i.tagName]){for(var r=i.parentNode;r&&!ar[r.tagName];)r=r.parentNode;i=r}return this.find(function(t){return t.get("el")===i})},Ao.prototype.createDom=function(){var t=lr("svg"),e=new Po(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},Ao.prototype.onCanvasChange=function(t){var n,e,i=this.get("context"),r=this.get("el");"sort"===t?(n=this.get("children"))&&n.length&&ur(this,function(t,e){return n.indexOf(t)-n.indexOf(e)?1:0}):"clear"===t?r&&(r.innerHTML="",(e=i.el).innerHTML="",r.appendChild(e)):"matrix"===t?hr(this):"clip"===t?pr(this,i):"changeSize"===t&&(r.setAttribute("width",""+this.get("width")),r.setAttribute("height",""+this.get("height")))},Ao.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();pr(this,t),e.length&&fr(t,e)},Ao),Lo=n(1646).version;function Io(t){return!t&&(null==t||isNaN(t))}function Bo(t){if(Object(U.isArray)(t))return Io(t[1].y);var e=t.y;return Object(U.isArray)(e)?Io(e[0]):Io(e)}function Do(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!0),!t.length||1===t.length&&!n)return[];if(e){for(var i=[],r=0,o=t.length;r<o;r++){Bo(a=t[r])||i.push(a)}return[i]}for(var a,s=[],l=[],r=0,o=t.length;r<o;r++){Bo(a=t[r])?l.length&&(1===l.length&&!n||s.push(l),l=[]):l.push(a)}return l.length&&s.push(l),s}function Fo(t,e,n,i){void 0===i&&(i="");var r=t.style,o=void 0===r?{}:r,a=t.defaultStyle,s=t.color,l=t.size,c=Object(et.__assign)(Object(et.__assign)({},a),o);return s&&(e&&(o.stroke||(c.stroke=s)),n&&(o.fill||(c.fill=s))),i&&Object(U.isNil)(o[i])&&!Object(U.isNil)(l)&&(c[i]=l),c}function Ro(t){var n=t.x;return(Object(U.isArray)(t.y)?t.y:[t.y]).map(function(t,e){return{x:Object(U.isArray)(n)?n[e]:n,y:t}})}var No={line:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dot:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},dash:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},smooth:function(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]},hv:function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]},vh:function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]},hvh:function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]},vhv:function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]}};function Yo(t,e){var n=t.color;return{symbol:No[e],style:{lineWidth:2,r:6,stroke:n}}}function Vo(t,e,n){for(var i=t.isStack,r=t.connectNulls,o=t.isInCircle,a=t.showSinglePoint,s=Fo(t,!0,!1,"lineWidth"),l=Do(t.points,r,a),c=[],u=0,h=l.length;u<h;u++)var p=l[u],c=c.concat(function(t,e,n,i,r,o){if(t.length){var a=t[0];return Object(U.isArray)(a.y)?function(t,e,n,i,r,o){var a=[],s=[];Object(U.each)(t,function(t){var e=Ro(t);a.push(e[1]),s.push(e[0])});var l=Xo(a,e,i,r,o),c=Xo(s,e,i,r,o);if(n)return l;return l.concat(c)}(t,e,n,i,r,o):Xo(t,e,i,r,o)}return[]}(p,o,i,e,n,s));return s.path=c,s}function Xo(t,e,n,i,r){return 1===t.length?[["M",t[0].x,t[0].y-r.lineWidth/2],["L",t[0].x,t[0].y],["L",t[0].x,t[0].y+r.lineWidth/2]]:(n?(e&&t.length&&t.push({x:t[0].x,y:t[0].y}),o=Oe(t,!1,i)):(o=xe(t,!1),e&&o.push(["Z"])),o);var o}Di("line",{defaultShapeType:"line"});Object(U.each)(["line","dot","dash","smooth"],function(l){Fi("line",l,{draw:function(t,e){var n,i,r,o,a="smooth"===l;a&&(i=(n=this.coordinate).start,r=n.end,o=[[i.x,r.y],[r.x,i.y]]);var s=Vo(t,a,o);return e.addShape({type:"path",attrs:s,name:"line"})},getMarker:function(t){return Yo(t,l)}})});var Go;function zo(t){var e=Go.call(this,t)||this;e.type="path",e.shapeType="line";var n=t.connectNulls,i=void 0!==n&&n,r=t.showSinglePoint,o=void 0===r||r;return e.connectNulls=i,e.showSinglePoint=o,e}var Ho=(Go=Xi,Object(et.__extends)(zo,Go),zo.prototype.createElements=function(t,e,n){void 0===n&&(n=!1);var i,r,o=this.lastElementsMap,a=this.elementsMap,s=this.elements,l=this.container,c=this.getElementId(t),u=this.getShapeInfo(t),h=o[c];return h?(i=h.getModel(),(this.isCoordinateChanged||Ni(i,u))&&(h.animate=this.animateOption,h.update(u)),delete o[c]):(r=this.getShapeFactory(),(h=new Si({shapeFactory:r,container:l,offscreenGroup:this.getOffscreenGroup()})).geometry=this,h.animate=this.animateOption,h.draw(u,n)),s.push(h),a[c]=h,s},zo.prototype.getPointsAndData=function(t){for(var e=[],n=[],i=0,r=t.length;i<r;i++){var o=t[i];e.push({x:o.x,y:o.y}),n.push(o[pt])}return{points:e,data:n}},zo.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),i=n.points,r=n.data;return e.mappingData=t,e.data=r,e.isStack=!!this.getAdjust("stack"),e.points=i,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},zo);function Wo(t,e,n,i,r){for(var o=Fo(t,e,!e,"lineWidth"),a=t.connectNulls,s=t.isInCircle,l=Do(t.points,a,t.showSinglePoint),c=[],u=0,h=l.length;u<h;u++)var p=l[u],c=c.concat(function(t,o,a,s,l){var c=[];if(t.length){for(var u=[],h=[],e=0,n=t.length;e<n;e++){var i=t[e];u.push(i[1]),h.push(i[0])}h=h.reverse(),Object(U.each)([u,h],function(t,e){var n=[],i=s.parsePoints(t),r=i[0];1===u.length&&1===h.length?n=0===e?[["M",r.x-.5,r.y],["L",r.x+.5,r.y]]:[["L",r.x+.5,r.y],["L",r.x-.5,r.y]]:(o&&i.push({x:r.x,y:r.y}),n=a?Oe(i,!1,l):xe(i,!1),0<e&&(n[0][0]="L")),c=c.concat(n)}),c.push(["Z"])}return c}(p,s,n,i,r));return o.path=c,o}function qo(t){var e=t.start,n=t.end;return[[e.x,n.y],[n.x,e.y]]}Di("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=t.x,n=t.y0;return(Object(U.isArray)(t.y)?t.y:[n,t.y]).map(function(t){return{x:e,y:t}})}});Fi("area","area",{draw:function(t,e){var n=Wo(t,!1,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color}}}});var Uo;function Ko(t){var e=Uo.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var n=t.startOnZero,i=void 0===n||n,r=t.sortable,o=void 0===r||r,a=t.showSinglePoint,s=void 0!==a&&a;return e.startOnZero=i,e.sortable=o,e.showSinglePoint=s,e}var Zo=(Uo=Ho,Object(et.__extends)(Ko,Uo),Ko.prototype.getPointsAndData=function(t){for(var e=[],n=[],i=0,r=t.length;i<r;i++){var o=t[i];e.push(o.points),n.push(o[pt])}return{points:e,data:n}},Ko.prototype.getYMinValue=function(){return this.startOnZero?Uo.prototype.getYMinValue.call(this):this.getYScale().min},Ko);Di("edge",{defaultShapeType:"line",getDefaultPoints:Ro});Fi("edge","line",{draw:function(t,e){var n=Fo(t,!0,!1,"lineWidth"),i=xe(this.parsePoints(t.points),this.coordinate.isPolar);return e.addShape("path",{attrs:Object(et.__assign)(Object(et.__assign)({},n),{path:i})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});var $o;function Qo(){var t=null!==$o&&$o.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}var Jo,ta=($o=Xi,Object(et.__extends)(Qo,$o),Qo),ea=n(1400);function na(){var t=null!==Jo&&Jo.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}var ia=(Jo=Xi,Object(et.__extends)(na,Jo),na.prototype.createElements=function(t,e,n){void 0===n&&(n=!1);var i=this.prepareRange(t),r=this.prepareSize(),o=Object(U.get)(this.styleOption,["style","shadowBlur"]);return Object(U.isNumber)(o)||(o=r/2),this.prepareGreyScaleBlurredCircle(r,o),this.drawWithRange(t,i,r,o),null},na.prototype.clear=function(){Jo.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},na.prototype.prepareRange=function(t){var n=this.getAttribute("color").getFields()[0],i=1/0,r=-1/0;return t.forEach(function(t){var e=t[pt][n];r<e&&(r=e),e<i&&(i=e)}),i===r&&(i=r-1),[i,r]},na.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return Object(U.isNumber)(t)||(t=this.getDefaultSize()),t},na.prototype.prepareGreyScaleBlurredCircle=function(t,e){var n=this.getGrayScaleBlurredCanvas(),i=t+e,r=n.getContext("2d");n.width=n.height=2*i,r.clearRect(0,0,n.width,n.height),r.shadowOffsetX=r.shadowOffsetY=2*i,r.shadowBlur=e,r.shadowColor="black",r.beginPath(),r.arc(-i,-i,t,0,2*Math.PI,!0),r.closePath(),r.fill()},na.prototype.drawWithRange=function(t,e,n,i){var r=this.coordinate,o=r.start,a=r.end,s=this.coordinate.getWidth(),l=this.coordinate.getHeight(),c=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var u=this.getShadowCanvasCtx();e&&(t=t.filter(function(t){return t[pt][c]<=e[1]&&t[pt][c]>=e[0]}));for(var h=this.scales[c],p=0,f=t;p<f.length;p++){var d=f[p],g=this.getDrawCfg(d),y=g.x,v=g.y,m=h.scale(d[pt][c]);this.drawGrayScaleBlurredCircle(y-o.x,v-a.y,n+i,m,u)}var b=u.getImageData(0,0,s,l);this.clearShadowCanvasCtx(),this.colorize(b),u.putImageData(b,0,0);var x=this.getImageShape();x.attr("x",o.x),x.attr("y",a.y),x.attr("width",s),x.attr("height",l),x.attr("img",u.canvas),x.set("origin",this.getShapeInfo(t))},na.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},na.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},na.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},na.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},na.prototype.drawGrayScaleBlurredCircle=function(t,e,n,i,r){var o=this.getGrayScaleBlurredCanvas();r.globalAlpha=i,r.drawImage(o,t-n,e-n)},na.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,i=this.paletteCache,r=3;r<n.length;r+=4){var o,a=n[r];Object(U.isNumber)(a)&&(o=i[a]?i[a]:ea.default.rgb2arr(e.gradient(a/256)),n[r-3]=o[0],n[r-2]=o[1],n[r-1]=o[2],n[r]=a)}},na.prototype.getImageShape=function(){if(t=this.imageShape)return t;var t=this.container.addShape({type:"image",attrs:{}});return this.imageShape=t},na.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return Object(et.__assign)(Object(et.__assign)({},e),{mappingData:t,data:this.getData(t)})},na.prototype.getData=function(t){return t.map(function(t){return t[pt]})},na);function ra(t,e){void 0===e&&(e=!1);var n,i,r=t.x,o=t.y,a=t.y0,s=t.size,l=Object(U.isArray)(o)?(n=o[0],o[1]):(n=a,o),c=Object(U.isArray)(r)?(i=r[0],r[1]):(i=r-s/2,r+s/2),u=[{x:i,y:n},{x:i,y:l}];return e?u.push({x:c,y:(l+n)/2}):u.push({x:c,y:l},{x:c,y:n}),u}function oa(t,e){void 0===e&&(e=!0);var n=[],i=t[0];n.push(["M",i.x,i.y]);for(var r=1,o=t.length;r<o;r++)n.push(["L",t[r].x,t[r].y]);return e&&(n.push(["L",i.x,i.y]),n.push(["z"])),n}function aa(t,e,n){var i=[];return Object(U.isNil)(e)?n?i.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[2].x,t[2].y],["Z"]):i.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",t[2].x,t[2].y],["L",t[3].x,t[3].y],["Z"]):i.push(["M",t[0].x,t[0].y],["L",t[1].x,t[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),i}Di("interval",{defaultShapeType:"rect",getDefaultPoints:function(t){return ra(t)}});Fi("interval","rect",{draw:function(t,e){var n=Fo(t,!1,!0),i=this.parsePath(oa(t.points));return e.addShape("path",{attrs:Object(et.__assign)(Object(et.__assign)({},n),{path:i}),name:"interval"})},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});var sa;function la(t){var e,n=t.theme,i=t.coordinate,r=t.getXScale(),o=r.values,a=t.beforeMappingData,s=o.length;r.isLinear&&1<o.length&&(o.sort(),e=function(t,e){var n=t.length,i=t;Object(U.isString)(i[0])&&(i=t.map(function(t){return e.translate(t)}));for(var r=i[1]-i[0],o=2;o<n;o++){var a=i[o]-i[o-1];a<r&&(r=a)}return r}(o,r),s=(r.max-r.min)/e,o.length>s&&(s=o.length));var l=r.range,c=1/s,u=1,u=i.isPolar?i.isTransposed&&1<s?n.multiplePieWidthRatio:n.roseWidthRatio:(r.isLinear&&(c*=l[1]-l[0]),n.columnWidthRatio);c*=u,t.getAdjust("dodge")&&(c/=function(t,e){if(e){var n=Object(U.flatten)(t);return Object(U.valuesOfKey)(n,e).length}return t.length}(a,t.getAdjust("dodge").dodgeBy));var h,p,f=n.maxColumnWidth,d=n.minColumnWidth,g=pe(t.coordinate);return!f||(h=f/g)<c&&(c=h),!d||c<(p=d/g)&&(c=p),c}function ca(){var t=null!==sa&&sa.apply(this,arguments)||this;return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t}var ua,ha=(sa=Xi,Object(et.__extends)(ca,sa),ca.prototype.createShapePointsCfg=function(t){var e,n=sa.prototype.createShapePointsCfg.call(this,t),i=this.getAttribute("size");return i?(e=this.getAttributeValues(i,t)[0],e/=pe(this.coordinate)):(this.defaultSize||(this.defaultSize=la(this)),e=this.defaultSize),n.size=e,n},ca.prototype.adjustScale=function(){sa.prototype.adjustScale.call(this);var t,e,n,i,r=this.getYScale();"theta"===this.coordinate.type?r.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,r.values),r.max)}):(t=this.scaleDefs,e=r.field,n=r.min,i=r.max,"time"!==r.type&&(0<n&&!Object(U.get)(t,[e,"min"])&&r.change({min:0}),i<=0&&!Object(U.get)(t,[e,"max"])&&r.change({max:0})))},ca);function pa(t){var e=ua.call(this,t)||this;e.type="line";var n=t.sortable,i=void 0===n||n;return e.sortable=i,e}var fa=(ua=Ho,Object(et.__extends)(pa,ua),pa),da={hexagon:function(t,e,n){var i=n/2*Math.sqrt(3);return[["M",t,e-n],["L",t+i,e-n/2],["L",t+i,e+n/2],["L",t,e+n],["L",t-i,e+n/2],["L",t-i,e-n/2],["Z"]]},bowtie:function(t,e,n){var i=n-1.5;return[["M",t-n,e-i],["L",t+n,e+i],["L",t+n,e-i],["L",t-n,e+i],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}},ga=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"];function ya(t,e,n,i,r){var o=Fo(e,r,!r,"r"),a=t.parsePoints(e.points),s=a[0];if(e.isStack)s=a[1];else if(1<a.length){for(var l=n.addGroup(),c=0,u=a;c<u.length;c++){var h=u[c];l.addShape({type:"marker",attrs:Object(et.__assign)(Object(et.__assign)(Object(et.__assign)({},o),{symbol:da[i]||i}),h)})}return l}return n.addShape({type:"marker",attrs:Object(et.__assign)(Object(et.__assign)(Object(et.__assign)({},o),{symbol:da[i]||i}),s)})}Di("point",{defaultShapeType:"hollow-circle",getDefaultPoints:Ro});Object(U.each)(ga,function(n){Fi("point","hollow-"+n,{draw:function(t,e){return ya(this,t,e,n,!0)},getMarker:function(t){var e=t.color;return{symbol:da[n]||n,style:{r:4.5,stroke:e,fill:null}}}})});var va;function ma(){var t=null!==va&&va.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}var ba=(va=Xi,Object(et.__extends)(ma,va),ma.prototype.getDrawCfg=function(t){var e=va.prototype.getDrawCfg.call(this,t);return Object(et.__assign)(Object(et.__assign)({},e),{isStack:!!this.getAdjust("stack")})},ma);Di("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var r=[];return Object(U.each)(i.x,function(t,e){var n=i.y[e];r.push({x:t,y:n})}),r}});Fi("polygon","polygon",{draw:function(t,e){if(!Object(U.isEmpty)(t.points)){var n=Fo(t,!0,!0),i=this.parsePath(function(t){for(var e=t[0],n=1,i=[["M",e.x,e.y]];n<t.length;){var r=t[n];r.x===t[n-1].x&&r.y===t[n-1].y||(i.push(["L",r.x,r.y]),r.x===e.x&&r.y===e.y&&n<t.length-1&&(e=t[n+1],i.push(["Z"]),i.push(["M",e.x,e.y]),n++)),n++}return Object(U.isEqual)(Object(U.last)(i),e)||i.push(["L",e.x,e.y]),i.push(["Z"]),i}(t.points));return e.addShape("path",{attrs:Object(et.__assign)(Object(et.__assign)({},n),{path:i}),name:"polygon"})}},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}});var xa;function Oa(){var t=null!==xa&&xa.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}var wa,_a=(xa=Xi,Object(et.__extends)(Oa,xa),Oa.prototype.createShapePointsCfg=function(t){var e,n,i,r,o,a=xa.prototype.createShapePointsCfg.call(this,t),s=a.x,l=a.y;return Object(U.isArray)(s)&&Object(U.isArray)(l)||(n=this.getXScale(),i=this.getYScale(),r=.5/n.values.length,o=.5/i.values.length,n.isCategory&&i.isCategory?(s=[s-r,s-r,s+r,s+r],l=[l-o,l+o,l+o,l-o]):Object(U.isArray)(s)?(s=[(e=s)[0],e[0],e[1],e[1]],l=[l-o/2,l+o/2,l+o/2,l-o/2]):Object(U.isArray)(l)&&(l=[(e=l)[0],e[1],e[1],e[0]],s=[s-r/2,s-r/2,s+r/2,s+r/2]),a.x=s,a.y=l),a},Oa);Di("schema",{defaultShapeType:""});function Ca(){var t=null!==wa&&wa.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}var ja=(wa=Xi,Object(et.__extends)(Ca,wa),Ca.prototype.createShapePointsCfg=function(t){var e,n=wa.prototype.createShapePointsCfg.call(this,t),i=this.getAttribute("size");return i?(e=this.getAttributeValues(i,t)[0],e/=pe(this.coordinate)):(this.defaultSize||(this.defaultSize=la(this)),e=this.defaultSize),n.size=e,n},Ca);function Sa(t,e){var n=[];n.push({x:t.x,y:t.y/2+e.y/2}),n.push({x:e.x,y:t.y/2+e.y/2}),n.push(e);var i=["C"];return Object(U.each)(n,function(t){i.push(t.x,t.y)}),i}function Ma(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var i=["Q"];return Object(U.each)(n,function(t){i.push(t.x,t.y)}),i}Fi("area","line",{draw:function(t,e){var n=Wo(t,!0,!1,this);return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),Fi("area","smooth",{draw:function(t,e){var n=Wo(t,!1,!0,this,qo(this.coordinate));return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,fill:t.color}}}}),Fi("area","smooth-line",{draw:function(t,e){var n=Wo(t,!0,!0,this,qo(this.coordinate));return e.addShape({type:"path",attrs:n,name:"area"})},getMarker:function(t){return{symbol:function(t,e,n){return void 0===n&&(n=5.5),[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},style:{r:5,stroke:t.color,fill:null}}}}),Fi("edge","arc",{draw:function(t,e){var n=Fo(t,!0,!1,"lineWidth"),i=t.points,r=2<i.length?"weight":"normal";if(t.isInCircle){var o={x:0,y:1},a="normal"==r?(p=i[0],f=i[1],d=Ma(f,o),(g=[["M",p.x,p.y]]).push(d),g):(n.fill=n.stroke,l=o,c=Ma((s=i)[1],l),u=Ma(s[3],l),(h=[["M",s[0].x,s[0].y]]).push(u),h.push(["L",s[3].x,s[3].y]),h.push(["L",s[2].x,s[2].y]),h.push(c),h.push(["L",s[1].x,s[1].y]),h.push(["L",s[0].x,s[0].y]),h.push(["Z"]),h);return a=this.parsePath(a),e.addShape("path",{attrs:Object(et.__assign)(Object(et.__assign)({},n),{path:a})})}if("normal"==r)return a=ae(((i=this.parsePoints(i))[1].x+i[0].x)/2,i[0].y,Math.abs(i[1].x-i[0].x)/2,Math.PI,2*Math.PI),e.addShape("path",{attrs:Object(et.__assign)(Object(et.__assign)({},n),{path:a})});var s,l,c,u,h,p,f,d,g,y=Sa(i[1],i[3]),v=Sa(i[2],i[0]);return a=[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],y,["L",i[3].x,i[3].y],["L",i[2].x,i[2].y],v,["Z"]],a=this.parsePath(a),n.fill=n.stroke,e.addShape("path",{attrs:Object(et.__assign)(Object(et.__assign)({},n),{path:a})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),Fi("edge","smooth",{draw:function(t,e){var n,i,r,o,a=Fo(t,!0,!1,"lineWidth"),s=t.points,l=this.parsePath((n=s[0],i=s[1],r=Sa(n,i),(o=[["M",n.x,n.y]]).push(r),o));return e.addShape("path",{attrs:Object(et.__assign)(Object(et.__assign)({},a),{path:l})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});Fi("edge","vhv",{draw:function(t,e){var n=Fo(t,!0,!1,"lineWidth"),i=t.points,r=this.parsePath(function(t,e){var n=[];n.push({x:t.x,y:t.y*(1-1/3)+e.y*(1/3)}),n.push({x:e.x,y:t.y*(1-1/3)+e.y*(1/3)}),n.push(e);var i=[["M",t.x,t.y]];return Object(U.each)(n,function(t){i.push(["L",t.x,t.y])}),i}(i[0],i[1]));return e.addShape("path",{attrs:Object(et.__assign)(Object(et.__assign)({},n),{path:r})})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),Fi("interval","funnel",{getPoints:function(t){return t.size=2*t.size,ra(t)},draw:function(t,e){var n=Fo(t,!1,!0),i=this.parsePath(aa(t.points,t.nextPoints,!1));return e.addShape("path",{attrs:Object(et.__assign)(Object(et.__assign)({},n),{path:i}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),Fi("interval","hollow-rect",{draw:function(t,e){var n=Fo(t,!0,!1),i=this.parsePath(oa(t.points));return e.addShape("path",{attrs:Object(et.__assign)(Object(et.__assign)({},n),{path:i}),name:"interval"})},getMarker:function(t){var e=t.color;return t.isInPolar?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}}),Fi("interval","line",{getPoints:function(t){return n=(e=t).x,i=e.y,r=e.y0,Object(U.isArray)(i)?i.map(function(t,e){return{x:Object(U.isArray)(n)?n[e]:n,y:t}}):[{x:n,y:r},{x:n,y:i}];var e,n,i,r},draw:function(t,e){var n=Fo(t,!0,!1,"lineWidth"),i=this.parsePath(oa(t.points,!1));return e.addShape("path",{attrs:Object(et.__assign)(Object(et.__assign)({},n),{path:i}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]},style:{r:5,stroke:t.color}}}}),Fi("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,ra(t,!0)},draw:function(t,e){var n=Fo(t,!1,!0),i=this.parsePath(aa(t.points,t.nextPoints,!0));return e.addShape("path",{attrs:Object(et.__assign)(Object(et.__assign)({},n),{path:i}),name:"interval"})},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),Fi("interval","tick",{getPoints:function(t){return i=(e=t).x,r=e.y,o=e.y0,a=e.size,s=Object(U.isArray)(r)?(n=r[0],r[1]):(n=o,r),[{x:i,y:n},{x:i,y:s},{x:c=i-a/2,y:n},{x:l=i+a/2,y:n},{x:c,y:s},{x:l,y:s}];var e,n,i,r,o,a,s,l,c},draw:function(t,e){var n,i=Fo(t,!0,!1),r=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y]]);return e.addShape("path",{attrs:Object(et.__assign)(Object(et.__assign)({},i),{path:r}),name:"interval"})},getMarker:function(t){return{symbol:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},style:{r:5,stroke:t.color}}}});var ka,Ta=function(t,e,n){var i=t.x,r=t.y,o=e.x,a=e.y;switch(n){case"hv":l=[{x:o,y:r}];break;case"vh":l=[{x:i,y:a}];break;case"hvh":var s=(o+i)/2,l=[{x:s,y:r},{x:s,y:a}];break;case"vhv":var c=(r+a)/2;l=[{x:i,y:c},{x:o,y:c}]}return l};function Pa(t,n){var e=Do(t.points,t.connectNulls,t.showSinglePoint),i=[];return Object(U.each)(e,function(t){var r,o,a,e=(r=t,o=n,a=[],Object(U.each)(r,function(t,e){var n,i=r[e+1];a.push(t),i&&(n=Ta(t,i,o),a=a.concat(n))}),a);i=i.concat(e.map(function(t,e){return 0===e?["M",t.x,t.y]:["L",t.x,t.y]}))}),Object(et.__assign)(Object(et.__assign)({},Fo(t,!0,!1,"lineWidth")),{path:i})}function Aa(t){var e=Object(U.isArray)(t)?t:[t],n=e[0],i=e[e.length-1],r=1<e.length?e[1]:n;return{min:n,max:i,min1:r,max1:3<e.length?e[3]:i,median:2<e.length?e[2]:r}}function Ea(t,e,n){var i,r,o,a,s,l,c,u,h,p,f,d=n/2;return(Object(U.isArray)(e)?(s=(i=Aa(e)).min,l=i.max,c=i.median,u=i.min1,[[r=t-d,l],[o=t+d,l],[t,l],[t,h=i.max1],[r,u],[r,h],[o,h],[o,u],[t,u],[t,s],[r,s],[o,s],[r,c],[o,c]]):(e=Object(U.isNil)(e)?.5:e,s=(a=Aa(t)).min,l=a.max,c=a.median,[[s,p=e-d],[s,f=e+d],[s,e],[u=a.min1,e],[u,p],[u,f],[h=a.max1,f],[h,p],[h,e],[l,e],[l,p],[l,f],[c,p],[c,f]])).map(function(t){return{x:t[0],y:t[1]}})}function La(t){var e=(Object(U.isArray)(t)?t:[t]).sort(function(t,e){return e-t});return function(t,e,n){if(Object(U.isString)(t))return t.padEnd(e,n);if(Object(U.isArray)(t)){var i=t.length;if(i<e)for(var r=e-i,o=0;o<r;o++)t.push(n)}return t}(e,4,e[e.length-1])}function Ia(t,e,n){var i=La(e);return[{x:t,y:i[0]},{x:t,y:i[1]},{x:t-n/2,y:i[2]},{x:t-n/2,y:i[1]},{x:t+n/2,y:i[1]},{x:t+n/2,y:i[2]},{x:t,y:i[2]},{x:t,y:i[3]}]}function Ba(){return null!==ka&&ka.apply(this,arguments)||this}Object(U.each)(["hv","vh","hvh","vhv"],function(i){Fi("line",i,{draw:function(t,e){var n=Pa(t,i);return e.addShape({type:"path",attrs:n,name:"line"})},getMarker:function(t){return Yo(t,i)}})}),Object(U.each)(["cross","tick","plus","hyphen","line"],function(n){Fi("point",n,{draw:function(t,e){return ya(this,t,e,n,!0)},getMarker:function(t){var e=t.color;return{symbol:da[n],style:{r:4.5,stroke:e,fill:null}}}})}),Fi("point","image",{draw:function(t,e){var n=Fo(t,!1,!1,"r").r,i=this.parsePoints(t.points),r=i[0];if(t.isStack)r=i[1];else if(1<i.length){for(var o=e.addGroup(),a=0,s=i;a<s.length;a++){var l=s[a];o.addShape("image",{attrs:{x:l.x-n/2,y:l.y-n,width:n,height:n,img:t.shape[1]}})}return o}return e.addShape("image",{attrs:{x:r.x-n/2,y:r.y-n,width:n,height:n,img:t.shape[1]}})},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}}),Object(U.each)(ga,function(n){Fi("point",n,{draw:function(t,e){return ya(this,t,e,n,!1)},getMarker:function(t){var e=t.color;return{symbol:da[n]||n,style:{r:4.5,fill:e}}}})}),Fi("schema","box",{getPoints:function(t){return Ea(t.x,t.y,t.size)},draw:function(t,e){var n,i=Fo(t,!0,!1),r=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["M",n[4].x,n[4].y],["L",n[5].x,n[5].y],["L",n[6].x,n[6].y],["L",n[7].x,n[7].y],["L",n[4].x,n[4].y],["Z"],["M",n[8].x,n[8].y],["L",n[9].x,n[9].y],["M",n[10].x,n[10].y],["L",n[11].x,n[11].y],["M",n[12].x,n[12].y],["L",n[13].x,n[13].y]]);return e.addShape("path",{attrs:Object(et.__assign)(Object(et.__assign)({},i),{path:r,name:"schema"})})},getMarker:function(t){return{symbol:function(t,e,n){var i=Ea(t,[e-6,e-3,e,e+3,e+6],n);return[["M",i[0].x+1,i[0].y],["L",i[1].x-1,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x+1,i[10].y],["L",i[11].x-1,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]},style:{r:6,lineWidth:1,stroke:t.color}}}}),Fi("schema","candle",{getPoints:function(t){return Ia(t.x,t.y,t.size)},draw:function(t,e){var n,i=Fo(t,!0,!0),r=this.parsePath([["M",(n=t.points)[0].x,n[0].y],["L",n[1].x,n[1].y],["M",n[2].x,n[2].y],["L",n[3].x,n[3].y],["L",n[4].x,n[4].y],["L",n[5].x,n[5].y],["Z"],["M",n[6].x,n[6].y],["L",n[7].x,n[7].y]]);return e.addShape("path",{attrs:Object(et.__assign)(Object(et.__assign)({},i),{path:r,name:"schema"})})},getMarker:function(t){var e=t.color;return{symbol:function(t,e,n){var i=Ia(t,[e+7.5,e+3,e-3,e-7.5],n);return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}}),Fi("polygon","square",{draw:function(t,e){if(!Object(U.isEmpty)(t.points)){var n=Fo(t,!0,!0),i=this.parsePoints(t.points);return e.addShape("rect",{attrs:Object(et.__assign)(Object(et.__assign)({},n),(r=i,o=t.size,a=Math.abs(r[0].x-r[2].x),s=Math.abs(r[0].y-r[2].y),l=Math.min(a,s),o&&(l=Object(U.clamp)(o,0,Math.min(a,s))),l/=2,{x:(r[0].x+r[2].x)/2-l,y:(r[0].y+r[2].y)/2-l,width:2*l,height:2*l})),name:"polygon"})}var r,o,a,s,l},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}});var Da,Fa=(ka=Zi,Object(et.__extends)(Ba,ka),Ba.prototype.setLabelPosition=function(t,e,n,i){var r=this.getCoordinate(),o=r.isTransposed,a=e.points,s=r.convert(a[0]),l=r.convert(a[2]),c=o?-1:1,u=(s.x-l.x)/2*c,h=(s.y-l.y)/2*c;switch(i){case"right":o||(t.x-=u,t.y+=h),t.textAlign=Object(U.get)(t,"textAlign","left");break;case"left":o?t.x-=2*u:(t.x+=u,t.y+=h),t.textAlign=Object(U.get)(t,"textAlign","right");break;case"bottom":o?(t.x-=u,t.y-=h):t.y+=2*h,t.textAlign=Object(U.get)(t,"textAlign","center"),t.textBaseline=Object(U.get)(t,"textBaseline","top");break;case"middle":o?t.x-=u:t.y+=h,t.textAlign=Object(U.get)(t,"textAlign","center");break;case"top":o&&(t.x-=u,t.y+=h),t.textAlign=Object(U.get)(t,"textAlign","center"),t.textBaseline=Object(U.get)(t,"textBaseline","bottom")}},Ba),Ra=Math.PI/2;function Na(){return null!==Da&&Da.apply(this,arguments)||this}var Ya,Va=(Da=Zi,Object(et.__extends)(Na,Da),Na.prototype.getLabelAlign=function(t){var e,n,i=this.getCoordinate();return t.labelEmit?t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right":i.isTransposed?(e=i.getCenter(),n=this.getDefaultOffset(t.offset),Math.abs(t.x-e.x)<1?"center":t.angle>Math.PI||t.angle<=0?0<n?"left":"right":0<n?"right":"left"):"center"},Na.prototype.getLabelPoint=function(t,e,n){var i=1,r=t.content[n],o=this.isToMiddle(e)?this.getMiddlePoint(e.points):(1===t.content.length&&0===n?n=1:0===n&&(i=-1),this.getArcPoint(e,n)),a=this.getDefaultOffset(t.offset)*i,s=this.getPointAngle(o),l=t.labelEmit,c=this.getCirclePoint(s,a,o,l);return 0===c.r?c.content="":(c.content=r,c.angle=s,c.color=e.color),c.rotate=t.autoRotate?this.getLabelRotate(s,a,l):t.rotate,c.start={x:o.x,y:o.y},c},Na.prototype.getArcPoint=function(t,e){return void 0===e&&(e=0),Object(U.isArray)(t.x)||Object(U.isArray)(t.y)?{x:Object(U.isArray)(t.x)?t.x[e]:t.x,y:Object(U.isArray)(t.y)?t.y[e]:t.y}:{x:t.x,y:t.y}},Na.prototype.getPointAngle=function(t){return ge(this.getCoordinate(),t)},Na.prototype.getCirclePoint=function(t,e,n,i){var r=this.getCoordinate(),o=r.getCenter(),a=fe(r,n);if(0===a)return Object(et.__assign)(Object(et.__assign)({},o),{r:a});var s=t;return r.isTransposed&&e<a&&!i?s=t+2*Math.asin(e/(2*a)):a+=e,{x:o.x+a*Math.cos(s),y:o.y+a*Math.sin(s),r:a}},Na.prototype.getLabelRotate=function(t,e,n){var i=t+Ra;return n&&(i-=Ra),i&&(Ra<i?i-=Math.PI:i<-Ra&&(i+=Math.PI)),i},Na.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),n=t.length,i={x:0,y:0};return Object(U.each)(t,function(t){i.x+=t.x,i.y+=t.y}),i.x/=n,i.y/=n,i=e.convert(i)},Na.prototype.isToMiddle=function(t){return 2<t.x.length},Na);function Xa(t){var e=Ya.call(this,t)||this;return e.defaultLayout="distribute",e}var Ga=(Ya=Va,Object(et.__extends)(Xa,Ya),Xa.prototype.getDefaultLabelCfg=function(){return Object(U.get)(this.geometry.theme,"pieLabels",{})},Xa.prototype.getDefaultOffset=function(t){return t||0},Xa.prototype.getLabelRotate=function(t,e,n){var i;return e<0&&((i=t)>Math.PI/2&&(i-=Math.PI),i<-Math.PI/2&&(i+=Math.PI)),i},Xa.prototype.getLabelAlign=function(t){var e=this.getCoordinate().getCenter(),n=t.angle<=Math.PI/2&&t.x>=e.x?"left":"right";return this.getDefaultOffset(t.offset)<=0&&(n="right"===n?"left":"right"),n},Xa.prototype.getArcPoint=function(t){return t},Xa.prototype.getPointAngle=function(t){var e,n=this.getCoordinate(),i={x:Object(U.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},r={x:Object(U.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o=ge(n,i),a=t.points&&t.points[0].y===t.points[1].y?o:((e=ge(n,r))<=o&&(e+=2*Math.PI),o+(e-o)/2);return a},Xa.prototype.getCirclePoint=function(t,e,n){var i=this.getCoordinate(),r=i.getCenter(),o=i.getRadius()+e;return Object(et.__assign)(Object(et.__assign)({},re(r.x,r.y,o,t)),{angle:t,r:o})},Xa);var za=100,Ha=(Wa.prototype.hasGap=function(t){for(var e=!0,n=this.bitmap,i=Math.round(t.minX),r=Math.round(t.maxX),o=Math.round(t.minY),a=Math.round(t.maxY),s=i;s<=r;s+=1)if(n[s]){if(s===i||s===r){for(var l=o;l<=a;l++)if(n[s][l]){e=!1;break}}else if(n[s][o]||n[s][a]){e=!1;break}}else n[s]={};return e},Wa.prototype.fillGap=function(t){for(var e=this.bitmap,n=Math.round(t.minX),i=Math.round(t.maxX),r=Math.round(t.minY),o=Math.round(t.maxY),a=n;a<=i;a+=1)e[a]||(e[a]={});for(a=n;a<=i;a+=this.xGap){for(var s=r;s<=o;s+=this.yGap)e[a][s]=!0;e[a][o]=!0}if(1!==this.yGap)for(a=r;a<=o;a+=1)e[n][a]=!0,e[i][a]=!0;if(1!==this.xGap)for(a=n;a<=i;a+=1)e[a][r]=!0,e[a][o]=!0},Wa.prototype.destroy=function(){this.bitmap={}},Wa);function Wa(t){void 0===t&&(t={}),this.bitmap={};var e=t.xGap,n=void 0===e?1:e,i=t.yGap,r=void 0===i?8:i;this.xGap=n,this.yGap=r}function qa(t,e,n,i,r){var o,a,s=n.start,l=n.end,c=n.getWidth(),u=n.getHeight();"y"===r?(o=s.x+c/2,a=i.y<s.y?i.y:s.y):"x"===r?(o=i.x>s.x?i.x:s.x,a=s.y+u/2):"xy"===r&&(a=n.isPolar?(o=n.getCenter().x,n.getCenter().y):(o=(s.x+l.x)/2,(s.y+l.y)/2));var h,p,f,d,g,y,v=(h=t,f=r,g=(p=[o,a])[0],y=p[1],h.applyToMatrix([g,y,1]),"x"===f?(h.setMatrix(Rt.ext.transform(h.getMatrix(),[["t",-g,-y],["s",.01,1],["t",g,y]])),d=Rt.ext.transform(h.getMatrix(),[["t",-g,-y],["s",100,1],["t",g,y]])):"y"===f?(h.setMatrix(Rt.ext.transform(h.getMatrix(),[["t",-g,-y],["s",1,.01],["t",g,y]])),d=Rt.ext.transform(h.getMatrix(),[["t",-g,-y],["s",1,100],["t",g,y]])):"xy"===f&&(h.setMatrix(Rt.ext.transform(h.getMatrix(),[["t",-g,-y],["s",.01,.01],["t",g,y]])),d=Rt.ext.transform(h.getMatrix(),[["t",-g,-y],["s",100,100],["t",g,y]])),d);t.animate({matrix:v},e)}var Ua,Ka=n(1647),Za=n.n(Ka);function $a(t,e){var n,i=Za()(t,e),r=i.startAngle,o=i.endAngle;return!Object(U.isNumberEqual)(r,.5*-Math.PI)&&r<.5*-Math.PI&&(r+=2*Math.PI),!Object(U.isNumberEqual)(o,.5*-Math.PI)&&o<.5*-Math.PI&&(o+=2*Math.PI),0===e[5]&&(r=(n=[o,r])[0],o=n[1]),Object(U.isNumberEqual)(r,1.5*Math.PI)&&(r=-.5*Math.PI),Object(U.isNumberEqual)(o,-.5*Math.PI)&&(o=1.5*Math.PI),{startAngle:r,endAngle:o}}function Qa(t){var e;return"M"===t[0]||"L"===t[0]?e=[t[1],t[2]]:"a"!==t[0]&&"A"!==t[0]||(e=[t[t.length-2],t[t.length-1]]),e}function Ja(t){var e,n,i=t.filter(function(t){return"A"===t[0]||"a"===t[0]}),r=i[0],o=1<i.length?i[1]:i[0],a=t.indexOf(r),s=t.indexOf(o),l=Qa(t[a-1]),c=Qa(t[s-1]),u=$a(l,r),h=u.startAngle,p=u.endAngle,f=$a(c,o),d=f.startAngle,g=f.endAngle,y=Object(U.isNumberEqual)(h,d)&&Object(U.isNumberEqual)(p,g)?(n=h,p):(n=Math.min(h,d),Math.max(p,g)),v=r[1],m=i[i.length-1][1];return v<m?(v=(e=[m,v])[0],m=e[1]):v===m&&(m=0),{startAngle:n,endAngle:y,radius:v,innerRadius:m}}function ts(t,e,n){var i,r,o,a;t.isGroup()?Object(U.each)(t.getChildren(),function(t){ts(t,e,n)}):(r=((i=t.getBBox()).minX+i.maxX)/2,o=(i.minY+i.maxY)/2,t.applyToMatrix([r,o,1]),"zoomIn"===n?(a=Rt.ext.transform(t.getMatrix(),[["t",-r,-o],["s",.01,.01],["t",r,o]]),t.setMatrix(a),t.animate({matrix:Rt.ext.transform(t.getMatrix(),[["t",-r,-o],["s",100,100],["t",r,o]])},e)):t.animate({matrix:Rt.ext.transform(t.getMatrix(),[["t",-r,-o],["s",.01,.01],["t",r,o]])},Object(et.__assign)(Object(et.__assign)({},e),{callback:function(){t.remove(!0)}})))}function es(t){return[W.TOP,W.BOTTOM].includes(t)?{offsetX:0,offsetY:t===W.TOP?-8:8,style:{textAlign:"center",textBaseline:t===W.TOP?"bottom":"top"}}:[W.LEFT,W.RIGHT].includes(t)?{offsetX:t===W.LEFT?-8:8,offsetY:0,style:{textAlign:t===W.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function ns(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}function is(){return null!==Ua&&Ua.apply(this,arguments)||this}var rs,os=(Ua=qt,Object(et.__extends)(is,Ua),is.prototype.getDefaultCfg=function(){return Object(U.deepMix)({},Ua.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:Ua.prototype.getDefaultTitleCfg.call(this)})},is.prototype.render=function(){Ua.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},is.prototype.getRegion=function(t,e){var n=2*Math.PI/t,i=-1*Math.PI/2+n*e,r=.5/(1+1/Math.sin(n/2)),o=ns({x:.5,y:.5},.5-r,i),a=5*Math.PI/4,s=Math.PI/4;return{start:ns(o,r,a),end:ns(o,r,s)}},is.prototype.afterEachView=function(t,e){this.processAxis(t,e)},is.prototype.beforeEachView=function(t,e){},is.prototype.generateFacets=function(o){var a=this,t=this.cfg,e=t.fields,s=t.type,l=e[0];if(!l)throw new Error("No `fields` specified!");var c=this.getFieldValues(o,l),u=c.length,h=[];return c.forEach(function(t,e){var n=[{field:l,value:t,values:c}],i=Object(U.filter)(o,a.getFacetDataFilter(n)),r={type:s,data:i,region:a.getRegion(u,e),columnValue:t,columnField:l,columnIndex:e,columnValuesLength:u,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};h.push(r)}),h},is.prototype.getXAxisOption=function(t,e,n,i){return n},is.prototype.getYAxisOption=function(t,e,n,i){return n},is.prototype.renderTitle=function(){var o=this;Object(U.each)(this.facets,function(t){var e=t.columnValue,n=t.view,i=Object(U.get)(o.cfg.title,"formatter"),r=Object(U.deepMix)({position:["50%","0%"],content:i?i(e):e},es(W.TOP),o.cfg.title);n.annotation().text(r)})},is);function as(){return null!==rs&&rs.apply(this,arguments)||this}var ss,ls=(rs=qt,Object(et.__extends)(as,rs),as.prototype.getDefaultCfg=function(){return Object(U.deepMix)({},rs.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:rs.prototype.getDefaultTitleCfg.call(this)})},as.prototype.render=function(){rs.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},as.prototype.afterEachView=function(t,e){this.processAxis(t,e)},as.prototype.beforeEachView=function(t,e){},as.prototype.generateFacets=function(l){var c=this,t=this.cfg.fields,u=this.cfg.cols,h=t[0];if(!h)throw new Error("No `fields` specified!");var p=this.getFieldValues(l,h),f=p.length,u=u||f,d=this.getPageCount(f,u),g=[];return p.forEach(function(t,e){var n=c.getRowCol(e,u),i=n.row,r=n.col,o=[{field:h,value:t,values:p}],a=Object(U.filter)(l,c.getFacetDataFilter(o)),s={type:c.cfg.type,data:a,region:c.getRegion(d,u,r,i),columnValue:t,rowValue:t,columnField:h,rowField:null,columnIndex:r,rowIndex:i,columnValuesLength:u,rowValuesLength:d,total:f};g.push(s)}),g},as.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1&&i.columnValuesLength*i.rowIndex+i.columnIndex+1+i.columnValuesLength<=i.total?Object(et.__assign)(Object(et.__assign)({},n),{label:null,title:null}):n},as.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.columnIndex?Object(et.__assign)(Object(et.__assign)({},n),{title:null,label:null}):n},as.prototype.renderTitle=function(){var o=this;Object(U.each)(this.facets,function(t){var e=t.columnValue,n=t.view,i=Object(U.get)(o.cfg.title,"formatter"),r=Object(U.deepMix)({position:["50%","0%"],content:i?i(e):e},es(W.TOP),o.cfg.title);n.annotation().text(r)})},as.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},as.prototype.getRowCol=function(t,e){return{row:Math.floor(t/e),col:t%e}},as);function cs(){return null!==ss&&ss.apply(this,arguments)||this}var us,hs=(ss=qt,Object(et.__extends)(cs,ss),cs.prototype.getDefaultCfg=function(){return Object(U.deepMix)({},ss.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Object(et.__assign)({},ss.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(et.__assign)({},ss.prototype.getDefaultTitleCfg.call(this))})},cs.prototype.render=function(){ss.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},cs.prototype.afterEachView=function(t,e){this.processAxis(t,e)},cs.prototype.beforeEachView=function(t,e){},cs.prototype.generateFacets=function(t){for(var e=this.cfg,n=e.fields,i=e.type,r=n.length,o=r,a=[],s=0;s<o;s++)for(var l=n[s],c=0;c<r;c++){var u=n[c],h={type:i,data:t,region:this.getRegion(r,o,s,c),columnValue:l,rowValue:u,columnField:l,rowField:u,columnIndex:s,rowIndex:c,columnValuesLength:o,rowValuesLength:r};a.push(h)}return a},cs.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1?Object(et.__assign)(Object(et.__assign)({},n),{label:null,title:null}):n},cs.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.columnIndex?Object(et.__assign)(Object(et.__assign)({},n),{title:null,label:null}):n},cs.prototype.renderTitle=function(){var u=this;Object(U.each)(this.facets,function(t,e){var n,i,r=t.columnIndex,o=t.rowIndex,a=t.columnValuesLength,s=(t.rowValuesLength,t.columnValue),l=t.rowValue,c=t.view;0===o&&(n=Object(U.get)(u.cfg.columnTitle,"formatter"),i=Object(U.deepMix)({position:["50%","0%"],content:n?n(s):s},es(W.TOP),u.cfg.columnTitle),c.annotation().text(i)),r===a-1&&(n=Object(U.get)(u.cfg.rowTitle,"formatter"),i=Object(U.deepMix)({position:["100%","50%"],content:n?n(l):l},es(W.RIGHT),u.cfg.rowTitle),c.annotation().text(i))})},cs);function ps(){return null!==us&&us.apply(this,arguments)||this}var fs,ds=(us=qt,Object(et.__extends)(ps,us),ps.prototype.getDefaultCfg=function(){return Object(U.deepMix)({},us.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:us.prototype.getDefaultTitleCfg.call(this),transpose:!1})},ps.prototype.render=function(){us.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},ps.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},ps.prototype.afterEachView=function(t,e){this.processAxis(t,e)},ps.prototype.generateFacets=function(s){var l,c,u=this,t=this.cfg.fields[0],h=[],p=1,f=1,d=[""],g=[""];return this.cfg.transpose?(l=t,d=this.getFieldValues(s,l).slice(0,2),p=d.length):(c=t,g=this.getFieldValues(s,c).slice(0,2),f=g.length),d.forEach(function(o,a){g.forEach(function(t,e){var n=[{field:l,value:o,values:d},{field:c,value:t,values:g}],i=Object(U.filter)(s,u.getFacetDataFilter(n)),r={type:u.cfg.type,data:i,region:u.getRegion(f,p,a,e),columnValue:o,rowValue:t,columnField:l,rowField:c,columnIndex:a,rowIndex:e,columnValuesLength:p,rowValuesLength:f};h.push(r)})}),h},ps.prototype.getXAxisOption=function(t,e,n,i){return 1===i.columnIndex||1===i.rowIndex?Object(et.__assign)(Object(et.__assign)({},n),{label:null,title:null}):n},ps.prototype.getYAxisOption=function(t,e,n,i){return n},ps.prototype.renderTitle=function(){var s=this;Object(U.each)(this.facets,function(t,e){var n,i=t.columnValue,r=t.rowValue,o=t.view,a=Object(U.get)(s.cfg.title,"formatter");n=s.cfg.transpose?Object(U.deepMix)({position:["50%","0%"],content:a?a(i):i},es(W.TOP),s.cfg.title):Object(U.deepMix)({position:["100%","50%"],content:a?a(r):r},es(W.RIGHT),s.cfg.title),o.annotation().text(n)})},ps);function gs(){return null!==fs&&fs.apply(this,arguments)||this}var ys,vs=(fs=qt,Object(et.__extends)(gs,fs),gs.prototype.afterEachView=function(t,e){this.processAxis(t,e)},gs.prototype.beforeEachView=function(t,e){},gs.prototype.getDefaultCfg=function(){return Object(U.deepMix)({},fs.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Object(et.__assign)({},fs.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(et.__assign)({},fs.prototype.getDefaultTitleCfg.call(this))})},gs.prototype.render=function(){fs.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},gs.prototype.generateFacets=function(s){var l=this,t=this.cfg.fields,c=t[0],u=t[1],h=[],p=1,f=1,d=[""],g=[""];return c&&(d=this.getFieldValues(s,c),p=d.length),u&&(g=this.getFieldValues(s,u),f=g.length),d.forEach(function(o,a){g.forEach(function(t,e){var n=[{field:c,value:o,values:d},{field:u,value:t,values:g}],i=Object(U.filter)(s,l.getFacetDataFilter(n)),r={type:l.cfg.type,data:i,region:l.getRegion(f,p,a,e),columnValue:o,rowValue:t,columnField:c,rowField:u,columnIndex:a,rowIndex:e,columnValuesLength:p,rowValuesLength:f};h.push(r)})}),h},gs.prototype.renderTitle=function(){var u=this;Object(U.each)(this.facets,function(t,e){var n,i,r=t.columnIndex,o=t.rowIndex,a=t.columnValuesLength,s=t.columnValue,l=t.rowValue,c=t.view;0===o&&(n=Object(U.get)(u.cfg.columnTitle,"formatter"),i=Object(U.deepMix)({position:["50%","0%"],content:n?n(s):s},es(W.TOP),u.cfg.columnTitle),c.annotation().text(i)),r===a-1&&(n=Object(U.get)(u.cfg.rowTitle,"formatter"),i=Object(U.deepMix)({position:["100%","50%"],content:n?n(l):l},es(W.RIGHT),u.cfg.rowTitle),c.annotation().text(i))})},gs.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1?Object(et.__assign)(Object(et.__assign)({},n),{title:null,label:null}):i.columnIndex!==Math.floor((i.columnValuesLength-1)/2)?Object(et.__assign)(Object(et.__assign)({},n),{title:null}):n},gs.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.columnIndex?Object(et.__assign)(Object(et.__assign)({},n),{title:null,label:null}):i.rowIndex!==Math.floor((i.rowValuesLength-1)/2)?Object(et.__assign)(Object(et.__assign)({},n),{title:null}):n},gs);function ms(){var t=null!==ys&&ys.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}var bs,xs=(ys=qt,Object(et.__extends)(ms,ys),ms.prototype.afterEachView=function(t,e){this.processAxis(t,e)},ms.prototype.beforeEachView=function(t,e){},ms.prototype.init=function(){ys.prototype.init.call(this),this.view.on(nt.AFTER_RENDER,this.afterChartRender)},ms.prototype.getDefaultCfg=function(){return Object(U.deepMix)({},ys.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:ys.prototype.getDefaultTitleCfg.call(this)})},ms.prototype.generateFacets=function(t){if(!this.cfg.fields.length)throw new Error("Please specify for the fields for rootFacet!");var e=[],n={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return e.push(n),n.children=this.getChildFacets(t,1,e),this.setRegion(e),e},ms.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(t){t.region=e.getRegion(t.rowValuesLength,t.columnValuesLength,t.columnIndex,t.rowIndex)})},ms.prototype.getRegion=function(t,e,n,i){var r=1/e,o=1/t,a={x:r*n,y:o*i};return{start:a,end:{x:a.x+r,y:a.y+2*o/3}}},ms.prototype.forceColIndex=function(t){var e=this,n=[],i=0;t.forEach(function(t){e.isLeaf(t)&&(n.push(t),t.columnIndex=i,i++)}),n.forEach(function(t){t.columnValuesLength=n.length});for(var r=this.cfg.fields.length-1;0<=r;r--)for(var o=0,a=this.getFacetsByLevel(t,r);o<a.length;o++){var s=a[o];this.isLeaf(s)||(s.originColIndex=s.columnIndex,s.columnIndex=this.getRegionIndex(s.children),s.columnValuesLength=n.length)}},ms.prototype.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(t){t.rowIndex===e&&n.push(t)}),n},ms.prototype.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].columnIndex-e.columnIndex)/2+e.columnIndex},ms.prototype.isLeaf=function(t){return!t.children||!t.children.length},ms.prototype.getRows=function(){return this.cfg.fields.length+1},ms.prototype.getChildFacets=function(o,a,s){var l=this,t=this.cfg.fields;if(!(t.length<a)){var c=[],u=t[a-1],h=this.getFieldValues(o,u);return h.forEach(function(t,e){var n,i=[{field:u,value:t,values:h}],r=o.filter(l.getFacetDataFilter(i));r.length&&(n={type:l.cfg.type,data:r,region:null,columnValue:t,rowValue:"",columnField:u,rowField:"",columnIndex:e,rowValuesLength:l.getRows(),columnValuesLength:1,rowIndex:a,children:l.getChildFacets(r,a+1,s)},c.push(n),s.push(n))}),c}},ms.prototype.render=function(){ys.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},ms.prototype.renderTitle=function(){var o=this;Object(U.each)(this.facets,function(t){var e=t.columnValue,n=t.view,i=Object(U.get)(o.cfg.title,"formatter"),r=Object(U.deepMix)({position:["50%","0%"],content:i?i(e):e},es(W.TOP),o.cfg.title);n.annotation().text(r)})},ms.prototype.drawLines=function(t){var n=this;t.forEach(function(t){var e;n.isLeaf(t)||(e=t.children,n.addFacetLines(t,e))})},ms.prototype.addFacetLines=function(t,e){var o=this,n=t.view.coordinateBBox,a={x:n.x+n.width/2,y:n.y+n.height};e.forEach(function(t){var e=t.view.coordinateBBox,n={x:e.bl.x+(e.tr.x-e.bl.x)/2,y:e.tr.y},i={x:a.x,y:a.y+(n.y-a.y)/2},r={x:n.x,y:i.y};o.drawLine([a,i,r,n])})},ms.prototype.getPath=function(t){var n=[];return this.cfg.line.smooth?(n.push(["M",t[0].x,t[0].y]),n.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(t,e){0===e?n.push(["M",t.x,t.y]):n.push(["L",t.x,t.y])}),n},ms.prototype.drawLine=function(t){var e=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:Object(U.assign)({path:e},n)})},ms.prototype.getXAxisOption=function(t,e,n,i){return i.rowIndex!==i.rowValuesLength-1?Object(et.__assign)(Object(et.__assign)({},n),{title:null,label:null}):n},ms.prototype.getYAxisOption=function(t,e,n,i){return 0!==i.originColIndex&&0!==i.columnIndex?Object(et.__assign)(Object(et.__assign)({},n),{title:null,label:null}):n},ms);function Os(t){var e=bs.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(z.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(z.BG).addGroup(),e.option=[],e}var ws=(bs=Kn,Object(et.__extends)(Os,bs),Object.defineProperty(Os.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),Os.prototype.init=function(){},Os.prototype.layout=function(){function e(t){var e=t.component,n=t.extra,i=n.type,r=o.getAnnotationTheme(i);e.update(o.getAnnotationCfg(i,n,r))}function n(t){var e=o.createAnnotation(t);e&&(e.component.init(),"regionFilter"===t.type&&e.component.render(),o.cache.set(t,e))}var o=this,t=this.getComponents();t.length?Object(U.each)(t,function(t){"regionFilter"===t.component.get("type")?o.view.getRootView().once(nt.AFTER_RENDER,function(){e(t)}):e(t)}):Object(U.each)(this.option,function(t){"regionFilter"===t.type?o.view.getRootView().once(nt.AFTER_RENDER,function(){n(t)}):n(t)})},Os.prototype.render=function(){},Os.prototype.update=function(){function e(t){var e,n=t.type,i=a.getAnnotationTheme(n),r=a.getAnnotationCfg(n,t,i),o=a.cache.get(t);o?(ue(r,["container"]),o.component.update(r),s.set(t,!0)):(e=a.createAnnotation(t))&&(e.component.init(),"regionFilter"===t.type&&e.component.render(),a.cache.set(t,e),s.set(t,!0))}var a=this,s=new WeakMap;this.view.once(nt.AFTER_RENDER,function(){Object(U.each)(a.option,function(t){"regionFilter"===t.type&&e(t)});var n=new Map;a.cache.forEach(function(t,e){s.has(e)?n.set(e,t):t.component.destroy()}),a.cache=n}),Object(U.each)(this.option,function(t){"regionFilter"!==t.type&&e(t)})},Os.prototype.clear=function(t){void 0===t&&(t=!1),bs.prototype.clear.call(this),this.cache.clear(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},Os.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},Os.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(t){e.push(t)}),e},Os.prototype.createAnnotation=function(t){var e=t.type,n=Mt.Annotation[Object(U.upperFirst)(e)];if(n){var i=this.getAnnotationTheme(e),r=this.getAnnotationCfg(e,t,i);return{component:new n(r),layer:this.isTop(r)?z.FORE:z.BG,direction:W.NONE,type:Z.ANNOTATION,extra:t}}},Os.prototype.annotation=function(t){this.option.push(t)},Os.prototype.arc=function(t){return this.annotation(Object(et.__assign)({type:"arc"},t)),this},Os.prototype.image=function(t){return this.annotation(Object(et.__assign)({type:"image"},t)),this},Os.prototype.line=function(t){return this.annotation(Object(et.__assign)({type:"line"},t)),this},Os.prototype.region=function(t){return this.annotation(Object(et.__assign)({type:"region"},t)),this},Os.prototype.text=function(t){return this.annotation(Object(et.__assign)({type:"text"},t)),this},Os.prototype.dataMarker=function(t){return this.annotation(Object(et.__assign)({type:"dataMarker"},t)),this},Os.prototype.dataRegion=function(t){this.annotation(Object(et.__assign)({type:"dataRegion"},t))},Os.prototype.regionFilter=function(t){this.annotation(Object(et.__assign)({type:"regionFilter"},t))},Os.prototype.parsePosition=function(t){var e=this.view.getXScale(),n=this.view.getScalesByDim("y"),i=Object(U.isFunction)(t)?t.call(null,e,n):t,r=0,o=0;if(Object(U.isArray)(i)){var a=i[0],s=i[1];if(Object(U.isString)(a)&&-1!==a.indexOf("%")&&!isNaN(a.slice(0,-1)))return this.parsePercentPosition(i);r=this.getNormalizedValue(a,e),o=this.getNormalizedValue(s,Object.values(n)[0])}else if(!Object(U.isNil)(i))for(var l=0,c=Object(U.keys)(i);l<c.length;l++){var u=c[l],h=i[u];u===e.field&&(r=this.getNormalizedValue(h,e)),n[u]&&(o=this.getNormalizedValue(h,n[u]))}return this.view.getCoordinate().convert({x:r,y:o})},Os.prototype.getRegionPoints=function(t,e){var i,r=this,n=this.view.getXScale(),o=this.view.getScalesByDim("y"),a=Object.values(o)[0],s=n.field,l=this.view.getData(),c=Object(U.isArray)(t)?t[0]:t[s],u=Object(U.isArray)(e)?e[0]:e[s],h=[];return Object(U.each)(l,function(t,e){var n;if(t[s]===c&&(i=e),i<=e&&((n=r.parsePosition([t[s],t[a.field]]))&&h.push(n)),t[s]===u)return!1}),h},Os.prototype.getNormalizedValue=function(t,e){var n,i;switch(t){case"start":n=0;break;case"end":n=1;break;case"median":i=e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2,n=e.scale(i);break;case"min":case"max":i=e.isCategory?"min"===t?0:e.values.length-1:e[t],n=e.scale(i);break;default:n=e.scale(t)}return n},Os.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,n=parseFloat(t[1])/100,i=this.view.getCoordinate(),r=i.start,o=i.end,a=Math.min(r.x,o.x),s=Math.min(r.y,o.y);return{x:i.getWidth()*e+a,y:i.getHeight()*n+s}},Os.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,n=t.end,i=t.getWidth(),r=t.getHeight(),o={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y)};return{x:o.x,y:o.y,minX:o.x,minY:o.y,maxX:o.x+i,maxY:o.y+r,width:i,height:r}},Os.prototype.getAnnotationCfg=function(t,e,n){var i,r,o,a,s,l,c,u,h,p,f,d,g,y,v,m,b,x,O,w,_,C=this.view.getCoordinate(),j={};if(Object(U.isNil)(e))return null;"arc"===t?(v=e.start,m=e.end,i=this.parsePosition(v),r=this.parsePosition(m),o=ge(C,i),(a=ge(C,r))<o&&(a=2*Math.PI+a),j={center:C.getCenter(),radius:fe(C,i),startAngle:o,endAngle:a}):"image"===t?(v=e.start,m=e.end,j={start:this.parsePosition(v),end:this.parsePosition(m),src:e.src}):"line"===t?(v=e.start,m=e.end,j={start:this.parsePosition(v),end:this.parsePosition(m),text:Object(U.get)(e,"text",null)}):"region"===t?(v=e.start,m=e.end,j={start:this.parsePosition(v),end:this.parsePosition(m)}):"text"===t?(c=(s=e).position,l=Object(et.__rest)(s,["position"]),j=Object(et.__assign)(Object(et.__assign)({},this.parsePosition(c)),l)):"dataMarker"===t?(c=e.position,u=e.point,h=e.line,g=e.text,p=e.autoAdjust,f=e.direction,j=Object(et.__assign)(Object(et.__assign)({},this.parsePosition(c)),{coordinateBBox:this.getCoordinateBBox(),point:u,line:h,text:g,autoAdjust:p,direction:f})):"dataRegion"===t?(v=e.start,m=e.end,d=e.region,g=e.text,y=e.lineLength,j={points:this.getRegionPoints(v,m),region:d,text:g,lineLength:y}):"regionFilter"===t&&(v=e.start,m=e.end,b=e.apply,x=e.color,O=this.view.geometries,w=[],_=function(t){t&&(t.isGroup()?t.getChildren().forEach(function(t){return _(t)}):w.push(t))},Object(U.each)(O,function(t){b?Object(U.contains)(b,t.type)&&Object(U.each)(t.elements,function(t){_(t.shape)}):Object(U.each)(t.elements,function(t){_(t.shape)})}),j={color:x,shapes:w,start:this.parsePosition(v),end:this.parsePosition(m)});var S=Object(U.deepMix)({},n,Object(et.__assign)(Object(et.__assign)({},j),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return S.container=this.getComponentContainer(S),S.animate=this.view.getOptions().animate&&S.animate&&Object(U.get)(e,"animate",S.animate),S.animateOption=Object(U.deepMix)({},mi,S.animateOption,e.animateOption),S},Os.prototype.isTop=function(t){return Object(U.get)(t,"top",!0)},Os.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},Os.prototype.getAnnotationTheme=function(t){return Object(U.get)(this.view.getTheme(),["components","annotation",t],{})},Os);function _s(t,e){return Object(U.get)(t,["components","axis",e,"grid"],{})}function Cs(o,t,a,s){var l=[],e=t.getTicks();return o.isPolar&&e.push({value:1,text:"",tickValue:""}),e.reduce(function(t,e,n){var i,r=e.value;return s?l.push({points:[o.convert("y"===a?{x:0,y:r}:{x:r,y:0}),o.convert("y"===a?{x:1,y:r}:{x:r,y:1})]}):n&&(i=(t.value+r)/2,l.push({points:[o.convert("y"===a?{x:0,y:i}:{x:i,y:0}),o.convert("y"===a?{x:1,y:i}:{x:i,y:1})]})),e},e[0]),l}function js(o,t,e,a,s){var l=t.values.length,c=[],n=e.getTicks();return n.reduce(function(t,e){var n=t?t.value:e.value,i=e.value,r=(n+i)/2;return"x"===s?c.push({points:[o.convert({x:a?i:r,y:0}),o.convert({x:a?i:r,y:1})]}):c.push({points:Object(U.map)(Array(l+1),function(t,e){return o.convert({x:e/l,y:a?i:r})})}),e},n[0]),c}function Ss(t,e){var n=Object(U.get)(e,"grid");if(null!==n){var i=Object(U.get)(t,"grid");return void 0!==n||null!==i}}var Ms,ks=["container"],Ts=Object(et.__assign)(Object(et.__assign)({},mi),{appear:null});function Ps(t){var e=Ms.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(z.BG).addGroup(),e.axisContainer=e.view.getLayer(z.BG).addGroup(),e}var As,Es=(Ms=Kn,Object(et.__extends)(Ps,Ms),Object.defineProperty(Ps.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),Ps.prototype.init=function(){},Ps.prototype.render=function(){this.option=this.view.getOptions().axes,this.createXAxes(),this.createYAxes()},Ps.prototype.layout=function(){var c=this,u=this.view.getCoordinate();Object(U.each)(this.getComponents(),function(t){var e,n=t.component,i=t.direction,r=t.type,o=t.extra,a=o.dim,s=o.scale,l=o.alignTick;r===Z.AXIS?u.isPolar?"x"===a?e=u.isTransposed?Nt(u,i):Gt(u):"y"===a&&(e=u.isTransposed?Gt(u):Nt(u,i)):e=Nt(u,i):r===Z.GRID&&(e=u.isPolar?{items:u.isTransposed?"x"===a?js(u,c.view.getYScales()[0],s,l,a):Cs(u,s,a,l):"x"===a?Cs(u,s,a,l):js(u,c.view.getXScale(),s,l,a),center:c.view.getCoordinate().getCenter()}:{items:Cs(u,s,a,l)}),n.update(e)})},Ps.prototype.update=function(){this.option=this.view.getOptions().axes;var n=new Map;this.updateXAxes(n),this.updateYAxes(n);var i=new Map;this.cache.forEach(function(t,e){n.has(e)?i.set(e,t):t.component.destroy()}),this.cache=i},Ps.prototype.clear=function(){Ms.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},Ps.prototype.destroy=function(){Ms.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},Ps.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(t){e.push(t)}),e},Ps.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(e&&!e.isIdentity){var n=e.field,i=zt(this.option,e.field);if(!1!==i){var r,o,a,s=this.view.getCoordinate(),l=this.getId("axis",n),c=this.getId("grid",n),u=Ht(i,W.BOTTOM),h=z.BG;if(s.isRect)(r=this.cache.get(l))?(ue(a=this.getLineAxisCfg(e,i,u),ks),r.component.update(a)):(r=this.createLineAxis(e,i,h,u,"x"),this.cache.set(l,r)),t.set(l,r),(o=this.cache.get(c))?(ue(a=this.getLineGridCfg(e,i,u,"x"),ks),o.component.update(a),t.set(c,o)):(o=this.createLineGrid(e,i,h,u,"x"))&&(this.cache.set(c,o),t.set(c,o));else if(s.isPolar){if(r=this.cache.get(l)){ue(a=s.isTransposed?this.getLineAxisCfg(e,i,W.RADIUS):this.getCircleAxisCfg(e,i,u),ks),r.component.update(a),t.set(l,r)}else{if(s.isTransposed){if(Object(U.isUndefined)(i))return;r=this.createLineAxis(e,i,h,W.RADIUS,"x")}else r=this.createCircleAxis(e,i,h,u,"x");this.cache.set(l,r),t.set(l,r)}if(o=this.cache.get(c)){ue(a=s.isTransposed?this.getCircleGridCfg(e,i,W.RADIUS,"x"):this.getLineGridCfg(e,i,W.CIRCLE,"x"),ks),o.component.update(a),t.set(c,o)}else{if(s.isTransposed){if(Object(U.isUndefined)(i))return;o=this.createCircleGrid(e,i,h,W.RADIUS,"x")}else o=this.createLineGrid(e,i,h,W.CIRCLE,"x");o&&(this.cache.set(c,o),t.set(c,o))}}}}},Ps.prototype.updateYAxes=function(p){var f=this,t=this.view.getYScales();Object(U.each)(t,function(t,e){if(t&&!t.isIdentity){var n=t.field,i=zt(f.option,n);if(!1!==i){var r=z.BG,o=f.getId("axis",n),a=f.getId("grid",n),s=f.view.getCoordinate();if(s.isRect){var l,c,u,h=Ht(i,0===e?W.LEFT:W.RIGHT);(l=f.cache.get(o))?(ue(u=f.getLineAxisCfg(t,i,h),ks),l.component.update(u)):(l=f.createLineAxis(t,i,r,h,"y"),f.cache.set(o,l)),p.set(o,l),(c=f.cache.get(a))?(ue(u=f.getLineGridCfg(t,i,h,"y"),ks),c.component.update(u),p.set(a,c)):(c=f.createLineGrid(t,i,r,h,"y"))&&(f.cache.set(a,c),p.set(a,c))}else if(s.isPolar){if(l=f.cache.get(o)){ue(u=s.isTransposed?f.getCircleAxisCfg(t,i,W.CIRCLE):f.getLineAxisCfg(t,i,W.RADIUS),ks),l.component.update(u),p.set(o,l)}else{if(s.isTransposed){if(Object(U.isUndefined)(i))return;l=f.createCircleAxis(t,i,r,W.CIRCLE,"y")}else l=f.createLineAxis(t,i,r,W.RADIUS,"y");f.cache.set(o,l),p.set(o,l)}if(c=f.cache.get(a)){ue(u=s.isTransposed?f.getLineGridCfg(t,i,W.CIRCLE,"y"):f.getCircleGridCfg(t,i,W.RADIUS,"y"),ks),c.component.update(u),p.set(a,c)}else{if(s.isTransposed){if(Object(U.isUndefined)(i))return;c=f.createLineGrid(t,i,r,W.CIRCLE,"y")}else c=f.createCircleGrid(t,i,r,W.RADIUS,"y");c&&(f.cache.set(a,c),p.set(a,c))}}}}})},Ps.prototype.createXAxes=function(){var t=this.view.getXScale();if(t&&!t.isIdentity){var e=zt(this.option,t.field);if(!1!==e){var n=Ht(e,W.BOTTOM),i=z.BG,r=this.view.getCoordinate(),o=this.getId("axis",t.field),a=this.getId("grid",t.field);if(r.isRect){var s=this.createLineAxis(t,e,i,n,"x");this.cache.set(o,s),(l=this.createLineGrid(t,e,i,n,"x"))&&this.cache.set(a,l)}else if(r.isPolar){var s=void 0,l=void 0;if(r.isTransposed){if(Object(U.isUndefined)(e))return;s=this.createLineAxis(t,e,i,W.RADIUS,"x"),l=this.createCircleGrid(t,e,i,W.RADIUS,"x")}else s=this.createCircleAxis(t,e,i,n,"x"),l=this.createLineGrid(t,e,i,W.CIRCLE,"x");this.cache.set(o,s),l&&this.cache.set(a,l)}}}},Ps.prototype.createYAxes=function(){var h=this,t=this.view.getYScales();Object(U.each)(t,function(t,e){if(t&&!t.isIdentity){var n=t.field,i=zt(h.option,n);if(!1!==i){var r=z.BG,o=h.getId("axis",n),a=h.getId("grid",n),s=h.view.getCoordinate();if(s.isRect){var l=Ht(i,0===e?W.LEFT:W.RIGHT),c=h.createLineAxis(t,i,r,l,"y");h.cache.set(o,c),(u=h.createLineGrid(t,i,r,l,"y"))&&h.cache.set(a,u)}else if(s.isPolar){var c=void 0,u=void 0;if(s.isTransposed){if(Object(U.isUndefined)(i))return;c=h.createCircleAxis(t,i,r,W.CIRCLE,"y"),u=h.createLineGrid(t,i,r,W.CIRCLE,"y")}else c=h.createLineAxis(t,i,r,W.RADIUS,"y"),u=h.createCircleGrid(t,i,r,W.RADIUS,"y");h.cache.set(h.getId("axis",t.field),c),u&&h.cache.set(a,u)}}}})},Ps.prototype.createLineAxis=function(t,e,n,i,r){var o={component:new kt(this.getLineAxisCfg(t,e,i)),layer:n,direction:i===W.RADIUS?W.NONE:i,type:Z.AXIS,extra:{dim:r,scale:t}};return o.component.set("field",t.field),o.component.init(),o},Ps.prototype.createLineGrid=function(t,e,n,i,r){var o=this.getLineGridCfg(t,e,i,r);if(o){var a={component:new Pt(o),layer:n,direction:W.NONE,type:Z.GRID,extra:{dim:r,scale:t,alignTick:Object(U.get)(o,"alignTick",!0)}};return a.component.init(),a}},Ps.prototype.createCircleAxis=function(t,e,n,i,r){var o={component:new Tt(this.getCircleAxisCfg(t,e,i)),layer:n,direction:i,type:Z.AXIS,extra:{dim:r,scale:t}};return o.component.set("field",t.field),o.component.init(),o},Ps.prototype.createCircleGrid=function(t,e,n,i,r){var o=this.getCircleGridCfg(t,e,i,r);if(o){var a={component:new At(o),layer:n,direction:W.NONE,type:Z.GRID,extra:{dim:r,scale:t,alignTick:Object(U.get)(o,"alignTick",!0)}};return a.component.init(),a}},Ps.prototype.getLineAxisCfg=function(t,e,n){var i=this.axisContainer,r=this.view.getCoordinate(),o=Nt(r,n),a=Wt(t,e),s=Xt(this.view.getTheme(),n),l=Object(U.get)(e,["title"])?Object(U.deepMix)({title:{style:{text:a}}},e):e,c=Object(U.deepMix)(Object(et.__assign)(Object(et.__assign)({container:i},o),{ticks:t.getTicks().map(function(t){return{id:""+t.tickValue,name:t.text,value:t.value}}),verticalFactor:r.isPolar?-1*Vt(o,r.getCenter()):Vt(o,r.getCenter())}),s,l),u=this.getAnimateCfg(c),h=u.animate,p=u.animateOption;c.animateOption=p,c.animate=h;var f,d,g=Yt(o),y=Object(U.get)(c,"verticalLimitLength",g?1/3:.5);return y<=1&&(f=this.view.getCanvas().get("width"),d=this.view.getCanvas().get("height"),c.verticalLimitLength=y*(g?f:d)),c},Ps.prototype.getLineGridCfg=function(t,e,n,i){if(Ss(Xt(this.view.getTheme(),n),e)){var r=_s(this.view.getTheme(),n),o=Object(U.deepMix)({container:this.gridContainer},r,Object(U.get)(e,"grid"),this.getAnimateCfg(e));return o.items=Cs(this.view.getCoordinate(),t,i,Object(U.get)(o,"alignTick",!0)),o}},Ps.prototype.getCircleAxisCfg=function(t,e,n){var i=this.axisContainer,r=this.view.getCoordinate(),o=t.getTicks().map(function(t){return{id:""+t.tickValue,name:t.text,value:t.value}});t.isCategory||Math.abs(r.endAngle-r.startAngle)!==2*Math.PI||o.pop();var a=Wt(t,e),s=Xt(this.view.getTheme(),W.CIRCLE),l=Object(U.get)(e,["title"])?Object(U.deepMix)({title:{style:{text:a}}},e):e,c=Object(U.deepMix)(Object(et.__assign)(Object(et.__assign)({container:i},Gt(this.view.getCoordinate())),{ticks:o,verticalFactor:1}),s,l),u=this.getAnimateCfg(c),h=u.animate,p=u.animateOption;return c.animate=h,c.animateOption=p,c},Ps.prototype.getCircleGridCfg=function(t,e,n,i){if(Ss(Xt(this.view.getTheme(),n),e)){var r=_s(this.view.getTheme(),W.RADIUS),o=Object(U.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},r,Object(U.get)(e,"grid"),this.getAnimateCfg(e)),a=Object(U.get)(o,"alignTick",!0),s="x"===i?this.view.getYScales()[0]:this.view.getXScale();return o.items=js(this.view.getCoordinate(),s,t,a,i),o}},Ps.prototype.getId=function(t,e){return t+"-"+e+"-"+this.view.getCoordinate().type},Ps.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&Object(U.get)(t,"animate"),animateOption:t&&t.animateOption?Object(U.deepMix)({},Ts,t.animateOption):Ts}},Ps);function Ls(t,e,n){return n===W.TOP?[t.minX+t.width/2-e.width/2,t.minY]:n===W.BOTTOM?[t.minX+t.width/2-e.width/2,t.maxY-e.height]:n===W.LEFT?[t.minX,t.minY+t.height/2-e.height/2]:n===W.RIGHT?[t.maxX-e.width,t.minY+t.height/2-e.height/2]:n===W.TOP_LEFT||n===W.LEFT_TOP?[t.tl.x,t.tl.y]:n===W.TOP_RIGHT||n===W.RIGHT_TOP?[t.tr.x-e.width,t.tr.y]:n===W.BOTTOM_LEFT||n===W.LEFT_BOTTOM?[t.bl.x,t.bl.y-e.height]:n===W.BOTTOM_RIGHT||n===W.RIGHT_BOTTOM?[t.br.x-e.width,t.br.y-e.height]:[0,0]}function Is(t,e,n){return t&&(t.callback&&1<t.callback.length?(i=Array(t.callback.length-1).fill(""),t.mapping.apply(t,Object(et.__spreadArrays)([e],i)).join("")):t.mapping(e).join(""))||n;var i}function Bs(t){var e=t.symbol;Object(U.isString)(e)&&da[e]&&(t.symbol=da[e])}function Ds(t){return t.startsWith(W.LEFT)||t.startsWith(W.RIGHT)?"vertical":"horizontal"}function Fs(t,e){return Object(U.isBoolean)(t)?!1!==t&&{}:Object(U.get)(t,[e],t)}function Rs(t){return Object(U.get)(t,"position",W.BOTTOM)}function Ns(t){var e=As.call(this,t)||this;return e.container=e.view.getLayer(z.FORE).addGroup(),e}var Ys,Vs=(As=Kn,Object(et.__extends)(Ns,As),Object.defineProperty(Ns.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),Ns.prototype.init=function(){},Ns.prototype.render=function(){var r=this;this.option=this.view.getOptions().legends;var t,e,n;Object(U.get)(this.option,"custom")?(t=this.createCustomLegend(void 0,void 0,void 0,this.option))&&(t.init(),e=z.FORE,n=Rs(this.option),this.components.push({id:"global-custom",component:t,layer:e,direction:n,type:Z.LEGEND,extra:void 0})):this.loopLegends(function(t,e,n){var i=r.createFieldLegend(t,e,n);i&&(i.component.init(),r.components.push(i))})},Ns.prototype.layout=function(){var v=this;this.layoutBBox=this.view.viewBBox;var m=Object(U.get)(this.view.getTheme(),["components","legend","margin"],[0,0,0,0]);Object(U.each)(this.components,function(t){var e=t.component,n=t.direction,i=Ds(n),r=v.getCategoryLegendSizeCfg(i),o=e.get("maxWidth"),a=e.get("maxHeight");e.update({maxWidth:Math.min(r.maxWidth,o||0),maxHeight:Math.min(r.maxHeight,a||0)});var s=e.getLayoutBBox(),l=new _e(s.x,s.y,s.width,s.height),c=Ls(v.view.viewBBox,l,n),u=c[0],h=c[1],p=Ls(v.layoutBBox,l,n),f=p[0],d=p[1],g=0,y=0,y=n.startsWith("top")||n.startsWith("bottom")?(g=u,d):(g=f,h);0<=n.indexOf("left")&&(g+=m[3]),0<=n.indexOf("right")&&(g-=m[1]),0<=n.indexOf("top")&&(y+=m[0]),0<=n.indexOf("bottom")&&(y-=m[2]),e.update({x:g,y:y}),v.layoutBBox=v.layoutBBox.cut(l,n)})},Ns.prototype.update=function(){var l=this;this.option=this.view.getOptions().legends;var t,e,n,i,r,o,c={};Object(U.get)(this.option,"custom")?(t="global-custom",(e=this.getComponentById(t))?(ue(n=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0),["container"]),e.component.update(n),c[t]=!0):(i=this.createCustomLegend(void 0,void 0,void 0,this.option))&&(i.init(),r=z.FORE,o=Rs(this.option),this.components.push({id:t,component:i,layer:r,direction:o,type:Z.LEGEND,extra:void 0}),c[t]=!0)):this.loopLegends(function(t,e,n){var i,r,o,a=l.getId(n.field),s=l.getComponentById(a);s?(i=void 0,!1!==(r=Fs(l.option,n.field))&&(Object(U.get)(r,"custom")?i=l.getCategoryCfg(t,e,n,r,!0):n.isLinear?i=l.getContinuousCfg(t,e,n,r):n.isCategory&&(i=l.getCategoryCfg(t,e,n,r))),i&&(ue(i,["container"]),s.direction=Rs(r),s.component.update(i),c[a]=!0)):(o=l.createFieldLegend(t,e,n))&&(o.component.init(),l.components.push(o),c[a]=!0)});var a=[];Object(U.each)(this.getComponents(),function(t){c[t.id]?a.push(t):t.component.destroy()}),this.components=a},Ns.prototype.clear=function(){As.prototype.clear.call(this),this.container.clear()},Ns.prototype.destroy=function(){As.prototype.destroy.call(this),this.container.remove(!0)},Ns.prototype.getGeometries=function(t){var e=this,n=t.geometries;return Object(U.each)(t.views,function(t){n=n.concat(e.getGeometries(t))}),n},Ns.prototype.loopLegends=function(i){var t,r;this.view.getRootView()===this.view&&(t=this.getGeometries(this.view),r={},Object(U.each)(t,function(n){var t=n.getGroupAttributes();Object(U.each)(t,function(t){var e=t.getScale(t.type);e&&"identity"!==e.type&&!r[e.field]&&(i(n,t,e),r[e.field]=!0)})}))},Ns.prototype.createFieldLegend=function(t,e,n){var i,r=Fs(this.option,n.field),o=z.FORE,a=Rs(r);if(!1!==r&&(Object(U.get)(r,"custom")?i=this.createCustomLegend(t,e,n,r):n.isLinear?i=this.createContinuousLegend(t,e,n,r):n.isCategory&&(i=this.createCategoryLegend(t,e,n,r))),i)return i.set("field",n.field),{id:this.getId(n.field),component:i,layer:o,direction:a,type:Z.LEGEND,extra:{scale:n}}},Ns.prototype.createCustomLegend=function(t,e,n,i){var r=this.getCategoryCfg(t,e,n,i,!0);return new Et(r)},Ns.prototype.createContinuousLegend=function(t,e,n,i){var r=this.getContinuousCfg(t,e,n,i);return new Lt(r)},Ns.prototype.createCategoryLegend=function(t,e,n,i){var r=this.getCategoryCfg(t,e,n,i);return new Et(r)},Ns.prototype.getContinuousCfg=function(t,r,o,e){var n=o.getTicks(),i=Object(U.find)(n,function(t){return 0===t.value}),a=Object(U.find)(n,function(t){return 1===t.value}),s=n.map(function(t){var e=t.value,n=t.tickValue,i=r.mapping(o.invert(e)).join("");return{value:n,attrValue:i,color:i,scaleValue:e}});i||s.push({value:o.min,attrValue:r.mapping(o.invert(0)).join(""),color:r.mapping(o.invert(0)).join(""),scaleValue:0}),a||s.push({value:o.max,attrValue:r.mapping(o.invert(1)).join(""),color:r.mapping(o.invert(1)).join(""),scaleValue:1}),s.sort(function(t,e){return t.value-e.value});var l={min:Object(U.head)(s).value,max:Object(U.last)(s).value,colors:[],rail:{type:r.type},track:{}};"size"===r.type&&(l.track={style:{fill:"size"===r.type?this.view.getTheme().defaultColor:void 0}}),"color"===r.type&&(l.colors=s.map(function(t){return t.attrValue}));var c=this.container,u=Ds(Rs(e)),h=(h=Object(U.get)(e,"title"))&&Object(U.deepMix)({text:Ft(o)},h);return l.container=c,l.layout=u,l.title=h,l.animateOption=mi,this.mergeLegendCfg(l,e,"continuous")},Ns.prototype.getCategoryCfg=function(t,e,n,i,r){var o,a,s=this.container,l=Object(U.get)(i,"position",W.BOTTOM),c=Object(U.get)(this.view.getTheme(),["components","legend",l,"marker"]),u=Object(U.get)(i,"marker"),h=Ds(l),p=r?(o=c,a=u,i.items.map(function(t){var e=Object(U.deepMix)({},o,a,t.marker);return Bs(e),t.marker=e,t})):function(u,h,t,p,f){var d=t.getScale(t.type);if(d.isCategory){var g=d.field,y=h.getAttribute("color"),v=h.getAttribute("shape"),m=u.getTheme().defaultColor,b=h.coordinate.isPolar;return d.getTicks().map(function(t){var e,n=t.text,i=t.value,r=n,o=d.invert(i),a=0===u.filterFieldData(g,[((e={})[g]=o,e)]).length,s=Is(y,o,m),l=Is(v,o,"point"),c=h.getShapeMarker(l,{color:s,isInPolar:b});return Bs(c=Object(U.deepMix)({},p,c,f)),{id:o,name:r,value:o,marker:c,unchecked:a}})}return[]}(this.view,t,e,c,u),f=(f=Object(U.get)(i,"title"))&&Object(U.deepMix)({text:n?Ft(n):""},f),d=this.getCategoryLegendSizeCfg(h);d.container=s,d.layout=h,d.items=p,d.title=f,d.animateOption=mi;var g=this.mergeLegendCfg(d,i,l);g.reversed&&g.items.reverse();var y=Object(U.get)(g,"maxItemWidth");return y&&y<=1&&(g.maxItemWidth=this.view.viewBBox.width*y),g},Ns.prototype.mergeLegendCfg=function(t,e,n){var i=n.split("-")[0],r=Object(U.get)(this.view.getTheme(),["components","legend",i],{});return Object(U.deepMix)({},r,t,e)},Ns.prototype.getId=function(t){return this.name+"-"+t},Ns.prototype.getComponentById=function(e){return Object(U.find)(this.components,function(t){return t.id===e})},Ns.prototype.getCategoryLegendSizeCfg=function(t){var e=this.view.viewBBox,n=e.width,i=e.height;return"vertical"===t?{maxWidth:.25*n,maxHeight:i}:{maxWidth:n,maxHeight:.25*i}},Ns);function Xs(t){var i=Ys.call(this,t)||this;return i.onValueChanged=function(t){var e=t[0],n=t[1];i.updateMinMaxText(e,n),i.view.render(!0)},i.container=i.view.getLayer(z.FORE).addGroup(),i}var Gs,zs=(Ys=Kn,Object(et.__extends)(Xs,Ys),Object.defineProperty(Xs.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),Xs.prototype.init=function(){},Xs.prototype.render=function(){var t,e;this.option=this.view.getOptions().slider,this.option?(this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onValueChanged)),t=this.slider.component.get("start")||0,e=this.slider.component.get("end")||1,this.updateMinMaxText(t,e)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},Xs.prototype.layout=function(){var t,e,n,i,r,o,a;this.slider&&(t=this.view.coordinateBBox.width,e=this.slider.component.getLayoutBBox(),n=new _e(e.x,e.y,Math.min(e.width,t),e.height),(i=Ls(this.view.viewBBox,n,W.BOTTOM))[0],r=i[1],a=(o=Ls(this.view.coordinateBBox,n,W.BOTTOM))[0],o[1],this.slider.component.update({x:a,y:r,width:t}))},Xs.prototype.update=function(){this.render()},Xs.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new Mt.Slider(Object(et.__assign)({container:this.container},t));return e.init(),{component:e,layer:z.FORE,direction:W.BOTTOM,type:Z.OTHER}},Xs.prototype.updateSlider=function(){var t=this.getSliderCfg();return ue(t,["x","y","width","start","end","minText","maxText"]),this.slider.component.update(t),this.slider},Xs.prototype.getSliderCfg=function(){if(Object(U.isObject)(this.option)){var t=Object(et.__assign)({data:this.getData()},Object(U.get)(this.option,"trendCfg",{})),e=this.view.coordinateBBox.width,n=Object(U.deepMix)({},{x:0,y:0,width:e},this.option);return Object(et.__assign)(Object(et.__assign)({},n),{trendCfg:t})}return{}},Xs.prototype.getData=function(){var t=this.view.getOptions().data,n=this.view.getYScales()[0],e=this.view.getGroupScales();if(e.length){var i=e[0],r=i.field,o=i.ticks;return t.reduce(function(t,e){return e[r]===o[0]&&t.push(e[n.field]),t},[])}return t.map(function(t){return t[n.field]||0})},Xs.prototype.updateMinMaxText=function(t,e){var n,i,r,o,a,s,l,c,u=this.view.getOptions().data,h=this.view.getXScale(),p=Object(U.size)(u);h&&p&&(n=h.field,i=u.reduce(function(t,e){return t.includes(e[n])||t.push(e[n]),t},[]),r=Object(U.size)(i),o=Math.floor(t*(r-1)),a=Math.floor(e*(r-1)),s=Object(U.get)(i,[o]),l=Object(U.get)(i,[a]),(c=this.getSliderCfg().formatter)&&(s=c(s,u[o],o),l=c(l,u[a],a)),this.slider.component.update({minText:s,maxText:l,start:t,end:e}),this.view.filter(h.field,function(t,e){var n=i.indexOf(t);return!(-1<n)||ce(n,o,a)}))},Xs.prototype.getComponents=function(){return this.slider?[this.slider]:[]},Xs);function Hs(){var t=null!==Gs&&Gs.apply(this,arguments)||this;return t.isLocked=!1,t}var Ws,qs=(Gs=Kn,Object(et.__extends)(Hs,Gs),Object.defineProperty(Hs.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),Hs.prototype.init=function(){},Hs.prototype.isVisible=function(){return!1!==this.view.getOptions().tooltip},Hs.prototype.render=function(){},Hs.prototype.showTooltip=function(t){var e,n,i,r,o,a,s,l,c,u,h,p,f;this.point=t,this.isVisible()&&(e=this.view,(n=this.getTooltipItems(t)).length?(i=this.getTitle(n),r={x:n[0].x,y:n[0].y},e.emit("tooltip:show",Object(et.__assign)({items:n,title:i},t)),a=(o=this.getTooltipCfg()).follow,s=o.showMarkers,l=o.showCrosshairs,c=o.showContent,u=o.marker,h=this.items,p=this.title,Object(U.isEqual)(p,i)&&Object(U.isEqual)(h,n)?(this.tooltip&&a&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()):(e.emit("tooltip:change",Object(et.__assign)({items:n,title:i},t)),c&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(U.mix)({},o,{items:n,title:i},a?t:{})),this.tooltip.show()),s&&this.renderTooltipMarkers(n,u)),this.items=n,this.title=i,l&&(f=Object(U.get)(o,["crosshairs","follow"],!1),this.renderCrosshairs(f?t:r,o))):this.hideTooltip())},Hs.prototype.hideTooltip=function(){var t,e,n,i;this.getTooltipCfg().follow&&((t=this.tooltipMarkersGroup)&&t.hide(),e=this.xCrosshair,n=this.yCrosshair,e&&e.hide(),n&&n.hide(),(i=this.tooltip)&&i.hide(),this.view.emit("tooltip:hide",{})),this.point=null},Hs.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},Hs.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},Hs.prototype.isTooltipLocked=function(){return this.isLocked},Hs.prototype.clear=function(){var t=this.tooltip,e=this.xCrosshair,n=this.yCrosshair,i=this.tooltipMarkersGroup;t&&(t.hide(),t.clear()),e&&e.clear(),n&&n.clear(),i&&i.clear()},Hs.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},Hs.prototype.changeVisible=function(t){var e,n,i,r;this.visible!==t&&(e=this.tooltip,n=this.tooltipMarkersGroup,i=this.xCrosshair,r=this.yCrosshair,t?(e&&e.show(),n&&n.show(),i&&i.show(),r&&r.show()):(e&&e.hide(),n&&n.hide(),i&&i.hide(),r&&r.hide()),this.visible=t)},Hs.prototype.getTooltipItems=function(t){var e=this.findItemsFromView(this.view,t);if(e.length){for(var n=0,i=e=Object(U.flatten)(e);n<i.length;n++)for(var r=0,o=i[n];r<o.length;r++){var a=o[r],s=a.mappingData,l=s.x,c=s.y;a.x=Object(U.isArray)(l)?l[l.length-1]:l,a.y=Object(U.isArray)(c)?c[c.length-1]:c}if(!1===this.getTooltipCfg().shared&&1<e.length){for(var u=e[0],h=Math.abs(t.y-u[0].y),p=0,f=e;p<f.length;p++){var d=f[p],g=Math.abs(t.y-d[0].y);g<=h&&(u=d,h=g)}e=[u]}return function(n){for(var i=[],t=0;t<n.length;t++)!function(t){var e=n[t];Object(U.find)(i,function(t){return t.color===e.color&&t.name===e.name&&t.value===e.value&&t.title===e.title})||i.push(e)}(t);return i}(Object(U.flatten)(e))}return[]},Hs.prototype.layout=function(){},Hs.prototype.update=function(){var t;this.point&&this.showTooltip(this.point),this.tooltip&&(t=this.view.getCanvas(),this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}}))},Hs.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,n=t.getTheme(),i=Object(U.get)(n,["components","tooltip"],{}),r=Object(U.isUndefined)(Object(U.get)(e,"enterable"))?i.enterable:Object(U.get)(e,"enterable");return Object(U.deepMix)({},i,e,{capture:!(!r&&!this.isLocked)})},Hs.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e},Hs.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),i=new It(Object(et.__assign)(Object(et.__assign)({parent:t.get("el").parentNode,region:e},n),{visible:!1,crosshairs:null}));i.init(),this.tooltip=i},Hs.prototype.renderTooltipMarkers=function(t,e){for(var n=this.getTooltipMarkersGroup(),i=0,r=t;i<r.length;i++){var o=r[i],a=o.x,s=o.y,l=Object(et.__assign)(Object(et.__assign)({fill:o.color,symbol:"circle",shadowColor:o.color},e),{x:a,y:s});n.addShape("marker",{attrs:l})}},Hs.prototype.renderCrosshairs=function(t,e){var n=Object(U.get)(e,["crosshairs","type"],"x");"x"===n?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):"y"===n?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):"xy"===n&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},Hs.prototype.renderXCrosshairs=function(t,e){var n,i,r,o,a,s,l,c=this.getViewWithGeometry(this.view).getCoordinate();de(c,t)&&(c.isRect?o=c.isTransposed?(a={x:c.start.x,y:t.y},{x:c.end.x,y:t.y}):(a={x:t.x,y:c.end.y},{x:t.x,y:c.start.y}):(n=ge(c,t),i=c.getCenter(),r=c.getRadius(),o=re(i.x,i.y,r,n),a=i),delete(s=Object(U.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},Object(U.get)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e))).type,(l=this.xCrosshair)?l.update(s):(l=new Mt.Crosshair.Line(s)).init(),l.render(),l.show(),this.xCrosshair=l)},Hs.prototype.renderYCrosshairs=function(t,e){var n,i,r,o,a,s=this.getViewWithGeometry(this.view).getCoordinate();de(s,t)&&(o=s.isRect?(i=n=void 0,i=s.isTransposed?(n={x:t.x,y:s.end.y},{x:t.x,y:s.start.y}):(n={x:s.start.x,y:t.y},{x:s.end.x,y:t.y}),r={start:n,end:i},"Line"):(r={center:s.getCenter(),radius:fe(s,t),startAngle:s.startAngle,endAngle:s.endAngle},"Circle"),delete(r=Object(U.deepMix)({container:this.getTooltipCrosshairsGroup()},r,Object(U.get)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e))).type,!(a=this.yCrosshair)||s.isRect&&"circle"===a.get("type")||!s.isRect&&"line"===a.get("type")?(a=new Mt.Crosshair[o](r)).init():a.update(r),a.render(),a.show(),this.yCrosshair=a)},Hs.prototype.getCrosshairsText=function(t,e,n){var i=Object(U.get)(n,["crosshairs","text"]),r=Object(U.get)(n,["crosshairs","follow"]),o=this.items;if(i){var a,s=this.getViewWithGeometry(this.view),l=o[0],c=s.getXScale(),u=s.getYScales()[0],h=void 0,p=void 0;p=r?(a=this.view.getCoordinate().invert(e),h=c.invert(a.x),u.invert(a.y)):(h=l.data[c.field],l.data[u.field]);var f="x"===t?h:p;return Object(U.isFunction)(i)?i=i(t,f,o,e):i.content=f,{text:i}}},Hs.prototype.getGuideGroup=function(){var t;return this.guideGroup||(t=this.view.foregroundGroup,this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})),this.guideGroup},Hs.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):((t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"})).toFront(),this.tooltipMarkersGroup=t),t},Hs.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||((t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1})).toBack(),this.tooltipCrosshairsGroup=t),t},Hs.prototype.getTooltipItemsByHitShape=function(t,e,n){var i,r=[],o=t.container.getShape(e.x,e.y);return o&&o.get("visible")&&o.get("origin")&&((i=kn(o.get("origin").mappingData,t,n)).length&&r.push(i)),r},Hs.prototype.getTooltipItemsByFindData=function(t,e,n){var i=[],r=t.dataArray;t.sort(r);for(var o=0,a=r;o<a.length;o++){var s,l,c,u=Mn(e,a[o],t);u&&(s=t.getElementId(u),l=t.elementsMap[s],"heatmap"!==t.type&&!l.visible||(c=kn(u,t,n)).length&&i.push(c))}return i},Hs.prototype.findItemsFromView=function(t,e){if(!1===t.getOptions().tooltip)return[];for(var n=[],i=t.geometries,r=this.getTooltipCfg(),o=r.shared,a=r.title,s=0,l=i;s<l.length;s++){var c,u,h=l[s];h.visible&&!1!==h.tooltipOption&&(c=h.type,u=void 0,(u=!["point","edge","polygon"].includes(c)&&(["area","line","path","heatmap"].includes(c)||!1!==o)?this.getTooltipItemsByFindData(h,e,a):this.getTooltipItemsByHitShape(h,e,a)).length&&n.push(u))}for(var p=0,f=t.views;p<f.length;p++)var d=f[p],n=n.concat(this.findItemsFromView(d,e));return n},Hs.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:Object(U.find)(t.views,function(t){return e.getViewWithGeometry(t)})},Hs);function Us(){return null!==Ws&&Ws.apply(this,arguments)||this}var Ks,Zs=(Ws=Jt,Object(et.__extends)(Us,Ws),Us.prototype.show=function(){var n,i,r,t,o,a,s,l,e,c,u,h,p,f,d,g,y,v,m,b,x,O,w,_=this.context.view,C=this.context.event,j=_.getTooltipItems({x:C.x,y:C.y});Object(U.isEqual)(j,this.items)||(this.items=j).length&&(n=_.getXScale().field,i=j[0].data[n],r=[],t=_.geometries,Object(U.each)(t,function(t){var e;"interval"!==t.type&&"schema"!==t.type||(e=t.getElementsBy(function(t){return t.getData()[n]===i}),r=r.concat(e))}),r.length&&(o=_.getCoordinate(),a=r[0].shape.getCanvasBBox(),s=r[0].shape.getCanvasBBox(),l=a,Object(U.each)(r,function(t){var e=t.shape.getCanvasBBox();o.isTransposed?(e.minY<a.minY&&(a=e),e.maxY>s.maxY&&(s=e)):(e.minX<a.minX&&(a=e),e.maxX>s.maxX&&(s=e)),l.x=Math.min(e.minX,l.minX),l.y=Math.min(e.minY,l.minY),l.width=Math.max(e.maxX,l.maxX)-l.x,l.height=Math.max(e.maxY,l.maxY)-l.y}),e=_.backgroundGroup,c=_.coordinateBBox,g=void 0,g=o.isRect?(u=_.getXScale().isLinear?0:.25,d=f=p=h=void 0,d=o.isTransposed?(h=c.minX,p=Math.min(s.minY,a.minY)-u*s.height,f=c.width,l.height+2*u*s.height):(h=Math.min(a.minX,s.minX)-u*a.width,p=Math.min(c.minY,a.minY),f=l.width+2*u*a.width,c.height),[["M",h,p],["L",h+f,p],["L",h+f,p+d],["L",h,p+d],["Z"]]):(y=Object(U.head)(r),v=Object(U.last)(r),m=se(y.getModel(),o).startAngle,b=se(v.getModel(),o).endAngle,x=o.getCenter(),O=o.getRadius(),w=o.innerRadius*O,oe(x.x,x.y,O,m,b,w)),this.regionPath?(this.regionPath.attr("path",g),this.regionPath.show()):this.regionPath=e.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:g,fill:"#CCD6EC",opacity:.3}})))},Us.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},Us.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),Ws.prototype.destroy.call(this)},Us);function $s(){var t=null!==Ks&&Ks.apply(this,arguments)||this;return t.timeStamp=0,t}var Qs,Js=(Ks=Jt,Object(et.__extends)($s,Ks),$s.prototype.show=function(){var t,e,n,i,r=this.context,o=r.event,a=r.view;a.isTooltipLocked()||(t=this.timeStamp,16<(e=+new Date)-t&&(n=this.location,i={x:o.x,y:o.y},n&&Object(U.isEqual)(n,i)||this.showTooltip(a,i),this.timeStamp=e,this.location=i))},$s.prototype.hide=function(){var t=this.context.view;t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},$s.prototype.showTooltip=function(t,e){t.showTooltip(e)},$s.prototype.hideTooltip=function(t){t.hideTooltip()},$s);function tl(){return null!==Qs&&Qs.apply(this,arguments)||this}var el,nl=(Qs=Js,Object(et.__extends)(tl,Qs),tl.prototype.showTooltip=function(n,i){var t=ze(n);Object(U.each)(t,function(t){var e=He(n,t,i);t.showTooltip(e)})},tl.prototype.hideTooltip=function(t){var e=ze(t);Object(U.each)(e,function(t){t.hideTooltip()})},tl);function il(){var t=null!==el&&el.apply(this,arguments)||this;return t.stateName="",t}var rl,ol=(el=Jt,Object(et.__extends)(il,el),il.prototype.hasState=function(t){return t.hasState(this.stateName)},il.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},il.prototype.setState=function(){this.setStateEnable(!0)},il.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},il.prototype.clearViewState=function(t){var e=this,n=Fe(t,this.stateName);Object(U.each)(n,function(t){e.setElementState(t,!1)})},il);function al(t){return Object(U.get)(t.get("delegateObject"),"item")}function sl(){var t=null!==rl&&rl.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}var ll,cl=(rl=ol,Object(et.__extends)(sl,rl),sl.prototype.isItemIgnore=function(e,n){return!!this.ignoreListItemStates.filter(function(t){return n.hasState(e,t)}).length},sl.prototype.setStateByComponent=function(t,e,n){var i=this.context.view,r=t.get("field"),o=De(i);this.setElementsStateByItem(o,r,e,n)},sl.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},sl.prototype.isMathItem=function(t,e,n){var i=qe(this.context.view,e),r=Re(t,e);return!Object(U.isNil)(r)&&n.name===i.getText(r)},sl.prototype.setElementsStateByItem=function(t,e,n,i){var r=this;Object(U.each)(t,function(t){r.isMathItem(t,e,n)&&t.setState(r.stateName,i)})},sl.prototype.setStateEnable=function(t){var e=ke(this.context);if(e)Pe(this.context)&&this.setStateByElement(e,t);else{var n=Te(this.context);if(Ae(n)){var i=n.item,r=n.component;if(i&&r&&!this.isItemIgnore(i,r)){var o=this.context.event.gEvent;if(o&&o.fromShape&&o.toShape&&al(o.fromShape)===al(o.toShape))return;this.setStateByComponent(r,i,t)}}}},sl.prototype.toggle=function(){var t,e=ke(this.context);e&&(t=e.hasState(this.stateName),this.setElementState(e,!t))},sl.prototype.reset=function(){this.setStateEnable(!1)},sl);function ul(){var t=null!==ll&&ll.apply(this,arguments)||this;return t.stateName="active",t}var hl,pl=(ll=cl,Object(et.__extends)(ul,ll),ul.prototype.active=function(){this.setState()},ul);function fl(){var t=null!==hl&&hl.apply(this,arguments)||this;return t.cache={},t}var dl,gl=(hl=Jt,Object(et.__extends)(fl,hl),fl.prototype.getColorScale=function(t,e){var n=e.geometry.getAttribute("color");return n?t.getScaleByField(n.getFields()[0]):null},fl.prototype.getLinkPath=function(t,e){var n=t.shape.getCanvasBBox(),i=e.shape.getCanvasBBox();return[["M",n.maxX,n.minY],["L",i.minX,i.minY],["L",i.minX,i.maxY],["L",n.maxX,n.maxY],["Z"]]},fl.prototype.addLinkShape=function(t,e,n){t.addShape({type:"path",attrs:{opacity:.4,fill:e.shape.attr("fill"),path:this.getLinkPath(e,n)}})},fl.prototype.linkByElement=function(t){var e,i,r,o,n,a,s,l=this,c=this.context.view,u=this.getColorScale(c,t);u&&(e=Re(t,u.field),this.cache[e]||(n=c,a=u.field,s=e,i=De(n).filter(function(t){return Re(t,a)===s}),r=this.linkGroup.addGroup(),this.cache[e]=r,o=i.length,Object(U.each)(i,function(t,e){var n;e<o-1&&(n=i[e+1],l.addLinkShape(r,t,n))})))},fl.prototype.removeLink=function(t){var e,n=this.getColorScale(this.context.view,t);n&&(e=Re(t,n.field),this.cache[e]&&(this.cache[e].remove(),this.cache[e]=null))},fl.prototype.link=function(){var t=this.context;this.linkGroup||(this.linkGroup=t.view.foregroundGroup.addGroup({capture:!1}));var e=ke(t);e&&this.linkByElement(e)},fl.prototype.unlink=function(){var t=ke(this.context);t&&this.removeLink(t)},fl.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear()},fl.prototype.destroy=function(){hl.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},fl);function yl(){var t=null!==dl&&dl.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}var vl,ml=(dl=ol,Object(et.__extends)(yl,dl),yl.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},yl.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},yl.prototype.getIntersectElements=function(){var t=null;if(Le(this.context))t=Ie(this.context,10);else{var e=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!n)return;var i={minX:Math.min(e.x,n.x),minY:Math.min(e.y,n.y),maxX:Math.max(e.x,n.x),maxY:Math.max(e.y,n.y)},t=Ne(this.context.view,i)}return t},yl.prototype.setStateEnable=function(t){var e,n;this.effectSiblings&&!this.effectByRecord?this.setSiblingsState(t):(e=De(this.context.view),(n=this.getIntersectElements())&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,e):this.clear())},yl.prototype.setSiblingsStateByRecord=function(t,i){var r=this,e=this.context.view,n=ze(e),o=t.map(function(t){return t.getModel().data}),a=e.getXScale().field,s=e.getYScales()[0].field;Object(U.each)(n,function(t){var e=De(t),n=e.filter(function(t){var e=t.getModel().data;return We(o,e,a,s)});r.setElementsState(n,i,e)})},yl.prototype.setSiblingsState=function(i){var r=this,t=ze(this.context.view);Le(this.context)&&Object(U.each)(t,function(t){var e=De(t),n=Be(r.context,t,10);n&&n.length?r.setElementsState(n,i,e):r.clearViewState(t)})},yl.prototype.setElementsState=function(e,n,t){var i=this;Object(U.each)(t,function(t){e.includes(t)?i.setElementState(t,n):i.setElementState(t,!1)})},yl.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},yl.prototype.clear=function(){var t,e=this,n=this.context.view;this.effectSiblings?(t=ze(n),Object(U.each)(t,function(t){e.clearViewState(t)})):this.clearViewState(n)},yl);function bl(){var t=null!==vl&&vl.apply(this,arguments)||this;return t.stateName="active",t}var xl,Ol=(vl=ml,Object(et.__extends)(bl,vl),bl.prototype.active=function(){this.setState()},bl);function wl(){return null!==xl&&xl.apply(this,arguments)||this}var _l,Cl=(xl=ol,Object(et.__extends)(wl,xl),wl.prototype.setStateEnable=function(t){var e=ke(this.context);if(e){if(!Pe(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},wl.prototype.toggle=function(){var t,e=ke(this.context);e&&((t=this.hasState(e))||this.clear(),this.setElementState(e,!t))},wl.prototype.reset=function(){this.setStateEnable(!1)},wl);function jl(){var t=null!==_l&&_l.apply(this,arguments)||this;return t.stateName="active",t}var Sl=(_l=Cl,Object(et.__extends)(jl,_l),jl.prototype.active=function(){this.setState()},jl),Ml="inactive",kl="active";function Tl(t){var e=De(t);Object(U.each)(e,function(t){t.hasState(kl)&&t.setState(kl,!1),t.hasState(Ml)&&t.setState(Ml,!1)})}function Pl(t,e,n){Object(U.each)(t,function(t){e(t)?(t.hasState(Ml)&&t.setState(Ml,!1),t.setState(kl,n)):(t.hasState(kl)&&t.setState(kl,!1),t.setState(Ml,n))})}var Al,El=at.INACTIVE,Ll=at.ACTIVE;function Il(){var t=null!==Al&&Al.apply(this,arguments)||this;return t.stateName=Ll,t}var Bl,Dl=(Al=cl,Object(et.__extends)(Il,Al),Il.prototype.setElementsStateByItem=function(t,e,n,i){var r=this;this.setHighlightBy(t,function(t){return r.isMathItem(t,e,n)},i)},Il.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(El)&&t.setState(El,!1),t.setState(Ll,!0)):t.hasState(Ll)||t.setState(El,!0)},Il.prototype.setHighlightBy=function(t,e,n){var i,r,o=this;n?Object(U.each)(t,function(t){o.setElementHighlight(t,e)}):(i=Fe(this.context.view,Ll),r=!0,Object(U.each)(i,function(t){if(!e(t))return r=!1}),r?this.clear():Object(U.each)(t,function(t){e(t)&&(t.hasState(Ll)&&t.setState(Ll,!1),t.setState(El,!0))}))},Il.prototype.setElementState=function(e,t){var n=De(this.context.view);this.setHighlightBy(n,function(t){return e===t},t)},Il.prototype.highlight=function(){this.setState()},Il.prototype.clear=function(){Tl(this.context.view)},Il);function Fl(){return null!==Bl&&Bl.apply(this,arguments)||this}var Rl,Nl=(Bl=Dl,Object(et.__extends)(Fl,Bl),Fl.prototype.setStateByElement=function(t,e){var n,i,r,o,a=this.context.view,s=t.geometry.getAttribute("color");s&&(n=a.getScaleByField(s.getFields()[0]),i=Re(t,n.field),r=De(a),o=r.filter(function(t){return Re(t,n.field)===i}),this.setHighlightBy(r,function(t){return o.includes(t)},e))},Fl);function Yl(){return null!==Rl&&Rl.apply(this,arguments)||this}var Vl,Xl=(Rl=Dl,Object(et.__extends)(Yl,Rl),Yl.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(El)&&t.setState(El,!1),t.setState(Ll,!0)):(t.setState(El,!0),t.hasState(Ll)&&t.setState(Ll,!1))},Yl.prototype.setStateByElement=function(t,e){var n=this.context.view,i=n.getXScale(),r=Re(t,i.field),o=De(n),a=o.filter(function(t){return Re(t,i.field)===r});this.setHighlightBy(o,function(t){return a.includes(t)},e)},Yl.prototype.toggle=function(){var t,e=ke(this.context);e&&(t=e.hasState(this.stateName),this.setStateByElement(e,!t))},Yl);function Gl(){var t=null!==Vl&&Vl.apply(this,arguments)||this;return t.stateName="active",t}var zl,Hl=(Vl=ml,Object(et.__extends)(Gl,Vl),Gl.prototype.clearViewState=function(t){Tl(t)},Gl.prototype.highlight=function(){this.setState()},Gl.prototype.setElementsState=function(e,t,n){Pl(n,function(t){return 0<=e.indexOf(t)},t)},Gl);function Wl(){var t=null!==zl&&zl.apply(this,arguments)||this;return t.stateName="active",t}var ql,Ul=(zl=Cl,Object(et.__extends)(Wl,zl),Wl.prototype.highlight=function(){this.setState()},Wl.prototype.setElementState=function(e,t){Pl(De(this.context.view),function(t){return e===t},t)},Wl.prototype.clear=function(){Tl(this.context.view)},Wl);function Kl(){var t=null!==ql&&ql.apply(this,arguments)||this;return t.stateName="selected",t}var Zl,$l=(ql=ml,Object(et.__extends)(Kl,ql),Kl.prototype.selected=function(){this.setState()},Kl);function Ql(){var t=null!==Zl&&Zl.apply(this,arguments)||this;return t.stateName="selected",t}var Jl,tc=(Zl=cl,Object(et.__extends)(Ql,Zl),Ql.prototype.selected=function(){this.setState()},Ql);function ec(){var t=null!==Jl&&Jl.apply(this,arguments)||this;return t.stateName="selected",t}var nc,ic=(Jl=Cl,Object(et.__extends)(ec,Jl),ec.prototype.selected=function(){this.setState()},ec);function rc(){var t=null!==nc&&nc.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}var oc,ac=(nc=Jt,Object(et.__extends)(rc,nc),rc.prototype.getTriggerListInfo=function(){var t=Te(this.context),e=null;return Ae(t)&&(e={item:t.item,list:t.component}),e},rc.prototype.getAllowComponents=function(){var e=this,t=Ve(this.context.view),n=[];return Object(U.each)(t,function(t){t.isList()&&e.allowSetStateByElement(t)&&n.push(t)}),n},rc.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},rc.prototype.clearAllComponentsState=function(){var e=this,t=this.getAllowComponents();Object(U.each)(t,function(t){t.clearItemsState(e.stateName)})},rc.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(-1===this.cfg.componentNames.indexOf(n))return!1}var i=qe(this.context.view,e);return i&&i.isCategory},rc.prototype.allowSetStateByItem=function(e,n){var t=this.ignoreItemStates;return!t.length||0===t.filter(function(t){return n.hasState(e,t)}).length},rc.prototype.setStateByElement=function(t,e,n){var i=t.get("field"),r=qe(this.context.view,i),o=Re(e,i),a=r.getText(o);this.setItemsState(t,a,n)},rc.prototype.setStateEnable=function(e){var t,n,i,r,o=this,a=ke(this.context);a?(t=this.getAllowComponents(),Object(U.each)(t,function(t){o.setStateByElement(t,a,e)})):Ae(n=Te(this.context))&&(i=n.item,r=n.component,this.allowSetStateByElement(r)&&this.allowSetStateByItem(i,r)&&this.setItemState(r,i,e))},rc.prototype.setItemsState=function(e,n,i){var r=this,t=e.getItems();Object(U.each)(t,function(t){t.name===n&&r.setItemState(e,t,i)})},rc.prototype.setItemState=function(t,e,n){t.setItemState(e,this.stateName,n)},rc.prototype.setState=function(){this.setStateEnable(!0)},rc.prototype.reset=function(){this.setStateEnable(!1)},rc.prototype.toggle=function(){var t,e,n,i=this.getTriggerListInfo();i&&i.item&&(t=i.list,e=i.item,n=this.hasState(t,e),this.setItemState(t,e,!n))},rc.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},rc);function sc(){var t=null!==oc&&oc.apply(this,arguments)||this;return t.stateName="active",t}var lc=(oc=ac,Object(et.__extends)(sc,oc),sc.prototype.active=function(){this.setState()},sc);var cc,uc="inactive",hc="active";function pc(){var t=null!==cc&&cc.apply(this,arguments)||this;return t.stateName=hc,t.ignoreItemStates=["unchecked"],t}var fc,dc=(cc=ac,Object(et.__extends)(pc,cc),pc.prototype.setItemsState=function(t,e,n){this.setHighlightBy(t,function(t){return t.name===e},n)},pc.prototype.setItemState=function(t,e,n){t.getItems();this.setHighlightBy(t,function(t){return t===e},n)},pc.prototype.setHighlightBy=function(e,n,t){var i,r,o=e.getItems();t?Object(U.each)(o,function(t){n(t)?(e.hasState(t,uc)&&e.setItemState(t,uc,!1),e.setItemState(t,hc,!0)):e.hasState(t,hc)||e.setItemState(t,uc,!0)}):(i=e.getItemsByState(hc),r=!0,Object(U.each)(i,function(t){if(!n(t))return r=!1}),r?this.clear():Object(U.each)(o,function(t){n(t)&&(e.hasState(t,hc)&&e.setItemState(t,hc,!1),e.setItemState(t,uc,!0))}))},pc.prototype.highlight=function(){this.setState()},pc.prototype.clear=function(){var t,e,n,i=this.getTriggerListInfo();i?(e=i.list,n=e.getItems(),Object(U.each)(n,function(t){e.hasState(t,"active")&&e.setItemState(t,"active",!1),e.hasState(t,"inactive")&&e.setItemState(t,"inactive",!1)})):(t=this.getAllowComponents(),Object(U.each)(t,function(t){t.clearItemsState(hc),t.clearItemsState(uc)}))},pc);function gc(){var t=null!==fc&&fc.apply(this,arguments)||this;return t.stateName="selected",t}var yc,vc=(fc=ac,Object(et.__extends)(gc,fc),gc.prototype.selected=function(){this.setState()},gc);function mc(){var t=null!==yc&&yc.apply(this,arguments)||this;return t.stateName="unchecked",t}var bc,xc=(yc=ac,Object(et.__extends)(mc,yc),mc.prototype.unchecked=function(){this.setState()},mc);function Oc(){var t=null!==bc&&bc.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}var wc,_c=(bc=Jt,Object(et.__extends)(Oc,bc),Oc.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},Oc.prototype.emitEvent=function(t){var e="mask:"+t,n=this.context.view,i=this.context.event;n.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:i.x,y:i.y})},Oc.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs();return t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Object(et.__assign)({fill:"#C5D4EB",opacity:.3},e)})},Oc.prototype.getMaskPath=function(){return[]},Oc.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},Oc.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},Oc.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},Oc.prototype.move=function(){var t,e,n,i,r;this.moving&&this.maskShape&&(t=this.getCurrentPoint(),e=this.preMovePoint,n=t.x-e.x,i=t.y-e.y,r=this.points,Object(U.each)(r,function(t){t.x+=n,t.y+=i}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)},Oc.prototype.updateMask=function(){var t=this.getMaskAttrs();this.maskShape.attr(t)},Oc.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},Oc.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},Oc.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},Oc.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},Oc.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,bc.prototype.destroy.call(this)},Oc);function Cc(){var t=null!==wc&&wc.apply(this,arguments)||this;return t.shapeType="circle",t}var jc,Sc=(wc=_c,Object(et.__extends)(Cc,wc),Cc.prototype.getMaskAttrs=function(){var t,e=this.points,n=Object(U.last)(this.points),i=0,r=0,o=0;return e.length&&(i=Xe(t=e[0],n)/2,r=(n.x+t.x)/2,o=(n.y+t.y)/2),{x:r,y:o,r:i}},Cc);function Mc(){var t=null!==jc&&jc.apply(this,arguments)||this;return t.shapeType="rect",t}var kc,Tc=(jc=_c,Object(et.__extends)(Mc,jc),Mc.prototype.getRegion=function(){var t=this.points;return{start:Object(U.head)(t),end:Object(U.last)(t)}},Mc.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,n=t.end;return{x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),width:Math.abs(n.x-e.x),height:Math.abs(n.y-e.y)}},Mc);function Pc(t){t.x=Object(U.clamp)(t.x,0,1),t.y=Object(U.clamp)(t.y,0,1)}function Ac(){var t=null!==kc&&kc.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}var Ec,Lc=(kc=Tc,Object(et.__extends)(Ac,kc),Ac.prototype.getRegion=function(){var t=null,e=null,n=this.points,i=this.dim,r=this.context.view.getCoordinate(),o=r.invert(Object(U.head)(n)),a=r.invert(Object(U.last)(n));return this.inPlot&&(Pc(o),Pc(a)),e="x"===i?(t=r.convert({x:o.x,y:0}),r.convert({x:a.x,y:1})):(t=r.convert({x:0,y:o.y}),r.convert({x:1,y:a.y})),{start:t,end:e}},Ac);function Ic(){return null!==Ec&&Ec.apply(this,arguments)||this}var Bc,Dc=(Ec=_c,Object(et.__extends)(Ic,Ec),Ic.prototype.getMaskPath=function(){var t=this.points,n=[];return t.length&&(Object(U.each)(t,function(t,e){0===e?n.push(["M",t.x,t.y]):n.push(["L",t.x,t.y])}),n.push(["L",t[0].x,t[0].y])),n},Ic.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},Ic.prototype.addPoint=function(){this.resize()},Ic);function Fc(){return null!==Bc&&Bc.apply(this,arguments)||this}var Rc,Nc=(Bc=Dc,Object(et.__extends)(Fc,Bc),Fc.prototype.getMaskPath=function(){return function(t,e){if(t.length<=2)return xe(t,!1);var n=t[0],i=[];Object(U.each)(t,function(t){i.push(t.x),i.push(t.y)});var r=be(i,e,null);return r.unshift(["M",n.x,n.y]),r}(this.points,!0)},Fc);function Yc(){return null!==Rc&&Rc.apply(this,arguments)||this}var Vc,Xc=(Rc=Jt,Object(et.__extends)(Yc,Rc),Yc.prototype.setCursor=function(t){this.context.view.getCanvas().setCursor(t)},Yc.prototype.default=function(){this.setCursor("default")},Yc.prototype.pointer=function(){this.setCursor("pointer")},Yc.prototype.move=function(){this.setCursor("move")},Yc.prototype.crosshair=function(){this.setCursor("crosshair")},Yc.prototype.wait=function(){this.setCursor("wait")},Yc.prototype.help=function(){this.setCursor("help")},Yc.prototype.text=function(){this.setCursor("text")},Yc.prototype.eResize=function(){this.setCursor("e-resize")},Yc.prototype.wResize=function(){this.setCursor("w-resize")},Yc.prototype.nResize=function(){this.setCursor("n-resize")},Yc.prototype.sResize=function(){this.setCursor("s-resize")},Yc.prototype.neResize=function(){this.setCursor("ne-resize")},Yc.prototype.nwResize=function(){this.setCursor("nw-resize")},Yc.prototype.seResize=function(){this.setCursor("se-resize")},Yc.prototype.swResize=function(){this.setCursor("sw-resize")},Yc.prototype.nsResize=function(){this.setCursor("ns-resize")},Yc.prototype.ewResize=function(){this.setCursor("ew-resize")},Yc);function Gc(){return null!==Vc&&Vc.apply(this,arguments)||this}var zc,Hc=(Vc=Jt,Object(et.__extends)(Gc,Vc),Gc.prototype.filterView=function(t,e,n){var i=this;t.getScaleByField(e)&&t.filter(e,n),t.views&&t.views.length&&Object(U.each)(t.views,function(t){i.filterView(t,e,n)})},Gc.prototype.filter=function(){var t,e,n,i,r,o,a,s,l,c=Te(this.context);c&&(t=this.context.view,n=(e=c.component).get("field"),Ae(c)?n&&(i=e.getItemsByState("unchecked"),r=qe(t,n),(o=i.map(function(t){return t.name})).length?this.filterView(t,n,function(t){var e=r.getText(t);return!o.includes(e)}):this.filterView(t,n,null),t.render(!0)):Ee(c)&&(a=e.getValue(),s=a[0],l=a[1],this.filterView(t,n,function(t){return s<=t&&t<=l}),t.render(!0)))},Gc);function Wc(t,e,n,i){var r=Math.min(n[e],i[e]),o=Math.max(n[e],i[e]),a=t.range,s=a[0],l=a[1];if(r<s&&(r=s),l<o&&(o=l),r===l&&o===l)return null;var c=t.invert(r),u=t.invert(o);if(t.isCategory){var h=t.values.indexOf(c),p=t.values.indexOf(u),f=t.values.slice(h,p+1);return function(t){return f.includes(t)}}return function(t){return c<=t&&t<=u}}function qc(){var t=null!==zc&&zc.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}var Uc,Kc=(zc=Jt,Object(et.__extends)(qc,zc),qc.prototype.hasDim=function(t){return this.dims.includes(t)},qc.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},qc.prototype.filter=function(){var t,e,n,i,r,o,a;if(Le(this.context))var s=this.context.event.target.getCanvasBBox(),l={x:s.x,y:s.y},c={x:s.maxX,y:s.maxY};else{if(!this.isStarted)return;l=this.startPoint,c=this.context.getCurrentPoint()}Math.abs(l.x-c.x)<5||Math.abs(l.x-c.y)<5||(n=(e=(t=this.context.view).getCoordinate()).invert(c),i=e.invert(l),this.hasDim("x")&&(a=Wc(r=t.getXScale(),"x",n,i),this.filterView(t,r.field,a)),this.hasDim("y")&&(a=Wc(o=t.getYScales()[0],"y",n,i),this.filterView(t,o.field,a)),this.reRender(t))},qc.prototype.end=function(){this.isStarted=!1},qc.prototype.reset=function(){var t,e,n=this.context.view;this.isStarted=!1,this.hasDim("x")&&(t=n.getXScale(),this.filterView(n,t.field,null)),this.hasDim("y")&&(e=n.getYScales()[0],this.filterView(n,e.field,null)),this.reRender(n)},qc.prototype.filterView=function(t,e,n){t.filter(e,n)},qc.prototype.reRender=function(t){t.render(!0)},qc);function Zc(){return null!==Uc&&Uc.apply(this,arguments)||this}var $c,Qc=(Uc=Kc,Object(et.__extends)(Zc,Uc),Zc.prototype.filterView=function(t,e,n){var i=ze(t);Object(U.each)(i,function(t){t.filter(e,n)})},Zc.prototype.reRender=function(t){var e=ze(t);Object(U.each)(e,function(t){t.render(!0)})},Zc);function Jc(){return null!==$c&&$c.apply(this,arguments)||this}var tu,eu=($c=Jt,Object(et.__extends)(Jc,$c),Jc.prototype.filter=function(){var e,t,i,n,r,o,a,s,l,c=Te(this.context),u=this.context.view,h=De(u);Le(this.context)?(e=Ie(this.context,10))&&Object(U.each)(h,function(t){e.includes(t)?t.show():t.hide()}):c&&(t=c.component,i=t.get("field"),Ae(c)?i&&(n=t.getItemsByState("unchecked"),r=qe(u,i),o=n.map(function(t){return t.name}),Object(U.each)(h,function(t){var e=Re(t,i),n=r.getText(e);0<=o.indexOf(n)?t.hide():t.show()})):Ee(c)&&(a=t.getValue(),s=a[0],l=a[1],Object(U.each)(h,function(t){var e=Re(t,i);s<=e&&e<=l?t.show():t.hide()})))},Jc.prototype.clear=function(){var t=De(this.context.view);Object(U.each)(t,function(t){t.show()})},Jc.prototype.reset=function(){this.clear()},Jc);function nu(){var t=null!==tu&&tu.apply(this,arguments)||this;return t.byRecord=!1,t}var iu,ru=(tu=Jt,Object(et.__extends)(nu,tu),nu.prototype.filter=function(){Le(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},nu.prototype.filterByRecord=function(){var n,i,r,t,e=this.context.view,o=Ie(this.context,10);o&&(n=e.getXScale().field,i=e.getYScales()[0].field,r=o.map(function(t){return t.getModel().data}),t=ze(e),Object(U.each)(t,function(t){var e=De(t);Object(U.each)(e,function(t){var e=t.getModel().data;We(r,e,n,i)?t.show():t.hide()})}))},nu.prototype.filterByBBox=function(){var i=this,t=ze(this.context.view);Object(U.each)(t,function(t){var e=Be(i.context,t,10),n=De(t);e&&Object(U.each)(n,function(t){e.includes(t)?t.show():t.hide()})})},nu.prototype.reset=function(){var t=ze(this.context.view);Object(U.each)(t,function(t){var e=De(t);Object(U.each)(e,function(t){t.show()})})},nu);function ou(){var t=null!==iu&&iu.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}var au,su=(iu=Jt,Object(et.__extends)(ou,iu),ou.prototype.getButtonCfg=function(){return Object(U.deepMix)(this.buttonCfg,this.cfg)},ou.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),n=e.addShape({type:"text",name:"button-text",attrs:Object(et.__assign)({text:t.text},t.textStyle)}).getBBox(),i=Dn(t.padding),r=e.addShape({type:"rect",name:"button-rect",attrs:Object(et.__assign)({x:n.x-i[3],y:n.y-i[0],width:n.width+i[1]+i[3],height:n.height+i[0]+i[2]},t.style)});r.toBack(),e.on("mouseenter",function(){r.attr(t.activeStyle)}),e.on("mouseleave",function(){r.attr(t.style)}),this.buttonGroup=e},ou.prototype.resetPosition=function(){var t=this.context.view.getCoordinate().convert({x:1,y:1}),e=this.buttonGroup,n=e.getBBox(),i=Rt.ext.transform(null,[["t",t.x-n.width-10,t.y+n.height+5]]);e.setMatrix(i)},ou.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},ou.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},ou.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),iu.prototype.destroy.call(this)},ou);function lu(){var t=null!==au&&au.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}var cu,uu=(au=Jt,Object(et.__extends)(lu,au),lu.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},lu.prototype.drag=function(){var t,e,n;this.startPoint&&(t=this.context.getCurrentPoint(),e=this.context.view,n=this.context.event,this.dragStart?e.emit("drag",{target:n.target,x:n.x,y:n.y}):4<Xe(t,this.startPoint)&&(e.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0))},lu.prototype.end=function(){var t,e;this.dragStart&&(t=this.context.view,e=this.context.event,t.emit("dragend",{target:e.target,x:e.x,y:e.y})),this.starting=!1,this.dragStart=!1},lu);function hu(){var t=null!==cu&&cu.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}var pu,fu=(cu=Jt,Object(et.__extends)(hu,cu),hu.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},hu.prototype.move=function(){var t,e,n,i;this.starting&&(5<Xe(t=this.startPoint,e=this.context.getCurrentPoint())&&!this.isMoving&&(this.isMoving=!0),this.isMoving&&(n=this.context.view,i=Rt.ext.transform(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]),n.backgroundGroup.setMatrix(i),n.foregroundGroup.setMatrix(i),n.middleGroup.setMatrix(i)))},hu.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},hu.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},hu);function du(){var t=null!==pu&&pu.apply(this,arguments)||this;return t.dims=["x","y"],t.cfgFields=["dims"],t.cacheScaleDefs={},t}var gu,yu=(pu=Jt,Object(et.__extends)(du,pu),du.prototype.hasDim=function(t){return this.dims.includes(t)},du.prototype.getScale=function(t){var e=this.context.view;return"x"===t?e.getXScale():e.getYScales()[0]},du.prototype.resetDim=function(t){var e,n=this.context.view;this.hasDim(t)&&this.cacheScaleDefs[t]&&(e=this.getScale(t),n.scale(e.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null)},du.prototype.reset=function(){this.resetDim("x"),this.resetDim("y"),this.context.view.render(!0)},du);function vu(){var t=null!==gu&&gu.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}var mu,bu=(gu=yu,Object(et.__extends)(vu,gu),vu.prototype.start=function(){var o=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var t=this.dims;Object(U.each)(t,function(t){var e=o.getScale(t),n=e.min,i=e.max,r=e.values;o.startCache[t]={min:n,max:i,values:r}})},vu.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},vu.prototype.translate=function(){var t,e,n,i,r,o,a,s,l,c=this;this.starting&&(t=this.startPoint,e=this.context.view.getCoordinate(),n=this.context.getCurrentPoint(),i=e.invert(t),r=e.invert(n),o=r.x-i.x,a=r.y-i.y,s=this.context.view,l=this.dims,Object(U.each)(l,function(t){c.translateDim(t,{x:-1*o,y:-1*a})}),s.render(!0))},vu.prototype.translateDim=function(t,e){var n;!this.hasDim(t)||(n=this.getScale(t)).isLinear&&this.translateLinear(t,n,e)},vu.prototype.translateLinear=function(t,e,n){var i=this.context.view,r=this.startCache[t],o=r.min,a=r.max,s=a-o,l=n[t]*s;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:o,max:a}),i.scale(e.field,{nice:!1,min:o+l,max:a+l})},vu.prototype.reset=function(){gu.prototype.reset.call(this),this.startPoint=null,this.starting=!1},vu);function xu(){var t=null!==mu&&mu.apply(this,arguments)||this;return t.zoomRatio=.05,t}var Ou,wu,_u=(mu=yu,Object(et.__extends)(xu,mu),xu.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},xu.prototype.zoom=function(e){var n=this,t=this.dims;Object(U.each)(t,function(t){n.zoomDim(t,e)}),this.context.view.render(!0)},xu.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},xu.prototype.zoomDim=function(t,e){var n;!this.hasDim(t)||(n=this.getScale(t)).isLinear&&this.zoomLinear(t,n,e)},xu.prototype.zoomLinear=function(t,e,n){var i=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var r=this.cacheScaleDefs[t],o=r.max-r.min,a=e.min,s=e.max,l=n*o,c=a-l,u=s+l,h=(u-c)/o;c<u&&h<100&&.01<h&&i.scale(e.field,{nice:!1,min:a-l,max:s+l})},xu);function Cu(t){return t.isInPlot()}function ju(t){return t.gEvent.preventDefault(),0<t.gEvent.originalEvent.deltaY}Ou="dark",wu=fn(rr),On[Object(U.lowerCase)(Ou)]=Object(U.deepMix)({},On.default,wu),yt("canvas",or),yt("svg",r),Hn("Polygon",_a),Hn("Interval",ha),Hn("Schema",ja),Hn("Path",Ho),Hn("Point",ba),Hn("Line",fa),Hn("Area",Zo),Hn("Edge",ta),Hn("Heatmap",ia),Ti("base",Zi),Ti("interval",Fa),Ti("pie",Ga),Ti("polar",Va),Pi("overlap",function(t,e,n,i){var l=new Ha;Object(U.each)(e,function(t){for(var e=t.find(function(t){return"text"===t.get("type")}),n=e.attr(),i=n.x,r=n.y,o=!1,a=0;a<=8;a++){var s=function(t,e,n,i){var r=t.getCanvasBBox(),o=r.width,a=r.height,s={x:e,y:n,textAlign:"center"};switch(i){case 0:s.y-=a+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=a+1,--s.x,s.textAlign="right";break;case 2:s.y+=a+1,--s.x,s.textAlign="right";break;case 3:s.y+=a+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=2*a+2;break;case 6:s.y+=2*a+2;break;case 7:s.x+=o+1,s.textAlign="left";break;case 8:s.x-=o+1,s.textAlign="right"}return t.attr(s),t.getCanvasBBox()}(e,i,r,a);if(l.hasGap(s)){l.fillGap(s),o=!0;break}}o||t.remove(!0)}),l.destroy()}),Pi("distribute",function(t,i,e,n){var r,o,a,s=t[0]?t[0].offset:0,l=i[0].get("coordinate"),c=l.getRadius(),u=l.getCenter();0<s&&(r=2*(c+s)+28,o={start:l.start,end:l.end},a=[[],[]],t.forEach(function(t){t&&("right"===t.textAlign?a[0].push(t):a[1].push(t))}),a.forEach(function(t,e){var n=r/14;t.length>n&&(t.sort(function(t,e){return e["..percent"]-t["..percent"]}),t.splice(n,t.length-n)),t.sort(function(t,e){return t.y-e.y}),function(t,n,i,e,a,s){var r,o,l,c=!0,u=e.start,h=e.end,p=Math.min(u.y,h.y),f=Math.abs(u.y-h.y),d=0,g=Number.MIN_VALUE,y=n.map(function(t){return t.y>d&&(d=t.y),t.y<g&&(g=t.y),{size:i,targets:[t.y-p]}});for(g-=p,f<d-p&&(f=d-p);c;)for(y.forEach(function(t){var e=(Math.min.apply(g,t.targets)+Math.max.apply(g,t.targets))/2;t.pos=Math.min(Math.max(g,e-t.size/2),f-t.size)}),c=!1,r=y.length;r--;){0<r&&(o=y[r-1],l=y[r],o.pos+o.size>l.pos&&(o.size+=l.size,o.targets=o.targets.concat(l.targets),o.pos+o.size>f&&(o.pos=f-o.size),y.splice(r,1),c=!0))}r=0,y.forEach(function(t){var e=p+i/2;t.targets.forEach(function(){n[r].y=t.pos+e,e+=i,r++})});for(var v={},m=0,b=t;m<b.length;m++){var x=b[m];v[x.get("id")]=x}n.forEach(function(t){var e,n=t.r*t.r,i=Math.pow(Math.abs(t.y-a.y),2);n<i?t.x=a.x:(e=Math.sqrt(n-i),t.x=s?a.x+e:a.x-e);var r=v[t.id];r.attr("x",t.x),r.attr("y",t.y);var o=Object(U.find)(r.getChildren(),function(t){return"text"===t.get("type")});o&&(o.attr("y",t.y),o.attr("x",t.x))})}(i,t,14,o,u,e)})),Object(U.each)(t,function(t){var e,n,i,r,o,a,s;t&&t.labelLine&&(e=t.offset,n=t.angle,i=re(u.x,u.y,c,n),r=re(u.x,u.y,c+e/2,n),o=t.x+Object(U.get)(t,"offsetX",0),a=t.y+Object(U.get)(t,"offsetY",0),s={x:o-4*Math.cos(n),y:a-4*Math.sin(n)},Object(U.isObject)(t.labelLine)||(t.labelLine={}),t.labelLine.path=["M "+i.x,i.y+" Q"+r.x,r.y+" "+s.x,s.y].join(","))})}),Pi("fixed-overlap",function(t,e,n,i){var r=new Ha;Object(U.each)(e,function(t){!function(t,e,n){void 0===n&&(n=za);var i,r=t.attr(),o=r.x,a=r.y,s=t.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),c=1,u=0,h=0;if(e.hasGap(s))return e.fillGap(s),1;for(var p,f,d=!1,g=0,y={};Math.min(Math.abs(u),Math.abs(h))<l&&g<n;)if(p=c+=-1,f=void 0,h=~~(i=[(f=.1*p)*Math.cos(f),f*Math.sin(f)])[1],((u=~~i[0])||h)&&!y[u+"-"+h]&&(t.attr({x:o+u,y:a+h}),u+h<0&&t.attr("textAlign","right"),g++,e.hasGap(t.getCanvasBBox()))){e.fillGap(t.getCanvasBBox()),d=!0,y[u+"-"+h]=!0;break}return d}(t.find(function(t){return"text"===t.get("type")}),r)&&t.remove(!0)}),r.destroy()}),Pi("limit-in-shape",function(t,e,r,n){Object(U.each)(e,function(t,e){var n=t.getCanvasBBox(),i=r[e].getBBox();(n.minX<i.minX||n.minY<i.minY||n.maxX>i.maxX||n.maxY>i.maxY)&&t.remove(!0)})}),Pi("limit-in-canvas",function(t,e,n,y){Object(U.each)(e,function(t){var e=y.minX,n=y.minY,i=y.maxX,r=y.maxY,o=t.getCanvasBBox(),a=o.minX,s=o.minY,l=o.maxX,c=o.maxY,u=o.x,h=o.y,p=o.width,f=o.height,d=u,g=h;(a<e||l<e)&&(d=e),(s<n||c<n)&&(g=n),i<a?d=i-p:i<l&&(d-=l-i),r<s?g=r-f:r<c&&(g-=c-r),d===u&&g===h||zi(t,d-u,g-h)})}),vi("fade-in",function(t,e,n){var i={fillOpacity:Object(U.isNil)(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),strokeOpacity:Object(U.isNil)(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity"),opacity:Object(U.isNil)(t.attr("opacity"))?1:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),t.animate(i,e)}),vi("fade-out",function(t,e,n){var i=e.easing,r=e.duration,o=e.delay;t.animate({fillOpacity:0,strokeOpacity:0,opacity:0},r,i,function(){t.remove(!0)},o)}),vi("grow-in-x",function(t,e,n){qa(t,e,n.coordinate,n.minYPoint,"x")}),vi("grow-in-xy",function(t,e,n){qa(t,e,n.coordinate,n.minYPoint,"xy")}),vi("grow-in-y",function(t,e,n){qa(t,e,n.coordinate,n.minYPoint,"y")}),vi("scale-in-x",function(t,e,n){var i=t.getBBox(),r=t.get("origin").mappingData.points,o=0<r[0].y-r[1].y?i.maxX:i.minX,a=(i.minY+i.maxY)/2;t.applyToMatrix([o,a,1]);var s=Rt.ext.transform(t.getMatrix(),[["t",-o,-a],["s",.01,1],["t",o,a]]);t.setMatrix(s),t.animate({matrix:Rt.ext.transform(t.getMatrix(),[["t",-o,-a],["s",100,1],["t",o,a]])},e)}),vi("scale-in-y",function(t,e,n){var i=t.getBBox(),r=t.get("origin").mappingData,o=(i.minX+i.maxX)/2,a=r.points,s=a[0].y-a[1].y<=0?i.maxY:i.minY;t.applyToMatrix([o,s,1]);var l=Rt.ext.transform(t.getMatrix(),[["t",-o,-s],["s",1,.01],["t",o,s]]);t.setMatrix(l),t.animate({matrix:Rt.ext.transform(t.getMatrix(),[["t",-o,-s],["s",1,100],["t",o,s]])},e)}),vi("wave-in",function(t,e,n){var i=ye(n.coordinate,20),r=i.type,o=i.startState,a=i.endState,s=t.setClip({type:r,attrs:o});s.animate(a,Object(et.__assign)(Object(et.__assign)({},e),{callback:function(){t&&!t.get("destroyed")&&t.set("clipShape",null),s.remove(!0)}}))}),vi("zoom-in",function(t,e,n){ts(t,e,"zoomIn")}),vi("zoom-out",function(t,e,n){ts(t,e,"zoomOut")}),vi("position-update",function(t,e,n){var i=n.toAttrs,r=i.x,o=i.y;delete i.x,delete i.y,t.attr(i),t.animate({x:r,y:o},e)}),vi("sector-path-update",function(t,e,n){var i=n.toAttrs,r=n.coordinate,o=i.path,a=o.map(function(t){return t[0]}),s=Ja(o),l=s.startAngle,c=s.endAngle,u=s.radius,h=s.innerRadius,p=Ja(t.attr("path")),f=p.startAngle,d=p.endAngle,g=r.getCenter(),y=l-f,v=c-d;t.animate(function(t){var e=f+t*y,n=d+t*v;return Object(et.__assign)(Object(et.__assign)({},i),{path:Object(U.isEqual)(a,["M","A","A","Z"])?ae(g.x,g.y,u,e,n):oe(g.x,g.y,u,e,n,h)})},Object(et.__assign)(Object(et.__assign)({},e),{callback:function(){t.attr("path",o)}}))}),vi("path-in",function(t,e,n){var i=t.getTotalLength();t.attr("lineDash",[i]),t.animate(function(t){return{lineDashOffset:(1-t)*i}},e)}),Kt("rect",vs),Kt("mirror",ds),Kt("list",ls),Kt("matrix",hs),Kt("circle",os),Kt("tree",xs),Pn("axis",Es),Pn("legend",Vs),Pn("tooltip",qs),Pn("annotation",ws),Pn("slider",zs),ie("tooltip",Js),ie("sibling-tooltip",nl),ie("element-active",pl),ie("element-single-active",Sl),ie("element-range-active",Ol),ie("element-highlight",Dl),ie("element-highlight-by-x",Xl),ie("element-highlight-by-color",Nl),ie("element-single-highlight",Ul),ie("element-range-highlight",Hl),ie("element-sibling-highlight",Hl,{effectSiblings:!0,effectByRecord:!0}),ie("element-selected",tc),ie("element-single-selected",ic),ie("element-range-selected",$l),ie("element-link-by-color",gl),ie("active-region",Zs),ie("list-active",lc),ie("list-selected",vc),ie("list-highlight",dc),ie("list-unchecked",xc),ie("legend-item-highlight",dc,{componentNames:["legend"]}),ie("axis-label-highlight",dc,{componentNames:["axis"]}),ie("rect-mask",Tc),ie("x-rect-mask",Lc,{dim:"x"}),ie("y-rect-mask",Lc,{dim:"y"}),ie("circle-mask",Sc),ie("path-mask",Dc),ie("smooth-path-mask",Nc),ie("cursor",Xc),ie("data-filter",Hc),ie("brush",Kc),ie("brush-x",Kc,{dims:["x"]}),ie("brush-y",Kc,{dims:["y"]}),ie("sibling-filter",Qc),ie("sibling-x-filter",Qc),ie("sibling-y-filter",Qc),ie("element-filter",eu),ie("element-sibling-filter",ru),ie("element-sibling-filter-record",ru,{byRecord:!0}),ie("view-drag",uu),ie("view-move",fu),ie("scale-translate",bu),ie("scale-zoom",_u),ie("reset-button",su,{name:"reset-button",text:"reset"}),un("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),un("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),un("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),un("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),un("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),un("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),un("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),un("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),un("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),un("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),un("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(t){return!t.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(t){return!t.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),un("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Cu,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Cu,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Cu,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),un("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),un("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Cu,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Cu,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Cu,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),un("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Cu,action:"path-mask:start"},{trigger:"mousedown",isEnable:Cu,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),un("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),un("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),un("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),un("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),un("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),un("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),un("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(t){return ju(t.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(t){return!ju(t.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),un("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});var Su={translate:zi,rotate:Hi,zoom:function(t,e){var n=t.getBBox(),i=(n.minX+n.maxX)/2,r=(n.minY+n.maxY)/2;t.applyToMatrix([i,r,1]);var o=Gi(t.getMatrix(),[["t",-i,-r],["s",e,e],["t",i,r]]);t.setMatrix(o)},transform:Gi,getAngle:se,polarToCartesian:re},Mu=(ku.prototype.do=function(t){switch(t.type){case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":this.onTouchEnd(t);break;case"touchcancel":this.onTouchCancel(t);break;default:return}},ku.prototype.emit=function(t){this.gm.emit(this.EVENT,t)},ku);function ku(t){this.EVENT="gesture",this.gm=t}var Tu,Pu=(Tu=Mu,Object(q.__extends)(Au,Tu),Au.prototype.onTouchCancel=function(t){},Au.prototype.onTouchEnd=function(t){},Au.prototype.onTouchMove=function(t){var e=t.x,n=t.y,i=e-this.preX,r=n-this.preY;this.preX=e,this.preY=n,this.emit({x:e,y:n,deltaX:i,deltaY:r,event:t})},Au.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.preX=e,this.preY=n},Au);function Au(){var t=null!==Tu&&Tu.apply(this,arguments)||this;return t.EVENT="pan",t}var Eu,Lu="object"==typeof performance&&performance.now?performance:Date,Iu=(Eu=Mu,Object(q.__extends)(Bu,Eu),Bu.prototype.onTouchCancel=function(t){this.clearTimeout()},Bu.prototype.onTouchEnd=function(t){this.clearTimeout()},Bu.prototype.onTouchMove=function(t){var e=t.x,n=t.y;(10<e-this.touchStartX||10<n-this.touchStartY)&&this.clearTimeout()},Bu.prototype.onTouchStart=function(t){var e=this;this.clearTimeout();var n=t.x,i=t.y;this.touchStartTime=Lu.now(),this.touchStartX=n,this.touchStartY=i,this.pressTimeout=window.setTimeout(function(){e.emit({x:n,y:i,event:t})},300)},Bu.prototype.clearTimeout=function(){window.clearTimeout(this.pressTimeout)},Bu);function Bu(){var t=null!==Eu&&Eu.apply(this,arguments)||this;return t.EVENT="press",t}var Du,Fu=(Du=Mu,Object(q.__extends)(Ru,Du),Ru.prototype.onTouchCancel=function(t){},Ru.prototype.onTouchEnd=function(t){var e,n,i=this.speedX,r=this.speedY;Lu.now()-this.latestMoveTime<100&&(e=t.x,n=t.y,this.emit({x:e,y:n,speedX:i,speedY:r,event:t}))},Ru.prototype.onTouchMove=function(t){var e=t.x,n=t.y,i=Lu.now(),r=e-this.preX,o=n-this.preY,a=i-this.ms;this.speedX=r/a,this.speedY=o/a,this.latestMoveTime=i},Ru.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.speedX=this.speedY=0,this.preX=e,this.preY=n,this.ms=Lu.now()},Ru);function Ru(){var t=null!==Du&&Du.apply(this,arguments)||this;return t.EVENT="swipe",t.latestMoveTime=0,t.ms=0,t.speedX=0,t.speedY=0,t.preX=0,t.preY=0,t}var Nu;function Yu(){var t=null!==Nu&&Nu.apply(this,arguments)||this;return t.EVENT="tap",t}var Vu,Xu={Pan:Pu,Press:Iu,Swipe:Fu,Tap:(Nu=Mu,Object(q.__extends)(Yu,Nu),Yu.prototype.onTouchCancel=function(t){},Yu.prototype.onTouchEnd=function(t){var e=t.x,n=t.y;e-this.touchStartX<2&&n-this.touchStartY<2&&Lu.now()-this.touchStartTime<300&&this.emit({x:e,y:n,event:t})},Yu.prototype.onTouchMove=function(t){},Yu.prototype.onTouchStart=function(t){var e=t.x,n=t.y;this.touchStartTime=Lu.now(),this.touchStartX=e,this.touchStartY=n},Yu)},Gu=(Vu=k.default,Object(q.__extends)(zu,Vu),zu.prototype.destroy=function(){this.element.off("touchstart",this.onTouchStart),this.off()},zu.prototype.initialGestures=function(){var e=this,t=this.options.gestures||["Pan","Press","Swipe","Tap"];this.gestures=t.map(function(t){return new Xu[t](e)})},zu.prototype.bindTouchStart=function(){this.element.on("touchstart",this.onTouchStart)},zu.prototype.preventEvent=function(t){var e=t.type;(this.options.prevents||[]).includes(e)&&t.preventDefault()},zu.prototype.doGestures=function(e){this.gestures.forEach(function(t){t.do(e)})},zu);function zu(t,e){void 0===e&&(e={});var n=Vu.call(this)||this;return n.onTouchStart=function(t){n.preventEvent(t),n.element.on("touchmove",n.onTouchMove),n.element.on("touchend",n.onTouchEnd),n.element.on("touchcancel",n.onTouchCancel),n.emit("touchdown",t),n.doGestures(t)},n.onTouchMove=function(t){n.preventEvent(t),n.emit("touchmove",t),n.doGestures(t)},n.onTouchEnd=function(t){n.preventEvent(t),n.emit("touchend",t),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(t)},n.onTouchCancel=function(t){n.preventEvent(t),n.emit("touchcancel",t),n.element.off("touchmove",n.onTouchMove),n.element.off("touchend",n.onTouchEnd),n.element.off("touchcancel",n.onTouchCancel),n.doGestures(t)},n.element=t,n.options=e,n.initialGestures(),n.bindTouchStart(),n}var Hu,Wu=n(638).a,qu=(Hu=k.default,Object(q.__extends)(Uu,Hu),Uu.prototype.destroy=function(){window.cancelAnimationFrame(this.raf),this.gm.destroy(),this.off()},Uu.prototype.rafInertia=function(a){var s=this,l=a.speedX,c=a.speedY;this.raf=window.requestAnimationFrame(function(){var t,e,n,i,r=Lu.now(),o=(r-s.ms)/800;o<1&&(o=Wu(1-o),t=r-s.rafMs,e=l*o*t,n=c*o*t,i=s.getWrapperEvent(a,e,n),s.emit("wheel",i),s.rafMs=r,s.rafInertia(a))})},Uu.prototype.getWrapperEvent=function(t,e,n){return Object(q.__assign)(Object(q.__assign)({},t),{deltaX:-e,deltaY:-n})},Uu);function Uu(t){var r=Hu.call(this)||this;return r.rafMs=0,r.onPan=function(t){var e=t.deltaX,n=t.deltaY,i=r.getWrapperEvent(t,e,n);r.emit("wheel",i)},r.onSwipe=function(t){var e=t.speedX,n=t.speedY;r.rafMs=Lu.now(),r.ms=r.rafMs,0===e&&0===n||r.rafInertia(t)},r.element=t,r.gm=new Gu(t,{gestures:["Pan","Swipe"]}),r.gm.on("swipe",r.onSwipe),r.gm.on("pan",r.onPan),r}var Ku=n(1514),Zu=n.n(Ku),$u=n(1430),Qu=(n(1517),n(1431)),Ju=n(1358),th=(n(1518),n(1519)),eh=n.n(th),nh=n(1432),ih=n.n(nh);Pn("gesture",tt.a);var rh="origin",oh="_origin";function ah(t){return t&&!(!0!==t.visible||"string"!=typeof t.text||!t.text.trim())}function sh(t,e){var n=Object(q.__spreadArrays)(t);return e.forEach(function(t,e){n.splice(t+e,0,"\n")}),n.join("")}function lh(t,e){return!(t.maxY<e.minY||e.maxY<t.minY)&&!(t.maxX<e.minX||e.maxX<t.minX)}function ch(t){this.position="top",this.destroyed=!1,Object(U.assign)(this,t),this.init()}var uh,hh=(ch.prototype.getBBox=function(){var n=this;if(this.shape){var t=this.shape.getBBox();if(0===this.index)return X.fromBBoxObject(t);var i=this.plot.theme.description.padding;return Object(U.isArray)(i)&&Object(U.each)(i,function(t,e){"function"==typeof i[e]&&(i[e]=i[e](n.plot.options.legend.position))}),new X(t.maxX,t.minY,t.width,t.height)}return null},ch.prototype.clear=function(){this.shape&&this.shape.attr("text","")},ch.prototype.destroy=function(){this.shape&&this.shape.remove(),this.destroyed=!0},ch.prototype.init=function(){var t=this.textWrapper(),e=this.getPosition(),n=e.x,i=e.y;this.shape=this.container.addShape("text",{attrs:Object(U.mix)({x:n,y:i,text:t},this.style,{textAlign:this.getTextAlign()})}),this.shape.name=this.name},ch.prototype.getPosition=function(){return"left"===this.alignTo?{x:this.leftMargin,y:this.topMargin}:"middle"===this.alignTo?{x:this.leftMargin+this.wrapperWidth/2,y:this.topMargin}:{x:this.rightMargin,y:this.topMargin}},ch.prototype.getTextAlign=function(){return"left"===this.alignTo?"left":"middle"===this.alignTo?"center":"right"},ch.prototype.textWrapper=function(){var s=this.wrapperWidth,t=this.style,e=this.text,l=this.container.addShape("text",{attrs:Object(q.__assign)({text:"",x:0,y:0},t)}),n=e.split("\n").map(function(t){for(var e="",n=t.split(""),i=[],r=0;r<n.length;r++){var o=n[r];l.attr("text",e+=o);var a=l.getBBox().width-1;if(s<a){if(0===r)break;i.push(r),e=""}}return sh(n,i)});return l.remove(),n.join("\n")},ch);function ph(t){var e=uh.call(this)||this;return e.container=t.container,e.destroyed=!1,e.config=t,e.disposables=[],e}var fh,dh=(uh=k.default,Object(q.__extends)(ph,uh),ph.prototype.init=function(){this.group||this.initGroup(),this.initConfig(this.config)},ph.prototype.getGroup=function(){return this.group},ph.prototype.getConfig=function(){return this.config},ph.prototype.getBBox=function(){return this.getGroup().getBBox()},ph.prototype.clear=function(){this.group.clear()},ph.prototype.render=function(){this.group.clear(),this.renderInner(this.group),this.getCanvas().draw()},ph.prototype.update=function(t){this.config=Object(q.__assign)(Object(q.__assign)({},this.config),t),this.initConfig(this.config)},ph.prototype.destroy=function(){Object(U.each)(this.disposables,function(t){t()}),this.disposables=[],this.group.remove(!0),this.destroyed=!0},ph.prototype.initGroup=function(){this.group=this.container.addGroup()},ph.prototype.getCanvas=function(){return this.container.get("canvas")},ph.prototype.addDisposable=function(t){this.disposables.push(t)},ph.prototype.initConfig=function(t){},ph);function gh(){var t=null!==fh&&fh.apply(this,arguments)||this;return t.labelsCfgMap={},t.lastLabelsCfgMap={},t}var yh=(fh=dh,Object(q.__extends)(gh,fh),gh.prototype.getGeometry=function(){return this.geometry},gh.prototype.getLabels=function(){return this.labels},gh.prototype.show=function(){this.container.show()},gh.prototype.hide=function(){this.container.hide()},gh.prototype.initConfig=function(t){var e=this;this.layer=t.layer;var n=this.layer.view;this.view=n,this.geometry=t.geometry,this.coord=n.getCoordinate(),this.options=Object(U.deepMix)(this.getDefaultOptions(),t.label);function i(){e.clear(),e.labelsCfgMap={},e.lastLabelsCfgMap={},e.render()}n.on(N.VIEW_LIFE_CIRCLE.AFTER_PAINT,i),this.addDisposable(function(){n.off(N.VIEW_LIFE_CIRCLE.AFTER_PAINT,i)})},gh.prototype.renderInner=function(a){var s=this;this.labels=[],this.labelsCfgMap={},Object(U.each)(this.geometry.elements,function(n,t){var e=[].concat(s.drawLabelItem(a,n,t));Object(U.each)(e,function(t,e){s.adjustLabel(t,n,e),t.destroyed||(s.labels.push(t),s.labelsCfgMap[t.get("id")]=Object(U.clone)(t.attrs))})}),this.layoutLabels(this.geometry,this.labels);var l=this.lastLabelsCfgMap,t=this.labelsCfgMap,c=!!this.geometry.animateOption&&Object(Ju.getDefaultAnimateCfg)("label",this.coord);Object(U.each)(t,function(t,e){var n,i,r,o=a.findById(e);o&&(l[e]?(n=l[e],(i=Object(U.get)(c,"update"))&&(o.stopAnimate(),o.attr(n),Object(Ju.doAnimate)(o,i,{toAttrs:Object(q.__assign)({},t),coordinate:s.coord}))):(r=Object(U.get)(c,"appear"))&&(o.stopAnimate(),Object(Ju.doAnimate)(o,r,{toAttrs:Object(q.__assign)({},o.attr()),coordinate:s.coord}))),delete l[e]}),Object(U.each)(l,function(t,e){var n,i=Object(U.get)(c,"leave");i&&((n=a.addShape("text",{attrs:t,id:e,name:"label"})).stopAnimate(),Object(Ju.doAnimate)(n,i,{toAttrs:null,coordinate:s.coord}))}),this.lastLabelsCfgMap=this.labelsCfgMap},gh.prototype.drawLabelText=function(t,e,n){return void 0===n&&(n={}),t.addShape("text",Object(q.__assign)({attrs:e},n))},gh.prototype.drawLabelItem=function(a,s,t){var l=this,c=s.getModel(),e=[].concat(this.getLabelItemAttrs(s,t)),u=this.getDefaultOffset(),h=this.getLabelOffset();return Object(U.map)(e,function(t,e){var n,i={x:t.x+h.x,y:t.y+h.y},r=Object(U.isArray)(c.mappingData)?c.mappingData[e]:c.mappingData,o=l.getLabelId(r);return l.drawLabelText(a,Object(q.__assign)(Object(q.__assign)({},t),i),((n={id:o,name:"label",offset:u,element:s})[rh]=r,n))})},gh.prototype.getDefaultOffset=function(){return Number(this.options.offset)},gh.prototype.getLabelOffset=function(){var t=this.options,e=t.offsetX,n=t.offsetY;return{x:Object(U.isNumber)(e)?e:0,y:Object(U.isNumber)(n)?n:0}},gh.prototype.getLabelOffsetByDimAndFactor=function(t,e){var n=this.options,i=n.offsetX,r=n.offsetY,o=this.getDefaultOffset(),a={x:0,y:0};return a[t]=o*e,Object(U.isNumber)(i)&&(a.x+=i),Object(U.isNumber)(r)&&(a.y+=r),a},gh.prototype.getDefaultOptions=function(){return{}},gh.prototype.layoutLabels=function(t,e){},gh.prototype.getLabelId=function(t){var e=t._origin,n=this.geometry.type,i=this.geometry.getXScale(),r=this.geometry.getYScale(),o=this.geometry.getElementId(t);return"line"===n||"area"===n?o+=" "+e[i.field]:"path"===n&&(o+=" "+e[i.field]+"-"+e[r.field]),o},gh.prototype.getCoordinateBBox=function(){var t=this.coord,e=t.start,n=t.end;return new X(Math.min(e.x,n.x),Math.min(e.y,n.y),t.getWidth(),t.getHeight())},gh),vh={};function mh(t,e){vh[t]=e}function bh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t,n,i){return e.reduce(function(t,e){return e(t,n,i)},t)}}function xh(){return function(t){return t}}function Oh(n){return function(t){var e=Number(t);return isNaN(e)||Object(U.isNil)(n)?t:e.toFixed(n)}}function wh(e){return function(t){return Object(U.isNil)(e)?t:t+" "+e}}function _h(t,e,n){t[n]&&(e[n]=t[n])}function Ch(t){this.config=!1,this.plot=t.plot,this.dim=t.dim,this.init()}var jh=(Ch.prototype.init=function(){this.config=!1;var t=this.plot.getPlotTheme();this.themeConfig=t&&t.axis&&t.axis[this.dim],this._needDraw()&&this._styleParser()},Ch.prototype._styleParser=function(){this.config=Object(q.__assign)({},this.localProps),this._isVisible("line")?this._lineParser():this.config.line=null,this._isVisible("grid")?this._gridParser():this.config.grid=null,this._isVisible("tickLine")?this._tickLineParser():this.config.tickLine=null,this._isVisible("label")?this._labelParser():this.config.label=null,this._isVisible("title")?this._titleParser():this.config.title=null,_h(this.localProps,this.config,"autoHideLabel"),_h(this.localProps,this.config,"autoRotateLabel"),_h(this.localProps,this.config,"autoRotateTitle")},Ch.prototype._needDraw=function(){var t=this.plot.options,e=t[this.dim+"Axis"]?t[this.dim+"Axis"]:{},n=Object(U.deepMix)({},this.themeConfig,e);return!!(this.localProps=n).visible},Ch.prototype._lineParser=function(){this.config.line=this.localProps.line,this.localProps.line.style&&(this.config.line={style:this.localProps.line.style}),this.applyThemeConfig("line")},Ch.prototype._gridParser=function(){var t,e,n,i,r,o=this,a=null===(e=null===(t=this.localProps.grid)||void 0===t?void 0:t.line)||void 0===e?void 0:e.style,s=null===(i=null===(n=this.localProps.grid)||void 0===n?void 0:n.line)||void 0===i?void 0:i.type,l=null===(r=this.localProps.grid)||void 0===r?void 0:r.alternateColor;Object(U.isFunction)(a)?this.config.grid=function(t,e,n){var i=a(t,e,n);return{line:{type:s,style:Object(U.deepMix)({},Object(U.get)(o.themeConfig,"grid.line.style"),i)},alternateColor:l}}:a&&(this.config.grid={line:{type:s,style:a},alternateColor:l},this.applyThemeConfig("grid"))},Ch.prototype._tickLineParser=function(){this.config.tickLine=this.localProps.tickLine,this.localProps.tickLine.style&&(this.config.tickLine={style:this.localProps.tickLine.style}),this.applyThemeConfig("tickLine")},Ch.prototype._labelParser=function(){var t=this.localProps.label,e=t.style,n=Object(q.__rest)(t,["style"]),i=Object(q.__assign)({},n);e&&(i.style=Object(q.__assign)({},this.localProps.label.style)),i.style=Object(U.deepMix)({},Object(U.get)(this.themeConfig,"label.style"),i.style);var r=this.parseFormatter(i);i.formatter=r,this.config.label=i},Ch.prototype._titleParser=function(){var t=Object(q.__assign)({},this.localProps.title),e=this.localProps.title,n=e.visible,i=e.style,r=e.text;n?(this.config.showTitle=!0,i&&(t.style=i),t.style=Object(U.deepMix)({},Object(U.get)(this.config,"title.style"),t.textStyle),r&&(t.text=r)):this.config.showTitle=!1,this.config.title=t},Ch.prototype._isVisible=function(t){return!(!this.localProps[t]||!this.localProps[t].visible)},Ch.prototype.applyThemeConfig=function(t){this.config[t]=Object(U.deepMix)({},Object(U.get)(this.themeConfig,t+".style"),this.config[t])},Ch.prototype.parseFormatter=function(t){var e=bh(xh(),Oh(t.precision),wh(t.suffix));return t.formatter&&(e=bh(e,t.formatter)),e},Ch);function Sh(t,e){return t.x*e.y+t.y*e.x}function Mh(t,e,n){void 0===n&&(n=1);var i=[t.x,t.y,n];return Rt.vec3.transformMat3(i,i,e),{x:i[0],y:i[1]}}function kh(t){return t*t}function Th(t,e){return Math.sqrt(kh(t.x-e.x)+kh(t.y-e.y))}function Ph(t,e){return Math.sqrt(kh(t.x-e.x)+kh(t.y-e.y))}function Ah(t,e,n){var i=Th(e,n);if(0===i)return Th(t,e);var r=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/i,r=Math.max(0,Math.min(1,r)),o=Th(t,{x:e.x+r*(n.x-e.x),y:e.y+r*(n.y-e.y)});return Math.sqrt(o)}function Eh(n,t){var i=1/0;Object(U.each)(t,function(t){var e=Math.sqrt(Th(t,n));e<i&&(i=e)});for(var e=0,r=t.length-1;e<t.length;r=e++){var o=t[e].x,a=t[e].y,s=t[r].x,l=t[r].y,c=Ah(n,{x:o,y:a},{x:s,y:l});c<i&&(i=c)}return i}function Lh(t,e){for(var n=0,i=t;n<i.length;n++){if(function(t,e){for(var n=!1,i=0,r=e.length-1;i<e.length;r=i++){var o=e[i].x,a=e[i].y,s=e[r].x,l=e[r].y;a>t.y!=l>t.y&&t.x<=(s-o)*(t.y-a)/(l-a)+o&&(n=!n)}return n}(i[n],e))return 1}}function Ih(n,i){if(Lh(n,i))return 0;var r=1/0,o=1/0;return Object(U.each)(n,function(t){var e=Eh(t,i);e<r&&(r=e)}),Object(U.each)(i,function(t){var e=Eh(t,n);e<o&&(o=e)}),Math.min(r,o)}var Bh=2;function Dh(t){return t.length<5?t:function t(e,n){var i;var r=-1/0;var o=0;var a=e.length-1;for(var s=1;s<a;s++){var l=e[s],c={start:e[0],end:e[a]},u=Ah(l,c.start,c.end);r<u&&(r=u,o=s)}{var h,p;i=n<r?(h=t(e.slice(0,o+1),n),p=t(e.slice(o,e.length),n),h.concat(p)):[e[0],e[e.length-1]]}return i}(t,Bh)}function Fh(t){var e=Object(U.clone)(t);e.sort(function(t,e){return t-e});var n=Math.floor(e.length/2);return e.length%2?e[n]:(e[n-1]+e[n])/2}function Rh(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function Nh(t){Object(U.assign)(this,t),this._init()}var Yh=(Nh.prototype._init=function(){var t,e,n,i,r,o,a,s,l,c,u,h,p,f=this.plot.options,d=f.yField,g=f.data,y=this.plot.processData(g);!Object(U.isEmpty)(y)&&Object(U.isNumber)(y[0][d])&&(t=this.getDefaultStyle(),(e={type:"line",top:!0,start:this.cfg.start,end:this.cfg.end}).style=Object(U.deepMix)({},t.line.style,this.cfg.lineStyle),e.text=Object(U.deepMix)({},t.text,this.cfg.text),this.cfg.type?(n=this._getState(this.cfg.type),r=["0%",i=100*(1-this.getYScale().scale(n))+"%"],o=["100%",i],this.config=Object(U.mix)({start:r,end:o},e)):(a=this.cfg,s=a.start,l=a.end,this.config=Object(U.clone)(e),c=this.getXScale(),u=this.getYScale(),h=Object(U.clone)(s),p=Object(U.clone)(l),Object(U.each)(s,function(t,e){Object(U.contains)(Object(U.toArray)(s[e]),"%")&&!Object(U.isNumber)(s[e])||(h[e]=0===e?100*c.scale(s[0])+"%":100*(1-u.scale(s[1]))+"%")}),Object(U.each)(l,function(t,e){Object(U.contains)(Object(U.toArray)(l[e]),"%")&&!Object(U.isNumber)(l[e])||(p[e]=0===e?100*c.scale(l[0])+"%":100*(1-u.scale(l[1]))+"%")}),this.config.start=h,this.config.end=p))},Nh.prototype.getYScale=function(){var t=this._getState("min"),e=this._getState("max");return new(Object(St.getScale)("linear"))(Object(U.mix)({},{min:"column"===this.plot.type?0:t,max:e,nice:!0,values:this.values},this.plot.config.scales[this.plot.options.yField]))},Nh.prototype.getXScale=function(){var t=this.extractXValue();if(Object(U.isString)(t[0]))return new(Object(St.getScale)("cat"))(Object(U.mix)({},{values:t},this.plot.config.scales[this.plot.options.xField]));var e=Math.min.apply(Math,t),n=Math.max.apply(Math,t);return new(Object(St.getScale)("linear"))(Object(U.mix)({},{min:e,max:n,nice:!0,values:t},this.plot.config.scales[this.plot.options.xField]))},Nh.prototype._getState=function(t){return this.values=this._extractValues(),"median"===t?Fh(this.values):"mean"===t?(e=this.values,n=0,Object(U.each)(e,function(t){n+=t}),n/e.length):"max"===t?Math.max.apply(Math,this.values):"min"===t?Math.min.apply(Math,this.values):void 0;var e,n},Nh.prototype._extractValues=function(){var t=this.plot.options,e=t.yField,n=[],i=this.plot.processData(t.data);return Object(U.each)(i,function(t){Object(U.isArray)(t[e])?n.push.apply(n,t[e]):n.push(t[e])}),n},Nh.prototype.extractXValue=function(){var t=this.plot.options,e=t.xField,n=[],i=this.plot.processData(t.data);return Object(U.each)(i,function(t){Object(U.isArray)(t[e])?n.push.apply(n,t[e]):n.push(t[e])}),n},Nh.prototype.getDefaultStyle=function(){return this.getDefaultTextAlign(),{line:{style:{lineWidth:2,stroke:"#333333",opacity:.7,lineDash:[0,0]}},text:{content:"",offsetY:-5,style:{fontSize:14,stroke:"white",lineWidth:2,textAlign:this.getDefaultTextAlign()}}}},Nh.prototype.getDefaultTextAlign=function(){var t=this.cfg.text;if(t){if(!t.position||"start"===t.position)return"left";if("center"===t.position)return"center";if("end"===t.position)return"right"}},Nh);function Vh(t){this.config={};var e=t.plot,n=Object(q.__rest)(t,["plot"]);this.plot=e,this.originConfig=n,this.init(t)}var Xh,Gh,zh=(Vh.prototype.getConfig=function(){return this.config},Vh.prototype.init=function(t){var e=this;Object(U.assign)(this.config,t),this.config.callback=function(t){return e.parseCallBack(t)}},Vh.prototype.parseCallBack=function(t){var e=this.originConfig,n=this.plot.getPlotTheme(),i=Object(q.__assign)({},e);return this.parseOffset(e,i),e.position&&(Object(U.isFunction)(e.position)?i.position=e.position(t):i.position=e.position),this.parseFormatter(i),e.style&&(Object(U.isFunction)(e.style)?i.textStyle=e.style(t):i.textStyle=e.style),i.textStyle=Object(U.deepMix)({},Object(U.get)(n,"label.style"),i.textStyle),e.autoRotate&&(i.autoRotate=e.autoRotate),i},Vh.prototype.parseOffset=function(e,n){var i=0;Object(U.each)(["offset","offsetX","offsetY"],function(t){Object(U.has)(e,t)&&(n[t]=e[t],i++)}),0===i&&"middle"===Object(U.get)(e,"position")&&(n.offset=0)},Vh.prototype.parseFormatter=function(t){var i=this.originConfig;t.content=function(t,e){var n=t[i.fields[0]];return bh(xh(),Oh(i.precision),wh(i.suffix),i.formatter?i.formatter:xh())(n,t,e)}},Vh);function Hh(t,i){Xh||Wh(t),Object(U.each)(Xh,function(t){var e,n=qh(t,i);Uh(n.labelData,n.con)&&(e={opacity:1,fontWeight:600,fill:"red"},t.shape.attr(e))})}function Wh(s){Xh=[],Gh=[];var t=s.view.getController("axis").getComponents();Object(U.each)(t,function(t){var n,i,e=t.component,r=[],o=function(t,e){var n=t.options,i="y",r=e.get("position");"bottom"!==r&&"top"!==r||(i="x");var o=n[i+"Field"];return t.view.get("scales")[o]}(s,e),a=e.get("labelRenderer").get("group").get("children");Object(U.each)(a,function(t){"text"===t.type&&(r.push({shape:t}),Gh.push(t.attr()))}),o&&(n=o.ticks,i=o.field,Object(U.each)(r,function(t,e){t.value=n[e],t.scaleField=i,t.type=o.type})),Xh.push.apply(Xh,r)})}function qh(t,e){var n,i=((n={})[t.scaleField]=t.value,n),r=Object(U.clone)(e);return"time"===t.type&&Object(U.isObject)(e)&&!Object(U.isFunction)(r.exp)&&(r.exp=new Date(r.exp).getTime()),{labelData:i,con:r}}function Uh(t,e){if(Object(U.isFunction)(e))return e(t);var n=e.name,i=e.exp;return t[n]&&(Object(U.isFunction)(i)?i(t[n]):t[n]===i)}var Kh,Zh={active:Hh,selected:Hh,disable:function(t,o){Xh||Wh(t),Object(U.each)(Xh,function(t,e){var n,i,r=qh(t,o);Uh(r.labelData,r.con)&&(n=Gh[e],i={opacity:.2*(n.opacity||1)},t.shape.attr(i))})}};function $h(){var t=Kh.call(this)||this;return t._states={},t._stateStack={},t}var Qh=(Kh=k.default,Object(q.__extends)($h,Kh),$h.prototype.setState=function(t,e){this._stateStack[t]=e,this._onUpdate()},$h.prototype.getState=function(t){return this._states[t]},$h.prototype.getAllStates=function(){return this._states},$h.prototype.clear=function(){this._states={},this._stateStack={},this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null)},$h.prototype._onUpdate=function(){var i=this,r=this._stateStack;this._changeTimer&&(clearTimeout(this._changeTimer),this._changeTimer=null),this._changeTimer=setTimeout(function(){Object(U.each)(r,function(t,e){var n=r[e];i._states[e]&&i._states[e]===t||(i._states[e]=t,i._triggerEvent(e,n))}),i._stateStack={}},16)},$h.prototype._triggerEvent=function(t,e){this.emit(t+":change",{name:t,exp:e})},$h);function Jh(t,e){if(Object(U.isFunction)(e))return e(t);var n=e.name,i=e.exp;return Object(U.isFunction)(i)?i(t[n]):t[n]===i}function tp(t){this.shapeContainers=[],Object(U.assign)(this,t)}var ep,np,ip=(tp.prototype.createStateManager=function(){this.stateManager=new Qh},tp.prototype.bindStateManager=function(t,e){this.stateManager=t,e.setState&&this._updateStateProcess(e.setState),e.onStateChange&&this._stateChangeProcess(e.onStateChange)},tp.prototype.defaultStates=function(t){var r=this;Object(U.each)(t,function(t,e){var n=t.condition,i=t.related;r.setState({type:e,condition:n,related:i})})},tp.prototype.setState=function(a){var s=this,l=a.type,c=a.condition,t=a.related;this.shapes=this._getShapes(),this.originAttrs=this._getOriginAttrs(),Object(U.each)(this.shapes,function(t,e){var n,i,r,o=t.get("origin").data;Jh(Object(U.isArray)(o)?o[0]:o,c)&&(n=a.style?a.style:s._getDefaultStateStyle(l,t),i=s.originAttrs[e],r=void 0,r=Object(U.isFunction)(n)?n(i):Object(U.mix)({},i,n),t.attr(r),s.setZIndex(l,t))}),t&&this._parserRelated(l,t,c),this.plot.canvas.draw()},tp.prototype._updateStateProcess=function(t){var i=this;Object(U.each)(t,function(t){var n=t.state,e=Object(U.isFunction)(n)?function(t){var e=n(t);i.stateManager.setState(e.name,e.exp)}:function(){i.stateManager.setState(n.name,n.exp)};t.event?I(i.plot,i._eventParser(t.event),e):e()})},tp.prototype._stateChangeProcess=function(t){var n=this;Object(U.each)(t,function(e){n.stateManager.on(e.name+":change",function(t){e.callback(t,n.plot)})})},tp.prototype._getShapes=function(){var n=this,i=[],t=this.plot.view.geometries;return Object(U.each)(t,function(t){var e=t.container;n.shapeContainers.push(e),t.destroyed||i.push.apply(i,t.getShapes())}),i},tp.prototype._getOriginAttrs=function(){var e=[];return Object(U.each)(this.shapes,function(t){e.push(Object(U.clone)(t.attr()))}),e},tp.prototype._eventParser=function(t){var e=t.split(":");return this.plot.geometryParser("g2",e[0])+":"+e[1]},tp.prototype._getDefaultStateStyle=function(t,e){var n=this.plot.theme,i=this.plot.geometryParser("plot",e.name)+"Style";if(n[i]){var r=n[i][t];return Object(U.isFunction)(r)&&(r=r(e.attr())),r}return{}},tp.prototype._parserRelated=function(n,t,i){var r=this;Object(U.each)(t,function(t){var e;r.plot[t]&&(e=n,up[t][e])(r.plot,i)})},tp.prototype.setZIndex=function(t,e){var n;"active"!==t&&"selected"!==t||((n=e.get("parent").get("children"))[n.length-1].setZIndex(0),e.setZIndex(1))},tp.prototype.resetZIndex=function(){Object(U.each)(this.shapeContainers,function(t){t.get("children").sort(function(t,e){return t._INDEX-e._INDEX})})},tp);function rp(t,r){ep||op(t),Object(U.each)(ep,function(t,e){var n,i;Jh(t.get("origin"),r)&&(n=np[e],i=Object(U.mix)({},n,{opacity:1}),t.attr(i))})}function op(t){ep=[],np=[];var e=t.view.get("elements");Object(U.each)(e,function(t){var e=t.get("labels");e&&Object(U.each)(e,function(t){ep.push(t),np.push(t.attr())})})}var ap=["xField","yField","angleField"];function sp(n,i){var t,e,r,o=n.options;e=i,r=function(e){var n=[];return Object(U.each)(ap,function(t){Object(U.has)(e,t)&&n.push(t)}),n}(o),!Object(U.isFunction)(e)&&r.indexOf(e.name)&&(t=o.data,Object(U.each)(t,function(t){var e;Jh(t,i)&&(e=n.view.getXY(t),n.view.on("tooltip:create",function(t){lp(i,t,!1)}),n.view.showTooltip(e))}))}function lp(e,n,t){var i=!t,r=Object(U.clone)(n.items);n.items.splice(0),Object(U.each)(r,function(t){Jh(t.point._origin,e)===i&&n.items.push(t)})}var cp={axis:jh,label:zh,guideLine:Yh},up={tooltip:{active:sp,selected:sp,disable:function(t,e){t.view.on("tooltip:change",function(t){lp(e,t,!0)})}},label:{active:rp,selected:rp,disable:function(t,r){ep||op(t),Object(U.each)(ep,function(t,e){var n,i;Jh(t.get("origin"),r)&&(n=np[e],i={opacity:.2*(n.opacity||1)},t.attr(i))})}},axis:Zh};function hp(t,e){return new cp[t](e).config}var pp=["start","process","end","reset"];function fp(t){var e=this.getDefaultCfg();Object(U.assign)(this,e,t),this.canvas=this.view.canvas,this._eventHandlers=[],this._bindEvents()}var dp,gp=(fp.prototype.getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},fp.prototype._start=function(t){this.preStart(t),this.start(t),this.afterStart(t)},fp.prototype.preStart=function(t){},fp.prototype.afterStart=function(t){},fp.prototype._process=function(t){this.preProcess(t),this.process(t),this.afterProcess(t)},fp.prototype.preProcess=function(t){},fp.prototype.process=function(t){},fp.prototype.afterProcess=function(t){},fp.prototype._end=function(t){this.preEnd(t),this.end(t),this.afterEnd(t)},fp.prototype.preEnd=function(t){},fp.prototype.end=function(t){},fp.prototype.afterEnd=function(t){},fp.prototype._reset=function(t){this.preReset(t),this.reset(t),this.afterReset(t)},fp.prototype.preReset=function(t){},fp.prototype.reset=function(t){},fp.prototype.afterReset=function(t){},fp.prototype._bindEvents=function(){var i=this;Object(U.each)(pp,function(t){var e=i[t+"Event"],n=Object(U.wrapBehavior)(i,"_"+t);i.view.on(e,n),i._eventHandlers.push({type:e,handler:n})})},fp.prototype._unbindEvents=function(){var e=this,t=this._eventHandlers;Object(U.each)(t,function(t){e.view.off(t.type,t.handler)})},fp.prototype.destroy=function(){this._unbindEvents(),this._reset()},fp);function yp(t,e,n,i){var r=dp.call(this,t)||this;return r.viewLayer=e,r.interactionRange=n,r.interactionConfig=i,r.disposables=[],r}function vp(t,e,n,i,r){var o=i[0],a=i[1];void 0===r&&(r=!1);var s=Object(U.groupBy)(n,t),l=r?e.slice(e.length-a,e.length-o):e.slice(o,a);return Object(U.flatten)(Object(U.map)(l,function(t){return s[t]||[]}))}var mp,bp,xp=(dp=gp,Object(q.__extends)(yp,dp),yp.registerInteraction=function(t,e){yp.GLOBAL_INTERACTION_MAP[t]=e},yp.registerPlotInteraction=function(t,e,n){yp.PLOT_INTERACTION_MAP[t]||(yp.PLOT_INTERACTION_MAP[t]={}),yp.PLOT_INTERACTION_MAP[t][e]=n},yp.getInteraction=function(t,e){return e&&yp.PLOT_INTERACTION_MAP[e]&&yp[e][t]?yp.PLOT_INTERACTION_MAP[e][t]:yp.GLOBAL_INTERACTION_MAP[t]},yp.getInteractionRange=function(t,e){},yp.prototype.destroy=function(){Object(U.each)(this.disposables,function(t){t()}),this.disposables=[],this.clear(),dp.prototype.destroy.call(this)},yp.prototype.getViewLayer=function(){return this.viewLayer},yp.prototype.getRange=function(){return this.interactionRange},yp.prototype.getInteractionConfig=function(){return this.interactionConfig},yp.prototype.addDisposable=function(t){this.disposables.push(t)},yp.prototype.render=function(){},yp.prototype.start=function(t){},yp.GLOBAL_INTERACTION_MAP={},yp.PLOT_INTERACTION_MAP={},yp);(bp=mp=mp||{}).BEFORE_INIT="beforeinit",bp.AFTER_INIT="afterinit",bp.BEFORE_RENDER="beforerender",bp.AFTER_RENDER="afterrender",bp.BEFORE_CHANGE_DATA="beforechangedata",bp.AFTER_CHANGE_DATA="afterchangedata";function Op(t){void 0===t&&(t={});var e=Object(q.__assign)({type:"horizontal",categorySize:32,width:8,height:8,padding:[0,0,0,0]},t);return t.padding||(e.padding="horizontal"===e.type?[4,0,4,0]:[0,4,0,4]),e}var wp;function _p(){var t=null!==wp&&wp.apply(this,arguments)||this;return t.onChangeFn=Object(U.throttle)(t.onChange.bind(t),20,{leading:!0}),t}function Cp(t){void 0===t&&(t={});var e=Object(q.__assign)({type:"horizontal",start:0,end:1,width:void 0,height:void 0,padding:[0,0,0,0],backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},trendCfg:{}},t);t.padding||(e.padding="horizontal"===e.type?[4,0,4,0]:[0,4,0,4]),t.height||(e.height=16),t.width||(e.width=16);var n=Object(U.clamp)(Math.min(e.start,e.end),0,1),i=Object(U.clamp)(Math.max(e.start,e.end),0,1);return e.start=n,e.end=i,e}var jp,Sp=(wp=xp,Object(q.__extends)(_p,wp),_p.getInteractionRange=function(t,e){var n=Op(e),i=n.padding,r=i[0],o=i[1],a=i[2],s=i[3];return"horizontal"===n.type?new X(t.minX,t.maxY-n.height-r-a,t.width,n.height+r+a):new X(t.maxX-n.width-s-o,t.minY,n.width+s+o,t.height)},_p.prototype.render=function(){var e=this,t=this.getViewLayer(),n=this.view;this.ratio=0,this.thumbOffset=0;function i(){var t=e.view.padding;"auto"===t||Object(U.isEqual)(t,[0,0,0,1])||(e.trackLen?e.renderScrollbar():(e.measureScrollBar(),e.changeViewData(e.getScrollRange(),!0)))}function r(){e.trackLen=0}n.on(N.VIEW_LIFE_CIRCLE.AFTER_PAINT,i),this.addDisposable(function(){return n.off(N.VIEW_LIFE_CIRCLE.AFTER_PAINT,i)}),n.on(N.VIEW_LIFE_CIRCLE.AFTER_RENDER,i),this.addDisposable(function(){return n.off(N.VIEW_LIFE_CIRCLE.AFTER_RENDER,i)}),t.on(mp.BEFORE_CHANGE_DATA,r),this.addDisposable(function(){return t.off(mp.BEFORE_CHANGE_DATA,r)})},_p.prototype.start=function(){},_p.prototype.clear=function(){this.scrollbar&&(this.scrollbar.destroy(),this.scrollbar=null),this.container&&(this.container.remove(!0),this.container=null),this.trackLen=null,this.thumbLen=null},_p.prototype.renderScrollbar=function(){var t=Op(this.getInteractionConfig()),e=this.getRange(),n="vertical"!==t.type,i=this.view.coordinateBBox,r=t.padding,o=r[0],a=r[3],s=n?{x:i.minX+a,y:e.minY+o}:{x:e.minX+a,y:i.minY+o};this.scrollbar?(this.scrollbar.update({trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.thumbOffset,x:s.x,y:s.y}),this.scrollbar.render()):(this.container=this.canvas.addGroup(),this.scrollbar=new Mt.Scrollbar({container:this.container,x:s.x,y:s.y,isHorizontal:n,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:this.ratio*this.trackLen}),this.scrollbar.init(),this.scrollbar.render(),this.scrollbar.get("group").set("zIndex",999),this.scrollbar.on("scrollchange",this.onChangeFn))},_p.prototype.measureScrollBar=function(){var t=Op(this.getInteractionConfig()),e=t.padding,n=e[0],i=e[1],r=e[2],o=e[3],a="vertical"!==t.type,s=this.view.coordinateBBox,l=this.view.getXScale(),c=this.view.getYScales().filter(function(t){return t});this.cnt=l.values.length,this.xScaleCfg={field:l.field,values:l.values||[]},this.yScalesCfg=c,this.step=Math.floor((a?s.width:s.height)/t.categorySize),this.trackLen=a?s.width-o-i:s.height-n-r,this.thumbLen=Math.max(this.trackLen*Object(U.clamp)(this.step/l.values.length,0,1),20)},_p.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*Object(U.clamp)(this.ratio,0,1));return[t,Math.min(t+this.step,this.cnt)]},_p.prototype.changeViewData=function(t,e){var n=this,i=t[0],r=t[1],o=Op(this.getInteractionConfig()),a=this.getViewLayer(),s=a.options.meta,l=a.getData(),c=vp(this.xScaleCfg.field,this.xScaleCfg.values,l,[i,r],"vertical"===o.type);this.yScalesCfg.forEach(function(t){var e=Object(U.get)(s,t.field)||{};n.view.scale(t.field,Object(q.__assign)(Object(q.__assign)({formatter:t.formatter},e),{type:t.type,min:t.min,max:t.max}))}),e?(this.view.data(c),this.view.render()):this.view.changeData(c)},_p.prototype.onChange=function(t){var e=t.ratio,n=t.thumbOffset;this.ratio=e,this.thumbOffset=n;var i=this.view.getOptions().animate;this.view.animate(!1),this.changeViewData(this.getScrollRange(),!0),this.view.animate(i),this.renderScrollbar()},_p);function Mp(){var t=null!==jp&&jp.apply(this,arguments)||this;return t.onChangeFn=Object(U.throttle)(t.onChange.bind(t),20,{leading:!0}),t}var kp,Tp=(jp=xp,Object(q.__extends)(Mp,jp),Mp.getInteractionRange=function(t,e){var n=Cp(e),i=n.padding||[0,0,0,0],r=i[0],o=i[1],a=i[2],s=i[3];return"horizontal"!==n.type?new X(t.maxX-n.width-s-o,t.minY,n.width+s+o,t.height):new X(t.minX,t.maxY-n.height-r-a,t.width,n.height+r+a)},Mp.prototype.render=function(){var n=this,i=this.getViewLayer(),r=this.view,t=Cp(this.getInteractionConfig());this.curStart=t.start,this.curEnd=t.end,this.xScaleCfg=void 0;function e(){var t,e=n.view.padding;"auto"===e||Object(U.isEqual)(e,[0,0,0,1])||Object(U.isEmpty)(i.options.data)||(n.xScaleCfg?n.renderSlider():(t=r.getXScale(),n.xScaleCfg={field:t.field,values:t.values||[]},r.data(n.getSliderData(n.curStart,n.curEnd)),r.render()))}r.on(N.VIEW_LIFE_CIRCLE.AFTER_PAINT,e),this.addDisposable(function(){return r.off(N.VIEW_LIFE_CIRCLE.AFTER_PAINT,e)}),r.on(N.VIEW_LIFE_CIRCLE.AFTER_RENDER,e),this.addDisposable(function(){return r.off(N.VIEW_LIFE_CIRCLE.AFTER_RENDER,e)})},Mp.prototype.start=function(){},Mp.prototype.clear=function(){this.slider&&(this.slider.destroy(),this.slider=null),this.container&&(this.container.remove(!0),this.container=null)},Mp.prototype.renderSlider=function(){this.slider?(this.slider.update(this.getSliderConfig()),this.slider.render()):(this.container=this.canvas.addGroup(),this.slider=new Mt.Slider(Object(q.__assign)(Object(q.__assign)({},this.getSliderConfig()),{container:this.container})),this.slider.init(),this.slider.render(),this.slider.on("sliderchange",this.onChangeFn))},Mp.prototype.getSliderConfig=function(){var t=this.view.coordinateBBox,e=this.getRange(),n=Cp(this.getInteractionConfig())||{},i=n.padding,r=void 0===i?[0,0,0,0]:i,o=n.backgroundStyle,a=n.foregroundStyle,s=n.handlerStyle,l=n.textStyle,c=n.trendCfg,u=void 0===c?{}:c,h=r[0],p=r[1],f=r[2],d=r[3],g=this.getSliderMinMaxText(this.curStart,this.curEnd),y=g.minText,v=g.maxText;return{x:t.minX+d,y:e.minY+h,width:t.width-d-p,height:e.height-h-f,start:this.curStart,end:this.curEnd,minText:y,maxText:v,backgroundStyle:o,foregroundStyle:a,handlerStyle:s,textStyle:l,trendCfg:Object(q.__assign)(Object(q.__assign)({isArea:!1,smooth:!1},u),{data:this.getSliderTrendData()})}},Mp.prototype.getSliderTrendData=function(){var t=this.getViewLayer().options,e=t.data,n=t.yField;return Object(U.map)(e,function(t){return t[n]})},Mp.prototype.getSliderData=function(t,e){var n=this.getViewLayer().getData(),i=Object(U.size)(this.xScaleCfg.values),r=Math.round(t*i),o=Math.max(r+1,Math.round(e*i));return vp(this.xScaleCfg.field,this.xScaleCfg.values,n,[r,o])},Mp.prototype.getSliderMinMaxText=function(t,e){var n=this.getViewLayer().options,i=n.data,r=void 0===i?[]:i,o=n.xField,a=Object(U.size)(r),s=Math.round(t*a),l=Math.max(s+1,Math.round(e*a)),c=r.slice(s,l);return{minText:0<c.length?Object(U.head)(c)[o]:"",maxText:0<c.length?Object(U.last)(c)[o]:""}},Mp.prototype.onChange=function(t){var e=this.view,n=Object(U.clamp)(Math.min(t[0],t[1]),0,1),i=Object(U.clamp)(Math.max(t[0],t[1]),0,1),r=this.getSliderData(n,i),o=this.getSliderMinMaxText(n,i),a=o.minText,s=o.maxText;this.curStart=n,this.curEnd=i,this.slider.update({start:n,end:i,minText:a,maxText:s}),this.slider.render();var l=e.getOptions().animate;e.animate(!1),e.data(r),e.render(),e.animate(l)},Mp);function Pp(t){return kp.call(this,Object(U.deepMix)({},t))||this}var Ap,Ep=(kp=dh,Object(q.__extends)(Pp,kp),Pp.prototype.renderInner=function(t){var e=this;this.initElement(t),this.updateElement(),this.renderMarker(),t.off("click"),t.on("click",function(){e.emit("click")})},Pp.prototype.destroy=function(){this.group.off(),kp.prototype.destroy.call(this)},Pp.prototype.initElement=function(t){this.circle=t.addShape("circle",{attrs:{x:this.config.x,y:this.config.y,r:this.config.r,fill:"#607889"}}),this.startMarker=t.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ffffff"}}),this.pauseGroupMarker=t.addGroup();var e=.25*this.config.r,n=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-n/2,width:e,height:n,fill:"#ffffff"}})},Pp.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var t=.25*this.config.r,e=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-.375*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-e/2),this.pauseLeftMarker.attr("width",t),this.pauseLeftMarker.attr("height",e),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-e/2),this.pauseRightMarker.attr("width",t),this.pauseRightMarker.attr("height",e)},Pp.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},Pp.prototype.getStartMarkerPath=function(){var t=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-t/Math.sqrt(3)/2,this.config.y-t/2],["L",this.config.x+t/Math.sqrt(3),this.config.y],["L",this.config.x-t/Math.sqrt(3)/2,this.config.y+t/2]]},Pp),Lp="timelinestart",Ip="timelineend";function Bp(t){var i=Ap.call(this,Object(U.deepMix)({},{speed:1,loop:!1},t))||this;return i.onTimeSelectMouseMove=function(t){t.stopPropagation(),t.preventDefault();var e=Object(U.get)(t,"touches.0.pageX",t.pageX),n=e-i.prevX;i.setTimeSelectX(n),i.prevX=e},i.onTimeSelectMouseUp=function(){i.syncCurrnentTick(),i.emit(Ip,null);var t=i.getCanvas().get("container");t&&(t.removeEventListener("mousemove",i.onTimeSelectMouseMove),t.removeEventListener("mouseup",i.onTimeSelectMouseUp),t.removeEventListener("mouseleave",i.onTimeSelectMouseUp),t.removeEventListener("touchmove",i.onTimeSelectMouseMove),t.removeEventListener("touchend",i.onTimeSelectMouseUp),t.removeEventListener("touchcancel",i.onTimeSelectMouseUp))},i.onTimeSelectMouseDown=function(t){var e=t.originalEvent;e.stopPropagation(),e.preventDefault(),!1===i.isPlay?i.emit(Lp,null):(i.isPlay=!1,i.changePlayStatus(!1)),i.prevX=Object(U.get)(e,"touches.0.pageX",e.pageX);var n=i.getCanvas().get("container");n.addEventListener("mousemove",i.onTimeSelectMouseMove),n.addEventListener("mouseup",i.onTimeSelectMouseUp),n.addEventListener("mouseleave",i.onTimeSelectMouseUp),n.addEventListener("touchmove",i.onTimeSelectMouseMove),n.addEventListener("touchend",i.onTimeSelectMouseUp),n.addEventListener("touchcancel",i.onTimeSelectMouseUp)},i}var Dp,Fp=(Ap=dh,Object(q.__extends)(Bp,Ap),Bp.prototype.renderInner=function(t){var e=this.config,n=e.ticks,i=e.defaultCurrentTick;n&&n.length&&(this.currentTick=this.config.ticks.includes(i)?i:n[0],this.renderPlayButton(t),this.renderTimeLine(t),this.renderTimeSelect(t,this.currentTick),this.initEvent())},Bp.prototype.update=function(t){Ap.prototype.update.call(this,t),this.emit("timelineupdate",this.currentTick)},Bp.prototype.destroy=function(){Ap.prototype.destroy.call(this),this.timeLineButton.destroy(),this.timeLineButton.off(),this.timeSelect.off(),this.playHandler&&window.cancelAnimationFrame(this.playHandler)},Bp.prototype.renderPlayButton=function(t){var e=this.config,n=e.height,i=e.x,r=e.y,o=n/2*.8;this.timeLineButton?this.timeLineButton.update({x:i+o,y:r+o+n*(1-.8)/2,r:o}):(this.timeLineButton=new Ep({container:t,x:i+o,y:r+o+n*(1-.8)/2,r:o,isPlay:this.isPlay}),this.timeLineButton.init()),this.timeLineButton.render()},Bp.prototype.getTimeLinePath=function(){var t=this.timeLine,e=t.x,n=t.y,i=t.width,r=t.height,o=r/2;return 0<i?"M"+e+", "+n+"A"+o+","+o+" 90 0,0 "+e+","+(n+r)+"L"+(e+i)+", "+(n+r)+"A"+o+","+o+" 90 0,0 "+(e+i)+","+n+"L"+e+", "+n:[]},Bp.prototype.renderTimeLine=function(r){var o=this,t=this.config,e=t.width,n=t.height,i=t.ticks,a=t.x,s=t.y;this.timeLine||(this.timeLine={}),this.timeLine.height=.15*n,this.timeLine.x=a+n+20,this.timeLine.y=s+(n/2-this.timeLine.height/2),this.timeLine.width=e-this.timeLine.x-20,this.timeLine&&this.timeLine.shape?this.timeLine.shape.attr("path",this.getTimeLinePath()):this.timeLine.shape=r.addShape("path",{attrs:{path:this.getTimeLinePath(),fill:"#607889",opacity:.2}});var l=this.timeLine.width/(i.length-1);this.tickPosList=[],this.timeLine.textList&&this.timeLine.textList.length&&this.timeLine.textList.forEach(function(t){t.destroy()});var c=-1/0;this.timeLine.textList=i.map(function(t,e){o.tickPosList.push(o.timeLine.x+e*l);var n=r.addShape("text",{attrs:{x:o.timeLine.x+e*l,y:o.timeLine.y+o.timeLine.height+5,text:t,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35}}),i=n.getBBox();return i.minX>c?(n.show(),c=i.minX+i.width+10):n.hide(),n})},Bp.prototype.renderTimeSelect=function(t,e){var n=this.config,i=n.ticks,r=n.height,o=this.timeLine.width/(i.length-1),a=Object(U.findIndex)(i,function(t){return t===e}),s=this.timeLine.x+a*o,l=this.config.y+r/2,c=.15*r;this.timeSelect?(this.timeSelect.attr("x",s),this.timeSelect.attr("y",l),this.timeSelect.attr("r",c)):this.timeSelect=t.addShape("circle",{attrs:{x:s,y:l,r:c,fill:"#607889"}}),this.timeSelectText?(this.timeSelectText.attr("x",s),this.timeSelectText.attr("y",l-.15*r-14),this.timeSelectText.attr("text",this.currentTick)):this.timeSelectText=t.addShape("text",{attrs:{x:s,y:l-.15*r-14,text:this.currentTick,textAlign:"center",textBaseline:"top",fill:"#607889"}})},Bp.prototype.adjustTickIndex=function(t){for(var e=0;e<this.tickPosList.length-1;e++)if(this.tickPosList[e]<=t&&t<=this.tickPosList[e+1])return Math.abs(this.tickPosList[e]-t)<Math.abs(t-this.tickPosList[e+1])?e:e+1},Bp.prototype.setTimeSelectX=function(t){var e=this.timeSelect.attr("x")+t;e<this.timeLine.x&&(e=this.timeLine.x),e>this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x+this.timeLine.width,this.isPlay&&(this.config.loop?this.timeSelect.attr("x")===this.timeLine.x+this.timeLine.width&&(e=this.timeLine.x):(this.isPlay=!1,this.changePlayStatus()))),this.timeSelect.attr("x",e),this.timeSelectText.attr("x",e);var n=this.adjustTickIndex(e);this.currentTick!==this.config.ticks[n]&&(this.currentTick=this.config.ticks[n],this.timeSelectText.attr("text",this.currentTick),this.emit("timelinechange",this.currentTick)),this.getCanvas().draw()},Bp.prototype.syncCurrnentTick=function(){var e=this,t=this.config.ticks,n=this.timeLine.width/(t.length-1),i=Object(U.findIndex)(t,function(t){return t===e.currentTick}),r=this.timeLine.x+i*n;this.timeSelect.attr("x",r),this.timeSelectText.attr("x",r),this.getCanvas().draw()},Bp.prototype.startPlay=function(){var r=this;return window.requestAnimationFrame(function(){var t=r.config,e=t.speed,n=t.ticks,i=r.timeLine.width/n.length/(1e3*e/60);r.setTimeSelectX(i),r.isPlay&&(r.playHandler=r.startPlay())})},Bp.prototype.changePlayStatus=function(t){void 0===t&&(t=!0),this.timeLineButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.emit(Lp,null)):this.playHandler&&(window.cancelAnimationFrame(this.playHandler),t&&(this.syncCurrnentTick(),this.emit(Ip,null))),this.getCanvas().draw()},Bp.prototype.initEvent=function(){var e=this;this.timeLineButton.off("click"),this.timeLineButton.on("click",function(){e.isPlay=!e.isPlay,e.changePlayStatus()}),this.timeSelect.off("mousedown"),this.timeSelect.on("mousedown",function(t){e.onTimeSelectMouseDown(t)})},Bp);function Rp(t){return Object(q.__assign)({loop:!1,auto:!0,height:40,padding:[0,20,0,0],speed:2},t)}function Np(){var t=null!==Dp&&Dp.apply(this,arguments)||this;return t.onChangeFn=Object(U.throttle)(t.onChange.bind(t),20,{leading:!0}),t}var Yp=(Dp=xp,Object(q.__extends)(Np,Dp),Np.getInteractionRange=function(t,e){var n=Rp(e),i=n.padding[0],r=n.padding[2];return new X(t.minX,t.maxY-n.height-i-r,t.width,n.height+i+r)},Np.prototype.setAnimate=function(e){var t=this.view.geometries;this.view.animate(e),t.forEach(function(t){t.animate(e)})},Np.prototype.start=function(){},Np.prototype.renderTimeLine=function(){var t=this;this.config=Rp(this.getInteractionConfig());var e=this.view.viewBBox,n=this.config,i=n.loop,r=n.padding,o=n.speed,a=r[0],s=r[1],l=r[2],c=r[3],u=this.getRange(),h=this.getTicks(),p=e.width-c-s,f={x:e.minX+c,y:u.tl.y+a,width:p,height:u.height-a-l,loop:i,ticks:h,speed:o,defaultCurrentTick:h[0]};this.timeline?Object(U.isEqual)(f,this.timeLineConfig)||(this.timeLineConfig=f,this.timeline.update(f)):(this.container=this.canvas.addGroup(),this.timeline=new Fp(Object(q.__assign)({container:this.container},f)),this.timeline.init(),this.timeline.render(),this.timeline.on("timelinestart",function(){t.originAnimation=t.view.getOptions().animate,t.setAnimate(!0)}),this.timeline.on("timelineend",function(){t.setAnimate(t.originAnimation)}),this.timeline.on("timelinechange",this.onChangeFn),this.timeline.on("timelineupdate",this.onChange.bind(this)),this.view.data(this.getFilterData(h[0])),this.timeLineConfig=f)},Np.prototype.onChange=function(t){var e=this.getFilterData(t);this.view.changeData(e)},Np.prototype.getFilterData=function(e){var n=this.config.field;return this.getViewLayer().options.data.filter(function(t){return t[n]===e})},Np.prototype.getTicks=function(){var e=this.config.field,t=this.getViewLayer().options.data;return Object(U.uniq)(t.map(function(t){return t[e]}))},Np.prototype.render=function(){var t=this;this.firstRender=!0,this.view.on(N.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.renderTimeLine()}),this.view.on(N.VIEW_LIFE_CIRCLE.BEFORE_PAINT,function(){t.renderTimeLine()}),this.view.on(N.VIEW_LIFE_CIRCLE.AFTER_PAINT,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1}),this.view.on(N.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.config.auto&&t.firstRender&&(t.timeline.isPlay=!0,t.timeline.changePlayStatus()),t.firstRender=!1})},Np.prototype.clear=function(){this.timeline&&(this.timeline.destroy(),this.timeline=null),this.container&&(this.container.remove(!0),this.container=null)},Np);function Vp(t,e){var n=e?Object(U.clone)(e):[1,0,0,0,1,0,0,0,1];return Rt.ext.transform(n,t)}function Xp(t,e,n,i){var r=i?Object(U.clone)(i):[1,0,0,0,1,0,0,0,1];r[6]=e,r[7]=n,t.setMatrix(r)}function Gp(t,e,n){var i,r,o=Zp("...",n),a=Object(U.isString)(t)?t:Object(U.toString)(t),s=e,l=[];if(Zp(t,n)<=e)return t;for(;i=a.substr(0,16),!(s<(r=Zp(i,n))+o&&s<r);)if(l.push(i),s-=r,!(a=a.substr(16)))return l.join("");for(;i=a.substr(0,1),!(s<(r=Zp(i,n))+o);)if(l.push(i),s-=r,!(a=a.substr(1)))return l.join("");return l.join("")+"..."}var zp,Hp,Wp,qp,Up,Kp=document.createElement("canvas").getContext("2d"),Zp=Object(U.memoize)(function(t,e){void 0===e&&(e={});var n=e.fontSize,i=e.fontFamily,r=e.fontWeight,o=e.fontStyle,a=e.fontVariant;return Kp.font=[o,a,r,n+"px",i].join(" "),Kp.measureText(Object(U.isString)(t)?t:"").width},function(t,e){return e?Object(q.__spreadArrays)([t],Object(U.values)(e)).join(""):t});(Hp=zp=zp||{}).TOOLTIP_INDICATOR_INNER="tooltip_indicator-inner",Hp.TOOLTIP_INDICATOR_TITLE="tooltip_indicator-title",Hp.TOOLTIP_INDICATOR_BODY="tooltip_indicator-body",Hp.TOOLTIP_INDICATOR_ITEM_GROUP="tooltip_indicator-item-group",Hp.TOOLTIP_INDICATOR_ITEM_BACKGROUND="tooltip_indicator-item-background",Hp.TOOLTIP_INDICATOR_ITEM_LINE="tooltip_indicator-item-line",Hp.TOOLTIP_INDICATOR_ITEM_TITLE="tooltip_indicator-item-title",Hp.TOOLTIP_INDICATOR_ITEM_BODY="tooltip_indicator-item-body",Hp.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP="tooltip_indicator-item-value-group",Hp.TOOLTIP_INDICATOR_ITEM_NAME="tooltip_indicator-item-name",Hp.TOOLTIP_INDICATOR_ITEM_VALUE="tooltip_indicator-item-value",(Wp=Wp||{}).ON_SELECT_ITEM="onSelectItem",(Up=qp=qp||{})[Up.LARGE=12]="LARGE",Up[Up.NORMAL=8]="NORMAL",Up[Up.SMALL=4]="SMALL";var $p;function Qp(){var u=null!==$p&&$p.apply(this,arguments)||this;return u.curX=0,u.curY=0,u.offsetX=0,u.scrollWidth=0,u.onBodyGroupMousemove=function(t){var e,n=function(t,e){var n=t;for(;n;){if(e(n))return n;n=n.getParent()}}(t.target,function(t){return t.get("name")===zp.TOOLTIP_INDICATOR_ITEM_GROUP});n&&(e=n.get("delegateObject"),u.doSelectItem(e.item.id))},u.onWheel=function(t){var e,n,i,r=u.config.width,o=void 0===r?0:r,a=t.deltaX,s=Math.min(u.scrollWidth-o,0)-(u.scrollWidth/2+Math.max(0,(u.scrollWidth-o)/2)),l=Math.max(u.scrollWidth-o,0)+u.scrollWidth/2+Math.max(0,(u.scrollWidth-o)/2),c=Object(U.clamp)(u.offsetX+a,s,l);c!==u.offsetX&&(e=u.bodyGroup,n=u.offsetX-c,i=0,Su.translate(e,n,i),u.offsetX=c)},u}var Jp=($p=dh,Object(q.__extends)(Qp,$p),Qp.prototype.destroy=function(){this.offEvents(),$p.prototype.destroy.call(this)},Qp.prototype.selectItem=function(t){this.doSelectItem(t)},Qp.prototype.resetSelect=function(){this.doSelectItem(this.selectedItemId)},Qp.prototype.initConfig=function(t){var e,n=t.theme,i=void 0===n?{}:n,r={x:0,y:0,title:{text:"",spacingY:qp.NORMAL,style:{}},line:{spacingX:qp.SMALL,width:2,style:{}},itemTitle:{spacingX:0,spacingY:qp.SMALL,style:{}},itemName:{spacingX:qp.NORMAL,spacingY:qp.SMALL,style:{}},itemValue:{style:{}},itemBackground:{style:{opacity:0,fill:"#000"}},itemSpacing:qp.LARGE};this.config=Object(U.deepMix)({},null===(e=null==i?void 0:i.components)||void 0===e?void 0:e.tooltipIndicator,r,t),this.selectedItemId=this.config.selectedItem},Qp.prototype.renderInner=function(t){var n=this;this.resetRender();var e=this.config,i=e.items,r=e.x,o=e.y,a=[],s=t.addGroup({name:zp.TOOLTIP_INDICATOR_INNER});this.renderTitle(s),this.bodyGroup=s.addGroup({name:zp.TOOLTIP_INDICATOR_BODY}),null!=i&&i.forEach(function(t,e){a.push(n.renderItem(n.bodyGroup,t,e))}),this.layoutItems(s),Xp(s,r,o),this.applyClip(t),this.bindEvents(s)},Qp.prototype.renderTitle=function(t){var e=this.config.title;if(null!=e&&e.text){var n=t.addShape({type:"text",name:zp.TOOLTIP_INDICATOR_TITLE,attrs:Object(q.__assign)({text:null==e?void 0:e.text,textAlign:"left",textBaseline:"top"},(null==e?void 0:e.style)||{})}),i=n.getBBox();return this.curY+=i.height,this.curY+=e.spacingY||0,n}},Qp.prototype.renderItem=function(t,e,n){var i=this.config.itemBackground,r=t.addGroup({name:zp.TOOLTIP_INDICATOR_ITEM_GROUP,delegateObject:{item:e,index:n}}),o=this.curX,a=this.curY,s=r.addShape({name:zp.TOOLTIP_INDICATOR_ITEM_BACKGROUND,type:"rect",attrs:Object(q.__assign)({x:this.curX,y:this.curY,width:1,height:1},i.style||{})}),l=this.renderLine(r,e);this.renderItemTitle(r,e),this.renderItemValues(r,e);var c=r.getBBox();return l.attr({y2:l.attr("y1")+c.height}),this.curX=o+c.width,this.curX+=this.config.itemSpacing||0,s.attr({width:this.curX-o-2*s.attr("lineWidth"),height:this.curY-a-2*s.attr("lineWidth")}),this.curY=a,r},Qp.prototype.renderLine=function(t,e){var n=this.config.line,i=n.width||2,r=Object(q.__assign)({x1:this.curX+i/2,y1:this.curY,x2:this.curX+i/2,y2:this.curY,lineWidth:i,stroke:e.color},(null==n?void 0:n.style)||{}),o=t.addShape({name:zp.TOOLTIP_INDICATOR_ITEM_LINE,type:"line",attrs:r}),a=o.getBBox();return this.curX+=a.width,this.curX+=n.spacingX||0,o},Qp.prototype.renderItemTitle=function(t,e){var n=this.config.itemTitle,i=Gp(e.title,160,n.style||{}),r=t.addShape({name:zp.TOOLTIP_INDICATOR_ITEM_TITLE,type:"text",attrs:Object(q.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:i},n.style||{})}),o=r.getBBox();return this.curY+=o.height,this.curY+=n.spacingY||0,r},Qp.prototype.renderItemValues=function(t,i){var e,r=this,o=t.addGroup({name:zp.TOOLTIP_INDICATOR_ITEM_BODY}),a=this.curX;return null!==(e=i.values)&&void 0!==e&&e.forEach(function(t,e){var n=o.addGroup({name:zp.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP,delegateObject:{item:i,valueIndex:e}});r.curX=a,r.renderItemValueName(n,t),r.renderItemValueValue(n,t)}),this.layoutItemValues(o),o},Qp.prototype.renderItemValueName=function(t,e){var n=this.config.itemName;if(e.name){var i=t.addShape({name:zp.TOOLTIP_INDICATOR_ITEM_NAME,type:"text",attrs:Object(q.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.name},n.style||{})}),r=i.getBBox();return e.wrapLine?(this.curY+=r.height,this.curY+=n.spacingY||0):(this.curX+=r.width,this.curX+=n.spacingX||0),i}},Qp.prototype.renderItemValueValue=function(t,e){var n=this.config,i=n.itemName,r=n.itemValue,o=t.addShape({name:zp.TOOLTIP_INDICATOR_ITEM_VALUE,type:"text",attrs:Object(q.__assign)({x:this.curX,y:this.curY,textAlign:"left",textBaseline:"top",text:e.value},r.style||{})}),a=o.getBBox();return this.curY+=a.height,this.curY+=i.spacingY||0,o},Qp.prototype.layoutItems=function(t){var e,n=t.findAllByName(zp.TOOLTIP_INDICATOR_BODY)[0],i=t.findAllByName(zp.TOOLTIP_INDICATOR_ITEM_GROUP);n&&0!==i.length&&(e=n.getBBox(),this.scrollWidth=e.width)},Qp.prototype.layoutItemValues=function(t){var e=t.findAllByName(zp.TOOLTIP_INDICATOR_ITEM_VALUE_GROUP),s=e.map(function(t){return X.fromBBoxObject(t.getBBox())}),n=t.findAllByName(zp.TOOLTIP_INDICATOR_ITEM_VALUE).map(function(t){return X.fromBBoxObject(t.getBBox())}),l=Math.max.apply(Math,n.map(function(t){return t.maxX}));e.forEach(function(t,e){var n,i,r=s[e],o=t.findAllByName(zp.TOOLTIP_INDICATOR_ITEM_NAME)[0],a=t.findAllByName(zp.TOOLTIP_INDICATOR_ITEM_VALUE)[0];o&&a&&(n=X.fromBBoxObject(o.getBBox()),i=X.fromBBoxObject(a.getBBox()),n.height<r.height&&o.attr("y",o.attr("y")+(r.height-n.height)/2),i.height<r.height&&a.attr("y",a.attr("y")+(r.height-i.height)/2),i.maxX<l&&a.attr("x",a.attr("x")+l-i.maxX))})},Qp.prototype.applyClip=function(t){var e=this.config,n=e.x,i=e.y,r=e.width,o=e.height,a=t.getBBox();(r||o)&&t.setClip({type:"rect",attrs:{x:n,y:i,width:r||a.width,height:o||a.height}})},Qp.prototype.doSelectItem=function(n){var i=this,t=this.getGroup().findAllByName(zp.TOOLTIP_INDICATOR_ITEM_GROUP);n!==this.selectedItemId?(t.forEach(function(t){var e=t.get("delegateObject");e&&i.applyItemStyle(t,e.item.id===n?"selected":"inactive")}),this.selectedItemId=n):(t.forEach(function(t){i.applyItemStyle(t)}),this.selectedItemId=void 0),this.emit(Wp.ON_SELECT_ITEM,this.selectedItemId)},Qp.prototype.applyItemStyle=function(t,e){var n=this.config,i=n.line,r=n.itemTitle,o=n.itemName,a=n.itemValue,s=t.findAllByName(zp.TOOLTIP_INDICATOR_ITEM_LINE)[0],l=t.findAllByName(zp.TOOLTIP_INDICATOR_ITEM_TITLE)[0],c=t.findAllByName(zp.TOOLTIP_INDICATOR_ITEM_NAME),u=t.findAllByName(zp.TOOLTIP_INDICATOR_ITEM_VALUE),h=e&&e+"Style";s&&(s.attr(i.style),s.attr(i[h]||{})),l&&(l.attr(r.style),l.attr(r[h]||{})),c.forEach(function(t){t.attr(o.style),t.attr(o[h]||{})}),u.forEach(function(t){t.attr(a.style),t.attr(a[h]||{})})},Qp.prototype.bindEvents=function(t){var e=this;this.offEvents();var n=t.findAllByName(zp.TOOLTIP_INDICATOR_BODY)[0];n.on("mousemove",this.onBodyGroupMousemove),this.addDisposable(function(){n.off("mousemove",e.onBodyGroupMousemove)}),this.gm=new Gu(n),this.wheel=new qu(n),this.wheel.on("wheel",this.onWheel)},Qp.prototype.offEvents=function(){this.gm&&this.gm.destroy(),this.wheel&&this.wheel.destroy()},Qp.prototype.resetRender=function(){this.curX=0,this.curY=0,this.offsetX=0},Qp);function tf(t,e){return Object(U.head)((n=t,i=e,Object(U.filter)(n.geometries,function(t){return t.type===i})));var n,i}function ef(t,e){t.geometries.forEach(function(t){t.elements.forEach(function(t){e(t)})})}function nf(t,e){var n=t.getBBox(),i=0,r=0;n.minX<e.minX?i=n.minX-e.minX:n.maxX>e.maxX&&(i=n.maxX-e.maxX),i&&t.attr("x",t.attr("x")-i),n.minY<e.minY?r=n.minY-e.minY:n.maxY>e.maxY&&(r=n.maxY-e.maxY),r&&t.attr("y",t.attr("y")-r)}function rf(t,e,n){return void 0===n&&(n=0),Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n))*Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n))}function of(t,e){var n=t.getBBox();return Object(U.some)(e,function(t){var e=t.getBBox();return 0<rf(n,e,2)})}function af(t){return void 0===t&&(t={}),Object(q.__assign)({showTotal:!1,showPercent:!1,padding:[8,24,8,24],height:t.showPercent?72:54},t)}var sf,lf,cf,uf;function hf(){var t=null!==cf&&cf.apply(this,arguments)||this;return t.state="selected",t.isSingle=!1,t}function pf(){var c=null!==uf&&uf.apply(this,arguments)||this;return c.onElementActive=function(t){var e=t.element,n=t.isSingle,i=c.view.getXScale(),r=c.view.getXScale().field,o=c.view.getGroupScales()[0].field,a=e.getData(),s=a[r],l=c.getLegendItems(s);c.component.update({items:l,title:{text:i.getText(s)}}),c.component.render(),n&&c.component.selectItem(a[o]),c.curX=s},c.onSelectTooltipIndicatorItem=function(t){c.component&&t&&c.getInteractionAction().setStateByField(c.curX,t)},c}(lf=sf=sf||{}).ACTIVE_ELEMENT="tooltip_indicator_active_element",lf.ACTIVE_ELEMENT_BY_X="tooltip_indicator_active_element_by_x",ie("tooltip-indicator",(cf=Jt,Object(q.__extends)(hf,cf),hf.prototype.active=function(){var t=Qu.getCurrentElement(this.context);!t.hasState("selected")||this.isSingle?this.setStateByX(t):this.setState(t)},hf.prototype.setState=function(e){var n=this;ef(this.getView(),function(t){t===e?t.hasState(n.state)||t.setState(n.state,!0):t.setState(n.state,!1)}),this.isSingle=!0,this.getView().emit(sf.ACTIVE_ELEMENT,{element:e,isSingle:!0})},hf.prototype.setStateByX=function(t){var e=this,n=this.getXField(),i=t.getData()[n];ef(this.getView(),function(t){t.getData()[n]===i?t.hasState(e.state)||t.setState(e.state,!0):t.setState(e.state,!1)}),this.isSingle=!1,this.getView().emit(sf.ACTIVE_ELEMENT_BY_X,{element:t,isSingle:!1})},hf.prototype.setStateByField=function(n,i){var r=this,o=this.getView().getXScale().field,a=this.getView().getGroupScales()[0].field;ef(this.getView(),function(t){var e=t.getData();t.setState(r.state,e[o]===n&&(void 0===i||e[a]===i))})},hf.prototype.getView=function(){return this.context.view},hf.prototype.getXField=function(){return this.context.view.getXScale().field},hf)),un("element-tooltip-indicator",{start:[{trigger:"element:mousemove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"element:touchmove",action:"tooltip-indicator:active",throttle:{wait:50,leading:!0,trailing:!1}}]});var ff=(uf=xp,Object(q.__extends)(pf,uf),pf.getInteractionRange=function(t,e){var n=af(e),i=n.padding,r=i[0],o=i[2];return new X(t.minX,t.minY,t.width,n.height+r+o)},pf.prototype.clear=function(){this.component&&this.component.destroy(),this.container&&this.container.remove(!0),this.component=null,this.container=null},pf.prototype.render=function(){function t(){var t=i.view.getXScale(),e=Object(U.last)(t.getTicks()).tickValue,n=i.view.padding;Object(U.isEqual)([0,0,0,0],n)||(i.component?i.updateComponent():(i.createComponent(),i.component.on(Wp.ON_SELECT_ITEM,i.onSelectTooltipIndicatorItem)),i.curX=e,i.component.update({title:{text:t.getText(i.curX)}}),i.component.render(),i.getInteractionAction().setStateByField(e))}var i=this,e=this.view;e.legend(!1),e.removeInteraction("active-region"),e.removeInteraction("tooltip"),e.interaction("element-tooltip-indicator"),e.on(N.VIEW_LIFE_CIRCLE.AFTER_PAINT,t),e.on(N.VIEW_LIFE_CIRCLE.AFTER_RENDER,t),e.on(sf.ACTIVE_ELEMENT,this.onElementActive),e.on(sf.ACTIVE_ELEMENT_BY_X,this.onElementActive)},pf.prototype.getInteractionAction=function(){var t=this.view.interactions["element-tooltip-indicator"];return t&&t.context.getAction("tooltip-indicator")},pf.prototype.createComponent=function(){var t=af(this.getInteractionConfig()).padding,e=t[0],n=t[1],i=t[2],r=t[3],o=this.getLegendItems(),a=this.getRange(),s=this.view.getXScale(),l=Object(U.last)(s.getTicks()).tickValue;this.container=this.canvas.addGroup(),this.component=new Jp({container:this.container,x:a.x+r,y:a.y+e,width:a.width-r-n,height:a.height-e-i,theme:this.getViewLayer().getPlotTheme(),items:o}),this.component.init(),this.getInteractionAction().setStateByField(l)},pf.prototype.updateComponent=function(){var t=this.getLegendItems();this.component.update({items:t})},pf.prototype.getLegendItems=function(t){var e=this.view,n=e.getData(),r=e.getTheme().defaultColor,i=e.getXScale(),o=e.getYScales()[0],a=t||Object(U.last)(i.getTicks()).tickValue,s=e.getLegendAttributes().find(function(t){return"color"===t.type}),l=[],c=e.getGroupScales()[0],u=c.field;c&&c.isCategory&&c.getTicks().forEach(function(t){var e=t.text,n=t.tickValue,i=s.mapping(n).join("")||r;l.push({id:n,title:e,color:i,values:[]})});var h=(null==n?void 0:n.filter(function(t){return t[i.field]===a}))||[];return l.forEach(function(e){var t=h.find(function(t){return t[u]===e.id});e.values.push({value:o.formatter?o.formatter(t[o.field]):t[o.field]})}),l},pf);xp.registerInteraction("slider",Tp),xp.registerInteraction("scrollbar",Sp),xp.registerInteraction("timeline",Yp),xp.registerInteraction("tooltip-indicator",ff);var df=xp;function gf(t){this.innerPaddingComponents=[],this.outerPaddingComponents=[],this.plot=t.plot}function yf(t){return t&&"top"===t.split("-")[0]?12:24}function vf(t){var e=t.title&&t.title.visible,n=t.description&&t.description.visible;return e||n?12:24}function mf(t){return Object(U.some)(t.interactions||[],function(t){return("slider"===t.type||"scrollbar"===t.type)&&"vertical"!==(t.cfg&&t.cfg.type)})?8:24}var bf=(gf.prototype.registerPadding=function(e,t,n){void 0===t&&(t="outer"),void 0===n&&(n=!1),"inner"===t?n&&this.innerPaddingComponents.find(function(t){return t==e})||this.innerPaddingComponents.push(e):n&&this.outerPaddingComponents.find(function(t){return t==e})||this.outerPaddingComponents.push(e)},gf.prototype.getPaddingComponents=function(t){return void 0===t&&(t="outer"),("outer"===t?this.outerPaddingComponents:this.innerPaddingComponents)||[]},gf.prototype.clear=function(){this.innerPaddingComponents=[],this.outerPaddingComponents=Object(U.filter)(this.outerPaddingComponents,function(t){return t.afterRender})},gf.prototype.clearOuterComponents=function(){Object(U.each)(this.outerPaddingComponents,function(t){t.afterRender&&t.destroy()}),this.outerPaddingComponents=[]},gf.prototype.getPadding=function(){var t=this.plot.options,e=t.padding?t.padding:this.plot.config.theme.padding;return"auto"===e?[0,0,0,1]:e},gf.prototype.processAutoPadding=function(){var t=this._getInnerAutoPadding();this.plot.updateConfig({padding:t}),this.plot.render()},gf.prototype.processOuterPadding=function(){this.plot.layerBBox||(this.plot.layerBBox=new X(this.plot.x,this.plot.y,this.plot.width,this.plot.height));var s=this.plot.layerBBox.minX,l=this.plot.layerBBox.maxX,c=this.plot.layerBBox.minY,u=this.plot.layerBBox.maxY;return Object(U.each)(this.outerPaddingComponents,function(t){var e,n,i,r,o,a=t.position;t.destroyed||(n=(e=t.getBBox()).minX,i=e.maxX,r=e.minY,o=e.maxY,c<=o&&o<=u&&"top"===a&&(c=o),c<=r&&r<=u&&"bottom"===a&&(u=r),s<i&&i<=l&&"left"===a&&(s=i),s<=n&&i<=l&&"right"===a&&(l=n))}),new X(s,c,l-s,u-c)},gf.prototype._getInnerAutoPadding=function(){var t,n=this.plot.options,e=this.plot.view,i=e.coordinateBBox,r=i.maxX,o=i.maxY,a=i.minY,s=i.minX,l=this.plot.config.theme.bleeding;Object(U.isArray)(l)&&Object(U.each)(l,function(t,e){"function"==typeof l[e]&&(l[e]=l[e](n))}),this.bleeding=Object(U.clone)(l);var c=[new X(i.minX,i.minY,i.width,i.height)];"cartesian"===(null===(t=this.plot.config.coordinate)||void 0===t?void 0:t.type)&&this._getCartesianAxis(e,c[0],c);var u=this._mergeBBox(c);this._getLegend(e,u,c),this._mergeBBox(c);var h=this.innerPaddingComponents;Object(U.each)(h,function(t){var e=t.getBBox();c.push(e)});var p=[a-(u=this._mergeBBox(c)).minY+this.bleeding[0],u.maxX-r+this.bleeding[1],u.maxY-o+this.bleeding[2],s-u.minX+this.bleeding[3]],f=this._getPanel(e);return p[0]+=f[0],p[1]+=f[1],p[2]+=f[2],p[3]+=f[3],p},gf.prototype._getCartesianAxis=function(t,s,l){var e=t.getComponents().filter(function(t){return t.type===N.COMPONENT_TYPE.AXIS}).map(function(t){return t.component}),c=t.getCoordinate().isTransposed;Object(U.each)(e,function(t){var e,n,i,r,o,a;0!==t.get("group").get("children").length&&(e=t.get("position"),i=(n=t.getLayoutBBox()).minX,r=n.minY,o=n.width,a=n.height,c?"bottom"===e?l.push(new X(s.minX-o,r,o,a)):"left"===e?l.push(new X(i,s.maxY,o,a)):"top"===e&&l.push(new X(s.maxX,r,o,a)):"left"===e?l.push(new X(s.minX-o,r,o,a)):"bottom"===e?l.push(new X(i,s.maxY,o,a)):"right"===e&&l.push(new X(s.maxX,r,o,a)))})},gf.prototype._getLegend=function(t,s,l){var e=t.getComponents().filter(function(t){return t.type===N.COMPONENT_TYPE.LEGEND}).map(function(t){return t.component});Object(U.each)(e,function(t){var e=t.get("position").split("-")[0],n=t.getLayoutBBox(),i=n.minX,r=n.minY,o=n.width,a=n.height;"top"===e?l.push(new X(i,s.minY-a,o,a)):"bottom"===e?l.push(new X(i,s.maxY,o,a)):"left"===e?l.push(new X(s.minX-o,r,o,a)):l.push(new X(s.maxX,r,o,a))})},gf.prototype._getPanel=function(t){var e=[],n=t.geometries;Object(U.each)(n,function(t){t.labelsContainer&&e.push(t.labelsContainer)});var i=1/0,r=-1/0,o=1/0,a=-1/0;Object(U.each)(e,function(t){t.get("children").forEach(function(t){var e;"group"===t.type&&0===t.get("children").length||((e=t.getBBox()).minX<i&&(i=e.minX),e.maxX>r&&(r=e.maxX),e.minY<o&&(o=e.minY),e.maxY>a&&(a=e.maxY))})});var s=t.coordinateBBox,l=Math.max(r-parseFloat(s.maxX),0);0<l&&(l*=s.width/(s.width+l));var c=Math.max(parseFloat(s.minX)-i,0);0<c&&(c*=s.width/(s.width+c));var u=Math.max(parseFloat(s.minY)-o,0);0<u&&(u*=s.height/(s.height+u));var h=Math.max(a-parseFloat(s.maxY),0);return 0<h&&(h*=s.height/(s.height+h)),[u,l,h,c]},gf.prototype._mergeBBox=function(t){var n=1/0,i=-1/0,r=1/0,o=-1/0;return Object(U.each)(t,function(t){var e=t;n=Math.min(e.minX,n),i=Math.max(e.maxX,i),r=Math.min(e.minY,r),o=Math.max(e.maxY,o)}),{minX:n,maxX:i,minY:r,maxY:o}},gf),xf={width:400,height:400,bleeding:[vf,24,mf,24],padding:"auto",defaultColor:"#5B8FF9",colors:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"],colors_20:["#5B8FF9","#BDD2FD","#5AD8A6","#BDEFDB","#5D7092","#C2C8D5","#F6BD16","#FBE5A2","#E8684A","#F6C3B7","#6DC8EC","#B6E3F5","#9270CA","#D3C6EA","#FF9D4D","#FFD8B8","#269A99","#AAD8D8","#FF99C3","#FFD6E7"],title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fill:"black",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,yf,24],fontFamily:"PingFang SC",fontSize:12,fill:"grey",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(0,0,0,0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(0, 0, 0, 0.15)",lineWidth:1,lineDash:[0,0]}}},line:{visible:!1,style:{stroke:"rgba(0, 0, 0, 0.45)",lineWidth:1}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(0, 0, 0, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},circle:{autoHideLabel:!1,grid:{line:{style:{lineDash:null,lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}}},line:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}},tickLine:{style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12}}},radius:{label:{textStyle:{fill:"rgba(0,0,0,0.45)",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],margin:[0,24,24,24]},label:{offset:12,textStyle:{fill:"#595959"},style:{fill:"#595959",stroke:"#ffffff",lineWidth:2}},tooltip:{"g2-tooltip":{boxShadow:"0px 0px 8px rgba(0,0,0,0.15)"},offset:10},components:{legend:{margin:[0,24,24,24]},tooltipIndicator:{title:{style:{fontSize:14,fill:"#262626"}},line:{style:{opacity:1},inactiveStyle:{opacity:.3}},itemTitle:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemName:{style:{fontSize:12,fill:"#8C8C8C",opacity:1},inactiveStyle:{opacity:.3}},itemValue:{style:{fontSize:14,fontWeight:"bold",fill:"#595959",opacity:1},inactiveStyle:{opacity:.3}}}}},Of={default:xf,dark:{backgroundStyle:{fill:"#262626"},defaultColor:"#5B8FF9",width:400,height:400,bleeding:[vf,24,mf,24],padding:"auto",title:{padding:[24,24,24,24],fontFamily:"PingFang SC",fontSize:18,fontWeight:"bold",fill:"rgba(255,255,255,0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:20,alignWithAxis:!1},description:{padding:[10,24,yf,24],fontFamily:"PingFang SC",fontSize:12,fill:"rgba(255, 255, 255, 0.65)",stroke:"rgba(0,0,0,0.95)",textAlign:"left",textBaseline:"top",lineHeight:16,alignWithAxis:!1},axis:{y:{visible:!0,position:"left",autoRotateTitle:!0,grid:{visible:!0,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:1}},tickLine:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5,length:4}},label:{visible:!0,offset:8,autoRotate:!1,autoHide:!0,textStyle:{fill:"rgba(255, 255, 255, 0.45)",fontSize:12}},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12,textBaseline:"bottom"}}},x:{visible:!0,position:"bottom",autoRotateTitle:!1,grid:{visible:!1,line:{style:{stroke:"rgba(255, 255, 255, 0.15)",lineWidth:1,lineDash:null}}},line:{visible:!1,style:{stroke:"rgba(255, 255, 255, 0.45)"}},tickLine:{visible:!0,style:{length:4,stroke:"rgba(255, 255, 255, 0.45)",lineWidth:.5}},label:{visible:!0,textStyle:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12},offset:16,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12,style:{fill:"rgba(255, 255, 255, 0.65)",fontSize:12}}},circle:{autoRotateTitle:!0,grid:{style:{lineDash:null,lineWidth:1,stroke:"#E3E8EC"}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},tickLine:{style:{lineWidth:1,stroke:"#bdc8d3",length:4,alignWithLabel:!0}},label:{offset:16,textStyle:{fill:"#a0a4aa",fontSize:12},autoRotate:!0,autoHide:!0},title:{offset:12,style:{fill:"#767b84",fontSize:12}}},radius:{label:{offset:12,textStyle:{fill:"#a0a4aa",fontSize:12}}}},legend:{flipPage:!1,position:"bottom",innerPadding:[16,16,16,16],title:{visible:!1,style:{fill:"#bdc8d3"}},text:{style:{fill:"#bdc8d3"}}},label:{offset:12,textStyle:{fill:"rgba(255, 255, 255, 0.65)"},style:{fill:"rgba(255, 255, 255, 0.65)",lineWidth:1}},components:{tooltip:{domStyles:{"g2-tooltip":{backgroundColor:"rgba(33,33,33, 0.95)",boxShadow:"0px 0px 8px rgba(0,0,0,0.65)",color:"rgba(255, 255, 255, 0.65)"}}}}}};function wf(t){void 0===t&&(t="default");var e=Of[t.toLowerCase()];return e||(console.warn("error in theme: Can't find the theme named %s. Please register theme first.",t),xf)}var _f={};function Cf(t,e){var r={lineStyle:"line.line",columnStyle:"interval.rect",pointStyle:"point.circle"},o={};"area"===t&&(r={areaStyle:"area.area",lineStyle:"area.line",pointStyle:"point.circle"});var a={};return Object(U.each)(e,function(t,e){var n,i;Object(U.has)(r,e)?(i=r[e],Object(U.each)(t,function(t,e){Object(U.set)(a,i+"."+["normal"===e?"default":"disable"===e?"inactive":e]+".style",t)})):o=Object(U.deepMix)({},o,((n={})[e]=t,n))}),Object(U.isEmpty)(a)||(o=Object(U.deepMix)({},o,{geometries:a})),o}function jf(t,e){_f[t.toLowerCase()]=Cf(t,e)}function Sf(t){return _f[t.toLowerCase()]||{}}var Mf={axis:{x:{category:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"textWrapper",option:{lineNumber:2}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}},linear:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"nodesResampling",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"robustAbbrevaite",option:{unit:"thousand",decimal:1,abbreviateBy:"end"}},{name:"textHide"}]}},dateTime:{constraints:[{name:"elementDist"}],rules:{elementDist:[{name:"datetimeStringAbbrevaite"},{name:"nodesResamplingByAbbrevate",option:{keep:["end"]}},{name:"textRotation",option:{degree:45}},{name:"textRotation",option:{degree:90}},{name:"nodesResampling"},{name:"nodesResampling"},{name:"textHide"}]}}},y:{linear:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"digitsAbbreviate"},{name:"textHide"}]}},category:{constraints:[{name:"elementDistVertical"},{name:"elementWidth"}],rules:{elementDistVertical:[{name:"nodesResampling"},{name:"textHide"}],elementWidth:[{name:"textAbbreviate",option:{abbreviateBy:"end"}},{name:"textHide"}]}}}}},kf={default:Mf};function Tf(t,e){kf[t.toLowerCase()]=Object(U.deepMix)({},Mf,e)}function Pf(t){var e=kf[t.toLowerCase()];return e||Mf}var Af=wn();function Ef(){}var Lf,If=(Ef.getGlobalTheme=function(t){return Object(U.isString)(t)?wf(t):Object(U.deepMix)({},wf(),t)},Ef.prototype.getPlotTheme=function(t,e){var n=t.theme;return Object(U.isString)(n)?Object(U.deepMix)({},wf(n),Sf(e)):Object(U.deepMix)({},wf(),Sf(e),Cf(e,n))},Ef.prototype.getTheme=function(t,e){var n,i,r=(n=this.getPlotTheme(t,e),(i=Object(U.clone)(n)).legend||(i.legend={}),i);return Object(U.deepMix)({},Af,r)},Ef.prototype.getResponsiveTheme=function(t){return Pf(t)||Pf("default")},Ef);function Bf(t){var e=Lf.call(this,t)||this;return e.interactions=[],e.labels=[],e.options=e.getOptions(t),e.initialOptions=Object(U.deepMix)({},e.options),e.paddingController=new bf({plot:e}),e.stateController=new ip({plot:e}),e.themeController=new If,e}var Df=(Lf=Q,Object(q.__extends)(Bf,Lf),Bf.getDefaultOptions=function(){return{renderer:"canvas",title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"},padding:"auto",legend:{visible:!0,position:"bottom-center"},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20},xAxis:{visible:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},label:{visible:!1},interactions:[{type:"tooltip"},{type:"legend-active"},{type:"legend-filter"}],animation:!0}},Bf.prototype.getOptions=function(t){var e=this.options||{},n=Lf.prototype.getOptions.call(this,t),i=this.constructor.getDefaultOptions(t),r=Object(U.reduce)(Object(U.flatten)(Object(U.map)([n,i,Object(U.hasKey)(t,"interactions")?t:e],function(t){return Object(U.get)(t,"interactions",[])})),function(t,e){var n=Object(U.findIndex)(t,function(t){return t.type===e.type});return 0<=n&&t.splice(n,1),Object(q.__spreadArrays)(t,[e])},[]);return Object(U.deepMix)({},n,i,e,t,{interactions:r})},Bf.prototype.beforeInit=function(){this.emit(mp.BEFORE_INIT),Lf.prototype.beforeInit.call(this)},Bf.prototype.init=function(){var t=this;Lf.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.config={data:this.processData(this.options.data),scales:{},legends:{},tooltip:{showTitle:!0},axes:{},coordinate:{type:"cartesian"},geometries:[],annotations:[],interactions:[],theme:this.theme,panelRange:{},animate:{},views:[]},this.paddingController.clear(),this.drawTitle(),this.drawDescription(),this.interaction(),this.coord(),this.scale(),this.axis(),this.tooltip(),this.legend(),this.addGeometry(),this.annotation(),this.animation(),this.viewRange=this.getViewRange();var e=this.viewRangeToRegion(this.viewRange);this.view=new qn({parent:null,canvas:this.canvas,backgroundGroup:this.container.addGroup(),middleGroup:this.container.addGroup(),foregroundGroup:this.container.addGroup(),padding:this.paddingController.getPadding(),theme:this.theme,options:this.config,limitInPlot:this.isLimitInPlot(),region:e}),this.applyInteractions(),this.view.on(N.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.afterRender()})},Bf.prototype.afterInit=function(){Lf.prototype.afterInit.call(this),this.view&&!this.view.destroyed&&("auto"!==this.options.padding&&this.parseEvents(),this.emit(mp.AFTER_INIT))},Bf.prototype.afterRender=function(){var t,e,n,i;this.view&&!this.view.destroyed&&(i=(n=this.options).padding?n.padding:this.config.theme.padding,n.defaultState&&"auto"!==i&&this.stateController.defaultStates(n.defaultState),"auto"===i&&this.paddingController.processAutoPadding(),null!==(e=null===(t=n.tooltip)||void 0===t?void 0:t.custom)&&void 0!==e&&e.onChange&&"auto"!==n.padding&&this.customTooltip())},Bf.prototype.render=function(){this.emit(mp.BEFORE_RENDER),Lf.prototype.render.call(this);var t=this.options.data;Object(U.isEmpty)(t)||this.view.render(),this.emit(mp.AFTER_RENDER)},Bf.prototype.repaint=function(){this.canvas&&this.canvas.draw()},Bf.prototype.getScaleByField=function(t){return this.view.getScaleByField(t)},Bf.prototype.getXScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},Bf.prototype.getYScale=function(){var t=this.options.yField;if(t)return this.view.getScaleByField(t)},Bf.prototype.getColorScale=function(){var t=this.options;if(Object(U.contains)(t,"colorField"))return this.view.getScaleByField(t)},Bf.prototype.getShapes=function(){var t=this.view.geometries,n={};return Object(U.each)(t,function(t){var e=t.type;n[e]=t.getShapes()}),n},Bf.prototype.destroy=function(){this.doDestroy(),Lf.prototype.destroy.call(this)},Bf.prototype.updateConfig=function(t){this.doDestroy(),!t.padding&&this.initialOptions.padding&&"auto"===this.initialOptions.padding&&(t.padding="auto"),this.options=this.getOptions(t),this.processOptions(this.options)},Bf.prototype.changeData=function(t){this.emit(mp.BEFORE_CHANGE_DATA);var e=Object(U.isEmpty)(this.options.data);this.options.data=this.processData(t),e?(this.options.padding=this.initialOptions.padding||"auto",this.view.data(this.options.data),this.view.render()):this.view.changeData(this.options.data),this.emit(mp.AFTER_CHANGE_DATA)},Bf.prototype.getPlot=function(){return this.view},Bf.prototype.getLabels=function(){return this.labels},Bf.prototype.getTheme=function(){return this.theme?this.theme:this.themeController.getTheme(this.options,this.type)},Bf.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme(this.type)},Bf.prototype.getPlotTheme=function(){return this.themeController.getPlotTheme(this.options,this.type)},Bf.prototype.getInteractions=function(){return this.interactions},Bf.prototype.bindStateManager=function(t,e){this.stateController.bindStateManager(t,e)},Bf.prototype.setActive=function(t,e){this.stateController.setState({type:"active",condition:t,style:e})},Bf.prototype.setSelected=function(t,e){this.stateController.setState({type:"selected",condition:t,style:e})},Bf.prototype.setDisable=function(t,e){this.stateController.setState({type:"disable",condition:t,style:e})},Bf.prototype.setDefault=function(t,e){this.stateController.setState({type:"default",condition:t,style:e})},Bf.prototype.getData=function(t,e){return this.processData((this.options.data||[]).slice(t,e))},Bf.prototype.processData=function(t){return t},Bf.prototype.scale=function(){var t=Object(U.mapValues)(this.config.scales,function(t){var e=t.type;return e?{type:e}:{}}),e=Object(U.deepMix)({},this.config.scales,this.options.meta||{},t);this.setConfig("scales",e)},Bf.prototype.axis=function(){var t=hp("axis",{plot:this,dim:"x"}),e=hp("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},Bf.prototype.tooltip=function(){var t,e,n;!1!==this.options.tooltip.visible?(null!==(t=(n=Object(U.get)(this.options,"tooltip")).custom)&&void 0!==t&&t.container&&(n.container=n.custom.container),null!==(e=n.custom)&&void 0!==e&&e.customContent&&(n.customContent=n.custom.customContent),this.setConfig("tooltip",Object(U.deepMix)({},n)),Object(U.deepMix)(this.config.theme.tooltip,this.options.tooltip.domStyles)):this.setConfig("tooltip",!1)},Bf.prototype.customTooltip=function(){var e,t=this,n=this.options.tooltip.custom;n.container&&(e=Object(U.isString)(n.container)?document.getElementById(n.container):n.container),this.view.on("tooltip:show",function(){n.container||(e=t.canvas.cfg.container.getElementsByClassName("g2-tooltip")[0])}),this.view.hideTooltip(),this.view.on("tooltip:change",function(t){e&&n.onChange(e,t)})},Bf.prototype.getLegendPosition=function(t){var e=t.split("-");return e&&1<e.length&&"center"===e[1]?e[0]:t},Bf.prototype.legend=function(){var t,e,n;!1!==this.options.legend.visible?(e=Object(U.deepMix)({},this.theme.legend,this.options.legend),n={position:this.getLegendPosition(Object(U.get)(e,"position")),offsetX:Object(U.get)(e,"offsetX"),offsetY:Object(U.get)(e,"offsetY"),flipPage:Object(U.get)(e,"flipPage"),marker:Object(U.get)(e,"marker"),title:null!==(t=e.title)&&void 0!==t&&t.visible?Object(U.get)(e,"title"):null,itemName:Object(U.get)(e,"text")},this.setConfig("legends",n)):this.setConfig("legends",!1)},Bf.prototype.annotation=function(){var n=this,i=[];"cartesian"===this.config.coordinate.type&&this.options.guideLine&&Object(U.each)(this.options.guideLine,function(t){var e=hp("guideLine",{plot:n,cfg:t});i.push(e)}),this.setConfig("annotations",i)},Bf.prototype.interaction=function(){var n=this,t=this.options.interactions,e=void 0===t?[]:t;Object(U.each)(e,function(t){var e=t.type;"slider"!==e&&"scrollbar"!==e||(n.options.xAxis=Object(U.deepMix)({},n.options.xAxis,{label:{autoHide:!0,autoRotate:!1}})),n.setConfig("interaction",t)})},Bf.prototype.animation=function(){!1===this.options.animation&&this.setConfig("animate",!1)},Bf.prototype.applyInteractions=function(){var i=this,r=X.fromBBoxObject(this.layerBBox),t=this.title||this.description,e=new X(r.minX,r.minY,r.width,t?t.getBBox().maxY:0),r=r.cut(e,N.DIRECTION.TOP),n=this.options.interactions,o=void 0===n?[]:n;this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[],o.forEach(function(t){var e,n=df.getInteraction(t.type,i.type);n&&((e=new n({view:i.view},i,n.getInteractionRange(r,t.cfg),t.cfg)).render(),i.interactions.push(e))})},Bf.prototype.setConfig=function(t,e){"geometry"!==t?"interaction"!==t?!1!==e?Object(U.assign)(this.config[t],e):this.config[t]=!1:this.config.interactions.push(e):this.config.geometries.push(e)},Bf.prototype.parseEvents=function(t){var i,r=this,e=this.options;e.events&&(Lf.prototype.parseEvents.call(this,e.events),i=t?t.EVENT_MAP:L,Object(U.each)(e.events,function(t,e){var n;Object(U.isFunction)(t)&&(n=i[e]||e,I(r,n,t))}))},Bf.prototype.drawTitle=function(){var t,e,n,i=this.options,r=this.layerBBox;this.title&&(this.title.destroy(),this.title=null),ah(i.title)&&(t=this.width,e=this.config.theme,n=new hh({leftMargin:r.minX+e.title.padding[3],rightMargin:r.maxX-e.title.padding[1],topMargin:r.minY+e.title.padding[0],text:i.title.text,style:Object(U.mix)(e.title,i.title.style),wrapperWidth:t-e.title.padding[3]-e.title.padding[1],container:this.container.addGroup(),theme:e,index:ah(i.description)?0:1,plot:this,alignTo:i.title.alignTo,name:"title"}),this.title=n,this.paddingController.registerPadding(n,"outer"))},Bf.prototype.drawDescription=function(){var t,e,n,i,r,o=this.options,a=this.layerBBox;this.description&&(this.description.destroy(),this.description=null),ah(o.description)&&(t=this.width,e=this.config.theme,n=0,this.title?(n+=(i=this.title.getBBox()).minY+i.height,n+=e.description.padding[0]):n+=a.minY+e.title.padding[0],r=new hh({leftMargin:a.minX+e.description.padding[3],topMargin:n,rightMargin:a.maxX-e.title.padding[1],text:o.description.text,style:Object(U.mix)(e.description,o.description.style),wrapperWidth:t-e.description.padding[3]-e.description.padding[1],container:this.container.addGroup(),theme:e,index:1,plot:this,alignTo:o.description.alignTo,name:"description"}),this.description=r,this.paddingController.registerPadding(r,"outer"))},Bf.prototype.doRenderLabel=function(t,e){Object(U.each)(this.labels,function(t){t.destroy()}),this.labels=[];var n,i,r={layer:this,container:t.labelsContainer,geometry:t,label:e},o=(n=e.type,vh[n]);o&&((i=new o(r)).init(),i.render(),this.labels.push(i))},Bf.prototype.doDestroy=function(){this.doDestroyInteractions(),this.doDestroyLabels(),this.view.destroyed||this.view.destroy()},Bf.prototype.doDestroyInteractions=function(){this.interactions&&this.interactions.forEach(function(t){t.destroy()}),this.interactions=[]},Bf.prototype.doDestroyLabels=function(){Object(U.each)(this.labels,function(t){t.destroy()}),this.labels=[]},Bf.prototype.getViewRange=function(){var r=this,t=this.options.interactions,e=void 0===t?[]:t,o=this.paddingController.processOuterPadding();return e.forEach(function(t){var e=df.getInteraction(t.type,r.type),n=e&&e.getInteractionRange(o,t.cfg),i="";n&&(n.maxY===o.maxY&&n.minY>o.minY?i="bottom":n.maxX===o.maxX&&n.minX>o.minX?i="right":n.minX===o.minX&&n.maxX>o.maxX?i="left":n.minY===o.minY&&n.maxY<o.maxY&&(i="top"),r.paddingController.registerPadding({interaction:t.type,name:t.type,getBBox:function(){return n},position:i},"outer"))}),this.paddingController.processOuterPadding()},Bf.prototype.isLimitInPlot=function(){var t=this.options.yAxis;return!!(Object(U.hasKey)(t,"max")||Object(U.hasKey)(t,"min")||Object(U.hasKey)(t,"maxLimit")||Object(U.hasKey)(t,"minLimit"))},Bf.prototype.viewRangeToRegion=function(t){var e=this.x,n=this.y,i=this.width,r=this.height,o={x:0,y:0},a={x:1,y:1};return o.x=t.minX/(e+i),o.y=t.minY/(n+r),a.x=t.maxX/(e+i),a.y=t.maxY/(n+r),{start:o,end:a}},Bf),Ff=n(150);function Rf(t){var i=this;this.onResize=Object(U.debounce)(function(){var t,e,n;i.plot.destroyed||(e=(t=i.getCanvasSize()).width,n=t.height,i.width===e&&i.height===n||(i.width=e,i.height=n,i.plot.updateConfig({width:e,height:n}),i.plot.render()))},300);var e=t.containerDOM,n=t.plot;this.containerDOM=e,this.plot=n,this.init()}var Nf=(Rf.prototype.getCanvasSize=function(){var t=wf(),e=this.plot.width?this.plot.width:t.width,n=this.plot.height?this.plot.height:t.height;return this.plot.forceFit&&(e=this.containerDOM.offsetWidth?this.containerDOM.offsetWidth:e,n=this.containerDOM.offsetHeight?this.containerDOM.offsetHeight:n),{width:e,height:n}},Rf.prototype.getCanvasDOM=function(){return this.canvas.get("container")},Rf.prototype.updateCanvasSize=function(){var t=this.getCanvasSize(),e=t.width,n=t.height;this.width=e,this.height=n,this.canvas.changeSize(e,n)},Rf.prototype.updateCanvasTheme=function(){var t=this.plot.theme,e=If.getGlobalTheme(t),n=Object(U.get)(e,"backgroundStyle.fill");n&&this.updateCanvasStyle({backgroundColor:n})},Rf.prototype.updateCanvasStyle=function(t){Object(mt.modifyCSS)(this.getCanvasDOM(),t),Object(mt.modifyCSS)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},Rf.prototype.destroy=function(){this.resizeObserver&&(this.resizeObserver.unobserve(this.containerDOM),this.resizeObserver.disconnect(),this.containerDOM=null),this.canvas.destroy()},Rf.prototype.bindForceFit=function(){this.plot.forceFit&&(this.resizeObserver=new Ff.default(this.onResize),this.resizeObserver.observe(this.containerDOM))},Rf.prototype.init=function(){this.initGCanvas(),this.bindForceFit(),this.updateCanvasStyle({position:"relative"})},Rf.prototype.initGCanvas=function(){var t=this.plot,e=t.renderer,n=void 0===e?"canvas":e,i=t.pixelRatio,r=t.localRefresh,o=void 0!==r&&r,a=this.getCanvasSize(),s=a.width,l=a.height,c="canvas"===n?or.Canvas:Eo;this.canvas=new c({localRefresh:o,container:this.containerDOM,width:s,height:l,pixelRatio:i}),this.width=s,this.height=l,this.updateCanvasTheme()},Rf);function Yf(t){this.plot=t.plot,this.canvas=t.canvas,this.eventHandlers=[]}var Vf,Xf=(Yf.prototype.bindEvents=function(){this.addEvent(this.canvas,"mousedown",Object(U.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"mousemove",Object(U.wrapBehavior)(this,"onMove")),this.addEvent(this.canvas,"mouseup",Object(U.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"click",Object(U.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"dblclick",Object(U.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"contextmenu",Object(U.wrapBehavior)(this,"onEvents")),this.addEvent(this.canvas,"wheel",Object(U.wrapBehavior)(this,"onEvents"))},Yf.prototype.clearEvents=function(){var t=this.eventHandlers;Object(U.each)(t,function(t){t.target.off(t.type,t.handler)})},Yf.prototype.addEvent=function(t,e,n){t.on(e,n),this.eventHandlers.push({target:t,type:e,handler:n})},Yf.prototype.onEvents=function(t){var e=this.getEventObj(t),n=t.target;!this.isShapeInView(n)&&n.name&&this.plot.emit(n.name+":"+t.type,t),this.plot.emit(""+t.type,e);var i=this.plot.getLayers();0<i.length&&this.onLayerEvent(i,e,t.type)},Yf.prototype.onMove=function(t){var e,n,i=t.target,r=this.getEventObj(t);!this.isShapeInView(i)&&i.name&&(this.plot.emit(i.name+":"+t.type,r),!this.lastShape||(e=i,n=this.lastShape,e&&n&&e===n)||(this.lastShape&&this.plot.emit(this.lastShape.name+":mouseleave",r),this.plot.emit(i.name+":mouseenter",r)),this.lastShape=i),this.plot.emit("mousemove",r);var o=this.plot.getLayers();0<o.length&&this.onLayerEvent(o,r,"mousemove")},Yf.prototype.isShapeInView=function(t){for(var e=["frontgroundGroup","backgroundGroup","panelGroup"],n=t.get("parent");n;){var i=n.get("name");if(i&&Object(U.contains)(e,i))return!0;n=n.get("parent")}return!1},Yf.prototype.getEventObj=function(t){return{clientX:t.clientX,clientY:t.clientY,x:t.x,y:t.y,plot:this.plot,data:t.data?t.data.data:null,canvas:this.canvas,target:t.target,gEvent:t}},Yf.prototype.onLayerEvent=function(t,o,a){var s=this;Object(U.each)(t,function(t){var e,n,i,r=t.getGlobalBBox();n={x:o.x,y:o.y},i=r,n.x>=i.minX&&n.x<=i.maxX&&n.y>=i.minY&&n.y<=i.maxY&&(t.emit(""+a,o),0<(e=t.layers).length&&s.onLayerEvent(e,o,a))})},Yf),Gf={};function zf(t,e){Gf[t.toLowerCase()]=e}function Hf(t,e){var n=Vf.call(this)||this;return n.containerDOM="string"==typeof t?document.getElementById(t):t,n.forceFit=Object(U.isNil)(e.forceFit)?Object(U.isNil)(e.width)&&Object(U.isNil)(e.height):e.forceFit,n.renderer=e.renderer||"canvas",n.pixelRatio=e.pixelRatio||null,n.width=e.width,n.height=e.height,n.theme=e.theme,n.localRefresh=e.localRefresh,n.canvasController=new Nf({containerDOM:n.containerDOM,plot:n}),n.width=n.canvasController.width,n.height=n.canvasController.height,n.canvas=n.canvasController.canvas,n.layers=[],n.destroyed=!1,n.createLayers(e),n.eventController=new Xf({plot:n,canvas:n.canvasController.canvas}),n.eventController.bindEvents(),n.parseEvents(e),n}var Wf=(Vf=k.default,Object(q.__extends)(Hf,Vf),Hf.prototype.destroy=function(){this.eachLayer(function(t){t.destroy()}),this.canvasController.destroy(),this.eventController.clearEvents(),this.layers=[],this.destroyed=!0},Hf.prototype.repaint=function(){this.canvasController.canvas.draw()},Hf.prototype.updateConfig=function(e,t){var n;void 0===t&&(t=!1),t?this.eachLayer(function(t){t instanceof Df&&t.updateConfig(e)}):(n=this.layers[0])instanceof Q&&n.updateConfig(e),e.width&&(this.width=e.width),e.height&&(this.height=e.height),e.theme&&(this.theme=e.theme),this.canvasController.updateCanvasSize(),this.canvasController.updateCanvasTheme()},Hf.prototype.changeData=function(e,t){var n;void 0===t&&(t=!1),t?this.eachLayer(function(t){t instanceof Df&&t.changeData(e)}):(n=this.layers[0])instanceof Df&&n.changeData(e)},Hf.prototype.getScaleByField=function(t){return this.layers[0].getScaleByField(t)},Hf.prototype.getXScale=function(){return this.layers[0].getXScale()},Hf.prototype.getYScale=function(){return this.layers[0].getYScale()},Hf.prototype.getColorScale=function(){return this.layers[0].getColorScale()},Hf.prototype.getPlotTheme=function(){return this.layers[0].getPlotTheme()},Hf.prototype.getData=function(){return this.layers[0].getData()},Hf.prototype.bindStateManager=function(e,n){this.eachLayer(function(t){t instanceof Df&&t.bindStateManager(e,n)})},Hf.prototype.setActive=function(e,n){this.eachLayer(function(t){t instanceof Df&&t.setActive(e,n)})},Hf.prototype.setSelected=function(e,n){this.eachLayer(function(t){t instanceof Df&&t.setSelected(e,n)})},Hf.prototype.setDisable=function(e,n){this.eachLayer(function(t){t instanceof Df&&t.setDisable(e,n)})},Hf.prototype.setDefault=function(e,n){this.eachLayer(function(t){t instanceof Df&&t.setDefault(e,n)})},Hf.prototype.getView=function(){return this.layers[0].view},Hf.prototype.getLayer=function(t){return void 0===t&&(t=0),this.layers[t]},Hf.prototype.getCanvas=function(){return this.canvasController.canvas},Hf.prototype.getLayers=function(){return this.layers},Hf.prototype.render=function(){this.eachLayer(function(t){return t.render()})},Hf.prototype.eachLayer=function(t){Object(U.each)(this.layers,t)},Hf.prototype.addLayer=function(e){Object(U.findIndex)(this.layers,function(t){return t===e})<0&&this.layers.push(e)},Hf.prototype.createLayers=function(t){var e,n;t.layers||t.type&&(e=new(n=t.type,Gf[n.toLowerCase()])(Object(U.deepMix)({},t,{canvas:this.canvasController.canvas,x:0,y:0,width:this.width,height:this.height})),this.addLayer(e))},Hf.prototype.parseEvents=function(t){var i=this,r=Object(U.keys)(A);t.events&&Object(U.each)(t.events,function(t,e){var n;Object(U.contains)(r,e)&&Object(U.isFunction)(t)&&(n=A[e]||e,i.on(n,t))})},Hf);function qf(t){Object(U.assign)(this,t),this.init()}var Uf,Kf=(qf.prototype.init=function(){this.config={type:this.type,position:{fields:this.positionFields}}},qf);function Zf(){return null!==Uf&&Uf.apply(this,arguments)||this}var $f=(Uf=Kf,Object(q.__extends)(Zf,Uf),Zf.prototype.init=function(){var t=this.plot.options;this.config={type:"area",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls||!1},t.smooth&&(this.config.shape={values:["smooth"]}),(this._getColorMappingField()||t.color)&&this.parseColor(),(t.areaStyle||t.area&&t.area.style)&&this.parseStyle()},Zf.prototype.parseColor=function(){var t,e=this.plot.options,n={},i=this._getColorMappingField();i&&(n.fields=i),Object(U.has)(e,"color")&&(t=e.color,Object(U.isString)(t)?n.values=[t]:Object(U.isFunction)(t)?n.callback=t:Object(U.isArray)(t)&&(i?n.values=t:0<t.length&&(n.values=[t[0]]))),this.config.color=n},Zf.prototype.parseStyle=function(){var t=this.plot.options,e=t.areaStyle?t.areaStyle:t.area.style,n={};Object(U.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},Zf.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=0,n=["stackField","seriesField"];e<n.length;e++){var i=n[e];if(Object(U.get)(t,i))return[t[i]]}},Zf);var Qf,Jf=function(t,e,n,i){var r,o,a=[],s=!!i;if(s){h=[1/0,1/0],p=[-1/0,-1/0];for(var l=0,c=t.length;l<c;l++)var u=t[l],h=Rt.vec2.min([0,0],h,u),p=Rt.vec2.max([0,0],p,u);h=Rt.vec2.min([0,0],h,i[0]),p=Rt.vec2.max([0,0],p,i[1])}for(var l=0,f=t.length;l<f;l++){u=t[l];if(n)r=t[l?l-1:f-1],o=t[(l+1)%f];else{if(0===l||l===f-1){a.push(u);continue}r=t[l-1],o=t[l+1]}var d=[0,0],d=Rt.vec2.sub(d,o,r);d=Rt.vec2.scale(d,d,e);var g=Rt.vec2.distance(u,r),y=Rt.vec2.distance(u,o),v=g+y;0!==v&&(g/=v,y/=v);var m=Rt.vec2.scale([0,0],d,-g),b=Rt.vec2.scale([0,0],d,y),x=Rt.vec2.add([0,0],u,m),O=Rt.vec2.add([0,0],u,b);s&&(x=Rt.vec2.max([0,0],x,h),x=Rt.vec2.min([0,0],x,p),O=Rt.vec2.max([0,0],O,h),O=Rt.vec2.min([0,0],O,p)),a.push(x),a.push(O)}return n&&a.push(a.shift()),a};function td(t,e){return function(t,e){var n=[];if(t.length){for(var i=0,r=t.length;i<r;i+=1){var o=t[i],a=0===i?"M":"L";n.push([a,o.x,o.y])}e&&n.push(["Z"])}return n}(t,e)}function ed(t,e,n){var i=[],r=t[0],o=null;if(t.length<=2)return td(t,e);Object(U.each)(t,function(t){o&&o.x===t.x&&o.y===t.y||(i.push(t.x),i.push(t.y),o=t)});var a=function(t,e,n){for(var i=!!e,r=[],o=0,a=t.length;o<a;o+=2)r.push([t[o],t[o+1]]);for(var s,l,c,u=Jf(r,.4,i,n),h=r.length,p=[],o=0;o<h-1;o++)s=u[2*o],l=u[2*o+1],c=r[o+1],p.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]]);return i&&(s=u[h],l=u[h+1],c=r[0],p.push(["C",s[0],s[1],l[0],l[1],c[0],c[1]])),p}(i,e,n||[[0,0],[1,1]]);return a.unshift(["M",r.x,r.y]),a}function nd(t,e,n){var i=[],r=[];Object(U.each)(t.points,function(t){i.push(t[1]),r.push(t[0])}),r=e.parsePoints(r.reverse()),i=Dh(e.parsePoints(i));var o=n?ed(i,!1,[[0,0],[1,1]]):id(i),a=id(r);return a[0][0]="L",o.concat(a)}function id(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=0===n?"M":"L";e.push([r,i.x,i.y])}return e}function rd(t){return"l(90) 0:"+t+" 1:#ffffff"}function od(){return null!==Qf&&Qf.apply(this,arguments)||this}Fi("area","miniArea",{draw:function(t,e){var n=t.style?t.style.opacity:null,i=nd(t,this,!1),r=Object(U.deepMix)({},{lineJoin:"round",lineCap:"round"},t.style);return e.addShape("path",{attrs:{path:i,fill:rd(t.color||wf().defaultColor),opacity:n||.4},style:r})}}),Fi("area","miniAreaSmooth",{draw:function(t,e){var n=t.style?t.style.opacity:null,i=nd(t,this,!0);return e.addShape("path",{attrs:{path:i,fill:rd(t.color||wf().defaultColor),opacity:n||.5}})}});var ad,sd={main:$f,mini:(Qf=$f,Object(q.__extends)(od,Qf),od.prototype.init=function(){Qf.prototype.init.call(this),this.parseShape()},od.prototype.parseShape=function(){this.plot.options.smooth?this.config.shape={values:["miniAreaSmooth"]}:this.config.shape={values:["miniArea"]}},od)},ld=["colorField","stackField","groupField"];function cd(){return null!==ad&&ad.apply(this,arguments)||this}var ud,hd={main:(ad=Kf,Object(q.__extends)(cd,ad),cd.prototype.init=function(){this.type="interval",ad.prototype.init.call(this);var t=this.plot.options;this._needParserColor()&&this.parseColor(),this.config.color||(this.config.color={values:["#5b8ff9"]});var e=this._getSizeProps(t);e&&this.parseSize(e);var n=this._getStyleProps(t);n&&this.parseStyle(n)},cd.prototype.parseColor=function(){var e=this.plot.options,t=this._getColorMappingField(e),n={};t&&(n.fields=t),e.color&&(Object(U.isString)(e.color)?n.values=[e.color]:Object(U.isFunction)(e.color)?n.callback=e.color:Object(U.isArray)(e.color)?t?n.values=e.color:0<e.color.length&&(n.values=[e.color[0]]):Object(U.isObject)(e.color)&&(n.fields=t,n.callback=function(t){return e.color[t]})),this.config.color=n},cd.prototype.parseSize=function(t){var e=this.plot.options,n={};Object(U.isFunction)(e[t])?(n.fields=[this.config.position.fields],n.callback=e[t]):n.values=[e[t]],this.config.size=n},cd.prototype.parseStyle=function(t){var e=this.plot.options,n=this.config.color,i=this.plot.options[t],r={};Object(U.isFunction)(i)?(r.fields=(null==n?void 0:n.fields)||[e.xField,e.yField],r.callback=i):r.cfg=i,this.config.style=r},cd.prototype._getSizeProps=function(t){for(var e=0,n=["columnSize","barSize"];e<n.length;e++){var i=n[e];if(Object(U.get)(t,i))return i}},cd.prototype._getStyleProps=function(t){for(var e=0,n=["columnStyle","barStyle","pieStyle","ringStyle"];e<n.length;e++){var i=n[e];if(Object(U.get)(t,i))return i}},cd.prototype._getColorMappingField=function(t){for(var e=0,n=ld;e<n.length;e++){var i=n[e];if(Object(U.get)(t,i))return[t[i]]}},cd.prototype._needParserColor=function(){var t=this.plot.options;if(t.color)return!0;for(var e=0,n=ld;e<n.length;e++){if(t[n[e]])return!0}return!1},cd)};function pd(){return null!==ud&&ud.apply(this,arguments)||this}var fd,dd=(ud=Kf,Object(q.__extends)(pd,ud),pd.prototype.init=function(){var t=this.plot.options;this.config={type:"line",position:{fields:[t.xField,t.yField]},connectNulls:t.connectNulls},t.lineSize&&this.parseSize(),t.smooth&&(this.config.shape={values:["smooth"]}),t.step&&(this.config.shape={values:[t.step]}),(t.seriesField||t.color)&&this.parseColor(),(t.lineStyle||Object(U.get)(t,["line","style"]))&&this.parseStyle()},pd.prototype.parseSize=function(){var t=this.plot.options.lineSize,e={};Object(U.isFunction)(t)?e.callback=t:e.values=[t],this.config.size=e},pd.prototype.parseColor=function(){var t,e=this.plot.options,n={};e.seriesField&&(n.fields=[e.seriesField]),Object(U.has)(e,"color")&&(t=e.color,Object(U.isString)(t)?n.values=[t]:Object(U.isFunction)(t)?n.callback=t:Object(U.isArray)(t)&&(e.seriesField?n.values=t:0<t.length&&(n.values=[t[0]]))),this.config.color=n},pd.prototype.parseStyle=function(){var t=this.plot.options,e=t.lineStyle||Object(U.get)(t,["line","style"]),n={fields:null,callback:null,cfg:null};Object(U.isFunction)(e)&&t.seriesField?(n.fields=[t.seriesField],n.callback=e):n.cfg=e,this.config.style=n},pd);function gd(){return null!==fd&&fd.apply(this,arguments)||this}var yd,vd=(fd=dd,Object(q.__extends)(gd,fd),gd.prototype.init=function(){var t=this.plot.options;t.xField&&t.yField&&(this.config={type:"line",position:{fields:[t.xField,t.yField]},tooltip:!1},(this._getColorMappingField()||this._needParseAttribute("color"))&&this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.line.style&&this.parseStyle(),t.smooth&&(this.config.shape={values:["smooth"]}))},gd.prototype.parseSize=function(){var t=this.plot.options,e={};t.line.size?e.values=[t.line.size]:e.values=[2],this.config.size=e},gd.prototype.parseColor=function(){var t=this.plot.options,e={},n=this._getColorMappingField();n&&(e.fields=n),t.line.color?e.values=[t.line.color]:Object(U.isString)(t.color)?e.values=[t.color]:Object(U.isFunction)(t.color)?(e.fields=n,e.callback=t.color):Object(U.isArray)(t.color)&&(n?e.values=t.color:0<t.color.length&&(e.values=[t.color[0]])),this.config.color=e},gd.prototype.parseStyle=function(){var t=this.plot.options.line.style,e={};Object(U.isFunction)(t)?(e.fields=this.config.position.fields,e.callback=t):e.cfg=t,this.config.style=e},gd.prototype._needParseAttribute=function(t){var e=this.plot.options;return!!e[t]||!!e.line[t]},gd.prototype._getColorMappingField=function(){for(var t=this.plot.options,e=0,n=["stackField","seriesField"];e<n.length;e++){var i=n[e];if(Object(U.get)(t,i))return[t[i]]}},gd);function md(){return null!==yd&&yd.apply(this,arguments)||this}Fi("line","miniLine",{draw:function(t,e){for(var n=Dh(t.points),i=[],r=0;r<n.length;r++){var o=n[r],a=0===r?"M":"L";i.push([a,o.x,o.y])}var s=Object(U.deepMix)({},{lineJoin:"round",lineCap:"round"},t.style);return e.addShape("path",{attrs:Object(U.mix)({path:i,stroke:t.color||wf().defaultColor,lineWidth:t.size||2},s)})}}),Fi("line","miniLineSmooth",{draw:function(t,e){var n=ed(Dh(t.points),!1,[[0,0],[1,1]]);return e.addShape("path",{attrs:Object(U.mix)({path:n,stroke:t.color||wf().defaultColor,lineWidth:t.size||2},t.style)})}});var bd,xd={main:dd,guide:vd,mini:(yd=dd,Object(q.__extends)(md,yd),md.prototype.init=function(){yd.prototype.init.call(this),this.parseShape()},md.prototype.parseShape=function(){this.plot.options.smooth?this.config.shape={values:["miniLineSmooth"]}:this.config.shape={values:["miniLine"]}},md)};function Od(){return null!==bd&&bd.apply(this,arguments)||this}var wd=(bd=Kf,Object(q.__extends)(Od,bd),Od.prototype.init=function(){var t=this.plot.options;this.style=t.pointStyle,t.xField&&t.yField&&(this.config={type:"point",position:{fields:[t.xField,t.yField]}},this.parseColor(),this.parseSize(),t.shape&&this.parseShape(t.shape),t.pointStyle&&this.parseStyle())},Od.prototype.parseColor=function(){var t=this.plot.options,e={},n=t.colorField;n&&(e.fields=Object(U.isArray)(n)?n:[n]),t.color&&this._parseColor(t,e),Object(U.isEmpty)(e)||(this.config.color=e)},Od.prototype.parseSize=function(){var t=this.plot.options,e={};t.sizeField&&(e.fields=[t.sizeField]),t.pointSize&&(e.values=Object(U.isArray)(t.pointSize)?t.pointSize:[t.pointSize]),this.config.size=e},Od.prototype.parseShape=function(t){this.config.shape=t},Od.prototype.parseStyle=function(){var t=this.plot.options,e=t.pointStyle,n={fields:null,callback:null,cfg:null},i=t.xField,r=t.yField,o=t.colorField;Object(U.isFunction)(e)?(n.fields=o?Object(U.isArray)(o)?[i,r,o].concat(o):[i,r,o]:[i,r],n.callback=e):(n.cfg=e,Object(U.isNil)(e.opacity)||(n.cfg.fillOpacity=e.opacity)),this.config.style=n},Od.prototype._parseColor=function(t,e){Object(U.isString)(t.color)?e.values=[t.color]:Object(U.isFunction)(t.color)?e.callback=t.color:Object(U.isArray)(t.color)&&(e.values=t.color)},Od);var _d,Cd=["seriesField","stackField"];function jd(){return null!==_d&&_d.apply(this,arguments)||this}var Sd,Md={area:sd,line:xd,point:{guide:(_d=Kf,Object(q.__extends)(jd,_d),jd.prototype.init=function(){var t=this.plot.options;this.style=t.point.style,t.xField&&t.yField&&(this.config={type:"point",position:{fields:[t.xField,t.yField]},tooltip:!1},this.parseColor(),this._needParseAttribute("size")&&this.parseSize(),t.point.shape&&this.parseShape(t.point.shape),t.point.style&&this.parseStyle())},jd.prototype.parseColor=function(){var t,e=this.plot.options,n={},i=this._getColorMappingField(e);i?this._parseColorByField(e,n,i):e.point&&e.point.color?n.values=[e.point.color]:e.color?this._parseColor(e,n):(t=this.plot.getTheme(),n.values=[t.defaultColor]),0<Object(U.keys)(n).length&&(this.config.color=n)},jd.prototype.parseSize=function(){var t=this.plot.options,e={};e.values=[t.point.size],this.config.size=e},jd.prototype.parseShape=function(t){var e={};Object(U.isString)(t)?e.values=[t]:Object(U.isObject)(t)&&(e.fields=t.fields,e.callback=t.callback),this.config.shape=e},jd.prototype.parseStyle=function(){var t=this.plot.options,e=t.point&&t.point.style,n={fields:null,callback:null,cfg:null},i=this._getColorMappingField(t);Object(U.isFunction)(e)?(n.fields=[t.xField,t.yField],n.callback=e,i&&n.fields.unshift(i)):n.cfg=e,this.config.style=n},jd.prototype._parseColorByField=function(t,e,n){if(e.fields=[n],t.point.color){for(var i=(a=n,s=t.data,l=[],Object(U.each)(s,function(t){var e=t[a];l.push(e)}),Object(U.uniq)(l).length),r=[],o=0;o<i;o++)r.push(t.point.color);e.values=r}else t.color&&this._parseColor(t,e);var a,s,l},jd.prototype._parseColor=function(t,e){var n=this._getColorMappingField(t);Object(U.isString)(t.color)?e.values=[t.color]:Object(U.isFunction)(t.color)?e.callback=t.color:Object(U.isArray)(t.color)&&(n?e.values=t.color:0<t.color.length&&(e.values=[t.color[0]]))},jd.prototype._needParseAttribute=function(t){var e=this.plot.options;return e.point&&Object(U.has)(e.point,t)},jd.prototype._getColorMappingField=function(t){for(var e=0,n=Cd;e<n.length;e++){var i=n[e];if(Object(U.get)(t,i))return[t[i]]}},jd),circle:wd},interval:hd};function kd(t,e,n){return new Md[t][e](n).config}function Td(t,e){if(!e)return t;var n,i,r,o,a;Object.prototype.hasOwnProperty.call(e,"tickCount")&&(t.tickCount=e.tickCount),Object.prototype.hasOwnProperty.call(e,"type")&&"dateTime"!==e.type&&(t.type=e.type),Object.prototype.hasOwnProperty.call(e,"tickInterval")&&("time"===e.type?t.tickInterval=(n=e.tickInterval,i=M,r=n.split(" "),o=i[r[1]],a=parseInt(r[0],10),[o.format,a*o.value]):t.tickInterval=e.tickInterval),"time"===e.type&&e.mask&&(t.mask=e.mask),Object.prototype.hasOwnProperty.call(e,"min")&&(t.min=e.min),Object.prototype.hasOwnProperty.call(e,"max")&&(t.max=e.max),Object.prototype.hasOwnProperty.call(e,"minLimit")&&(t.minLimit=e.minLimit),Object.prototype.hasOwnProperty.call(e,"maxLimit")&&(t.maxLimit=e.maxLimit),Object.prototype.hasOwnProperty.call(e,"nice")&&(t.nice=e.nice),Object.prototype.hasOwnProperty.call(e,"formatter")&&(t.formatter=e.formatter),Object.prototype.hasOwnProperty.call(e,"exponent")&&(t.exponent=e.exponent),Object.prototype.hasOwnProperty.call(e,"base")&&(t.base=e.base),e.tickMethod&&(t.tickMethod=e.tickMethod)}function Pd(t,e,n){for(var i=e.points,r=n.start.x+n.getWidth()*t,o=0;o<i.length-1;o++){var a=i[o],s=i[o+1];if(r>=a.x&&r<=s.x){var l=(s.y-a.y)/(s.x-a.x);return[r,a.y+l*(r-a.x)]}}}function Ad(t){this.type="shape",this.shapes=t.shapes,this.nodes=[],this._parserNodes(),this.origion_nodes=Object(U.deepMix)([],this.nodes)}vi("clipingWithData",function(t,e){var n=Object(U.deepMix)({},e,{easing:"easeLinear",duration:1e4}),i=t.get("element").geometry;i.labelsContainer.set("visible",!1);var r,o,a,s,l,c=t.get("index"),u=i.coordinate,h=i.scales[Sd.options.yField],p=Object(U.clone)(t.get("origin"));r=t,a=(o=u).start,s=o.end,l=o.height,r.setClip({type:"rect",attrs:{x:a.x,y:s.y,width:0,height:l}});var f=t.get("clipShape"),d=t.get("parent"),g=null,y=Sd.options.seriesField;y&&(g=d.addShape("text",{attrs:{x:u.start.x+12,y:0,text:p.data[0][y],fill:t.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}}));var v=g?16:0,m=d.addShape("text",{attrs:{x:u.start.x+12,y:v,text:"test"+c,fill:t.attr("stroke"),fontSize:12,textAlign:"start",textBaseline:"middle"}});n.callback=function(){t&&!t.get("destroyed")&&(t.setClip(null),f.remove(),m.animate({opacity:0},300,function(){m.remove(),Object(U.isNil)(g)||g.remove();var t=i.labelsContainer;t.get("visible")||t.set("visible",!0)}))};var b=n.delay;Object(U.isFunction)(b)&&(b=n.delay(c));var x=n.easing;Object(U.isFunction)(x)&&(x=n.easing(c)),f.animate({width:u.getWidth()},n.duration,x,n.callback,b),n.onFrame=function(t){var e,n,i,r,o,a=Pd(t,p,u);a&&(m.attr("x",a[0]+12),m.attr("y",a[1]+v),n=h,i=a[1],o=(i-(r=u).start.y)/(r.end.y-r.start.y),e=n.invert(o).toFixed(2),h.formatter&&(e=h.formatter(e)),m.attr("text",e))},m.animate(n.onFrame,{duration:n.duration,easing:x,callback:n.callback,delay:b}),g&&g.animate({onFrame:function(t){var e=Pd(t,p,u);e&&(g.attr("x",e[0]+12),g.attr("y",e[1]))}},n.duration,x,n.callback,b)});var Ed=(Ad.prototype.measure=function(t){return Object(U.deepMix)({},function(t){var e=t.getBBox(),n=e.minX,i=e.minY,r=e.maxX-e.minX,o=e.maxY-e.minY,a=t.attr("matrix"),s=a?[a[0],a[1],0,a[3],a[4],0,0,0,1]:[1,0,0,0,1,0,0,0,1],l=Mh({x:0,y:0},s);l.x+=n,l.y+=i;var c=Mh({x:r,y:0},s);c.x+=n,c.y+=i;var u=Mh({x:0,y:o},s);u.x+=n,u.y+=i;var h=Mh({x:r,y:o},s);h.x+=n,h.y+=i;var p=[l,c,u,h];p.sort(function(t,e){return t.y-e.y});var f=p[0].y,d=p[p.length-1].y,g=[p[0],p[1]],y=[p[2],p[3]],v=g[0].x<g[1].x?g[0]:g[1],m=g[0].x<g[1].x?g[1]:g[0],b=y[0].x<y[1].x?y[0]:y[1],x=y[0].x<y[1].x?y[1]:y[0];p.sort(function(t,e){return t.x-e.x});var O=p[0].x,w=p[p.length-1].x;return{width:w-O,height:d-f,left:O,right:w,top:f,bottom:d,topLeft:v,topRight:m,bottomLeft:b,bottomRight:x,centerX:O+(w-O)/2,centerY:f+(d-f)/2}}(t),{shape:t})},Ad.prototype.measureNodes=function(){var i=this,r=[],o=[];Object(U.each)(this.shapes,function(t,e){var n=Object(U.deepMix)({},i.nodes[e],i.measure(t));0!==n.width&&0!==n.height&&(r.push(n),o.push(t))}),this.nodes=r,this.shapes=o},Ad.prototype._parserNodes=function(){var n=this;Object(U.each)(this.shapes,function(t){var e=n.measure(t);n.nodes.push(e)})},Ad);var Ld={elementDist:{type:"chain",usage:"compare",expression:function(t,e,n){void 0===n&&(n={value:4});var i=Ih([t.topLeft,t.topRight,t.bottomRight,t.bottomLeft],[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft]);return Math.round(i)>=n.value}},elementDistVertical:{type:"chain",usage:"compare",expression:function(t,e,n){void 0===n&&(n={value:5});var i=Math.abs(t.bottom-e.top);return Math.round(i)>=n.value}},elementCollision:{type:"group",usage:"compare",expression:function(t,e){var n=Ih([t.topLeft,t.topRight,t.bottomRight,t.bottomLeft],[e.topLeft,e.topRight,e.bottomRight,e.bottomLeft]);return 2<=Math.round(n)}},elementWidth:{type:"padding",usage:"compare",expression:function(t,e,n){return void 0===n&&(n={ratio:.15}),t.width<e.width*n.ratio}},columnWidth:{type:"padding",usage:"assign",expression:function(t,e,n){return void 0===n&&(n={ratio:.6}),e.width*n.ratio}},ringThickness:{type:"padding",usage:"assign",expression:function(t,e,n){return void 0===n&&(n={ratio:.8}),e.radius*n.ratio}},minRingThickness:{type:"padding",usage:"assign",expression:function(t,e){var n=e.coord.radius/2;return Math.min(n,t.value)}}};function Id(t){t.attr("text","")}function Bd(t,e){return!(t.bottom<e.top||e.bottom<t.top)&&!(t.right<e.left||e.right<t.left)}var Dd=n(1366),Fd=6e4,Rd=60*Fd,Nd=24*Rd,Yd=31*Nd,Vd=365*Nd;function Xd(t,e,n,i){var r,o,a,s,l=i.nodes.nodes,c=n===l.length-1?l[n-1].shape.get("delegateObject").item.name:l[n+1].shape.get("delegateObject").item.name,u=new Date(c),h=t.get("delegateObject").item.name,p=new Date(h),f=l[0].shape.get("delegateObject").item.name,d=new Date(f),g=l[l.length-1].shape.get("delegateObject").item.name,y=Gd(d,new Date(g)),v=Gd(p,u);if(y!==v){if(0!==n){var m=l[n-1].shape.get("delegateObject").item.name,b=new Date(m);if(o=b,a=zd(p,r=y),s=zd(o,r),a===s){var x=function(t,e){for(var n=["year","month","day","hour","minute"],i=["YYYY","MM","DD","HH","MM"],r=n.indexOf(t)+1,o=n.indexOf(e),a="",s=r;s<=o;s++)a+=i[s],s<o&&(a+="-");return a}(y,v);return void t.attr("text",Dd.default.format(p,x))}}}else 0!==n&&n!==l.length-1&&(x=["YYYY","MM","DD","HH","MM"][["year","month","day","hour","minute"].indexOf(y)],t.attr("text",Dd.default.format(p,x)))}function Gd(t,e){var n,i=Math.abs(t-e),r={minute:[Fd,Rd],hour:[Rd,Nd],day:[Nd,Yd],month:[Yd,Vd],year:[Vd,1/0]};return Object(U.each)(r,function(t,e){i>=t[0]&&i<t[1]&&(n=e)}),n}function zd(t,e){return"year"===e?t.getFullYear():"month"===e?t.getMonth()+1:"day"===e?t.getDay()+1:"hour"===e?t.getHours()+1:"minute"===e?t.getMinutes()+1:void 0}var Hd={k:{number:1e3,index:0},m:{number:1e6,index:1},b:{number:1e9,index:2},t:{number:1e12,index:3}};function Wd(t,e,n,i){var r,o,a,s,l,c,u,h,p,f;Object(U.has)(i,"node")&&Object(U.has)(i.node,"node")&&(r=i.nodes.nodes,0!==(o=parseFloat(t.get("origin").text))&&(e.formatter?t.attr("text",e.formatter(o)):(e.unit?(u=(a=qd(e,o)).num,l=a.unitname):(s=Fh((p=r,f=[],Object(U.each)(p,function(t){var e=parseFloat(t.shape.get("origin").text);f.push(e)}),f)),h=s,l=["k","m","b","t"][Math.floor(Math.log(h)/Math.log(1e3))-1],c=Hd[l].number,u=qd({unit:l,decimal:function(t,e){var n=Math.floor(Math.log10(e));{if(!(e<=t)){var i=Math.floor(Math.log10(t));return Math.abs(i-n)}var r=t%e;if(0<r){var o=Math.floor(Math.log10(r));return Math.abs(o-n)}}return 0}(function(t){if(2<=t.length){var e=parseFloat(t[0].shape.get("origin").text),n=parseFloat(t[1].shape.get("origin").text);return Math.abs(e-n)}return 0}(r),c)},o).num),t.attr("text",u+l))))}function qd(t,e){var n,i,r,o;return"auto"===t.unit?(i=["k","m","b","t"][(n=Math.floor(Math.log(e)/Math.log(1e3)))-1],r=(e/Math.pow(1e3,n)).toFixed(t.decimal)):t.unit&&(o=Hd[t.unit],i=t.unit,r=(e/o.number).toFixed(t.decimal)),{num:r,unitname:i}}function Ud(t,e,n){var i=[];Object(U.each)(t,function(t){"start"===t?i.push(0===e):"end"===t?i.push(e===n.length-1):Object(U.isNumber)(t)&&i.push(e===t)});for(var r=0,o=i;r<o.length;r++){if(!0===o[r])return 1}}function Kd(t,e,n){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.shape.get("origin")._origin[e]===n)return o}}function Zd(t,e){var n,i=e.abbreviateBy?e.abbreviateBy:"end",r=t.attr("text");"end"===i&&(n=r[0]+"..."),"start"===i&&(n="..."+r[r.length-1]),"middle"===i&&(n=r[0]+"..."+r[r.length-1]),t.resetMatrix(),t.attr({text:n,textAlign:"center",textBaseline:"top"})}var $d={textWrapper:function(t,e){for(var n=t.attr("text"),i=Math.ceil(n.length/e.lineNumber),r="",o=1;o<e.lineNumber;o++)var a=i*o,r=n.slice(0,a)+"\n"+n.slice(a);var s=t.attr("fontSize");t.attr({text:r,lineHeight:s,textAlign:"center",textBaseline:"top"})},textRotation:function(t,e){t.resetMatrix(),t.attr({rotate:360-e.degree,textAlign:"right",textBaseline:"middle"})},textAbbreviate:Zd,textHide:Id,digitsAbbreviate:Wd,datetimeStringAbbrevaite:Xd,robustAbbrevaite:function(t,e,n,i){var r,o=i.nodes.nodes,a=t.attr("text");/^\d+$/.test(a)?Wd(t,e,0,o):/^(?:(?:[0-2][0-3])|(?:[01]\d)):[0-5]\d$/.test(r=a)||/^(?:(?:[0-2][0-3])|(?:[01]\d))(?::[0-5]\d){2}$/.test(r)?Xd(t,0,n,o):Zd(t,e)},nodesResampling:function(t,e,n,i){var r,o=i.nodes.nodes,a=o.length%2!=0;Ud(e.keep,n,o)||(r=n%2==0,(!a&&r||a&&!r)&&Id(t))},nodesResamplingByAbbrevate:function(t,e,n,i){var r=i.nodes.nodes;Ud(e.keep,n,r)||t.attr("text")!==t.get("delegateObject").item.name&&Id(t)},nodesResamplingByChange:function(t,e,n,i){var r,o,a,s,l,c,u=i.nodes.nodes,h=(r=u,(o=Object(U.deepMix)([],r)).sort(function(t,e){return e.width-t.width}),Math.round(o[0].width));n<=1||(a=u[n],l=(s=function(t,e){for(var n=t-1;0<n;n--){var i=e[n];if(!i.shape.get("blank"))return i}}(n,u)).centerX-a.centerX,c=s.centerY-a.centerY,Math.sqrt(l*l+c*c)<h&&(Id(t),t.set("blank",!0)))},nodesResamplingByState:function(t,e,n,i){var r=i.nodes.nodes,o=r[n];o.line&&o.line.remove();var a,s,l,c=i.plot.initialOptions.data,u=i.plot[i.plot.type]||i.plot[i.plot.baseType],h=function(t,e,n){var i=[];Object(U.each)(t,function(t){i.push(t[e])}),i.sort(function(t,e){return t-e});var r=i[0],o=Kd(n,e,r),a=i[i.length-1],s=Kd(n,e,a),l=function(t){var e=Object(U.clone)(t);e.sort(function(t,e){return t-e});var n=Math.floor(e.length/2);if(e.length%2)return e[n];return e[n]}(i),c=Kd(n,e,l);return{min:o,max:s,median:c}}(c,Object(U.get)(u,["label","fields",0],Object(U.get)(u,["position","fields",1])),r),p=!1;Object(U.each)(h,function(t){t.shape.get("origin")===o.shape.get("origin")&&(p=!0)}),p?o.origin_position&&(s=(a=o.origin_position).x,l=a.y,t.attr("x",s),t.attr("y",l)):Id(t)},nodeJitter:function(t,e,n){var i,r,o=n.nodes.nodes;e!==o.length-1&&(i=function(t,e){var n,i={x:e.centerX-t.centerX,y:e.centerY-t.centerY},r=Math.sqrt(i.x*i.x+i.y*i.y),o={x:10,y:0},a=Math.sqrt(o.x*o.x+o.y*o.y),s=Sh(i,o)/(r*a)*180/Math.PI;s<0&&(s=360-s);s=function(t){if(90<t&&t<=180)return 180-t;if(180<t&&t<270)return t-180;return 360-t}(s);var l=Math.abs(t.centerX-e.centerX),c=Math.abs(t.centerY-e.centerY);45<s?n="x":s<45&&(n="y");return{dir:n,distX:l,distY:c}}(o[e],o[e+1]).dir,r=t.get("startPoint"),"x"===i&&t.attr("y",r.y+20))},nodeJitterUpward:function(t,e,n,i){var r,o,a,s,l,c,u,h,p,f,d,g,y,v,m,b=i.nodes.nodes;0===n||Bd(r=b[n],o=b[n-1])&&(a=i.plot.view.geometries[0].elements[0],(s=o.top-r.height/2)-10>i.region.top&&(l=r.shape.get("origin"),c=a.getShapeId(l),u=a.getShapes(),y=c,v=u,Object(U.each)(v,function(t){var e=t;e.get("id")===y&&(m=e)}),p=(h=m.get("box")).left+h.width/2,f=h.top,d=a.get("labelController").labelsContainer.addShape("path",{attrs:{path:[["M",p,f],["L",r.shape.attr("x"),s]],stroke:"#ccc",lineWidth:1}}),g={x:t.attr("x"),y:t.attr("y")},r.shape.attr("y",s-10),b[n]=i.nodes.measure(r.shape),b[n].line=d,b[n].origin_position=g))},clearOverlapping:function(t,e,n,i){var r=i.nodes.nodes,o=r[n],a=[];if(!o.shape.get("blank"))for(var s=0;s<r.length;s++){var l=r[s],c=l.shape;s===n||c.get("blank")||Bd(o,l)&&a.push(l)}0<a.length&&(a.push(o),a.sort(function(t,e){return e.top-t.top}),Object(U.each)(a,function(t,e){var n;0<e&&(Id(n=t.shape),n.set("blank",!0))}))}};function Qd(t){this.iterationTime=10,this.iterationIndex=0,this.rulesLocker=[],this.constraintIndex=0,Object(U.assign)(this,t),this.currentConstraint=this.constraints[0],this.rules&&(this.iterationTime=this.rules[this.currentConstraint.name].length),this._start(),this._run(),this._end()}var Jd=(Qd.prototype._start=function(){this.onStart&&this.onStart(this.nodes)},Qd.prototype._iteration=function(){var t=(this.nodes.type,this.nodes);"shape"===t.type&&t.measureNodes(),this.rules&&this._applyRules(),"shape"===t.type&&t.measureNodes(),this.onIteration&&this.onIteration(this.nodes)},Qd.prototype._end=function(){this.onEnd&&this.onEnd(this.nodes)},Qd.prototype._run=function(){for(var t=this._constraintsTest();!(t||this.iterationIndex>this.iterationTime-1);)this._iteration(),t=this._constraintsTest(),this.iterationIndex++;this.constraintIndex<this.constraints.length-1&&(this.constraintIndex++,this.currentConstraint=this.constraints[this.constraintIndex],this.iterationTime=this.rules?this.rules[this.currentConstraint.name].length:1,this.iterationIndex=0,this._run())},Qd.prototype._constraintsTest=function(){var t=Ld[this.currentConstraint.name],e=this.currentConstraint.option;return"compare"===t.usage?this._constraintCompare(t,e):this._constraintAssignment(t,e)},Qd.prototype._constraintCompare=function(t,e){var n=t.type,i=t.expression,r=this.nodes.nodes;return"chain"===n?this._chainConstraintCompare(i,r,e):"padding"===n?this._paddingConstraintCompare(i,this.region,r,e):"group"===n?this._groupConstraintCompare(i,r,e):void 0},Qd.prototype._chainConstraintCompare=function(t,e,n){for(var i=0;i<e.length-1;i++){if(!1===t(e[i],e[i+1],n))return!1}return!0},Qd.prototype._paddingConstraintCompare=function(t,e,n,i){if(e)for(var r=0,o=n;r<o.length;r++){if(!1===t(o[r],e,i))return!1}return!0},Qd.prototype._groupConstraintCompare=function(t,e,n){for(var i=0;i<e.length;i++)for(var r=e[i],o=0;o<e.length;o++){if(o!==i)if(!1===t(r,e[o],n))return!1}return!0},Qd.prototype._constraintAssignment=function(t,e){var n=t.type,i=t.expression,r=this.nodes.nodes;return"chain"===n?this._chainConstraintAssign():"padding"===n?this._paddingConstraintAssign(i,this.region,r,e):void 0},Qd.prototype._chainConstraintAssign=function(){return!0},Qd.prototype._paddingConstraintAssign=function(t,e,n,i){if(e)for(var r=0,o=n;r<o.length;r++){var a=o[r],s=t(a,e,i);a.value=s}return!0},Qd.prototype._applyRules=function(){for(var t=this.rules[this.currentConstraint.name][this.iterationIndex],e=$d[t.name],n=t.option?t.option:{},i=this.nodes.nodes,r=0;r<i.length;r++){var o=i[r];this._applyRule(o.shape,e,n,r)}},Qd.prototype._applyRule=function(t,e,n,i){e(t,n,i,{nodes:this.nodes,region:this.region,plot:this.plot})},Qd);function tg(t){Object(U.assign)(this,t),this.init()}var eg,ng=(tg.prototype.init=function(){this.type=this.getType(),this.shouldApply()&&this.apply()},tg),ig={cat:"category",timeCat:"category",time:"dateTime",linear:"linear"};function rg(){return null!==eg&&eg.apply(this,arguments)||this}var og,ag=(eg=ng,Object(q.__extends)(rg,eg),rg.prototype.init=function(){this.axisInstance=this.getAxisInstance(),eg.prototype.init.call(this)},rg.prototype.shouldApply=function(){var t=this.plot.options;return!!this.responsiveTheme.axis&&!!(this.responsiveTheme.axis[this.dim]&&t[this.dim+"Axis"].visible&&t[this.dim+"Axis"].label&&t[this.dim+"Axis"].label.visible)},rg.prototype.apply=function(){for(var e=this,t=this.plot.view.backgroundGroup.findAll(function(t){if("axis-label"===t.get("name")&&t.get("delegateObject").axis.get("field")===e.plot.options[e.dim+"Field"])return t}),n=[],i=0;i<t.length;i++)n.push(t[i]);var r=new Ed({shapes:n}),o=this.responsiveTheme.axis.x[this.type],a=o.constraints,s=o.rules;new Jd({nodes:r,constraints:a,region:this.plot.getViewRange(),rules:s,plot:this.plot,onEnd:function(t){e.updateTicks(t.origion_nodes)}})},rg.prototype.getType=function(){var t=this.plot.options,e=this.dim+"Axis",n=this.dim+"Field";if(t[e]&&t[e].type&&"dateTime"===t[e].type)return"dateTime";var i=this.plot.view.getScaleByField([t[n]]).type;return ig[i]},rg.prototype.getAxisInstance=function(){var t="x"===this.dim?0:1;return this.plot.view.getController("axis").getComponents()[t].component},rg.prototype.updateTicks=function(t){var n,e=this,i=this.plot.view.backgroundGroup.findAll(function(t){if("axis-tickline-group"===t.get("name")&&t.get("delegateObject").axis.get("field")===e.plot.options[e.dim+"Field"])return t})[0];i&&(n=i.get("children"),Object(U.each)(t,function(t,e){""===t.shape.attr("text")&&n[e].attr("opacity",0)})),this.plot.canvas.draw()},rg);function sg(){return null!==og&&og.apply(this,arguments)||this}var lg,cg=(og=ng,Object(q.__extends)(sg,og),sg.prototype.shouldApply=function(){return!(!this.responsiveTheme.label||!this.responsiveTheme.label[this.type])},sg.prototype.apply=function(){var t=this.plot.view.geometries[0].labelsContainer.get("children"),e=[];Object(U.each)(t,function(t){e=e.concat(t.findAllByName("label"))});var n=new Ed({shapes:e}),i=this.responsiveTheme.label[this.type],r=i.constraints,o=i.rules;new Jd({nodes:n,constraints:r,rules:o,plot:this.plot,region:this.plot.view.coordinateBBox})},sg.prototype.getType=function(){return null},sg),ug=(lg=cg,Object(q.__extends)(hg,lg),hg.prototype.getType=function(){return Object(U.get)(this.plot.options,["label","type"],"point")},hg);function hg(){return null!==lg&&lg.apply(this,arguments)||this}var pg,fg={preRender:[],afterRender:[{name:"responsiveAxis",method:function(t){var e=t.getResponsiveTheme(),n=t.canvas;new ag({plot:t,responsiveTheme:e,dim:"x"}),new ag({plot:t,responsiveTheme:e,dim:"y"}),n.draw()}},{name:"responsivePointLabel",method:function(t){var e=t.getResponsiveTheme();new ug({plot:t,responsiveTheme:e})}}]},dg=(pg=yh,Object(q.__extends)(gg,pg),gg.prototype.getDefaultOptions=function(){var t=this.layer.theme.label,e=void 0===t?{}:t;return Object(q.__assign)({offsetX:0,offsetY:0},e)},gg.prototype.getLabelOffset=function(){return this.getLabelOffsetByDimAndFactor("y",-1)},gg.prototype.getLabelItemAttrs=function(r,o){var a=this,t=this.options,s=t.style,l=t.formatter,e=Object(U.get)(r,"model.mappingData",[]);return Object(U.map)(e,function(t,e){var n,i=a.getValue(t);return Object(q.__assign)(Object(q.__assign)(Object(q.__assign)({},a.getPosition(t)),{text:l?l(i,((n={})[oh]=t._origin,n.mappingDatum=t,n.mappingDatumIndex=e,n.element=r,n.elementIndex=o,n),o):i,textAlign:"center",textBaseline:"middle"}),s)})},gg.prototype.getValue=function(t){return Object(U.get)(t._origin,this.layer.options.yField)},gg.prototype.getPosition=function(t){return{x:Object(U.isArray)(t.x)?Object(U.last)(t.x):t.x,y:Object(U.isArray)(t.y)?Object(U.last)(t.y):t.y}},gg.prototype.layoutLabels=function(t,n){var i,r=this;this.options.adjustPosition&&(this.isOverlapped(n)&&(i=this.getGlobalTolerance(n),Object(U.each)(n,function(t,e){1<e&&r.labelResamplingByChange(t,n,e,i)})),this.isOverlapped(n)&&Object(U.each)(n,function(t,e){t.get("visible")&&r.clearOverlapping(t,n,e)}))},gg.prototype.adjustLabel=function(){},gg.prototype.labelResamplingByChange=function(t,e,n,i){var r=this.findPrevious(n,e),o=this.getCenter(t),a=this.getCenter(r),s=a.x-o.x,l=a.y-o.y;Math.sqrt(s*s+l*l)<i&&t.set("visible",!1)},gg.prototype.clearOverlapping=function(t,e,n){for(var i=[],r=0;r<e.length;r++){var o=e[r];r!==n&&o.get("visible")&&lh(t.getBBox(),o.getBBox())&&i.push(o)}0<i.length&&(i.push(t),i.sort(function(t,e){return e.minY-t.minY}),Object(U.each)(i,function(t,e){0<e&&t.set("visible",!1)}))},gg.prototype.isOverlapped=function(t){for(var e=0;e<t.length;e++)if(t[e].get("visible"))for(var n=t[e].getBBox(),i=0;i<t.length;i++){if(i!==e&&t[i].get("visible"))if(lh(n,t[i].getBBox()))return!0}return!1},gg.prototype.getGlobalTolerance=function(t){var e=t.slice();return e.sort(function(t,e){return e.getBBox().width-t.getBBox().width}),Math.round(e[0].getBBox().width)},gg.prototype.findPrevious=function(t,e){for(var n=t-1;0<n;n--)if(e[n].get("visible"))return e[n]},gg.prototype.getCenter=function(t){var e=t.getBBox(),n=e.minX,i=e.maxX,r=e.minY;return{x:n+(i-n)/2,y:r+(e.maxY-r)/2}},gg);function gg(){return null!==pg&&pg.apply(this,arguments)||this}var yg=dg;mh("point",dg);var vg,mg=(vg=yg,Object(q.__extends)(bg,vg),bg.prototype.layoutLabels=function(r,t){var e,o=this,a=[],s=X.fromBBoxObject(this.getCoordinateBBox()),n=r.getXYFields(),l=n[0],c=n[1],u=Object(U.groupBy)(t,function(t){return t.get(rh)[N.FIELD_ORIGIN][l]}),h=null===(e=t[0])||void 0===e?void 0:e.get("offset");Object(U.each)(Object(U.keys)(u).reverse(),function(t){for(var e=o.sortLabels(r,u[t]);e.length;){var n,i=e.shift();(function(e,t,n){return Object(U.some)(t,function(t){return n(t.get(rh),e.get(rh))})})(i,a,function(t,e){return t._origin[l]===e._origin[l]&&t._origin[c]===e._origin[c]})?i.set("visible",!1):(nf(i,s),n=void 0,of(i,a)&&(i.attr("y",i.attr("y")+2*h),nf(i,s),n=of(i,a)),n?i.set("visible",!1):a.push(i))}})},bg.prototype.sortLabels=function(t,e){var n=t.getXYFields()[1],i=[];return e.sort(function(t,e){return e.get(rh)[N.FIELD_ORIGIN][n]-t.get(rh)[N.FIELD_ORIGIN][n]}),0<e.length&&i.push(e.shift()),0<e.length&&i.push(e.pop()),i.push.apply(i,e),i},bg);function bg(){return null!==vg&&vg.apply(this,arguments)||this}var xg=mg;mh("point-auto",mg);function Og(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(U.deepMix)(e,t,{}),this.init()}var wg=(Og.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},Og.prototype.render=function(){var l=this,t=this.getGeometry().elements;Object(U.each)(t,function(t){var e=l.getShapeInfo(t.shape),n=l.options,i=n.style,r=n.offsetX,o=n.offsetY,a=l.options.formatter,s=a?a(e.name):e.name;l.container.addShape("text",{attrs:Object(U.deepMix)({},{x:e.x+r,y:e.y+o,text:s,fill:e.color,textAlign:"left",textBaseline:"middle"},i),name:"label"})})},Og.prototype.clear=function(){this.container&&this.container.clear()},Og.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},Og.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},Og.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},Og.prototype.getBBox=function(){return this.container.getBBox()},Og.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=Object(U.clone)(t.label.style);return delete e.fill,{offsetX:8,offsetY:0,style:e}},Og.prototype.getGeometry=function(){return Object(U.find)(this.view.geometries,function(t){return"line"===t.type})},Og.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],i=t.attr("stroke"),r=this.plot.options.seriesField,o=t.get("origin").data[0][r];return{x:n.x,y:n.y,color:i,name:o}},Og),_g=B({line:"line",point:"point"});Object(U.assign)(L,_g);var Cg={stroke:"transparent",fill:"#FCC509",lineWidth:0},jg={stroke:"#FFF",fill:"#FCC509",lineWidth:1},Sg={stroke:"rgba(0,0,0,0.85)",fill:"#FCC509",lineWidth:1};function Mg(t){this.points=[],this.labels=[],this.name="markerPoints",this.defaultCfg={offsetX:0,offsetY:0,style:{normal:Cg,selected:Sg,active:jg},label:{visible:!1,offsetY:-8,position:"top",style:{fill:"rgba(0, 0, 0, 0.85)"}},animation:!1},this.view=t.view,this.size=t.size||6,this.config=Object(U.deepMix)({},this.defaultCfg,t),this._init()}var kg=(Mg.prototype.render=function(){var t=this.getDataArray();this._renderPoints(t),this.view.canvas.draw(),this._addInteraction()},Mg.prototype.clear=function(){this.container&&this.container.clear()},Mg.prototype.destroy=function(){this.container&&this.container.remove(),this.points=[],this.labels=[]},Mg.prototype.getDataArray=function(){return this.view.geometries[0].dataArray},Mg.prototype._init=function(){var t=this,e=this.view.foregroundGroup;this.container=e.addGroup(),this.render(),this.view.on("beforerender",function(){t.clear()})},Mg.prototype._renderPoints=function(f){var d=this;Object(U.each)(this.config.data,function(e,t){var n,i,r,o,a,s,l,c,u,h,p=Object(U.find)(f[0],function(t){return Object(U.isMatch)(t._origin,e)});p&&(n=d.config.style.normal,i=d.container.addGroup({name:d.name}),r=p.x,o=p.y,Object(U.isArray)(r)&&(r=r[0]),Object(U.isArray)(o)&&(o=o[0]),a=d.config.symbol,l=(s=d.config).offsetX,c=s.offsetY,h=void 0,h=Object(U.isString)(a)&&a.startsWith("image://")?(u=a.substr(8),i.addShape("image",{attrs:{x:r-d.size/2+l,y:o-d.size/2+c,img:u,width:d.size,height:d.size}})):(a=Object(U.isString)(a)?$u.MarkerSymbols[a]:a,i.addShape({type:"marker",name:"marker-point",id:"point-"+t,attrs:Object(q.__assign)(Object(q.__assign)({x:r+l,y:o+c,r:d.size/2},n),{symbol:a})})),d.points.push(h),d._animatePoint(h),d._renderLabel(i,p,t),i.set("data",e),i.set("origin",p))})},Mg.prototype._renderLabel=function(t,e,n){var i,r,o,a,s,l,c,u,h,p,f,d=this.config.label;d&&d.visible&&(r=void 0===(i=d.offsetX)?0:i,a=void 0===(o=d.offsetY)?0:o,s=d.formatter,l=d.position,c=d.field,u=e._origin[c],s&&(u=s(u,{_origin:e._origin},n)),h=Object(U.isArray)(e.x)?e.x[0]:e.x,p=Object(U.isArray)(e.y)?e.y[0]:e.y,f=t.addShape("text",{name:"marker-label",id:"label-"+n,attrs:Object(q.__assign)(Object(q.__assign)({x:h+r,y:p+a,text:u||""},d.style),{textAlign:"center",textBaseline:"top"===l?"bottom":"top"})}),this.labels.push(f))},Mg.prototype._addInteraction=function(){var s=this,t=this.config.events;Object(U.each)(t,function(o,a){s.container.on(s.name+":"+a,function(t){o(t);var e,n,i,r=t.target.get("parent").get("children")[0];r&&(e=r.get("data"),i={id:n=r.get("id"),data:e},"click"===a?s.selectedPoint&&s.selectedPoint.get("id")===n?(s.selectedPoint=null,s.setState("inactive",i)):(s.selectedPoint=r,s.setState("selected",i)):"mouseenter"===a?s.setState("active",i):"mouseleave"===a&&s.setState("inactive",i)),s.view.canvas.draw()}),s.view.on("click",function(t){var e=t.target.get("parent");(!e||e.get("name")!==s.name&&s.selectedPoint)&&(s.selectedPoint=null,s.setState("inactive"))})})},Mg.prototype.setState=function(t,e){var n=this;"active"===t?this.selectedPoint&&e.id===this.selectedPoint.get("id")||this._onActive(e):"inactive"===t?this.points.forEach(function(t){return n._onInactive(t)}):"selected"===t&&this._onSelected(e)},Mg.prototype._onActive=function(t){var e=this,i=this.config.style.active;Object(U.each)(this.points,function(n){n.get("id")===t.id?Object(U.each)(i,function(t,e){n.attr(e,t)}):e._onInactive(n)})},Mg.prototype._onInactive=function(n){var t=this.config.style.normal;this.selectedPoint&&n.get("id")===this.selectedPoint.get("id")||Object(U.each)(t,function(t,e){n.attr(e,t)})},Mg.prototype._onSelected=function(t){var e=this,i=this.config.style.selected;Object(U.each)(this.points,function(n){n.get("id")===t.id?Object(U.each)(i,function(t,e){n.attr(e,t)}):e._onInactive(n)})},Mg.prototype._animatePoint=function(t){var e,n,i,r,o=this.config,a=o.animation,s=o.size;!1!==a&&(n=void 0===(e=a.endState)?{}:e,r=void 0===(i=a.animateCfg)?Ju.DEFAULT_ANIMATE_CFG.appear:i,t.animate(Object(q.__assign)({r:Number.isNaN(n.size/2)?s/2:n.size/2},n),r))},Mg);jf("line",{lineStyle:{normal:{},active:function(t){return{lineWidth:(t.shape.attr("lineWidth")||1)+1}},disable:function(t){return{opacity:.2*(t.shape.attr("opacity")||1)}},selected:function(t){return{lineWidth:(t.shape.attr("lineWidth")||1)+2}}},pointStyle:{normal:{},active:{},disable:{},selected:{}}});var Tg;function Pg(t){return Tg.call(this,Object(q.__assign)({processEvent:"mousemove"},t))||this}Tf("line",{label:{point:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodesResamplingByChange"},{name:"clearOverlapping"}]}}}});var Ag,Eg=(Tg=gp,Object(q.__extends)(Pg,Tg),Pg.prototype.start=function(){},Pg.prototype.process=function(t){var e,n=Object(U.filter)(this.view.geometries,function(t){return"line"==t.type});"line"===t.target.get("name")?(e=Object(U.get)(t,"data.data"),Object(U.each)(n,function(t){Object(U.each)(t.elements,function(t){t.setState("active",t.data===e)})})):Object(U.each)(n,function(t){Object(U.each)(t.elements,function(t){t.setState("active",!1)})})},Pg);function Lg(t){return Ag.call(this,Object(q.__assign)({endEvent:"click"},t))||this}var Ig,Bg=(Ag=gp,Object(q.__extends)(Lg,Ag),Lg.prototype.start=function(){},Lg.prototype.end=function(t){var e,n=t.target,i=Object(U.filter)(this.view.geometries,function(t){return"line"==t.type});"line"===n.get("name")?(e=Object(U.get)(t,"data.data"),Object(U.each)(i,function(t){Object(U.each)(t.elements,function(t){t.setState("inactive",t.data!==e)})})):Object(U.each)(i,function(t){Object(U.each)(t.elements,function(t){t.setState("inactive",!1)})})},Lg);function Dg(){return null!==Ig&&Ig.apply(this,arguments)||this}Pn("selected-tooltip",(Ig=Zu.a,Object(q.__extends)(Dg,Ig),Object.defineProperty(Dg.prototype,"name",{get:function(){return"selected-tooltip"},enumerable:!1,configurable:!0}),Dg.prototype.getTooltipCfg=function(){var t=Ig.prototype.getTooltipCfg.call(this);return Object(q.__assign)(Object(q.__assign)({},t),{showContent:!1,showCrosshairs:!0,showMarkers:!0,shared:!0})},Dg));var Fg,Rg,Ng,Yg=(Fg=Jt,Object(q.__extends)(Vg,Fg),Vg.prototype.show=function(){var t=this.getPoint();Object(U.isEqual)(t,this.location)||(this.location=t,this.showTooltip(t))},Vg.prototype.hide=function(){this.getTooltipController().hideTooltip()},Vg.prototype.showTooltip=function(t){this.getTooltipController().showTooltip(t)},Vg.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:this.getLastXPoint()},Vg.prototype.getLastXPoint=function(){var t=this.getView(),e=t.getXScale(),n=t.getYScales()[0],i=t.getCoordinate(),r=Object(U.last)(e.getTicks()).value;return i.convert({x:r,y:(n.range[0]+n.range[1])/2})},Vg.prototype.getView=function(){return this.context.view},Vg.prototype.getTooltipController=function(){return this.getView().getController("selected-tooltip")},Vg);function Vg(){return null!==Fg&&Fg.apply(this,arguments)||this}function Xg(){return null!==Rg&&Rg.apply(this,arguments)||this}function Gg(){return null!==Ng&&Ng.apply(this,arguments)||this}Pn("tooltip-active",(Rg=Zu.a,Object(q.__extends)(Xg,Rg),Object.defineProperty(Xg.prototype,"name",{get:function(){return"tooltip-active"},enumerable:!1,configurable:!0}),Xg.prototype.getTooltipCfg=function(){var t=Rg.prototype.getTooltipCfg.call(this);return Object(q.__assign)(Object(q.__assign)({},t),{showCrosshairs:!0,showMarkers:!1,shared:!0})},Xg));var zg=(Ng=Jt,Object(q.__extends)(Gg,Ng),Gg.prototype.init=function(){this.getView().removeInteraction("tooltip")},Gg.prototype.show=function(){var t=this.getPoint();t&&this.showTooltip(t)},Gg.prototype.hide=function(){var t=this.getView();this.getTooltipController().hideTooltip();var e=Object(U.filter)(t.geometries,function(t){return"point"==t.type});Object(U.each)(e,function(t){Object(U.each)(t.elements,function(t){t.setState("active",!1)})})},Gg.prototype.showTooltip=function(t){var e=this.getView(),n=this.getTooltipController();n.showTooltip(t);var i=n.getTooltipItems(t),r=Object(U.filter)(e.geometries,function(t){return"point"==t.type});Object(U.each)(r,function(t){Object(U.each)(t.elements,function(e){e.setState("active",-1!==Object(U.findIndex)(i,function(t){return t.data===e.data}))})})},Gg.prototype.getPoint=function(){var t=this.context.event;return t?{x:t.x,y:t.y}:null},Gg.prototype.getView=function(){return this.context.view},Gg.prototype.getTooltipController=function(){return this.getView().getController("tooltip-active")},Gg);ie("selected-tooltip",Yg),un("selected-tooltip",{start:[{trigger:N.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"selected-tooltip:show"},{trigger:N.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"selected-tooltip:show"},{trigger:"plot:mousemove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"selected-tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}]}),ie("marker-active",zg),un("marker-active",{start:[{trigger:N.VIEW_LIFE_CIRCLE.AFTER_PAINT,action:"marker-active:show"},{trigger:N.VIEW_LIFE_CIRCLE.AFTER_RENDER,action:"marker-active:show"},{trigger:"plot:mousemove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"marker-active:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:mouseleave",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchend",action:"marker-active:hide",throttle:{wait:50,leading:!0,trailing:!1}}]});var Hg,Wg={line:"line",point:"point"},qg=(Hg=Df,Object(q.__extends)(Ug,Hg),Ug.getDefaultOptions=function(){return Object(U.deepMix)({},Hg.getDefaultOptions.call(this),{connectNulls:!1,smooth:!1,lineSize:2,lineStyle:{lineJoin:"round",lineCap:"round"},point:{visible:!1,size:3,shape:"circle"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{showContent:!0,crosshairs:{line:{style:{stroke:"rgba(0,0,0,0.45)"}}}},markerPoints:[]})},Ug.prototype.afterRender=function(){var n=this,t=this.options;this.renderLabel(),t.markerPoints&&(Object(U.each)(this.markerPoints,function(t){return t.destroy()}),this.markerPoints=[],t.markerPoints.forEach(function(t){var e;t.visible&&(e=new kg(Object(q.__assign)(Object(q.__assign)({},t),{view:n.view})),n.markerPoints.push(e))})),t.responsive&&"auto"!==t.padding&&this.applyResponsive("afterRender"),Hg.prototype.afterRender.call(this)},Ug.prototype.getColorScale=function(){var t=this.options.seriesField;if(t)return this.view.getScaleByField(t)},Ug.prototype.geometryParser=function(t,e){return Wg[e]},Ug.prototype.scale=function(){var t,e,n,i,r,o=this.options,a={};a[o.xField]={},Object(U.has)(o,"xAxis")&&Td(a[o.xField],o.xAxis),a[o.yField]={},Object(U.has)(o,"yAxis")&&Td(a[o.yField],o.yAxis),this.setConfig("scales",a),t=a[o.yField],e=Object(U.map)(o.data||[],function(t){return t[o.yField]}),n=Object(U.filter)(e,function(t){return Object(U.isNumber)(t)}),i=Math.min.apply(Math,n),r=Math.max.apply(Math,n),0<i?Object(U.isNil)(t.min)&&(t.min=0):r<0&&Object(U.isNil)(t.max)&&(t.max=0),Hg.prototype.scale.call(this)},Ug.prototype.coord=function(){},Ug.prototype.tooltip=function(){Object(U.some)(this.options.markerPoints,function(t){return t.visible})&&(this.options.tooltip.showMarkers=!1),Hg.prototype.tooltip.call(this)},Ug.prototype.addGeometry=function(){this.addLine(),this.addPoint()},Ug.prototype.addLine=function(){var t=this.options;this.line=kd("line","main",{plot:this}),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",this.line)},Ug.prototype.addPoint=function(){var t=this.options;t.point&&(t.point=Object(U.deepMix)({visible:!1},t.point)),t.point&&t.point.visible&&(this.point=kd("point","guide",{plot:this}),this.setConfig("geometry",this.point))},Ug.prototype.renderLabel=function(){var t,e=this.config.scales,n=this.options,i=n.label,r=e[n.yField];i.visible&&(t=tf(this.view,"line"),"line"===i.type?new wg(Object(q.__assign)({view:this.view,plot:this},this.options.label)).render():this.doRenderLabel(t,Object(q.__assign)({type:"point",formatter:r.formatter&&function(t){return r.formatter(t)}},this.options.label)))},Ug.prototype.geometryTooltip=function(){this.line.tooltip={};var t=this.options.tooltip;t.fields&&(this.line.tooltip.fields=t.fields),t.formatter&&(this.line.tooltip.callback=t.formatter,t.fields||(this.line.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.line.tooltip.fields.push(this.options.seriesField)))},Ug.prototype.animation=function(){Hg.prototype.animation.call(this);var t,e=this.options;e.animation?(t={options:this.options,view:this.view},Sd=t,this.line.animate=e.animation):(this.line.animate=!1,this.point&&(this.point.animate=!1))},Ug.prototype.applyInteractions=function(){Hg.prototype.applyInteractions.call(this),this.interactions.push(new Eg({view:this.view})),this.interactions.push(new Bg({view:this.view}))},Ug.prototype.parseEvents=function(){Hg.prototype.parseEvents.call(this,o)},Ug.prototype.applyResponsive=function(t){var e=this,n=fg[t];Object(U.each)(n,function(t){t.method(e)})},Ug.prototype.singleLineLabelCheck=function(){return!this.options.seriesField&&this.options.label.type&&"line"===this.options.label.type},Ug);function Ug(){var t=null!==Hg&&Hg.apply(this,arguments)||this;return t.type="line",t.markerPoints=[],t}var Kg,Zg=qg;function $g(){return null!==Kg&&Kg.apply(this,arguments)||this}zf("line",qg);var Qg=(Kg=Wf,Object(q.__extends)($g,Kg),$g.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="line",Kg.prototype.createLayers.call(this,e)},$g.getDefaultOptions=Zg.getDefaultOptions,$g);var Jg,ty=(1+Math.sqrt(5))/2;function ey(t,e,n,i,r){var o=t.children,a=t.value;o.sort(function(t,e){return e.value-t.value});for(var s,l,c=[],u=0,h=0;u<o.length;){for(var p,f,d=i-e,g=r-n,y=p=o[h++].value,v=p,m=p*p*(f=Math.max(g/d,d/g)/(a*ty)),b=Math.max(y/m,m/v);h<o.length;h++){if((l=o[h].value)<v&&(v=l),y<l&&(y=l),m=(p+=l)*p*f,b<(s=Math.max(y/m,m/v))){p-=l;break}b=s}var x,O,w={value:p,dice:d<g,children:o.slice(u,h)};c.push(w),w.dice?(function(t,e,n,i,r){var o=i-e,a=t.children,s=t.value;a.sort(function(t,e){return e.value-t.value});var l=o/s,c=e;Object(U.each)(a,function(t){t.y0=n,t.y1=r,t.x0=c,c+=t.value*l,t.x1=t.x0+t.value*l})}(w,e,n,i,n+(x=a?g*p/a:g)),a&&(n+=x)):(function(t,e,n,i,r){var o=r-n,a=t.children,s=t.value;a.sort(function(t,e){return e.value-t.value});var l=o/s,c=n;Object(U.each)(a,function(t){t.x0=e,t.x1=i,t.y0=c,c+=t.value*l,t.y1=t.y0+t.value*l})}(w,e,n,e+(O=a?d*p/a:d),r),a&&(e+=O)),a-=p,u=h}return c}function ny(){var i=null!==Jg&&Jg.apply(this,arguments)||this;return i.listeners=[],i.onItemGroupToggleActive=function(e,n){return function(){var t=e.get("children").find(function(t){return"item-background"===t.get("class")});t&&t.attr(n?i.itemActiveBackgroundStyle:i.itemBackgroundStyle),i.getCanvas().draw()}},i}var iy=(Jg=dh,Object(q.__extends)(ny,Jg),ny.prototype.destroy=function(){this.offEvents(),Jg.prototype.destroy.call(this)},ny.prototype.initConfig=function(t){this.x=t.x,this.y=t.y,this.items=t.items||[],this.itemPadding=t.itemPadding||[2,8,2,8],this.backgroundStyle=Object(q.__assign)({lineWidth:1,stroke:"#ffffff"},t.backgroundStyle||{}),this.itemBackgroundStyle=Object(q.__assign)({fill:"#fff"},t.itemBackgroundStyle||{}),this.itemActiveBackgroundStyle=Object(q.__assign)({fill:"#ccc",opacity:.2},t.itemActiveBackgroundStyle||{}),this.separator=t.separator||"/",this.separatorStyle=Object(q.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.separatorStyle||{}),this.itemWidth=t.itemWidth,this.itemHeight=t.itemHeight,this.maxItemWidth=t.maxItemWidth,this.textStyle=Object(q.__assign)({textBaseline:"top",fill:"#000000",opacity:.45},t.textStyle||{})},ny.prototype.renderInner=function(t){this.offEvents(),this.renderItems(t,0,0),Xp(this.group,this.x,this.y)},ny.prototype.renderItems=function(c,u,h){var p,f=this,t=this.itemPadding,d=t[0],g=t[1],y=t[2],v=t[3],e=c.addShape("rect",{class:"breadcrumb-background",attrs:Object(q.__assign)({x:u,y:h,width:1,height:1},this.backgroundStyle)});this.items.forEach(function(t,e){var n=c.addGroup({id:"item-group-"+t.key,data:t,class:"item-group",attrs:{cursor:"pointer"}}),i=n.addShape("rect",{id:"item-background-"+t.key,class:"item-background",attrs:Object(q.__assign)(Object(q.__assign)({x:u,y:h,width:v+g,height:d+y},f.itemBackgroundStyle),{cursor:"pointer"})});i.name="breadcrumb";var r=n.addShape("text",{id:"item-text-"+t.key,class:"item-text",attrs:Object(q.__assign)(Object(q.__assign)({x:u+v,y:h+d,text:t.text},f.textStyle),{cursor:"pointer"})});r.name="breadcrumb";var o=r.getBBox();p=f.itemHeight||o.height;var a=f.itemWidth||o.width;f.maxItemWidth&&(a=Math.min(a,f.maxItemWidth));var s,l={x:u,y:h,width:a+v+g,height:p+d+y};i.attr("width",l.width),i.attr("height",l.height),n.setClip({type:"rect",attrs:l}),u+=l.width,e!==f.items.length-1&&(s=c.addShape("text",{attrs:Object(q.__assign)({x:u,y:h+d,text:f.separator},f.separatorStyle),class:"separator"}),u+=s.getBBox().width)}),e.attr({width:u,height:p+d+y})},ny.prototype.bindEvents=function(t){function o(t,n,i){return function(){var e=n.get("data"),t=r.find(function(t){return t.key===e});a.emit(i,{item:t})}}var a=this,r=this.items,e=t.get("children").filter(function(t){return"item-group"===t.get("class")});e.forEach(function(t){var e=o(0,t,"onItemClick"),n=o(0,t,"onItemDblclick"),i=a.onItemGroupToggleActive(t,!0),r=a.onItemGroupToggleActive(t,!1);t.on("click",e),t.on("dblclick",n),t.on("mouseenter",i),t.on("mouseleave",r),a.listeners.push({target:t,event:"click",callback:e}),a.listeners.push({target:t,event:"dblclick",callback:n}),a.listeners.push({target:t,event:"mouseenter",callback:i}),a.listeners.push({target:t,event:"mouseleave",callback:r})})},ny.prototype.offEvents=function(){this.listeners&&this.listeners.forEach(function(t){var e=t.target,n=t.event,i=t.callback;e.off(n,i)}),this.listeners=[]},ny),ry=[1,0,0,0,1,0,0,0,1],oy=400,ay="easeQuadInOut";function sy(t,a,e){var s=hy(t),l=uy(a),n=l.width/s.width,i=l.height/s.height,c=Vp([["s",n,i],["t",(l.minX-s.minX)*n,(l.minY-s.minY)*i]]),u=a.geometries[0];py(u);var h=a.backgroundGroup.addGroup();h.set("zIndex",-100),h.setClip({type:"rect",attrs:{x:l.minX,y:l.minY,width:l.width,height:l.height}});var p=ly(u,h);u.container.set("visible",!1),a.canvas.draw(),e(),window.setTimeout(function(){Object(U.each)(p,function(t,e){0===e?t.animate({matrix:c},oy,ay,function(){h.remove(),a.canvas.draw()}):t.animate(Vp,oy)}),py(u=a.geometries[0]);var t=u.getShapes();Object(U.each)(t,function(t){t.attr("opacity",0),t.animate({opacity:1},oy,ay)});var e,n,i,r=u.container;r.stopAnimate(),r.set("visible",!0),r.attr("matrix",Object(U.clone)(ry)),e=r,n=[["s",s.width/l.width,s.height/l.height],["t",s.minX,s.minY]],i=Rt.ext.transform([1,0,0,0,1,0,0,0,1],n),e.setMatrix(i);var o=Object(U.clone)(ry);u.container.animate({matrix:o},oy,ay,function(){fy(u)}),a.canvas.draw()},16)}function ly(t,n){var e=t.getShapes(),i=[];return Object(U.each)(e,function(t){var e=n.addShape("path",{attrs:Object(U.deepMix)({},t.attrs,{capture:!1})});i.push(e)}),i}function cy(t,e,n){var i=e.geometries[0];py(i);var r=i.container;r.attr("matrix",Object(U.clone)(ry));var o=e.backgroundGroup.addGroup();o.set("zIndex",-100);var a=ly(i,o);r.set("visible",!1),e.canvas.draw(),n(),py(i=e.geometries[0]),r=i.container;var s,l,c,u,h,p,f,d,g,y,v=hy((s=i.getShapes(),l=t,Object(U.each)(s,function(t){t.get("origin").data.name===l&&(c=t)}),c)),m=uy(e);r.get("parent").get("clipShape")||r.setClip({type:"rect",attrs:{x:m.minX,y:m.minY,width:m.width,height:m.height}}),u=o,h=a,f=m,d=(p=v).width/f.width,g=p.height/f.height,y=Vp([["s",d,g],["t",p.minX,p.minY]]),u.animate({matrix:y},oy,ay,function(){u.remove()}),Object(U.each)(h,function(t){t.animate({opacity:0},oy,ay)});var b=m.width/v.width,x=m.height/v.height,O=Vp([["s",b,x],["t",(m.minX-v.minX)*b,(m.minY-v.minY)*x]]);r.setMatrix(O),r.set("visible",!0),r.animate({matrix:ry},oy,ay,function(){fy(i)})}function uy(t){var e=t.coordinateBBox;return{minX:e.minX,minY:e.minY,centerX:(e.maxX-e.minX)/2,centerY:(e.maxY-e.minY)/2,width:e.width,height:e.height}}function hy(t){var e=t.attr("path"),n=e[0][1],i=e[0][2],r=e[1][1],o=e[2][2];return{minX:n,minY:o,centerX:(r-n)/2,centerY:(i-o)/2,width:Math.abs(r-n),height:Math.abs(i-o)}}function py(t){t.labelsContainer.set("visible",!1)}function fy(t){t.labelsContainer.set("visible",!0)}var dy,gy=(dy=xp,Object(q.__extends)(yy,dy),yy.getInteractionRange=function(t,e){var n,i=(void 0===(n=e)&&(n={}),Object(q.__assign)({x:0,y:0,startNode:{name:"root"},itemWidth:100,itemHeight:30,padding:[0,0,0,0]},n)),r=i.padding,o=r[0],a=r[1];if(t)return new X(t.minX,t.maxY-i.itemHeight-o-a,t.width,i.itemHeight+o+a)},yy.prototype.start=function(t){var e=this,n=t.data.data;n.children&&(this.parentNode={color:t.target.attr("fill"),shape:t.target,data:{name:Object(U.clone)(this.currentNode.name),value:Object(U.clone)(this.currentNode.value)},depth:Object(U.clone)(this.currentDepth)},this.currentDepth++,sy(t.target,this.view,function(){e.update(n)}))},yy.prototype.update=function(t){Object(U.hasKey)(this.cache,t.name)||(this.cache[t.name]=t);var e=this.plot.getTreemapData(t,t.depth);this.view.changeData(e),this.adjustScale(this.currentDepth),this.currentNode=t,this.render()},yy.prototype.render=function(){var t;this.breadcrumb?(t=this.getItems(),this.breadcrumb.update({items:t}),this.breadcrumb.render()):(this.initGeometry(),this.cache={},this.saveOriginMapping(),this.container=this.plot.canvas.addGroup(),this.startNode||(this.startNode={name:"root"}),"root"===this.startNode.name?(this.startNodeName=Object(U.hasKey)(this.plot.options.data,"name")?this.plot.options.data.name:"root",this.currentNode=this.plot.options.data,this.currentDepth=1):(this.startNodeName=this.startNode.name,this.currentNode=this.startNode),this.y=this.view.coordinateBBox.maxY+10,this.breadcrumb=new iy({container:this.container,x:0,y:this.y,items:this.getItems()}),this.breadcrumb.init(),this.breadcrumb.render(),this.plot.canvas.draw()),this.layout(),this.onInteraction()},yy.prototype.clear=function(){},yy.prototype.layout=function(){var t=this.container.getBBox().width,e=(this.plot.width-t)/2;this.breadcrumb.update({x:e,y:this.y}),this.breadcrumb.render()},yy.prototype.getItems=function(){var t,e,n=[];return this.currentNode.name&&this.currentNode.name===this.startNodeName?(t=this.getRootItem(),n.push(t)):(n=[],e=[],this.findParent(this.currentNode,e),n.push(this.getRootItem()),Object(U.each)(e,function(t,e){n.push({key:String(e+2),text:t.name,data:t})}),n.push({key:String(e.length+2),text:this.currentNode.name,data:this.currentNode})),n},yy.prototype.findParent=function(t,e){t.parent&&(Object(U.hasKey)(this.cache,t.parent.name)?e.push(this.cache[t.parent.name]):e.push(t.parent),this.findParent(t.parent,e))},yy.prototype.onInteraction=function(){var r=this;this.container.on("click",function(t){var e=t.target.get("parent");if(e&&"item-group"===e.get("class")){var n=e.get("data");if(n.data)if(n.text===r.startNodeName){r.currentDepth-1==1?cy(r.currentNode.name,r.view,function(){r.updateRoot(n)}):r.updateRoot(n),r.currentDepth=1}else{if(r.currentNode===n.data)return;var i=Object(U.clone)(r.currentDepth);r.currentDepth=parseInt(n.key),i-1===r.currentDepth?cy(r.currentNode.name,r.view,function(){r.update(n.data)}):r.update(n.data)}}})},yy.prototype.getRootItem=function(){var t=this.plot.options.data;return{key:"1",text:Object(U.hasKey)(t,"name")?t.name:"root",data:this.plot.rootData}},yy.prototype.saveOriginMapping=function(){var t=this.plot.options,e={field:t.colorField,values:t.colors};this.originMapping=e},yy.prototype.adjustScale=function(t){var e,n,i=this.view;this.mapping&&Object(U.hasKey)(this.mapping,String(t))?(n=Object(U.clone)(this.mapping[t])).values&&Object(U.isFunction)(n.values)&&(e=n.values(this.parentNode,this.currentNode),n.values=e):n=Object(U.clone)(this.originMapping),this.view.geometries[0].color(n.field,n.values),i.render()},yy.prototype.initGeometry=function(){this.geometry=this.view.geometries[0];var t=this.view.viewBBox;this.geometry.container.setClip({type:"rect",attrs:{x:t.minX,y:t.minY,width:t.width,height:t.height}})},yy.prototype.updateRoot=function(t){this.view.changeData(t.data),this.adjustScale(1),this.currentNode=this.plot.options.data,this.render()},yy);function yy(){return null!==dy&&dy.apply(this,arguments)||this}var vy=gy;xp.registerInteraction("drilldown",gy);var my={drilldown:vy},by=B({rect:"polygon",breadcrumb:"breadcrumb"});Object(U.assign)(L,by);function xy(t,e,n,i){for(var r=i.addShape("text",{attrs:{text:"...",x:0,y:0,fontSize:e}}),o=r.getBBox().width,a=i.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:e}}),s="",l=n-o,c=0;c<t.length;c++){var u=t[c];if(a.attr("text",s+=u),l<=a.getBBox().width){var h=s.substr(0,s.length-1);if(0<h.length)return h+"..."}}return a.remove(),r.remove(),s}function Oy(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(U.deepMix)(e,t,{}),this.init()}var wy,_y=(Oy.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},Oy.prototype.render=function(){var p=this,t=this.getGeometry().elements;Object(U.each)(t,function(t){var e,n,i,r,o,a,s,l,c=t.shape,u=c.get("origin").data,h=(e=u,n=p.plot.options.maxLevel,!e.children||e.depth>=n);u.showLabel&&(i=Object(U.clone)(p.options.style),r=p.getPosition(c,h),a=(o=p.options.formatter)?o(u.name):u.name,s=p.getTextBaseLine(h),l=p.container.addShape("text",{attrs:Object(U.deepMix)({},i,{x:r.x,y:r.y,text:a,fill:"black",textAlign:"center",textBaseline:s,fontWeight:h?300:600}),name:"label"}),p.adjustLabel(l,c,h))})},Oy.prototype.clear=function(){this.container&&this.container.clear()},Oy.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},Oy.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},Oy.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},Oy.prototype.getBBox=function(){return this.container.getBBox()},Oy.prototype.getPosition=function(t,e){var n=t.getBBox(),i=0,r=0,r=e?(i=n.minX+n.width/2,n.minY+n.height/2):(i=n.x+n.width/2,n.y+4);return{x:i,y:r}},Oy.prototype.getTextBaseLine=function(t){return t?"middle":"top"},Oy.prototype.adjustLabel=function(t,e,n){n?this.adjustLeafLabel(t,e):this.adjustParentLabel(t,e)},Oy.prototype.adjustLeafLabel=function(t,e){var n=e.getBBox(),i=t.getBBox(),r=Object(U.clone)(t.attr("text")),o=Math.max(t.attr("fontSize")-2,8),a=n.x+n.width/2,s=n.y+n.height/2;t.attr({x:a,y:s,textAlign:"center",textBaseline:"middle",lineHeight:o,fontSize:o});var l,c,u,h,p,f,d,g,y,v=n.width-8;i.width>n.width&&i.height>n.height||v<o?t.attr("text",""):i.width>n.width&&(u=t,h=v,p=this.container,f=u.attr("fontSize"),d=u.attr("text"),g=p.addShape("text",{attrs:{text:"",x:0,y:0,fontSize:f}}),y=d.split("\n").map(function(t){for(var e="",n=t.split(""),i=[],r=0;r<n.length;r++){var o=n[r];g.attr("text",e+=o);var a=g.getBBox().width-1;if(h<a){if(0===r)break;i.push(r),e=""}}return sh(n,i)}),g.remove(),l=y.join("\n"),t.attr({lineHeight:t.attr("fontSize"),text:l}),t.getBBox().height>n.height&&(c=xy(r,o,v,this.container),t.attr("text",c)))},Oy.prototype.adjustParentLabel=function(t,e){var n,i=e.getBBox().width-8;t.getBBox().width>i&&(n=xy(t.attr("text"),t.attr("fontSize"),i,this.container),t.attr("text",n))},Oy.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,style:Object(U.clone)(t)}},Oy.prototype.getGeometry=function(){return Object(U.find)(this.view.geometries,function(t){return"polygon"===t.type})},Oy),Cy=(wy=Df,Object(q.__extends)(jy,wy),jy.getDefaultOptions=function(){return Object(U.deepMix)({},wy.getDefaultOptions.call(this),{maxLevel:2,padding:[0,0,0,0],tooltip:{visible:!1,showTitle:!1,showCrosshairs:!1,showMarkers:!1,shared:!1},legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},xField:"x",yField:"y",label:{visible:!0,adjustPosition:!0,style:{stroke:"rgba(0,0,0,0)",lineWidth:0,fontSize:12}},meta:{x:{nice:!1},y:{nice:!1}},interactions:[{type:"tooltip"}]})},jy.prototype.beforeInit=function(){var e=this;wy.prototype.beforeInit.call(this);var t=this.options.interactions;t&&Object(U.each)(t,function(t){"drilldown"===t.type&&(e.isDrilldown=!0,e.options.maxLevel=1)});var n=this.options.data,i=this.getTreemapData(n);this.rootData=i},jy.prototype.afterRender=function(){wy.prototype.afterRender.call(this),this.options.label&&this.options.label.visible&&new _y(Object(q.__assign)({view:this.view,plot:this},this.options.label)).render()},jy.prototype.geometryParser=function(){return"polygon"},jy.prototype.getTreemapData=function(t,e){var n=this.getViewRange(),i=ey(t,n.x,n.y,n.width,n.height);this.recursive(i,1);var r=[];return this.getAllNodes(i,r,e),r.sort(function(t,e){return t.depth-e.depth}),this.options.xField="x",this.options.yField="y",r},jy.prototype.processData=function(){return this.rootData},jy.prototype.coord=function(){},jy.prototype.addGeometry=function(){var n=this,t=this.options,e=t.data,i=t.colorField,r=t.color,o=this.getTreemapData(e);this.rootData=o;var a=this.isNested(o);this.rect={type:"polygon",position:{fields:["x","y"]},color:{fields:[i],values:r},style:{fields:["depth"],callback:function(t){var e=n.adjustStyleByDepth(t,a);return Object(U.deepMix)({},e,n.options.rectStyle)}},tooltip:{fields:["name","value"]}},this.options.tooltip&&this.options.tooltip.formatter&&(this.rect.tooltip.callback=this.options.tooltip.formatter),this.setConfig("geometry",this.rect)},jy.prototype.applyInteractions=function(){var i=this,t=this.options.interactions,r=this.view.interactions;Object(U.each)(t,function(t){var e,n=my[t.type];n&&(e=new n(Object(U.deepMix)({},{view:i.view,plot:i,startEvent:"polygon:click"},t.cfg,n.getInteractionRange(i.layerBBox,t.cfg))),r[t.type]=e)})},jy.prototype.animation=function(){wy.prototype.animation.call(this),this.isDrilldown&&(this.rect.animate=!1)},jy.prototype.parseEvents=function(){wy.prototype.parseEvents.call(this,a)},jy.prototype.recursive=function(t,a){var s=this,l=this.options.colorField;Object(U.each)(t,function(o){Object(U.each)(o.children,function(t){var e,n,i,r;1<(t.depth=a)&&(t.parent=o),Object(U.hasKey)(t,l)||(t[l]=o[l]),t.showLabel=!0,s.isLeaf(t)||(e=Math.abs(t.y1-t.y0),i=(n=s.getLabelHeight())<e/2?n:4,t.showLabel=4!==i,r=ey(t,t.x0+4,t.y0+i,t.x1-4,t.y1-4),s.fillColorField(r,l,t[l]),s.recursive(r,t.depth+1))})})},jy.prototype.getAllNodes=function(t,e,n){var i=this,r=n||this.options.maxLevel,o=this.getViewRange();Object(U.each)(t,function(t){Object(U.hasKey)(t,"x0")&&t.depth<=r&&e.push(Object(q.__assign)(Object(q.__assign)({},t),{x:[t.x0,t.x1,t.x1,t.x0],y:[o.height-t.y1,o.height-t.y1,o.height-t.y0,o.height-t.y0]})),Object(U.hasKey)(t,"children")&&i.getAllNodes(t.children,e)})},jy.prototype.fillColorField=function(t,e,n){Object(U.each)(t,function(t){Object(U.hasKey)(t,e)||(t[e]=n)})},jy.prototype.getLabelHeight=function(){var t,e=this.options.label,n=this.getPlotTheme().label.style.fontSize,i=0;return e&&e.visible&&(i=(t=e.style)&&t.fontSize?t.fontSize:n),i+8},jy.prototype.isLeaf=function(t){return!t.children||0===t.children.length},jy.prototype.isNested=function(t){if(1===this.options.maxLevel)return!1;for(var e=!1,n=0;n<t.length;n++)if(t[n].children){e=!0;break}return e},jy.prototype.adjustStyleByDepth=function(t,e){var n=this.options.maxLevel;return e?1===t?{lineWidth:1,stroke:"black",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.3)",opacity:t/n}:{lineWidth:1,stroke:"rgba(0,0,0,0.9)",opacity:.9}},jy);function jy(){var t=null!==wy&&wy.apply(this,arguments)||this;return t.type="treemap",t}var Sy,My=Cy;function ky(){return null!==Sy&&Sy.apply(this,arguments)||this}zf("treemap",Cy);Sy=Wf,Object(q.__extends)(ky,Sy),ky.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="treemap",Sy.prototype.createLayers.call(this,e)},ky.getDefaultOptions=My.getDefaultOptions;var Ty,Py,Ay=(Ty=Zg,Object(q.__extends)(Ey,Ty),Ey.getDefaultOptions=function(){return Object(U.deepMix)({},Ty.getDefaultOptions.call(this),{step:"hv"})},Ey);function Ey(){var t=null!==Ty&&Ty.apply(this,arguments)||this;return t.type="step-line",t}function Ly(){return null!==Py&&Py.apply(this,arguments)||this}zf("step-line",Ay);Py=Wf,Object(q.__extends)(Ly,Py),Ly.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="step-line",Py.prototype.createLayers.call(this,e)},Ly.getDefaultOptions=Ay.getDefaultOptions;function Iy(t,e){var n=[],i=t.get("origin").points;return Object(U.each)(i,function(t){n.push(e.convertPoint(t))}),n}function By(t){Object(U.deepMix)(this,this.constructor.getDefaultOptions(t),t),this._init()}var Dy=(By.getDefaultOptions=function(t){var e=t.transpose;return{visible:!0,size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:{visible:!0,headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},value:{visible:!0,style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)"},formatter:function(t,e){return(100*e/t).toFixed(2)+"%"}},animation:Object(U.deepMix)({},Ju.DEFAULT_ANIMATE_CFG)}},By.prototype._init=function(){var t=this,e=this.view.backgroundGroup;this.container=e.addGroup(),this.draw(),this.view.on("beforerender",function(){t.clear()})},By.prototype.draw=function(){var n,i,r,o,a=this,t=this.transpose,s=this.view.getScaleByField(this.field).values,e=this.view.geometries[0].getShapes();t?e.forEach(function(t,e){i=s[e],0<e++&&a._drawTag(r,o,t,i),o=i,r=t}):e.forEach(function(t,e){o=s[e],0<e++&&a._drawTag(t,o,n,i),i=o,n=t})},By.prototype.clear=function(){this.container&&this.container.clear()},By.prototype.destroy=function(){this.container&&this.container.remove()},By.prototype._drawTag=function(t,e,n,i){var r=this.transpose,o=this.view.geometries[0].coordinate,a=Iy(t,o)[r?3:0],s=Iy(n,o)[r?0:3];this._drawTagArrow(a,s),this._drawTagValue(a,e,s,i)},By.prototype._drawTagArrow=function(t,e){var n=this.spacing,i=this.size,r=this.offset,o=this.animation,a=this.transpose,s=this.arrow.headSize,l=e.y-t.y,c=e.x-t.x,u=a?(c-s)/2<n?(n=Math.max(1,(c-s)/2),[[t.x+n,t.y-r],[t.x+n,t.y-r-i],[e.x-n,e.y-r-i/2]]):[[t.x+n,t.y-r],[t.x+n,t.y-r-i],[e.x-n-s,e.y-r-i],[e.x-n,e.y-r-i/2],[e.x-n-s,e.y-r]]:(l-s)/2<n?(n=Math.max(1,(l-s)/2),[[t.x+r,t.y+n],[t.x+r+i,t.y+n],[e.x+r+i/2,e.y-n]]):[[t.x+r,t.y+n],[t.x+r+i,t.y+n],[e.x+r+i,e.y-n-s],[e.x+r+i/2,e.y-n],[e.x+r,e.y-n-s]],h=this.container.addShape("polygon",{name:"arrow",attrs:Object(q.__assign)(Object(q.__assign)({},this.arrow.style),{points:u})});!1!==o&&this._fadeInTagShape(h)},By.prototype._drawTagValue=function(t,e,n,i){var r,o,a,s,l,c=this.size,u=this.offset,h=this.animation,p=this.transpose,f=this.value.formatter(e,i),d=this.container.addShape("text",{name:"value",attrs:Object(q.__assign)(Object(q.__assign)({},this.value.style),{text:f,x:p?(t.x+n.x)/2:t.x+u+c/2,y:p?t.y-u-c/2:(t.y+n.y)/2,textAlign:"center",textBaseline:"middle"})});!p||(r=n.x-t.x)<(o=d.getBBox().width)&&(a=o/f.length,s=Math.max(1,Math.ceil(r/a)-1),l=f.slice(0,s)+"...",d.attr("text",l)),!1!==h&&this._fadeInTagShape(d)},By.prototype._fadeInTagShape=function(t){var e=this.animation,n=t.attr("opacity");t.attr("opacity",0);var i=Object(U.get)(e,"appear",Ju.DEFAULT_ANIMATE_CFG.appear).duration;t.animate({opacity:n},i)},By);var Fy={preRender:[],afterRender:[{name:"responsiveAxis",method:function(t){var e=t.getResponsiveTheme(),n=t.canvas;new ag({plot:t,responsiveTheme:e,dim:"x"}),new ag({plot:t,responsiveTheme:e,dim:"y"}),n.draw()}}]},Ry={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}};function Ny(t){var e=0===t.indexOf("#")?t.substr(1):t,n=[];return n.push(parseInt(e.substr(0,2),16)),n.push(parseInt(e.substr(2,2),16)),n.push(parseInt(e.substr(4,2),16)),n}function Yy(t,e){var n;return Object(U.each)(t,function(t){e>=t.from&&e<t.to&&(n=t.color)}),n}jf("bar",Ry);function Vy(t){var e=Ny(t);return(299*e[0]+587*e[1]+114*e[2])/1e3<128}var Xy,Gy=(Xy=yh,Object(q.__extends)(zy,Xy),zy.prototype.getLabelItemAttrs=function(t,e){var n,i=this.options,r=i.style,o=i.formatter,a=[].concat(t.getModel().mappingData),s=this.getValue(t);return Object(U.deepMix)({},r,Object(q.__assign)(Object(q.__assign)({},this.getPosition(t)),{text:o?o(s,((n={})[oh]=a[0]._origin,n.mappingDatum=a[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):s,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(t),textBaseline:this.getTextBaseline()}))},zy.prototype.adjustLabel=function(t,e){var n,i,r,o,a=this.options,s=a.adjustPosition,l=a.style;s&&(n=this.getDefaultOffset(),i=t.getBBox(),(r=this.getElementShapeBBox(e)).width<=i.width&&(o=r.maxX+this.options.offsetX+n,t.attr("x",o),t.attr("fill",l.fill)))},zy.prototype.getDefaultOptions=function(){var t=this.layer.theme.label,e=void 0===t?{}:t;return Object(q.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},e)},zy.prototype.getValue=function(t){return Object(U.get)(t.getData(),this.layer.options.xField)},zy.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),i=this.getElementShapeBBox(t),r=i.minX,o=i.maxX,a=i.minY,s=i.height,l=i.width,c=this.options,u=c.offsetX,h=c.offsetY,p=c.position,f=n<0?-1:1;return{x:"left"===p?(0<n?r:o)+e*f+u:"right"===p?(0<n?o:r)+e*f+u:r+l/2+u,y:a+s/2+h}},zy.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&"right"!==this.options.position){var n=e.attr("fill"),i=e.attr("opacity")?e.attr("opacity"):1,r=Ny(n);return Yy([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],Math.round(.299*r[0]+.587*r[1]+.114*r[2])/i)}return this.options.style.fill},zy.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,i=n.position,r=n.adjustColor;return"right"!==i&&r&&"black"!==e?null:void 0},zy.prototype.getTextAlign=function(t){var e=this.getValue(t),n=this.options.position;return e<0?{right:"right",left:"right",middle:"center"}[n]:{right:"left",left:"left",middle:"center"}[n]},zy.prototype.getTextBaseline=function(){return"middle"},zy.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,i=[];Object(U.each)(n.get("origin").points,function(t){i.push(e.coord.convertPoint(t))});var r=i.map(function(t){return t.x}),o=Math.min.apply(Math,r),a=Math.max.apply(Math,r),s=i.map(function(t){return t.y}),l=Math.min.apply(Math,s),c=Math.max.apply(Math,s);return new X(o,l,a-o,c-l)},zy.prototype.getLabelOffset=function(){return{x:0,y:0}},zy);function zy(){return null!==Xy&&Xy.apply(this,arguments)||this}var Hy=Gy;mh("bar",Gy);var Wy,qy=(Wy=Hy,Object(q.__extends)(Uy,Wy),Uy.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),i=this.getElementShapeBBox(t),r=i.minX,o=i.maxX,a=i.minY,s=i.height,l=this.options;return{x:(0<n?o:r)+e*(n<0?-1:1)+l.offsetX,y:a+s/2+l.offsetY}},Uy.prototype.getTextAlign=function(t){return 0<this.getValue(t)?"left":"right"},Uy.prototype.getTextFill=function(t){return this.options.style.fill},Uy.prototype.getTextStroke=function(t){},Uy.prototype.adjustLabel=function(t,e){},Uy.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},Uy.prototype.shouldInShapeLabels=function(t){var i=this;return Object(U.every)(t,function(t){var e=t.getBBox(),n=t.get("element");return i.getElementShapeBBox(n).height>=e.height})},Uy.prototype.inShapeLabels=function(t,e){var s=this,l=this.getCoordinateBBox(),c=t.getXYFields()[0],n=this.options,u=n.darkStyle,h=n.lightStyle,p=Object(U.groupBy)(e,function(t){return t.get(rh)[N.FIELD_ORIGIN][c]});Object(U.each)(e,function(e){var t=p[e.get(rh)[N.FIELD_ORIGIN][c]]||[],n=e.get("element"),i=n.shape,r=Vy(i.attr("fill")),o=s.getElementShapeBBox(n),a=X.fromBBoxObject(e.getBBox());rf(l,o)<=0&&e.set("visible",!1),a.width>o.width?Object(U.findIndex)(t,function(t){return t===e})!==t.length-1&&e.set("visible",!1):(e.attr({x:o.x+o.width/2,textAlign:"center"}),a.width>o.width||a.height>o.height?e.attr({stroke:null==h?void 0:h.stroke}):e.attr({fill:r?null==h?void 0:h.fill:null==u?void 0:u.fill,fillOpacity:r?null==h?void 0:h.fillOpacity:null==u?void 0:u.fillOpacity,stroke:void 0}))})},Uy.prototype.autoHideLabels=function(t,e){var n,i=this.getCoordinateBBox(),r=this.filterLabels(e),o=t.getXYFields()[0],a=[],s=[],l=Object(U.groupBy)(r,function(t){return t.get(rh)[N.FIELD_ORIGIN][o]}),c=Object(U.uniq)(Object(U.map)(r,function(t){return t.get(rh)[N.FIELD_ORIGIN][o]}));for(0<Object(U.size)(c)&&(n=c.shift(),Object(U.each)(l[n],function(t){return s.push(t)})),0<Object(U.size)(c)&&(n=c.pop(),Object(U.each)(l[n],function(t){return s.push(t)})),Object(U.each)(c.reverse(),function(t){Object(U.each)(l[t],function(t){return s.push(t)})});0<s.length;){var u=s.shift();u.get("visible")&&(nf(u,i),of(u,a)?u.set("visible",!1):a.push(u))}},Uy.prototype.filterLabels=function(t){var n=[],i=Math.max(Math.floor(t.length/500),1);return Object(U.each)(t,function(t,e){e%i==0?n.push(t):t.set("visible",!1)}),n},Uy);function Uy(){return null!==Wy&&Wy.apply(this,arguments)||this}var Ky=qy;mh("bar-auto",qy);var Zy=B({bar:"interval"});Object(U.assign)(L,Zy);var $y,Qy={bar:"interval"},Jy={interval:"bar"},tv=($y=Df,Object(q.__extends)(ev,$y),ev.getDefaultOptions=function(){return Object(U.deepMix)({},$y.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},title:{visible:!0},label:{visible:!1},tickLine:{visible:!1},grid:{visible:!1},nice:!0},yAxis:{visible:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!0},title:{visible:!1,spacing:12}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!0,position:"left",adjustColor:!0},legend:{visible:!1,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},ev.prototype.beforeInit=function(){$y.prototype.beforeInit.call(this);var t=this.options;t.responsive&&"auto"!==t.padding&&this.applyResponsive("preRender")},ev.prototype.afterRender=function(){var t=this.options;this.renderLabel(),t.responsive&&"auto"!==t.padding&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new Dy(Object(q.__assign)({view:this.view,field:t.xField,animation:!1!==t.animation},t.conversionTag))),$y.prototype.afterRender.call(this)},ev.prototype.geometryParser=function(t,e){return"g2"===t?Qy[e]:Jy[e]},ev.prototype.processData=function(t){var e=t?t.slice().reverse():t,n=this.options.yField,i=[];return Object(U.each)(e,function(t){var e=Object(U.clone)(t);e[n]=e[n].toString(),i.push(e)}),i},ev.prototype.scale=function(){var t=this.options,e={};e[t.yField]={type:"cat"},Object(U.has)(t,"yAxis")&&Td(e[t.yField],t.yAxis),e[t.xField]={},Object(U.has)(t,"xAxis")&&Td(e[t.xField],t.xAxis),this.setConfig("scales",e),$y.prototype.scale.call(this)},ev.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},ev.prototype.axis=function(){var t=hp("axis",{plot:this,dim:"x"}),e=hp("axis",{plot:this,dim:"y"});t&&(t.position="left"),e&&(e.position="bottom");var n={};n[this.options.xField]=t,n[this.options.yField]=e,this.setConfig("axes",n)},ev.prototype.adjustBar=function(t){return null},ev.prototype.addGeometry=function(){var t=this.options,e=kd("interval","main",{positionFields:[t.yField,t.xField],plot:this});t.conversionTag.visible&&this.setConfig("theme",Object(U.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustBar(e),this.bar=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},ev.prototype.animation=function(){$y.prototype.animation.call(this),!1===this.options.animation&&(this.bar.animate=!1)},ev.prototype.parseEvents=function(){$y.prototype.parseEvents.call(this,s)},ev.prototype.renderLabel=function(){var t,e=this.config.scales,n=this.options,i=n.label,r=e[n.xField];null!=i&&i.visible&&(t=tf(this.view,"interval"),this.doRenderLabel(t,Object(q.__assign)({type:"bar",formatter:r.formatter&&function(t){return r.formatter(t)}},this.options.label)))},ev.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.bar.tooltip.fields.push(this.options.colorField)))},ev.prototype.applyResponsive=function(t){var e=this,n=Fy[t];Object(U.each)(n,function(t){t.method(e)})},ev.prototype.getLabelOptionsByPosition=function(t){return"middle"===t?{offset:0}:"left"===t?{offset:7,style:{stroke:null,lineWidth:0}}:"right"===t?{offset:4}:void 0},ev);function ev(){var t=null!==$y&&$y.apply(this,arguments)||this;return t.type="bar",t}var nv,iv=tv;function rv(){return null!==nv&&nv.apply(this,arguments)||this}zf("bar",tv);nv=Wf,Object(q.__extends)(rv,nv),rv.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="bar",nv.prototype.createLayers.call(this,e)},rv.getDefaultOptions=iv.getDefaultOptions;jf("stackedBar",Ry);var ov,av=(ov=Hy,Object(q.__extends)(sv,ov),sv.prototype.adjustLabel=function(t,e){var n;this.options.adjustPosition&&(n=t.getBBox(),this.getElementShapeBBox(e).maxX<=n.maxX&&t.set("visible",!1))},sv);function sv(){return null!==ov&&ov.apply(this,arguments)||this}mh("stacked-bar",av);var lv,cv=(lv=Ky,Object(q.__extends)(uv,lv),uv.prototype.shouldInShapeLabels=function(t){return!0},uv);function uv(){return null!==lv&&lv.apply(this,arguments)||this}mh("stacked-bar-auto",cv);var hv,pv=(hv=iv,Object(q.__extends)(fv,hv),fv.getDefaultOptions=function(){return Object(U.deepMix)({},hv.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!0},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!1,spacing:12}},legend:{visible:!0,position:"top-left",offsetY:0}})},fv.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},fv.prototype.adjustBar=function(t){t.adjust=[{type:"stack"}]},fv.prototype.renderLabel=function(){var t,e=this.config.scales,n=this.options,i=n.label,r=e[n.xField];null!=i&&i.visible&&(t=tf(this.view,"interval"),this.doRenderLabel(t,Object(q.__assign)({type:"stacked-bar",formatter:r.formatter&&function(t){return r.formatter(t)}},this.options.label)))},fv.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},fv);function fv(){var t=null!==hv&&hv.apply(this,arguments)||this;return t.type="stackedBar",t.baseType="bar",t}var dv,gv=pv;function yv(){return null!==dv&&dv.apply(this,arguments)||this}zf("stackedBar",pv);dv=Wf,Object(q.__extends)(yv,dv),yv.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="stackedBar",dv.prototype.createLayers.call(this,e)},yv.getDefaultOptions=gv.getDefaultOptions;jf("groupedBar",Ry);var vv,mv=(vv=iv,Object(q.__extends)(bv,vv),bv.getDefaultOptions=function(){return Object(U.deepMix)({},vv.getDefaultOptions.call(this),{xAxis:{visible:!0,grid:{visible:!0}},yAxis:{visible:!0,title:{visible:!1}},label:{visible:!0,position:"right",adjustColor:!0},legend:{visible:!0,position:"right-top",offsetY:0}})},bv.prototype.afterRender=function(){vv.prototype.afterRender.call(this);var i=Object(U.valuesOfKey)(this.options.data,this.options.groupField)||[];this.view.on("tooltip:change",function(n){var t=n.items,e=void 0===t?[]:t;Object(U.sortBy)(e.slice(),function(t){return i.indexOf(t.name)}).reverse().forEach(function(t,e){n.items[e]=t})})},bv.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},bv.prototype.scale=function(){var t={};t[this.options.groupField]={values:Object(U.valuesOfKey)(this.options.data,this.options.groupField)},this.options.meta?this.options.meta=Object(U.deepMix)({},this.options.meta,t):this.options.meta=t,vv.prototype.scale.call(this)},bv.prototype.adjustBar=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},bv.prototype.geometryTooltip=function(){this.bar.tooltip={};var t=this.options.tooltip;t.fields&&(this.bar.tooltip.fields=t.fields),t.formatter&&(this.bar.tooltip.callback=t.formatter,t.fields||(this.bar.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},bv);function bv(){var t=null!==vv&&vv.apply(this,arguments)||this;return t.type="groupedBar",t.baseType="bar",t}var xv,Ov=mv;function wv(){return null!==xv&&xv.apply(this,arguments)||this}zf("groupedBar",mv);function _v(t,i,a){var e=Object(U.groupBy)(t,i),e=Object(U.mapValues)(e,function(t){return Object(U.map)(t,function(e){return Object(U.map)(a,function(t){return e[t]})})});e=Object(U.mapValues)(e,U.flatten),e=Object(U.mapValues)(e,function(t){return Object(U.map)(t,function(t){var e=Number.parseFloat(t);return!Object(U.isNumber)(e)||isNaN(e)?0:e})});var r=Object(U.mapValues)(e,function(t){return Object(U.reduce)(t,function(t,e){return t+e},0)}),n=Object(U.map)(t,function(e){var n=Object(q.__assign)(Object(q.__assign)({},e),{_origin:e,total:r[e[i]]});return Object(U.each)(a,function(t){n[t]=e[t]/(r[e[i]]||1)}),n});return Object(U.each)(Object(U.groupBy)(n,i),function(r){var o=0;Object(U.each)(r,function(n,i){Object(U.each)(a,function(t,e){(1<=o+n[t]||i===r.length-1&&e===a.length-1&&0<o)&&(n[t]=1-o),o+=n[t]})})}),n}xv=Wf,Object(q.__extends)(wv,xv),wv.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="groupedBar",xv.prototype.createLayers.call(this,e)},wv.getDefaultOptions=Ov.getDefaultOptions;var Cv,jv=(Cv=gv,Object(q.__extends)(Sv,Cv),Sv.getDefaultOptions=function(){return Object(U.deepMix)({},Cv.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},grid:{visible:!1},title:{visible:!0,formatter:function(t){return t+" (%)"}},label:{visible:!1,formatter:function(t){return t.replace(/%/gi,"")}}}})},Sv.prototype.processData=function(t){var e=this.options,n=e.xField,i=e.yField,r=Cv.prototype.processData.call(this,t);return _v(r,i,[n])},Sv.prototype.scale=function(){var t={},e=this.options.xField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=Object(U.deepMix)({},this.options.meta,t),Cv.prototype.scale.call(this)},Sv);function Sv(){var t=null!==Cv&&Cv.apply(this,arguments)||this;return t.type="percentStackedBar",t}var Mv,kv=jv;function Tv(){return null!==Mv&&Mv.apply(this,arguments)||this}zf("percentStackedBar",jv);Mv=Wf,Object(q.__extends)(Tv,Mv),Tv.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="percentStackedBar",Mv.prototype.createLayers.call(this,e)},Tv.getDefaultOptions=kv.getDefaultOptions;function Pv(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(U.deepMix)(e,t,{}),this.options.leftStyle||(this.options.leftStyle=this.options.style),this.options.rightStyle||(this.options.rightStyle=this.options.style),this.init()}var Av,Ev=(Pv.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},Pv.prototype.render=function(){var h=this,t=this.getGeometry(),e=t.elements,n=t.coordinate;this.coord=n,Object(U.each)(e,function(t){var s=t.shape,e=h.getPosition(s),l=h.getValue(s),c=h.getTextAlign(),u=[];Object(U.each)(e,function(t,e){var n=0===e?h.options.leftStyle:h.options.rightStyle,i=h.getTextColor(s,e);"inner"===h.options.position&&h.options.adjustColor&&"black"!==i&&(n.stroke=null);var r=h.options.formatter,o=r?r(l[e]):l[e],a=h.container.addShape("text",{attrs:Object(U.deepMix)({},n,{x:t.x,y:t.y,text:o,fill:i,textAlign:c[e],textBaseline:"middle"}),name:"label"});u.push(a),h.doAnimation(a)}),s.set("labelShapes",u),h.adjustPosition(u[0],u[1],s)}),this.plot.canvas.draw()},Pv.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},Pv.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},Pv.prototype.clear=function(){this.container&&this.container.clear()},Pv.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},Pv.prototype.getBBox=function(){return this.container.getBBox()},Pv.prototype.getShapeBbox=function(t){var e=this,n=[];return Object(U.each)(t.get("origin").points,function(t){n.push(e.coord.convertPoint(t))}),new X(n[0].x,n[1].y,Math.abs(n[2].x-n[0].x),Math.abs(n[0].y-n[1].y))},Pv.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{position:"outer",offsetX:8,offsetY:0,style:Object(U.clone)(t),adjustColor:!0,adjustPosition:!0}},Pv.prototype.getPosition=function(t){var e,n=this.getShapeBbox(t),i=n.minX,r=n.maxX,o=n.minY,a=n.height,s=this.options,l=s.offsetX,c=o+a/2+s.offsetY,u="outer"===this.options.position?(e=i-l,r+l):(e=i+l,r-l);return[{x:e,y:c},{x:u,y:c}]},Pv.prototype.getValue=function(t){var e=this.plot.options.xField;return t.get("origin").data[e]},Pv.prototype.getTextAlign=function(){return"outer"===this.options.position?["right","left"]:["left","right"]},Pv.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&"inner"===this.options.position){var n=t.attr("fill"),i=t.attr("opacity")?t.attr("opacity"):1,r=Ny(n),o=Math.round(.299*r[0]+.587*r[1]+.114*r[2])/i;return a=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=o,Object(U.each)(a,function(t){s>=t.from&&s<t.to&&(l=t.color)}),l}var a,s,l;return 0===e?this.options.leftStyle.fill:this.options.rightStyle.fill},Pv.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},Pv.prototype.adjustPosition=function(t,e,n){var i,r=n.get("origin"),o=r.x[0],a=r.x[1],s=Math.abs(a-o),l=this.view.coordinateBBox,c=[t.getBBox(),e.getBBox()],u=t.attr("x"),h=e.attr("x");this.options.adjustPosition&&"inner"===this.options.position&&(i=c[0].width+c[1].width,(2<c[0].maxX-c[1].minX||s<i)&&(u=o-this.options.offsetX,t.attr("fill",this.options.leftStyle.fill),t.attr("textAlign","right"),c[0]=t.getBBox(),h=a+this.options.offsetX,e.attr("fill",this.options.rightStyle.fill),e.attr("textAlign","left"),c[1]=e.getBBox())),c[0].minX<l.minX&&(u=l.minX+8,t.attr("textAlign","left")),t.attr("x",u),e.attr("x",h),this.plot.canvas.draw()},Pv.prototype.getGeometry=function(){return Object(U.find)(this.view.geometries,function(t){return"interval"===t.type})},Pv);function Lv(t,e){var n=t.getBBox(),i=n.minX+n.width/2;t.setClip({type:"rect",attrs:{x:i,y:n.minY,width:0,height:n.height}}),t.get("clipShape").animate({width:n.width,x:n.minX},e.duration,e.easing,function(){t.setClip(null)},e.delay)}function Iv(t,e){var n,i,r=(i=t.id,Object(U.each)(Av,function(t){t.id===i&&(n=t)}),n.attr("path")),o=Object(U.clone)(t.attr("path"));t.attr("path",r),t.animate({path:o},e.duration,e.easing,e.callback,100)}Lv.animationName="clipInFromCenter",Iv.animationName="updateFromCenter",vi("clipInFromCenter",Lv),vi("updateFromCenter",Iv);var Bv,Dv=(Bv=iv,Object(q.__extends)(Fv,Bv),Fv.getDefaultOptions=function(){return Object(U.deepMix)(Bv.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"},xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!0,autoHide:!0},title:{visible:!0,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}}},{})},Fv.prototype.afterRender=function(){this.renderLabel();var n=[],t=this.view.geometries;Object(U.each)(t,function(t){var e=t.elements;Object(U.each)(e,function(t){n.push(t.shape)})}),Av=n,Bv.prototype.afterRender.call(this)},Fv.prototype.renderLabel=function(){this.options.label&&this.options.label.visible&&new Ev(Object(q.__assign)({view:this.view,plot:this},this.options.label)).render()},Fv.prototype.animation=function(){Bv.prototype.animation.call(this)},Fv);function Fv(){var t=null!==Bv&&Bv.apply(this,arguments)||this;return t.type="rangeBar",t}var Rv,Nv=Dv;function Yv(){return null!==Rv&&Rv.apply(this,arguments)||this}zf("rangeBar",Dv);Rv=Wf,Object(q.__extends)(Yv,Rv),Yv.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="rangeBar",Rv.prototype.createLayers.call(this,e)},Yv.getDefaultOptions=Nv.getDefaultOptions;var Vv,Xv=(Vv=yg,Object(q.__extends)(Gv,Vv),Gv);function Gv(){return null!==Vv&&Vv.apply(this,arguments)||this}var zv=Xv;mh("area-point",Xv);var Hv,Wv=(Hv=xg,Object(q.__extends)(qv,Hv),qv.prototype.layoutLabels=function(t,e){Hv.prototype.layoutLabels.call(this,t,e),this.adjustAreaLabelsStyle(e)},qv.prototype.adjustAreaLabelsStyle=function(t){var e,n=this.view,i=this.options,a=i.darkStyle,s=i.lightStyle,r=tf(n,"area"),l=(e=r,Object(U.map)(e.elements,function(t){return t.shape}).sort(function(t,e){return e.getBBox().height-t.getBBox().height}));Object(U.each)(t,function(t){var e,n,i=t.getBBox(),r=function(t,e,n,i,r){void 0===r&&(r=2);for(var o=[],a=t;a<=t+n;a+=r)o.push([a,e]);for(var s=e;s<=e+i;s+=r)o.push([t+n,s]);for(a=t+n;t<=a;a-=r)o.push([a,e+i]);for(s=e+i;e<=s;s-=r)o.push([t,s]);return o}(i.x,i.y,i.width,i.height),o=Object(U.map)(l,function(e){return{area:e,matches:Object(U.filter)(r,function(t){return!!e.isHit(t[0],t[1])}).length}}).sort(function(t,e){return t.matches-e.matches});0<Object(U.last)(o).matches&&(e=Object(U.last)(o).area.attr("fill"),n=Vy(e),t.attr({fill:n?null==s?void 0:s.fill:null==a?void 0:a.fill,fillOpacity:n?s.fillOpacity:a.fillOpacity,stroke:n?null==s?void 0:s.stroke:null==a?void 0:a.stroke}))})},qv);function qv(){return null!==Hv&&Hv.apply(this,arguments)||this}var Uv=Wv;mh("area-point-auto",Wv);var Kv={preRender:[],afterRender:[{name:"responsiveAxis",method:function(t){var e=t.getResponsiveTheme(),n=t.canvas;new ag({plot:t,responsiveTheme:e,dim:"x"}),new ag({plot:t,responsiveTheme:e,dim:"y"}),n.draw()}}]},Zv=B({area:"area",line:"line",point:"point"});Object(U.assign)(L,Zv);var $v={areaStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:function(t){return{lineWidth:(t.lineWidth||1)+2}}},pointStyle:{normal:{},active:function(t){var e=t.fill||t.fillStyle,n=t.size||t.radius;return{radius:n+1,shadowBlur:n,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},disable:function(t){return{opacity:.5*(t.opacity||t.fillOpacity||1)}},selected:function(t){var e=t.fill||t.fillStyle,n=t.size||t.radius;return{radius:n+2,shadowBlur:n,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}}},label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",fillOpacity:1,stroke:"#2c3542"}}};jf("area",$v);var Qv,Jv={area:"area",line:"line",point:"point"},tm=(Qv=Df,Object(q.__extends)(em,Qv),em.getDefaultOptions=function(){return Object(U.deepMix)({},Qv.getDefaultOptions.call(this),{smooth:!1,areaStyle:{opacity:.25},line:{visible:!0,size:2,style:{opacity:1,lineJoin:"round",lineCap:"round"}},point:{visible:!1,size:4,shape:"point"},label:{visible:!1,type:"point"},legend:{visible:!0,position:"top-left",wordSpacing:4},tooltip:{visible:!0,shared:!0,showCrosshairs:!0,crosshairs:{type:"x"},offset:20}})},em.prototype.beforeInit=function(){Qv.prototype.beforeInit.call(this),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("preRender")},em.prototype.afterRender=function(){this.renderLabel(),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("afterRender"),Qv.prototype.afterRender.call(this)},em.prototype.geometryParser=function(t,e){return Jv[e]},em.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},Object(U.has)(t,"xAxis")&&Td(e[t.xField],t.xAxis),e[t.yField]={},Object(U.has)(t,"yAxis")&&Td(e[t.yField],t.yAxis),this.setConfig("scales",e),Qv.prototype.scale.call(this)},em.prototype.coord=function(){return null},em.prototype.addGeometry=function(){var t=this.options,e=kd("area","main",{plot:this});this.area=e,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.adjustArea(e),this.setConfig("geometry",e),this.addLine(),this.addPoint()},em.prototype.adjustArea=function(t){},em.prototype.adjustLine=function(t){},em.prototype.adjustPoint=function(t){},em.prototype.addLine=function(){var t,e=this.options,n=Object(U.deepMix)({},e.line);n.visible&&(t=kd("line","guide",{type:"line",plot:this,line:n}),this.adjustLine(t),this.setConfig("geometry",t),this.line=t)},em.prototype.addPoint=function(){var t,e=this.options;Object(U.deepMix)({},e.point).visible&&(t=kd("point","guide",{plot:this}),this.adjustPoint(t),this.setConfig("geometry",t),this.point=t)},em.prototype.renderLabel=function(){var t,e=this.config.scales,n=this.options,i=n.label,r=e[n.yField];i.visible&&(t=tf(this.view,"area"),this.doRenderLabel(t,Object(q.__assign)({type:"area-point",formatter:r.formatter&&function(t){return r.formatter(t)}},this.options.label)))},em.prototype.animation=function(){Qv.prototype.animation.call(this),!1===this.options.animation&&(this.area.animate=!1,this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},em.prototype.label=function(){},em.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField],this.options.seriesField&&this.area.tooltip.fields.push(this.options.seriesField)))},em.prototype.parseEvents=function(){Qv.prototype.parseEvents.call(this,l)},em.prototype.applyResponsive=function(t){var e=this,n=Kv[t];Object(U.each)(n,function(t){t.method(e)})},em);function em(){var t=null!==Qv&&Qv.apply(this,arguments)||this;return t.type="area",t}var nm,im=tm;function rm(){return null!==nm&&nm.apply(this,arguments)||this}zf("area",tm);nm=Wf,Object(q.__extends)(rm,nm),rm.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="area",nm.prototype.createLayers.call(this,e)},rm.getDefaultOptions=im.getDefaultOptions;var om,am=(om=wg,Object(q.__extends)(sm,om),sm.prototype.getShapeInfo=function(t){var e=t.get("origin").points,n=e[e.length-1],i=t.attr("stroke"),r=this.plot.options.stackField,o=t.get("origin").data[0][r],a=Object(U.reduce)(n.y,function(t,e){return t+e},0)/Object(U.size)(n.y);return{x:n.x,y:a,color:i,name:o}},sm);function sm(){return null!==om&&om.apply(this,arguments)||this}function lm(e,t,n){var i=t[0],r=t[t.length-1];Object(U.each)(t,function(t){return t.x===e?t.y[n]:(t.x<e&&t.x>i.x&&(i=t),void(t.x>e&&t.x<r.x&&(r=t)))});var o=(e-i.x)/(r.x-i.x);return i.y[n]*(1-o)+r.y[n]*o}function cm(t){this.destroyed=!1,this.scaleFactor=[],this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(U.deepMix)(e,t,{}),this.init()}var um={lineLabel:{Ctr:am},areaLabel:{Ctr:(cm.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},cm.prototype.render=function(){var u=this,h=this.plot.options.stackField,t=this.getGeometry().dataArray,i=[];Object(U.each)(t,function(t,e){var n=u.drawLabel(t,e);n&&(i.push(Object(U.deepMix)({},t[0],n)),u.scaleFactor.push(n.scaleFactor))});var p=[];Object(U.each)(i,function(t,e){var n=u.options,i=n.style,r=n.offsetX,o=n.offsetY,a=u.getFontSize(e),s=u.options.formatter,l=s?s(t._origin[h]):t._origin[h],c=u.container.addShape("text",{attrs:Object(U.deepMix)({},{x:t.x+r,y:t.y+o,text:l,fill:t.color,fontSize:a,textAlign:"center",textBaseline:"top"},i),name:"label"});p.push(c)}),this.plot.canvas.draw()},cm.prototype.clear=function(){this.container&&this.container.clear()},cm.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},cm.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},cm.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},cm.prototype.getBBox=function(){return this.container.getBBox()},cm.prototype.getDefaultOptions=function(){var t=this.plot.theme,e=Object(U.clone)(t.label.style);return e.stroke=null,delete e.fill,{offsetX:0,offsetY:0,style:e,autoScale:!0}},cm.prototype.drawLabel=function(t,e){var n,i,r,o,a=(n=t,r=1/0,o=i=-1/0,Object(U.each)(n,function(t){r=Math.min(t.x,r),o=Math.max(t.x,o);var e=Math.abs(t.y[0]-t.y[1]);i=Math.max(i,e)}),{xRange:[r,o],maxHeight:i}),s=a.xRange,l=a.maxHeight,c=s[1]-s[0],u=this.getInterpolatedPoints(s[0],c,t),h=this.getLabelBbox(e),p={xRange:s,aspect:h.width/h.height,data:u,justTest:!0},f=this.bisection(12,l,this.testFit,p,.01,100);if(null!==f){p.justTest=!1;var d=this.testFit(p);return d.x=d.x,d.y=d.y0+(d.y1-d.y0)/2,d.scaleFactor=f/h.height*.2,d}},cm.prototype.getInterpolatedPoints=function(t,e,n){for(var i=[],r=t;r<e;r+=2){var o=lm(r,n,0),a=lm(r,n,1);i.push({x:r,y:[o,a]})}return i},cm.prototype.bisection=function(t,e,n,i,r,o){for(var a=0;a<o;a++){var s=(t+e)/2,l=i;l.height=s,l.width=s*l.aspect;var c=n(l);if(c&&(e-t)/2<r)return s;c?t=s:e=s}return null},cm.prototype.testFit=function(t){for(var e=t.xRange,n=t.width,i=t.height,r=t.data,o=t.justTest,a=0;a<r.length;a++){var s=r[a].x,l=s+n;if(l>e[1])break;for(var c=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.x===e||i.x>e)break}return n}(r,l),u=-1/0,h=null,p=1/0,f=a;f<c;f++){var d=r[f].y[1],g=r[f].y[0];if(g<p&&(p=g),u<d&&(u=d,h=g),p-u<i)break}if(i<=p-u)return!!o||{x:s,y0:u,y1:h,width:n,height:i}}return!1},cm.prototype.getLabelBbox=function(t){var e=Object(U.clone)(this.plot.theme.label.textStyle);e.fontSize=12;var n=this.container.addShape("text",{attrs:Object(q.__assign)({text:t,x:0,y:0},e)}),i=n.getBBox();return n.remove(),i},cm.prototype.getGeometry=function(){return Object(U.find)(this.view.geometries,function(t){return"area"===t.type})},cm.prototype.getFontSize=function(t){return this.options.autoScale?12*this.scaleFactor[t]:12},cm)}};var hm,pm=(hm=zv,Object(q.__extends)(fm,hm),fm);function fm(){return null!==hm&&hm.apply(this,arguments)||this}mh("stackedArea-point",pm);var dm,gm=(dm=Uv,Object(q.__extends)(ym,dm),ym.prototype.sortLabels=function(t,e){var n=[];return 0<e.length&&n.push(e.shift()),0<e.length&&n.push(e.pop()),n.push.apply(n,e),n},ym);function ym(){return null!==dm&&dm.apply(this,arguments)||this}mh("stackedArea-point-auto",gm),jf("stackedArea",$v);var vm,mm=(vm=im,Object(q.__extends)(bm,vm),bm.getDefaultOptions=function(){return Object(U.deepMix)({},vm.getDefaultOptions.call(this),{label:{visible:!1,type:"area"}})},bm.prototype.beforeInit=function(){var t=Object(U.get)(this.options,["label","visible"]),e=Object(U.get)(this.options,["label","type"]),n=this.options;t&&("line"===e&&(n.lineLabel=this.options.label),"area"===e&&(n.areaLabel=this.options.label)),vm.prototype.beforeInit.call(this)},bm.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},bm.prototype.label=function(){var t=this.options.label;if(t&&!1===t.visible)return this.line&&(this.line.label=!1),this.point&&(this.point.label=!1),void(this.area.label=!1)},bm.prototype.adjustArea=function(t){t.adjust=[{type:"stack"}]},bm.prototype.adjustLine=function(t){t.adjust=[{type:"stack"}]},bm.prototype.adjustPoint=function(t){t.adjust=[{type:"stack"}]},bm.prototype.afterRender=function(){this.renderPlotComponents(),this.options.responsive=!1,vm.prototype.afterRender.call(this)},bm.prototype.geometryTooltip=function(){this.area.tooltip={};var t=this.options.tooltip;t.fields&&(this.area.tooltip.fields=t.fields),t.formatter&&(this.area.tooltip.callback=t.formatter,t.fields||(this.area.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},bm.prototype.renderPlotComponents=function(){var i=this;Object(U.each)(["areaLabel","lineLabel"],function(t){var e=Object(q.__assign)({view:i.view,plot:i},i.options[t]),n=function(t,e,n){if(t.options[e]&&t.options[e].visible){var i=um[e],r=new i.Ctr(n);return i.padding&&t.paddingController.registerPadding(r,i.padding),r}}(i,t,e);n&&(n.render(),i.plotComponents.push(n))})},bm);function bm(){var t=null!==vm&&vm.apply(this,arguments)||this;return t.plotComponents=[],t.type="stackedArea",t.baseType="area",t}var xm,Om=mm;function wm(){return null!==xm&&xm.apply(this,arguments)||this}zf("stackedArea",mm);xm=Wf,Object(q.__extends)(wm,xm),wm.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="stackedArea",xm.prototype.createLayers.call(this,e)},wm.getDefaultOptions=Om.getDefaultOptions;var _m,Cm=(_m=Om,Object(q.__extends)(jm,_m),jm.getDefaultOptions=function(){return Object(U.deepMix)({},_m.getDefaultOptions.call(this),{yAxis:{visible:!0,label:{visible:!0,formatter:function(t){return t.replace(/%/gi,"")}}}})},jm.prototype.processData=function(t){var e=this.options,n=e.xField,i=e.yField;return _v(t,n,[i])},jm.prototype.scale=function(){var t={},e=this.options.yField;t[this.options.yField]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=Object(U.deepMix)({},t,this.options.meta),_m.prototype.scale.call(this)},jm);function jm(){var t=null!==_m&&_m.apply(this,arguments)||this;return t.type="percentStackedArea",t.baseType="stackedArea",t}var Sm,Mm=Cm;function km(){return null!==Sm&&Sm.apply(this,arguments)||this}zf("percentStackedArea",Cm);Sm=Wf,Object(q.__extends)(km,Sm),km.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="percentStackedArea",Sm.prototype.createLayers.call(this,e)},km.getDefaultOptions=Mm.getDefaultOptions;var Tm,Pm=(Tm=cg,Object(q.__extends)(Am,Tm),Am.prototype.getType=function(){return Object(U.get)(this.plot.options,["label","position"],"inner")},Am);function Am(){return null!==Tm&&Tm.apply(this,arguments)||this}var Em={preRender:[],afterRender:[{name:"responsiveAxis",method:function(t){var e=t.getResponsiveTheme(),n=t.canvas;new ag({plot:t,responsiveTheme:e,dim:"x"}),new ag({plot:t,responsiveTheme:e,dim:"y"}),n.draw()}},{name:"responsiveLabel",method:function(t){var e=t.getResponsiveTheme();new Pm({plot:t,responsiveTheme:e})}}]};Tf("column",{label:{top:{constraints:[{name:"elementCollision"}],rules:{elementCollision:[{name:"nodeJitterUpward"},{name:"nodesResamplingByState",option:{keep:["min","max","median"]}},{name:"textHide"}]}}}});var Lm,Im=(Lm=yh,Object(q.__extends)(Bm,Lm),Bm.prototype.getLabelItemAttrs=function(t,e){var n,i,r=this.options,o=r.style,a=r.formatter,s=[].concat(t.getModel().mappingData),l=this.getValue(t);return Object(U.deepMix)({},o,Object(q.__assign)(Object(q.__assign)({},this.getPosition(t)),{text:a?a(l,((n={})[oh]=null===(i=s[0])||void 0===i?void 0:i._origin,n.mappingDatum=s[0],n.mappingDatumIndex=0,n.element=t,n.elementIndex=e,n),e):l,fill:this.getTextFill(t),stroke:this.getTextStroke(t),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseLine()}))},Bm.prototype.getDefaultOptions=function(){var t=this.layer.theme.label,e=void 0===t?{}:t;return Object(q.__assign)({offsetX:0,offsetY:0,adjustPosition:!0},e)},Bm.prototype.adjustLabel=function(t,e){var n,i,r,o;this.options.adjustPosition&&(n=this.getDefaultOffset(),i=t.getBBox(),(r=this.getElementShapeBBox(e)).height<=i.height&&(o=r.minY+this.options.offsetY-n,t.attr("y",o),t.attr("textBaseline","bottom"),t.attr("fill",this.options.style.fill)))},Bm.prototype.getValue=function(t){return Object(U.get)(t.getData(),this.layer.options.yField)},Bm.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),i=this.getElementShapeBBox(t),r=i.minX,o=i.minY,a=i.maxY,s=i.height,l=i.width,c=this.options,u=c.offsetX,h=c.offsetY,p=c.position,f=0<n?-1:1;return{x:r+l/2+u,y:"top"===p?(0<n?o:a)+e*f+h:"bottom"===p?(0<n?a:o)+e*f+h:o+s/2+h}},Bm.prototype.getTextFill=function(t){var e=t.shape;if(this.options.adjustColor&&"top"!==this.options.position){var n=e.attr("fill"),i=e.attr("opacity")?e.attr("opacity"):1,r=Ny(n);return Yy([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],Math.round(.299*r[0]+.587*r[1]+.114*r[2])/i)}return this.options.style.fill},Bm.prototype.getTextStroke=function(t){var e=this.getTextFill(t),n=this.options,i=n.position,r=n.adjustColor;return"top"!==i&&r&&"black"!==e?null:void 0},Bm.prototype.getElementShapeBBox=function(t){var e=this,n=t.shape,i=[];Object(U.each)(n.get("origin").points,function(t){i.push(e.coord.convertPoint(t))});var r=i.map(function(t){return t.x}),o=Math.min.apply(Math,r),a=Math.max.apply(Math,r),s=i.map(function(t){return t.y}),l=Math.min.apply(Math,s),c=Math.max.apply(Math,s);return new X(o,l,a-o,c-l)},Bm.prototype.getTextAlign=function(){return"center"},Bm.prototype.getTextBaseLine=function(){return"middle"},Bm.prototype.getLabelOffset=function(){return{x:0,y:0}},Bm);function Bm(){return null!==Lm&&Lm.apply(this,arguments)||this}var Dm=Im;mh("column",Im);var Fm,Rm=(Fm=Dm,Object(q.__extends)(Nm,Fm),Nm.prototype.getPosition=function(t){var e=this.getDefaultOffset(),n=this.getValue(t),i=this.getElementShapeBBox(t),r=i.minX,o=i.minY,a=i.maxY,s=i.width,l=this.options;return{x:r+s/2+l.offsetX,y:(0<n?o:a)+e*(0<n?-1:1)+l.offsetY}},Nm.prototype.getTextFill=function(t){return this.options.style.fill},Nm.prototype.getTextStroke=function(t){},Nm.prototype.adjustLabel=function(t,e){},Nm.prototype.layoutLabels=function(t,e){this.shouldInShapeLabels(e)&&this.inShapeLabels(t,e),this.autoHideLabels(t,e)},Nm.prototype.shouldInShapeLabels=function(t){var i=this;return Object(U.every)(t,function(t){var e=t.getBBox(),n=t.get("element");return i.getElementShapeBBox(n).width>=e.width})},Nm.prototype.inShapeLabels=function(t,e){var s=this,l=this.getCoordinateBBox(),c=t.getXYFields()[0],n=this.options,u=n.darkStyle,h=n.lightStyle,p=Object(U.groupBy)(e,function(t){return t.get(rh)[N.FIELD_ORIGIN][c]});Object(U.each)(e,function(e){var t=p[e.get(rh)[N.FIELD_ORIGIN][c]]||[],n=e.get("element"),i=n.shape,r=Vy(i.attr("fill")),o=s.getElementShapeBBox(n),a=X.fromBBoxObject(e.getBBox());rf(l,o)<=0&&e.set("visible",!1),a.height>o.height?0!==Object(U.findIndex)(t,function(t){return t===e})&&e.set("visible",!1):(e.attr({y:o.y+o.height/2,textBaseline:"middle"}),a.width>o.width||a.height>o.height?e.attr({stroke:null==h?void 0:h.stroke}):e.attr({fill:r?null==h?void 0:h.fill:null==u?void 0:u.fill,fillOpacity:r?null==h?void 0:h.fillOpacity:null==u?void 0:u.fillOpacity,stroke:void 0}))})},Nm.prototype.autoHideLabels=function(t,e){var n,i=this.getCoordinateBBox(),r=this.filterLabels(e),o=t.getXYFields()[0],a=[],s=[],l=Object(U.groupBy)(r,function(t){return t.get(rh)[N.FIELD_ORIGIN][o]}),c=Object(U.uniq)(Object(U.map)(r,function(t){return t.get(rh)[N.FIELD_ORIGIN][o]}));for(0<Object(U.size)(c)&&(n=c.shift(),Object(U.each)(l[n],function(t){return s.push(t)})),0<Object(U.size)(c)&&(n=c.pop(),Object(U.each)(l[n],function(t){return s.push(t)})),Object(U.each)(c.reverse(),function(t){Object(U.each)(l[t],function(t){return s.push(t)})});0<s.length;){var u=s.shift();u.get("visible")&&(nf(u,i),of(u,a)?u.set("visible",!1):a.push(u))}},Nm.prototype.filterLabels=function(t){var n=[],i=Math.max(Math.floor(t.length/500),1);return Object(U.each)(t,function(t,e){e%i==0?n.push(t):t.set("visible",!1)}),n},Nm);function Nm(){return null!==Fm&&Fm.apply(this,arguments)||this}var Ym=Rm;mh("column-auto",Rm);var Vm=B({column:"interval"});Object(U.assign)(L,Vm);var Xm={label:{darkStyle:{fill:"#2c3542",stroke:"#ffffff",fillOpacity:.85},lightStyle:{fill:"#ffffff",stroke:"#ffffff",fillOpacity:1}},columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){var e=t.opacity||1;return{opacity:.5*e,fillOpacity:.5*e}},selected:{lineWidth:1,stroke:"black"}}};jf("column",Xm);var Gm,zm={column:"interval"},Hm={interval:"column"},Wm=(Gm=Df,Object(q.__extends)(qm,Gm),qm.getDefaultOptions=function(){return Object(U.deepMix)({},Gm.getDefaultOptions.call(this),{xAxis:{visible:!0,tickLine:{visible:!1},title:{visible:!0}},yAxis:{nice:!0,title:{visible:!0},label:{visible:!0},grid:{visible:!0}},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1},label:{visible:!1,position:"top",adjustColor:!0},legend:{visible:!0,position:"top-left"},interactions:[{type:"tooltip"},{type:"active-region"},{type:"legend-active"},{type:"legend-filter"}],conversionTag:{visible:!1}})},qm.prototype.beforeInit=function(){Gm.prototype.beforeInit.call(this),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("preRender")},qm.prototype.afterRender=function(){var t=this.options;this.renderLabel(),this.options.responsive&&"auto"!==this.options.padding&&this.applyResponsive("afterRender"),t.conversionTag.visible&&(this.conversionTag=new Dy(Object(q.__assign)({view:this.view,field:t.yField,transpose:!0,animation:!1!==t.animation},t.conversionTag))),Gm.prototype.afterRender.call(this)},qm.prototype.geometryParser=function(t,e){return"g2"===t?zm[e]:Hm[e]},qm.prototype.processData=function(t){var n=this.options.xField,i=[];return Object(U.each)(t,function(t){var e=Object(U.clone)(t);e[n]=e[n].toString(),i.push(e)}),i},qm.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},Object(U.has)(t,"xAxis")&&Td(e[t.xField],t.xAxis),e[t.yField]={},Object(U.has)(t,"yAxis")&&Td(e[t.yField],t.yAxis),this.setConfig("scales",e),Gm.prototype.scale.call(this)},qm.prototype.coord=function(){},qm.prototype.adjustColumn=function(t){},qm.prototype.addGeometry=function(){var t=this.options,e=kd("interval","main",{positionFields:[t.xField,t.yField],plot:this});t.conversionTag.visible&&this.setConfig("theme",Object(U.deepMix)({},this.getTheme(),{columnWidthRatio:1/3})),this.adjustColumn(e),this.column=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},qm.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&this.column.tooltip.fields.push(this.options.colorField)))},qm.prototype.animation=function(){Gm.prototype.animation.call(this),!1===this.options.animation&&(this.column.animate=!1)},qm.prototype.parseEvents=function(){Gm.prototype.parseEvents.call(this,c)},qm.prototype.renderLabel=function(){var t,e=this.config.scales,n=this.options,i=n.label,r=e[n.yField];null!=i&&i.visible&&(t=tf(this.view,"interval"),this.doRenderLabel(t,Object(q.__assign)({type:"column",formatter:r.formatter&&function(t){return r.formatter(t)}},this.options.label)))},qm.prototype.applyResponsive=function(t){var e=this,n=Em[t];Object(U.each)(n,function(t){t.method(e)})},qm);function qm(){var t=null!==Gm&&Gm.apply(this,arguments)||this;return t.type="column",t}var Um,Km=Wm;function Zm(){return null!==Um&&Um.apply(this,arguments)||this}zf("column",Wm);Um=Wf,Object(q.__extends)(Zm,Um),Zm.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="column",Um.prototype.createLayers.call(this,e)},Zm.getDefaultOptions=Km.getDefaultOptions;jf("groupedColumn",Xm);var $m,Qm=($m=Km,Object(q.__extends)(Jm,$m),Jm.getDefaultOptions=function(){return Object(U.deepMix)({},$m.getDefaultOptions.call(this),{yAxis:{title:{visible:!0}}})},Jm.prototype.getResponsiveTheme=function(){return this.themeController.getResponsiveTheme("column")},Jm.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},Jm.prototype.addGeometry=function(){$m.prototype.addGeometry.call(this)},Jm.prototype.adjustColumn=function(t){t.adjust=[{type:"dodge",marginRatio:.1}]},Jm.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.groupField]))},Jm);function Jm(){var t=null!==$m&&$m.apply(this,arguments)||this;return t.baseType="column",t.type="groupedColumn",t}var tb,eb=Qm;function nb(){return null!==tb&&tb.apply(this,arguments)||this}zf("groupedColumn",Qm);tb=Wf,Object(q.__extends)(nb,tb),nb.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="groupedColumn",tb.prototype.createLayers.call(this,e)},nb.getDefaultOptions=eb.getDefaultOptions;function ib(t,e){var n=[],i=t.get("origin").points;return Object(U.each)(i,function(t){n.push(e.convertPoint(t))}),n}function rb(t){this.areas=[],this.lines=[],this._areaStyle={},this._lineStyle={},Object(U.assign)(this,t),this._init()}var ob=(rb.prototype.draw=function(){var n=this,t=this._getGroupedShapes();Object(U.each)(t,function(t,e){0<t.length&&n._drawConnection(t,e)}),this.triggerOn?this._addInteraction():this.animation&&this._initialAnimation()},rb.prototype.clear=function(){this.container&&this.container.clear(),this.areas=[],this.lines=[]},rb.prototype.destroy=function(){this.container&&this.container.remove()},rb.prototype.setState=function(t,e){"active"===t&&this._onActive(e),"disabled"===t&&this._onDisabled(e),"selected"===t&&this._onSelected(e)},rb.prototype._init=function(){var t=this,e=this.view.backgroundGroup;this.container=e.addGroup(),this.draw(),this.view.on("beforerender",function(){t.clear()})},rb.prototype._getGroupedShapes=function(){var n=this,t=this.view.getScaleByField(this.field).values,e=this.view.geometries[0].getShapes(),i={};return Object(U.each)(t,function(t){i[t]=[]}),Object(U.each)(e,function(t){var e=t.get("origin").data[n.field];i[e].push(t)}),i},rb.prototype._drawConnection=function(t,e){var n=t[0].attr("fill");this._areaStyle[e]=this._getShapeStyle(n,"area"),this._lineStyle[e]=this._getShapeStyle(n,"line");for(var i=this.view.geometries[0].coordinate,r=0;r<t.length-1;r++){var o=ib(t[r],i),a=ib(t[r+1],i),s=Object(U.mix)({},this._areaStyle[e]),l=Object(U.mix)({},this._lineStyle[e]);this.triggerOn&&(s.opacity=0,l.opacity=0);var c=this.container.addShape("path",{attrs:Object(U.mix)({},s,{path:[["M",o[2].x,o[2].y],["L",a[1].x,a[1].y],["L",a[0].x,a[0].y],["L",o[3].x,o[3].y]]}),name:"connectedArea"}),u=this.container.addShape("path",{attrs:Object(U.mix)({},l,{path:[["M",o[2].x,o[2].y],["L",a[1].x,a[1].y]]}),name:"connectedArea"}),h=t[r].get("origin").data;c.set("data",h),u.set("data",h),this.areas.push(c),this.lines.push(u)}},rb.prototype._getShapeStyle=function(t,e){var n=e+"Style";if(this[n])return this[n];var i={areaStyle:{opacity:.2},lineStyle:{lineWidth:2,opacity:.1}}[n],r="line"===e?{stroke:t}:{fill:t};return Object(U.mix)(i,r)},rb.prototype._addInteraction=function(){var n=this,t=this.triggerOn;this.view.on("interval:"+t,function(t){var e=t.target.get("origin").data[n.field];n.setState("active",{name:n.field,exp:e}),n.setState("disabled",{name:n.field,exp:function(t){return t!==e}}),n.view.canvas.draw()}),this.view.on("mousemove",function(t){"interval"!==t.gEvent.target.get("name")&&n.setState("disabled",{name:n.field,exp:function(){return!0}})})},rb.prototype._initialAnimation=function(){var t=this.view.coordinateBBox,e=t.x,n=t.y,i=t.width,r=t.height;this.container.setClip({type:"rect",attrs:{x:e,y:n,width:0,height:r}}),this.container.set("animating",!0),this.container.getClip().animate({width:i},600,"easeQuadOut",function(){},400)},rb.prototype._onActive=function(r){var o=this;Object(U.each)(this.areas,function(t){var e,n=t.get("data"),i=n[o.field];Jh(n,r)&&(e=o._areaStyle[i].opacity||1,t.stopAnimate(),t.animate({opacity:e},400,"easeQuadOut"))}),Object(U.each)(this.lines,function(t){var e,n=t.get("data"),i=n[o.field];Jh(n,r)&&(e=o._lineStyle[i].opacity||1,t.stopAnimate(),t.animate({opacity:e},400,"easeQuadOut"))})},rb.prototype._onDisabled=function(e){Object(U.each)(this.areas,function(t){Jh(t.get("data"),e)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))}),Object(U.each)(this.lines,function(t){Jh(t.get("data"),e)&&(t.stopAnimate(),t.animate({opacity:0},400,"easeQuadOut"))})},rb.prototype._onSelected=function(t){this._onActive(t)},rb.prototype.getGeometry=function(){return Object(U.find)(this.view.geometries,function(t){return"interval"===t.type})},rb);jf("stackedColumn",Xm);var ab,sb=(ab=Dm,Object(q.__extends)(lb,ab),lb.prototype.adjustLabel=function(t,e){var n,i;this.options.adjustPosition&&(n=t.getBBox(),((i=this.getElementShapeBBox(e)).height<n.height||i.width<n.width)&&t.hide())},lb);function lb(){return null!==ab&&ab.apply(this,arguments)||this}mh("stacked-column",sb);var cb,ub=(cb=Ym,Object(q.__extends)(hb,cb),hb.prototype.shouldInShapeLabels=function(t){return!0},hb);function hb(){return null!==cb&&cb.apply(this,arguments)||this}mh("stacked-column-auto",ub);var pb,fb=(pb=Km,Object(q.__extends)(db,pb),db.getDefaultOptions=function(){return Object(U.deepMix)({},pb.getDefaultOptions.call(this),{legend:{visible:!0,position:"right-top"},label:{visible:!1,position:"middle",offset:0,adjustColor:!0},connectedArea:{visible:!1,triggerOn:"mouseenter"}})},db.prototype.init=function(){this.options.connectedArea.visible&&(this.options.tooltip.crosshairs=null),pb.prototype.init.call(this)},db.prototype.afterRender=function(){var t=this.options;t.connectedArea.visible&&(this.connectedArea=new ob(Object(q.__assign)({view:this.view,field:t.stackField,animation:!1!==t.animation},t.connectedArea))),pb.prototype.afterRender.call(this)},db.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},db.prototype.adjustColumn=function(t){t.adjust=[{type:"stack"}]},db.prototype.renderLabel=function(){var t,e=this.config.scales,n=this.options,i=n.label,r=e[n.yField];i&&i.visible&&(t=tf(this.view,"interval"),this.doRenderLabel(t,Object(q.__assign)({type:"stacked-column",formatter:r.formatter&&function(t){return r.formatter(t)}},this.options.label)))},db.prototype.geometryTooltip=function(){this.column.tooltip={};var t=this.options.tooltip;t.fields&&(this.column.tooltip.fields=t.fields),t.formatter&&(this.column.tooltip.callback=t.formatter,t.fields||(this.column.tooltip.fields=[this.options.xField,this.options.yField,this.options.stackField]))},db);function db(){var t=null!==pb&&pb.apply(this,arguments)||this;return t.type="stackedColumn",t.baseType="column",t}var gb,yb=fb;function vb(){return null!==gb&&gb.apply(this,arguments)||this}zf("stackedColumn",fb);gb=Wf,Object(q.__extends)(vb,gb),vb.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="stackedColumn",gb.prototype.createLayers.call(this,e)},vb.getDefaultOptions=yb.getDefaultOptions;function mb(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(U.deepMix)(e,t,{}),this.options.topStyle||(this.options.topStyle=this.options.style),this.options.bottomStyle||(this.options.bottomStyle=this.options.style),this.init()}var bb,xb=(mb.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},mb.prototype.render=function(){var h=this,t=this.getGeometry(),e=t.coordinate,n=t.elements;this.coord=e,Object(U.each)(n,function(t){var s=t.shape,e=h.getPosition(s),l=h.getValue(s),c=h.getTextBaseline(),u=[];Object(U.each)(e,function(t,e){var n=1===e?h.options.topStyle:h.options.bottomStyle,i=h.getTextColor(s,e);"inner"===h.options.position&&h.options.adjustColor&&"black"!==i&&(n.stroke=null);var r=h.options.formatter,o=r?r(l[e]):l[e],a=h.container.addShape("text",{attrs:Object(U.deepMix)({},n,{x:t.x,y:t.y,text:o,fill:i,textAlign:"center",textBaseline:c[e]}),name:"label"});u.push(a),h.doAnimation(a)}),s.set("labelShapes",u),h.adjustPosition(u[0],u[1],s)}),this.plot.canvas.draw()},mb.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},mb.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},mb.prototype.clear=function(){this.container&&this.container.clear()},mb.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},mb.prototype.getBBox=function(){return this.container.getBBox()},mb.prototype.getShapeBbox=function(t){var e=this,n=[];return Object(U.each)(t.get("origin").points,function(t){n.push(e.coord.convertPoint(t))}),new X(n[0].x,n[1].y,Math.abs(n[2].x-n[0].x),Math.abs(n[0].y-n[1].y))},mb.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{position:"outer",offsetX:0,offsetY:8,style:Object(U.clone)(t),adjustColor:!0,adjustPosition:!0}},mb.prototype.getPosition=function(t){var e,n=this.getShapeBbox(t),i=n.minX,r=n.minY,o=n.maxY,a=n.width,s=this.options.offsetY,l=i+a/2,c="outer"===this.options.position?(e=r-s,o+s):(e=r+s,o-s);return[{x:l,y:c},{x:l,y:e}]},mb.prototype.getValue=function(t){var e=this.plot.options.yField;return t.get("origin").data[e]},mb.prototype.getTextBaseline=function(){return"outer"===this.options.position?["top","bottom"]:["bottom","top"]},mb.prototype.getTextColor=function(t,e){if(this.options.adjustColor&&"inner"===this.options.position){var n=t.attr("fill"),i=t.attr("opacity")?t.attr("opacity"):1,r=Ny(n),o=Math.round(.299*r[0]+.587*r[1]+.114*r[2])/i;return a=[{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],s=o,Object(U.each)(a,function(t){s>=t.from&&s<t.to&&(l=t.color)}),l}var a,s,l;return 1===e?this.options.topStyle.fill:this.options.bottomStyle.fill},mb.prototype.doAnimation=function(t){this.plot.animation&&!1===this.plot.animation||(t.attr("fillOpacity",0),t.attr("strokeOpacity",0),t.stopAnimate(),t.animate({fillOpacity:1,strokeOpacity:1},800,"easeLinear",500))},mb.prototype.adjustPosition=function(t,e,n){var i,r=n.get("origin"),o=r.y[1],a=r.y[0],s=n.getBBox().height,l=this.view.coordinateBBox,c=[t.getBBox(),e.getBBox()],u=t.attr("y"),h=e.attr("y");this.options.adjustPosition&&"inner"===this.options.position&&(i=c[0].height+c[1].height,(2<c[1].maxY-c[0].minY||s<i)&&(h=o-this.options.offsetY,e.attr("fill",this.options.topStyle.fill),e.attr("textBaseline","bottom"),u=a+this.options.offsetY,t.attr("fill",this.options.bottomStyle.fill),t.attr("textBaseline","top"),c[0]=t.getBBox(),c[1]=e.getBBox())),c[0].maxY>l.maxY-8&&(u=l.maxY-4,t.attr("textBaseline","bottom")),t.attr("y",u),e.attr("y",h),this.plot.canvas.draw()},mb.prototype.getGeometry=function(){return Object(U.find)(this.view.geometries,function(t){return"interval"===t.type})},mb);function Ob(t,e){var n=t.getBBox(),i=n.minY+n.height/2;t.setClip({type:"rect",attrs:{x:n.minX,y:i,width:n.width,height:0}}),t.get("clipShape").animate({height:n.height,y:n.minY},e.duration,e.easing,function(){t.setClip(null)},e.delay)}function wb(t,e){var n,i,r=(i=t.id,Object(U.each)(bb,function(t){t.id===i&&(n=t)}),n.attr("path")),o=Object(U.clone)(t.attr("path"));t.attr("path",r),t.animate({path:o},e.duration,e.easing,e.callback,100)}Ob.animationName="clipInFromCenterVertical",wb.animationName="updateFromCenterVertical",vi("clipInFromCenterVertical",Ob),vi("updateFromCenterVertical",wb);var _b,Cb=(_b=Km,Object(q.__extends)(jb,_b),jb.getDefaultOptions=function(){return Object(U.deepMix)(_b.getDefaultOptions.call(this),{label:{visible:!0,position:"outer"}},{})},jb.prototype.afterRender=function(){this.renderLabel();var n=[],t=this.view.geometries;Object(U.each)(t,function(t){var e=t.elements;Object(U.each)(e,function(t){n.push(t.shape)})}),bb=n,_b.prototype.afterRender.call(this)},jb.prototype.animation=function(){_b.prototype.animation.call(this),this.column.animate={appear:{animation:"clipInFromCenterVertical",duration:600},update:{animation:"updateFromCenterVertical",duration:600}}},jb.prototype.renderLabel=function(){this.options.label&&this.options.label.visible&&new xb(Object(q.__assign)({view:this.view,plot:this},this.options.label)).render()},jb);function jb(){var t=null!==_b&&_b.apply(this,arguments)||this;return t.type="rangeColumn",t}var Sb,Mb=Cb;function kb(){return null!==Sb&&Sb.apply(this,arguments)||this}zf("rangeColumn",Cb);Sb=Wf,Object(q.__extends)(kb,Sb),kb.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="rangeColumn",Sb.prototype.createLayers.call(this,e)},kb.getDefaultOptions=Mb.getDefaultOptions;var Tb,Pb=(Tb=yb,Object(q.__extends)(Ab,Tb),Ab.getDefaultOptions=function(){return Object(U.deepMix)({},Tb.getDefaultOptions.call(this),{label:{visible:!0,position:"middle",offset:0},yAxis:{visible:!0,tick:{visible:!1},grid:{visible:!1},title:{visible:!0},label:{visible:!1}}})},Ab.prototype.processData=function(t){var e=this.options,n=e.xField,i=e.yField;return _v(t||[],n,[i])},Ab.prototype.scale=function(){var t={},e=this.options.yField;t[e]={tickCount:6,alias:e+" (%)",min:0,max:1,formatter:function(t){return(100*t).toFixed(1)+"%"}},this.options.meta=Object(U.deepMix)({},this.options.meta,t),Tb.prototype.scale.call(this)},Ab);function Ab(){var t=null!==Tb&&Tb.apply(this,arguments)||this;return t.type="percentStackedColumn",t}var Eb,Lb=Pb;function Ib(){return null!==Eb&&Eb.apply(this,arguments)||this}zf("percentStackedColumn",Pb);Eb=Wf,Object(q.__extends)(Ib,Eb),Ib.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="percentStackedColumn",Eb.prototype.createLayers.call(this,e)},Ib.getDefaultOptions=Lb.getDefaultOptions;var Bb=B({pie:"interval"});function Db(t,e,n){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}Object(U.assign)(L,Bb);function Fb(t,e){this.destroyed=!1,this.plot=t,this.coordinateBBox=this.plot.view.coordinateBBox;var n=Object(U.deepMix)(this.getDefaultOptions(),e,{});this.adjustOption(n),this.options=n,this.init()}var Rb,Nb=(Fb.prototype.adjustOverlap=function(t,r){for(var e,n,i,o,a,s,l=1;l<t.length;l++)for(var c=t[l],u=0,h=l-1;0<=h;h--){var p=t[h],f=p.getBBox(),d=c.getBBox();if(p.get("parent").get("visible")&&(o=f,a=d,(s=void 0)===s&&(s=0),u=Math.max(0,Math.min(o.x+o.width+s,a.x+a.width+s)-Math.max(o.x-s,a.x-s))*Math.max(0,Math.min(o.y+o.height+s,a.y+a.height+s)-Math.max(o.y-s,a.y-s)),e=u,(i=void(n=0))===i&&(i=Math.pow(Number.EPSILON,.5)),!([e,n].includes(1/0)?Math.abs(e)===Math.abs(n):Math.abs(e-n)<i))){c.get("parent").set("visible",!1);break}}t.forEach(function(t){return n=r,i=(e=t).getBBox(),void(n.y<=i.y&&n.y+n.height>=i.y+i.height||e.get("parent").set("visible",!1));var e,n,i})},Fb.prototype.adjustItem=function(t){},Fb.prototype.init=function(){var t=this;this.container=this.getGeometry().labelsContainer,this.plot.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},Fb.prototype.render=function(){this.clear(),this.initArcPoints(),this.drawTexts(),this.drawLines()},Fb.prototype.clear=function(){this.container&&this.container.clear()},Fb.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},Fb.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},Fb.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},Fb.prototype.getFilteredSum=function(){var n=this.plot.options.angleField;return(this.plot.view.filteredData||[]).reduce(function(t,e){return t+e[n]},0)},Fb.prototype.drawTexts=function(){var l=this,t=this.options,c=t.style,u=t.formatter,o=t.autoRotate,h=t.offsetX,p=t.offsetY,e=t.adjustPosition,n=t.allowOverlap,a=this.getItems(),f=[];a.map(function(t,e){var n=Object(U.deepMix)({},t,c),i=l.getFilteredSum(),r=l.plot.options.angleField,o=t.origin[r]/i,a=u?u(t.name,{_origin:t.origin,percent:o},e):t.name,s=l.container.addGroup({name:"itemGroup",index:e,capture:!1}).addShape("text",{attrs:Object(U.deepMix)({},n,{x:t.x+h,y:t.y+p,text:a})});s.set("id","text-"+t.name+"-"+e),f.push(s)}),f.forEach(function(t){var e=l.coordinateBBox;l.adjustText(t,e)}),e&&this.layout(f,a,this.coordinateBBox),n||this.adjustOverlap(f,this.coordinateBBox),f.forEach(function(t,e){var n,i,r;o&&l.rotateLabel(t,(n=a[e].angle,((i=Math.PI/2)<(r=n)||r<-i)&&(r+=Math.PI),r))})},Fb.prototype.adjustText=function(e,t){var n,i,r=e.getBBox(),o=r.width;r.maxX>t.maxX?o=t.maxX-r.minX:r.minX<t.minX&&(o=r.maxX-t.minX),"left"===e.attr("textAlign")?e.attr("x",Math.max(+r.x,0)):"right"===e.attr("textAlign")&&e.attr("x",Math.max(+r.maxX,0)),o!==r.width&&(n={},["fontSize","fontFamily","fontWeight"].forEach(function(t){n[t]=e.attr(t)}),i=e.attr("text").split("\n").map(function(t){return Gp(t,o,n)}),e.attr("text",i.join("\n")))},Fb.prototype.drawLines=function(){var t,l,c=this;this.options.line.visible&&(t=this.container.get("children"),l=this.getCoordinate().center,t.forEach(function(t,e){var n=t.get("children")[0],i=c.arcPoints[e],r=i.x<l.x,o=4<c.options.offset?4:0,a=c.getLinePath(n,i,o),s=c.options.line;t.addShape("path",{attrs:Object(q.__assign)({path:a,stroke:i.color},s)}),n.attr("x",n.attr("x")+(r?-o:o))}))},Fb.prototype.getLinePath=function(t,e,n){var i=!!this.options.line&&this.options.line.smooth,r=e.angle,o=this.getCoordinate(),a=o.center,s=Db(a,r,o.radius+n);n<4&&(s=e);var l=e.x<a.x,c=t.getBBox(),u={x:l?c.maxX:c.minX,y:c.y+c.height/2},h=["C",u.x+(l?1:-1)*(n<4?n/2:4),u.y,2*s.x-e.x,2*s.y-e.y,s.x,s.y],p=["L",s.x,s.y],f=i?h:p;return["M",u.x,u.y].concat(f).concat("L",e.x,e.y).join(",")},Fb.prototype.getGeometry=function(){return this.plot.view.geometries[0]},Fb.prototype.getCoordinate=function(){var t=this.getGeometry().coordinate;return{center:t.getCenter(),radius:t.getRadius(),startAngle:t.startAngle}},Fb.prototype.adjustOption=function(t){var e,n=t.offset,i=this.getCoordinate().radius;Object(U.isString)(n)&&(n=i*(e=n,Number(e.endsWith("%")?e.slice(0,-1):e)/100)),t.offset=n},Fb.prototype.rotateLabel=function(t,e){var n=t.attr("x"),i=t.attr("y"),r=Rt.ext.transform(t.getMatrix(),[["t",-n,-i],["r",e],["t",n,i]]);t.setMatrix(r)},Fb.prototype.getItems=function(){var i=this,r=this.options.offset,t=this.getCoordinate(),o=t.center,a=t.radius;return this.arcPoints.map(function(t){var e=Db(o,t.angle,a+r),n=Object(q.__assign)(Object(q.__assign)({},t),e);return i.adjustItem(n),n})},Fb.prototype.initArcPoints=function(){var h=this,p=this.plot.options.angleField,t=this.getGeometry().elements,e=this.getCoordinate(),f=e.center,d=e.radius,g=this.getCoordinate().startAngle,y=this.getGeometry().attributes.position.scales[1],v=y.field,n=t.map(function(t){var e=t.shape.get("origin"),n=e.color,i=e.data[0]||e.data,r=g+2*Math.PI*y.scale(i[v]),o=Db(f,(g+r)/2,d);g=r;var a,s,l,c=y.getText(i[p]),u=o.x>f.x?"left":"right";return{x:o.x,y:o.y,color:n,name:c,origin:i,angle:(a=h.getGeometry().coordinate,s=o,l=a.getCenter(),Math.atan2(s.y-l.y,s.x-l.x)),textAlign:u}});this.arcPoints=n},Fb);function Yb(){return null!==Rb&&Rb.apply(this,arguments)||this}var Vb;function Xb(){return null!==Vb&&Vb.apply(this,arguments)||this}var Gb;function zb(){return null!==Gb&&Gb.apply(this,arguments)||this}var Hb={inner:(Rb=Nb,Object(q.__extends)(Yb,Rb),Yb.prototype.adjustOption=function(t){Rb.prototype.adjustOption.call(this,t),0<t.offset&&(t.offset=0)},Yb.prototype.adjustItem=function(t){t.textAlign="middle"},Yb.prototype.drawLines=function(){},Yb.prototype.layout=function(t,i){var r=this;t.forEach(function(e,n){0<n&&Object(U.each)(t.slice(0,n),function(t){r.resolveCollision(e,t,i[n])})})},Yb.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:"-30%",style:Object(q.__assign)(Object(q.__assign)({},t),{textAlign:"center",textBaseline:"middle"})}},Yb.prototype.resolveCollision=function(t,e,n){var i,r,o,a,s,l=this.getCoordinate().center,c=n.angle,u=t.getBBox(),h=e.getBBox(),p={x:(u.minX+u.maxX)/2,y:(u.minY+u.maxY)/2},f=Object(U.clone)(p),d=Object(U.clone)(p);e.get("id")!==t.get("id")&&(r=(i=function(t,e,n){void 0===n&&(n=0);var i=Math.max(0,Math.min(t.x+t.width+n,e.x+e.width+n)-Math.max(t.x-n,e.x-n)),r=Math.max(0,Math.min(t.y+t.height+n,e.y+e.height+n)-Math.max(t.y-n,e.y-n));return i&&t.x<e.x&&(i=-i),r&&t.y<e.y&&(r=-r),t.x===e.x&&t.width===e.width&&(i=e.width),t.y===e.y&&t.height===e.height&&(r=e.height),{xOverlap:i,yOverlap:r}}(u,h)).xOverlap,o=i.yOverlap,r&&(f.x=p.x+r,f.y=p.y+Math.tan(c)*r),o&&(a=o,a=p.y<l.y?a<0?a:h.minY-u.maxY:0<a?a:h.maxY-u.minY,d.y=p.y+a,d.x=p.x+a/Math.tan(c)),s=Ph(p,f)<Ph(p,d)?f:d,t.attr("x",s.x),t.attr("y",s.y))},Yb),outer:(Vb=Nb,Object(q.__extends)(Xb,Vb),Xb.prototype.adjustOption=function(t){Vb.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},Xb.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:12,style:Object(q.__assign)(Object(q.__assign)({},t),{textBaseline:"middle"})}},Xb.prototype.layout=function(t,e,n){var i=this,r=this.getCoordinate().center,o=Object(U.filter)(t,function(t){return t.attr("x")<=r.x});[Object(U.filter)(t,function(t){return t.attr("x")>r.x}),o].forEach(function(t,e){i._antiCollision(t,!e,n)})},Xb.prototype._antiCollision=function(o,p,a){var f=this,n=this.getLabelHeight(o),t=this.getCoordinate(),d=t.center,g=t.radius,s=this.options.offset,l=g+s,e=Math.min(a.height,Math.max(2*l+2*n,o.length*n)),i=Math.floor(e/n);this.options.allowOverlap||o.slice(i).forEach(function(t){t.get("parent").set("visible",!1)}),o.splice(i,o.length-i),o.sort(function(t,e){return t.getBBox().y-e.getBBox().y});for(var r,c,u,h,y=!0,v=d.y+e/2,m=d.y-e/2,b=o.map(function(t){var e=t.getBBox();return e.maxY>v&&(v=Math.min(a.maxY,e.maxY)),e.minY<m&&(m=Math.max(a.minY,e.minY)),{text:t.attr("text"),size:n,pos:e.y,targets:[]}}),x=0;x<b.length;)x===b.length-1?b[x].targets[0]=v:b[x].targets[0]=b[x+1].pos-b[x+1].size/2,x++;for(;y;)for(b.forEach(function(t){var e=Object(U.last)(t.targets);t.pos=Math.max(m,Math.min(t.pos,e-t.size))}),y=!1,r=b.length;r--;){0<r&&(c=b[r-1],u=b[r],c.pos+c.size>u.pos?(c.size+=u.size,c.targets=c.targets.concat(u.targets),h=Object(U.last)(c.targets),c.pos+c.size>h&&(c.pos=h-c.size),b.splice(r,1),y=!0):c.targets.splice(-1,1,u.pos))}r=0,b.forEach(function(t){var e=n/2;t.targets.forEach(function(){o[r].attr("y",t.pos+e),e+=n,r++})});var O=[],w=[];o.forEach(function(t,e){var n=f.arcPoints[e];0<=n.angle&&n.angle<=Math.PI?w.push(t):O.push(t)}),[O,w].forEach(function(t,e){var n,c,i,r,u,h;t.length&&(n=e?Object(U.last)(t).getBBox().maxY-d.y:d.y-Object(U.head)(t).getBBox().minY,n=Math.max(l,n),c=4<s?4:0,i=Math.max.apply(0,Object(U.map)(o,function(t){return t.getBBox().width}))+s+c,r=Math.max(l,Math.min((n+l)/2,d.x-(a.minX+i))),u=r*r,h=n*n,t.forEach(function(t,e){var n,i=f.arcPoints[e],r=t.getBBox(),o=(r.minX,r.width,r.minY+r.height/2),a=Math.pow(o-d.y,2),s=Db(d,i.angle,g),l=(p?1:-1)*c*2;h<a?(console.warn("()",t.attr("text")),t.attr("x",s.x+l)):(n=d.x+(p?1:-1)*Math.sqrt((1-a/h)*u),(d.x===s.x&&o===s.y||d.y===s.y&&n===s.x)&&(n=s.x),t.attr("x",n+l))}))})},Xb.prototype.getLabelHeight=function(t){return this.options.labelHeight?this.options.labelHeight:Object(U.head)(t)?Object(U.head)(t).getBBox().height:14},Xb),"outer-center":(Gb=Nb,Object(q.__extends)(zb,Gb),zb.prototype.adjustOption=function(t){Gb.prototype.adjustOption.call(this,t),t.offset<0&&(t.offset=0)},zb.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,offset:12,style:Object(q.__assign)(Object(q.__assign)({},t),{textBaseline:"middle"})}},zb.prototype.adjustItem=function(t){var e=this.options.offset;"left"===t.textAlign?t.x+=4<e?4:e/2:"right"===t.textAlign&&(t.x-=4<e?4:e/2)},zb.prototype.layout=function(t,e,n){},zb)};function Wb(t,e,n){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}function qb(t){this.destroyed=!1,this.view=t.view,this.options=Object(U.deepMix)({},this.getDefaultOptions(),t),this._adjustOptions(this.options),this.init()}var Ub=(qb.prototype.init=function(){var t=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){t.clear()})},qb.prototype.render=function(){var e=this;if(this.view&&!this.view.destroyed){var m=Object(U.clone)(this.view.getData());this.halves=[[],[]];var b=[],t=this.view.geometries[0].elements;Object(U.each)(t,function(t){b.push(t.shape)}),this.coord=this.view.geometries[0].coordinate;var x=this.options.fields[0],O=this.view.getScalesByDim("y")[x],w=this.coord.getCenter(),n=this.coord.startAngle,_=this.coord.polarRadius,i=this.view.coordinateBBox,r=i.width,o=i.height;this.width=r,this.height=o;for(var C=n,j=this,a=0;a<m.length;a++)!function(t){var e=m[t],n=O.scale(e[x]),i=C+2*Math.PI*n,r=C+(i-C)/2;C=i;var o,a,s,l=Wb(w,r,_+0),c=Wb(w,r,_+15),u="#CCC";2===j.options.fields.length&&(o=j.options.fields[1],(a=j.view.geometries[0].scales[o].scale(e[o]))&&(s=Math.floor(a*(b.length-1)),u=b[s].attr("fill")));var h,p={_anchor:l,_inflection:c,_data:e,x:c.x,y:c.y,r:_+15,fill:u,textGroup:null,_side:null},f=[];Object(U.each)(j.options.fields,function(t){f.push(e[t])}),j.options.formatter&&(h=j.options.formatter(e[x],{_origin:e,color:u},t),Object(U.isString)(h)&&(h=[h]),f=h);var d=j.container.addGroup({capture:!1}),g={x:0,y:0,fontSize:j.options.text.fontSize,lineHeight:j.options.text.fontSize,fontWeight:j.options.text.fontWeight,fill:j.options.text.fill},y=e[x];j.options.formatter&&(y=f[0]);var v=Object(U.clone)(g);2===f.length&&(v.fontWeight=700),d.addShape("text",{attrs:Object(U.mix)({textBaseline:2===f.length?"top":"middle",text:y},v),data:e,offsetY:2===f.length?2:0,name:"label"}).name="label",2===f.length&&(d.addShape("text",{attrs:Object(U.mix)({textBaseline:"bottom",text:f[1]},g),data:e,offsetY:-2,name:"label"}).name="label"),p.textGroup=d,l.x<w.x?(p._side="left",j.halves[0].push(p)):(p._side="right",j.halves[1].push(p))}(a);var s=Math.floor(o/this.options.lineHeight);Object(U.each)(this.halves,function(t){t.length>s&&t.splice(s,t.length-s),t.sort(function(t,e){return t.y-e.y}),e._antiCollision(t)}),this.view.canvas.draw()}},qb.prototype.clear=function(){this.container&&this.container.clear()},qb.prototype.hide=function(){this.container.set("visible",!1),this.view.canvas.draw()},qb.prototype.show=function(){this.container.set("visible",!0),this.view.canvas.draw()},qb.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},qb.prototype.getDefaultOptions=function(){return{text:{fill:"rgba(0, 0, 0, 0.65)",fontSize:12},line:{lineWidth:.5,stroke:"rgba(0, 0, 0, 0.45)"},lineHeight:32,sidePadding:20}},qb.prototype._antiCollision=function(n){var i,r=this,t=this.coord,e=t.getHeight(),o=t.center,a=t.getRadius(),s=o.y-a-15-this.options.lineHeight,l=!0,c=e,u=0,h=Number.MIN_VALUE,p=0,f=n.map(function(t){var e=t.y;u<e&&(u=e),e<h&&(h=e);var n=t.textGroup.getBBox().width;return p<=n&&(p=n),{size:r.options.lineHeight,targets:[e-s]}});c<u-s&&(c=u-s);for(var d,g;l;)for(f.forEach(function(t){var e=(Math.min.apply(h,t.targets)+Math.max.apply(h,t.targets))/2;t.pos=Math.min(Math.max(h,e-t.size/2),c-t.size)}),l=!1,i=f.length;i--;){0<i&&(d=f[i-1],g=f[i],d.pos+d.size>g.pos&&(d.size+=g.size,d.targets=d.targets.concat(g.targets),d.pos+d.size>c&&(d.pos=c-d.size),f.splice(i,1),l=!0))}i=0,f.forEach(function(t){var e=s;t.targets.forEach(function(){n[i].y=t.pos+e+r.options.lineHeight/2,e+=r.options.lineHeight,i++})});var y=[];n.forEach(function(t){var e=r._drawLabel(t);r._drawLabelLine(t,p,e),y.push(e)})},qb.prototype._drawLabel=function(t){var e=this.coord,n=e.getCenter(),i=e.getRadius(),r=t.y,o=t.textGroup,a=o.get("children"),s="left"===t._side?1:-1,l=Object(q.__assign)({textAlign:"left"===t._side?"right":"left",x:"left"===t._side?n.x-i-this.options.sidePadding:n.x+i+this.options.sidePadding},this.options.style);return this.options.offsetX&&(l.x+=this.options.offsetX*s),a.forEach(function(t){var e=t.get("offsetY"),n=r+e;t.attr(l),t.attr("y",n)}),o},qb.prototype._drawLabelLine=function(t,e,n){var i=[t._anchor.x,t._anchor.y],r=[t._inflection.x,t._inflection.y],o=t.y,a=t.textGroup;if(a){var s,l,c,u=["left"===t._side?a.getBBox().maxX+4:a.getBBox().minX-4,o],h=[i,r,u];r[1]!==o&&(r[1]<this.height/2&&r[1]<o||r[1]>=this.height/2&&o<r[1]?(s=u[0]+15,l=u[0]-15,h=[i,r,c=["left"===t._side?s:l,r[1]],u],("right"===t._side&&c[0]<r[0]||"left"===t._side&&r[0]<c[0])&&(h=[i,r,u])):h=[i,[r[0],o],u]);for(var p=[],f=0;f<h.length;f++){var d=h[f],g=0===f?"M":"L";p.push([g,d[0],d[1]])}n.addShape("path",{attrs:{path:p,lineWidth:this.options.line.lineWidth,stroke:this.options.line.stroke}})}},qb.prototype._adjustOptions=function(t){t.text.fontSize&&(t.lineHeight=3*t.text.fontSize)},qb);jf("pie",{columnStyle:{normal:{},active:function(t){return{fillOpacity:.8*(t.opacity||1)}},disable:function(t){return{fillOpacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}});var Kb,Zb="$$percentage$$",$b={pie:"interval"},Qb={pie:"column"},Jb=(Kb=Df,Object(q.__extends)(tx,Kb),tx.getDefaultOptions=function(){return Object(U.deepMix)({},Kb.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,label:{visible:!0,type:"inner",autoRotate:!1,adjustPosition:!0,allowOverlap:!1,line:{visible:!0,smooth:!0}},legend:{visible:!0,position:"right-center"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},pieStyle:{stroke:"white",lineWidth:1}})},tx.prototype.afterInit=function(){var t=this.options,e=t.angleField,n=t.colorField,i=t.data;Object(U.every)(i,function(t){return 0===t[e]})&&this.view.geometries[0].tooltip(n+"*"+e)},tx.prototype.afterRender=function(){Kb.prototype.afterRender.call(this);var t,e,n=this.options;n.label&&n.label.visible&&(this.labelComponent&&this.labelComponent.clear(),"spider"===(t=n.label).type?this.labelComponent=new Ub(Object(q.__assign)({view:this.view,fields:n.colorField?[n.angleField,n.colorField]:[n.angleField]},this.options.label)):(e=function(t){if(Hb[t])return Hb[t];console.warn("this label "+t+" is not registered")}(t.type),this.labelComponent=new e(this,n.label)),this.labelComponent.render())},tx.prototype.getAngleScale=function(){var t=this.options.angleField;if(t)return this.view.getScaleByField(t)},tx.prototype.geometryParser=function(t,e){return"g2"===t?$b[e]:Qb[e]},tx.prototype.scale=function(){var t=this.options;Kb.prototype.scale.call(this);var e={};e[t.angleField]={},e[t.colorField]={type:"cat"},e=Object(U.deepMix)({},this.config.scales,e),this.setConfig("scales",e)},tx.prototype.processData=function(n){var i=this.options.angleField;return Object(U.every)(n,function(t){return 0===t[i]})?n.map(function(t){var e;return Object(q.__assign)(Object(q.__assign)({},t),((e={})[i]="string"==typeof t[i]?Number.parseFloat(t[i]):t[i],e[Zb]=1/n.length,e))}):n.map(function(t){var e,n=t[i];return Object(q.__assign)(Object(q.__assign)({},t),((e={})[i]=n&&!isNaN(n)?+n:n,e))})},tx.prototype.axis=function(){},tx.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},tx.prototype.addGeometry=function(){var t=this.options,e=t.data,n=t.angleField,i=kd("interval","main",Object(U.every)(e,function(t){return 0===t[n]})?{plot:this,positionFields:[1,Zb]}:{plot:this,positionFields:[1,t.angleField]});i.adjust=[{type:"stack"}],this.pie=i,t.label&&this.label(),t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",i)},tx.prototype.geometryTooltip=function(){this.pie.tooltip={};var t=this.options.tooltip;t.fields?this.pie.tooltip.fields=t.fields:this.pie.tooltip.fields=[this.options.angleField,this.options.colorField],t.formatter&&(this.pie.tooltip.callback=t.formatter,t.fields||(this.pie.tooltip.fields=[this.options.angleField,this.options.colorField]))},tx.prototype.animation=function(){Kb.prototype.animation.call(this),!1===this.options.animation&&(this.pie.animate=!1)},tx.prototype.annotation=function(){},tx.prototype.parseEvents=function(t){t?Kb.prototype.parseEvents.call(this,t):Kb.prototype.parseEvents.call(this,u)},tx.prototype.label=function(){this.pie.label=!1},tx);function tx(){var t=null!==Kb&&Kb.apply(this,arguments)||this;return t.type="pie",t}var ex,nx=Jb;function ix(){return null!==ex&&ex.apply(this,arguments)||this}zf("pie",Jb);ex=Wf,Object(q.__extends)(ix,ex),ix.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="pie",ex.prototype.createLayers.call(this,e)},ix.prototype.getAngleScale=function(){return this.layers[0].getAngleScale()},ix.getDefaultOptions=nx.getDefaultOptions;var rx,ox="_origin";function ax(t){var e=rx.call(this,t)||this;return e.type="heatmap",e.paletteCache={},e.intensity=t.intensity,e.radius=t.radius,e}Hn("linearHeatmap",(rx=Xi,Object(q.__extends)(ax,rx),ax.prototype.createElements=function(t){var e=this.prepareRange(t);return this.prepareSize(),this.prepareBlur(),this.prepareGreyScaleBlurredCircle(this.radius),this.drawWithRange(t,e),null},ax.prototype.clear=function(){this.clearShadowCanvasCtx(),rx.prototype.clear.call(this)},ax.prototype.prepareRange=function(t){var n=this.getAttribute("color").getFields()[0],i=1/0,r=-1/0;return t.forEach(function(t){var e=t[ox][n];r<e&&(r=e),e<i&&(i=e)}),i===r&&(i=r-1),[i,r]},ax.prototype.prepareSize=function(){var t=this.radius;this.radius||(t=this.getDefaultValue("size"),Object(U.isNumber)(t)||(t=this.getDefaultSize()),this.radius=t)},ax.prototype.prepareBlur=function(){var t=Object(U.get)(this.styleOption,["style","shadowBlur"]);Object(U.isNumber)(t)||(t=this.radius/2),this.blur=t},ax.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(4*t.scales[0].ticks.length),e.getHeight()/(4*t.scales[1].ticks.length))},ax.prototype.colorize=function(t){for(var e=this.getAttribute("color"),n=t.data,i=this.paletteCache,r=3;r<n.length;r+=4){var o,a=n[r];a&&(o=void 0,i[a]?o=i[a]:(o=Ny(e.gradient(a/256)),i[a]=o),n[r-3]=o[0],n[r-2]=o[1],n[r-1]=o[2],n[r]=a)}},ax.prototype.prepareGreyScaleBlurredCircle=function(t){var e=this.grayScaleCanvas;e||(e=document.createElement("canvas"),this.grayScaleCanvas=e);var n=this.intensity?this.intensity:2,i=Math.sqrt(-2*Math.log(1/255/16/t/n/.3989422804014327))/3*t,r=i-t,o=i+r,a=e.getContext("2d");e.width=e.height=2*o,a.clearRect(0,0,e.width,e.height),a.shadowOffsetX=a.shadowOffsetY=2*o,a.shadowBlur=r,a.shadowColor="black",a.beginPath(),a.arc(-o,-o,t,0,2*Math.PI,!0),a.closePath(),a.fill()},ax.prototype.drawGrayScaleBlurredCircle=function(t,e,n,i,r){var o=this.grayScaleCanvas;r.globalAlpha=i,r.drawImage(o,t-n,e-n)},ax.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight();var e=t.getContext("2d");return e.globalCompositeOperation="lighter",e},ax.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},ax.prototype.getImageShape=function(){if(t=this.imageShape)return t;var t=this.container.addShape({type:"image",attrs:{}});this.imageShape=t},ax.prototype.drawWithRange=function(t,e){var n=this.coordinate,i=n.start,r=n.end,o=this.coordinate.getWidth(),a=this.coordinate.getHeight(),s=this.getAttribute("color").getFields()[0];this.clearShadowCanvasCtx();var l=this.getShadowCanvasCtx();e&&(t=t.filter(function(t){return t[ox][s]<=e[1]&&t[ox][s]>=e[0]}));for(var c=this.scales[s],u=0;u<t.length;u++){var h=t[u],p=this.getDrawCfg(h),f=c.scale(h[ox][s]);this.drawGrayScaleBlurredCircle(p.x-i.x,p.y-r.y,this.radius+this.blur,f,l)}var d=l.getImageData(0,0,o,a);this.clearShadowCanvasCtx(),this.colorize(d),l.putImageData(d,0,0),(new Image).src=l.canvas.toDataURL("image/png"),this.getImageShape(),this.imageShape.attr("x",i.x),this.imageShape.attr("y",r.y),this.imageShape.attr("width",o),this.imageShape.attr("height",a),this.imageShape.attr("img",l.canvas),this.imageShape.set("origin",this.getShapeInfo(t))},ax.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]);return Object(q.__assign)(Object(q.__assign)({},e),{mappingData:t,data:this.getData(t)})},ax.prototype.getData=function(t){return t.map(function(t){return t[ox]})},ax));var sx,lx=(sx=k.default,Object(q.__extends)(cx,sx),cx.prototype.init=function(){var t=this.getCoordinate();this.width=t.getWidth(),this.height=t.getHeight(),this.x=t.start.x,this.y=t.end.y,this.container=this.view.backgroundGroup.addGroup({})},cx.prototype.render=function(){var t;"color"===this.options.type?this.renderColorBackground():"image"===this.options.type?this.renderImageBackground():this.options.callback&&(t={x:this.x,y:this.y,width:this.width,height:this.height,container:this.container},this.options.callback(t))},cx.prototype.renderColorBackground=function(){this.container.addShape("rect",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,fill:this.options.value},name:"heatmap-background"})},cx.prototype.renderImageBackground=function(){this.container.addShape("image",{attrs:{x:this.x,y:this.y,width:this.width,height:this.height,img:this.options.src},name:"heatmap-background"})},cx.prototype.clear=function(){this.container&&(this.container.clear(),this.emit("background:clear"))},cx.prototype.destroy=function(){this.container&&(this.container.remove(),this.emit("background:destroy"))},cx.prototype.getCoordinate=function(){var e;return Object(U.each)(this.view.geometries,function(t){"heatmap"===t.type&&(e=t.coordinate)}),e},cx);function cx(t){var e=sx.call(this)||this;return e.options=t,e.view=e.options.view,e.init(),e}function ux(t){this.destroyed=!1,this.dataSlides={};var e=this.getDefaultOptions();t.plot.options.theme&&"dark"===t.plot.options.theme&&(e=this.getDarkOptions()),this.options=Object(U.deepMix)({},e,t),this.view=this.options.view,this.afterRender=!0,this.init()}var hx={background:{Ctr:lx},legend:{Ctr:(ux.prototype.init=function(){this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var t=this.options.plot.container;this.container=t.addGroup()},ux.prototype.render=function(){var t=this.getScales(),e=this.options.plot.options.colorField;this.colorScale=t[e];var n=this.colorScale,i=n.min,r=n.max,o=this.options.plot.options.color;"horizontal"===this.layout?this.renderHorizontal(i,r,o):this.renderVertical(i,r,o),this.legendLayout(),this.addInteraction(),this.options.plot.canvas.draw()},ux.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},ux.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},ux.prototype.clear=function(){this.container&&this.container.clear()},ux.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},ux.prototype.getBBox=function(){var t=this.container.getBBox();return new X(this.x,this.y,t.width,t.height)},ux.prototype.renderVertical=function(t,o,e){var a=this,s=this.width,l=this.height/e.length,c=this.container.addGroup(),n=Object(U.clone)(e).reverse(),u=(o-t)/e.length;Object(U.each)(n,function(t,e){var n=l*e,i={to:o-u*e,from:o-u*(e+1)};a.container.addShape("rect",{attrs:{x:0,y:n,width:s,height:l,fill:t,opacity:1,cursor:"pointer"},name:"legend"}).set("info",i);var r=a.getDataSlide(i);a.dataSlides[i.from+"-"+i.to]={mode:"active",data:r},c.addShape("path",{attrs:Object(q.__assign)({path:[["M",0,n+l],["L",s,n+l]]},a.options.gridlineStyle)})}),this.container.addShape("text",{attrs:Object(q.__assign)({text:o,x:s/2,y:-4,textAlign:"center",textBaseline:"bottom"},this.options.text.style),name:"legend-label"}),this.container.addShape("text",{attrs:Object(q.__assign)(Object(q.__assign)({text:t,x:s/2,y:this.height+4,textAlign:"center",textBaseline:"top"},this.options.text.style),{name:"legend-label"})}),c.addShape("path",{attrs:Object(q.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},ux.prototype.renderHorizontal=function(t,e,n){var r=this,o=this.width/n.length,a=this.height,s=this.container.addGroup(),l=(e-t)/n.length;Object(U.each)(n,function(t,e){var n=o*e,i={from:l*e,to:l*(e+1)};r.container.addShape("rect",{attrs:{x:n,y:0,width:o,height:a,fill:t,opacity:.8,cursor:"pointer"},name:"legend"}).set("info",i),s.addShape("path",{attrs:Object(q.__assign)({path:[["M",n+o,0],["L",n+o,a]]},r.options.gridlineStyle)})}),this.container.addShape("text",{attrs:Object(q.__assign)(Object(q.__assign)({text:t,x:-4,y:a/2},this.options.text.style),{textAlign:"right",textBaseline:"middle"}),name:"legend-label"}),this.container.addShape("text",{attrs:Object(q.__assign)({text:e,x:this.width+4,y:a/2,textAlign:"left",textBaseline:"middle"},this.options.text.style),name:"legend-label"}),s.addShape("path",{attrs:Object(q.__assign)({path:[["M",0,0],["L",this.width,0],["L",this.width,this.height],["L",0,this.height],["L",0,0]]},this.options.gridlineStyle)})},ux.prototype.getLayout=function(){var t=this.options.position.split("-");return this.position=t[0],"left"===t[0]||"right"===t[0]?"vertical":"horizontal"},ux.prototype.getDefaultWidth=function(){return"horizontal"!==this.layout?10:.5*this.options.plot.options.width},ux.prototype.getDefaultHeight=function(){return"vertical"!==this.layout?10:.5*this.options.plot.options.height},ux.prototype.legendLayout=function(){var n=this,i=this.options.plot.getPlotTheme().bleeding;Object(U.isArray)(i)&&Object(U.each)(i,function(t,e){"function"==typeof i[e]&&(i[e]=i[e](n.options.plot.options))});var t=this.container.getBBox(),e=0,r=0,o=this.options.position.split("-"),a=this.options.plot.width,s=this.options.plot.height;"left"===o[0]?e=i[3]:"right"===o[0]?e=a-i[1]-t.width:"center"===o[1]?e=(a-t.width)/2:"left"===o[1]?e=i[3]:"right"===o[1]&&(e=this.options.plot.width-i[1]-t.width),"bottom"===o[0]?r=s-i[2]-t.height:"top"===o[0]?r=this.getTopPosition(i):"center"===o[1]?r=(s-t.height)/2:"top"===o[1]?r=i[0]:"bottom"===o[1]&&(r=s-i[2]-t.height),this.x=e,this.y=r,this.container.translate(e,r)},ux.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.45)"}}},ux.prototype.getDarkOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(255, 255, 255, 0.45)"}},gridlineStyle:{lineWidth:1,stroke:"rgba(255, 255, 255, 0.25)"}}},ux.prototype.addInteraction=function(){var a=this,s=this.options.plot.options.colorField;this.container.on("click",function(t){var e,n,i,r,o=t.target;"legend"===o.get("name")&&(n=(e=o.get("info")).from+"-"+e.to,"active"===(i=a.dataSlides[n]).mode?(i.mode="deactive",o.stopAnimate(),o.animate({opacity:.1},200)):(i.mode="active",o.stopAnimate(),o.animate({opacity:1},200)),0<(r=a.getFilteredData()).length&&(a.view.changeData(r),a.view.scale(s,{min:a.colorScale.min,max:a.colorScale.max,nice:a.colorScale.nice}),a.view.render()))})},ux.prototype.getFilteredData=function(){var e=[];return Object(U.each)(this.dataSlides,function(t){"active"==t.mode&&e.push.apply(e,t.data)}),e},ux.prototype.getDataSlide=function(n){var i=[],t=this.options.plot.options,r=t.colorField,e=t.data;return Object(U.each)(e,function(t){var e=t[r];e>=n.from&&e<n.to&&i.push(t)}),i},ux.prototype.getTopPosition=function(t){return this.options.plot.description?this.options.plot.description.getBBox().maxY+10:this.options.plot.title?this.options.plot.title.getBBox().maxY+10:t[0]},ux.prototype.getScales=function(){var e;return Object(U.each)(this.view.geometries,function(t){"heatmap"===t.type&&(e=t.scales)}),e},ux),padding:"outer"}};var px=B({heatmap:"heatmap",legendLabel:"legend-label",heatmapBackground:"heatmap-background"});Object(U.assign)(L,px);var fx,dx=(fx=Df,Object(q.__extends)(gx,fx),gx.getDefaultOptions=function(){return Object(U.deepMix)({},fx.getDefaultOptions.call(this),{xAxis:{visible:!0,autoRotateTitle:!1,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1,spacing:12}},yAxis:{visible:!0,autoRotateTitle:!0,grid:{visible:!1},line:{visible:!0},tickLine:{visible:!0},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{visible:!1,spacing:12}},tooltip:{visible:!0,showCrosshairs:!0,crosshairs:{type:"xy",line:{style:{stroke:"#000000",lineWidth:1,opacity:.5}}},showMarkers:!1},legend:{visible:!0,position:"bottom-center"},color:["rgba(33,102,172,0)","rgb(103,169,207)","rgb(209,229,240)","rgb(253,219,199)","rgb(239,138,98)","rgb(178,24,43)"],interactions:[{type:"tooltip"}]})},gx.prototype.afterRender=function(){this.renderPlotComponents(),fx.prototype.afterRender.call(this)},gx.prototype.destroy=function(){Object(U.each)(this.plotComponents,function(t){t.destroy()}),fx.prototype.destroy.call(this)},gx.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},Object(U.has)(t,"xAxis")&&Td(e[t.xField],t.xAxis),e[t.yField]={},Object(U.has)(t,"yAxis")&&Td(e[t.yField],t.yAxis),this.setConfig("scales",e),fx.prototype.scale.call(this)},gx.prototype.coord=function(){},gx.prototype.geometryParser=function(){return"heatmap"},gx.prototype.addGeometry=function(){var t;1<this.options.data.length&&(t={type:"linearheatmap",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},cfg:{intensity:this.options.intensity,radius:this.options.radius}},this.options.radius&&(t.radius=this.options.radius),this.options.intensity&&(t.intensity=this.options.intensity),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t),this.addPoint())},gx.prototype.addPoint=function(){var t=this.options,e={visible:!1,size:0};t.point&&t.point.visible?t.point=Object(U.deepMix)(e,t.point):t.point=e;var n=kd("point","guide",{plot:this});n.active=!1,this.setConfig("geometry",n)},gx.prototype.extractLabel=function(){var t=this.options,e=t.label;return(!e||!1!==e.visible)&&hp("label",Object(q.__assign)({plot:this,labelType:"scatterLabel",fields:[t.xField,t.yField],position:"middle",offset:0},e))},gx.prototype.legend=function(){this.setConfig("legends",!1)},gx.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},gx.prototype.parseEvents=function(){fx.prototype.parseEvents.call(this,h)},gx.prototype.renderPlotComponents=function(){var i=this;Object(U.each)(this.plotComponents,function(t){t.destroy()});Object(U.each)(["legend","background"],function(t){var e=Object(q.__assign)({view:i.view,plot:i},i.options[t]),n=function(t,e,n){if(t.options[e]&&t.options[e].visible){var i=hx[e],r=new i.Ctr(n);return i.padding&&t.paddingController.registerPadding(r,i.padding),r}}(i,t,e);n&&(n.render(),i.plotComponents.push(n))})},gx);function gx(){var t=null!==fx&&fx.apply(this,arguments)||this;return t.type="densityHeatmap",t.plotComponents=[],t}var yx,vx=dx;function mx(){return null!==yx&&yx.apply(this,arguments)||this}zf("densityHeatmap",dx);yx=Wf,Object(q.__extends)(mx,yx),mx.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="densityHeatmap",yx.prototype.createLayers.call(this,e)},mx.getDefaultOptions=vx.getDefaultOptions;function bx(t,e,n,i,r){var o=n*r,a=i*r;return[["M",t-o/2,e+a/2],["Q",t-o/2,e,t-o/2,e-a/2],["Q",t,e-a/2,t+o/2,e-a/2],["Q",t+o/2,e,t+o/2,e+a/2],["Q",t,e+a/2,t-o/2,e+a/2],["Z"]]}function xx(t,e,n){return[["M",t,e],["l",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,-2*n,0],["Z"]]}function Ox(t,e,n){return[["M",t-n,e],["Q",t-n,e-n,t,e-n],["Q",t+n,e-n,t+n,e],["Q",t+n,e+n,t,e+n],["Q",t-n,e+n,t-n,e],["Z"]]}Fi("polygon","rect",{draw:function(t,e){var n=this.parsePoints(t.points),i=n[2].x-n[0].x,r=n[0].y-n[1].y,o=bx(n[0].x+i/2,n[1].y+r/2,i,r,t.size);return e.addShape("path",{attrs:Object(U.deepMix)({},{path:o,fill:t.color,opacity:1},t.style)})}}),Fi("point","curvePoint",{draw:function(t,e){var n=xx(t.x,t.y,t.size);return e.addShape("path",{attrs:Object(U.deepMix)({},{path:n,fill:t.color,opacity:1},t.style)})}});var wx=(_x.prototype.init=function(){var t=this;this.container=this.view.geometries[0].labelsContainer,this.view.on("beforerender",function(){t.clear(),t.plot.canvas.draw()})},_x.prototype.render=function(){var h=this,t=this.view.geometries[0].elements;Object(U.each)(t,function(t){var e=t.shape,n=h.options,i=n.style,r=n.offsetX,o=n.offsetY,a=h.options.formatter,s=a?a(h.getContent(e)):h.getContent(e),l=h.getPosition(e),c=h.getTextColor(e),u=h.container.addShape("text",{attrs:Object(U.deepMix)({},i,{x:l.x+r,y:l.y+o,text:s,fill:c,textAlign:"center",textBaseline:"middle"}),name:"label"});h.options.adjustPosition&&h.adjustLabel(u,e)})},_x.prototype.clear=function(){this.container&&this.container.clear()},_x.prototype.hide=function(){this.container.set("visible",!1),this.plot.canvas.draw()},_x.prototype.show=function(){this.container.set("visible",!0),this.plot.canvas.draw()},_x.prototype.destroy=function(){this.container&&this.container.remove(),this.destroyed=!0},_x.prototype.getBBox=function(){return this.container.getBBox()},_x.prototype.getDefaultOptions=function(){var t=this.plot.theme.label.style;return{offsetX:0,offsetY:0,style:Object(U.clone)(t)}},_x.prototype.getContent=function(t){return t.get("origin").data[this.plot.options.colorField]},_x.prototype.getPosition=function(t){var e=t.getBBox();return{x:e.minX+e.width/2,y:e.minY+e.height/2}},_x.prototype.getTextColor=function(t){if(this.options.adjustColor){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,i=Ny(e);return Yy([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],Math.round(.299*i[0]+.587*i[1]+.114*i[2])/n)}return this.options.style.fill},_x.prototype.adjustLabel=function(t,e){var n=t.getBBox(),i=e.getBBox();(n.width>i.width||n.height>i.height)&&t.attr("text","")},_x);function _x(t){this.destroyed=!1,this.view=t.view,this.plot=t.plot;var e=this.getDefaultOptions();this.options=Object(U.deepMix)(e,t,{}),this.init()}function Cx(t){this.destroyed=!1,this.dataSlides={},this.interactiveEvents={};var e=this.getDefaultOptions();this.options=Object(U.deepMix)({},e,t),this.view=this.options.view,this.afterRender=!0,this.init()}var jx={label:{Ctr:wx},legend:{Ctr:(Cx.prototype.init=function(){var t=this;this.layout=this.getLayout(),this.width=this.options.width?this.options.width:this.getDefaultWidth(),this.height=this.options.height?this.options.height:this.getDefaultHeight();var e=this.options.plot.container;this.container&&this.container.remove(),this.container=e.addGroup(),this.view.on("beforerender",function(){t.clear(),t.options.plot.canvas.draw()})},Cx.prototype.render=function(){var t=this.view.geometries[0].scales,e=this.options.plot.options.colorField;this.colorScale=t[e];var n=this.colorScale,i=n.min,r=n.max,o=this.options.plot.options.color;"horizontal"===this.layout?this.renderHorizontal(i,r,o):this.renderVertical(i,r,o),this.legendLayout(),this.addInteraction()},Cx.prototype.hide=function(){this.container.set("visible",!1),this.options.plot.canvas.draw()},Cx.prototype.show=function(){this.container.set("visible",!0),this.options.plot.canvas.draw()},Cx.prototype.clear=function(){this.container&&this.container.clear()},Cx.prototype.destroy=function(){this.container&&this.container.remove(),this.offEvent(),this.destroyed=!0},Cx.prototype.getBBox=function(){var t=this.container.getBBox();return new X(this.x,this.y,t.width,t.height)},Cx.prototype.renderVertical=function(t,e,n){var r=this,o=(e-t)/(n.length-1),i=1/(n.length-1),a=this.height/(n.length-1),s="l(90)";Object(U.each)(n,function(t,e){s+=i*e+":"+t+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:s},name:"legend"}),Object(U.each)(n,function(t,e){var n=a*e;r.container.addShape("path",{attrs:Object(q.__assign)({path:[["M",0,n],["L",r.width,n]]},r.options.ticklineStyle)});var i=Math.round(o*e);r.container.addShape("text",{attrs:Object(q.__assign)({text:i,textAlign:"left",textBaseline:"middle",x:r.width+4,y:n},r.options.text.style),name:"legend-label"})});var l=[["M",-10,-7],["L",0,0],["L",-10,7],["Z"]];this.anchor=this.container.addShape("path",{attrs:Object(q.__assign)({path:l},this.options.anchorStyle)}),this.anchor.set("visible",!1)},Cx.prototype.renderHorizontal=function(t,e,n){var r=this,o=(e-t)/(n.length-1),i=1/(n.length-1),a=this.width/(n.length-1),s="l(0)";Object(U.each)(n,function(t,e){s+=i*e+":"+t+" "}),this.container.addShape("rect",{attrs:{x:0,y:0,width:this.width,height:this.height,fill:s},name:"legend"}),Object(U.each)(n,function(t,e){var n=a*e;r.container.addShape("path",{attrs:Object(q.__assign)({path:[["M",n,0],["L",n,r.height]]},r.options.ticklineStyle),name:"legend-label"});var i=Math.round(o*e);r.container.addShape("text",{attrs:Object(q.__assign)({text:i,textAlign:"center",textBaseline:"top",x:n,y:r.height+4},r.options.text.style)})});var l=[["M",0,0],["L",-7,-10],["L",7,-10],["Z"]];this.anchor=this.container.addShape("path",{attrs:Object(q.__assign)({path:l},this.options.anchorStyle)}),this.anchor.set("visible",!1)},Cx.prototype.getLayout=function(){var t=this.options.position.split("-");return this.position=t[0],"left"===t[0]||"right"===t[0]?"vertical":"horizontal"},Cx.prototype.getDefaultWidth=function(){return"horizontal"!==this.layout?10:this.view.coordinateBBox.width},Cx.prototype.getDefaultHeight=function(){return"vertical"!==this.layout?10:this.view.coordinateBBox.height},Cx.prototype.legendLayout=function(){var n=this,t=this.view.coordinateBBox,i=this.options.plot.getPlotTheme().bleeding;Object(U.isArray)(i)&&Object(U.each)(i,function(t,e){"function"==typeof i[e]&&(i[e]=i[e](n.options.plot.options))});var e=this.container.getBBox(),r=0,o=0,a=this.options.position.split("-"),s=this.options.plot.width,l=this.options.plot.height;"left"===a[0]?r=i[3]:"right"===a[0]?r=s-i[1]-e.width:"center"===a[1]?r=this.width===t.width?t.x:(s-e.width)/2:"left"===a[1]?r=i[3]:"right"===a[1]&&(r=this.options.plot.width-i[1]-e.width),"bottom"===a[0]?o=l-i[2]-e.height:"top"===a[0]?o=this.getTopPosition(i):"center"===a[1]?o=this.height===t.height?t.y:(l-e.height)/2:"top"===a[1]?o=i[0]:"bottom"===a[1]&&(o=l-i[2]-e.height),this.x=r,this.y=o,this.container.translate(r,o)},Cx.prototype.getDefaultOptions=function(){return{text:{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.45)"}},ticklineStyle:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.8)"},anchorStyle:{fill:"rgba(0,0,0,0.5)"},triggerOn:"mousemove"}},Cx.prototype.addInteraction=function(){function t(t){var e=(t.data.data[r]-a)/(s-a);n.moveAnchor(e)}var n=this,e="rect"===this.options.plot.options.shapeType?"polygon":"point",i=e+":"+this.options.triggerOn,r=this.options.plot.options.colorField,o=this.colorScale,a=o.min,s=o.max;this.view.on(i,t),this.interactiveEvents[i]={target:this.view,handler:t};function l(){n.anchor.set("visible",!1)}this.options.plot.canvas.on("mouseleave",l),this.interactiveEvents.mouseleave={target:this.options.plot.canvas,handler:l}},Cx.prototype.moveAnchor=function(t){var e,n;this.anchor.set("visible",!0),"vertical"===this.layout?(e=this.height*t,(n=[1,0,0,0,1,0,0,0,1])[7]=e):(e=this.width*t,(n=[1,0,0,0,1,0,0,0,1])[6]=e),this.anchor.stopAnimate(),this.anchor.animate({matrix:n},400,"easeLinear")},Cx.prototype.getTopPosition=function(t){return this.options.plot.description?this.options.plot.description.getBBox().maxY+10:this.options.plot.title?this.options.plot.title.getBBox().maxY+10:t[0]},Cx.prototype.offEvent=function(){Object(U.each)(this.interactiveEvents,function(t,e){var n=t.target,i=t.handler;n.off(e,i)})},Cx),padding:"outer"}};var Sx,Mx=(Sx=Df,Object(q.__extends)(kx,Sx),kx.getDefaultOptions=function(){return Object(U.deepMix)({},Sx.getDefaultOptions.call(this),{shapeType:"rect",legend:{visible:!0,position:"right-center"},tooltip:{shared:!1,showCrosshairs:!1,showMarkers:!1},xAxis:{visible:!0,gridAlign:"center",grid:{visible:!0},tickLine:{visible:!0},line:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!0}},yAxis:{visible:!0,gridAlign:"center",grid:{visible:!0,align:"center"},tickLine:{visible:!0},label:{autoHide:!0,autoRotate:!1}},color:["#9ae3d5","#66cdbb","#e7a744","#f1e066","#f27664","#e7c1a2"],label:{visible:!0,adjustColor:!0,adjustPosition:!0,offset:0,style:{stroke:"rgba(255,255,255,0)",lineWidth:0}},interactions:[{type:"tooltip"}]})},kx.prototype.afterRender=function(){this.renderPlotComponents(),Sx.prototype.afterRender.call(this)},kx.prototype.changeShape=function(t){var e;this.options.shapeType!==t&&("rect"===(this.options.shapeType=t)?(e=this.getShape(),this.circleToRect(e)):"circle"===t&&(e=this.getShape(),this.rectToCircle(e)))},kx.prototype.mappingSize=function(t){var e,n,i,r,o;this.options.sizeField&&this.options.sizeField===t||(this.options.sizeField=t,e=Object(U.valuesOfKey)(this.options.data,t),n=Math.min.apply(Math,e),i=Math.max.apply(Math,e),r=new(Object(St.getScale)("linear"))({min:n,max:i}),o=this.getShape(),"rect"===this.options.shapeType?this.rectSizeMapping(o,r,t):"circle"===this.options.shapeType&&this.circleSizeMapping(o,r,t))},kx.prototype.disableMappingSize=function(){var t=this.getShape();"rect"===this.options.shapeType?this.rectDisableSizeMapping(t):"circle"===this.options.shapeType&&this.circleDisableSizeMapping(t)},kx.prototype.destroy=function(){Object(U.each)(this.plotComponents,function(t){t.destroy()}),Sx.prototype.destroy.call(this)},kx.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},kx.prototype.geometryParser=function(){return""},kx.prototype.coord=function(){},kx.prototype.legend=function(){this.setConfig("legends",!1)},kx.prototype.addGeometry=function(){var t,e;this.gridSize=this.getGridSize(),t="rect"===this.options.shapeType?this.addRect():this.addCircle(),this.options.shapeStyle&&(e={},Object(U.isObject)(this.options.shapeStyle)?e.cfg=this.options.shapeStyle:Object(U.isFunction)(this.options.shapeType)&&(e.fields=[this.options.colorField,this.options.xField,this.options.yField,this.options.sizeField],e.callback=this.options.shapeType),t.style=e),this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(t),this.setConfig("geometry",t)},kx.prototype.addRect=function(){var t=[.3,.9];this.options.shapeSize&&(t[0]=this.options.shapeSize[0]/this.gridSize[0],t[1]=this.options.shapeSize[1]/this.gridSize[1]);var e={type:"polygon",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["rect"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[1]},e},kx.prototype.addCircle=function(){var t=[.3,.9];this.options.shapeSize?t=this.options.shapeSize:(t[0]=this.gridSize[0]*t[0]*.5,t[1]=this.gridSize[1]*t[1]*.5);var e={type:"point",position:{fields:[this.options.xField,this.options.yField]},color:{fields:[this.options.colorField],values:this.options.color},shape:{values:["curvePoint"]},label:!1};return this.options.sizeField?e.size={fields:[this.options.sizeField],values:t}:e.size={values:[.5*Math.min(this.gridSize[0],this.gridSize[1])*.9]},e},kx.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.xField,this.options.yField],this.options.colorField&&t.tooltip.fields.push(this.options.colorField)))},kx.prototype.getGridSize=function(){if("auto"===this.options.padding)return[0,0];var t=this.getViewRange(),e=this.options,n=e.padding,i=e.xField,r=e.yField,o=e.data,a=t.width-n[1]-n[3],s=t.height-n[0]-n[2];return[a/Object(U.valuesOfKey)(o,i).length,s/Object(U.valuesOfKey)(o,r).length]},kx.prototype.circleToRect=function(t){var l=this,c=this.gridSize;Object(U.each)(t,function(t){var e=t.get("origin"),n=e.x,i=e.y,r=e.size,o=2*r/Math.min(c[0],c[1]);l.options.sizeField||(o=1);var a=Ox(n,i,r),s=bx(n,i,c[0],c[1],o);t.stopAnimate(),t.attr("path",a),t.animate({path:s},500,"easeLinear")})},kx.prototype.rectToCircle=function(t){var p=this;Object(U.each)(t,function(t){var e=t.get("coord"),n=t.get("origin").points,i=[];Object(U.each)(n,function(t){i.push(e.convertPoint(t))});var r=t.getBBox(),o=r.width,a=r.height,s=r.minX+o/2,l=r.minY+a/2,c=p.options.sizeField?1:.9,u=Ox(s,l,Math.min(o,a)/2*c),h=xx(s,l,Math.min(o,a)/2*c);t.stopAnimate(),t.animate({path:u},500,"easeLinear",function(){t.attr("path",h)})})},kx.prototype.rectSizeMapping=function(t,s,l){Object(U.each)(t,function(t){var e=t.get("origin").data,n=.3+.6*s.scale(e[l]);t.get("origin").size=n;var i=t.getBBox(),r=i.width,o=i.height,a=bx(i.minX+r/2,i.minY+o/2,r,o,n);t.stopAnimate(),t.animate({path:a},500,"easeLinear")})},kx.prototype.circleSizeMapping=function(t,l,c){Object(U.each)(t,function(t){var e=t.get("origin").data,n=.3+.6*l.scale(e[c]),i=t.get("origin"),r=i.x,o=i.y,a=i.size,s=xx(r,o,a*n);t.get("origin").size=a*n,t.stopAnimate(),t.animate({path:s},500,"easeLinear")})},kx.prototype.circleDisableSizeMapping=function(t){var a=this;this.options.sizeField=null,Object(U.each)(t,function(t){var e=t.get("origin"),n=e.x,i=e.y,r=.9*Math.min(a.gridSize[0],a.gridSize[1]);t.get("origin").size=r/2;var o=xx(n,i,r/2);t.stopAnimate(),t.animate({path:o},500,"easeLinear")})},kx.prototype.rectDisableSizeMapping=function(t){var o=this;this.options.sizeField=null,Object(U.each)(t,function(t){var e=t.getBBox(),n=e.width,i=e.height,r=bx(e.minX+n/2,e.minY+i/2,o.gridSize[0],o.gridSize[1],1);t.get("origin").size=1,t.stopAnimate(),t.animate({path:r},500,"easeLinear")})},kx.prototype.getShape=function(){var t=this.view.geometries[0].elements,e=[];return Object(U.each)(t,function(t){e.push(t.shape)}),e},kx.prototype.renderPlotComponents=function(){var i=this;Object(U.each)(this.plotComponents,function(t){t.destroy()}),this.plotComponents=[];Object(U.each)(["label","legend"],function(t){var e=Object(q.__assign)({view:i.view,plot:i},i.options[t]),n=function(t,e,n){if(t.options[e]&&t.options[e].visible){var i=jx[e],r=new i.Ctr(n);return i.padding&&t.paddingController.registerPadding(r,i.padding),r}}(i,t,e);n&&(n.render(),i.plotComponents.push(n))})},kx);function kx(){var t=null!==Sx&&Sx.apply(this,arguments)||this;return t.type="heatmap",t.gridSize=[],t.plotComponents=[],t}var Tx,Px=Mx;function Ax(){return null!==Tx&&Tx.apply(this,arguments)||this}zf("heatmap",Mx);var Ex;Tx=Wf,Object(q.__extends)(Ax,Tx),Ax.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="heatmap",Tx.prototype.createLayers.call(this,e)},Ax.prototype.changeShape=function(t){this.layers[0].changeShape(t)},Ax.prototype.mappingSize=function(t){this.layers[0].mappingSize(t)},Ax.prototype.disableMappingSize=function(){this.layers[0].disableMappingSize()},Ax.prototype.getSizeScale=function(){return this.layers[0].getSizeScale()},Ax.getDefaultOptions=Px.getDefaultOptions;function Lx(t){var e=Object(U.deepMix)({},t,{itemTpl:'<div data-index={index}>\n        <span style="background-color:{color};" class="g2-tooltip-marker"></span>\n        {name}<span class="g2-tooltip-value">{value}</span></div>'},t);return Ex.call(this,e)||this}var Ix=(Ex=eh.a,Object(q.__extends)(Lx,Ex),Lx);window.setImmediate||(window.setImmediate=window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var n=[void 0],i="zero-timeout-message";return window.addEventListener("message",function(t){var e;"string"==typeof t.data&&t.data.substr(0,i.length)===i&&(t.stopImmediatePropagation(),e=parseInt(t.data.substr(i.length),36),n[e]&&(n[e](),n[e]=void 0))},!0),window.clearImmediate=function(t){n[t]&&(n[t]=void 0)},function(t){var e=n.length;return n.push(t),window.postMessage(i+e.toString(36),"*"),e}}()||function(t){window.setTimeout(t,0)}),window.clearImmediate||(window.clearImmediate=window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)});function Bx(j,_){if(Dx){Array.isArray(j)||(j=[j]),j.forEach(function(t,e){if("string"==typeof t){if(j[e]=document.getElementById(t),!j[e])throw"The element id specified is not found."}else if(!t.tagName&&!t.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var k={data:[],fontFamily:'"Trebuchet MS", "Heiti TC", "", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minFontSize:Fx,maxFontSize:60,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotateRatio:.5,rotationSteps:1,shuffle:!0,shape:"circle",ellipticity:1,active:!0,animatable:!0,selected:-1,shadowColor:"#333",shadowBlur:10,fontScale:1.2,classes:null,onWordCloudHover:null,onWordCloudClick:null},S=[];if(_)for(var t in _)if("wordStyle"===t)for(var e in _[t])e in k&&(k[e]=_[t][e]);else t in k&&(k[t]=_[t]);if(k.minFontSize<Fx&&(k.minFontSize=Fx),k.minFontSize>k.maxFontSize)console.error("minSize cant bigger than maxSize");else{for(var T=0,n=0;n<k.data.length;n++)T<k.data[n].weight&&(T=k.data[n].weight);var C=!1;if("function"!=typeof k.shape)switch(k.shape){case"circle":default:k.shape="circle";break;case"cardioid":k.shape=function(t){return 1-Math.sin(t)},C=!0;break;case"diamond":k.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"square":k.shape=function(t){var e=(t+Math.PI/4)%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"triangle-forward":k.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle-backward":k.shape=function(t){var e=(t+Math.PI)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":case"triangle-up":k.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle-down":k.shape=function(t){var e=(t+5*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":k.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case"star":k.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return 0<=(t+.955)%(2*Math.PI/5)-2*Math.PI/10?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}k.gridSize=Math.max(Math.floor(k.gridSize),4);var M,P,A,E,L,I,i,B=k.gridSize,b=B-k.maskGapWidth,p=Math.abs(k.maxRotation-k.minRotation),f=Math.min(k.maxRotation,k.minRotation),d=k.rotationSteps;switch(k.color){case"random-dark":i=function(){return l(10,50)};break;case"random-light":i=function(){return l(50,90)};break;default:"function"==typeof k.color&&(i=k.color)}var r=null;"function"==typeof k.classes&&(r=k.classes);var D,F,R=!1,N=[],o=function(t){var e,n=t.currentTarget,i=n.getBoundingClientRect(),r=t.touches?(e=t.touches[0].clientX,t.touches[0].clientY):(e=t.clientX,t.clientY),o=e-i.left,a=r-i.top,s=Math.floor(o*(n.width/i.width||1)/B),l=Math.floor(a*(n.height/i.height||1)/B);return N&&N[s]&&N[s][l]},a=function(t,e,n,i){i(t?t.id:-1)},Y=function(t){var e=o(t);if(D!==e&&(!(F&&e&&e.item)||Object(U.get)(e,["item","twiceRender"]))){if(!e)return k.onWordCloudHover(void 0,void 0,t,s),void(k.active&&a(void 0,0,0,s));k.onWordCloudHover(e.item,e.dimension,t,s),k.active&&a(e.item,e.dimension,0,s),D=e}},V=function(t){var e=o(t);e&&(k.onWordCloudClick(e.item,e.dimension,t),t.preventDefault())},g=[],X=function(){return 0<k.abortThreshold&&(new Date).getTime()-I>k.abortThreshold},y=function(t,e,n){var i,r,o=(i=e,r=Math.min(Math.max(k.minFontSize,k.maxFontSize*i/T),k.maxFontSize),F?r*k.fontScale:r);if(o<=0)return!1;var a=1;o<Fx&&(a=function(){for(var t=2;t*o<Fx;)t+=2;return t}());var s=document.createElement("canvas"),l=s.getContext("2d",{willReadFrequently:!0});l.font=k.fontWeight+" "+(o*a).toString(10)+"px "+k.fontFamily;var c,u=l.measureText(t).width/a,h=Math.max(o*a,l.measureText("m").width,l.measureText("").width)/a,p=u+2*h,f=3*h,d=Math.ceil(p/B),g=Math.ceil(f/B),p=d*B,f=g*B,y=-u/2,v=.4*-h,m=Math.ceil((p*Math.abs(Math.sin(n))+f*Math.abs(Math.cos(n)))/B),b=Math.ceil((p*Math.abs(Math.cos(n))+f*Math.abs(Math.sin(n)))/B),x=b*B,O=m*B;s.setAttribute("width",x),s.setAttribute("height",O),l.scale(1/a,1/a),l.translate(x*a/2,O*a/2),l.rotate(-n),l.font=k.fontWeight+" "+(o*a).toString(10)+"px "+k.fontFamily,l.fillStyle="#000",l.textBaseline="middle",l.fillText(t,y*a,(v+.5*o)*a);try{c=l.getImageData(0,0,x,O).data}catch(t){return!1}if(X())return!1;for(var w,_,C,j=[],S=b,M=[m/2,b/2,m/2,b/2];S--;)for(w=m;w--;){C=B;t:{for(;C--;)for(_=B;_--;)if(c[4*((w*B+C)*x+(S*B+_))+3]){j.push([S,w]),S<M[3]&&(M[3]=S),S>M[1]&&(M[1]=S),w<M[0]&&(M[0]=w),w>M[2]&&(M[2]=w);break t}0}}return{mu:a,occupied:j,bounds:M,gw:b,gh:m,fillTextOffsetX:y,fillTextOffsetY:v,fillTextWidth:u,fillTextHeight:h,fontSize:o}},G=function(h,p,f,d,g,y,v,m,b,x,O){var t,w=f.fontSize,_=k.color,C=k.classes;O?(t=W(x),_=t?t.color:k.color):(_=i?i(d,g,w,y,v):k.color,C=r?r(d,g,w,y,v):k.classes);var e=f.bounds;e[3],e[0],e[1],e[3],e[2],e[0];j.forEach(function(t){if(t.getContext){var e=t.getContext("2d"),n=f.mu;e.save();var i=k.fontWeight+" "+(w*n).toString(10)+"px "+k.fontFamily;e.scale(1/n,1/n),e.font=i,e.fillStyle=_;var r=(h+f.gw/2)*B*n,o=(p+f.gh/2)*B*n;e.translate(r,o),0!==m&&e.rotate(-m),e.textBaseline="middle",k.selected===x&&(e.shadowColor=k.shadowColor,e.shadowBlur=k.shadowBlur),e.fillText(d,f.fillTextOffsetX*n,(f.fillTextOffsetY+.5*w)*n),O||S.push({gx:h,gy:p,info:f,word:d,weight:g,distance:y,theta:v,rotateDeg:m,attributes:b,id:x,color:_}),e.restore()}else{var a=document.createElement("span"),s="",s="rotate("+-m/Math.PI*180+"deg) ";1!==f.mu&&(s+="translateX(-"+f.fillTextWidth/4+"px) scale("+1/f.mu+")");var l={position:"absolute",display:"block",font:k.fontWeight+" "+w*f.mu+"px "+k.fontFamily,left:(h+f.gw/2)*B+f.fillTextOffsetX+"px",top:(p+f.gh/2)*B+f.fillTextOffsetY+"px",width:f.fillTextWidth+"px",height:f.fillTextHeight+"px",lineHeight:w+"px",whiteSpace:"nowrap",transform:s,webkitTransform:s,msTransform:s,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};for(var c in _&&(l.color=_),a.textContent=d,l)a.style[c]=l[c];if(b)for(var u in b)a.setAttribute(u,b[u]);C&&(a.className+=C),t.appendChild(a)}})},u=function(t,e,n,i,r){var o,a,s,l=r.occupied,c=k.drawMask;c&&((o=j[0].getContext("2d")).save(),o.fillStyle=k.maskColor),R&&(s={x:(t+(a=r.bounds)[3])*B,y:(e+a[0])*B,w:(a[1]-a[3]+1)*B,h:(a[2]-a[0]+1)*B});for(var u,h,p,f,d,g=l.length;g--;){var y,v=t+l[g][0],m=e+l[g][1];P<=v||A<=m||v<0||m<0||((y=W(r.item.id))&&(r.item.color=y.color),u=v,h=m,p=c,f=s,d=r.item,P<=u||A<=h||u<0||h<0||(M[u][h]=!1,p&&j[0].getContext("2d").fillRect(u*B,h*B,b,b),R&&(N[u][h]={item:d,dimension:f})))}c&&o.restore()},v=function(t,e,n,i,r,o,a,s){var l=Math.floor(t[0]-e.gw/2),c=Math.floor(t[1]-e.gh/2);e.gw,e.gh;return!!function(t,e,n){for(var i=n.length;i--;){var r=t+n[i][0],o=e+n[i][1];if(P<=r||A<=o||r<0||o<0){if(!k.drawOutOfBound)return!1}else if(!M[r][o])return!1}return!0}(l,c,e.occupied)&&(G(l,c,e,n,i,r,t[2],o,a,s,!1),u(l,c,0,0,e),{gx:l,gy:c,rot:o,info:e})},z=function(t){var e,n,i,r;Array.isArray(t)?(e=t[0],n=t[1]):(e=t.word,n=t.weight,i=t.attributes,r=t.id);var o=Object(U.isNil)(t.rotateDeg)?0===k.rotateRatio||Math.random()>k.rotateRatio?0:0===p?f:0<d?f+Math.floor(Math.random()*d)*p/d:f+Math.random()*p:t.rotateDeg,a=y(e,n,o);if(a&&(a.item=t),!a)return!1;if(X())return!1;if(!k.drawOutOfBound){var s=a.bounds;if(s[1]-s[3]+1>P||s[2]-s[0]+1>A)return!1}for(var l=L+1;l--;){var c=function(t){if(g[t])return g[t];var e=8*t,n=e,i=[];for(0===t&&i.push([E[0],E[1],0]);n--;){var r=1;"circle"!==k.shape&&(r=k.shape(n/e*2*Math.PI)),i.push([E[0]+t*r*Math.cos(-n/e*2*Math.PI),E[1]+t*r*Math.sin(-n/e*2*Math.PI)*k.ellipticity,n/e*2*Math.PI])}return g[t]=i}(L-l);k.shuffle&&function(t){for(var e,n,i=t.length;i;e=Math.floor(Math.random()*i),n=t[--i],t[i]=t[e],t[e]=n);}(c=[].concat(c));for(var u=0;u<c.length;u++){var h=v(c[u],a,e,n,L-l,o,i,r);if(h)return h}}return null},H=function(n,i,r){if(i)return!j.some(function(t){var e=document.createEvent("CustomEvent");return e.initCustomEvent(n,!0,i,r||{}),!t.dispatchEvent(e)},this);j.forEach(function(t){var e=document.createEvent("CustomEvent");e.initCustomEvent(n,!0,i,r||{}),t.dispatchEvent(e)},this)},W=function(t){for(var e=0;e<S.length;e++){var n=S[e];if(S[e].id===t)return n}},s=function(t){if(void 0===t){var e,n,i=j[0];if(A=i.getContext?(P=Math.ceil(i.width/B),Math.ceil(i.height/B)):(e=i.getBoundingClientRect(),P=Math.ceil(e.width/B),Math.ceil(e.height/B)),H("wordcloudstart",!0)){if(E=k.origin?[k.origin[0]/B,k.origin[1]/B]:[P/2,A/(C?4:2)],L=Math.floor(Math.sqrt(P*P+A*A)),M=[],!i.getContext||k.clearCanvas)for(j.forEach(function(t){var e;t.getContext?((e=t.getContext("2d")).fillStyle=k.backgroundColor,e.clearRect(0,0,P*(B+1),A*(B+1)),e.fillRect(0,0,P*(B+1),A*(B+1))):(t.textContent="",t.style.backgroundColor=k.backgroundColor,t.style.position="relative")}),c=P;c--;)for(M[c]=[],n=A;n--;)M[c][n]=!0;else{var r=document.createElement("canvas").getContext("2d");r.fillStyle=k.backgroundColor,r.fillRect(0,0,1,1);for(var o,a,s=r.getImageData(0,0,1,1).data,l=i.getContext("2d").getImageData(0,0,P*B,A*B).data,c=P;c--;)for(M[c]=[],n=A;n--;){a=B;t:for(;a--;)for(o=B;o--;)for(h=4;h--;)if(l[4*((n*B+a)*P*B+(c*B+o))+h]!==s[h]){M[c][n]=!1;break t}!1!==M[c][n]&&(M[c][n]=!0)}l=r=s=void 0}if(k.onWordCloudHover||k.onWordCloudClick){for(R=!0,c=P+1;c--;)N[c]=[];k.onWordCloudHover&&i.addEventListener("mousemove",Y),k.onWordCloudClick&&(i.addEventListener("click",V),i.addEventListener("touchstart",V),i.addEventListener("touchend",function(t){t.preventDefault()}),i.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),i.addEventListener("wordcloudstart",function t(){i.removeEventListener("wordcloudstart",t),i.removeEventListener("mousemove",Y),i.removeEventListener("click",V),D=void 0})}if(k.animatable){var u,h=0,p=0!==k.wait?(u=window.setTimeout,window.clearTimeout):(u=window.setImmediate,window.clearImmediate),f=function(e,n){j.forEach(function(t){t.removeEventListener(e,n)},this)},d=function t(){f("wordcloudstart",t),p(g)};!function(e,n){j.forEach(function(t){t.addEventListener(e,n)},this)}("wordcloudstart",d);var g=u(function t(){if(h>=k.data.length)return p(g),H("wordcloudstop",!1),void f("wordcloudstart",d);I=(new Date).getTime();var e=z(k.data[h]),n=!H("wordclouddrawn",!0,{item:k.data[h],drawn:e});if(X()||n)return p(g),k.abort(),H("wordcloudabort",!1),H("wordcloudstop",!1),void f("wordcloudstart",d);h++,g=u(t,k.wait)},k.wait)}else{_.maskImage&&j.forEach(function(t){var e;t.getContext&&((e=t.getContext("2d")).fillStyle=k.backgroundColor,e.clearRect(0,0,P*(B+1),A*(B+1)),e.fillRect(0,0,P*(B+1),A*(B+1)))});for(var y=[],v=0;v<k.data.length;v++){var m=z(k.data[v]);m&&y.push(m)}if(y.length===k.data.length&&!F){for(j.forEach(function(t){var e;t.getContext&&((e=t.getContext("2d")).fillStyle=k.backgroundColor,e.clearRect(0,0,P*(B+1),A*(B+1)),e.fillRect(0,0,P*(B+1),A*(B+1)))}),c=P;c--;)for(M[c]=[],n=A;n--;)M[c][n]=!0;F=!0;for(var b=0;b<k.data.length;b++)z(Object(q.__assign)(Object(q.__assign)({},k.data[b]),{twiceRender:F}))}}}}else if(k.selected!==t&&j[0].getContext){k.selected=t;var x=j[0].getContext("2d");x.fillStyle=k.backgroundColor,x.clearRect(0,0,j[0].width,j[0].height),x.fillRect(0,0,j[0].width,j[0].height);for(var O=0;O<S.length;O++){var w=S[O];(!F||F&&Object(U.get)(w,["info","item","twiceRender"]))&&G(w.gx,w.gy,w.info,w.word,w.weight,w.distance,w.theta,w.rotateDeg,w.attributes,w.id,!0)}}};s()}}function l(t,e){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-t)+t).toFixed()+"%)"}}var Dx=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var e=t.getContext("2d");return!!e.getImageData&&(!!e.fillText&&(!!Array.prototype.some&&!!Array.prototype.push))}(),Fx=function(){if(Dx){for(var t,e,n=document.createElement("canvas").getContext("2d"),i=20;i;){if(n.font=i.toString(10)+"px sans-serif",n.measureText("").width===t&&n.measureText("m").width===e)return i+1;t=n.measureText("").width,e=n.measureText("m").width,i--}return 0}}();Bx.isSupported=Dx,Bx.minFontSize=Fx;var Rx,Nx=Bx;function Yx(t){var r=Rx.call(this,t)||this;return r._toolTipsAction=function(t,e,n,i){e?(r._toolTips.update({items:[{color:t.color||"red",name:t.word,value:t.weight}],x:n.offsetX,y:n.offsetY}),r._toolTips.show()):r._toolTips.hide(),r._toolTips.render(),r._configHoverAction&&r._configHoverAction(t,e,n,i)},r._configHoverAction=t.onWordCloudHover,r._enableToolTips=Object(U.get)(t,"tooltip.visible",!0),r.options=Object(U.deepMix)({},{width:400,height:400,enableToolTips:!0},t,{onWordCloudHover:r._enableToolTips?r._toolTipsAction:r._configHoverAction}),r}var Vx,Xx=(Rx=Q,Object(q.__extends)(Yx,Rx),Yx.prototype.init=function(){Rx.prototype.init.call(this),this._initToolTips()},Yx.prototype.render=function(){Rx.prototype.render.call(this),this._render()},Yx.prototype._initToolTips=function(){this._toolTips=new Ix({showTitle:!1,visible:!1,parent:this.options.container,follow:!0,inPanel:!1,items:[]}),this._toolTips.init()},Yx.prototype._render=function(){this._targetCanvas=this.canvas.get("el"),this.options.maskImage?this._handleMaskImage():this._start()},Yx.prototype._handleMaskImage=function(){var t=this,e=new Image;e.src=this.options.maskImage+"?"+(new Date).getTime(),e.crossOrigin="Anonymous",e.onload=function(){e.naturalHeight+e.naturalWidth===0||e.width+e.height===0?t._start():t._startWithMaskImage(e)},e.onerror=function(){console.error("image %s load failed !!!",t.options.maskImage),t._start()}},Yx.prototype._start=function(){this._handleG2PlotConfig();var t=this._targetCanvas.getContext("2d"),e=this.canvas.get("width")/this.canvas.get("el").width;t.scale(e,e),Nx(this._targetCanvas,this.options)},Yx.prototype._handleG2PlotConfig=function(){var t,e,n,i=this.options.wordStyle.fontSize||[10,60],r=this.options.wordStyle.rotation||[-Math.PI/2,Math.PI/2];this.options.wordStyle.active?(t=!0,e=this.options.wordStyle.active.shadowColor||"#333",n=this.options.wordStyle.active.shadowBlur||10):t=!1,this.options=Object(U.deepMix)({},this.options,{minFontSize:i[0],maxFontSize:i[1],minRotation:r[0],maxRotation:r[1],active:t,shadowColor:e,shadowBlur:n})},Yx.prototype._startWithMaskImage=function(t){var e=this._scaleMaskImageCanvas(this._transformWhite2BlackPixels(t)),n=e.maskImageCanvas,i=e.maskImageContext,r=document.createElement("canvas").getContext("2d");r.fillStyle=this.options.backgroundColor||"#fff",r.fillRect(0,0,1,1);for(var o=r.getImageData(0,0,1,1).data,a=i.getImageData(0,0,n.width,n.height),s=i.createImageData(a),l=0;l<a.data.length;l+=4)128<a.data[l+3]?(s.data[l]=o[0],s.data[l+1]=o[1],s.data[l+2]=o[2],s.data[l+3]=o[3]):(s.data[l]=o[0],s.data[l+1]=o[1],s.data[l+2]=o[2],s.data[l+3]=254);i.putImageData(s,0,0),this._targetCanvas.getContext("2d").drawImage(n,0,0),this.options=Object(U.deepMix)({},this.options,{clearCanvas:!1}),this._start()},Yx.prototype._scaleMaskImageCanvas=function(t){var e=document.createElement("canvas");e.width=this.canvas.get("width"),e.height=this.canvas.get("height");var n=e.getContext("2d");return n.imageSmoothingEnabled=!0,n.drawImage(t,0,0,t.width,t.height,0,0,e.width,e.height),{maskImageCanvas:e,maskImageContext:n}},Yx.prototype._transformWhite2BlackPixels=function(t){var e=document.createElement("canvas");e.width=t.width,e.height=t.height;var n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);for(var i=n.getImageData(0,0,e.width,e.height),r=0;r<i.data.length;r+=4){var o=i.data[r]+i.data[r+1]+i.data[r+2];i.data[r+3]<128||750<o?(i.data[r]=255,i.data[r+1]=255,i.data[r+2]=255,i.data[r+3]=0):(i.data[r]=0,i.data[r+1]=0,i.data[r+2]=0,i.data[r+3]=255)}return n.putImageData(i,0,0),e},Yx);function Gx(t,e){return e.renderer="canvas",Vx.call(this,t,e)||this}Vx=Wf,Object(q.__extends)(Gx,Vx),Gx.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="wordCloud",e.container=this.containerDOM,Vx.prototype.createLayers.call(this,e)};zf("wordCloud",Xx);var zx=B({rose:"interval"});Object(U.assign)(L,zx);var Hx,Wx={rose:"interval"},qx={rose:"column"},Ux=(Hx=Df,Object(q.__extends)(Kx,Hx),Kx.getDefaultOptions=function(){return Object(U.deepMix)({},Hx.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,innerRadius:0,label:{visible:!0,type:"inner",autoRotate:!0,adjustColor:!1},legend:{visible:!0,position:"right"},tooltip:{visible:!0,shared:!1,showCrosshairs:!1,showMarkers:!1},columnStyle:{stroke:"white",lineWidth:1},xAxis:{visible:!1,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},Kx.prototype.getOptions=function(t){var e=Hx.prototype.getOptions.call(this,t),n=t.sectorStyle,i=t.categoryField,r=t.radiusField;return Object(U.deepMix)({},e,{columnStyle:n,xField:i,yField:r})},Kx.prototype.getRadiusScale=function(){var t=this.options.radiusField;t&&this.view.getScaleByField(t)},Kx.prototype.getAngleScale=function(){var t=this.options.categoryField;t&&this.view.getScaleByField(t)},Kx.prototype.geometryParser=function(t,e){return"g2"===t?Wx[e]:qx[e]},Kx.prototype.scale=function(){var t=this.options,e={};e[t.radiusField]={},e[t.categoryField]={type:"cat"},this.setConfig("scales",e)},Kx.prototype.coord=function(){var t=this.options,e={type:"polar",cfg:{radius:t.radius,innerRadius:t.innerRadius||0}};this.setConfig("coordinate",e)},Kx.prototype.addGeometry=function(){var t=this.options,e=kd("interval","main",{plot:this,positionFields:[t.categoryField,t.radiusField],widthRatio:{rose:1}});e.label=this.extractLabel(),e.adjust=this.adjustRoseAdjust(),this.rose=e,t.tooltip&&(t.tooltip.fields||t.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",e)},Kx.prototype.adjustRoseAdjust=function(){},Kx.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.colorField]))},Kx.prototype.animation=function(){Hx.prototype.animation.call(this),!1===this.options.animation&&(this.rose.animate=!1)},Kx.prototype.annotation=function(){},Kx.prototype.parseEvents=function(){Hx.prototype.parseEvents.call(this,p)},Kx.prototype.extractLabel=function(){var t=this.options;if(!t.label||!t.label.visible)return!1;var e=Object(U.deepMix)({},t.label);this.adjustLabelOptions(e);var n=[t.categoryField,t.radiusField];return hp("label",Object(q.__assign)({plot:this,labelType:"polar",fields:n},e))},Kx.prototype.adjustLabelOptions=function(t){var e,n,i,r=this.options.radiusField;t&&(e=t.offset,n=t.type,i=t.content,"inner"===n?t.offset=e<0?e:-10:"outer"===n&&(t.offset=0<=e?e:10),i||(t.content=function(t,e){return""+e._origin[r]}))},Kx);function Kx(){var t=null!==Hx&&Hx.apply(this,arguments)||this;return t.type="rose",t}var Zx,$x=Ux;function Qx(){return null!==Zx&&Zx.apply(this,arguments)||this}zf("rose",Ux);Zx=Wf,Object(q.__extends)(Qx,Zx),Qx.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="rose",Zx.prototype.createLayers.call(this,e)},Qx.prototype.getRadiusScale=function(){return this.layers[0].getRadiusScale()},Qx.prototype.getAngleScale=function(){return this.layers[0].getAngleScale()},Qx.getDefaultOptions=$x.getDefaultOptions;jf("funnel",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1)}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"black"}}});var Jx=n(1433);function tO(t,e,n){return(1-n)*t+n*e}function eO(t,e){var n=e||{},i=n.duration,r=void 0===i?200:i,o=n.delay,a=n.easing,s=n.callback,l=n.reverse,c=t.getBBox(),u=l?c.maxX:c.minX,h=(c.minY+c.maxY)/2,p=t.setClip({type:"rect",attrs:{x:c.x,y:c.y,width:c.width,height:c.height}});p.setMatrix(Rt.ext.transform(p.getMatrix(),[["t",-u,-h],["s",0,1],["t",u,h]]));var f={fillOpacity:t.attr("fillOpacity"),strokeOpacity:t.attr("strokeOpacity"),opacity:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),p.animate({matrix:[1,0,0,0,1,0,0,0,1]},{duration:200,easing:a,callback:function(){t.setClip(null),p.remove()},delay:o}),t.animate(f,{duration:r,easing:a,delay:o}),s&&setTimeout(function(){return s(t)},r+o)}function nO(t,e){var n=e||{},i=n.duration,r=void 0===i?200:i,o=n.delay,a=n.easing,s=n.callback,l=n.reverse,c=t.getBBox(),u=(c.minX+c.maxX)/2,h=l?c.maxY:c.minY,p=t.setClip({type:"rect",attrs:{x:c.x,y:c.y,width:c.width,height:c.height}});p.setMatrix(Rt.ext.transform(p.getMatrix(),[["t",-u,-h],["s",1,0],["t",u,h]]));var f={fillOpacity:t.attr("fillOpacity"),strokeOpacity:t.attr("strokeOpacity"),opacity:t.attr("opacity")};t.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),p.animate({matrix:[1,0,0,0,1,0,0,0,1]},{duration:200,easing:a,callback:function(){t.setClip(null),p.remove()},delay:o}),t.animate(f,{duration:r,easing:a,delay:o}),s&&setTimeout(function(){return s(t)},r+o)}function iO(t,e,n){return(1-n)*t+n*e}Fi("interval","funnel-basic-rect",{getPoints:function(t){return t.size=1.8*t.size,function(t,e){void 0===e&&(e=!1);var n,i,r=t.x,o=t.y,a=t.y0,s=t.size,l=Object(U.isArray)(o)?(n=o[0],o[1]):(n=a,o),c=Object(U.isArray)(r)?(i=r[0],r[1]):(i=r-s/2,r+s/2),u=[{x:i,y:n},{x:i,y:l}];return e?u.push({x:c,y:(l+n)/2}):u.push({x:c,y:l},{x:c,y:n}),u}(t)},draw:function(t,e){var n,i,r,o,a,s,l,c,u,h,p,f,d,g,y,v=Object(Jx.getStyle)(t,!1,!0),m=Object(U.get)(t,"data.__compare__"),b=this.parsePath((r=m,d=[],g=(i=t).points,y=i.nextPoints,r?(o=r.yValues,a=r.yValuesMax,s=r.yValuesNext,l=(g[0].y+g[1].y)/2,c=o[0]+o[1],u=o.map(function(t){return t/c/.5}),h=.9*(a[0]/(a[0]+a[1])-.5),Object(U.isNil)(y)?(d.push(["M",g[0].x,h+(g[0].y-l)*u[0]+l],["L",g[1].x,h+l],["L",g[2].x,h+l],["L",g[3].x,h+(g[3].y-l)*u[0]+l],["Z"]),d.push(["M",g[0].x,.002+h+l],["L",g[1].x,.002+h+(g[1].y-l)*u[1]+l],["L",g[2].x,.002+h+(g[2].y-l)*u[1]+l],["L",g[3].x,.002+h+l],["Z"])):(p=s[0]+s[1],f=s.map(function(t){return t/p/.5}),d.push(["M",g[0].x,h+(g[0].y-l)*u[0]+l-.001],["L",g[1].x,h+l-.001],["L",y[1].x,h+l-.001],["L",y[0].x,h+(y[3].y-l)*f[0]+l-.001],["Z"]),d.push(["M",g[0].x,h+l+.001],["L",g[1].x,h+(g[1].y-l)*u[1]+l+.001],["L",y[1].x,h+(y[2].y-l)*f[1]+l+.001],["L",y[0].x,h+l+.001],["Z"]))):Object(U.isNil)(y)?d.push(["M",g[0].x,g[0].y],["L",g[1].x,g[1].y],["L",g[2].x,g[2].y],["L",g[3].x,g[3].y],["Z"]):d.push(["M",g[0].x,g[0].y],["L",g[1].x,g[1].y],["L",y[1].x,y[1].y],["L",y[0].x,y[0].y],["Z"]),d));return e.addShape("path",((n={name:"interval",attrs:Object(q.__assign)(Object(q.__assign)({},v),{path:b})}).__compare__=m,n))},getMarker:function(t){return{symbol:"square",style:{r:4,fill:t.color}}}}),Fi("interval","funnel-dynamic-rect",{draw:function(t,e){var n=Object(Jx.getStyle)(t,!1,!0),i=Object(U.get)(t,"data.__custom__"),r=this.parsePath(function(t,e){var n,i=e.reverse,r=e.ratioUpper,o=e.ratioLower,a=[],s=t[0],l=(t[1].x+t[2].x)/2;i&&(n=o,o=r,r=n);var c=(s.x-l)*tO(.6,1.2,o)+l;a.push(["M",c,s.y]);for(var u=1,h=t.length;u<h;u++){var p=t[u].x;switch(u){case 1:case 2:p=(p-l)*tO(.6,1.2,r)+l;break;case 3:p=(p-l)*tO(.6,1.2,o)+l}a.push(["L",p,t[u].y])}return a.push(["L",c,s.y]),a.push(["z"]),a}(t.points,i));return e.addShape("path",{attrs:Object(q.__assign)(Object(q.__assign)({},n),{path:r})})},getMarker:function(t){var e=t.color,n=t.isInPolar;return{symbol:n?"circle":"square",style:{r:n?4.5:4,fill:e}}}}),vi(eO.animationName="funnelScaleInX",eO),vi(nO.animationName="funnelScaleInY",nO);var rO,oO={column:"interval"},aO={interval:"funnel"},sO=(rO=Df,Object(q.__extends)(lO,rO),lO.getDefaultOptions=function(t){var e={label:{visible:!0,adjustColor:!0},percentage:{visible:!0,offsetX:t.transpose?0:40,offsetY:t.transpose?40:0,spacing:4,line:{visible:!0,style:{lineWidth:1,stroke:"rgba(0, 0, 0, 0.15)"}},text:{content:"",style:{fill:"rgba(0, 0, 0, 0.65)"}},value:{visible:!0,style:{fill:"black"},formatter:function(t,e){return(100*e/t).toFixed(2)+"%"}}},tooltip:{visible:!0,shared:!0,showTitle:!1,showCrosshairs:!1,showMarkers:!1},animation:Object(U.deepMix)({},Ju.DEFAULT_ANIMATE_CFG,{appear:{duration:800}}),dynamicHeight:!1,compareText:{visible:!0,offsetX:-16,offsetY:-16,style:{fill:"black"}},legend:{position:"bottom-center"},interactions:[{type:"tooltip"},{type:"legend-filter"}]};return Object(U.deepMix)({},rO.getDefaultOptions.call(this),e)},lO.prototype.getColorScale=function(){var t=this.options.xField;if(t)return this.view.getScaleByField(t)},lO.prototype.coord=function(){var t=this.options,e={type:"rect",actions:t.transpose?t.dynamicHeight?[["transpose"],["scale",1,-1]]:[["scale",1,-1]]:t.dynamicHeight?[]:[["transpose"],["scale",1,-1]]};this.setConfig("coordinate",e)},lO.prototype.axis=function(){this.setConfig("axes",!1)},lO.prototype.adjustFunnel=function(t){var e=this.options;t.shape=e.dynamicHeight?"funnel-dynamic-rect":"funnel-basic-rect",t.color={fields:[e.xField],values:e.color&&(Array.isArray(e.color)?e.color:[e.color])},Object(U.isFunction)(e.funnelStyle)?t.style={callback:e.funnelStyle}:t.style={cfg:e.funnelStyle},t.adjust=[{type:e.dynamicHeight?"stack":"symmetric"}]},lO.prototype.tooltip=function(){var t=this.options;t.compareField&&Object(U.deepMix)(t.tooltip,{htmlContent:function(t,e){var r,n;o=pn.CONTAINER_CLASS,a=Object(mt.createDom)('<div class="'+o+'"></div>'),Object(mt.modifyCSS)(a,ih.a[o]);var i,o,a,s,l=a;return t&&(o=pn.TITLE_CLASS,a=Object(mt.createDom)('<div class="'+o+'"></div>'),Object(mt.modifyCSS)(a,ih.a[o]),l.appendChild(a),i=a,o=pn.MARKER_CLASS,a=Object(mt.createDom)('<span class="'+o+'"></span>'),Object(mt.modifyCSS)(a,ih.a[o]),Object(mt.modifyCSS)(a,{width:"10px",height:"10px"}),i.appendChild(a),n=a,a=Object(mt.createDom)("<span>"+t+"</span>"),i.appendChild(a)),e&&(o=pn.LIST_CLASS,a=Object(mt.createDom)('<ul class="'+o+'"></ul>'),Object(mt.modifyCSS)(a,ih.a[o]),l.appendChild(a),s=a,e.reduce(function(n,t){r=r||t.color;var i=Object(U.get)(t,"point._origin.__compare__.compareValues");return Object(U.get)(t,"point._origin.__compare__.yValues").forEach(function(t,e){return n.push([i[e],t])}),n},[]).forEach(function(t,e){var n=t[0],i=t[1];o=pn.LIST_ITEM_CLASS,a=Object(mt.createDom)('<li class="'+o+'" data-index='+e+"></li>"),Object(mt.modifyCSS)(a,ih.a[o]),s.appendChild(a);var r=a;o=pn.NAME_CLASS,a=Object(mt.createDom)('<span class="'+o+'">'+n+"</span>"),Object(mt.modifyCSS)(a,ih.a[o]),r.appendChild(a),o=pn.VALUE_CLASS,a=Object(mt.createDom)('<span class="'+o+'">'+i+"</span>"),Object(mt.modifyCSS)(a,ih.a[o]),r.appendChild(a)})),r&&n&&Object(mt.modifyCSS)(n,{backgroundColor:r}),l}}),rO.prototype.tooltip.call(this)},lO.prototype.addGeometry=function(){var t=this.options,e=kd("interval","main",{positionFields:[t.dynamicHeight?"_":t.xField,t.yField],plot:this});this.adjustFunnel(e),this.funnel=e,this.setConfig("geometry",e)},lO.prototype.animation=function(){var e=this;rO.prototype.animation.call(this);var t,n,i,r=this.options;!1===r.animation?this.funnel.animate=!1:(t=this.getData(),n=Object(U.get)(r,"animation.appear.duration"),i=n/(t.length||1),this._animationAppearTimeoutHandler&&(clearTimeout(this._animationAppearTimeoutHandler),delete this._animationAppearTimeoutHandler),this._animationAppearTimeoutHandler=setTimeout(function(){e.fadeInPercentages(i),r.compareField&&e.fadeInCompareTexts(i),delete e._animationAppearTimeoutHandler},n),this.funnel.animate=Object(U.deepMix)({},r.animation,{appear:{animation:r.transpose?"funnelScaleInX":"funnelScaleInY",duration:i,delay:function(e){return Object(U.findIndex)(t,function(t){return Object(U.isEqual)(t,e)})*i},callback:function(t){e.fadeInLabels(t,.5*i)}},enter:{animation:"fade-in"}}))},lO.prototype.afterRender=function(){var t,e,n=this.options;this.resetLabels(),this.resetPercentages(),n.compareField&&this.resetCompareTexts(),"auto"==n.padding&&((t=this._findPercentageContainer())&&this.paddingController.registerPadding(t,"inner",!0),(e=this._findCompareTextContainer())&&this.paddingController.registerPadding(e,"inner",!0)),rO.prototype.afterRender.call(this),!1===n.animation&&(this.fadeInLabels(),this.fadeInPercentages(),n.compareField&&this.fadeInCompareTexts()),this._legendsListenerAttached||(this._legendsListenerAttached=!0,this.view.getController("legend").container.on("mousedown",this._onLegendContainerMouseDown))},lO.prototype.updateConfig=function(t){t=this.adjustProps(t),rO.prototype.updateConfig.call(this,t),this._legendsListenerAttached=!1},lO.prototype.changeData=function(t){var e,n=this.options;!1!==n.animation&&(this._shouldResetPercentages=!1,this._shouldResetLabels=!1),n.dynamicHeight&&(e=this._findCheckedDataInNewData(t),this._genCustomFieldForDynamicHeight(e)),n.compareField&&(t=this._reduceDataForCompare(t),e=this._findCheckedDataInNewData(t),this._updateDataForCompare(e)),rO.prototype.changeData.call(this,t),this.refreshPercentages(),this.refreshLabels(),n.compareField&&this.fadeInCompareTexts()},lO.prototype.geometryParser=function(t,e){return"g2"===t?oO[e]:aO[e]},lO.prototype.adjustProps=function(t){return t.compareField&&(t.dynamicHeight=!1),t.dynamicHeight&&(Object(U.set)(t,"meta."+t.yField+".nice",!1),Object(U.set)(t,"tooltip.shared",!1)),t},lO.prototype.resetPercentages=function(){var v,t,m,b,x,e,O,n,w,i,_,C,j,S=this;this._shouldResetPercentages&&(t=(v=this.options).percentage||{},m=t.offsetX,b=t.offsetY,x=t.spacing,O=void 0===(e=t.line)?{}:e,w=void 0===(n=t.text)?{}:n,_=void 0===(i=t.value)?{}:i,C=Date.now(),j=this._findPercentageContainer(!0),this._eachShape(function(t,e,c,u){var n,i,r,o,a,s,l,h,p,f,d,g,y;0<e&&(i=(n=t.getBBox()).minX,r=n.maxX,o=n.maxY,a=n.minY,s=v.transpose?i:r,l=v.transpose&&v.compareField?o:a,h=S._findPercentageMembersInContainerByIndex(j,e,!0),p=h.line,f=h.text,d=h.value,g=[function(t,e,n,i,r){n&&(n.attr(Object(U.deepMix)({},O.style,{x1:t,y1:e,x2:v.transpose?t+m:t-m,y2:v.transpose?e-b:e+b,opacity:0})),n.set("adjustTimestamp",C));function o(){i&&(i.attr(Object(U.deepMix)({},w.style,{x:v.transpose?t+m:t-m-x-l-x,y:v.transpose?e-b-x:e+b,opacity:0,text:w.content,textAlign:v.transpose?"left":"right",textBaseline:v.transpose?"bottom":"middle"})),i.set("adjustTimestamp",C),s=i.getBBox().width)}function a(){r&&(r.attr(Object(U.deepMix)({},_.style,{x:v.transpose?t+m+s+x:t-m-x,y:v.transpose?e-b-x:e+b,opacity:0,text:Object(U.isFunction)(_.formatter)?v.compareField?_.formatter(Object(U.get)(u,"__compare__.yValues.0"),Object(U.get)(c,"__compare__.yValues.0")):_.formatter(u[v.yField],c[v.yField]):"",textAlign:v.transpose?"left":"right",textBaseline:v.transpose?"bottom":"middle"})),r.set("adjustTimestamp",C),l=r.getBBox().width)}var s=0,l=0;v.transpose?(o(),a()):(a(),o())},function(t,e,n,i,r){n&&(n.attr(Object(U.deepMix)({},O.style,{x1:t,y1:e,x2:t+m,y2:!v.transpose||v.compareField?e+b:e-b,opacity:0})),n.set("adjustTimestamp",C));var o=0;i&&(i.attr(Object(U.deepMix)({},w.style,{x:v.transpose?t+m:t+m+x,y:v.transpose?v.compareField?e+b+x:e-b-x:e+b,opacity:0,text:w.content,textAlign:"left",textBaseline:v.transpose?v.compareField?"top":"bottom":"middle"})),i.set("adjustTimestamp",C),o=i.getBBox().width),r&&(r.attr(Object(U.deepMix)({},_.style,{x:v.transpose?t+m+o+x:t+m+x+o+x,y:v.transpose?v.compareField?e+b+x:e-b-x:e+b,opacity:0,text:Object(U.isFunction)(_.formatter)?v.compareField?_.formatter(Object(U.get)(u,"__compare__.yValues.1"),Object(U.get)(c,"__compare__.yValues.1")):_.formatter(u[v.yField],c[v.yField]):"",textAlign:"left",textBaseline:v.transpose?v.compareField?"top":"bottom":"middle"})),r.set("adjustTimestamp",C))}],v.compareField?[[(y=[i,a])[0],y[1]],[s,l]].forEach(function(t,e){var n=t[0],i=t[1];return g[e](n,i,p&&p[e],f&&f[e],d&&d[e])}):g[1](s,l,p,f,d)),u=c,e++}),j.get("children").forEach(function(t){t.get("adjustTimestamp")!=C&&(t.attr({opacity:0}),j.set(t.get("id"),null),setTimeout(function(){return t.remove()},0))}))},lO.prototype.fadeInPercentages=function(l,t){function e(o){var s={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};c._eachShape(function(t,e){function n(t){var e,n,i,r,o;t&&"text"==t.get("type")&&(n=(e=t.getBBox()).minX,i=e.maxX,r=e.minY,o=e.maxY,n<a.minX&&(a.minX=n),i>a.maxX&&(a.maxX=i),r<a.minY&&(a.minY=r),o>a.maxY&&(a.maxY=o))}var i,r=c._findPercentageMembersInContainerByIndex(u,e),a={minX:1/0,maxX:-1/0,minY:1/0,maxY:-1/0};Object(U.each)(r,function(t){return Object(U.isArray)(t)?n(t[o]):n(t)}),(a.minX>s.maxX||a.maxX<s.minX||a.minY>s.maxY||a.maxY<s.minY)&&(i=function(t){var e;t&&(e={opacity:1},l?t.animate(e,l):t.attr(e))},Object(U.each)(r,function(t){return Object(U.isArray)(t)?i(t[o]):i(t)}),Object(U.assign)(s,a))})}var c=this,n=this.options,u=this._findPercentageContainer();n.compareField?[0,1].forEach(e):e(),l&&t&&setTimeout(t,l)},lO.prototype.fadeOutPercentages=function(r,t){var o=this,a=this._findPercentageContainer();this._eachShape(function(t,e){function n(t){var e;t&&(e={opacity:0},r?t.animate(e,r):t.attr(e))}var i=o._findPercentageMembersInContainerByIndex(a,e);Object(U.each)(i,function(t){return Object(U.isArray)(t)?t.forEach(n):n(t)})}),r&&t&&setTimeout(t,r)},lO.prototype.refreshPercentages=function(t){var e,n,i,r=this;!1!==this.options.animation&&(n=(e=this._calcRefreshFadeDurations()).fadeOutDuration,i=e.fadeInDuration,this._shouldResetPercentages=!1,this.fadeOutPercentages(n,function(){r._shouldResetPercentages=!0,r.resetPercentages(),r.fadeInPercentages(i,t)}))},lO.prototype._findPercentageContainer=function(t){void 0===t&&(t=!1);var e=this.view.middleGroup,n=e.get("percentageContainer");return!n&&t&&(n=e.addGroup(),e.set("percentageContainer",n)),n},lO.prototype._findPercentageMembersInContainerByIndex=function(i,r,o){void 0===o&&(o=!1);var t,e,n,a,s=this.options,l=s.percentage||{},c=l.line,u=l.text,h=void 0===u?{}:u,p=l.value,f=void 0===p?{}:p,d={line:void 0,text:void 0,value:void 0};return!1!==l.visible&&i&&(!1!==(void 0===c?{}:c).visible&&(n=function(t){var e="_percentage-line-"+r+"-"+t,n=i.get(e);return!n&&o&&(n=i.addShape({id:e,type:"line",attrs:{}}),i.set(e,n)),n},t=s.compareField?[0,1].map(n):n(0),d.line=t),!1!==h.visible&&(n=function(t){var e="_percentage-text-"+r+"-"+t,n=i.get(e);return!n&&o&&(n=i.addShape({id:e,type:"text",attrs:{}}),i.set(e,n)),n},e=s.compareField?[0,1].map(n):n(0),d.text=e),!1!==f.visible&&(n=function(t){var e="_percentage-value-"+r+"-"+t,n=i.get(e);return!n&&o&&(n=i.addShape({id:e,type:"text",attrs:{}}),i.set(e,n)),n},a=s.compareField?[0,1].map(n):n(0),d.value=a)),d},lO.prototype._calcRefreshFadeDurations=function(){var t=this.options,e=Object(U.get)(t,"animation.update.duration"),n=Object(U.get)(t,"animation.enter.duration");return{fadeInDuration:.6*Math.min(n,e),fadeOutDuration:1.2*Math.max(n,e)}},lO.prototype.resetLabels=function(){var m,b,x,O,w,_,C,j,S=this;this._shouldResetLabels&&(m=this.options,b=m.xField,x=m.yField,O=Date.now(),w=this._getGeometry().labelsContainer,_=m.label||{},C=Object(U.deepMix)(Object(q.__assign)({},this.theme.label),m.label.style,{opacity:0,textAlign:"center",textBaseline:"middle"}),this._eachShape(function(t,e,n,i){var r,o=t.get("element");0==e&&(j=n);var a=t.getBBox(),s=a.minX,l=a.maxX,c=a.minY,u=a.maxY,h=n[b],p=n[x];_.adjustColor&&(C.fill=S._getAdjustedTextFillByShape(t));var f=n.__compare__,d=((r={})[oh]=n,r.element=o,r.elementIndex=i,r.mappingDatum=[].concat(o.getModel().mappingData)[0],r.mappingDatumIndex=0,r),g=_.formatter?_.formatter(h,d,e,p,j[x]):f?[0,1].map(function(){return""+p}).join(m.transpose?"\n\n":"    "):h+" "+p,y=S._findLabelInContainerByIndex(w,e,!0),v=f?f.yValues[0]/(f.yValues[0]+f.yValues[1]):.5;y.attr(Object(q.__assign)(Object(q.__assign)({},C),{x:iO(s,l,m.transpose?.5:v),y:iO(c,u,m.transpose?v:.5),text:g})),y.set("adjustTimestamp",O)}),w.get("children").forEach(function(t){t.get("adjustTimestamp")!=O&&(t.attr({opacity:0}),w.set(t.get("id"),null),setTimeout(function(){return t.remove()}))}))},lO.prototype.fadeInLabels=function(a,s,t){var l=this,c=this._getGeometry().labelsContainer;this._eachShape(function(t,e){var n,i,r,o;a&&a!=t||(n=l._findLabelInContainerByIndex(c,e))&&(i=t.getBBox(),(r=n.getBBox()).minX>=i.minX&&r.maxX<=i.maxX&&r.minY>=i.minY&&r.maxY<=i.maxY&&(o={opacity:1},s?n.animate(o,s):n.attr(o)))}),s&&t&&setTimeout(t,s)},lO.prototype.fadeOutLabels=function(r,o,t){var a=this,s=this._getGeometry().labelsContainer;this._eachShape(function(t,e){var n,i;r&&r!=t||(n=a._findLabelInContainerByIndex(s,e))&&(i={opacity:0},o?n.animate(i,o):n.attr(i))}),o&&t&&setTimeout(t,o)},lO.prototype.refreshLabels=function(t){var e,n,i,r=this;!1!==this.options.animation&&(n=(e=this._calcRefreshFadeDurations()).fadeOutDuration,i=e.fadeInDuration,this._shouldResetLabels=!1,this.fadeOutLabels(null,n,function(){r._shouldResetLabels=!0,r.resetLabels(),r.fadeInLabels(null,i,t)}))},lO.prototype._findLabelInContainerByIndex=function(t,e,n){var i;if(void 0===n&&(n=!1),!1===(null===(i=this.options.label)||void 0===i?void 0:i.visible))return r;var r,o="_label-"+e;return!(r=t.get(o))&&n&&(r=t.addShape({id:o,type:"text",attrs:{}}),t.set(o,r)),r},lO.prototype.resetCompareTexts=function(){var e,i,r,n,o,a,s,l,c,u,h;this._shouldResetCompareTexts&&(e=this.options,this._eachShape(function(t,e,n){0==e&&(i=t.get("parent").getBBox(),r=Object(U.get)(n,"__compare__"))}),i&&r&&!1!==Object(U.get)(e,"compareText.visible")&&(n=this._findCompareTextContainer(!0),o=r.yValuesMax,a=r.compareValues,s=i.minX,l=i.maxX,c=i.minY,u=i.maxY,h=n.get("children"),[0,1].forEach(function(t){(h[t]||n.addShape({type:"text"})).attr(Object(U.deepMix)({},Object(U.get)(e,"compareText.style"),{text:e.transpose?a[t]:t?"  "+a[t]:a[t]+"  ",x:e.transpose?s+Object(U.get)(e,"compareText.offsetX"):iO(s,l,o[0]/(o[0]+o[1])),y:e.transpose?iO(c,u,o[0]/(o[0]+o[1]))+(t?8:-8):c+Object(U.get)(e,"compareText.offsetY"),opacity:0,textAlign:!e.transpose&&t?"left":"right",textBaseline:e.transpose&&t?"top":"bottom"}))})))},lO.prototype.fadeInCompareTexts=function(i,t){var r,e=this._findCompareTextContainer();e&&(r=e.get("children"),[0,1].forEach(function(t){var e,n=r[t];n&&(e={opacity:1},i?n.animate(e,i):n.attr(e))})),i&&t&&setTimeout(t,i)},lO.prototype.fadeOutCompareTexts=function(i,t){var r,e=this._findCompareTextContainer();e&&(r=e.get("children"),[0,1].forEach(function(t){var e,n=r[t];n&&(e={opacity:0},i?n.animate(e,i):n.attr(e))})),i&&t&&setTimeout(t,i)},lO.prototype.refreshCompareTexts=function(t){var e,n,i,r=this;!1!==this.options.animation&&(e=this._calcRefreshFadeDurations(),n=e.fadeInDuration,i=e.fadeOutDuration,this._shouldResetCompareTexts=!1,this.fadeOutCompareTexts(i,function(){r._shouldResetCompareTexts=!0,r.resetCompareTexts(),r.fadeInCompareTexts(n,t)}))},lO.prototype._findCompareTextContainer=function(t){void 0===t&&(t=!1);var e=this.view.middleGroup,n=e.get("compareTextContainer");return!n&&t&&(n=e.addGroup(),e.set("compareTextContainer",n)),n},lO.prototype._eachShape=function(r){var t,o,a=this._findCheckedData(this.getData()),s=a.length,l=0;null!==(t=this._getGeometry())&&void 0!==t&&t.elements.forEach(function(t,e){var n=t.shape,i=a[l];l<s&&r(n,l,i,o,e),o=i,l++})},lO.prototype._getGeometry=function(){return this.view.geometries[0]},lO.prototype._getAdjustedTextFillByShape=function(t){var e=t.attr("fill"),n=t.attr("opacity")?t.attr("opacity"):1,i=Ny(e);return Yy([{from:0,to:85,color:"white"},{from:85,to:170,color:"#F6F6F6"},{from:170,to:255,color:"black"}],Math.round(.299*i[0]+.587*i[1]+.114*i[2])/n)},lO.prototype._genCustomFieldForDynamicHeight=function(r){var o=this.options,a=r.reduce(function(t,e){return t+e[o.yField]},0),s=1;r.forEach(function(t,e){var n=t[o.yField],i=s-n/a;t.__custom__={datumIndex:e,dataLength:r.length,ratioUpper:s,ratioLower:i,reverse:o.transpose},s=i})},lO.prototype._findCheckedDataByMouseDownLegendItem=function(t){var n=t.get("parent").get("children").map(function(t){return!t.get("unchecked")});return this.getData().filter(function(t,e){return n[e]})},lO.prototype._findCheckedDataInNewData=function(t){var e=this.options,n=this.view.getController("legend").container.findAll(function(t){return"legend-item"==t.get("name")}).filter(function(t){return t.get("unchecked")}).map(function(t){return t.get("id").replace("-legend-item-","")});return t.filter(function(t){return!Object(U.contains)(n,t[e.xField])})},lO.prototype._findCheckedData=function(t){var e,n=this.options;if(null!==(e=n.legend)&&void 0!==e&&e.visible){var i=this.view.getController("legend").container.findAll(function(t){return"legend-item"==t.get("name")}).filter(function(t){return!t.get("unchecked")}).map(function(t){return t.get("id").replace("-legend-item-","")});return t.filter(function(t){return Object(U.contains)(i,t[n.xField])})}return this.processData(n.data)},lO.prototype._reduceDataForCompare=function(n){var l,c=this.options,u=[-1/0,-1/0];return(n=n.reduce(function(t,e){var n,i=e[c.xField],r=e[c.yField],o=e[c.compareField];l=l||o;var a=t.find(function(t){return t[c.xField]==i});a||((n={})[c.xField]=i,n[c.yField]=0,n.__compare__={compareValues:[],yValues:[],yValuesMax:[],yValuesNext:void 0,transpose:c.transpose},a=n,t.push(a));var s=o==l?0:1;return a.__compare__.yValues[s]=r,u[s]<r&&(u[s]=r),a.__compare__.compareValues[s]=o,t},[])).forEach(function(t,e){t[c.yField]=Object(U.get)(t,"__compare__.yValues",[]).reduce(function(t,e){return t+e},0),Object(U.set)(t,"__compare__.yValuesMax",u),Object(U.set)(t,"__compare__.yValuesNext",Object(U.get)(n,e+1+".__compare__.yValues"))}),n},lO.prototype._updateDataForCompare=function(n){var i=[-1/0,-1/0];n.forEach(function(t){var e=Object(U.get)(t,"__compare__.yValues");[0,1].forEach(function(t){e[t]>i[t]&&(i[t]=e[t])})}),n.forEach(function(t,e){Object(U.set)(t,"__compare__.yValuesMax",i),Object(U.set)(t,"__compare__.yValuesNext",Object(U.get)(n,e+1+".__compare__.yValues"))})},lO);function lO(t){var r=rO.call(this,t)||this;return r.type="funnel",r._shouldResetPercentages=!0,r._shouldResetLabels=!0,r._shouldResetCompareTexts=!0,r._legendsListenerAttached=!1,r._onLegendContainerMouseDown=function(t){var e,n,i=r.options;t.target.get("name").startsWith("legend-item")&&((e=t.target.get("parent")).set("unchecked",!e.get("unchecked")),r.refreshPercentages(),r.refreshLabels(),i.dynamicHeight&&(n=r._findCheckedDataByMouseDownLegendItem(e),r._genCustomFieldForDynamicHeight(n)),i.compareField&&(n=r._findCheckedDataByMouseDownLegendItem(e),r._updateDataForCompare(n),r.refreshCompareTexts()))},r.adjustProps(r.options),t.dynamicHeight&&r._genCustomFieldForDynamicHeight(r.getData()),t.compareField&&(r.options.data=r._reduceDataForCompare(r.getData())),r}var cO,uO=sO;function hO(){return null!==cO&&cO.apply(this,arguments)||this}zf("funnel",sO);cO=Wf,Object(q.__extends)(hO,cO),hO.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="funnel",cO.prototype.createLayers.call(this,e)},hO.getDefaultOptions=uO.getDefaultOptions;var pO,fO=(pO=$x,Object(q.__extends)(dO,pO),dO.getDefaultOptions=function(){return Object(U.deepMix)({},pO.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},dO.prototype.getColorScale=function(){var t=this.options.stackField;return this.view.getScaleByField(t)},dO.prototype.adjustRoseAdjust=function(){return[{type:"stack"}]},dO.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.stackField]))},dO);function dO(){var t=null!==pO&&pO.apply(this,arguments)||this;return t.type="stackedRose",t.baseType="rose",t}var gO,yO=fO;function vO(){return null!==gO&&gO.apply(this,arguments)||this}zf("stackedRose",fO);gO=Wf,Object(q.__extends)(vO,gO),vO.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="stackedRose",gO.prototype.createLayers.call(this,e)},vO.prototype.getRadiusScale=function(){return this.layers[0].getRadiusScale()},vO.prototype.getAngleScale=function(){return this.layers[0].getAngleScale()},vO.getDefaultOptions=yO.getDefaultOptions;var mO,bO=(mO=$x,Object(q.__extends)(xO,mO),xO.getDefaultOptions=function(){return Object(U.deepMix)({},mO.getDefaultOptions.call(this),{xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,alignTick:!1,style:{lineWidth:.5}},label:{offset:5,autoRotate:!0}},yAxis:{visible:!1}})},xO.prototype.getColorScale=function(){var t=this.options.groupField;if(t)return this.view.getScaleByField(t)},xO.prototype.adjustRoseAdjust=function(){return[{type:"dodge",marginRatio:1}]},xO.prototype.geometryTooltip=function(){this.rose.tooltip={};var t=this.options.tooltip;t.fields&&(this.rose.tooltip.fields=t.fields),t.formatter&&(this.rose.tooltip.callback=t.formatter,t.fields||(this.rose.tooltip.fields=[this.options.radiusField,this.options.categoryField,this.options.groupField]))},xO);function xO(){var t=null!==mO&&mO.apply(this,arguments)||this;return t.type="groupedRose",t.baseType="rose",t}var OO,wO=bO;function _O(){return null!==OO&&OO.apply(this,arguments)||this}zf("groupedRose",bO);OO=Wf,Object(q.__extends)(_O,OO),_O.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="groupedRose",OO.prototype.createLayers.call(this,e)},_O.getDefaultOptions=wO.getDefaultOptions;var CO=B({area:"area",line:"line",point:"point"});Object(U.assign)(L,CO);jf("radar",{areaStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{lineWidth:1,stroke:"#333333"}},lineStyle:{normal:{},active:function(t){return{opacity:t.opacity||1}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:function(t){return{lineWidth:(t.lineWidth||1)+2}}},pointStyle:{normal:{},active:function(t){var e=t.fill||t.fillStyle,n=t.size||t.radius;return{radius:n+1,shadowBlur:n,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:1}},disable:function(t){return{opacity:.5*(t.opacity||t.fillOpacity||1)}},selected:function(t){var e=t.fill||t.fillStyle,n=t.size||t.radius;return{radius:n+2,shadowBlur:n,shadowColor:e,stroke:e,strokeOpacity:1,lineWidth:2}}}});var jO,SO={area:"area",line:"line",point:"point"},MO=(jO=Df,Object(q.__extends)(kO,jO),kO.getDefaultOptions=function(){return Object(U.deepMix)({},jO.getDefaultOptions.call(this),{width:400,height:400,title:{visible:!1},description:{visible:!1},forceFit:!0,padding:"auto",radius:.8,smooth:!1,line:{visible:!0,size:2,style:{opacity:1}},area:{visible:!0,style:{opacity:.25}},point:{visible:!1,size:4,shape:"point",style:{opacity:1}},angleAxis:{visible:!0,autoRotateTitle:!0,line:{visible:!1},tickLine:{visible:!1},grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,offset:16,autoRotate:!0,autoHide:!0},title:{visible:!1}},radiusAxis:{min:0,visible:!0,nice:!0,autoRotateTitle:!0,line:{visible:!0},tickLine:{visible:!0},gridType:"line",grid:{visible:!0,line:{style:{lineDash:[0,0]}}},label:{visible:!0,autoHide:!0,autoRotate:!0},title:{visible:!1}},label:{visible:!1,type:"point"},legend:{visible:!0,position:"left-top"},tooltip:{visible:!0,shared:!0,showCrosshairs:!1}})},kO.prototype.init=function(){var t=this.options;t.xField=t.angleField,t.yField=t.radiusField,jO.prototype.init.call(this)},kO.prototype.getAngleScale=function(){var t=this.options.angleField;return this.view.getScaleByField(t)},kO.prototype.getRadiusScale=function(){var t=this.options.radiusField;return this.view.getScaleByField(t)},kO.prototype.getColorScale=function(){var t=this.options.seriesField;return this.view.getScaleByField(t)},kO.prototype.geometryParser=function(t,e){return SO[e]},kO.prototype.scale=function(){var t=this.options,e={};e[t.angleField]={},Object(U.has)(t,"angleAxis")&&Td(e[t.angleField],t.angleAxis),e[t.radiusField]={},Object(U.has)(t,"radiusAxis")&&Td(e[t.radiusField],t.radiusAxis),this.setConfig("scales",e),jO.prototype.scale.call(this)},kO.prototype.coord=function(){var t={type:"polar",cfg:{radius:this.options.radius}};this.setConfig("coordinate",t)},kO.prototype.axis=function(){var t=this.options,e=hp("axis",{plot:this,dim:"angle"}),n=hp("axis",{plot:this,dim:"radius"}),i={};i[t.angleField]=e,i[t.radiusField]=n,this.setConfig("axes",i)},kO.prototype.addGeometry=function(){var t,e,n,i=this.options;i.area.visible&&(t=kd("area","main",{plot:this}),this.setConfig("geometry",t),this.area=t),i.line&&i.line.visible&&(e=kd("line","main",{plot:this}),this.setConfig("geometry",e),this.line=e),i.point&&i.point.visible&&(n=kd("point","guide",{plot:this}),this.setConfig("geometry",n),this.point=n),i.label&&this.label(),i.tooltip&&(i.tooltip.fields||i.tooltip.formatter)&&this.geometryTooltip()},kO.prototype.geometryTooltip=function(){var t=this.line?this.line:this.area;t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[this.options.angleField,this.options.radiusField]),this.options.seriesField&&t.tooltip.fields.push(this.options.seriesField))},kO.prototype.label=function(){var t=this.options;if(!1===t.label.visible)return this.point&&(this.point.label=!1),this.line&&(this.line.label=!1),void(this.area&&(this.area.label=!1));var e=hp("label",Object(q.__assign)({fields:[t.radiusField],cfg:{type:"polar",autoRotate:!1},plot:this},t.label));this.point?this.point.label=e:this.line?this.line.label=e:this.area&&(this.area.label=e)},kO.prototype.annotation=function(){},kO.prototype.animation=function(){jO.prototype.animation.call(this),!1===this.options.animation&&(this.area&&(this.area.animate=!1),this.line&&(this.line.animate=!1),this.point&&(this.point.animate=!1))},kO.prototype.parseEvents=function(){jO.prototype.parseEvents.call(this,f)},kO);function kO(){var t=null!==jO&&jO.apply(this,arguments)||this;return t.type="radar",t}var TO,PO=MO;function AO(){return null!==TO&&TO.apply(this,arguments)||this}zf("radar",MO);TO=Wf,Object(q.__extends)(AO,TO),AO.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="radar",TO.prototype.createLayers.call(this,e)},AO.prototype.getAngleScale=function(){return this.layers[0].getAngleScale()},AO.prototype.getRadiusScale=function(){return this.layers[0].getRadiusScale()},AO.prototype.getColorScale=function(){return this.layers[0].getColorScale()},AO.getDefaultOptions=PO.getDefaultOptions;var EO=(LO.prototype.render=function(){var t;Object(U.isElement)(this.container)&&(this.wrapperNode=Object(mt.createDom)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),Object(mt.modifyCSS)(this.wrapperNode,{position:"absolute",pointerEvents:"none"}),t=Object(mt.createDom)(this.html),this.wrapperNode.appendChild(t),this.setDomPosition(this.x,this.y))},LO.prototype.updateHtml=function(t){this.wrapperNode.innerHTML=t},LO.prototype.updatePosition=function(t,e){this.x=t,this.y=e,this.setDomPosition(t,e)},LO.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},LO.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},LO.prototype.setDomPosition=function(t,e){var n=t,i=e,r=Object(mt.getOuterWidth)(this.wrapperNode),o=Object(mt.getOuterHeight)(this.wrapperNode);"middle"===this.options.alignX&&(n=t-r/2),"middle"===this.options.alignY&&(i=e-o/2),Object(mt.modifyCSS)(this.wrapperNode,{top:Math.round(i)+"px",left:Math.round(n)+"px"})},LO);function LO(t){var e=this.getDefaultOptions();this.options=Object(U.deepMix)(e,t,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}var IO;function BO(t){var e=IO.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}var DO=(IO=EO,Object(q.__extends)(BO,IO),BO.prototype.getTotalHtmlString=function(){var t,e=this.plot.options,n=e.value,i=void 0===n?0:n,r=e.statistic;return r&&!r.visible?"":(t=this.options.htmlContent(i),'<div class="liquid-guide-html '+this.statisticClass+"\" style=color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;>"+('<span class="liquid-guide-value" style=font-size:32px;font-weight:bold;color:#4D4D4D>'+t+"</span>")+"</div>")},BO.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,i=t.width,r=t.height;this.x=e+i/2,this.y=n+r/2},BO),FO=B({liquid:"intervl",statistic:"annotation-text"});Object(U.assign)(L,FO);var RO=wf(),NO=function(t,e){e.color&&!t.fill&&(t.fill=e.color),Object(U.isNumber)(e.opacity)&&(t.opacity=t.fillOpacity=e.opacity)},YO=function(t,e){e.color&&!t.stroke&&(t.stroke=e.color),Object(U.isNumber)(e.opacity)&&(t.opacity=t.strokeOpacity=e.opacity)},VO=function(t,e,n){return(1-n)*t+n*e};function XO(t,e,n,i,r,o,a){for(var s=2*Math.ceil(2*t/n*4),l=[],c=i;c<2*-Math.PI;)c+=2*Math.PI;for(;0<c;)c-=2*Math.PI;var u=o-t+(c=c/Math.PI/2*n)-2*t;l.push(["M",u,e]);for(var h,p,f,d,g=0,y=0;y<s;++y){var v=(h=y*n/4,f=n,d=r,0===(p=y%4)?[[h+.5*f/Math.PI/2,d/2],[h+.5*f/Math.PI,d],[h+f/4,d]]:1===p?[[h+.5*f/Math.PI/2*(Math.PI-2),d],[h+.5*f/Math.PI/2*(Math.PI-1),d/2],[h+f/4,0]]:2===p?[[h+.5*f/Math.PI/2,-d/2],[h+.5*f/Math.PI,-d],[h+f/4,-d]]:[[h+.5*f/Math.PI/2*(Math.PI-2),-d],[h+.5*f/Math.PI/2*(Math.PI-1),-d/2],[h+f/4,0]]);l.push(["C",v[0][0]+u,-v[0][1]+e,v[1][0]+u,-v[1][1]+e,v[2][0]+u,-v[2][1]+e]),y===s-1&&(g=v[2][0])}return l.push(["L",g+u,a+t]),l.push(["L",u,a+t]),l.push(["L",u,e]),l}function GO(t,e){var n=t.get("parent"),i=n.getBBox(),r=Math.min(Math.max(0,Object(U.get)(e,"factor",.5)),1),o=Object(U.get)(e,"delay",0),a=Object(U.get)(e,"duration",800),s=e.callback,l=(i.minX+i.maxX)/2,c=i.maxY,u=n.find(function(t){return"wrap"==t.get("name")}),h=u.attr("opacity");u.attr("opacity",0),u.animate({opacity:h},a*r,"easeLinear",null,o);var p=n.find(function(t){return"waves"==t.get("name")}),f=Object(U.clone)(p.attr("matrix"))||[1,0,0,0,1,0,0,0,1],d=Vp(f,[["t",-l,-c],["s",1,0],["t",l,c]]);p.setMatrix(d),p.animate({matrix:f},a,e.easing,function(){return s&&s(n,u,p)},o)}Fi("interval","liquid-fill-gauge",{draw:function(t,e){var n=1/0;Object(U.each)(t.points,function(t){t.x<n&&(n=t.x)});var i,r,o,a=this.parsePoint({x:.5,y:.5}),s=this.parsePoint({x:n,y:.5}),l=a.x-s.x,c=Math.min(l,s.y),u=(i=t,r={lineWidth:0,fill:RO.color,fillOpacity:.85},o=Object(U.mix)({},r,i.style),NO(o,i),i.color&&!o.stroke&&(o.stroke=o.stroke||i.color),o.fill),h=e.addGroup({name:"waves",attrs:{x:a.x,y:a.y}});h.setClip({type:"circle",attrs:{x:a.x,y:a.y,r:c}});var p,f,d,g=h.get("clipShape");return function(t,e,n,i,r,o,a,s){for(var l=a.getBBox(),c=l.maxX-l.minX,u=l.maxY-l.minY,h=0;h<i;h++){var p=i<=1?0:h/(i-1),f=o.addShape("path",{attrs:{path:XO(s,l.minY+u*n,c/4,0,c/VO(56,64,p),t,e),fill:r,opacity:VO(.6,.3,p)}}),d=Vp([["t",c/2,0]]);f.animate({matrix:d},{duration:VO(5e3,3500,p),repeat:!0})}}(a.x,a.y,1-t.points[1].y,3,u,h,g,4*c),e.addShape("circle",{name:"wrap",attrs:Object(U.mix)((p=t,f={fill:"#fff",stroke:RO.color,fillOpacity:0,lineWidth:2},d=Object(U.mix)({},f,p.style),YO(d,p),d),{x:a.x,y:a.y,r:c,fill:"transparent"})}),h[0]}}),vi(GO.animationName="liquidMoveIn",GO);var zO,HO={column:"interval"},WO={interval:"liquid"},qO=(zO=Df,Object(q.__extends)(UO,zO),UO.getDefaultOptions=function(){return Object(U.deepMix)({},zO.getDefaultOptions.call(this),{padding:[0,0,0,0],animation:{factor:.4,easing:"easeExpOut",duration:800},liquidStyle:{lineWidth:2},color:"#6a99f9",interactions:[],statistic:{visible:!0}})},UO.prototype.beforeInit=function(){var t=this.options,e=t.min,n=t.max,i=t.value;if(!Object(U.isNumber)(e))throw new Error("The min value of Liquid is required, and the type of min must be Number.");if(!Object(U.isNumber)(n))throw new Error("The max value of Liquid is required, and the type of max must be Number.");if(!Object(U.isNumber)(i))throw new Error("The value of Liquid is required, and the type of value must be Number.")},UO.prototype.init=function(){this.options.data=[{}],zO.prototype.init.call(this)},UO.prototype.coord=function(){},UO.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,i={value:{}};Td(i.value,{min:Math.min(e,n),max:Math.max(e,n)}),this.setConfig("scales",i),zO.prototype.scale.call(this)},UO.prototype.axis=function(){this.setConfig("axes",!1)},UO.prototype.adjustLiquid=function(t){var e=this.options;t.shape={values:["liquid-fill-gauge"]},t.tooltip=!1;var n=e.liquidStyle;Object(U.isFunction)(n)&&(n=n()),n&&(t.style=n)},UO.prototype.addGeometry=function(){var t=kd("interval","main",{positionFields:[1,"value"],plot:this});this.adjustLiquid(t);var e=this.getViewRange(),n=.8*Math.min(e.width,e.height),i=this.options.liquidSize?this.options.liquidSize:n;t.size={values:[i]},this.liquid=t,this.setConfig("geometry",t)},UO.prototype.animation=function(){var t,e,n,i=this.options;!1===i.animation?this.liquid.animate=!1:(t=Object(U.get)(i,"animation.factor"),e=Object(U.get)(i,"animation.easing"),n=Object(U.get)(i,"animation.duration"),this.liquid.animate={appear:{animation:"liquidMoveIn",factor:t,easing:e,duration:n}})},UO.prototype.geometryParser=function(t,e){return"g2"===t?HO[e]:WO[e]},UO.prototype.annotation=function(){var t=[],e=this.extractStatistic();t.push(e),this.setConfig("annotations",t)},UO.prototype.useHtmlContent=function(){var t=this.options.statistic||{};return Object(U.isFunction)(t.htmlContent)},UO.prototype.extractStatistic=function(){if(!this.useHtmlContent()){var t,e,n=this.options,i=n.statistic||{},r=Object(U.isFunction)(i.formatter)?i.formatter(n.value):""+n.value;if(r&&(t=Math.min(this.width,this.height)/r.length*.5,e=Math.max(1,Math.ceil(.025*t))),!1!==i.visible){var o=Object(U.deepMix)({style:{fontSize:t,shadowBlur:e}},{top:!0,content:r,type:"text",position:["50%","50%"],style:{opacity:void 0,fill:"transparent",shadowColor:"transparent",textAlign:"center"}},i);return delete o.visible,delete o.formatter,delete o.adjustColor,o}}},UO.prototype.parseEvents=function(){zO.prototype.parseEvents.call(this,d)},UO.prototype.afterRender=function(){var t;null!==(t=this.options.statistic)&&void 0!==t&&t.visible&&!this.useHtmlContent()&&this.fadeInAnnotation();var e,n,i=this.options,r=i.padding?i.padding:this.config.theme.padding;i.defaultState&&"auto"!==r&&this.stateController.defaultStates(i.defaultState),"auto"===r&&this.paddingController.processAutoPadding(),this.useHtmlContent()&&(e=this.canvas.get("container"),this.statistic&&e.removeChild(this.statistic.wrapperNode),this.options.statistic&&this.options.statistic.visible&&(n=this.canvas.get("container"),Object(mt.modifyCSS)(n,{position:"relative"}),this.statistic=new DO(Object(q.__assign)({container:n,view:this.view,plot:this},this.options.statistic)),this.statistic.render()),zO.prototype.afterRender.call(this))},UO.prototype.processData=function(){return[{_:"_",value:this.options.value}]},UO.prototype.changeValue=function(t){this.options.value=t,this.changeData([])},UO.prototype.fadeInAnnotation=function(){var t=this,e=this.options,n=this.view.foregroundGroup.findAll(function(t){return"annotation-text"===t.get("name")})[0],i=e.animation||{},r=this.calcAnnotationColorStyle();this.shouldFadeInAnnotation?n.animate(r,i.duration*Math.min(1,1.5*i.factor),null,function(){t.shouldFadeInAnnotation=!1}):Object(U.forIn)(r,function(t,e){return n.attr(e,t)})},UO.prototype.calcAnnotationColorStyle=function(){var t=this.options,e={fill:"#303030",shadowColor:"white"};if(!1===Object(U.get)(t,"statistic.adjustColor"))return{fill:Object(U.get)(t,"statistic.style.fill",e.fill),shadowColor:Object(U.get)(t,"statistic.style.shadowColor",e.shadowColor)};var n=t.min,i=t.max,r=t.value,o=(n=Math.min(n,i))==(i=Math.max(n,i))?1:(r-n)/(i-n);if(.55<o){var a=Ny(this.options.color);return Math.round(.299*a[0]+.587*a[1]+.114*a[2])/.8<156?{fill:"#f6f6f6",shadowColor:"black"}:e}return e},UO.prototype.updateConfig=function(t){zO.prototype.updateConfig.call(this,t),this.shouldFadeInAnnotation=!0},UO.prototype.getViewRange=function(){var t=zO.prototype.getViewRange.call(this),e=this.options.liquidStyle,n=e.lineWidth?e.lineWidth:2,i=t.minX,r=t.minY,o=t.width,a=t.height,s=Math.min(o,a)-2*n;return new X(i+o/2-s/2,r+a/2-s/2,s,s)},UO);function UO(){var t=null!==zO&&zO.apply(this,arguments)||this;return t.type="liquid",t.shouldFadeInAnnotation=!0,t}var KO,ZO=qO;function $O(){return null!==KO&&KO.apply(this,arguments)||this}zf("liquid",qO);KO=Wf,Object(q.__extends)($O,KO),$O.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="liquid",KO.prototype.createLayers.call(this,e)},$O.prototype.changeValue=function(e,t){var n;void 0===t&&(t=!1),t?this.eachLayer(function(t){t instanceof ZO&&t.changeValue(e)}):(n=this.layers[0])instanceof ZO&&n.changeValue(e)},$O.getDefaultOptions=ZO.getDefaultOptions;var QO,JO=(QO=Km,Object(q.__extends)(tw,QO),tw.prototype.init=function(){this.options.xField="range",this.options.yField="count",QO.prototype.init.call(this)},tw.prototype.processData=function(t){var r=this,e=this.options,o=e.binField,n=e.binWidth,i=e.binNumber,a=Object(U.clone)(t);Object(U.sortBy)(a,o);var s=Object(U.valuesOfKey)(a,o),l=Object(U.getRange)(s),c=l.max-l.min,u=!n&&i?c/i:n;n||i||(u=c/Rh(s));var h={};Object(U.each)(a,function(t){var e=t[o],n=r.getBin(e,u),i=n[0]+"-"+n[1];Object(U.hasKey)(h,i)||(h[i]={name:i,range:n,count:0,data:[]}),h[i].data.push(t),h[i].count+=1});var p=[];return Object(U.each)(h,function(t){p.push(t)}),p},tw.prototype.scale=function(){QO.prototype.scale.call(this);var t=this.config.scales.range;t.nice=!1,t.type="linear"},tw.prototype.getBin=function(t,e){var n=Math.floor(t/e);return[e*n,e*(n+1)]},tw);function tw(){var t=null!==QO&&QO.apply(this,arguments)||this;return t.type="histogram",t}var ew,nw=JO;function iw(){return null!==ew&&ew.apply(this,arguments)||this}zf("histogram",JO);ew=Wf,Object(q.__extends)(iw,ew),iw.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="histogram",ew.prototype.createLayers.call(this,e)},iw.getDefaultOptions=nw.getDefaultOptions;var rw,ow={epanechnikov:function(t){return Math.abs(t)<=1?.75*(1-t*t):0},gaussian:function(t){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*Math.pow(t,2))},uniform:function(t){return Math.abs(t)<=1?.5:0},triangle:function(t){return Math.abs(t)<=1?1-Math.abs(t):0},quartic:function(t){var e=1-t*t;return Math.abs(t)<=1?.9375*e*e:0},triweight:function(t){var e=1-t*t;return Math.abs(t)<=1?.9375*Math.pow(e,3):0},cosinus:function(t){var e=Math.PI/4*Math.cos(.5*Math.PI*t);return Math.abs(t)<=1?e:0}},aw=(rw=im,Object(q.__extends)(sw,rw),sw.prototype.init=function(){var t=this.options.xAxis?Object(U.clone)(this.options.xAxis):{};this.options.xField="value",this.options.yField="density",this.options.xAxis=Object(U.deepMix)({},t,{type:"linear"}),this.options.smooth=!0,rw.prototype.init.call(this)},sw.prototype.processData=function(t){var n=this,e=this.options,i=e.binField,r=e.binWidth,o=e.binNumber,a=e.kernel,s=ow[a||"epanechnikov"],l=Object(U.clone)(t);Object(U.sortBy)(l,i);var c=Object(U.valuesOfKey)(l,i),u=Object(U.getRange)(c),h=u.max-u.min,p=o,f=r;!o&&r&&(p=Math.floor(h/r)),!r&&o&&(f=h/o),o||r||(p=Rh(c),f=h/o);var d=new(Object(St.getScale)("linear"))({min:u.min,max:u.max,tickCount:p,nice:!1}).getTicks(),g=[];return Object(U.each)(d,function(t){var e=n.kernelDensityEstimator(f,s,t,c);g.push({value:t.text,density:e})}),g},sw.prototype.kernelDensityEstimator=function(n,i,r,t){var o=0;return Object(U.each)(t,function(t){var e=(r.tickValue-t)/n;o+=i(e)}),0===t.length?0:o/t.length},sw);function sw(){var t=null!==rw&&rw.apply(this,arguments)||this;return t.type="density",t}var lw,cw=aw;function uw(){return null!==lw&&lw.apply(this,arguments)||this}zf("density",aw);lw=Wf,Object(q.__extends)(uw,lw),uw.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="density",lw.prototype.createLayers.call(this,e)},uw.getDefaultOptions=cw.getDefaultOptions;var hw=B({ring:"interval"});Object(U.assign)(L,hw);var pw=(fw.prototype.render=function(){var t;Object(U.isElement)(this.container)&&(this.wrapperNode=Object(mt.createDom)('<div class="g2plot-htmlStatistic"></div>'),this.container.appendChild(this.wrapperNode),Object(mt.modifyCSS)(this.wrapperNode,{position:"absolute",pointerEvents:"none"}),t=Object(mt.createDom)(this.html),this.wrapperNode.appendChild(t),this.setDomPosition(this.x,this.y))},fw.prototype.updateHtml=function(t){this.wrapperNode.innerHTML=t},fw.prototype.updatePosition=function(t,e){this.x=t,this.y=e,this.setDomPosition(t,e)},fw.prototype.destroy=function(){this.container.removeChild(this.wrapperNode)},fw.prototype.getDefaultOptions=function(){return{x:0,y:0,width:0,height:0,html:"",container:null,alignX:"middle",alignY:"middle"}},fw.prototype.setDomPosition=function(t,e){var n=t,i=e,r=Object(mt.getOuterWidth)(this.wrapperNode),o=Object(mt.getOuterHeight)(this.wrapperNode);"middle"===this.options.alignX&&(n=t-r/2),"middle"===this.options.alignY&&(i=e-o/2),Object(mt.modifyCSS)(this.wrapperNode,{top:Math.round(i)+"px",left:Math.round(n)+"px"})},fw);function fw(t){var e=this.getDefaultOptions();this.options=Object(U.deepMix)(e,t,{}),this.x=this.options.x,this.y=this.options.y,this.html=this.options.html,this.container=this.options.container}var dw;function gw(t){var e=dw.call(this,t)||this;return e.view=t.view,e.plot=t.plot,e.statisticClass=t.statisticClass,e.adjustOptions(),e}var yw,vw=(dw=pw,Object(q.__extends)(gw,dw),gw.prototype.triggerOn=function(){var i=this,t=this.options.triggerOn;this.view.on("interval:"+t,Object(U.debounce)(function(t){var e=i.parseStatisticData("item",t.data.data,t.data.color),n=i.getStatisticHtmlString(e);i.updateHtml(n)},150));var e=this.options.triggerOff?this.options.triggerOff:"mouseleave";this.view.on("interval:"+e,Object(U.debounce)(function(){var t=i.getTotalHtmlString();i.updateHtml(t)},150))},gw.prototype.getTotalHtmlString=function(){var t,e;return e=this.options.content?this.options.content:(t=this.getTotalValue(),this.parseStatisticData("total",t)),this.options.htmlContent?this.options.htmlContent(e,this.getStatisticSize()):this.getStatisticTemplate(e)},gw.prototype.adjustOptions=function(){this.html=this.getTotalHtmlString();var t=this.view.coordinateBBox,e=t.minX,n=t.minY,i=t.width,r=t.height;this.x=e+i/2,this.y=n+r/2},gw.prototype.getTotalValue=function(){var t,e=0,n=this.plot.options,i=n.angleField,r=n.colorField,o=this.options.totalLabel;return Object(U.each)(this.plot.options.data,function(t){"number"==typeof t[i]&&(e+=t[i])}),(t={})[i]=e,t[r]=o,t},gw.prototype.parseStatisticData=function(t,e,n){var i=this.plot,r=i.options,o=r.angleField,a=r.colorField,s=i.getScaleByField(o),l=i.getScaleByField(a),c={name:l?l.getText(e[a]):null,value:s.getText(e[o])};return"item"===t&&(c.itemData=e,c.color=n),c},gw.prototype.getStatisticTemplate=function(t){var e,n,i=this.getStatisticSize();return e=t.name,n=t.value,'<div class="ring-guide-html '+this.statisticClass+'" style='+("color:#4d4d4d;font-size:14px;text-align:center;line-height:2;font-family:'-apple-system',BlinkMacSystemFont,'SegoeUI',Roboto,'HelveticaNeue',Helvetica,'PingFangSC','HiraginoSansGB','MicrosoftYaHei',SimSun,'sans-serif';pointer-events:none;width:"+i+"px;")+">"+(e?'<span class="ring-guide-name" style=font-weight:300;white-space: nowrap;text-overflow: ellipsis;>'+e+"</span><br/>":"")+('<span class="ring-guide-value" style=font-size:32px;font-weight:bold;color:#4D4D4D>'+n+"</span>")+"</div>"},gw.prototype.getStatisticSize=function(){var t=this.plot.view.coordinateBBox,e=this.plot.options,n=e.radius,i=e.innerRadius;return Math.min(t.width,t.height)*n*i},gw.prototype.getStatisticHtmlString=function(t){var e=this.options.htmlContent,n=e?e(t,this.getStatisticSize()):this.getStatisticTemplate(t);return n},gw),mw={ring:"interval"},bw={interval:"ring"},xw=(yw=nx,Object(q.__extends)(Ow,yw),Ow.getDefaultOptions=function(){return Object(U.deepMix)({},yw.getDefaultOptions.call(this),{radius:.8,innerRadius:.64,tooltip:{visible:!1},statistic:{visible:!0,totalLabel:"",triggerOn:"mouseenter",triggerOff:"mouseleave"}})},Ow.prototype.beforeInit=function(){yw.prototype.beforeInit.call(this),Ow.centralId++,this.statisticClass="statisticClassId"+Ow.centralId,this.adjustLabelDefaultOptions()},Ow.prototype.afterRender=function(){var t,e=this.canvas.get("container");this.statistic&&(e.removeChild(this.statistic.wrapperNode),this.statistic=null),this.options.statistic&&this.options.statistic.visible&&(t=this.canvas.get("container"),Object(mt.modifyCSS)(t,{position:"relative"}),this.statistic=new vw(Object(q.__assign)({container:t,view:this.view,plot:this,statisticClass:this.statisticClass},this.options.statistic)),this.statistic.render(),this.options.statistic.triggerOn&&this.statistic.triggerOn()),yw.prototype.afterRender.call(this)},Ow.prototype.destroy=function(){this.statistic&&this.statistic.destroy(),yw.prototype.destroy.call(this)},Ow.prototype.geometryParser=function(t,e){return"g2"===t?mw[e]:bw[e]},Ow.prototype.coord=function(){var t=this.options,e={type:"theta",cfg:{radius:t.radius,innerRadius:t.innerRadius}};this.setConfig("coordinate",e)},Ow.prototype.parseEvents=function(){yw.prototype.parseEvents.call(this,g)},Ow.prototype.adjustLabelDefaultOptions=function(){var t,e=this.options.label;e&&"inner"===e.type&&((t=e.style||{}).textAlign||(t.textAlign="center"),e.style=t,e.offset||(e.offset=(this.options.innerRadius-1)/2*100+"%"))},Ow.centralId=0,Ow);function Ow(){var t=null!==yw&&yw.apply(this,arguments)||this;return t.type="donut",t}var ww,_w=xw;function Cw(){return null!==ww&&ww.apply(this,arguments)||this}zf("donut",xw);ww=Wf,Object(q.__extends)(Cw,ww),Cw.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="donut",ww.prototype.createLayers.call(this,e)},Cw.prototype.getAngleScale=function(){return this.layers[0].getAngleScale()},Cw.getDefaultOptions=_w.getDefaultOptions;Fi("interval","waterfall",{draw:function(t,e){var n,i,r,o,a,s,l,c,u,h=(r=!(i=!1),o=(n=t).style,a=n.defaultStyle,s=n.color,l=Object(q.__assign)(Object(q.__assign)({},a),o),s&&(i&&(l.stroke=s),r&&(l.fill=s)),l),p=this.parsePath(function(t){var e=[],n=t[0];e.push(["M",n.x,n.y]);for(var i=1,r=t.length;i<r;i++)e.push(["L",t[i].x,t[i].y]);return e.push(["L",n.x,n.y]),e.push(["z"]),e}(t.points)),f=e.addShape("path",{attrs:Object(q.__assign)(Object(q.__assign)({},h),{path:p}),name:"interval"}),d=Object(U.get)(t.style,"leaderLine");return d&&d.visible&&(c=d.style||{},t.nextPoints&&(u=[["M",t.points[2].x,t.points[2].y],["L",t.nextPoints[0].x,t.nextPoints[0].y]],u=this.parsePath(u),e.addShape("path",{attrs:Object(q.__assign)({path:u,stroke:"#d3d3d3",lineDash:[4,2],lineWidth:1},c),name:"leader-line"}))),f}});var jw,Sw=(jw=Dm,Object(q.__extends)(Mw,jw),Mw.prototype.adjustLabel=function(t,e){var n=e.shape.getBBox(),i=e.getData(),r=i[Lw],o=i[this.layer.options.yField],a=Object(U.isArray)(r)?r[1]:r,s=(n.minY+n.maxY)/2,l="bottom";o<0?(s=n.maxY+2,l="top"):s=n.minY-2,t.attr("y",s),t.attr("text",a),t.attr("textBaseline",l)},Mw);function Mw(){return null!==jw&&jw.apply(this,arguments)||this}function kw(t){this.textAttrs={},this.view=t.view,this.fields=t.fields,this.formatter=t.formatter,this.textAttrs=Object(U.mix)({fill:"#fff",fontSize:12,lineHeight:12,stroke:"rgba(0, 0, 0, 0.45)"},t.style),this._init()}mh("waterfall",Sw);var Tw,Pw=(kw.prototype.draw=function(){var c,u,h=this;this.view&&!this.view.destroyed&&(c=Object(U.clone)(this.view.getData()),this.container=this.view.foregroundGroup.addGroup(),u=this.view.geometries[0].elements.map(function(t){return t.shape}),Object(U.each)(u,function(t,e){var n,i,r,o,a,s,l;t.cfg.origin&&(n=t.cfg.origin.data,i=t.getBBox(),o=r=n[Lw],Object(U.isArray)(r)&&(o=r[1]-r[0]),o=0<o?"+"+o:o,n[Iw]&&(o=r[0]-r[1]),s=o,h.formatter&&(a=u[e].attr("fill"),s=h.formatter(""+o,{_origin:c[e],color:a},e)),(l=h.container.addShape("text",{attrs:Object(q.__assign)({text:s,textBaseline:"middle",textAlign:"center",x:(i.minX+i.maxX)/2,y:(i.minY+i.maxY)/2},h.textAttrs),name:"dill-label"})).getBBox().height>i.height&&l.set("visible",!1))}),this.view.getCanvas().draw())},kw.prototype.clear=function(){this.container&&this.container.clear()},kw.prototype._init=function(){var t=this;this.view.on(N.VIEW_LIFE_CIRCLE.BEFORE_RENDER,function(){t.clear()}),this.view.on(N.VIEW_LIFE_CIRCLE.AFTER_RENDER,function(){t.draw()})},kw),Aw={waterfall:"interval"},Ew={interval:"waterfall"},Lw="$$value$$",Iw="$$total$$",Bw="$$index$$",Dw=(Tw=Df,Object(q.__extends)(Fw,Tw),Fw.getDefaultOptions=function(){return Object(U.deepMix)({},Tw.getDefaultOptions.call(this),{legend:{visible:!1,position:"bottom"},label:{visible:!0,adjustPosition:!0},diffLabel:{visible:!0},leaderLine:{visible:!0},showTotal:{visible:!0,label:""},waterfallStyle:{lineWidth:0},tooltip:{visible:!0,shared:!0,showCrosshairs:!1,showMarkers:!1}})},Fw.prototype.getOptions=function(t){var e=Tw.prototype.getOptions.call(this,t);return this.adjustLegendOptions(e),this.adjustMeta(e),e},Fw.prototype.afterInit=function(){Tw.prototype.afterInit.call(this);var t=this.options;t.diffLabel&&t.diffLabel.visible?this.diffLabel=new Pw({view:this.view,fields:[t.xField,t.yField,Lw],formatter:t.diffLabel.formatter,style:t.diffLabel.style}):this.diffLabel&&(this.diffLabel.clear(),this.diffLabel=null)},Fw.prototype.afterRender=function(){Tw.prototype.afterRender.call(this);var a=this.options;this.view.on("tooltip:change",function(t){for(var e=t.items,n=0;n<e.length;n++){var i,r=e[n],o=Object(U.get)(r,"data",{});r.name=o[a.xField],r.value=o[a.yField],!r.value&&o[Iw]&&(i=o[Lw],r.value=i[0]-i[1]),t.items[n]=r}}),this.renderLabel()},Fw.prototype.renderLabel=function(){var t=tf(this.view,"interval");this.options.label&&this.options.label.visible&&this.doRenderLabel(t,Object(q.__assign)({type:"waterfall"},this.options.label))},Fw.prototype.geometryParser=function(t,e){return"g2"===t?Aw[e]:Ew[e]},Fw.prototype.interaction=function(){this.setConfig("interactions",[{type:"tooltip"},{type:"active-region"}])},Fw.prototype.addGeometry=function(){var t={type:"interval",position:{fields:[this.options.xField,Lw]},shape:{values:["waterfall"]}};t.style=this._parseStyle(),t.color=this._parseColor(),this.waterfall=t,this.options.tooltip&&(this.options.tooltip.fields||this.options.tooltip.formatter)&&this.geometryTooltip(),this.setConfig("geometry",t)},Fw.prototype.processData=function(t){var e,n,i,o=[],r=this.options.xField,a=this.options.yField;return Object(U.map)(t,function(t,e){var n,i,r=t[a];0<e&&(i=o[e-1][Lw],r=Object(U.isArray)(i)?[i[1],t[a]+i[1]]:[i,t[a]+i]),o.push(Object(q.__assign)(Object(q.__assign)({},t),((n={})[Lw]=r,n[Bw]=e,n)))}),this.options.showTotal&&this.options.showTotal.visible&&(n=Object(U.map)(t,function(t){return t[a]}),i=Object(U.reduce)(n,function(t,e){return t+e},0),o.push(((e={})[r]=this.options.showTotal.label,e[a]=null,e[Lw]=[i,0],e[Bw]=o.length,e[Iw]=!0,e))),o},Fw.prototype.scale=function(){var t=this.options,e={};e[t.xField]={type:"cat"},Object(U.has)(t,"xAxis")&&Td(e[t.xField],t.xAxis),e[Lw]={},Object(U.has)(t,"yAxis")&&Td(e[Lw],t.yAxis),this.setConfig("scales",e)},Fw.prototype.axis=function(){var t=hp("axis",{plot:this,dim:"x"}),e=hp("axis",{plot:this,dim:"y"}),n={};n[this.options.xField]=t,n[Lw]=e,this.setConfig("axes",n)},Fw.prototype.coord=function(){},Fw.prototype.parseEvents=function(){Tw.prototype.parseEvents.call(this,y)},Fw.prototype.geometryTooltip=function(){this.waterfall.tooltip={};var t=this.options.tooltip;t.fields&&(this.waterfall.tooltip.fields=t.fields),t.formatter&&(this.waterfall.tooltip.callback=t.formatter,t.fields||(this.waterfall.tooltip.fields=[this.options.xField,Lw]))},Fw.prototype._parseStyle=function(){var n=this.options.waterfallStyle,i=this.options.leaderLine,t={};return Object(U.isFunction)(n)?t.callback=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object.assign({},n.apply(void 0,t),{leaderLine:i})}:t.cfg=Object(q.__assign)(Object(q.__assign)({},n),{leaderLine:i}),t},Fw.prototype._parseColor=function(){var t,e,n,i,r,o,a,s=this,l=this.options,c=this.options,u={fields:[c.xField,c.yField,Lw,Bw]};return Object(U.isFunction)(l.color)?u.callback=l.color:(r="#f4664a",o="#30bf78",a="rgba(0, 0, 0, 0.25)",Object(U.isString)(l.color)?r=o=a=l.color:Object(U.isObject)(l.color)&&(e=(t=l.color).rising,n=t.falling,i=t.total,r=e,o=n,a=i),u.callback=function(t,e,n,i){return i===s.options.data.length?a||(0<=n[0]?r:o):0<=(Object(U.isArray)(n)?n[1]-n[0]:n)?r:o}),u},Fw.prototype.adjustLegendOptions=function(t){var e=t.legend;e&&(e.visible=!1)},Fw.prototype.adjustMeta=function(t){var e,n=t.meta;n&&((e=n?n[t.yField]:{}).alias=e.alias||t.yField,t.meta[Lw]=e)},Fw);function Fw(){var t=null!==Tw&&Tw.apply(this,arguments)||this;return t.type="watarfall",t}var Rw,Nw=Dw;function Yw(){return null!==Rw&&Rw.apply(this,arguments)||this}zf("waterfall",Dw);Rw=Wf,Object(q.__extends)(Yw,Rw),Yw.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="waterfall",Rw.prototype.createLayers.call(this,e)},Yw.getDefaultOptions=Nw.getDefaultOptions;function Vw(t){this.quadrantGroups=[],this.regionData=[],this.lineData=[],this.options=t,this.view=this.options.view,this.init()}var Xw=(Vw.prototype.init=function(){var t,e,n,i,r,o,a,s,l,c,u=this.options,h=u.xBaseline,p=u.yBaseline,f=this.view.getCoordinate(),d=this.view.getScaleByField(this.options.plotOptions.xField),g=this.view.getScaleByField(this.options.plotOptions.yField);h>d.min&&h<d.max?(n=(h-d.min)/(d.max-d.min),t=[new X(f.start.x,f.end.y,f.getWidth()*n,f.getHeight()),new X(f.start.x+f.getWidth()*n,f.end.y,f.getWidth()*(1-n),f.getHeight())],e={start:{x:f.start.x+f.getWidth()*n,y:f.end.y},end:{x:f.start.x+f.getWidth()*n,y:f.start.y}},this.lineData.push(e)):t=[new X(f.start.x,f.end.y,f.getWidth(),f.getHeight())],p>g.min&&p<g.max?(n=(p-g.min)/(g.max-g.min),i={start:{x:f.start.x,y:f.start.y-f.getHeight()*n},end:{x:f.end.x,y:f.start.y-f.getHeight()*n}},this.lineData.push(i),r={name:h<=d.min?"top-right":"top-left",bbox:new X(t[0].minX,t[0].minY,t[0].width,t[0].height*(1-n)),index:h<=d.min?2:0},this.regionData.push(r),o={name:h<=d.min?"bottom-right":"bottom-left",bbox:new X(t[0].minX,t[0].minY+t[0].height*(1-n),t[0].width,t[0].height*n),index:h<=d.min?3:1},this.regionData.push(o),1<t.length&&(a={name:"top-right",bbox:new X(t[1].minX,t[1].minY,t[1].width,t[1].height*(1-n)),index:2},this.regionData.push(a),s={name:"bottom-right",bbox:new X(t[1].minX,t[1].minY+t[1].height*(1-n),t[1].width,t[1].height*n),index:3},this.regionData.push(s))):2===t.length?p<=g.min?(l={name:"top-left",bbox:t[0],index:0},this.regionData.push(l),a={name:"top-right",bbox:t[1],index:2},this.regionData.push(a)):(c={name:"bottom-left",bbox:t[0],index:1},this.regionData.push(c),s={name:"bottom-right",bbox:t[1],index:3},this.regionData.push(s)):h<=d.min?p<=g.min?(a={name:"top-right",bbox:t[0],index:2},this.regionData.push(a)):(s={name:"bottom-right",bbox:t[0],index:3},this.regionData.push(s)):p<=g.min?(l={name:"top-left",bbox:t[0],index:0},this.regionData.push(l)):(c={name:"bottom-left",bbox:t[0],index:1},this.regionData.push(c)),this.container=this.view.backgroundGroup.addGroup()},Vw.prototype.render=function(){var a,s,e,l=this;0<this.regionData.length&&(a=this.getDefaultStyle(),s=this.getRegionStyle(this.regionData),Object(U.each)(this.regionData,function(t){var e,n,i=t.index,r=l.container.addGroup(),o=r.addShape("rect",{attrs:Object(q.__assign)({x:t.bbox.minX,y:t.bbox.minY,width:t.bbox.width,height:t.bbox.height},s[i]),name:"quadrant"});l.options.label&&l.options.label.text&&(e=Object(U.deepMix)({},a.label,l.options.label),n=l.getLabelConfig(t,e),r.addShape("text",{attrs:Object(q.__assign)({},n),name:"quadrant-label"})),o.set("data",t),l.quadrantGroups.push(r)}),e=Object(U.deepMix)({},a.line,this.options.lineStyle),Object(U.each)(this.lineData,function(t){l.container.addShape("path",{attrs:Object(q.__assign)({path:[["M",t.start.x,t.start.y],["L",t.end.x,t.end.y]]},e),name:"quadrant-line"})}),this.view.canvas.draw())},Vw.prototype.clear=function(){this.container&&this.container.clear()},Vw.prototype.destroy=function(){this.container&&this.container.remove()},Vw.prototype.getDefaultStyle=function(){return{line:{stroke:"#9ba29a",lineWidth:1},regionStyle:[{fill:"#000000",opacity:.05},{fill:"#ffffff",opacity:0},{fill:"#ffffff",opacity:0},{fill:"#000000",opacity:.05}],label:{position:"outter-inner",offset:10,style:{fontSize:14,fill:"#ccc"}}}},Vw.prototype.getRegionStyle=function(t){var n,i=this.getDefaultStyle().regionStyle;return this.options.regionStyle&&(n=this.options.regionStyle,Object(U.isArray)(n)?i=i.map(function(t,e){return n.length>e&&n[e]?n[e]:t}):Object(U.isFunction)(n)&&Object(U.each)(t,function(t,e){i[e]=n(t)})),i},Vw.prototype.getLabelConfig=function(t,e){var n=t.index,i=0,r=0,o={},a=e.text;Object(U.isFunction)(a)?a=a(t):Object(U.isArray)(a)&&(a=a[n]);var s=e.position.split("-"),l=t.name.split("-");return"left"===l[1]?("inner"===s[0]&&(i=t.bbox.maxX-e.offset,o.textAlign="right"),"outter"===s[0]&&(i=t.bbox.minX+e.offset,o.textAlign="left")):"right"===l[1]&&("inner"===s[0]&&(i=t.bbox.minX+e.offset,o.textAlign="left"),"outter"===s[0]&&(i=t.bbox.maxX-e.offset,o.textAlign="right")),"top"===l[0]?("inner"===s[1]&&(r=t.bbox.maxY-e.offset,o.textBaseline="bottom"),"outter"===s[1]&&(r=t.bbox.minY+e.offset,o.textBaseline="top")):"bottom"===l[0]&&("inner"===s[1]&&(r=t.bbox.minY+e.offset,o.textBaseline="top"),"outter"===s[1]&&(r=t.bbox.maxY-e.offset,o.textBaseline="bottom")),(o=Object(U.deepMix)({},e.style,o)).lineHeight=o.fontSize,Object(q.__assign)({x:i,y:r,text:a},o)},Vw);function Gw(t,i,r,e){t=t.filter(function(t){var e=i(t),n=r(t);return null!=e&&isFinite(e)&&null!=n&&isFinite(n)}),e&&t.sort(function(t,e){return i(t)-i(e)});for(var n,o,a,s=t.length,l=new Float64Array(s),c=new Float64Array(s),u=0,h=0,p=0;p<s;)a=t[p],l[p]=n=+i(a),c[p]=o=+r(a),u+=(n-u)/++p,h+=(o-h)/p;for(p=0;p<s;++p)l[p]-=u,c[p]-=h;return[l,c,u,h]}function zw(t,e,n,i){for(var r=0,o=0,a=t.length;o<a;o++){var s=t[o],l=+e(s),c=+n(s);null!=l&&isFinite(l)&&null!=c&&isFinite(c)&&i(l,c,r++)}}function Hw(t,e,n,r,o){var a=0,s=0;return zw(t,e,n,function(t,e){var n=e-o(t),i=e-r;a+=n*n,s+=i*i}),1-a/s}function Ww(t){return 180*Math.atan2(t[1][1]-t[0][1],t[1][0]-t[0][0])/Math.PI}function qw(t,e,n){for(var i=Math.log(e-t)*Math.LOG10E+1|0,h=+Math.pow(10,-i/2-1),r=[f(t),f(e)],p=0;function(t){p++;for(var e=t.length,n=!1,i=0;i<e-1;i++){var r=t[i],o=t[i+1],a=function(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}([r,o]),s=f(a[0]),l=Ww([r,a]),c=Ww([r,s]),u=Math.abs(l-c);h<u&&(t.splice(i+1,0,s),n=!0)}return n}(r)&&p<1e4;);return r;function f(t){return[t,n(t)]}}function Uw(t,e,n,i){var r=i-t*t,o=Math.abs(r)<1e-24?0:(n-t*e)/r;return[e-o*t,o]}function Kw(){var f,d=function(t){return t[0]},g=function(t){return t[1]};function e(t){var n=0,i=0,r=0,o=0,a=0,s=f?+f[0]:1/0,l=f?+f[1]:-1/0;zw(t,d,g,function(t,e){i+=(t-i)/++n,r+=(e-r)/n,o+=(t*e-o)/n,a+=(t*t-a)/n,f||(t<s&&(s=t),l<t&&(l=t))});function e(t){return h*t+u}var c=$w(Uw(i,r,o,a),2),u=c[0],h=c[1],p=[[s,e(s)],[l,e(l)]];return p.a=h,p.b=u,p.predict=e,p.rSquared=Hw(t,d,g,r,e),p}return e.domain=function(t){return arguments.length?(f=t,e):f},e.x=function(t){return arguments.length?(d=t,e):d},e.y=function(t){return arguments.length?(g=t,e):g},e}var Zw=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},$w=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a};var Qw=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a};function Jw(){var M,k=function(t){return t[0]},T=function(t){return t[1]};function e(t){for(var e,n,i,r=e_(Gw(t,k,T),4),o=r[0],a=r[1],s=r[2],l=r[3],c=o.length,u=0,h=0,p=0,f=0,d=0,g=0;g<c;)e=o[g],n=a[g++],u+=((i=e*e)-u)/g,h+=(i*e-h)/g,p+=(i*i-p)/g,f+=(e*n-f)/g,d+=(i*n-d)/g;var y=0,v=0,m=M?+M[0]:1/0,b=M?+M[1]:-1/0;zw(t,k,T,function(t,e){y+=(e-y)/++v,M||(t<m&&(m=t),b<t&&(b=t))});function x(t){return _*(t-=s)*t+C*t+j+l}var O=p-u*u,w=u*O-h*h,_=(d*u-f*h)/w,C=(f*O-d*h)/w,j=-_*u,S=qw(m,b,x);return S.a=_,S.b=C-2*_*s,S.c=j-C*s+_*s*s+l,S.predict=x,S.rSquared=Hw(t,k,T,y,x),S}return e.domain=function(t){return arguments.length?(M=t,e):M},e.x=function(t){return arguments.length?(k=t,e):k},e.y=function(t){return arguments.length?(T=t,e):T},e}var t_=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e_=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},n_=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a};var i_=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},r_={exp:function(){var d,g=function(t){return t[0]},y=function(t){return t[1]};function e(t){var r=0,o=0,a=0,s=0,l=0,c=0,u=d?+d[0]:1/0,h=d?+d[1]:-1/0;zw(t,g,y,function(t,e){var n=Math.log(e),i=t*e;o+=(e-o)/++r,s+=(i-s)/r,c+=(t*i-c)/r,a+=(e*n-a)/r,l+=(i*n-l)/r,d||(t<u&&(u=t),h<t&&(h=t))});function e(t){return i*Math.exp(p*t)}var n=Zw(Uw(s/o,a/o,l/o,c/o),2),i=n[0],p=n[1],i=Math.exp(i),f=qw(u,h,e);return f.a=i,f.b=p,f.predict=e,f.rSquared=Hw(t,g,y,o,e),f}return e.domain=function(t){return arguments.length?(d=t,e):d},e.x=function(t){return arguments.length?(g=t,e):g},e.y=function(t){return arguments.length?(y=t,e):y},e},linear:Kw,loess:function(){var B=function(t){return t[0]},D=function(t){return t[1]},F=.3;function e(t){for(var e,n=Qw(Gw(t,B,D,!0),4),i=n[0],r=n[1],o=n[2],a=n[3],s=i.length,l=Math.max(2,~~(F*s)),c=new Float64Array(s),u=new Float64Array(s),h=new Float64Array(s).fill(1),p=-1;++p<=2;){for(var f=[0,l-1],d=0;d<s;++d){for(var g=i[d],y=f[0],v=f[1],m=g-i[y]>i[v]-g?y:v,b=0,x=0,O=0,w=0,_=0,C=1/Math.abs(i[m]-g||1),j=y;j<=v;++j){var S=i[j],M=r[j],k=S*(I=(e=1-(e=Math.abs(g-S)*C)*e*e)*e*e*h[j]);b+=I,x+=k,O+=M*I,w+=M*k,_+=S*k}var T=Qw(Uw(x/b,O/b,w/b,_/b),2),P=T[0],A=T[1];c[d]=P+A*g,u[d]=Math.abs(r[d]-c[d]),function(t,e,n){var i=t[e],r=n[0],o=n[1]+1;if(o>=t.length)return;for(;r<e&&t[o]-i<=i-t[r];)n[0]=++r,n[1]=o,++o}(i,d+1,f)}if(2===p)break;var E=function(t){t.sort(function(t,e){return t-e});var e=t.length/2;return e%1==0?(t[e-1]+t[e])/2:t[Math.floor(e)]}(u);if(Math.abs(E)<1e-12)break;for(var L,d=0,I=void 0;d<s;++d)L=u[d]/(6*E),h[d]=1<=L?1e-12:(I=1-L*L)*I}return function(t,e,n,i){for(var r,o=t.length,a=[],s=0,l=0,c=[];s<o;++s)r=t[s]+n,c[0]===r?c[1]+=(e[s]-c[1])/++l:(l=0,c[1]+=i,c=[r,e[s]],a.push(c));return c[1]+=i,a}(i,c,o,a)}return e.bandwidth=function(t){return arguments.length?(F=t,e):F},e.x=function(t){return arguments.length?(B=t,e):B},e.y=function(t){return arguments.length?(D=t,e):D},e},log:function(){var f,d=function(t){return t[0]},g=function(t){return t[1]};function e(t){var i=0,r=0,o=0,a=0,s=0,l=f?+f[0]:1/0,c=f?+f[1]:-1/0;zw(t,d,g,function(t,e){var n=Math.log(t);r+=(n-r)/++i,o+=(e-o)/i,a+=(n*e-a)/i,s+=(n*n-s)/i,f||(t<l&&(l=t),c<t&&(c=t))});function e(t){return h*Math.log(t)+u}var n=t_(Uw(r,o,a,s),2),u=n[0],h=n[1],p=qw(l,c,e);return p.a=h,p.b=u,p.predict=e,p.rSquared=Hw(t,d,g,o,e),p}return e.domain=function(t){return arguments.length?(f=t,e):f},e.x=function(t){return arguments.length?(d=t,e):d},e.y=function(t){return arguments.length?(g=t,e):g},e},poly:function(){var _,C=function(t){return t[0]},j=function(t){return t[1]},S=3;function e(t){var e;if(1===S)return(e=Kw().x(C).y(j).domain(_)(t)).coefficients=[e.b,e.a],delete e.a,delete e.b,e;if(2===S)return(e=Jw().x(C).y(j).domain(_)(t)).coefficients=[e.c,e.b,e.a],delete e.a,delete e.b,delete e.c,e;var n,i,r,o,a,s=n_(Gw(t,C,j),4),l=s[0],c=s[1],u=s[2],h=s[3],p=l.length,f=[],d=[],g=S+1,y=0,v=0,m=_?+_[0]:1/0,b=_?+_[1]:-1/0;for(zw(t,C,j,function(t,e){y+=(e-y)/++v,_||(t<m&&(m=t),b<t&&(b=t))}),n=0;n<g;++n){for(o=r=0;r<p;++r)o+=Math.pow(l[r],n)*c[r];for(f.push(o),a=new Float64Array(g),i=0;i<g;++i){for(o=r=0;r<p;++r)o+=Math.pow(l[r],n+i);a[i]=o}d.push(a)}d.push(f);function x(t){t-=u;var e=h+O[0]+O[1]*t+O[2]*t*t;for(n=3;n<g;++n)e+=O[n]*Math.pow(t,n);return e}var O=function(t){var e,n,i,r,o,a=t.length-1,s=[];for(e=0;e<a;++e){for(n=(r=e)+1;n<a;++n)Math.abs(t[e][n])>Math.abs(t[e][r])&&(r=n);for(i=e;i<1+a;++i)o=t[i][e],t[i][e]=t[i][r],t[i][r]=o;for(n=e+1;n<a;++n)for(i=a;e<=i;i--)t[i][n]-=t[i][e]*t[e][n]/t[e][e]}for(n=a-1;0<=n;--n){for(o=0,i=n+1;i<a;++i)o+=t[i][n]*s[i];s[n]=(t[a][n]-o)/t[n][n]}return s}(d),w=qw(m,b,x);return w.coefficients=function(t,e,n,i){var r,o,a,s,l=Array(t);for(r=0;r<t;++r)l[r]=0;for(r=t-1;0<=r;--r)for(a=e[r],s=1,l[r]+=a,o=1;o<=r;++o)s*=(r+1-o)/o,l[r-o]+=a*Math.pow(n,o)*s;return l[0]+=i,l}(g,O,-u,h),w.predict=x,w.rSquared=Hw(t,C,j,y,x),w}return e.domain=function(t){return arguments.length?(_=t,e):_},e.x=function(t){return arguments.length?(C=t,e):C},e.y=function(t){return arguments.length?(j=t,e):j},e.order=function(t){return arguments.length?(S=t,e):S},e},pow:function(){var d,g=function(t){return t[0]},y=function(t){return t[1]};function e(t){var r=0,o=0,a=0,s=0,l=0,c=0,u=d?+d[0]:1/0,h=d?+d[1]:-1/0;zw(t,g,y,function(t,e){var n=Math.log(t),i=Math.log(e);o+=(n-o)/++r,a+=(i-a)/r,s+=(n*i-s)/r,l+=(n*n-l)/r,c+=(e-c)/r,d||(t<u&&(u=t),h<t&&(h=t))});function e(t){return i*Math.pow(t,p)}var n=i_(Uw(o,a,s,l),2),i=n[0],p=n[1],i=Math.exp(i),f=qw(u,h,e);return f.a=i,f.b=p,f.predict=e,f.rSquared=Hw(t,g,y,c,e),f}return e.domain=function(t){return arguments.length?(d=t,e):d},e.x=function(t){return arguments.length?(g=t,e):g},e.y=function(t){return arguments.length?(y=t,e):y},e},quad:Jw};function o_(t){this.options=Object(U.deepMix)({},{type:"linear",style:{stroke:"#9ba29a",lineWidth:2,opacity:.5,lineJoin:"round",lineCap:"round"},showConfidence:!1,confidenceStyle:{fill:"#ccc",opacity:.1}},t),this.view=this.options.view,this.init()}var a_=(o_.prototype.init=function(){var t=this.options.plotOptions,e=t.xField,n=t.yField,i=t.data,r=r_[this.options.type]().x(function(t){return t[e]}).y(function(t){return t[n]});this.data=this.processData(r(i)),this.container=this.view.backgroundGroup.addGroup()},o_.prototype.render=function(){var t,e=this.view.getScaleByField(this.options.plotOptions.xField),n=this.view.getScaleByField(this.options.plotOptions.yField),i=this.view.getCoordinate(),r=this.data.trendlineData,o=Object(St.getScale)("linear"),a=this.adjustScale(e,r,"x"),s=new o({min:a.min,max:a.max}),l=this.adjustScale(n,r,"y"),c=new o({min:l.min,max:l.max});this.options.showConfidence&&(t=this.getConfidencePath(s,c,i),this.container.addShape("path",{attrs:Object(q.__assign)({path:t},this.options.confidenceStyle),name:"confidence"}));var u=ed(this.getTrendlinePoints(s,c,i),!1,[[0,0],[1,1]]);this.shape=this.container.addShape("path",{attrs:Object(q.__assign)({path:u},this.options.style),name:"trendline"})},o_.prototype.clear=function(){this.container&&this.container.clear()},o_.prototype.destroy=function(){this.container&&this.container.destroy()},o_.prototype.processData=function(r){var o=[],a=[];return Object(U.each)(r,function(t){o.push({x:t[0],y:t[1]});var e,n,i=(e=r.rSquared,n=t[1],1.96*Math.sqrt(e*(1-e)/n));a.push({x:t[0],y0:t[1]-i,y1:t[1]+i})}),{trendlineData:o,confidenceData:a}},o_.prototype.getTrendlinePoints=function(o,a,s){var l=[];return Object(U.each)(this.data.trendlineData,function(t){var e=o.scale(t.x),n=a.scale(t.y),i=s.start.x+s.width*e,r=s.start.y-s.height*n;l.push({x:i,y:r})}),l},o_.prototype.getConfidencePath=function(s,l,c){var u=[],h=[],t=[];Object(U.each)(this.data.confidenceData,function(t){var e=s.scale(t.x),n=l.scale(t.y0),i=l.scale(t.y1),r=c.start.x+c.width*e,o=c.start.y-c.height*n,a=c.start.y-c.height*i;u.push({x:r,y:o}),h.push({x:r,y:a})});for(var e=0;e<u.length;e++){var n=0===e?"M":"L",i=u[e];isNaN(i.x)||isNaN(i.y)||t.push([n,i.x,i.y])}for(var r=h.length-1;0<r;r--){i=h[r];isNaN(i.x)||isNaN(i.y)||t.push(["L",i.x,i.y])}return t},o_.prototype.adjustScale=function(t,e,n){var i=t.min,r=t.max,o=this.options.plotOptions,a=o.data,s=o.xField,l=o.yField,c="x"===n?s:l,u=Object(U.minBy)(a,c)[c],h=Object(U.maxBy)(a,c)[c],p=(i-u)/(h-u),f=(r-h)/(h-u),d=Object(U.minBy)(e,n)[n],g=Object(U.maxBy)(e,n)[n];return{min:d+p*(g-d),max:g+f*(g-d)}},o_),s_=B({point:"point",trendline:"trendline",confidence:"confidence",quadrant:"quadrant",quadrantLabel:"quadrant-label",quadrantLine:"quadrant-line"});Object(U.assign)(L,s_);jf("scatter",{pointStyle:{normal:{},active:function(t){return{stroke:t.stroke||"#000"}},selected:function(t){return{stroke:t.stroke||"#000",lineWidth:t.lineWidth||2}},inactive:function(t){return{fillOpacity:t.fillOpacity||t.opacity||.3}}}});var l_,c_={scatter:"point"},u_={point:"point"},h_=(l_=Df,Object(q.__extends)(p_,l_),p_.getDefaultOptions=function(){return Object(U.deepMix)({},l_.getDefaultOptions.call(this),{pointSize:4,pointStyle:{lineWidth:1,strokeOpacity:1,fillOpacity:.95,stroke:"#fff"},xAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},yAxis:{nice:!0,grid:{visible:!0},line:{visible:!0}},tooltip:{visible:!0,shared:null,showTitle:!1,showMarkers:!1,showCrosshairs:!1},label:{visible:!1},shape:"circle"})},p_.prototype.afterRender=function(){l_.prototype.afterRender.call(this),this.quadrant&&this.quadrant.destroy(),this.trendline&&this.trendline.destroy(),this.options.quadrant&&this.options.quadrant.visible&&(this.quadrant=new Xw(Object(q.__assign)({view:this.view,plotOptions:this.options},this.options.quadrant)),this.quadrant.render()),this.options.trendline&&this.options.trendline.visible&&(this.trendline=new a_(Object(q.__assign)({view:this.view,plotOptions:this.options},this.options.trendline)),this.trendline.render())},p_.prototype.destroy=function(){this.quadrant&&(this.quadrant.destroy(),this.quadrant=null),this.trendline&&(this.trendline.destroy(),this.trendline=null),l_.prototype.destroy.call(this)},p_.prototype.isValidLinearValue=function(t){return!Object(U.isNil)(t)&&!Number.isNaN(Number(t))},p_.prototype.processData=function(t){var e=this,n=this.options,i=n.xField,r=n.yField,o=Object(U.get)(this.options,["xAxis","type"],"linear"),a=Object(U.get)(this.options,["yAxis","type"],"linear");return o&&a?t.filter(function(t){return!("linear"===o&&!e.isValidLinearValue(t[i]))&&!("linear"===a&&!e.isValidLinearValue(t[r]))}).map(function(t){var e;return Object(q.__assign)(Object(q.__assign)({},t),((e={})[i]=("linear"===o?Number:String)(t[i]),e[r]=("linear"===a?Number:String)(t[r]),e))}):t},p_.prototype.geometryParser=function(t,e){return"g2"===t?c_[e]:u_[e]},p_.prototype.scale=function(){var t=this.options,e={};e[t.xField]={},Object(U.has)(t,"xAxis")&&Td(e[t.xField],t.xAxis),e[t.yField]={},Object(U.has)(t,"yAxis")&&Td(e[t.yField],t.yAxis);var n,i=Object(U.find)(t.interactions,function(t){return"timeline"===t.type});i&&Object(U.get)(i,"cfg.key")&&(e[n=i.cfg.key]?e[n].key=!0:e[n]={key:!0}),this.setConfig("scales",e),l_.prototype.scale.call(this)},p_.prototype.coord=function(){},p_.prototype.annotation=function(){},p_.prototype.addGeometry=function(){var t,e,n,i=kd("point","circle",{plot:this});this.points=i,this.options.tooltip&&this.options.tooltip.visible&&(e=(t=this.options.tooltip).showTitle,n=t.titleField,this.extractTooltip(),this.setConfig("tooltip",Object(q.__assign)({showTitle:e,title:e?n:void 0},this.options.tooltip))),this.options.label&&this.label(),this.setConfig("geometry",i)},p_.prototype.label=function(){var t,e=this.options;!1!==e.label.visible?(t=hp("label",Object(q.__assign)(Object(q.__assign)({fields:e.label.field?[e.label.field]:[e.yField]},e.label),{plot:this})),this.points&&(this.points.label=t)):this.points&&(this.points.label=!1)},p_.prototype.animation=function(){l_.prototype.animation.call(this),!1===this.options.animation&&(this.points.animate=!1)},p_.prototype.parseEvents=function(t){l_.prototype.parseEvents.call(this,t||v)},p_.prototype.extractTooltip=function(){this.points.tooltip={};var t=this.options.tooltip;t.fields?this.points.tooltip.fields=t.fields:this.points.tooltip.fields=[this.options.xField,this.options.yField],t.formatter&&(this.points.tooltip.callback=t.formatter,this.options.colorField&&this.points.tooltip.fields.push(this.options.colorField))},p_);function p_(){var t=null!==l_&&l_.apply(this,arguments)||this;return t.type="scatter",t}var f_,d_=h_;function g_(){return null!==f_&&f_.apply(this,arguments)||this}zf("scatter",h_);f_=Wf,Object(q.__extends)(g_,f_),g_.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="scatter",f_.prototype.createLayers.call(this,e)},g_.getDefaultOptions=d_.getDefaultOptions;var y_=n(1664);Fi("point","bubble-point",{draw:function(t,e){var n,i=Object(y_.drawPoints)(this,t,e,"circle",!1);return t.style.stroke||(n=i.attr("fill"),i.attr("stroke",n)),i},getMarker:function(t){return{symbol:"circle",style:{r:4.5,fill:t.color}}}});jf("bubble",{pointStyle:{normal:{},active:function(t){return{stroke:t.stroke||"#000",fillOpacity:t.fillOpacity||t.opacity||.95}},selected:function(t){return{stroke:t.stroke||"#000",lineWidth:t.lineWidth||2}},inactive:function(t){return{fillOpacity:t.fillOpacity||t.opacity||.3}}}});var v_,m_=(v_=d_,Object(q.__extends)(b_,v_),b_.getDefaultOptions=function(){return Object(U.deepMix)({},v_.getDefaultOptions.call(this),{pointSize:[2,32],pointStyle:{stroke:null,strokeOpacity:1,fillOpacity:.5},label:{position:"middle",style:{stroke:"#fff",lineWidth:2}},shape:"bubble-point"})},b_.prototype.getSizeScale=function(){var t=this.options.sizeField;t&&this.view.getScaleByField(t)},b_.prototype.legend=function(){var t;v_.prototype.legend.call(this),this.options.legend&&!1===this.options.legend.visible||this.setConfig("legends",((t={})[this.options.sizeField]=!1,t))},b_.prototype.parseEvents=function(){v_.prototype.parseEvents.call(this,v)},b_);function b_(){var t=null!==v_&&v_.apply(this,arguments)||this;return t.type="bubble",t}var x_,O_=m_;function w_(){return null!==x_&&x_.apply(this,arguments)||this}zf("bubble",m_);x_=Wf,Object(q.__extends)(w_,x_),w_.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="bubble",x_.prototype.createLayers.call(this,e)},w_.prototype.getSizeScale=function(){return this.layers[0].getSizeScale()},w_.getDefaultOptions=O_.getDefaultOptions;var __=B({bullet:"interval",bulletTarget:"bullet-target"});function C_(t,e){this.view=t,this.cfg=e,this._init()}Object(U.assign)(L,__);var j_=(C_.prototype.draw=function(){if(this.view&&!this.view.destroyed){this.container=this.view.middleGroup.addGroup(),this.container.set("name","rectGroups"),this.container.setZIndex(-100);for(var t=this.getGeometry(),e=Object(U.map)(null==t?void 0:t.elements,function(t){return t.shape}),n=0;n<this.cfg.ranges.length;n+=1){var i=e[n].getBBox(),r=i.width/e[n].get("origin").data[this.cfg.yField];this.drawRect(i,this.cfg.ranges[n]||[0,1],r)}this.view.canvas.draw()}},C_.prototype.drawRect=function(t,e,n){for(var i,r,o=this.cfg,a=o.rangeColors,s=t.minX,l=t.minY-t.height*(o.rangeSize-1)/2,c=1;c<e.length;c+=1){var u=(e[c]-e[c-1])*o.rangeMax*n;this.container.addShape("rect",{name:"bullet-rect",attrs:{width:u,height:t.height*o.rangeSize,x:s,y:l,fill:a[(c-1)%a.length],fillOpacity:.25}}).set("zIndex",-1),s+=u}o.axis&&o.axis.visible&&(i=o.rangeMax/(o.axis.tickCount-1),r=new X(t.x,l,s,t.height*o.rangeSize),this.drawBulletTicks(r,i,n))},C_.prototype.drawBulletTicks=function(t,e,n){for(var i=this.cfg,r=i.axis.style,o=i.axis.tickCount,a=i.axis.position,s=Object(U.get)(r,"lineHeight",0)-r.fontSize/2,l=0;l<o;l+=1){var c,u=t.minX+e*l*n,h=""+e*l;i.axis.formatter&&(h=i.axis.formatter(h,l)),this.container.addShape("text",{name:"tick",attrs:Object(q.__assign)({x:u,y:"before"===a?t.minY-s:t.maxY+s,text:""+h},r)}),i.axis.tickLine&&i.axis.tickLine.visible&&(c=i.axis.tickLine,0<l&&l!==o-1&&this.container.addShape("path",{attrs:Object(q.__assign)({path:[["M",u,t.minY],["L",u,t.maxY]]},c)}).set("zIndex",-1))}},C_.prototype.clear=function(){this.container&&this.container.clear()},C_.prototype.destroy=function(){this.container&&this.container.remove()},C_.prototype._init=function(){var t=this;this.view.on("beforerender",function(){t.clear()}),this.view.on("afterrender",function(){t.draw()})},C_.prototype.getGeometry=function(){return Object(U.find)(this.view.geometries,function(t){return"interval"===t.type})},C_);function S_(t,e){this.view=t,this.cfg=e,this._init()}var M_=(S_.prototype.draw=function(){if(this.view&&!this.view.destroyed){this.container=this.view.foregroundGroup.addGroup(),this.container.set("name","targetGroups");for(var t=Object(U.map)(this.getGeometry().elements,function(t){return t.shape}),e=0;e<this.cfg.targets.length;e+=1){var n=t[e].getBBox(),i=n.width/t[e].get("origin").data[this.cfg.yField];this.drawTarget(n,this.cfg.targets[e],i)}this.view.canvas.draw()}},S_.prototype.drawTarget=function(i,t,r){var o=this,a=this.cfg,s=a.markerColors;t.forEach(function(t,e){var n=a.markerStyle;o.container.addShape("rect",{name:"bullet-target",attrs:Object(q.__assign)(Object(q.__assign)({width:n.width,height:i.height*a.markerSize-n.width/2,x:i.minX+t*r,y:i.minY-i.height*(a.markerSize-1)/2},n),{fill:s[e%s.length]||n.fill})})})},S_.prototype.clear=function(){this.container&&this.container.clear()},S_.prototype.destroy=function(){this.container&&this.container.remove()},S_.prototype._init=function(){var t=this;this.view.on("beforerender",function(){t.clear()}),this.view.on("afterrender",function(){t.draw()})},S_.prototype.getGeometry=function(){return Object(U.find)(this.view.geometries,function(t){return"interval"===t.type})},S_);jf("bullet",{columnStyle:{normal:{},active:function(t){return{opacity:.5*(t.opacity||1),lineWidth:0}},disable:function(t){return{opacity:.5*(t.opacity||1)}},selected:{}}});var k_,T_={bullet:"interval"},P_={interval:"bullet"},A_=(k_=Df,Object(q.__extends)(E_,k_),E_.getDefaultOptions=function(){return Object(U.deepMix)({},k_.getDefaultOptions.call(this),{data:[],stackField:"$$stackField$$",xField:"$$xField$$",yField:"$$yField$$",rangeColors:["rgba(91, 143, 249, 0.45)"],measureSize:12,rangeSize:2,markerSize:2,markerColors:[],markerStyle:{width:2,fill:"#5B8FF9",lineWidth:0},axis:{visible:!1,position:"before",tickCount:6,formatter:function(t,e){return""+e},style:{fill:"rgba(0, 0, 0, 0.25)",textBaseline:"middle",textAlign:"center",fontSize:12,lineHeight:16},tickLine:{visible:!0,lineWidth:1,stroke:"#FFF",lineDash:[4,2]}},xAxis:{visible:!0,line:{visible:!1},tickLine:{visible:!1},label:{visible:!0}},yAxis:{visible:!1,nice:!1},tooltip:{visible:!1,trigger:"item",crosshairs:!1},label:{visible:!0,offset:4,style:{fill:"rgba(0, 0, 0, 0.45)",stroke:"#fff",lineWidth:1}}})},E_.prototype.afterRender=function(){k_.prototype.afterRender.call(this),this.view.removeInteraction("legend-filter")},E_.prototype.scale=function(){var t=this.options,e={};e[t.yField]={},Object(U.has)(t,"yAxis")&&Td(e[t.yField],t.yAxis),e[t.xField]={type:"cat"},Object(U.has)(t,"xAxis")&&Td(e[t.xField],t.xAxis),this.setConfig("scales",e),k_.prototype.scale.call(this)},E_.prototype.getOptions=function(t){var e=k_.prototype.getOptions.call(this,t);return this.adjustOptions(e),e},E_.prototype.afterInit=function(){k_.prototype.afterInit.call(this);var t=this.options,e=t.data.map(function(t){return t.ranges}),n=t.data.map(function(t){return t.targets});this.bulletRect=new j_(this.view,{ranges:e,rangeMax:t.rangeMax,yField:t.yField,rangeSize:t.rangeSize,rangeColors:t.rangeColors||[],axis:t.axis}),this.bulletTarget=new M_(this.view,{targets:n,yField:t.yField,markerSize:t.markerSize,markerColors:t.markerColors||[],markerStyle:t.markerStyle})},E_.prototype.geometryParser=function(t,e){return"g2"===t?T_[e]:P_[e]},E_.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},E_.prototype.legend=function(){var t=this.options,e=t.markerStyle.fill,n=[{name:"",value:"",marker:{symbol:"square",style:{fill:(t.measureColors||this.theme.colors)[0]}}},{name:"",value:"",marker:{symbol:"line",style:{stroke:e,lineWidth:2}}}],i=Object(q.__assign)({custom:!0,position:"bottom",items:n},t.legend);this.setConfig("legends",i)},E_.prototype.addGeometry=function(){var t=this.options,e=kd("interval","main",{positionFields:[t.xField,t.yField],plot:this});e.adjust=[{type:"stack"}],t.label&&(e.label=this.extractLabel()),this.bullet=e,this.setConfig("geometry",e)},E_.prototype.parseEvents=function(){k_.prototype.parseEvents.call(this,m)},E_.prototype.extractLabel=function(){var t=this.options,e=Object(U.deepMix)({},t.label);return!1!==e.visible&&hp("label",Object(q.__assign)({plot:this,labelType:"barLabel",fields:[t.yField]},e))},E_.prototype.adjustOptions=function(t){t.barSize=t.measureSize||12,this.adjustYAxisOptions(t)},E_.prototype.adjustYAxisOptions=function(t){var e=[];t.data.forEach(function(t){return e.push(t.measures.reduce(function(t,e){return t+e},0))}),e.push(t.rangeMax),t.yAxis.max=Math.max.apply([],e)},E_.prototype.processData=function(t){var a=this.options,s=[];return t.forEach(function(t,e){for(var n,i=0;i<t.measures.length;i+=1){var r=t.measures[i],o=t.title||""+e;s.push(((n={})[a.xField]=o,n[a.yField]=r,n[a.stackField]=""+i,n))}}),s},E_);function E_(){var t=null!==k_&&k_.apply(this,arguments)||this;return t.type="bullet",t}var L_,I_=A_;function B_(){return null!==L_&&L_.apply(this,arguments)||this}zf("bullet",A_);L_=Wf,Object(q.__extends)(B_,L_),B_.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="bullet",L_.prototype.createLayers.call(this,e)},B_.getDefaultOptions=I_.getDefaultOptions;var D_="$$day$$",F_="$$week$$",R_="YYYY-MM-DD",N_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Y_=["S","M","T","W","T","F","S"],V_=864e5;function X_(t){var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t.getTime()-e.getTime())/V_+e.getDay()+1)/7)}function G_(t,e){return t.setMilliseconds(t.getMilliseconds()+e),t}function z_(t){var e,n=t[0],i=t[1],r=Dd.default.parse(n,R_),o=Dd.default.parse(i,R_);return o<r&&(o=(e=[r,o])[0],r=e[1]),[r,o]}var H_=B({rect:"polygon"});Object(U.assign)(L,H_);var W_,q_=(W_=Df,Object(q.__extends)(U_,W_),U_.getDefaultOptions=function(){var t;return Object(U.deepMix)({},W_.getDefaultOptions.call(this),{xAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},yAxis:{line:{visible:!1},grid:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoRotate:!1,autoHide:!1}},legend:{visible:!1},meta:((t={})[D_]={type:"cat",alias:"Day",values:[0,1,2,3,4,5,6]},t[F_]={type:"cat",alias:"Month"},t),tooltip:{visible:!0,showTitle:!0,showCrosshairs:!1,showMarkers:!1,title:"date"}})},U_.prototype.processData=function(t){var e,n,i,r=this.options.dateField,o=this.options.dateRange;return Object(U.isNil)(o)&&(e=Object(U.map)(t,function(t){return Dd.default.parse(""+t[r],R_)}),n=e,i=Object(q.__spreadArrays)(n).sort(function(t,e){return t.getTime()-e.getTime()}),o=[Dd.default.format(Object(U.head)(i),R_),Dd.default.format(Object(U.last)(i),R_)]),function(i,t,r){for(var o=[],e=z_(t),n=e[0],a=e[1],s=new Date(n);s<=a;)!function(){var t,e=Dd.default.format(s,R_),n=Object(U.find)(i,function(t){return t[r]===e});o.push(Object(q.__assign)(((t={})[D_]=s.getDay(),t[F_]=""+X_(s),t[r]=e,t.$$date$$=new Date(s),t),n)),G_(s,V_)}();return o}(t,o,r)},U_.prototype.addGeometry=function(){var t=this.options,e=t.valueField,n=t.colors,i=t.tooltip,r={type:"polygon",position:{fields:[F_,D_]},shape:{values:["calendar-polygon"]},color:{fields:[e],values:n},label:this.extractLabel()};i&&(i.fields||i.formatter)&&this.geometryTooltip(r),this.setConfig("geometry",r)},U_.prototype.geometryTooltip=function(t){t.tooltip={};var e=this.options.tooltip;e.fields&&(t.tooltip.fields=e.fields),e.formatter&&(t.tooltip.callback=e.formatter,e.fields||(t.tooltip.fields=[F_,D_]))},U_.prototype.extractLabel=function(){var t=this.options.label;if(t&&!1===t.visible)return!1;var e=this.options.valueField;return hp("label",Object(q.__assign)({plot:this,fields:[e],position:"top",offset:0},t))},U_.prototype.coord=function(){this.setConfig("coordinate",{type:"rect",cfg:{},actions:[["reflect","y"]]})},U_.prototype.geometryParser=function(){return""},U_.prototype.axis=function(){var t=hp("axis",{plot:this,dim:"x"}),e=hp("axis",{plot:this,dim:"y"}),n={};n[F_]=t,n[D_]=e,this.setConfig("axes",n)},U_.prototype.scale=function(){W_.prototype.scale.call(this);var n=function(t){var e=z_(t),n=e[0],i=e[1],r=new Map;function o(t){var e=t.getMonth(),n=X_(t);r.has(e)||r.set(e,[]),r.get(e).push(n)}for(var a=new Date(n);a<=i;)o(a),G_(a,7*V_);i<a&&o(i);var s={};return r.forEach(function(t,e){var n=Math.ceil((Object(U.head)(t)+Object(U.last)(t))/2);s[n]=e}),s}(this.options.dateRange),t=this.config.scales,e=this.options,i=e.weeks,r=void 0===i?Y_:i,o=e.months,a=void 0===o?N_:o,s=t[F_],l=t[D_];s.formatter=function(t){var e=n[t];return void 0!==e?a[e]:""},l.formatter=function(t){return r[t]||""};var c=this.options,u=c.xAxis,h=c.yAxis;s.alias=Object(U.get)(u,["title","text"],s.alias),l.alias=Object(U.get)(h,["title","text"],l.alias),this.setConfig("scales",t)},U_.prototype.parseEvents=function(){W_.prototype.parseEvents.call(this,b)},U_);function U_(){var t=null!==W_&&W_.apply(this,arguments)||this;return t.type="calendar",t}var K_,Z_=q_;function $_(){return null!==K_&&K_.apply(this,arguments)||this}zf("calendar",q_),Fi("polygon","calendar-polygon",{draw:function(t,e){if(!Object(U.isEmpty)(t.points)){var n,i=t.points,r=[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]],r=this.parsePath(r),o=Object(q.__assign)(Object(q.__assign)({stroke:"#fff",lineWidth:1,fill:t.color},t.style),{path:r}),a=e.addShape("path",{attrs:o}),s=t.data.$$date$$;return(c=s).getMonth()!==G_(new Date(c),7*V_).getMonth()&&(n=[["M",i[2].x,i[2].y],["L",i[3].x,i[3].y]],e.addShape("path",{zIndex:1,attrs:{path:this.parsePath(n),lineWidth:1,stroke:"#404040"}}),(l=s).getMonth()!==G_(new Date(l),V_).getMonth()&&e.addShape("path",{zIndex:1,attrs:{path:this.parsePath([["M",i[1].x,i[1].y],["L",i[2].x,i[2].y]]),lineWidth:1,stroke:"#404040"}})),e.sort(),a}var l,c}});K_=Wf,Object(q.__extends)($_,K_),$_.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="calendar",K_.prototype.createLayers.call(this,e)},$_.getDefaultOptions=Z_.getDefaultOptions;var Q_=(J_.prototype.setOption=function(t,e){this.type=t,this.options=e,this.axis=e.axis,this.pivot=e.pivot},J_.prototype.render=function(){var y=this;Fi("point","gauge",{draw:function(t,e){var n,i,r;this.gauge={},this.gauge.options=y.options,this.gauge.axis=y.axis,this.gauge.pivot=y.pivot,this.gauge.type=y.type;var o=this.gauge,a=this.gauge.type,s=t.points[0],l=this.parsePoint({x:0,y:0}),c=this.parsePoint({x:s.x||0,y:1});o.center=l,o.group=e;var u=l.x-c.x,h=l.y-c.y;this.gauge.ringRadius=Math.sqrt(u*u+h*h);var p=this.getAngleRange(),f=p.starAngle,d=p.endAngle,g=s.x*(d-f)+f;switch(a){case"meterGauge":this.drawBarGauge(g),this.gauge.axis.visible&&null!==(n=this.gauge.axis.tickLine)&&void 0!==n&&n.visible&&this.drawInSideAxis();break;case"fanGauge":this.drawGauge(g),this.gauge.axis.visible&&null!==(i=this.gauge.axis.tickLine)&&void 0!==i&&i.visible&&this.drawOutSideAxis();break;case"standardGauge":default:this.drawGauge(g),this.gauge.axis.visible&&null!==(r=this.gauge.axis.tickLine)&&void 0!==r&&r.visible&&this.drawAxis()}this.gauge.pivot.visible&&this.drawPivot(t,e)},drawGauge:function(t){var e=this.gauge.options.range;this.drawBottomRing(),e&&e.length?this.drawRangeColor():this.drawCurrentRing(t)},drawRangeColor:function(){for(var t=this.gauge.options,e=t.min,n=t.max,i=t.range,r=t.color,o=t.rangeStyle,a=r||wf().colors,s=this.getAngleRange(),l={min:e,max:n,starAngle:s.starAngle,endAngle:s.endAngle},c=0;c<i.length;c++){var u,h,p=this.valueToAngle(i[c],l),f=this.valueToAngle(i[c+1],l);p<=f&&(u=this.getPath(p,f),h=Object(U.deepMix)({fill:a[c]},o),this.drawRing(u,h))}},drawBottomRing:function(){var t=this.getAngleRange(),e=t.starAngle,n=t.endAngle,i=this.gauge.options.rangeBackgroundStyle,r=this.getPath(e,n);this.drawRing(r,i)},drawCurrentRing:function(t){var e=this.getAngleRange().starAngle,n=this.gauge.rangeStyle,i=this.getPath(e,t);this.drawRing(i,n)},drawInSideAxis:function(){for(var t=this.gauge.options,e=t.min,n=t.max,i=t.axis,r=this.getAngleRange(),o={min:e,max:n,starAngle:r.starAngle,endAngle:r.endAngle},a=(n-e)/i.tickCount,s=0;s<i.tickCount;s++){var l=e+s*a,c=this.valueToAngle(l+a/2,o);this.drawRect(c,{length:i.tickLine.length,style:i.tickLine.style})}},drawAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,i=e.max,r=this.getAngleRange(),o={min:n,max:i,starAngle:r.starAngle,endAngle:r.endAngle},a=(i-n)/(t.tickCount-1),s=0;s<t.tickCount;s++){var l=n+s*a,c=this.valueToAngle(l,o),u=Object(U.clone)(t.tickLine.style);s%5!=0&&(u.lineWidth=u.lineWidth/2),this.drawRect(c,{length:s%5==0?t.tickLine.length:t.tickLine.length/2,style:u})}},drawOutSideAxis:function(){for(var t=this.gauge.axis,e=this.gauge.options,n=e.min,i=e.max,r=this.getAngleRange(),o={min:n,max:i,starAngle:r.starAngle,endAngle:r.endAngle},a=(i-n)/(t.tickCount-1),s=0;s<t.tickCount;s++){var l=n+s*a,c=this.valueToAngle(l,o);this.drawRect(c,{length:t.tickLine.length,style:t.tickLine.style})}},drawBarGauge:function(t){for(var e=this,n=this.gauge.options,i=n.min,r=n.max,o=n.range,a=n.color,s=n.rangeStyle,l=n.rangeBackgroundStyle,c=a||wf().colors,u=this.getAngleRange(),h=u.starAngle,p=u.endAngle,f={min:i,max:r,starAngle:h,endAngle:p},d=(p-h)/49,g=d/3,y=0;y<50;y++){var v,m,b=h+y*d,x=this.getPath(b-g/2,b+g-g/2),O=l;O=o&&o.length?(v=function(t,e){for(var n=t.length;0<n&&!(e>=t[n-1]);)--n;return n}(o.map(function(t){return e.valueToAngle(t,f)}),b),m=Math.min(v,o.length-1),Object(U.deepMix)({},{fill:c[m-1]},s)||l):b<=t?Object(U.deepMix)({},{fill:a},s):l,this.drawRing(x,O)}},getAngleRange:function(){var t=90-.5*(360-this.gauge.options.angle);return{starAngle:(180-t)*Math.PI/180,endAngle:(360+t)*Math.PI/180}},valueToAngle:function(t,e){var n=e.min,i=e.max,r=e.starAngle,o=e.endAngle;if(t===i)return o;if(t===n)return r;var a=(t-n)/(i-n);i===n&&(a=1);var s=a*(o-r)+r,s=Math.max(s,r);return Math.min(s,o)},drawRing:function(t,e){this.gauge.group.addShape("path",{attrs:Object(U.deepMix)({},{path:t},e)})},drawRect:function(t,e){var n=this.gauge.axis,i=Object(q.__assign)(Object(q.__assign)({},n),e),r=i.offset,o=i.length,a=this.gauge.center,s=r<0?this.gauge.ringRadius-this.gauge.options.rangeSize+r:this.gauge.ringRadius+r,l=s*Math.cos(t)+a.x,c=s*Math.sin(t)+a.y,u=(s+o)*Math.cos(t)+a.x,h=(s+o)*Math.sin(t)+a.y;this.gauge.group.addShape("line",{attrs:Object(U.deepMix)({},{x1:l,y1:c,x2:u,y2:h},e.style)}).set("name","axis-tickLine")},getPath:function(t,e){var n=this.gauge.center,i=this.gauge.ringRadius,r=this.gauge.options.rangeSize,o=i*Math.cos(t)+n.x,a=i*Math.sin(t)+n.y,s=(i-r)*Math.cos(t)+n.x,l=(i-r)*Math.sin(t)+n.y,c=i*Math.cos(e)+n.x,u=i*Math.sin(e)+n.y,h=(i-r)*Math.cos(e)+n.x,p=(i-r)*Math.sin(e)+n.y,f=Math.abs(t-e)>Math.PI?1:0;return[["M",o,a],["A",i,i,0,f,1,c,u],["L",h,p],["A",i-r,i-r,0,f,0,s,l],["Z"]]},drawPivot:function(t){var e,n,i,r,o,a,s,l,c,u=this.getAngleRange(),h=u.starAngle,p=u.endAngle,f=this.gauge.options,d=f.radius,g=f.rangeSize,y=this.gauge.pivot,v=y.thickness,m=y.thickness/2.5,b=this.gauge.group,x=t.points[0],O=this.parsePoint({x:0,y:0}),w=x.x*(p-h)+h,_={x:(this.gauge.ringRadius-g)*d*Math.cos(w)+this.gauge.center.x,y:(this.gauge.ringRadius-g)*d*Math.sin(w)+this.gauge.center.y};y.base.visible&&b.addShape("circle",{attrs:Object(U.deepMix)({},{x:O.x,y:O.y,r:y.base.size?y.base.size/2:2.2*v},y.base.style)}),y.pointer.visible&&(e={x:O.x-_.x,y:O.y-_.y},n=Math.sqrt(e.x*e.x+e.y*e.y),e.x*=1/n,e.y*=1/n,i=-Math.PI/2,r=Math.cos(i)*e.x-Math.sin(i)*e.y,o=Math.sin(i)*e.x+Math.cos(i)*e.y,a=Math.PI/2,s=Math.cos(a)*e.x-Math.sin(a)*e.y,l=Math.sin(a)*e.x+Math.cos(a)*e.y,c=[["M",_.x+r*m,_.y+o*m],["L",O.x+r*v,O.y+o*v],["L",O.x+s*v,O.y+l*v],["L",_.x+s*m,_.y+l*m],["Z"]],b.addShape("path",{attrs:Object(U.deepMix)({},{path:c},y.pointer.style)}),b.addShape("circle",{attrs:{x:_.x,y:_.y,r:m,fill:y.pointer.style.fill}}),b.addShape("circle",{attrs:{x:O.x,y:O.y,r:v,fill:y.pointer.style.fill}})),y.pin.visible&&b.addShape("circle",{attrs:Object(U.deepMix)({},{x:O.x,y:O.y,r:m/1.2},y.pin.style)})}})},J_);function J_(t){this.uid=t}var tC=B({range:"point",statistic:"annotation-text"});Object(U.assign)(L,tC);var eC,nC=(eC=Df,Object(q.__extends)(iC,eC),iC.getDefaultOptions=function(){return Object(U.deepMix)({},eC.getDefaultOptions.call(this),{startAngle:-7/6,endAngle:1/6,rangeBackgroundStyle:{fill:"#f0f0f0"},rangeSize:24,statistic:{position:["50%","80%"]},axis:{visible:!0,offset:-10,tickCount:21,subTickCount:4,tickLine:{visible:!0,length:5,style:{stroke:"#aaa",lineWidth:2}},label:{visible:!0,offset:8,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}},pivot:{visible:!0,thickness:6,pin:{visible:!0,size:2,style:{fill:"#2E364B"}},base:{visible:!0,style:{fill:"#EEEEEE"}},pointer:{visible:!0,style:{fill:"#CFCFCF"}}}})},iC.prototype.init=function(){var t=this.options,e=t.value,n=(t.range||[]).map(function(t){return+t}).sort(function(t,e){return t-e}),i=this.options,r=i.min,o=void 0===r?n[0]:r,a=i.max,s=void 0===a?n[n.length-1]:a,l=i.format,c=void 0===l?function(t){return""+t}:l,u=c(e);this.options.data=[{value:e||0}],this.options.valueText=u,this.options.min=o,this.options.max=s,this.options.format=c,this.initG2Shape(),eC.prototype.init.call(this)},iC.prototype.initG2Shape=function(){this.gaugeShape=new Q_(Object(U.uniqueId)()),this.gaugeShape.setOption(this.type,Object(U.deepMix)({},this.options,{radius:.6,angle:240,textPosition:"100%"})),this.gaugeShape.render()},iC.prototype.geometryParser=function(){return"gauge"},iC.prototype.scale=function(){var t=this.options,e=t.min,n=t.max,i=t.format,r={value:{}};Td(r.value,{min:e,max:n,minLimit:e,maxLimit:n,nice:!0,formatter:i,tickInterval:20}),this.setConfig("scales",r),eC.prototype.scale.call(this)},iC.prototype.coord=function(){var t={type:"polar",cfg:{radius:1,startAngle:this.options.startAngle*Math.PI,endAngle:this.options.endAngle*Math.PI}};this.setConfig("coordinate",t)},iC.prototype.axis=function(){var t=this.options.axis,e={value:{line:null,grid:null,tickLine:null}},n=t.offset<0?t.offset-this.options.rangeSize-t.tickLine.length-t.label.offset:t.offset+t.tickLine.length+t.label.offset;t.label.visible?e.value.label={offset:n,textStyle:t.label.style,autoRotate:!0}:e.value.label={style:{opacity:0}},e[1]=!1,e.value=!!t.visible&&e.value,this.setConfig("axes",e)},iC.prototype.addGeometry=function(){var t={type:"point",position:{fields:["value","1"]},shape:{values:["gauge"]},color:{values:[this.options.pivot.pointer.style.fill||this.theme.defaultColor]}};this.setConfig("geometry",t)},iC.prototype.annotation=function(){var t,e=this.options.statistic,n=[];e&&e.visible&&(t=this.renderStatistic(),n.push(t)),this.setConfig("annotations",n)},iC.prototype.renderStatistic=function(){var t=Math.max(this.options.width,this.options.height)/20,e=this.options.statistic;return{type:"text",content:e.text,top:!0,position:e.position,style:{fill:e.color,fontSize:e.size?e.size:1.2*t,textAlign:"center",textBaseline:"middle"}}},iC.prototype.parseEvents=function(){eC.prototype.parseEvents.call(this,x)},iC);function iC(t){var e=eC.call(this,t)||this;return e.type="gauge",e}var rC,oC=nC;function aC(){return null!==rC&&rC.apply(this,arguments)||this}zf("gauge",nC);rC=Wf,Object(q.__extends)(aC,rC),aC.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="gauge",rC.prototype.createLayers.call(this,e)},aC.getDefaultOptions=oC.getDefaultOptions;var sC,lC=(sC=oC,Object(q.__extends)(cC,sC),cC.getDefaultOptions=function(){return Object(U.deepMix)({},sC.getDefaultOptions.call(this),{rangeColor:"#F6445A",rangeSize:70,axis:{visible:!0,offset:5,tickCount:10,subTickCount:4,tickLine:{visible:!0,length:3,style:{stroke:"#aaa",lineWidth:3}},label:{visible:!0,style:{fill:"#aaa",fontSize:16,textAlign:"center",textBaseline:"middle"}}}})},cC.prototype.initG2Shape=function(){this.gaugeShape=new Q_(Object(U.uniqueId)()),this.gaugeShape.setOption(this.type,Object(U.deepMix)({},this.options,{radius:1,angle:120,textPosition:"125%",bottomRatio:3.5})),this.gaugeShape.render()},cC.prototype.axis=function(){this.setConfig("axes",{value:!1,1:!1})},cC.prototype.annotation=function(){var t,e=this.options.statistic,n=[];e&&e.visible&&(t=this.renderStatistic(),n.push(t));var i=this.renderSideText(),r=n.concat(i);this.setConfig("annotations",r)},cC.prototype.renderSideText=function(){var t=this.options,e=t.max,n=t.min,i=t.format,r=t.rangeSize,o=t.axis;return[n,e].map(function(t,e){return{type:"text",top:!0,position:["50%","50%"],content:i(t),style:Object(U.deepMix)({},o.label.style,{textAlign:"center"}),offsetX:e?r:-r,offsetY:12}})},cC);function cC(){var t=null!==sC&&sC.apply(this,arguments)||this;return t.type="fanGauge",t}var uC,hC=lC;function pC(){return null!==uC&&uC.apply(this,arguments)||this}zf("fanGauge",lC);uC=Wf,Object(q.__extends)(pC,uC),pC.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="fanGauge",uC.prototype.createLayers.call(this,e)},pC.getDefaultOptions=hC.getDefaultOptions;var fC,dC=(fC=oC,Object(q.__extends)(gC,fC),gC.getDefaultOptions=function(){return Object(U.deepMix)({},fC.getDefaultOptions.call(this),{axis:{visible:!0,offset:-10,tickCount:25,subTickCount:4,tickLine:{visible:!0,length:2,style:{stroke:"#aaa",lineWidth:1}}}})},gC);function gC(){var t=null!==fC&&fC.apply(this,arguments)||this;return t.type="meterGauge",t}var yC,vC=dC;function mC(){return null!==yC&&yC.apply(this,arguments)||this}zf("meterGauge",dC);yC=Wf,Object(q.__extends)(mC,yC),mC.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="meterGauge",yC.prototype.createLayers.call(this,e)},mC.getDefaultOptions=vC.getDefaultOptions;var bC,xC=n(29),OC=n.n(xC);function wC(){return null!==bC&&bC.apply(this,arguments)||this}var _C;bC=Wf,Object(q.__extends)(wC,bC),wC.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="donut",bC.prototype.createLayers.call(this,e),OC()(!1,'Please use "Donut" instead of "Ring" which was not recommended.')},wC.getDefaultOptions=_w.getDefaultOptions;function CC(){return null!==_C&&_C.apply(this,arguments)||this}var jC;_C=Wf,Object(q.__extends)(CC,_C),CC.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="groupedColumn",_C.prototype.createLayers.call(this,e),OC()(!1,'Please use "GroupedColumn" instead of "GroupColumn" which was not recommended.')},CC.getDefaultOptions=eb.getDefaultOptions;function SC(){return null!==jC&&jC.apply(this,arguments)||this}var MC;jC=Wf,Object(q.__extends)(SC,jC),SC.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="groupedBar",jC.prototype.createLayers.call(this,e),OC()(!1,'Please use "GroupedBar" instead of "GroupBar" which was not recommended.')},SC.getDefaultOptions=Ov.getDefaultOptions;function kC(){return null!==MC&&MC.apply(this,arguments)||this}var TC;MC=Wf,Object(q.__extends)(kC,MC),kC.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="percentStackedArea",MC.prototype.createLayers.call(this,e),OC()(!1,'Please use "PercentStackedArea" instead of "PercentageStackArea" which was not recommended.')},kC.getDefaultOptions=Mm.getDefaultOptions;function PC(){return null!==TC&&TC.apply(this,arguments)||this}var AC;TC=Wf,Object(q.__extends)(PC,TC),PC.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="percentStackedBar",TC.prototype.createLayers.call(this,e),OC()(!1,'Please use "PercentStackedBar" instead of "PercentageStackBar" which was not recommended.')},PC.getDefaultOptions=kv.getDefaultOptions;function EC(){return null!==AC&&AC.apply(this,arguments)||this}var LC;AC=Wf,Object(q.__extends)(EC,AC),EC.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="percentStackedColumn",AC.prototype.createLayers.call(this,e),OC()(!1,'Please use "PercentStackedColumn" instead of "PercentageStackColumn" which was not recommended.')},EC.getDefaultOptions=Lb.getDefaultOptions;function IC(){return null!==LC&&LC.apply(this,arguments)||this}var BC;LC=Wf,Object(q.__extends)(IC,LC),IC.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="stackedArea",LC.prototype.createLayers.call(this,e),OC()(!1,'Please use "StackedArea" instead of "StackArea" which was not recommended.')},IC.getDefaultOptions=Om.getDefaultOptions;function DC(){return null!==BC&&BC.apply(this,arguments)||this}var FC;BC=Wf,Object(q.__extends)(DC,BC),DC.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="stackedBar",BC.prototype.createLayers.call(this,e),OC()(!1,'Please use "StackedBar" instead of "StackBar" which was not recommended.')},DC.getDefaultOptions=gv.getDefaultOptions;function RC(){return null!==FC&&FC.apply(this,arguments)||this}var NC;FC=Wf,Object(q.__extends)(RC,FC),RC.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="stackedColumn",FC.prototype.createLayers.call(this,e),OC()(!1,'Please use "StackedColumn" instead of "StackColumn" which was not recommended.')},RC.getDefaultOptions=yb.getDefaultOptions;function YC(){return null!==NC&&NC.apply(this,arguments)||this}var VC=(NC=Df,Object(q.__extends)(YC,NC),YC.getDefaultOptions=function(){return Object(U.deepMix)({},NC.getDefaultOptions.call(this),{title:{visible:!1},description:{visible:!1},padding:[0,0,0,0],legend:{visible:!1},xAxis:{visible:!1},yAxis:{visible:!1},tooltip:{visible:!1}})},YC.prototype.coord=function(){},YC.prototype.addGeometry=function(){},YC.prototype.annotation=function(){var n=this,t=this.options,i=[],r={line:{style:{lineWidth:1,stroke:"#66d6a8"}}};Object(U.each)(t.guideLine,function(t){var e=hp("guideLine",{plot:n,cfg:Object(U.deepMix)({},r,t)});i.push(e)}),this.setConfig("annotations",i)},YC);function XC(t){Object(U.assign)(this,t),this.init()}var GC=(XC.prototype.destroy=function(){this.shape&&this.shape.destroy()},XC.prototype.update=function(t,e,n){var i,r,o,a={};Object(U.assign)(this,t),this.coord=this.view.geometries[0].coordinate,t.value&&(i=[1,0,0,0,1,0,this.coord.convert({x:0,y:this.value}).x,0,1],a.matrix=i),t.style&&(r=this.shape.attrs,o=Object(U.deepMix)({},r,t.style),a=Object(U.deepMix)({},o,a)),this.shape.stopAnimate(),this.shape.animate(a,e,n)},XC.prototype.init=function(){this.coord=this.view.geometries[0].coordinate,this.container=this.view.foregroundGroup.addGroup();var t=this.coord.convert({x:0,y:this.value}).x,e=this.coord.center.y-this.progressSize/2-2,n=this.coord.center.y+this.progressSize/2+2,i=Object(U.deepMix)({},{stroke:"grey",lineWidth:1},this.style);this.shape=this.container.addShape("path",{attrs:Object(q.__assign)({path:[["M",0,e],["L",0,n]]},i),name:"progress-marker"}),this.shape.move(t,0),this.canvas.draw()},XC),zC=B({progress:"interval"});Object(U.assign)(L,zC);var HC,WC={progress:"interval"},qC={interval:"progress"},UC=["#55A6F3","#E8EDF3"],KC=(HC=VC,Object(q.__extends)(ZC,HC),ZC.prototype.processProps=function(){(e=this.options).data=this.processData();var t={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barSize:e.size?e.size:this.getSize(),barStyle:e.progressStyle,color:this.parseColorProps(e)||UC},e=Object(U.mix)(e,t)},ZC.prototype.init=function(){this.processProps(),HC.prototype.init.call(this)},ZC.prototype.beforeInit=function(){var t=this.options.percent;if(!Object(U.isNumber)(t))throw new Error("Percent value is required, and the type of percent must be Number.")},ZC.prototype.update=function(t){var e,n=this.options;Object(U.hasKey)(t,"percent")&&(n.percent=t.percent,this.changeData(this.processData())),t.style&&(this.styleUpdateAnimation(t.style),this.updateColorConfigByStyle(t.style)),t.color&&(e=void 0,e=Object(U.isArray)(t.color)?(this.options.color=t.color,[{fill:t.color[0]},{fill:t.color[1]}]):(this.options.color[0]=t.color,{fill:t.color}),this.styleUpdateAnimation(e)),t.marker&&(this.updateMarkers(t.marker),this.options.marker=t.marker)},ZC.prototype.destroy=function(){this.markers&&0<this.markers.length&&(Object(U.each)(this.markers,function(t){t.destroy()}),this.markers=[]),HC.prototype.destroy.call(this)},ZC.prototype.afterRender=function(){var i=this;this.options.marker&&!this.markers&&(this.markers=[],Object(U.each)(this.options.marker,function(t){var e=Object(U.mix)({canvas:i.canvas,view:i.view,progressSize:i.options.barSize},t),n=new GC(e);i.markers.push(n)}));var t=this.view.geometries[0].container,e=t.getBBox(),n=t.addShape("rect",{attrs:{width:e.width,height:e.height,x:e.minX,y:e.minY,fill:"rgba(0,0,0,0)"}});this.canvas.draw(),n.on("mouseenter",function(t){i.isEntered=!0,i.view.emit("progress:mouseenter",t)}),n.on("mouseleave",function(t){i.isEntered=!1,i.view.emit("progress:mouseleave",t)}),this.canvas.get("container").addEventListener("mouseleave",function(t){i.isEntered&&(i.view.emit("progress:mouseleave",t),i.isEntered=!1)})},ZC.prototype.geometryParser=function(t,e){return"g2"===t?WC[e]:qC[e]},ZC.prototype.coord=function(){this.setConfig("coordinate",{actions:[["transpose"]]})},ZC.prototype.addGeometry=function(){var t=this.options,e=kd("interval","main",{positionFields:[t.yField,t.xField],plot:this});e.adjust=[{type:"stack"}],Object(U.has)(t,"animation")&&(e.animate=t.animation),this.setConfig("geometry",e)},ZC.prototype.parseEvents=function(t){t?HC.prototype.parseEvents.call(this,t):HC.prototype.parseEvents.call(this,O)},ZC.prototype.parseColorProps=function(t){var e;if(t.color){if(e=Object(U.isFunction)(t.color)?t.color(t.percent):t.color,Object(U.isString)(e)){var n=Object(U.clone)(UC);return n[0]=e,n}return e}return t.color},ZC.prototype.processData=function(){var t=this.options;return[{type:"current",value:t.percent},{type:"rest",value:1-t.percent}]},ZC.prototype.updateMarkers=function(n){var i=n.length,r=this.getUpdateAnimationOptions();if(Object(U.each)(this.markers,function(t,e){i-1<e?t.destroy():t.update(n[e],r.duration,r.easing)}),this.markers.length<i)for(var t=this.markers.length;t<i;t++){var e=Object(U.deepMix)({},{canvas:this.canvas,view:this.view,progressSize:this.options.barSize},n[t]),o=new GC(e);this.markers.push(o)}},ZC.prototype.getSize=function(){return 50<=this.height?10:4},ZC.prototype.styleUpdateAnimation=function(t){var e=this.getUpdateAnimationOptions(),n=e.duration,i=e.easing,r=[],o=this.view.geometries;Object(U.each)(o,function(t){var e;"interval"===t.type&&(e=t.elements,Object(U.each)(e,function(t){r.push.apply(r,t.shape)}))}),Object(U.isArray)(t)?Object(U.each)(t,function(t,e){r[e].animate(t,n,i)}):r[0].animate(t,n,i)},ZC.prototype.getUpdateAnimationOptions=function(){var t=450,e="easeQuadInOut",n=this.options.animation;return n&&n.update&&(n.update.duration&&(t=n.update.duration),n.update.easing&&(e=n.update.easing)),{duration:t,easing:e}},ZC.prototype.updateColorConfigByStyle=function(t){var n=this;Object(U.isArray)(t)?Object(U.each)(t,function(t,e){t.fill&&(n.options.color[e]=t.fill)}):t.fill&&(this.options.color[0]=t.fill)},ZC);function ZC(){var t=null!==HC&&HC.apply(this,arguments)||this;return t.type="progress",t.isEntered=!1,t}var $C,QC=KC;function JC(){return null!==$C&&$C.apply(this,arguments)||this}zf("progress",KC);$C=Wf,Object(q.__extends)(JC,$C),JC.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="progress",$C.prototype.createLayers.call(this,e)},JC.prototype.update=function(t,e){this.layers[0].update(t,e)},JC.getDefaultOptions=QC.getDefaultOptions;var tj=B({ringProgress:"interval"});Object(U.assign)(L,tj);var ej,nj=["#55A6F3","#E8EDF3"],ij=(ej=QC,Object(q.__extends)(rj,ej),rj.prototype.processProps=function(){(e=this.options).data=this.processData();var t={padding:[0,0,0,0],xField:"value",yField:"1",stackField:"type",barStyle:e.progressStyle,color:this.parseColorProps(e)||nj},e=Object(U.mix)(e,t)},rj.prototype.coord=function(){var t={type:"theta",cfg:{radius:1,innerRadius:this.getThickness(this.options.size)}};this.setConfig("coordinate",t)},rj.prototype.annotation=function(){},rj.prototype.addGeometry=function(){var t=this.options;this.ring=kd("interval","main",{positionFields:[t.yField,t.xField],plot:this}),this.ring.adjust=[{type:"stack"}],this.setConfig("geometry",this.ring)},rj.prototype.animation=function(){this.ring.animate={appear:{duration:1e3}}},rj.prototype.parseEvents=function(){ej.prototype.parseEvents.call(this,w)},rj.prototype.getThickness=function(t){var e=this.width,n=this.height,i=Math.min(e,n);return t?1-t/i:60<=i?1-20/i:1-10/i},rj);function rj(){var t=null!==ej&&ej.apply(this,arguments)||this;return t.type="ringProgrsss",t}var oj,aj=ij;function sj(){return null!==oj&&oj.apply(this,arguments)||this}zf("ringProgress",ij);oj=Wf,Object(q.__extends)(sj,oj),sj.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="ringProgress",oj.prototype.createLayers.call(this,e)},sj.prototype.update=function(t){this.layers[0].update(t)},sj.getDefaultOptions=aj.getDefaultOptions;Object(U.assign)(L,{onColumnClick:"interval:click",onColumnDblclick:"interval:dblclick",onColumnMousemove:"interval:mousemove",onColumnMousedown:"interval:mousedown",onColumnMouseup:"interval:mouseup",onColumnMouseenter:"interval:mouseenter",onColumnMouseleave:"interval:mouseleave",onColumnContextmenu:"interval:contextmenu"});var lj,cj={column:"interval"},uj={interval:"column"},hj=(lj=VC,Object(q.__extends)(pj,lj),pj.prototype.init=function(){this.processProps(),lj.prototype.init.call(this)},pj.prototype.geometryParser=function(t,e){return"g2"===t?cj[e]:uj[e]},pj.prototype.scale=function(){var t={};t[this.options.xField]={type:"cat"},this.setConfig("scales",t)},pj.prototype.addGeometry=function(){var t=this.options,e=kd("interval","main",{positionFields:[t.xField,t.yField],plot:this});this.setConfig("geometry",e)},pj.prototype.parseEvents=function(){lj.prototype.parseEvents.call(this,_)},pj.prototype.processProps=function(){var t={padding:[0,0,0,0],columnSize:this.getSize()};this.options=Object(U.mix)(this.options,t)},pj.prototype.getSize=function(){var t=this.options,e=this.getColumnNum(t.data,t.xField);return this.width/e*.6},pj.prototype.getColumnNum=function(t,n){var i=[];return Object(U.each)(t,function(t){var e=t[n];i.indexOf(e)<0&&i.push(e)}),i.length},pj);function pj(){var t=null!==lj&&lj.apply(this,arguments)||this;return t.type="tinyColumn",t}var fj,dj=hj;function gj(){return null!==fj&&fj.apply(this,arguments)||this}zf("tinyColumn",hj);fj=Wf,Object(q.__extends)(gj,fj),gj.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="tinyColumn",fj.prototype.createLayers.call(this,e)},gj.getDefaultOptions=dj.getDefaultOptions;Object(U.assign)(L,{onAreaClick:"area:click",onAreaDblclick:"area:dblclick",onAreaMousemove:"area:mousemove",onAreaMousedown:"area:mousedown",onAreaMouseup:"area:mouseup",onAreaMouseenter:"area:mouseenter",onAreaMouseleave:"area:mouseleave",onAreaContextmenu:"area:contextmenu",onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"});var yj,vj={area:"area",line:"line"},mj=(yj=VC,Object(q.__extends)(bj,yj),bj.prototype.geometryParser=function(t,e){return vj[e]},bj.prototype.addGeometry=function(){this.area=kd("area","mini",{plot:this}),this.setConfig("geometry",this.area),this.line=kd("line","mini",{plot:this}),this.setConfig("geometry",this.line)},bj.prototype.parseEvents=function(){yj.prototype.parseEvents.call(this,C)},bj);function bj(){var t=null!==yj&&yj.apply(this,arguments)||this;return t.type="tinyArea",t}var xj,Oj=mj;function wj(){return null!==xj&&xj.apply(this,arguments)||this}zf("tinyArea",mj);xj=Wf,Object(q.__extends)(wj,xj),wj.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="tinyArea",xj.prototype.createLayers.call(this,e)},wj.getDefaultOptions=Oj.getDefaultOptions;Object(U.assign)(L,{onLineClick:"line:click",onLineDblclick:"line:dblclick",onLineMousemove:"line:mousemove",onLineMousedown:"line:mousedown",onLineMouseup:"line:mouseup",onLineMouseenter:"line:mouseenter",onLineMouseleave:"line:mouseleave",onLineContextmenu:"line:contextmenu"});var _j,Cj={line:"line"},jj=(_j=VC,Object(q.__extends)(Sj,_j),Sj.prototype.geometryParser=function(t,e){return Cj[e]},Sj.prototype.addGeometry=function(){this.line=kd("line","mini",{plot:this}),this.setConfig("geometry",this.line)},Sj.prototype.parseEvents=function(){_j.prototype.parseEvents.call(this,j)},Sj);function Sj(){var t=null!==_j&&_j.apply(this,arguments)||this;return t.type="tinyLine",t}var Mj,kj=jj;function Tj(){return null!==Mj&&Mj.apply(this,arguments)||this}zf("tinyLine",jj);var Pj;Mj=Wf,Object(q.__extends)(Tj,Mj),Tj.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="tinyLine",Mj.prototype.createLayers.call(this,e)},Tj.getDefaultOptions=kj.getDefaultOptions;function Aj(t){var e=Pj.call(this,t)||this;return e.geomLayers=[],e.legends=[],e.requiredField=["xField","yField"],e.options=e.getOptions(t),e.initialOptions=Object(U.deepMix)({},t),e.themeController=new If,e}var Ej,Lj=(Pj=Q,Object(q.__extends)(Aj,Pj),Aj.getDefaultOptions=function(){return{title:{visible:!1,alignTo:"left",text:""},description:{visible:!1,text:"",alignTo:"left"}}},Aj.prototype.getOptions=function(t){var e=this.options||{},n=Pj.prototype.getOptions.call(this,t),i=this.constructor.getDefaultOptions(t);return Object(U.deepMix)({},n,i,e,t)},Aj.prototype.checkData=function(){for(var t,e,i=this,n=this.options,r=n.data,o=n.xField,a=n.yField,s=0;s<this.requiredField.length;s++){var l=this.requiredField[s];if(!Object(U.hasKey)(this.options,l))return!1}return!(!Object(U.isArray)(a)||a.length<2)&&(!(!Object(U.isArray)(r)||0===r.length)&&((0!==(null===(t=r[0])||void 0===t?void 0:t.length)||0!==(null===(e=r[1])||void 0===e?void 0:e.length))&&(Object(U.each)(r,function(t,e){var n;Object(U.isArray)(t)&&0!==t.length||(n=i.getMockData(e),r[e]=n)}),!(!r[0][0][o]||!r[1][0][o]))))},Aj.prototype.init=function(){Pj.prototype.init.call(this),this.theme=this.themeController.getTheme(this.options,this.type),this.drawTitle(),this.drawDescription()},Aj.prototype.updateConfig=function(t){this.doDestroy(),this.options=this.getOptions(t),this.processOptions(this.options)},Aj.prototype.changeData=function(n){n&&n.length<2||!Object(U.isArray)(n[0])||Object(U.each)(this.geomLayers,function(t,e){t.changeData(n[e])})},Aj.prototype.changeDataByIndex=function(t,e){Object(U.isArray)(t[0])||this.geomLayers[e].changeData(t)},Aj.prototype.doDestroy=function(){Object(U.each)(this.geomLayers,function(t){t.doDestroy()}),this.geomLayers=[],Object(U.each)(this.legends,function(t){t.destroy()}),this.legends=[]},Aj.prototype.createLayer=function(t,e,n){var i=this.getViewRange(),r=new t(Object(q.__assign)({canvas:this.canvas,container:this.container,x:i.minX,y:i.minY,width:i.width,height:i.height,data:e},n));return this.geomLayers.push(r),r},Aj.prototype.yAxis=function(t){var e=this.options.yAxis,n=0===t?e.leftConfig:e.rightConfig,i=this.colors[t],r=Object(U.clone)(n),o={title:"stroke",line:"stroke",label:"fill",tickLine:"stroke"};n.visible&&n.colorMapping&&Object(U.each)(r,function(t,e){var n;!Object(U.isString)(t)&&Object(U.hasKey)(o,e)&&(n=o[e],t.style||(t.style={}),t.style[n]=i)}),n.visible||(r.title.visible=!1,r.tickLine.visible=!1,r.label.visible=!1,r.line.visible=!1,r.visible=!0);var a=this.getYAxisGlobalConfig();return Object(U.deepMix)({},a,r)},Aj.prototype.getTicks=function(){for(var t=this.options.yAxis,e=this.getScaleData(0),n=new(Object(St.getScale)("linear"))(Object(U.deepMix)({},{min:0,max:e.max,nice:!0,values:e.values},{tickCount:t.tickCount})),i=n.ticks.length,r=(t.max?n.max:this.getScaleData(1).max)/(i-1),o=[],a=0;a<i;a++){var s=a*r;Number.isInteger(s)||(s=parseFloat(s.toFixed(1))),o.push(s)}return o},Aj.prototype.getScaleData=function(e){var t=this.options,n=t.data,i=t.yField,r=t.yAxis,o=[];return Object(U.each)(n[e],function(t){o.push(t[i[e]])}),o.sort(function(t,e){return t-e}),{min:o[0],max:r.max?r.max:o[o.length-1],values:o}},Aj.prototype.getDataByXField=function(e,t){var n=this.options,i=n.data,r=n.xField;return i[t].filter(function(t){return t[r]===e})},Aj.prototype.getYAxisGlobalConfig=function(){var t=this.options.yAxis;return{min:t.min,max:t.max,tickCount:t.tickCount}},Aj.prototype.adjustLayout=function(){var t,e,n=this,i=wf().bleeding;Object(U.isArray)(i)&&Object(U.each)(i,function(t,e){"function"==typeof i[e]&&(i[e]=i[e](n.options))});var r,o,a=this.getViewRange(),s=this.transfromPadding(this.geomLayers[0].options.padding),l=this.transfromPadding(this.geomLayers[1].options.padding),c=0;null!==(t=this.options.legend)&&void 0!==t&&t.visible&&(r=this.legends[0].getLayoutBBox(),o=this.legends[1].getLayoutBBox(),c=r.height+10);var u=s.map(function(t,e){return 0===e?Math.max.apply(null,[t+c,l[e]]):Math.max.apply(null,[t,l[e]])});this.geomLayers[0].updateConfig({padding:u}),this.geomLayers[0].render(),this.geomLayers[1].updateConfig({padding:u}),this.geomLayers[1].render(),null!==(e=this.options.legend)&&void 0!==e&&e.visible&&(this.legends[0].setLocation({x:i[3],y:a.minY+5}),this.legends[1].setLocation({x:a.maxX-i[1]-o.width,y:a.minY+5}))},Aj.prototype.transfromPadding=function(t){return"string"==typeof t||"number"==typeof t?[Number(t)]:t},Aj.prototype.legendFilter=function(e){var n=this,i=this.legends[e];i.get("group").on("click",function(){var t=i.get("items")[0];t.unchecked?(i.setItemState(t,"unchecked",!1),n.showLayer(e)):(i.setItemState(t,"unchecked",!0),n.hideLayer(e))})},Aj.prototype.hideLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],i=e.view,r=this.getYAxisContainer(i,n);r&&r.set("visible",!1),this.setGeometryVisibility(i,!1),this.canvas.draw()},Aj.prototype.showLayer=function(t){var e=this.geomLayers[t],n=this.options.yField[t],i=e.view,r=this.getYAxisContainer(i,n);r&&r.set("visible",!0),this.setGeometryVisibility(i,!0),this.canvas.draw()},Aj.prototype.setGeometryVisibility=function(t,i){Object(U.each)(t.geometries,function(t){var e=t.container,n=t.labelsContainer;e&&e.set("visible",i),n&&n.set("visible",i)})},Aj.prototype.getYAxisContainer=function(t,e){var n,i,r=t.controllers.filter(function(t){return Object(U.hasKey)(t,"axisContainer")})[0];return r&&(i=r.axisContainer.get("children"),Object(U.each)(i,function(t){t.get("component").get("field")===e&&(n=t)})),n},Aj.prototype.getUnCheckedValue=function(){var n=[];return Object(U.each)(this.legends,function(t){var e=t.getItemsByState("unchecked");Object(U.each)(e,function(t){n.push(t.name)})}),n},Aj.prototype.drawTitle=function(){var t,e,n,i=this.options,r=this.layerBBox;this.title&&(this.title.destroy(),this.title=null),ah(i.title)&&(t=this.width,e=this.theme,n=new hh({leftMargin:r.minX+e.title.padding[3],rightMargin:r.maxX-e.title.padding[1],topMargin:r.minY+e.title.padding[0],text:i.title.text,style:Object(U.mix)(e.title,i.title.style),wrapperWidth:t-e.title.padding[3]-e.title.padding[1],container:this.container.addGroup(),theme:e,index:ah(i.description)?0:1,plot:this,alignTo:i.title.alignTo,name:"title"}),this.title=n)},Aj.prototype.drawDescription=function(){var t,e,n,i,r,o=this.options,a=this.layerBBox;this.description&&(this.description.destroy(),this.description=null),ah(o.description)&&(t=this.width,e=this.theme,n=0,this.title?(n+=(i=this.title.getBBox()).minY+i.height,n+=e.description.padding[0]):n+=a.minY+e.title.padding[0],r=new hh({leftMargin:a.minX+e.description.padding[3],topMargin:n,rightMargin:a.maxX-e.title.padding[1],text:o.description.text,style:Object(U.mix)(e.description,o.description.style),wrapperWidth:t-e.description.padding[3]-e.description.padding[1],container:this.container.addGroup(),theme:e,index:1,plot:this,alignTo:o.description.alignTo,name:"description"}),this.description=r)},Aj.prototype.getViewRange=function(){this.layerBBox||(this.layerBBox=new X(this.x,this.y,this.width,this.height));var s=this.layerBBox.minX,l=this.layerBBox.maxX,c=this.layerBBox.minY,u=this.layerBBox.maxY,t=[this.title,this.description];return Object(U.each)(t,function(t){var e,n,i,r,o,a;t&&(e=t.position,i=(n=t.getBBox()).minX,r=n.maxX,o=n.minY,a=n.maxY,c<=a&&a<=u&&"top"===e&&(c=a),c<=o&&o<=u&&"bottom"===e&&(u=o),s<r&&r<=l&&"left"===e&&(s=r),s<=i&&r<=l&&"right"===e&&(l=i))}),new X(s,c,l-s,u-c)},Aj.prototype.getMockData=function(t){var e=this.options,n=e.xField,i=e.yField,r={};return r[n]="null",r[i[t]]=0,[r]},Aj),Ij={lineSize:2,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},Bj={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},Dj=(Ej=Lj,Object(q.__extends)(Fj,Ej),Fj.getDefaultOptions=function(){return Object(U.deepMix)({},Ej.getDefaultOptions.call(this),{legend:{visible:!0},yAxis:{leftConfig:Bj,rightConfig:Bj},lineConfigs:[Object(U.deepMix)({},Ij,{color:"#5B8FF9"}),Object(U.deepMix)({},Ij,{color:"#e76c5e"})]})},Fj.prototype.init=function(){var t,e,n,i,r,o,a,s,l,c,u,h,p=this;Ej.prototype.init.call(this),this.checkData()&&(e=(t=this.options).data,n=t.meta,i=t.xField,r=t.yField,o=t.xAxis,a=t.tooltip,s=t.lineConfigs,l=t.legend,c=t.events,this.colors=[s[0].color,s[1].color],u=this.getYAxisGlobalConfig(),this.createLayer(Zg,e[0],Object(q.__assign)({meta:n,xField:i,yField:r[0],xAxis:{visible:!1},yAxis:Object(U.deepMix)({},u,this.yAxis(0),{grid:{visible:!1},nice:!0}),tooltip:{visible:!1},events:c},s[0])).render(),(h={})[r[1]]={ticks:this.getTicks()},this.createLayer(Zg,e[1],Object(q.__assign)({xField:i,yField:r[1],meta:Object(U.deepMix)({},n,h),serieField:r[1],xAxis:o,yAxis:Object(U.deepMix)({},u,this.yAxis(1),{position:"right",nice:!1}),tooltip:Object(U.deepMix)({},a,{showMarkers:!1,custom:{onChange:function(t,e){p.tooltip(t,e)}}}),events:c},s[1])).render(),l.visible&&this.customLegend(),this.adjustLayout())},Fj.prototype.tooltip=function(t,i){var e,n,r,o,a;this.getUnCheckedValue().length!==this.colors.length?(t.style.display="block",n=(e=this.options).yField,r=e.legend,o=Object(U.clone)(i.items[0]),(a=this.getDataByXField(i.title,0)[0])&&i.items.push(Object(q.__assign)(Object(q.__assign)({},o),{mappingData:Object(U.deepMix)({},o.mappingData,{_origin:a}),data:a,name:n[0],value:a[n[0]],color:this.colors[0]})),r.visible&&Object(U.each)(this.legends,function(t,e){var n;t.get("items")[0].unchecked&&(n=0===e?1:0,i.items.splice(n,1))})):t.style.display="none"},Fj.prototype.customLegend=function(){var o=this,t=this.options,a=t.yField,e=t.legend,s=this.colors,l=this.container.addGroup(),c=e;Object(U.each)(this.geomLayers,function(t,e){var n=Object(U.deepMix)({},{symbol:"circle",style:{r:4,fill:s[e]}},c.marker),i=[{name:a[e],unchecked:!1,marker:n}],r=new Mt.Legend.Category({id:o.type,container:l,x:0,y:0,items:i,updateAutoRender:!0,itemBackground:null,itemName:c.text});r.init(),r.render(),o.legends.push(r)}),Object(U.each)(this.geomLayers,function(t,e){o.legendFilter(e)})},Fj);function Fj(){var t=null!==Ej&&Ej.apply(this,arguments)||this;return t.type="dualLine",t}var Rj,Nj=Dj;function Yj(){return null!==Rj&&Rj.apply(this,arguments)||this}zf("dualLine",Dj);Rj=Wf,Object(q.__extends)(Yj,Rj),Yj.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="dualLine",Rj.prototype.createLayers.call(this,e)},Yj.getDefaultOptions=Nj.getDefaultOptions;var Vj,Xj={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},Gj={color:"#5B8FF9"},zj={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},Hj=(Vj=Lj,Object(q.__extends)(Wj,Vj),Wj.getDefaultOptions=function(){return Object(U.deepMix)({},Vj.getDefaultOptions.call(this),{yAxis:{leftConfig:zj,rightConfig:zj},lineConfig:Xj,columnConfig:Gj,legend:{visible:!0}})},Wj.prototype.beforeInit=function(){var t,e,n,i,r,o,a,s,l=this.options,c=this.initialOptions;l.lineSeriesField&&(l.yAxis.rightConfig.colorMapping=!1,null!==(t=c.lineConfig)&&void 0!==t&&t.lineSize||(l.lineConfig.lineSize=3),null!==(e=c.lineConfig)&&void 0!==e&&e.color||(i=(n=wf()).colors,r=n.colors_20,o=this.getValueBySeriesField(),a=o.length>i.length?r:i,s=[],Object(U.each)(o,function(t,e){s.push(a[e+1])}),l.lineConfig.color=s))},Wj.prototype.init=function(){var t,e,n,i,r,o,a,s,l,c,u;Vj.prototype.init.call(this),this.checkData()&&(e=(t=this.options).data,n=t.meta,i=t.xField,r=t.yField,o=t.lineSeriesField,a=t.legend,s=t.lineConfig,l=t.columnConfig,c=t.events,this.colors=[l.color,s.color],this.drawColumn(),(u={})[r[1]]={ticks:this.getTicks()},this.createLayer(Zg,e[1],Object(q.__assign)({xField:i,yField:r[1],seriesField:o,meta:Object(U.deepMix)({},n,u),xAxis:{visible:!1},yAxis:Object(U.deepMix)({},this.yAxis(1),{position:"right",grid:{visible:!1},nice:!0}),tooltip:{visible:!1},legend:{visible:!1},events:c},s)).render(),a.visible&&this.customLegend(),this.adjustLayout())},Wj.prototype.drawColumn=function(){var n=this,t=this.options,e=t.data,i=t.xField,r=t.yField,o=t.xAxis,a=t.tooltip,s=t.columnConfig,l=t.meta,c=t.events;this.createLayer(Km,e[0],Object(q.__assign)({xField:i,yField:r[0],meta:l,xAxis:o,yAxis:Object(U.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),tooltip:Object(U.deepMix)({},a,{showMarkers:!1,custom:{onChange:function(t,e){n.tooltip(t,e)}}}),events:c},s)).render()},Wj.prototype.tooltip=function(t,r){var o=this,a=this.options.yField,s=Object(U.clone)(r.items[0]),l=this.getDataByXField(r.title,1);if(l&&Object(U.each)(l,function(t,e){var n=o.geomLayers[1].options.seriesField,i=n?t[n]:a[1];r.items.push(Object(q.__assign)(Object(q.__assign)({},s),{mappingData:Object(U.deepMix)({},s.mappingData,{_origin:l}),data:t,name:i,value:t[a[1]],color:Object(U.isArray)(o.colors[1])?o.colors[1][e]:o.colors[1]}))}),this.options.legend.visible){var n=this.getUnCheckedValue(),e=this.legends[0].get("items").length+this.legends[1].get("items").length;if(n.length===e)return void(t.style.display="none");t.style.display="block";var i=[],c=[];Object(U.each)(r.items,function(t){var e=t.name;Object(U.contains)(i,e)||Object(U.contains)(n,e)||(i.push(e),c.push(t))}),Object(U.each)(r.items,function(t,e){e<c.length?r.items[e]=c[e]:r.items.pop()})}},Wj.prototype.customLegend=function(){var r=this,t=this.options,o=t.yField,e=t.legend,a=this.colors,s=this.container.addGroup(),l=e,c=["square","circle"];Object(U.each)(this.geomLayers,function(t,e){var n,i;i=t.options.seriesField?(n=r.getValueBySeriesField(),r.createNormalLegend(n,c[e],a[e],l,s)):r.createSingleLegend(o[e],c[e],a[e],l,s),r.legends.push(i)}),Object(U.each)(this.geomLayers,function(t,e){t.options.seriesField?r.multipleLegendFilter(e,t.options.seriesField):r.legendFilter(e)})},Wj.prototype.createSingleLegend=function(t,e,n,i,r){var o=[{name:t,unchecked:!1,marker:Object(U.deepMix)({},{symbol:e,style:{r:4,fill:n}},i.marker)}],a=new Mt.Legend.Category({id:this.type,container:r,x:0,y:0,items:o,updateAutoRender:!0,itemBackground:null,itemName:i.text});return a.init(),a.render(),a},Wj.prototype.createNormalLegend=function(t,n,i,e,r){var o=[];Object(U.each)(t,function(t,e){o.push({name:t,unchecked:!1,marker:{symbol:n,style:{r:4,fill:i[e]}}})});var a=new Mt.Legend.Category({id:this.type,container:r,x:0,y:0,items:o,updateAutoRender:!0,itemBackground:null,itemName:e.text,offsetX:0});return a.init(),a.render(),a},Wj.prototype.multipleLegendFilter=function(i,r){var o=this,a=this.legends[i],s=[],t=a.get("group"),l=!1;t.on("click",function(t){var e=o.geomLayers[i].view,n=t.target.get("delegateObject").item;n.unchecked?(!0===l&&(o.showLayer(i),l=!1),Object(U.pull)(s,n.name),e.filter(n.value,function(t){return!Object(U.contains)(s,t)}),e.render(),a.setItemState(n,"unchecked",!1)):(a.setItemState(n,"unchecked",!0),s.push(n.name),s.length===o.legends[i].get("items").length?(o.hideLayer(i),l=!0):(e.filter(r,function(t){return!Object(U.contains)(s,t)}),e.render())),o.canvas.draw()})},Wj.prototype.getValueBySeriesField=function(){var t=this.options,n=t.lineSeriesField,e=t.data[1],i=[];return Object(U.each)(e,function(t){var e=t[n];Object(U.contains)(i,e)||i.push(e)}),i},Wj);function Wj(){var t=null!==Vj&&Vj.apply(this,arguments)||this;return t.type="columnLine",t.legends=[],t}var qj,Uj=Hj;function Kj(){return null!==qj&&qj.apply(this,arguments)||this}zf("columnLine",Hj);qj=Wf,Object(q.__extends)(Kj,qj),Kj.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="columnLine",qj.prototype.createLayers.call(this,e)},Kj.getDefaultOptions=Uj.getDefaultOptions;var Zj,$j={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},Qj={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},Jj={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,offset:12}},tS=(Zj=Uj,Object(q.__extends)(eS,Zj),eS.getDefaultOptions=function(){return Object(U.deepMix)({},Zj.getDefaultOptions.call(this),{yAxis:{leftConfig:Object(U.deepMix)({},Jj,{colorMapping:!1}),rightConfig:Jj},lineConfig:$j,columnConfig:Qj,legend:{visible:!0}})},eS.prototype.beforeInit=function(){var t,e,n,i,r,o,a,s,l,c=this.options,u=this.initialOptions,h=this.getValueByGroupField();c.lineSeriesField&&(c.yAxis.rightConfig.colorMapping=!1,null!==(t=u.lineConfig)&&void 0!==t&&t.lineSize||(c.lineConfig.lineSize=3),null!==(e=u.lineConfig)&&void 0!==e&&e.color||(i=(n=wf()).colors,r=n.colors_20,o=this.getValueBySeriesField(),a=o.length>i.length?r:i,s=[],l=h.length,Object(U.each)(o,function(t,e){s.push(a[e+l])}),c.lineConfig.color=s));var p=this.options.columnConfig.color;this.options.columnConfig.color=p.slice(0,h.length)},eS.prototype.drawColumn=function(){var n=this,t=this.options,e=t.data,i=t.xField,r=t.yField,o=t.columnGroupField,a=t.xAxis,s=t.tooltip,l=t.columnConfig,c=t.events;this.createLayer(eb,e[0],Object(q.__assign)({xField:i,yField:r[0],groupField:o,xAxis:a,yAxis:Object(U.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:Object(U.deepMix)({},s,{showMarkers:!1,custom:{onChange:function(t,e){n.tooltip(t,e)}}}),events:c},l)).render()},eS.prototype.customLegend=function(){var r=this,t=this.options,o=t.yField,e=t.legend,a=this.colors,s=this.container.addGroup(),l=e,c=["square","circle"];Object(U.each)(this.geomLayers,function(t,e){var n,i;n=t.options.seriesField?(i=r.getValueBySeriesField(),r.createNormalLegend(i,c[e],a[e],l,s)):t.options.groupField?(i=r.getValueByGroupField(),r.createNormalLegend(i,c[e],a[e],l,s)):r.createSingleLegend(o[e],c[e],a[e],l,s),r.legends.push(n)}),Object(U.each)(this.geomLayers,function(t,e){t.options.seriesField?r.multipleLegendFilter(e,t.options.seriesField):t.options.groupField?r.multipleLegendFilter(e,t.options.groupField):r.legendFilter(e)})},eS.prototype.getValueByGroupField=function(){var t=this.options,n=t.columnGroupField,e=t.data[0],i=[];return Object(U.each)(e,function(t){var e=t[n];Object(U.contains)(i,e)||i.push(e)}),i},eS.prototype.getMockData=function(t){var e=this.options,n=e.xField,i=e.yField,r=e.columnGroupField,o={};o[n]="null_1",o[i[t]]=0,o[r]="null_a";var a={};return a[n]="null_1",a[i[t]]=1,a[r]="null_a",[o,a]},eS);function eS(){var t=null!==Zj&&Zj.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnGroupField"],t}var nS,iS=tS;function rS(){return null!==nS&&nS.apply(this,arguments)||this}zf("groupedColumnLine",tS);nS=Wf,Object(q.__extends)(rS,nS),rS.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="groupedColumnLine",nS.prototype.createLayers.call(this,e)},rS.getDefaultOptions=iS.getDefaultOptions;var oS,aS={color:"#f5bc32",lineSize:4,connectNull:!0,point:{visible:!1,size:3,shape:"circle",style:{stroke:"#fff"}},label:{visible:!1}},sS={color:["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E8684A","#6DC8EC","#9270CA","#FF9D4D","#269A99","#FF99C3"]},lS={visible:!0,colorMapping:!0,grid:{visible:!0},line:{visible:!1},tickLine:{visible:!1},label:{visible:!0,autoHide:!0,autoRotate:!1},title:{autoRotate:!0,visible:!1,spacing:12}},cS=(oS=Uj,Object(q.__extends)(uS,oS),uS.getDefaultOptions=function(){return Object(U.deepMix)({},oS.getDefaultOptions.call(this),{yAxis:{leftConfig:Object(U.deepMix)({},lS,{colorMapping:!1}),rightConfig:lS},lineConfig:aS,columnConfig:sS,legend:{visible:!0}})},uS.prototype.beforeInit=function(){var t,e,n,i,r,o,a,s,l,c=this.getValueByStackField(),u=this.options,h=this.initialOptions;u.lineSeriesField&&(u.yAxis.rightConfig.colorMapping=!1,null!==(t=h.lineConfig)&&void 0!==t&&t.lineSize||(u.lineConfig.lineSize=3),null!==(e=h.lineConfig)&&void 0!==e&&e.color||(i=(n=wf()).colors,r=n.colors_20,o=this.getValueBySeriesField(),a=o.length>i.length?r:i,s=[],l=c.length,Object(U.each)(o,function(t,e){s.push(a[e+l])}),u.lineConfig.color=s));var p=this.options.columnConfig.color;this.options.columnConfig.color=p.slice(0,c.length)},uS.prototype.drawColumn=function(){var n=this,t=this.options,e=t.data,i=t.xField,r=t.yField,o=t.columnStackField,a=t.xAxis,s=t.tooltip,l=t.columnConfig,c=t.events;this.createLayer(yb,e[0],Object(q.__assign)({xField:i,yField:r[0],stackField:o,xAxis:a,yAxis:Object(U.deepMix)({},this.yAxis(0),{grid:{visible:!0},nice:!0}),legend:{visible:!1},tooltip:Object(U.deepMix)({},s,{showMarkers:!1,custom:{onChange:function(t,e){n.tooltip(t,e)}}}),events:c},l)).render()},uS.prototype.customLegend=function(){var r=this,t=this.options,o=t.yField,e=t.legend,a=this.colors,s=this.container.addGroup(),l=e,c=["square","circle"];Object(U.each)(this.geomLayers,function(t,e){var n,i;n=t.options.seriesField?(i=r.getValueBySeriesField(),r.createNormalLegend(i,c[e],a[e],l,s)):t.options.stackField?(i=r.getValueByStackField(),r.createNormalLegend(i,c[e],a[e],l,s)):r.createSingleLegend(o[e],c[e],a[e],l,s),r.legends.push(n)}),Object(U.each)(this.geomLayers,function(t,e){t.options.seriesField?r.multipleLegendFilter(e,t.options.seriesField):t.options.stackField?r.multipleLegendFilter(e,t.options.stackField):r.legendFilter(e)})},uS.prototype.getValueByStackField=function(){var t=this.options,n=t.columnStackField,e=t.data[0],i=[];return Object(U.each)(e,function(t){var e=t[n];Object(U.contains)(i,e)||i.push(e)}),i},uS.prototype.getUnCheckedValue=function(){var n=[];return Object(U.each)(this.legends,function(t){var e=t.getItemsByState("unchecked");Object(U.each)(e,function(t){n.push(t.name)})}),n},uS.prototype.getMockData=function(t){var e=this.options,n=e.xField,i=e.yField,r=e.columnStackField,o={};o[n]="null_1",o[i[t]]=0,o[r]="null_a";var a={};return a[n]="null_1",a[i[t]]=1,a[r]="null_a",[o,a]},uS);function uS(){var t=null!==oS&&oS.apply(this,arguments)||this;return t.type="groupedColumnLine",t.requiredField=["xField","yField","columnStackField"],t}var hS,pS=cS;function fS(){return null!==hS&&hS.apply(this,arguments)||this}zf("stackedColumnLine",cS);hS=Wf,Object(q.__extends)(fS,hS),fS.prototype.createLayers=function(t){var e=Object(U.deepMix)({},t);e.type="stackedColumnLine",hS.prototype.createLayers.call(this,e)},fS.getDefaultOptions=pS.getDefaultOptions},1883:function(t,X,G){(function(N,Y){var V;(function(){var oa,aa="Expected a function",sa="__lodash_hash_undefined__",la="__lodash_placeholder__",ca=9007199254740991,ua=NaN,ha=4294967295,pa=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],fa="[object Arguments]",da="[object Array]",ga="[object Boolean]",ya="[object Date]",va="[object Error]",ma="[object Function]",ba="[object GeneratorFunction]",xa="[object Map]",Oa="[object Number]",wa="[object Object]",_a="[object Promise]",Ca="[object RegExp]",ja="[object Set]",Sa="[object String]",Ma="[object Symbol]",ka="[object WeakMap]",Ta="[object ArrayBuffer]",Pa="[object DataView]",Aa="[object Float32Array]",Ea="[object Float64Array]",La="[object Int8Array]",Ia="[object Int16Array]",Ba="[object Int32Array]",Da="[object Uint8Array]",Fa="[object Uint8ClampedArray]",Ra="[object Uint16Array]",Na="[object Uint32Array]",Ya=/\b__p \+= '';/g,Va=/\b(__p \+=) '' \+/g,Xa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ga=/&(?:amp|lt|gt|quot|#39);/g,za=/[&<>"']/g,Ha=RegExp(Ga.source),Wa=RegExp(za.source),qa=/<%-([\s\S]+?)%>/g,Ua=/<%([\s\S]+?)%>/g,Ka=/<%=([\s\S]+?)%>/g,Za=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$a=/^\w*$/,Qa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ja=/[\\^$.*+?()[\]{}|]/g,ts=RegExp(Ja.source),es=/^\s+|\s+$/g,ns=/^\s+/,is=/\s+$/,rs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,os=/\{\n\/\* \[wrapped with (.+)\] \*/,as=/,? & /,ss=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ls=/\\(\\)?/g,cs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,us=/\w*$/,hs=/^[-+]0x[0-9a-f]+$/i,ps=/^0b[01]+$/i,fs=/^\[object .+?Constructor\]$/,ds=/^0o[0-7]+$/i,gs=/^(?:0|[1-9]\d*)$/,ys=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vs=/($^)/,ms=/['\n\r\u2028\u2029\\]/g,t="\\ud800-\\udfff",e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\ufe0e\\ufe0f",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+t+"]",l="["+a+"]",c="["+e+"]",u="\\d+",h="["+n+"]",p="["+i+"]",f="[^"+t+a+u+n+i+r+"]",d="\\ud83c[\\udffb-\\udfff]",g="[^"+t+"]",y="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",m="["+r+"]",b="(?:"+p+"|"+f+")",x="(?:"+m+"|"+f+")",O="(?:['](?:d|ll|m|re|s|t|ve))?",w="(?:['](?:D|LL|M|RE|S|T|VE))?",_="(?:"+c+"|"+d+")"+"?",C="["+o+"]?",j=C+_+("(?:\\u200d(?:"+[g,y,v].join("|")+")"+C+_+")*"),S="(?:"+[h,y,v].join("|")+")"+j,M="(?:"+[g+c+"?",c,y,v,s].join("|")+")",bs=RegExp("[']","g"),xs=RegExp(c,"g"),k=RegExp(d+"(?="+d+")|"+M+j,"g"),Os=RegExp([m+"?"+p+"+"+O+"(?="+[l,m,"$"].join("|")+")",x+"+"+w+"(?="+[l,m+b,"$"].join("|")+")",m+"?"+b+"+"+O,m+"+"+w,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",u,S].join("|"),"g"),T=RegExp("[\\u200d"+t+e+o+"]"),ws=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_s=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Cs=-1,js={};js[Aa]=js[Ea]=js[La]=js[Ia]=js[Ba]=js[Da]=js[Fa]=js[Ra]=js[Na]=!0,js[fa]=js[da]=js[Ta]=js[ga]=js[Pa]=js[ya]=js[va]=js[ma]=js[xa]=js[Oa]=js[wa]=js[Ca]=js[ja]=js[Sa]=js[ka]=!1;var Ss={};Ss[fa]=Ss[da]=Ss[Ta]=Ss[Pa]=Ss[ga]=Ss[ya]=Ss[Aa]=Ss[Ea]=Ss[La]=Ss[Ia]=Ss[Ba]=Ss[xa]=Ss[Oa]=Ss[wa]=Ss[Ca]=Ss[ja]=Ss[Sa]=Ss[Ma]=Ss[Da]=Ss[Fa]=Ss[Ra]=Ss[Na]=!0,Ss[va]=Ss[ma]=Ss[ka]=!1;var P={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ms=parseFloat,ks=parseInt,A="object"==typeof N&&N&&N.Object===Object&&N,E="object"==typeof self&&self&&self.Object===Object&&self,Ts=A||E||Function("return this")(),L=X&&!X.nodeType&&X,I=L&&"object"==typeof Y&&Y&&!Y.nodeType&&Y,Ps=I&&I.exports===L,B=Ps&&A.process,D=function(){try{var t=I&&I.require&&I.require("util").types;return t?t:B&&B.binding&&B.binding("util")}catch(t){}}(),As=D&&D.isArrayBuffer,Es=D&&D.isDate,Ls=D&&D.isMap,Is=D&&D.isRegExp,Bs=D&&D.isSet,Ds=D&&D.isTypedArray;function Fs(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Rs(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function Ns(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Ys(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Vs(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Xs(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function Gs(t,e){return!!(null==t?0:t.length)&&-1<Qs(t,e,0)}function zs(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Hs(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function Ws(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function qs(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function Us(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function Ks(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var F=nl("length");function Zs(t,i,e){var r;return e(t,function(t,e,n){if(i(t,e,n))return r=e,!1}),r}function $s(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function Qs(t,e,n){return e==e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):$s(t,tl,n)}function Js(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function tl(t){return t!=t}function el(t,e){var n=null==t?0:t.length;return n?rl(t,e)/n:ua}function nl(e){return function(t){return null==t?oa:t[e]}}function R(e){return function(t){return null==e?oa:e[t]}}function il(t,i,r,o,e){return e(t,function(t,e,n){r=o?(o=!1,t):i(r,t,e,n)}),r}function rl(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==oa&&(n=n===oa?o:n+o)}return n}function ol(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function al(e){return function(t){return e(t)}}function sl(e,t){return Hs(t,function(t){return e[t]})}function ll(t,e){return t.has(e)}function cl(t,e){for(var n=-1,i=t.length;++n<i&&-1<Qs(e,t[n],0););return n}function ul(t,e){for(var n=t.length;n--&&-1<Qs(e,t[n],0););return n}var hl=R({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),pl=R({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function fl(t){return"\\"+P[t]}function dl(t){return T.test(t)}function gl(t){var n=-1,i=Array(t.size);return t.forEach(function(t,e){i[++n]=[e,t]}),i}function yl(e,n){return function(t){return e(n(t))}}function vl(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==la||(t[n]=la,o[r++]=n)}return o}function ml(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function bl(t){return(dl(t)?function(t){var e=k.lastIndex=0;for(;k.test(t);)++e;return e}:F)(t)}function xl(t){return dl(t)?t.match(k)||[]:t.split("")}var Ol=R({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var wl=function t(e){var n,j=(e=null==e?Ts:wl.defaults(Ts.Object(),e,wl.pick(Ts,_s))).Array,i=e.Date,r=e.Error,y=e.Function,o=e.Math,O=e.Object,v=e.RegExp,u=e.String,b=e.TypeError,a=j.prototype,s=y.prototype,h=O.prototype,l=e["__core-js_shared__"],c=s.toString,w=h.hasOwnProperty,p=0,f=(n=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",d=h.toString,g=c.call(O),m=Ts._,x=v("^"+c.call(w).replace(Ja,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=Ps?e.Buffer:oa,C=e.Symbol,S=e.Uint8Array,M=_?_.allocUnsafe:oa,k=yl(O.getPrototypeOf,O),T=O.create,P=h.propertyIsEnumerable,A=a.splice,E=C?C.isConcatSpreadable:oa,L=C?C.iterator:oa,I=C?C.toStringTag:oa,B=function(){try{var t=Gn(O,"defineProperty");return t({},"",{}),t}catch(t){}}(),D=e.clearTimeout!==Ts.clearTimeout&&e.clearTimeout,F=i&&i.now!==Ts.Date.now&&i.now,R=e.setTimeout!==Ts.setTimeout&&e.setTimeout,N=o.ceil,Y=o.floor,V=O.getOwnPropertySymbols,X=_?_.isBuffer:oa,G=e.isFinite,z=a.join,H=yl(O.keys,O),W=o.max,q=o.min,U=i.now,K=e.parseInt,Z=o.random,$=a.reverse,Q=Gn(e,"DataView"),J=Gn(e,"Map"),tt=Gn(e,"Promise"),et=Gn(e,"Set"),nt=Gn(e,"WeakMap"),it=Gn(O,"create"),rt=nt&&new nt,ot={},at=vi(Q),st=vi(J),lt=vi(tt),ct=vi(et),ut=vi(nt),ht=C?C.prototype:oa,pt=ht?ht.valueOf:oa,ft=ht?ht.toString:oa;function dt(t){if(Ir(t)&&!_r(t)&&!(t instanceof bt)){if(t instanceof mt)return t;if(w.call(t,"__wrapped__"))return mi(t)}return new mt(t)}var gt=function(t){if(!Lr(t))return{};if(T)return T(t);yt.prototype=t;var e=new yt;return yt.prototype=oa,e};function yt(){}function vt(){}function mt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=oa}function bt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ha,this.__views__=[]}function xt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ot(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function wt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function _t(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new wt;++e<n;)this.add(t[e])}function Ct(t){var e=this.__data__=new Ot(t);this.size=e.size}function jt(t,e){var n=_r(t),i=!n&&wr(t),r=!n&&!i&&Mr(t),o=!n&&!i&&!r&&Xr(t),a=n||i||r||o,s=a?ol(t.length,u):[],l=s.length;for(var c in t)!e&&!w.call(t,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Zn(c,l))||s.push(c);return s}function St(t){var e=t.length;return e?t[_e(0,e-1)]:oa}function Mt(t,e){return pi(on(t),Dt(e,0,t.length))}function kt(t){return pi(on(t))}function Tt(t,e,n){(n===oa||br(t[e],n))&&(n!==oa||e in t)||It(t,e,n)}function Pt(t,e,n){var i=t[e];w.call(t,e)&&br(i,n)&&(n!==oa||e in t)||It(t,e,n)}function At(t,e){for(var n=t.length;n--;)if(br(t[n][0],e))return n;return-1}function Et(t,i,r,o){return Vt(t,function(t,e,n){i(o,t,r(t),n)}),o}function Lt(t,e){return t&&an(e,uo(e),t)}function It(t,e,n){"__proto__"==e&&B?B(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Bt(t,e){for(var n=-1,i=e.length,r=j(i),o=null==t;++n<i;)r[n]=o?oa:oo(t,e[n]);return r}function Dt(t,e,n){return t==t&&(n!==oa&&(t=t<=n?t:n),e!==oa&&(t=e<=t?t:e)),t}function Ft(n,i,r,t,e,o){var a,s=1&i,l=2&i,c=4&i;if(r&&(a=e?r(n,t,e,o):r(n)),a!==oa)return a;if(!Lr(n))return n;var u,h,p,f,d,g,y=_r(n);if(y){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&w.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(n),!s)return on(n,a)}else{var v=Wn(n),m=v==ma||v==ba;if(Mr(n))return Qe(n,s);if(v==wa||v==fa||m&&!e){if(a=l||m?{}:Un(n),!s)return l?(g=p=n,f=(d=a)&&an(g,ho(g),d),an(p,Hn(p),f)):(h=Lt(a,u=n),an(u,zn(u),h))}else{if(!Ss[v])return e?n:{};a=function(t,e,n){var i=t.constructor;switch(e){case Ta:return Je(t);case ga:case ya:return new i(+t);case Pa:return function(t,e){var n=e?Je(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case Aa:case Ea:case La:case Ia:case Ba:case Da:case Fa:case Ra:case Na:return tn(t,n);case xa:return new i;case Oa:case Sa:return new i(t);case Ca:return function(t){var e=new t.constructor(t.source,us.exec(t));return e.lastIndex=t.lastIndex,e}(t);case ja:return new i;case Ma:return function(t){return pt?O(pt.call(t)):{}}(t)}}(n,v,s)}}var b=(o=o||new Ct).get(n);if(b)return b;o.set(n,a),Nr(n)?n.forEach(function(t){a.add(Ft(t,i,r,t,n,o))}):Br(n)&&n.forEach(function(t,e){a.set(e,Ft(t,i,r,e,n,o))});var x=y?oa:(c?l?Dn:Bn:l?ho:uo)(n);return Ns(x||n,function(t,e){x&&(t=n[e=t]),Pt(a,e,Ft(t,i,r,e,n,o))}),a}function Rt(t,e,n){var i=n.length;if(null==t)return!i;for(t=O(t);i--;){var r=n[i],o=e[r],a=t[r];if(a===oa&&!(r in t)||!o(a))return!1}return!0}function Nt(t,e,n){if("function"!=typeof t)throw new b(aa);return li(function(){t.apply(oa,n)},e)}function Yt(t,e,n,i){var r=-1,o=Gs,a=!0,s=t.length,l=[],c=e.length;if(!s)return l;n&&(e=Hs(e,al(n))),i?(o=zs,a=!1):200<=e.length&&(o=ll,a=!1,e=new _t(e));t:for(;++r<s;){var u=t[r],h=null==n?u:n(u),u=i||0!==u?u:0;if(a&&h==h){for(var p=c;p--;)if(e[p]===h)continue t;l.push(u)}else o(e,h,i)||l.push(u)}return l}dt.templateSettings={escape:qa,evaluate:Ua,interpolate:Ka,variable:"",imports:{_:dt}},(dt.prototype=vt.prototype).constructor=dt,(mt.prototype=gt(vt.prototype)).constructor=mt,(bt.prototype=gt(vt.prototype)).constructor=bt,xt.prototype.clear=function(){this.__data__=it?it(null):{},this.size=0},xt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},xt.prototype.get=function(t){var e=this.__data__;if(it){var n=e[t];return n===sa?oa:n}return w.call(e,t)?e[t]:oa},xt.prototype.has=function(t){var e=this.__data__;return it?e[t]!==oa:w.call(e,t)},xt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=it&&e===oa?sa:e,this},Ot.prototype.clear=function(){this.__data__=[],this.size=0},Ot.prototype.delete=function(t){var e=this.__data__,n=At(e,t);return!(n<0)&&(n==e.length-1?e.pop():A.call(e,n,1),--this.size,!0)},Ot.prototype.get=function(t){var e=this.__data__,n=At(e,t);return n<0?oa:e[n][1]},Ot.prototype.has=function(t){return-1<At(this.__data__,t)},Ot.prototype.set=function(t,e){var n=this.__data__,i=At(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},wt.prototype.clear=function(){this.size=0,this.__data__={hash:new xt,map:new(J||Ot),string:new xt}},wt.prototype.delete=function(t){var e=Vn(this,t).delete(t);return this.size-=e?1:0,e},wt.prototype.get=function(t){return Vn(this,t).get(t)},wt.prototype.has=function(t){return Vn(this,t).has(t)},wt.prototype.set=function(t,e){var n=Vn(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},_t.prototype.add=_t.prototype.push=function(t){return this.__data__.set(t,sa),this},_t.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.clear=function(){this.__data__=new Ot,this.size=0},Ct.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ct.prototype.get=function(t){return this.__data__.get(t)},Ct.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ot){var i=n.__data__;if(!J||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new wt(i)}return n.set(t,e),this.size=n.size,this};var Vt=cn(Kt),Xt=cn(Zt,!0);function Gt(t,i){var r=!0;return Vt(t,function(t,e,n){return r=!!i(t,e,n)}),r}function zt(t,e,n){for(var i=-1,r=t.length;++i<r;){var o,a,s=t[i],l=e(s);null!=l&&(o===oa?l==l&&!Vr(l):n(l,o))&&(o=l,a=s)}return a}function Ht(t,i){var r=[];return Vt(t,function(t,e,n){i(t,e,n)&&r.push(t)}),r}function Wt(t,e,n,i,r){var o=-1,a=t.length;for(n=n||Kn,r=r||[];++o<a;){var s=t[o];0<e&&n(s)?1<e?Wt(s,e-1,n,i,r):Ws(r,s):i||(r[r.length]=s)}return r}var qt=un(),Ut=un(!0);function Kt(t,e){return t&&qt(t,e,uo)}function Zt(t,e){return t&&Ut(t,e,uo)}function $t(e,t){return Xs(t,function(t){return Pr(e[t])})}function Qt(t,e){for(var n=0,i=(e=Ue(e,t)).length;null!=t&&n<i;)t=t[yi(e[n++])];return n&&n==i?t:oa}function Jt(t,e,n){var i=e(t);return _r(t)?i:Ws(i,n(t))}function te(t){return null==t?t===oa?"[object Undefined]":"[object Null]":I&&I in O(t)?function(t){var e=w.call(t,I),n=t[I];try{t[I]=oa;var i=!0}catch(t){}var r=d.call(t);i&&(e?t[I]=n:delete t[I]);return r}(t):(e=t,d.call(e));var e}function ee(t,e){return e<t}function ne(t,e){return null!=t&&w.call(t,e)}function ie(t,e){return null!=t&&e in O(t)}function re(t,e,n){for(var i=n?zs:Gs,r=t[0].length,o=t.length,a=o,s=j(o),l=1/0,c=[];a--;){var u=t[a];a&&e&&(u=Hs(u,al(e))),l=q(u.length,l),s[a]=!n&&(e||120<=r&&120<=u.length)?new _t(a&&u):oa}u=t[0];var h=-1,p=s[0];t:for(;++h<r&&c.length<l;){var f=u[h],d=e?e(f):f,f=n||0!==f?f:0;if(!(p?ll(p,d):i(c,d,n))){for(a=o;--a;){var g=s[a];if(!(g?ll(g,d):i(t[a],d,n)))continue t}p&&p.push(d),c.push(f)}}return c}function oe(t,e,n){var i=null==(t=oi(t,e=Ue(e,t)))?t:t[yi(Ti(e))];return null==i?oa:Fs(i,t,n)}function ae(t){return Ir(t)&&te(t)==fa}function se(t,e,n,i,r){return t===e||(null==t||null==e||!Ir(t)&&!Ir(e)?t!=t&&e!=e:function(t,e,n,i,r,o){var a=_r(t),s=_r(e),l=a?da:Wn(t),c=s?da:Wn(e),u=(l=l==fa?wa:l)==wa,h=(c=c==fa?wa:c)==wa,p=l==c;if(p&&Mr(t)){if(!Mr(e))return!1;u=!(a=!0)}if(p&&!u)return o=o||new Ct,a||Xr(t)?Ln(t,e,n,i,r,o):function(t,e,n,i,r,o,a){switch(n){case Pa:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ta:return t.byteLength==e.byteLength&&o(new S(t),new S(e))?!0:!1;case ga:case ya:case Oa:return br(+t,+e);case va:return t.name==e.name&&t.message==e.message;case Ca:case Sa:return t==e+"";case xa:var s=gl;case ja:var l=1&i;if(s=s||ml,t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;i|=2,a.set(t,e);var u=Ln(s(t),s(e),i,r,o,a);return a.delete(t),u;case Ma:if(pt)return pt.call(t)==pt.call(e)}return!1}(t,e,l,n,i,r,o);if(!(1&n)){var f=u&&w.call(t,"__wrapped__"),d=h&&w.call(e,"__wrapped__");if(f||d){var g=f?t.value():t,y=d?e.value():e;return o=o||new Ct,r(g,y,n,i,o)}}return p&&(o=o||new Ct,function(t,e,n,i,r,o){var a=1&n,s=Bn(t),l=s.length,c=Bn(e).length;if(l!=c&&!a)return!1;var u=l;for(;u--;){var h=s[u];if(!(a?h in e:w.call(e,h)))return!1}var p=o.get(t),f=o.get(e);if(p&&f)return p==e&&f==t;var d=!0;o.set(t,e),o.set(e,t);var g=a;for(;++u<l;){h=s[u];var y,v=t[h],m=e[h];if(i&&(y=a?i(m,v,h,e,t,o):i(v,m,h,t,e,o)),!(y===oa?v===m||r(v,m,n,i,o):y)){d=!1;break}g=g||"constructor"==h}{var b,x;d&&!g&&(b=t.constructor,x=e.constructor,b!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(d=!1))}return o.delete(t),o.delete(e),d}(t,e,n,i,r,o))}(t,e,n,i,se,r))}function le(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=O(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var l=(s=n[r])[0],c=t[l],u=s[1];if(a&&s[2]){if(c===oa&&!(l in t))return!1}else{var h,p=new Ct;if(i&&(h=i(c,u,l,t,e,p)),!(h===oa?se(u,c,3,i,p):h))return!1}}return!0}function ce(t){return!(!Lr(t)||(e=t,f&&f in e))&&(Pr(t)?x:fs).test(vi(t));var e}function ue(t){return"function"==typeof t?t:null==t?Fo:"object"==typeof t?_r(t)?ye(t[0],t[1]):ge(t):Wo(t)}function he(t){if(!ei(t))return H(t);var e=[];for(var n in O(t))w.call(t,n)&&"constructor"!=n&&e.push(n);return e}function pe(t){if(!Lr(t))return function(t){var e=[];if(null!=t)for(var n in O(t))e.push(n);return e}(t);var e=ei(t),n=[];for(var i in t)("constructor"!=i||!e&&w.call(t,i))&&n.push(i);return n}function fe(t,e){return t<e}function de(t,i){var r=-1,o=jr(t)?j(t.length):[];return Vt(t,function(t,e,n){o[++r]=i(t,e,n)}),o}function ge(e){var n=Xn(e);return 1==n.length&&n[0][2]?ii(n[0][0],n[0][1]):function(t){return t===e||le(t,e,n)}}function ye(n,i){return Qn(n)&&ni(i)?ii(yi(n),i):function(t){var e=oo(t,n);return e===oa&&e===i?ao(t,n):se(i,e,3)}}function ve(i,r,o,a,s){i!==r&&qt(r,function(t,e){var n;s=s||new Ct,Lr(t)?function(t,e,n,i,r,o,a){var s=ai(t,n),l=ai(e,n),c=a.get(l);if(c)return Tt(t,n,c);var u=o?o(s,l,n+"",t,e,a):oa,h=u===oa;{var p,f,d;h&&(p=_r(l),f=!p&&Mr(l),d=!p&&!f&&Xr(l),u=l,p||f||d?u=_r(s)?s:Sr(s)?on(s):f?Qe(l,!(h=!1)):d?tn(l,!(h=!1)):[]:Fr(l)||wr(l)?wr(u=s)?u=Zr(s):Lr(s)&&!Pr(s)||(u=Un(l)):h=!1)}h&&(a.set(l,u),r(u,l,i,o,a),a.delete(l));Tt(t,n,u)}(i,r,e,o,ve,a,s):((n=a?a(ai(i,e),t,e+"",i,r,s):oa)===oa&&(n=t),Tt(i,e,n))},ho)}function me(t,e){var n=t.length;if(n)return Zn(e+=e<0?n:0,n)?t[e]:oa}function be(t,i,n){i=i.length?Hs(i,function(e){return _r(e)?function(t){return Qt(t,1===e.length?e[0]:e)}:e}):[Fo];var r=-1;return i=Hs(i,al(Yn())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(de(t,function(e,t,n){return{criteria:Hs(i,function(t){return t(e)}),index:++r,value:e}}),function(t,e){return function(t,e,n){var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;for(;++i<a;){var l=en(r[i],o[i]);if(l){if(s<=i)return l;var c=n[i];return l*("desc"==c?-1:1)}}return t.index-e.index}(t,e,n)})}function xe(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=Qt(t,a);n(s,a)&&ke(o,Ue(a,t),s)}return o}function Oe(t,e,n,i){var r=i?Js:Qs,o=-1,a=e.length,s=t;for(t===e&&(e=on(e)),n&&(s=Hs(t,al(n)));++o<a;)for(var l=0,c=e[o],u=n?n(c):c;-1<(l=r(s,u,l,i));)s!==t&&A.call(s,l,1),A.call(t,l,1);return t}function we(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r,o=e[n];n!=i&&o===r||(Zn(r=o)?A.call(t,o,1):Ye(t,o))}return t}function _e(t,e){return t+Y(Z()*(e-t+1))}function Ce(t,e){var n="";if(!t||e<1||ca<e)return n;for(;e%2&&(n+=t),(e=Y(e/2))&&(t+=t),e;);return n}function je(t,e){return ci(ri(t,e,Fo),t+"")}function Se(t){return St(xo(t))}function Me(t,e){var n=xo(t);return pi(n,Dt(e,0,n.length))}function ke(t,e,n,i){if(!Lr(t))return t;for(var r=-1,o=(e=Ue(e,t)).length,a=o-1,s=t;null!=s&&++r<o;){var l,c=yi(e[r]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;r!=a&&(l=s[c],(u=i?i(l,c,s):oa)===oa&&(u=Lr(l)?l:Zn(e[r+1])?[]:{})),Pt(s,c,u),s=s[c]}return t}var Te=rt?function(t,e){return rt.set(t,e),t}:Fo,Pe=B?function(t,e){return B(t,"toString",{configurable:!0,enumerable:!1,value:Io(e),writable:!0})}:Fo;function Ae(t){return pi(xo(t))}function Ee(t,e,n){var i=-1,r=t.length;e<0&&(e=r<-e?0:r+e),(n=r<n?r:n)<0&&(n+=r),r=n<e?0:n-e>>>0,e>>>=0;for(var o=j(r);++i<r;)o[i]=t[i+e];return o}function Le(t,i){var r;return Vt(t,function(t,e,n){return!(r=i(t,e,n))}),!!r}function Ie(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!Vr(a)&&(n?a<=e:a<e)?i=1+o:r=o}return r}return Be(t,e,Fo,n)}function Be(t,e,n,i){var r=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,s=null===e,l=Vr(e),c=e===oa;r<o;){var u=Y((r+o)/2),h=n(t[u]),p=h!==oa,f=null===h,d=h==h,g=Vr(h),y=a?i||d:c?d&&(i||p):s?d&&p&&(i||!f):l?d&&p&&!f&&(i||!g):!f&&!g&&(i?h<=e:h<e);y?r=u+1:o=u}return q(o,4294967294)}function De(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a,s=t[n],l=e?e(s):s;n&&br(l,a)||(a=l,o[r++]=0===s?0:s)}return o}function Fe(t){return"number"==typeof t?t:Vr(t)?ua:+t}function Re(t){if("string"==typeof t)return t;if(_r(t))return Hs(t,Re)+"";if(Vr(t))return ft?ft.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ne(t,e,n){var i=-1,r=Gs,o=t.length,a=!0,s=[],l=s;if(n)a=!1,r=zs;else if(200<=o){var c=e?null:Mn(t);if(c)return ml(c);a=!1,r=ll,l=new _t}else l=e?[]:s;t:for(;++i<o;){var u=t[i],h=e?e(u):u,u=n||0!==u?u:0;if(a&&h==h){for(var p=l.length;p--;)if(l[p]===h)continue t;e&&l.push(h),s.push(u)}else r(l,h,n)||(l!==s&&l.push(h),s.push(u))}return s}function Ye(t,e){return null==(t=oi(t,e=Ue(e,t)))||delete t[yi(Ti(e))]}function Ve(t,e,n,i){return ke(t,e,n(Qt(t,e)),i)}function Xe(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Ee(t,i?0:o,i?o+1:r):Ee(t,i?o+1:0,i?r:o)}function Ge(t,e){var n=t;return n instanceof bt&&(n=n.value()),qs(e,function(t,e){return e.func.apply(e.thisArg,Ws([t],e.args))},n)}function ze(t,e,n){var i=t.length;if(i<2)return i?Ne(t[0]):[];for(var r=-1,o=j(i);++r<i;)for(var a=t[r],s=-1;++s<i;)s!=r&&(o[r]=Yt(o[r]||a,t[s],e,n));return Ne(Wt(o,1),e,n)}function He(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:oa;n(a,t[i],s)}return a}function We(t){return Sr(t)?t:[]}function qe(t){return"function"==typeof t?t:Fo}function Ue(t,e){return _r(t)?t:Qn(t,e)?[t]:gi($r(t))}var Ke=je;function Ze(t,e,n){var i=t.length;return n=n===oa?i:n,!e&&i<=n?t:Ee(t,e,n)}var $e=D||function(t){return Ts.clearTimeout(t)};function Qe(t,e){if(e)return t.slice();var n=t.length,i=M?M(n):new t.constructor(n);return t.copy(i),i}function Je(t){var e=new t.constructor(t.byteLength);return new S(e).set(new S(t)),e}function tn(t,e){var n=e?Je(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function en(t,e){if(t!==e){var n=t!==oa,i=null===t,r=t==t,o=Vr(t),a=e!==oa,s=null===e,l=e==e,c=Vr(e);if(!s&&!c&&!o&&e<t||o&&a&&l&&!s&&!c||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!c&&t<e||c&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}function nn(t,e,n,i){for(var r=-1,o=t.length,a=n.length,s=-1,l=e.length,c=W(o-a,0),u=j(l+c),h=!i;++s<l;)u[s]=e[s];for(;++r<a;)(h||r<o)&&(u[n[r]]=t[r]);for(;c--;)u[s++]=t[r++];return u}function rn(t,e,n,i){for(var r=-1,o=t.length,a=-1,s=n.length,l=-1,c=e.length,u=W(o-s,0),h=j(u+c),p=!i;++r<u;)h[r]=t[r];for(var f=r;++l<c;)h[f+l]=e[l];for(;++a<s;)(p||r<o)&&(h[f+n[a]]=t[r++]);return h}function on(t,e){var n=-1,i=t.length;for(e=e||j(i);++n<i;)e[n]=t[n];return e}function an(t,e,n,i){var r=!n;n=n||{};for(var o=-1,a=e.length;++o<a;){var s=e[o],l=i?i(n[s],t[s],s,n,t):oa;l===oa&&(l=t[s]),(r?It:Pt)(n,s,l)}return n}function sn(r,o){return function(t,e){var n=_r(t)?Rs:Et,i=o?o():{};return n(t,r,Yn(e,2),i)}}function ln(s){return je(function(t,e){var n=-1,i=e.length,r=1<i?e[i-1]:oa,o=2<i?e[2]:oa,r=3<s.length&&"function"==typeof r?(i--,r):oa;for(o&&$n(e[0],e[1],o)&&(r=i<3?oa:r,i=1),t=O(t);++n<i;){var a=e[n];a&&s(t,a,n,r)}return t})}function cn(o,a){return function(t,e){if(null==t)return t;if(!jr(t))return o(t,e);for(var n=t.length,i=a?n:-1,r=O(t);(a?i--:++i<n)&&!1!==e(r[i],i,r););return t}}function un(l){return function(t,e,n){for(var i=-1,r=O(t),o=n(t),a=o.length;a--;){var s=o[l?a:++i];if(!1===e(r[s],s,r))break}return t}}function hn(r){return function(t){var e=dl(t=$r(t))?xl(t):oa,n=e?e[0]:t.charAt(0),i=e?Ze(e,1).join(""):t.slice(1);return n[r]()+i}}function pn(e){return function(t){return qs(Ao(_o(t).replace(bs,"")),e,"")}}function fn(i){return function(){var t=arguments;switch(t.length){case 0:return new i;case 1:return new i(t[0]);case 2:return new i(t[0],t[1]);case 3:return new i(t[0],t[1],t[2]);case 4:return new i(t[0],t[1],t[2],t[3]);case 5:return new i(t[0],t[1],t[2],t[3],t[4]);case 6:return new i(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new i(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=gt(i.prototype),n=i.apply(e,t);return Lr(n)?n:e}}function dn(a,s,l){var c=fn(a);return function t(){for(var e=arguments.length,n=j(e),i=e,r=Nn(t);i--;)n[i]=arguments[i];var o=e<3&&n[0]!==r&&n[e-1]!==r?[]:vl(n,r);return(e-=o.length)<l?jn(a,s,vn,t.placeholder,oa,n,o,oa,oa,l-e):Fs(this&&this!==Ts&&this instanceof t?c:a,this,n)}}function gn(a){return function(t,e,n){var i,r=O(t);jr(t)||(i=Yn(e,3),t=uo(t),e=function(t){return i(r[t],t,r)});var o=a(t,e,n);return-1<o?r[i?t[o]:o]:oa}}function yn(l){return In(function(r){var o=r.length,t=o,e=mt.prototype.thru;for(l&&r.reverse();t--;){var n=r[t];if("function"!=typeof n)throw new b(aa);e&&!s&&"wrapper"==Rn(n)&&(s=new mt([],!0))}for(t=s?t:o;++t<o;)var i=Rn(n=r[t]),a="wrapper"==i?Fn(n):oa,s=a&&Jn(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?s[Rn(a[0])].apply(s,a[3]):1==n.length&&Jn(n)?s[i]():s.thru(n);return function(){var t=arguments,e=t[0];if(s&&1==t.length&&_r(e))return s.plant(e).value();for(var n=0,i=o?r[n].apply(this,t):e;++n<o;)i=r[n].call(this,i);return i}})}function vn(c,u,h,p,f,d,g,y,v,m){var b=128&u,x=1&u,O=2&u,w=24&u,_=512&u,C=O?oa:fn(c);return function t(){for(var e,n,i=j(l=arguments.length),r=l;r--;)i[r]=arguments[r];if(w&&(n=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(i,e=Nn(t))),p&&(i=nn(i,p,f,w)),d&&(i=rn(i,d,g,w)),l-=n,w&&l<m){var o=vl(i,e);return jn(c,u,vn,t.placeholder,h,i,o,y,v,m-l)}var a=x?h:this,s=O?a[c]:c,l=i.length;return y?i=function(t,e){for(var n=t.length,i=q(e.length,n),r=on(t);i--;){var o=e[i];t[i]=Zn(o,n)?r[o]:oa}return t}(i,y):_&&1<l&&i.reverse(),b&&v<l&&(i.length=v),this&&this!==Ts&&this instanceof t&&(s=C||fn(s)),s.apply(a,i)}}function mn(a,s){return function(t,e){return n=t,i=a,r=s(e),o={},Kt(n,function(t,e,n){i(o,r(t),e,n)}),o;var n,i,r,o}}function bn(i,r){return function(t,e){var n;if(t===oa&&e===oa)return r;if(t!==oa&&(n=t),e!==oa){if(n===oa)return e;e="string"==typeof t||"string"==typeof e?(t=Re(t),Re(e)):(t=Fe(t),Fe(e)),n=i(t,e)}return n}}function xn(i){return In(function(t){return t=Hs(t,al(Yn())),je(function(e){var n=this;return i(t,function(t){return Fs(t,n,e)})})})}function On(t,e){var n=(e=e===oa?" ":Re(e)).length;if(n<2)return n?Ce(e,t):e;var i=Ce(e,N(t/bl(e)));return dl(e)?Ze(xl(i),0,t).join(""):i.slice(0,t)}function wn(s,t,l,c){var u=1&t,h=fn(s);return function t(){for(var e=-1,n=arguments.length,i=-1,r=c.length,o=j(r+n),a=this&&this!==Ts&&this instanceof t?h:s;++i<r;)o[i]=c[i];for(;n--;)o[i++]=arguments[++e];return Fs(a,u?l:this,o)}}function _n(i){return function(t,e,n){return n&&"number"!=typeof n&&$n(t,e,n)&&(e=n=oa),t=Wr(t),e===oa?(e=t,t=0):e=Wr(e),function(t,e,n,i){for(var r=-1,o=W(N((e-t)/(n||1)),0),a=j(o);o--;)a[i?o:++r]=t,t+=n;return a}(t,e,n=n===oa?t<e?1:-1:Wr(n),i)}}function Cn(n){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=Kr(t),e=Kr(e)),n(t,e)}}function jn(t,e,n,i,r,o,a,s,l,c){var u=8&e;e|=u?32:64,4&(e&=~(u?64:32))||(e&=-4);var h=[t,e,r,u?o:oa,u?a:oa,u?oa:o,u?oa:a,s,l,c],p=n.apply(oa,h);return Jn(t)&&si(p,h),p.placeholder=i,ui(p,t,e)}function Sn(t){var i=o[t];return function(t,e){if(t=Kr(t),(e=null==e?0:q(qr(e),292))&&G(t)){var n=($r(t)+"e").split("e");return+((n=($r(i(n[0]+"e"+(+n[1]+e)))+"e").split("e"))[0]+"e"+(n[1]-e))}return i(t)}}var Mn=et&&1/ml(new et([,-0]))[1]==1/0?function(t){return new et(t)}:Xo;function kn(a){return function(t){var e,n,i,r,o=Wn(t);return o==xa?gl(t):o==ja?(e=t,n=-1,i=Array(e.size),e.forEach(function(t){i[++n]=[t,t]}),i):Hs(a(r=t),function(t){return[t,r[t]]})}}function Tn(t,e,n,i,r,o,a,s){var l=2&e;if(!l&&"function"!=typeof t)throw new b(aa);var c,u,h=i?i.length:0;h||(e&=-97,i=r=oa),a=a===oa?a:W(qr(a),0),s=s===oa?s:qr(s),h-=r?r.length:0,64&e&&(c=i,u=r,i=r=oa);var p,f,d,g,y,v=l?oa:Fn(t),m=[t,e,n,i,r,c,u,o,a,s];return v&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,a=128==i&&8==n||128==i&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!a)return;1&i&&(t[2]=e[2],r|=1&n?0:4);var s=e[3];{var l;s&&(l=t[3],t[3]=l?nn(l,s,e[4]):s,t[4]=l?vl(t[3],la):e[4])}(s=e[5])&&(l=t[5],t[5]=l?rn(l,s,e[6]):s,t[6]=l?vl(t[5],la):e[6]);(s=e[7])&&(t[7]=s);128&i&&(t[8]=null==t[8]?e[8]:q(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(m,v),t=m[0],e=m[1],n=m[2],i=m[3],r=m[4],!(s=m[9]=m[9]===oa?l?0:t.length:W(m[9]-h,0))&&24&e&&(e&=-25),p=e&&1!=e?8==e||16==e?dn(t,e,s):32!=e&&33!=e||r.length?vn.apply(oa,m):wn(t,e,n,i):(d=n,g=1&e,y=fn(f=t),function t(){return(this&&this!==Ts&&this instanceof t?y:f).apply(g?d:this,arguments)}),ui((v?Te:si)(p,m),t,e)}function Pn(t,e,n,i){return t===oa||br(t,h[n])&&!w.call(i,n)?e:t}function An(t,e,n,i,r,o){return Lr(t)&&Lr(e)&&(o.set(e,t),ve(t,e,oa,An,o),o.delete(e)),t}function En(t){return Fr(t)?oa:t}function Ln(t,e,n,i,r,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&s<l))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var h=-1,p=!0,f=2&n?new _t:oa;for(o.set(t,e),o.set(e,t);++h<s;){var d,g=t[h],y=e[h];if(i&&(d=a?i(y,g,h,e,t,o):i(g,y,h,t,e,o)),d!==oa){if(d)continue;p=!1;break}if(f){if(!Ks(e,function(t,e){return!ll(f,e)&&(g===t||r(g,t,n,i,o))&&f.push(e)})){p=!1;break}}else if(g!==y&&!r(g,y,n,i,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function In(t){return ci(ri(t,oa,Ci),t+"")}function Bn(t){return Jt(t,uo,zn)}function Dn(t){return Jt(t,ho,Hn)}var Fn=rt?function(t){return rt.get(t)}:Xo;function Rn(t){for(var e=t.name+"",n=ot[e],i=w.call(ot,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Nn(t){return(w.call(dt,"placeholder")?dt:t).placeholder}function Yn(){var t=(t=dt.iteratee||Ro)===Ro?ue:t;return arguments.length?t(arguments[0],arguments[1]):t}function Vn(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function Xn(t){for(var e=uo(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,ni(r)]}return e}function Gn(t,e){var n,i,r=(i=e,null==(n=t)?oa:n[i]);return ce(r)?r:oa}var zn=V?function(e){return null==e?[]:(e=O(e),Xs(V(e),function(t){return P.call(e,t)}))}:Ko,Hn=V?function(t){for(var e=[];t;)Ws(e,zn(t)),t=k(t);return e}:Ko,Wn=te;function qn(t,e,n){for(var i=-1,r=(e=Ue(e,t)).length,o=!1;++i<r;){var a=yi(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Er(r)&&Zn(a,r)&&(_r(t)||wr(t))}function Un(t){return"function"!=typeof t.constructor||ei(t)?{}:gt(k(t))}function Kn(t){return _r(t)||wr(t)||!!(E&&t&&t[E])}function Zn(t,e){var n=typeof t;return!!(e=null==e?ca:e)&&("number"==n||"symbol"!=n&&gs.test(t))&&-1<t&&t%1==0&&t<e}function $n(t,e,n){if(Lr(n)){var i=typeof e;return("number"==i?jr(n)&&Zn(e,n.length):"string"==i&&e in n)&&br(n[e],t)}}function Qn(t,e){if(!_r(t)){var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||Vr(t)||($a.test(t)||!Za.test(t)||null!=e&&t in O(e))}}function Jn(t){var e=Rn(t),n=dt[e];if("function"==typeof n&&e in bt.prototype){if(t===n)return 1;var i=Fn(n);return i&&t===i[0]}}(Q&&Wn(new Q(new ArrayBuffer(1)))!=Pa||J&&Wn(new J)!=xa||tt&&Wn(tt.resolve())!=_a||et&&Wn(new et)!=ja||nt&&Wn(new nt)!=ka)&&(Wn=function(t){var e=te(t),n=e==wa?t.constructor:oa,i=n?vi(n):"";if(i)switch(i){case at:return Pa;case st:return xa;case lt:return _a;case ct:return ja;case ut:return ka}return e});var ti=l?Pr:Zo;function ei(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||h)}function ni(t){return t==t&&!Lr(t)}function ii(e,n){return function(t){return null!=t&&(t[e]===n&&(n!==oa||e in O(t)))}}function ri(o,a,s){return a=W(a===oa?o.length-1:a,0),function(){for(var t=arguments,e=-1,n=W(t.length-a,0),i=j(n);++e<n;)i[e]=t[a+e];e=-1;for(var r=j(a+1);++e<a;)r[e]=t[e];return r[a]=s(i),Fs(o,this,r)}}function oi(t,e){return e.length<2?t:Qt(t,Ee(e,0,-1))}function ai(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var si=hi(Te),li=R||function(t,e){return Ts.setTimeout(t,e)},ci=hi(Pe);function ui(t,e,n){var i,r,o,a=e+"";return ci(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(1<n?"& ":"")+e[i],e=e.join(2<n?", ":" "),t.replace(rs,"{\n/* [wrapped with "+e+"] */\n")}(a,(o=a.match(os),i=o?o[1].split(as):[],r=n,Ns(pa,function(t){var e="_."+t[0];r&t[1]&&!Gs(i,e)&&i.push(e)}),i.sort())))}function hi(n){var i=0,r=0;return function(){var t=U(),e=16-(t-r);if(r=t,0<e){if(800<=++i)return arguments[0]}else i=0;return n.apply(oa,arguments)}}function pi(t,e){var n=-1,i=t.length,r=i-1;for(e=e===oa?i:e;++n<e;){var o=_e(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var fi,di,gi=(di=(fi=fr(function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(Qa,function(t,e,n,i){r.push(n?i.replace(ls,"$1"):e||t)}),r},function(t){return 500===di.size&&di.clear(),t})).cache,fi);function yi(t){if("string"==typeof t||Vr(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function vi(t){if(null!=t){try{return c.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function mi(t){if(t instanceof bt)return t.clone();var e=new mt(t.__wrapped__,t.__chain__);return e.__actions__=on(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var bi=je(function(t,e){return Sr(t)?Yt(t,Wt(e,1,Sr,!0)):[]}),xi=je(function(t,e){var n=Ti(e);return Sr(n)&&(n=oa),Sr(t)?Yt(t,Wt(e,1,Sr,!0),Yn(n,2)):[]}),Oi=je(function(t,e){var n=Ti(e);return Sr(n)&&(n=oa),Sr(t)?Yt(t,Wt(e,1,Sr,!0),oa,n):[]});function wi(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:qr(n);return r<0&&(r=W(i+r,0)),$s(t,Yn(e,3),r)}function _i(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==oa&&(r=qr(n),r=n<0?W(i+r,0):q(r,i-1)),$s(t,Yn(e,3),r,!0)}function Ci(t){return(null==t?0:t.length)?Wt(t,1):[]}function ji(t){return t&&t.length?t[0]:oa}var Si=je(function(t){var e=Hs(t,We);return e.length&&e[0]===t[0]?re(e):[]}),Mi=je(function(t){var e=Ti(t),n=Hs(t,We);return e===Ti(n)?e=oa:n.pop(),n.length&&n[0]===t[0]?re(n,Yn(e,2)):[]}),ki=je(function(t){var e=Ti(t),n=Hs(t,We);return(e="function"==typeof e?e:oa)&&n.pop(),n.length&&n[0]===t[0]?re(n,oa,e):[]});function Ti(t){var e=null==t?0:t.length;return e?t[e-1]:oa}var Pi=je(Ai);function Ai(t,e){return t&&t.length&&e&&e.length?Oe(t,e):t}var Ei=In(function(t,e){var n=null==t?0:t.length,i=Bt(t,e);return we(t,Hs(e,function(t){return Zn(t,n)?+t:t}).sort(en)),i});function Li(t){return null==t?t:$.call(t)}var Ii=je(function(t){return Ne(Wt(t,1,Sr,!0))}),Bi=je(function(t){var e=Ti(t);return Sr(e)&&(e=oa),Ne(Wt(t,1,Sr,!0),Yn(e,2))}),Di=je(function(t){var e="function"==typeof(e=Ti(t))?e:oa;return Ne(Wt(t,1,Sr,!0),oa,e)});function Fi(e){if(!e||!e.length)return[];var n=0;return e=Xs(e,function(t){return Sr(t)&&(n=W(t.length,n),1)}),ol(n,function(t){return Hs(e,nl(t))})}function Ri(t,e){if(!t||!t.length)return[];var n=Fi(t);return null==e?n:Hs(n,function(t){return Fs(e,oa,t)})}var Ni=je(function(t,e){return Sr(t)?Yt(t,e):[]}),Yi=je(function(t){return ze(Xs(t,Sr))}),Vi=je(function(t){var e=Ti(t);return Sr(e)&&(e=oa),ze(Xs(t,Sr),Yn(e,2))}),Xi=je(function(t){var e="function"==typeof(e=Ti(t))?e:oa;return ze(Xs(t,Sr),oa,e)}),Gi=je(Fi);var zi=je(function(t){var e=t.length,n="function"==typeof(n=1<e?t[e-1]:oa)?(t.pop(),n):oa;return Ri(t,n)});function Hi(t){var e=dt(t);return e.__chain__=!0,e}function Wi(t,e){return e(t)}var qi=In(function(e){function t(t){return Bt(t,e)}var n=e.length,i=n?e[0]:0,r=this.__wrapped__;return!(1<n||this.__actions__.length)&&r instanceof bt&&Zn(i)?((r=r.slice(i,+i+(n?1:0))).__actions__.push({func:Wi,args:[t],thisArg:oa}),new mt(r,this.__chain__).thru(function(t){return n&&!t.length&&t.push(oa),t})):this.thru(t)});var Ui=sn(function(t,e,n){w.call(t,n)?++t[n]:It(t,n,1)});var Ki=gn(wi),Zi=gn(_i);function $i(t,e){return(_r(t)?Ns:Vt)(t,Yn(e,3))}function Qi(t,e){return(_r(t)?Ys:Xt)(t,Yn(e,3))}var Ji=sn(function(t,e,n){w.call(t,n)?t[n].push(e):It(t,n,[e])});var tr=je(function(t,e,n){var i=-1,r="function"==typeof e,o=jr(t)?j(t.length):[];return Vt(t,function(t){o[++i]=r?Fs(e,t,n):oe(t,e,n)}),o}),er=sn(function(t,e,n){It(t,n,e)});function nr(t,e){return(_r(t)?Hs:de)(t,Yn(e,3))}var ir=sn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var rr=je(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&$n(t,e[0],e[1])?e=[]:2<n&&$n(e[0],e[1],e[2])&&(e=[e[0]]),be(t,Wt(e,1),[])}),or=F||function(){return Ts.Date.now()};function ar(t,e,n){return e=n?oa:e,e=t&&null==e?t.length:e,Tn(t,128,oa,oa,oa,oa,e)}function sr(t,e){var n;if("function"!=typeof e)throw new b(aa);return t=qr(t),function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=oa),n}}var lr=je(function(t,e,n){var i,r=1;return n.length&&(i=vl(n,Nn(lr)),r|=32),Tn(t,r,e,n,i)}),cr=je(function(t,e,n){var i,r=3;return n.length&&(i=vl(n,Nn(cr)),r|=32),Tn(e,r,t,n,i)});function ur(i,r,t){var o,a,s,l,c,u,h=0,p=!1,f=!1,e=!0;if("function"!=typeof i)throw new b(aa);function d(t){var e=o,n=a;return o=a=oa,h=t,l=i.apply(n,e)}function g(t){var e=t-u;return u===oa||r<=e||e<0||f&&s<=t-h}function y(){var t,e,n=or();if(g(n))return v(n);c=li(y,(e=r-((t=n)-u),f?q(e,s-(t-h)):e))}function v(t){return c=oa,e&&o?d(t):(o=a=oa,l)}function n(){var t,e=or(),n=g(e);if(o=arguments,a=this,u=e,n){if(c===oa)return h=t=u,c=li(y,r),p?d(t):l;if(f)return $e(c),c=li(y,r),d(u)}return c===oa&&(c=li(y,r)),l}return r=Kr(r)||0,Lr(t)&&(p=!!t.leading,f="maxWait"in t,s=f?W(Kr(t.maxWait)||0,r):s,e="trailing"in t?!!t.trailing:e),n.cancel=function(){c!==oa&&$e(c),h=0,o=u=a=c=oa},n.flush=function(){return c===oa?l:v(or())},n}var hr=je(function(t,e){return Nt(t,1,e)}),pr=je(function(t,e,n){return Nt(t,Kr(e)||0,n)});function fr(r,o){if("function"!=typeof r||null!=o&&"function"!=typeof o)throw new b(aa);var a=function(){var t=arguments,e=o?o.apply(this,t):t[0],n=a.cache;if(n.has(e))return n.get(e);var i=r.apply(this,t);return a.cache=n.set(e,i)||n,i};return a.cache=new(fr.Cache||wt),a}function dr(e){if("function"!=typeof e)throw new b(aa);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}fr.Cache=wt;var gr=Ke(function(i,r){var o=(r=1==r.length&&_r(r[0])?Hs(r[0],al(Yn())):Hs(Wt(r,1),al(Yn()))).length;return je(function(t){for(var e=-1,n=q(t.length,o);++e<n;)t[e]=r[e].call(this,t[e]);return Fs(i,this,t)})}),yr=je(function(t,e){var n=vl(e,Nn(yr));return Tn(t,32,oa,e,n)}),vr=je(function(t,e){var n=vl(e,Nn(vr));return Tn(t,64,oa,e,n)}),mr=In(function(t,e){return Tn(t,256,oa,oa,oa,e)});function br(t,e){return t===e||t!=t&&e!=e}var xr=Cn(ee),Or=Cn(function(t,e){return e<=t}),wr=ae(function(){return arguments}())?ae:function(t){return Ir(t)&&w.call(t,"callee")&&!P.call(t,"callee")},_r=j.isArray,Cr=As?al(As):function(t){return Ir(t)&&te(t)==Ta};function jr(t){return null!=t&&Er(t.length)&&!Pr(t)}function Sr(t){return Ir(t)&&jr(t)}var Mr=X||Zo,kr=Es?al(Es):function(t){return Ir(t)&&te(t)==ya};function Tr(t){if(!Ir(t))return!1;var e=te(t);return e==va||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Fr(t)}function Pr(t){if(!Lr(t))return!1;var e=te(t);return e==ma||e==ba||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Ar(t){return"number"==typeof t&&t==qr(t)}function Er(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=ca}function Lr(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ir(t){return null!=t&&"object"==typeof t}var Br=Ls?al(Ls):function(t){return Ir(t)&&Wn(t)==xa};function Dr(t){return"number"==typeof t||Ir(t)&&te(t)==Oa}function Fr(t){if(!Ir(t)||te(t)!=wa)return!1;var e=k(t);if(null===e)return!0;var n=w.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==g}var Rr=Is?al(Is):function(t){return Ir(t)&&te(t)==Ca};var Nr=Bs?al(Bs):function(t){return Ir(t)&&Wn(t)==ja};function Yr(t){return"string"==typeof t||!_r(t)&&Ir(t)&&te(t)==Sa}function Vr(t){return"symbol"==typeof t||Ir(t)&&te(t)==Ma}var Xr=Ds?al(Ds):function(t){return Ir(t)&&Er(t.length)&&!!js[te(t)]};var Gr=Cn(fe),zr=Cn(function(t,e){return t<=e});function Hr(t){if(!t)return[];if(jr(t))return(Yr(t)?xl:on)(t);if(L&&t[L])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[L]());var e=Wn(t);return(e==xa?gl:e==ja?ml:xo)(t)}function Wr(t){return t?(t=Kr(t))!==1/0&&t!==-1/0?t==t?t:0:17976931348623157e292*(t<0?-1:1):0===t?t:0}function qr(t){var e=Wr(t),n=e%1;return e==e?n?e-n:e:0}function Ur(t){return t?Dt(qr(t),0,ha):0}function Kr(t){if("number"==typeof t)return t;if(Vr(t))return ua;var e;if(Lr(t)&&(t=Lr(e="function"==typeof t.valueOf?t.valueOf():t)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=t.replace(es,"");var n=ps.test(t);return n||ds.test(t)?ks(t.slice(2),n?2:8):hs.test(t)?ua:+t}function Zr(t){return an(t,ho(t))}function $r(t){return null==t?"":Re(t)}var Qr=ln(function(t,e){if(ei(e)||jr(e))an(e,uo(e),t);else for(var n in e)w.call(e,n)&&Pt(t,n,e[n])}),Jr=ln(function(t,e){an(e,ho(e),t)}),to=ln(function(t,e,n,i){an(e,ho(e),t,i)}),eo=ln(function(t,e,n,i){an(e,uo(e),t,i)}),no=In(Bt);var io=je(function(t,e){t=O(t);var n=-1,i=e.length,r=2<i?e[2]:oa;for(r&&$n(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],a=ho(o),s=-1,l=a.length;++s<l;){var c=a[s],u=t[c];(u===oa||br(u,h[c])&&!w.call(t,c))&&(t[c]=o[c])}return t}),ro=je(function(t){return t.push(oa,An),Fs(fo,oa,t)});function oo(t,e,n){var i=null==t?oa:Qt(t,e);return i===oa?n:i}function ao(t,e){return null!=t&&qn(t,e,ie)}var so=mn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=d.call(e)),t[e]=n},Io(Fo)),lo=mn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=d.call(e)),w.call(t,e)?t[e].push(n):t[e]=[n]},Yn),co=je(oe);function uo(t){return(jr(t)?jt:he)(t)}function ho(t){return jr(t)?jt(t,!0):pe(t)}var po=ln(function(t,e,n){ve(t,e,n)}),fo=ln(function(t,e,n,i){ve(t,e,n,i)}),go=In(function(e,t){var n={};if(null==e)return n;var i=!1;t=Hs(t,function(t){return t=Ue(t,e),i=i||1<t.length,t}),an(e,Dn(e),n),i&&(n=Ft(n,7,En));for(var r=t.length;r--;)Ye(n,t[r]);return n});var yo=In(function(t,e){return null==t?{}:xe(n=t,e,function(t,e){return ao(n,e)});var n});function vo(t,n){if(null==t)return{};var e=Hs(Dn(t),function(t){return[t]});return n=Yn(n),xe(t,e,function(t,e){return n(t,e[0])})}var mo=kn(uo),bo=kn(ho);function xo(t){return null==t?[]:sl(t,uo(t))}var Oo=pn(function(t,e,n){return e=e.toLowerCase(),t+(n?wo(e):e)});function wo(t){return Po($r(t).toLowerCase())}function _o(t){return(t=$r(t))&&t.replace(ys,hl).replace(xs,"")}var Co=pn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),jo=pn(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),So=hn("toLowerCase");var Mo=pn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var ko=pn(function(t,e,n){return t+(n?" ":"")+Po(e)});var To=pn(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Po=hn("toUpperCase");function Ao(t,e,n){return t=$r(t),(e=n?oa:e)===oa?(i=t,ws.test(i)?t.match(Os)||[]:t.match(ss)||[]):t.match(e)||[];var i}var Eo=je(function(t,e){try{return Fs(t,oa,e)}catch(t){return Tr(t)?t:new r(t)}}),Lo=In(function(e,t){return Ns(t,function(t){t=yi(t),It(e,t,lr(e[t],e))}),e});function Io(t){return function(){return t}}var Bo=yn(),Do=yn(!0);function Fo(t){return t}function Ro(t){return ue("function"==typeof t?t:Ft(t,1))}var No=je(function(e,n){return function(t){return oe(t,e,n)}}),Yo=je(function(e,n){return function(t){return oe(e,t,n)}});function Vo(i,e,t){var n=uo(e),r=$t(e,n);null!=t||Lr(e)&&(r.length||!n.length)||(t=e,e=i,i=this,r=$t(e,uo(e)));var o=!(Lr(t)&&"chain"in t&&!t.chain),a=Pr(i);return Ns(r,function(t){var n=e[t];i[t]=n,a&&(i.prototype[t]=function(){var t=this.__chain__;if(o||t){var e=i(this.__wrapped__);return(e.__actions__=on(this.__actions__)).push({func:n,args:arguments,thisArg:i}),e.__chain__=t,e}return n.apply(i,Ws([this.value()],arguments))})}),i}function Xo(){}var Go=xn(Hs),zo=xn(Vs),Ho=xn(Ks);function Wo(t){return Qn(t)?nl(yi(t)):(e=t,function(t){return Qt(t,e)});var e}var qo=_n(),Uo=_n(!0);function Ko(){return[]}function Zo(){return!1}var $o=bn(function(t,e){return t+e},0),Qo=Sn("ceil"),Jo=bn(function(t,e){return t/e},1),ta=Sn("floor");var ea,na=bn(function(t,e){return t*e},1),ia=Sn("round"),ra=bn(function(t,e){return t-e},0);return dt.after=function(t,e){if("function"!=typeof e)throw new b(aa);return t=qr(t),function(){if(--t<1)return e.apply(this,arguments)}},dt.ary=ar,dt.assign=Qr,dt.assignIn=Jr,dt.assignInWith=to,dt.assignWith=eo,dt.at=no,dt.before=sr,dt.bind=lr,dt.bindAll=Lo,dt.bindKey=cr,dt.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return _r(t)?t:[t]},dt.chain=Hi,dt.chunk=function(t,e,n){e=(n?$n(t,e,n):e===oa)?1:W(qr(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var r=0,o=0,a=j(N(i/e));r<i;)a[o++]=Ee(t,r,r+=e);return a},dt.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},dt.concat=function(){var t=arguments.length;if(!t)return[];for(var e=j(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ws(_r(n)?on(n):[n],Wt(e,1))},dt.cond=function(i){var r=null==i?0:i.length,e=Yn();return i=r?Hs(i,function(t){if("function"!=typeof t[1])throw new b(aa);return[e(t[0]),t[1]]}):[],je(function(t){for(var e=-1;++e<r;){var n=i[e];if(Fs(n[0],this,t))return Fs(n[1],this,t)}})},dt.conforms=function(t){return e=Ft(t,1),n=uo(e),function(t){return Rt(t,e,n)};var e,n},dt.constant=Io,dt.countBy=Ui,dt.create=function(t,e){var n=gt(t);return null==e?n:Lt(n,e)},dt.curry=function t(e,n,i){var r=Tn(e,8,oa,oa,oa,oa,oa,n=i?oa:n);return r.placeholder=t.placeholder,r},dt.curryRight=function t(e,n,i){var r=Tn(e,16,oa,oa,oa,oa,oa,n=i?oa:n);return r.placeholder=t.placeholder,r},dt.debounce=ur,dt.defaults=io,dt.defaultsDeep=ro,dt.defer=hr,dt.delay=pr,dt.difference=bi,dt.differenceBy=xi,dt.differenceWith=Oi,dt.drop=function(t,e,n){var i=null==t?0:t.length;return i?Ee(t,(e=n||e===oa?1:qr(e))<0?0:e,i):[]},dt.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Ee(t,0,(e=i-(e=n||e===oa?1:qr(e)))<0?0:e):[]},dt.dropRightWhile=function(t,e){return t&&t.length?Xe(t,Yn(e,3),!0,!0):[]},dt.dropWhile=function(t,e){return t&&t.length?Xe(t,Yn(e,3),!0):[]},dt.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&$n(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=qr(n))<0&&(n=r<-n?0:r+n),(i=i===oa||r<i?r:qr(i))<0&&(i+=r),i=i<n?0:Ur(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},dt.filter=function(t,e){return(_r(t)?Xs:Ht)(t,Yn(e,3))},dt.flatMap=function(t,e){return Wt(nr(t,e),1)},dt.flatMapDeep=function(t,e){return Wt(nr(t,e),1/0)},dt.flatMapDepth=function(t,e,n){return n=n===oa?1:qr(n),Wt(nr(t,e),n)},dt.flatten=Ci,dt.flattenDeep=function(t){return(null==t?0:t.length)?Wt(t,1/0):[]},dt.flattenDepth=function(t,e){return(null==t?0:t.length)?Wt(t,e=e===oa?1:qr(e)):[]},dt.flip=function(t){return Tn(t,512)},dt.flow=Bo,dt.flowRight=Do,dt.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},dt.functions=function(t){return null==t?[]:$t(t,uo(t))},dt.functionsIn=function(t){return null==t?[]:$t(t,ho(t))},dt.groupBy=Ji,dt.initial=function(t){return(null==t?0:t.length)?Ee(t,0,-1):[]},dt.intersection=Si,dt.intersectionBy=Mi,dt.intersectionWith=ki,dt.invert=so,dt.invertBy=lo,dt.invokeMap=tr,dt.iteratee=Ro,dt.keyBy=er,dt.keys=uo,dt.keysIn=ho,dt.map=nr,dt.mapKeys=function(t,i){var r={};return i=Yn(i,3),Kt(t,function(t,e,n){It(r,i(t,e,n),t)}),r},dt.mapValues=function(t,i){var r={};return i=Yn(i,3),Kt(t,function(t,e,n){It(r,e,i(t,e,n))}),r},dt.matches=function(t){return ge(Ft(t,1))},dt.matchesProperty=function(t,e){return ye(t,Ft(e,1))},dt.memoize=fr,dt.merge=po,dt.mergeWith=fo,dt.method=No,dt.methodOf=Yo,dt.mixin=Vo,dt.negate=dr,dt.nthArg=function(e){return e=qr(e),je(function(t){return me(t,e)})},dt.omit=go,dt.omitBy=function(t,e){return vo(t,dr(Yn(e)))},dt.once=function(t){return sr(2,t)},dt.orderBy=function(t,e,n,i){return null==t?[]:(_r(e)||(e=null==e?[]:[e]),_r(n=i?oa:n)||(n=null==n?[]:[n]),be(t,e,n))},dt.over=Go,dt.overArgs=gr,dt.overEvery=zo,dt.overSome=Ho,dt.partial=yr,dt.partialRight=vr,dt.partition=ir,dt.pick=yo,dt.pickBy=vo,dt.property=Wo,dt.propertyOf=function(e){return function(t){return null==e?oa:Qt(e,t)}},dt.pull=Pi,dt.pullAll=Ai,dt.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Oe(t,e,Yn(n,2)):t},dt.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Oe(t,e,oa,n):t},dt.pullAt=Ei,dt.range=qo,dt.rangeRight=Uo,dt.rearg=mr,dt.reject=function(t,e){return(_r(t)?Xs:Ht)(t,dr(Yn(e,3)))},dt.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Yn(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return we(t,r),n},dt.rest=function(t,e){if("function"!=typeof t)throw new b(aa);return je(t,e=e===oa?e:qr(e))},dt.reverse=Li,dt.sampleSize=function(t,e,n){return e=(n?$n(t,e,n):e===oa)?1:qr(e),(_r(t)?Mt:Me)(t,e)},dt.set=function(t,e,n){return null==t?t:ke(t,e,n)},dt.setWith=function(t,e,n,i){return i="function"==typeof i?i:oa,null==t?t:ke(t,e,n,i)},dt.shuffle=function(t){return(_r(t)?kt:Ae)(t)},dt.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n=n&&"number"!=typeof n&&$n(t,e,n)?(e=0,i):(e=null==e?0:qr(e),n===oa?i:qr(n)),Ee(t,e,n)):[]},dt.sortBy=rr,dt.sortedUniq=function(t){return t&&t.length?De(t):[]},dt.sortedUniqBy=function(t,e){return t&&t.length?De(t,Yn(e,2)):[]},dt.split=function(t,e,n){return n&&"number"!=typeof n&&$n(t,e,n)&&(e=n=oa),(n=n===oa?ha:n>>>0)?(t=$r(t))&&("string"==typeof e||null!=e&&!Rr(e))&&!(e=Re(e))&&dl(t)?Ze(xl(t),0,n):t.split(e,n):[]},dt.spread=function(i,r){if("function"!=typeof i)throw new b(aa);return r=null==r?0:W(qr(r),0),je(function(t){var e=t[r],n=Ze(t,0,r);return e&&Ws(n,e),Fs(i,this,n)})},dt.tail=function(t){var e=null==t?0:t.length;return e?Ee(t,1,e):[]},dt.take=function(t,e,n){return t&&t.length?Ee(t,0,(e=n||e===oa?1:qr(e))<0?0:e):[]},dt.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Ee(t,(e=i-(e=n||e===oa?1:qr(e)))<0?0:e,i):[]},dt.takeRightWhile=function(t,e){return t&&t.length?Xe(t,Yn(e,3),!1,!0):[]},dt.takeWhile=function(t,e){return t&&t.length?Xe(t,Yn(e,3)):[]},dt.tap=function(t,e){return e(t),t},dt.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new b(aa);return Lr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ur(t,e,{leading:i,maxWait:e,trailing:r})},dt.thru=Wi,dt.toArray=Hr,dt.toPairs=mo,dt.toPairsIn=bo,dt.toPath=function(t){return _r(t)?Hs(t,yi):Vr(t)?[t]:on(gi($r(t)))},dt.toPlainObject=Zr,dt.transform=function(t,i,r){var e,n=_r(t),o=n||Mr(t)||Xr(t);return i=Yn(i,4),null==r&&(e=t&&t.constructor,r=o?n?new e:[]:Lr(t)&&Pr(e)?gt(k(t)):{}),(o?Ns:Kt)(t,function(t,e,n){return i(r,t,e,n)}),r},dt.unary=function(t){return ar(t,1)},dt.union=Ii,dt.unionBy=Bi,dt.unionWith=Di,dt.uniq=function(t){return t&&t.length?Ne(t):[]},dt.uniqBy=function(t,e){return t&&t.length?Ne(t,Yn(e,2)):[]},dt.uniqWith=function(t,e){return e="function"==typeof e?e:oa,t&&t.length?Ne(t,oa,e):[]},dt.unset=function(t,e){return null==t||Ye(t,e)},dt.unzip=Fi,dt.unzipWith=Ri,dt.update=function(t,e,n){return null==t?t:Ve(t,e,qe(n))},dt.updateWith=function(t,e,n,i){return i="function"==typeof i?i:oa,null==t?t:Ve(t,e,qe(n),i)},dt.values=xo,dt.valuesIn=function(t){return null==t?[]:sl(t,ho(t))},dt.without=Ni,dt.words=Ao,dt.wrap=function(t,e){return yr(qe(e),t)},dt.xor=Yi,dt.xorBy=Vi,dt.xorWith=Xi,dt.zip=Gi,dt.zipObject=function(t,e){return He(t||[],e||[],Pt)},dt.zipObjectDeep=function(t,e){return He(t||[],e||[],ke)},dt.zipWith=zi,dt.entries=mo,dt.entriesIn=bo,dt.extend=Jr,dt.extendWith=to,Vo(dt,dt),dt.add=$o,dt.attempt=Eo,dt.camelCase=Oo,dt.capitalize=wo,dt.ceil=Qo,dt.clamp=function(t,e,n){return n===oa&&(n=e,e=oa),n!==oa&&(n=(n=Kr(n))==n?n:0),e!==oa&&(e=(e=Kr(e))==e?e:0),Dt(Kr(t),e,n)},dt.clone=function(t){return Ft(t,4)},dt.cloneDeep=function(t){return Ft(t,5)},dt.cloneDeepWith=function(t,e){return Ft(t,5,e="function"==typeof e?e:oa)},dt.cloneWith=function(t,e){return Ft(t,4,e="function"==typeof e?e:oa)},dt.conformsTo=function(t,e){return null==e||Rt(t,e,uo(e))},dt.deburr=_o,dt.defaultTo=function(t,e){return null==t||t!=t?e:t},dt.divide=Jo,dt.endsWith=function(t,e,n){t=$r(t),e=Re(e);var i=t.length,r=n=n===oa?i:Dt(qr(n),0,i);return 0<=(n-=e.length)&&t.slice(n,r)==e},dt.eq=br,dt.escape=function(t){return(t=$r(t))&&Wa.test(t)?t.replace(za,pl):t},dt.escapeRegExp=function(t){return(t=$r(t))&&ts.test(t)?t.replace(Ja,"\\$&"):t},dt.every=function(t,e,n){var i=_r(t)?Vs:Gt;return n&&$n(t,e,n)&&(e=oa),i(t,Yn(e,3))},dt.find=Ki,dt.findIndex=wi,dt.findKey=function(t,e){return Zs(t,Yn(e,3),Kt)},dt.findLast=Zi,dt.findLastIndex=_i,dt.findLastKey=function(t,e){return Zs(t,Yn(e,3),Zt)},dt.floor=ta,dt.forEach=$i,dt.forEachRight=Qi,dt.forIn=function(t,e){return null==t?t:qt(t,Yn(e,3),ho)},dt.forInRight=function(t,e){return null==t?t:Ut(t,Yn(e,3),ho)},dt.forOwn=function(t,e){return t&&Kt(t,Yn(e,3))},dt.forOwnRight=function(t,e){return t&&Zt(t,Yn(e,3))},dt.get=oo,dt.gt=xr,dt.gte=Or,dt.has=function(t,e){return null!=t&&qn(t,e,ne)},dt.hasIn=ao,dt.head=ji,dt.identity=Fo,dt.includes=function(t,e,n,i){t=jr(t)?t:xo(t),n=n&&!i?qr(n):0;var r=t.length;return n<0&&(n=W(r+n,0)),Yr(t)?n<=r&&-1<t.indexOf(e,n):!!r&&-1<Qs(t,e,n)},dt.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:qr(n);return r<0&&(r=W(i+r,0)),Qs(t,e,r)},dt.inRange=function(t,e,n){return e=Wr(e),n===oa?(n=e,e=0):n=Wr(n),t=Kr(t),(i=t)>=q(r=e,o=n)&&i<W(r,o);var i,r,o},dt.invoke=co,dt.isArguments=wr,dt.isArray=_r,dt.isArrayBuffer=Cr,dt.isArrayLike=jr,dt.isArrayLikeObject=Sr,dt.isBoolean=function(t){return!0===t||!1===t||Ir(t)&&te(t)==ga},dt.isBuffer=Mr,dt.isDate=kr,dt.isElement=function(t){return Ir(t)&&1===t.nodeType&&!Fr(t)},dt.isEmpty=function(t){if(null==t)return!0;if(jr(t)&&(_r(t)||"string"==typeof t||"function"==typeof t.splice||Mr(t)||Xr(t)||wr(t)))return!t.length;var e=Wn(t);if(e==xa||e==ja)return!t.size;if(ei(t))return!he(t).length;for(var n in t)if(w.call(t,n))return!1;return!0},dt.isEqual=function(t,e){return se(t,e)},dt.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:oa)?n(t,e):oa;return i===oa?se(t,e,oa,n):!!i},dt.isError=Tr,dt.isFinite=function(t){return"number"==typeof t&&G(t)},dt.isFunction=Pr,dt.isInteger=Ar,dt.isLength=Er,dt.isMap=Br,dt.isMatch=function(t,e){return t===e||le(t,e,Xn(e))},dt.isMatchWith=function(t,e,n){return n="function"==typeof n?n:oa,le(t,e,Xn(e),n)},dt.isNaN=function(t){return Dr(t)&&t!=+t},dt.isNative=function(t){if(ti(t))throw new r("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ce(t)},dt.isNil=function(t){return null==t},dt.isNull=function(t){return null===t},dt.isNumber=Dr,dt.isObject=Lr,dt.isObjectLike=Ir,dt.isPlainObject=Fr,dt.isRegExp=Rr,dt.isSafeInteger=function(t){return Ar(t)&&-ca<=t&&t<=ca},dt.isSet=Nr,dt.isString=Yr,dt.isSymbol=Vr,dt.isTypedArray=Xr,dt.isUndefined=function(t){return t===oa},dt.isWeakMap=function(t){return Ir(t)&&Wn(t)==ka},dt.isWeakSet=function(t){return Ir(t)&&"[object WeakSet]"==te(t)},dt.join=function(t,e){return null==t?"":z.call(t,e)},dt.kebabCase=Co,dt.last=Ti,dt.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==oa&&(r=(r=qr(n))<0?W(i+r,0):q(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):$s(t,tl,r,!0)},dt.lowerCase=jo,dt.lowerFirst=So,dt.lt=Gr,dt.lte=zr,dt.max=function(t){return t&&t.length?zt(t,Fo,ee):oa},dt.maxBy=function(t,e){return t&&t.length?zt(t,Yn(e,2),ee):oa},dt.mean=function(t){return el(t,Fo)},dt.meanBy=function(t,e){return el(t,Yn(e,2))},dt.min=function(t){return t&&t.length?zt(t,Fo,fe):oa},dt.minBy=function(t,e){return t&&t.length?zt(t,Yn(e,2),fe):oa},dt.stubArray=Ko,dt.stubFalse=Zo,dt.stubObject=function(){return{}},dt.stubString=function(){return""},dt.stubTrue=function(){return!0},dt.multiply=na,dt.nth=function(t,e){return t&&t.length?me(t,qr(e)):oa},dt.noConflict=function(){return Ts._===this&&(Ts._=m),this},dt.noop=Xo,dt.now=or,dt.pad=function(t,e,n){t=$r(t);var i=(e=qr(e))?bl(t):0;if(!e||e<=i)return t;var r=(e-i)/2;return On(Y(r),n)+t+On(N(r),n)},dt.padEnd=function(t,e,n){t=$r(t);var i=(e=qr(e))?bl(t):0;return e&&i<e?t+On(e-i,n):t},dt.padStart=function(t,e,n){t=$r(t);var i=(e=qr(e))?bl(t):0;return e&&i<e?On(e-i,n)+t:t},dt.parseInt=function(t,e,n){return e=n||null==e?0:e&&+e,K($r(t).replace(ns,""),e||0)},dt.random=function(t,e,n){var i;if(n&&"boolean"!=typeof n&&$n(t,e,n)&&(e=n=oa),n===oa&&("boolean"==typeof e?(n=e,e=oa):"boolean"==typeof t&&(n=t,t=oa)),t===oa&&e===oa?(t=0,e=1):(t=Wr(t),e===oa?(e=t,t=0):e=Wr(e)),e<t&&(i=t,t=e,e=i),n||t%1||e%1){var r=Z();return q(t+r*(e-t+Ms("1e-"+((r+"").length-1))),e)}return _e(t,e)},dt.reduce=function(t,e,n){var i=_r(t)?qs:il,r=arguments.length<3;return i(t,Yn(e,4),n,r,Vt)},dt.reduceRight=function(t,e,n){var i=_r(t)?Us:il,r=arguments.length<3;return i(t,Yn(e,4),n,r,Xt)},dt.repeat=function(t,e,n){return e=(n?$n(t,e,n):e===oa)?1:qr(e),Ce($r(t),e)},dt.replace=function(){var t=arguments,e=$r(t[0]);return t.length<3?e:e.replace(t[1],t[2])},dt.result=function(t,e,n){var i=-1,r=(e=Ue(e,t)).length;for(r||(r=1,t=oa);++i<r;){var o=null==t?oa:t[yi(e[i])];o===oa&&(i=r,o=n),t=Pr(o)?o.call(t):o}return t},dt.round=ia,dt.runInContext=t,dt.sample=function(t){return(_r(t)?St:Se)(t)},dt.size=function(t){if(null==t)return 0;if(jr(t))return Yr(t)?bl(t):t.length;var e=Wn(t);return e==xa||e==ja?t.size:he(t).length},dt.snakeCase=Mo,dt.some=function(t,e,n){var i=_r(t)?Ks:Le;return n&&$n(t,e,n)&&(e=oa),i(t,Yn(e,3))},dt.sortedIndex=function(t,e){return Ie(t,e)},dt.sortedIndexBy=function(t,e,n){return Be(t,e,Yn(n,2))},dt.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=Ie(t,e);if(i<n&&br(t[i],e))return i}return-1},dt.sortedLastIndex=function(t,e){return Ie(t,e,!0)},dt.sortedLastIndexBy=function(t,e,n){return Be(t,e,Yn(n,2),!0)},dt.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Ie(t,e,!0)-1;if(br(t[n],e))return n}return-1},dt.startCase=ko,dt.startsWith=function(t,e,n){return t=$r(t),n=null==n?0:Dt(qr(n),0,t.length),e=Re(e),t.slice(n,n+e.length)==e},dt.subtract=ra,dt.sum=function(t){return t&&t.length?rl(t,Fo):0},dt.sumBy=function(t,e){return t&&t.length?rl(t,Yn(e,2)):0},dt.template=function(a,t,e){var n=dt.templateSettings;e&&$n(a,t,e)&&(t=oa),a=$r(a),t=to({},t,n,Pn);var s,l,i=to({},t.imports,n.imports,Pn),r=uo(i),o=sl(i,r),c=0,u=t.interpolate||vs,h="__p += '",p=v((t.escape||vs).source+"|"+u.source+"|"+(u===Ka?cs:vs).source+"|"+(t.evaluate||vs).source+"|$","g"),f="//# sourceURL="+(w.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Cs+"]")+"\n";a.replace(p,function(t,e,n,i,r,o){return n=n||i,h+=a.slice(c,o).replace(ms,fl),e&&(s=!0,h+="' +\n__e("+e+") +\n'"),r&&(l=!0,h+="';\n"+r+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=o+t.length,t}),h+="';\n";var d=w.call(t,"variable")&&t.variable;d||(h="with (obj) {\n"+h+"\n}\n"),h=(l?h.replace(Ya,""):h).replace(Va,"$1").replace(Xa,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Eo(function(){return y(r,f+"return "+h).apply(oa,o)});if(g.source=h,Tr(g))throw g;return g},dt.times=function(t,e){if((t=qr(t))<1||ca<t)return[];var n=ha,i=q(t,ha);e=Yn(e),t-=ha;for(var r=ol(i,e);++n<t;)e(n);return r},dt.toFinite=Wr,dt.toInteger=qr,dt.toLength=Ur,dt.toLower=function(t){return $r(t).toLowerCase()},dt.toNumber=Kr,dt.toSafeInteger=function(t){return t?Dt(qr(t),-ca,ca):0===t?t:0},dt.toString=$r,dt.toUpper=function(t){return $r(t).toUpperCase()},dt.trim=function(t,e,n){if((t=$r(t))&&(n||e===oa))return t.replace(es,"");if(!t||!(e=Re(e)))return t;var i=xl(t),r=xl(e);return Ze(i,cl(i,r),ul(i,r)+1).join("")},dt.trimEnd=function(t,e,n){if((t=$r(t))&&(n||e===oa))return t.replace(is,"");if(!t||!(e=Re(e)))return t;var i=xl(t);return Ze(i,0,ul(i,xl(e))+1).join("")},dt.trimStart=function(t,e,n){if((t=$r(t))&&(n||e===oa))return t.replace(ns,"");if(!t||!(e=Re(e)))return t;var i=xl(t);return Ze(i,cl(i,xl(e))).join("")},dt.truncate=function(t,e){var n,i=30,r="...";Lr(e)&&(n="separator"in e?e.separator:n,i="length"in e?qr(e.length):i,r="omission"in e?Re(e.omission):r);var o,a=(t=$r(t)).length;if(dl(t)&&(a=(o=xl(t)).length),a<=i)return t;var s=i-bl(r);if(s<1)return r;var l,c=o?Ze(o,0,s).join(""):t.slice(0,s);if(n===oa)return c+r;if(o&&(s+=c.length-s),Rr(n)){if(t.slice(s).search(n)){var u,h=c;for(n.global||(n=v(n.source,$r(us.exec(n))+"g")),n.lastIndex=0;u=n.exec(h);)var p=u.index;c=c.slice(0,p===oa?s:p)}}else t.indexOf(Re(n),s)==s||-1<(l=c.lastIndexOf(n))&&(c=c.slice(0,l));return c+r},dt.unescape=function(t){return(t=$r(t))&&Ha.test(t)?t.replace(Ga,Ol):t},dt.uniqueId=function(t){var e=++p;return $r(t)+e},dt.upperCase=To,dt.upperFirst=Po,dt.each=$i,dt.eachRight=Qi,dt.first=ji,Vo(dt,(ea={},Kt(dt,function(t,e){w.call(dt.prototype,e)||(ea[e]=t)}),ea),{chain:!1}),dt.VERSION="4.17.19",Ns(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){dt[t].placeholder=dt}),Ns(["drop","take"],function(n,i){bt.prototype[n]=function(t){t=t===oa?1:W(qr(t),0);var e=this.__filtered__&&!i?new bt(this):this.clone();return e.__filtered__?e.__takeCount__=q(t,e.__takeCount__):e.__views__.push({size:q(t,ha),type:n+(e.__dir__<0?"Right":"")}),e},bt.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),Ns(["filter","map","takeWhile"],function(t,e){var n=e+1,i=1==n||3==n;bt.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Yn(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),Ns(["head","last"],function(t,e){var n="take"+(e?"Right":"");bt.prototype[t]=function(){return this[n](1).value()[0]}}),Ns(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");bt.prototype[t]=function(){return this.__filtered__?new bt(this):this[n](1)}}),bt.prototype.compact=function(){return this.filter(Fo)},bt.prototype.find=function(t){return this.filter(t).head()},bt.prototype.findLast=function(t){return this.reverse().find(t)},bt.prototype.invokeMap=je(function(e,n){return"function"==typeof e?new bt(this):this.map(function(t){return oe(t,e,n)})}),bt.prototype.reject=function(t){return this.filter(dr(Yn(t)))},bt.prototype.slice=function(t,e){t=qr(t);var n=this;return n.__filtered__&&(0<t||e<0)?new bt(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==oa&&(n=(e=qr(e))<0?n.dropRight(-e):n.take(e-t)),n)},bt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},bt.prototype.toArray=function(){return this.take(ha)},Kt(bt.prototype,function(h,t){var p=/^(?:filter|find|map|reject)|While$/.test(t),f=/^(?:head|last)$/.test(t),d=dt[f?"take"+("last"==t?"Right":""):t],g=f||/^find/.test(t);d&&(dt.prototype[t]=function(){function t(t){var e=d.apply(dt,Ws([t],n));return f&&a?e[0]:e}var e=this.__wrapped__,n=f?[1]:arguments,i=e instanceof bt,r=n[0],o=i||_r(e);o&&p&&"function"==typeof r&&1!=r.length&&(i=o=!1);var a=this.__chain__,s=!!this.__actions__.length,l=g&&!a,c=i&&!s;if(g||!o)return l&&c?h.apply(this,n):(u=this.thru(t),l?f?u.value()[0]:u.value():u);e=c?e:new bt(this);var u=h.apply(e,n);return u.__actions__.push({func:Wi,args:[t],thisArg:oa}),new mt(u,a)})}),Ns(["pop","push","shift","sort","splice","unshift"],function(t){var n=a[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);dt.prototype[t]=function(){var e=arguments;if(!r||this.__chain__)return this[i](function(t){return n.apply(_r(t)?t:[],e)});var t=this.value();return n.apply(_r(t)?t:[],e)}}),Kt(bt.prototype,function(t,e){var n,i=dt[e];i&&(n=i.name+"",w.call(ot,n)||(ot[n]=[]),ot[n].push({name:e,func:i}))}),ot[vn(oa,2).name]=[{name:"wrapper",func:oa}],bt.prototype.clone=function(){var t=new bt(this.__wrapped__);return t.__actions__=on(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=on(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=on(this.__views__),t},bt.prototype.reverse=function(){var t;return this.__filtered__?((t=new bt(this)).__dir__=-1,t.__filtered__=!0):(t=this.clone()).__dir__*=-1,t},bt.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=_r(t),i=e<0,r=n?t.length:0,o=function(t,e,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=q(e,t+a);break;case"takeRight":t=W(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,l=s-a,c=i?s:a-1,u=this.__iteratees__,h=u.length,p=0,f=q(l,this.__takeCount__);if(!n||!i&&r==l&&f==l)return Ge(t,this.__actions__);var d=[];t:for(;l--&&p<f;){for(var g=-1,y=t[c+=e];++g<h;){var v=u[g],m=v.iteratee,b=v.type,x=m(y);if(2==b)y=x;else if(!x){if(1==b)continue t;break t}}d[p++]=y}return d},dt.prototype.at=qi,dt.prototype.chain=function(){return Hi(this)},dt.prototype.commit=function(){return new mt(this.value(),this.__chain__)},dt.prototype.next=function(){this.__values__===oa&&(this.__values__=Hr(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?oa:this.__values__[this.__index__++]}},dt.prototype.plant=function(t){for(var e,n=this;n instanceof vt;){var i=mi(n);i.__index__=0,i.__values__=oa,e?r.__wrapped__=i:e=i;var r=i,n=n.__wrapped__}return r.__wrapped__=t,e},dt.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof bt){var e=t;return this.__actions__.length&&(e=new bt(this)),(e=e.reverse()).__actions__.push({func:Wi,args:[Li],thisArg:oa}),new mt(e,this.__chain__)}return this.thru(Li)},dt.prototype.toJSON=dt.prototype.valueOf=dt.prototype.value=function(){return Ge(this.__wrapped__,this.__actions__)},dt.prototype.first=dt.prototype.head,L&&(dt.prototype[L]=function(){return this}),dt}();Ts._=wl,(V=function(){return wl}.call(X,G,X,Y))===oa||(Y.exports=V)}).call(this)}).call(this,G(66),G(347)(t))},528:function(t,e,n){"use strict";n.r(e),n.d(e,"contains",function(){return i}),n.d(e,"includes",function(){return i}),n.d(e,"difference",function(){return o}),n.d(e,"find",function(){return m}),n.d(e,"findIndex",function(){return b}),n.d(e,"firstValue",function(){return x}),n.d(e,"flatten",function(){return O}),n.d(e,"flattenDeep",function(){return _}),n.d(e,"getRange",function(){return C}),n.d(e,"pull",function(){return k}),n.d(e,"pullAt",function(){return P}),n.d(e,"reduce",function(){return A}),n.d(e,"remove",function(){return E}),n.d(e,"sortBy",function(){return I}),n.d(e,"union",function(){return D}),n.d(e,"uniq",function(){return B}),n.d(e,"valuesOfKey",function(){return F}),n.d(e,"head",function(){return R}),n.d(e,"last",function(){return N}),n.d(e,"startsWith",function(){return Y}),n.d(e,"endsWith",function(){return V}),n.d(e,"filter",function(){return r}),n.d(e,"every",function(){return X}),n.d(e,"some",function(){return G}),n.d(e,"group",function(){return q}),n.d(e,"groupBy",function(){return H}),n.d(e,"groupToMap",function(){return W}),n.d(e,"getWrapBehavior",function(){return U}),n.d(e,"wrapBehavior",function(){return K}),n.d(e,"number2color",function(){return $}),n.d(e,"parseRadius",function(){return Q}),n.d(e,"clamp",function(){return J}),n.d(e,"fixedBase",function(){return tt}),n.d(e,"isDecimal",function(){return nt}),n.d(e,"isEven",function(){return it}),n.d(e,"isInteger",function(){return rt}),n.d(e,"isNegative",function(){return ot}),n.d(e,"isNumberEqual",function(){return st}),n.d(e,"isOdd",function(){return lt}),n.d(e,"isPositive",function(){return ct}),n.d(e,"maxBy",function(){return ut}),n.d(e,"minBy",function(){return ht}),n.d(e,"mod",function(){return pt}),n.d(e,"toDegree",function(){return dt}),n.d(e,"toInteger",function(){return gt}),n.d(e,"toRadian",function(){return vt}),n.d(e,"forIn",function(){return mt}),n.d(e,"has",function(){return bt}),n.d(e,"hasKey",function(){return xt}),n.d(e,"hasValue",function(){return wt}),n.d(e,"keys",function(){return d}),n.d(e,"isMatch",function(){return g}),n.d(e,"values",function(){return Ot}),n.d(e,"lowerCase",function(){return Ct}),n.d(e,"lowerFirst",function(){return jt}),n.d(e,"substitute",function(){return St}),n.d(e,"upperCase",function(){return Mt}),n.d(e,"upperFirst",function(){return kt}),n.d(e,"getType",function(){return Pt}),n.d(e,"isArguments",function(){return At}),n.d(e,"isArray",function(){return h}),n.d(e,"isArrayLike",function(){return s}),n.d(e,"isBoolean",function(){return Et}),n.d(e,"isDate",function(){return Lt}),n.d(e,"isError",function(){return It}),n.d(e,"isFunction",function(){return c}),n.d(e,"isFinite",function(){return Bt}),n.d(e,"isNil",function(){return u}),n.d(e,"isNull",function(){return Dt}),n.d(e,"isNumber",function(){return et}),n.d(e,"isObject",function(){return p}),n.d(e,"isObjectLike",function(){return y}),n.d(e,"isPlainObject",function(){return v}),n.d(e,"isPrototype",function(){return Rt}),n.d(e,"isRegExp",function(){return Nt}),n.d(e,"isString",function(){return L}),n.d(e,"isType",function(){return l}),n.d(e,"isUndefined",function(){return Yt}),n.d(e,"isElement",function(){return Vt}),n.d(e,"requestAnimationFrame",function(){return Xt}),n.d(e,"clearAnimationFrame",function(){return Gt}),n.d(e,"augment",function(){return Wt}),n.d(e,"clone",function(){return Ut}),n.d(e,"debounce",function(){return Kt}),n.d(e,"memoize",function(){return Zt}),n.d(e,"deepMix",function(){return Qt}),n.d(e,"each",function(){return f}),n.d(e,"extend",function(){return Jt}),n.d(e,"indexOf",function(){return te}),n.d(e,"isEmpty",function(){return ie}),n.d(e,"isEqual",function(){return oe}),n.d(e,"isEqualWith",function(){return ae}),n.d(e,"map",function(){return se}),n.d(e,"mapValues",function(){return le}),n.d(e,"mix",function(){return Ht}),n.d(e,"assign",function(){return Ht}),n.d(e,"get",function(){return ce}),n.d(e,"set",function(){return ue}),n.d(e,"pick",function(){return pe}),n.d(e,"throttle",function(){return fe}),n.d(e,"toArray",function(){return de}),n.d(e,"toString",function(){return _t}),n.d(e,"uniqueId",function(){return ye}),n.d(e,"noop",function(){return ve}),n.d(e,"identity",function(){return me}),n.d(e,"size",function(){return be}),n.d(e,"Cache",function(){return Oe});var s=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)},i=function(t,e){return!!s(t)&&-1<t.indexOf(e)},r=function(t,e){if(!s(t))return t;for(var n=[],i=0;i<t.length;i++){var r=t[i];e(r,i)&&n.push(r)}return n},o=function(t,e){return void 0===e&&(e=[]),r(t,function(t){return!i(e,t)})},a={}.toString,l=function(t,e){return a.call(t)==="[object "+e+"]"},c=function(t){return l(t,"Function")},u=function(t){return null==t},h=function(t){return Array.isArray?Array.isArray(t):l(t,"Array")},p=function(t){var e=typeof t;return null!==t&&"object"==e||"function"==e};var f=function(t,e){if(t)if(h(t))for(var n=0,i=t.length;n<i&&!1!==e(t[n],n);n++);else if(p(t))for(var r in t)if(t.hasOwnProperty(r)&&!1===e(t[r],r))break},d=Object.keys?function(t){return Object.keys(t)}:function(n){var i=[];return f(n,function(t,e){c(n)&&"prototype"===e||i.push(e)}),i};var g=function(t,e){var n=d(e),i=n.length;if(u(t))return!i;for(var r=0;r<i;r+=1){var o=n[r];if(e[o]!==t[o]||!(o in t))return!1}return!0},y=function(t){return"object"==typeof t&&null!==t},v=function(t){if(!y(t)||!l(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e};var m=function(t,e){if(!h(t))return null;var n;if(c(e)&&(n=e),v(e)&&(n=function(t){return g(t,e)}),n)for(var i=0;i<t.length;i+=1)if(n(t[i]))return t[i];return null};var b=function(t,e,n){void 0===n&&(n=0);for(var i=n;i<t.length;i++)if(e(t[i],i))return i;return-1},x=function(t,e){for(var n=null,i=0;i<t.length;i++){var r=t[i][e];if(!u(r)){n=h(r)?r[0]:r;break}}return n},O=function(t){if(!h(t))return[];for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},w=function(t,e){if(void 0===e&&(e=[]),h(t))for(var n=0;n<t.length;n+=1)w(t[n],e);else e.push(t);return e},_=w,C=function(t){var e=t.filter(function(t){return!isNaN(t)});if(!e.length)return{min:0,max:0};if(h(t[0])){for(var n=[],i=0;i<t.length;i++)n=n.concat(t[i]);e=n}var r=Math.max.apply(null,e);return{min:Math.min.apply(null,e),max:r}},j=Array.prototype,S=j.splice,M=j.indexOf,k=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++)for(var r,o=e[i];-1<(r=M.call(t,o));)S.call(t,r,1);return t},T=Array.prototype.splice,P=function(t,e){if(!s(t))return[];for(var n=t?e.length:0,i=n-1;n--;){var r=void 0,o=e[n];n!==i&&o===r||(r=o,T.call(t,o,1))}return t},A=function(t,n,e){if(!h(t)&&!v(t))return t;var i=e;return f(t,function(t,e){i=n(i,t,e)}),i},E=function(t,e){var n=[];if(!s(t))return n;for(var i=-1,r=[],o=t.length;++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return P(t,r),n},L=function(t){return l(t,"String")};var I=function(t,n){var r,e=c(n)?function(t,e){return n(t)-n(e)}:(r=[],L(n)?r.push(n):h(n)&&(r=n),function(t,e){for(var n=0;n<r.length;n+=1){var i=r[n];if(t[i]>e[i])return 1;if(t[i]<e[i])return-1}return 0});return t.sort(e),t},B=function(t){var e=[];return f(t,function(t){i(e,t)||e.push(t)}),e},D=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return B([].concat.apply([],t))},F=function(t,e){for(var n=[],i={},r=0;r<t.length;r++){var o=t[r][e];if(!u(o)){h(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];i[s]||(n.push(s),i[s]=!0)}}}return n};function R(t){if(s(t))return t[0]}function N(t){if(s(t))return t[t.length-1]}var Y=function(t,e){return!(!h(t)&&!L(t))&&t[0]===e};var V=function(t,e){return!(!h(t)&&!L(t))&&t[t.length-1]===e},X=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},G=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n))return!0;return!1},z=Object.prototype.hasOwnProperty;var H=function(t,e){if(!e||!h(t))return{};for(var n={},i=c(e)?e:function(t){return t[e]},r=0;r<t.length;r++){var o=t[r],a=i(o);z.call(n,a)?n[a].push(o):n[a]=[o]}return n},W=function(t,e){return e?(c(e)||(r=h(e)?e:e.replace(/\s+/g,"").split("*"),e=function(t){for(var e="_",n=0,i=r.length;n<i;n++)e+=t[r[n]]&&t[r[n]].toString();return e}),H(t,e)):{0:t};var r},q=function(t,e){if(!e)return[t];var n=W(t,e),i=[];for(var r in n)i.push(n[r]);return i};var U=function(t,e){return t["_wrap_"+e]};var K=function(e,n){if(e["_wrap_"+n])return e["_wrap_"+n];function t(t){e[n](t)}return e["_wrap_"+n]=t},Z={};var $=function(t){var e=Z[t];if(!e){for(var n=t.toString(16),i=n.length;i<6;i++)n="0"+n;e="#"+n,Z[t]=e}return e};var Q=function(t){var e=0,n=0,i=0,r=0;return h(t)?1===t.length?e=n=i=r=t[0]:2===t.length?(e=i=t[0],n=r=t[1]):3===t.length?(e=t[0],n=r=t[1],i=t[2]):(e=t[0],n=t[1],i=t[2],r=t[3]):e=n=i=r=t,{r1:e,r2:n,r3:i,r4:r}},J=function(t,e,n){return t<e?e:n<t?n:t},tt=function(t,e){var n=e.toString(),i=n.indexOf(".");if(-1===i)return Math.round(t);var r=n.substr(i+1).length;return 20<r&&(r=20),parseFloat(t.toFixed(r))},et=function(t){return l(t,"Number")},nt=function(t){return et(t)&&t%1!=0},it=function(t){return et(t)&&t%2==0},rt=Number.isInteger?Number.isInteger:function(t){return et(t)&&t%1==0},ot=function(t){return et(t)&&t<0},at=1e-5;function st(t,e,n){return void 0===n&&(n=at),Math.abs(t-e)<n}var lt=function(t){return et(t)&&t%2!=0},ct=function(t){return et(t)&&0<t},ut=function(t,e){if(h(t)){var n,i=t[0],r=c(e)?e(t[0]):t[0][e];return f(t,function(t){n=c(e)?e(t):t[e],r<n&&(i=t,r=n)}),i}},ht=function(t,e){if(h(t)){var n,i=t[0],r=c(e)?e(t[0]):t[0][e];return f(t,function(t){(n=c(e)?e(t):t[e])<r&&(i=t,r=n)}),i}},pt=function(t,e){return(t%e+e)%e},ft=180/Math.PI,dt=function(t){return ft*t},gt=parseInt,yt=Math.PI/180,vt=function(t){return yt*t},mt=f,bt=function(t,e){return t.hasOwnProperty(e)},xt=bt,Ot=Object.values?function(t){return Object.values(t)}:function(n){var i=[];return f(n,function(t,e){c(n)&&"prototype"===e||i.push(t)}),i},wt=function(t,e){return i(Ot(t),e)},_t=function(t){return u(t)?"":t.toString()},Ct=function(t){return _t(t).toLowerCase()},jt=function(t){var e=_t(t);return e.charAt(0).toLowerCase()+e.substring(1)};var St=function(t,n){return t&&n?t.replace(/\\?\{([^{}]+)\}/g,function(t,e){return"\\"===t.charAt(0)?t.slice(1):void 0===n[e]?"":n[e]}):t},Mt=function(t){return _t(t).toUpperCase()},kt=function(t){var e=_t(t);return e.charAt(0).toUpperCase()+e.substring(1)},Tt={}.toString,Pt=function(t){return Tt.call(t).replace(/^\[object /,"").replace(/]$/,"")},At=function(t){return l(t,"Arguments")},Et=function(t){return l(t,"Boolean")},Lt=function(t){return l(t,"Date")},It=function(t){return l(t,"Error")},Bt=function(t){return et(t)&&isFinite(t)},Dt=function(t){return null===t},Ft=Object.prototype,Rt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ft)},Nt=function(t){return l(t,"RegExp")},Yt=function(t){return void 0===t},Vt=function(t){return t instanceof Element||t instanceof HTMLDocument};function Xt(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}function Gt(t){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(t)}function zt(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}function Ht(t,e,n,i){return e&&zt(t,e),n&&zt(t,n),i&&zt(t,i),t}var Wt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t[0],i=1;i<t.length;i++){var r=t[i];c(r)&&(r=r.prototype),Ht(n.prototype,r)}},qt=function(t){if("object"!=typeof t||null===t)return t;var e;if(h(t)){e=[];for(var n=0,i=t.length;n<i;n++)"object"==typeof t[n]&&null!=t[n]?e[n]=qt(t[n]):e[n]=t[n]}else for(var r in e={},t)"object"==typeof t[r]&&null!=t[r]?e[r]=qt(t[r]):e[r]=t[r];return e},Ut=qt;var Kt=function(i,r,o){var a;return function(){var t=this,e=arguments,n=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||i.apply(t,e)},r),n&&i.apply(t,e)}},Zt=function(o,a){if(!c(o))throw new TypeError("Expected a function");var s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=a?a.apply(this,t):t[0],i=s.cache;if(i.has(n))return i.get(n);var r=o.apply(this,t);return i.set(n,r),r};return s.cache=new Map,s},$t=5;var Qt=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i+=1)!function t(e,n,i,r){for(var o in i=i||0,r=r||$t,n){var a;n.hasOwnProperty(o)&&(null!==(a=n[o])&&v(a)?(v(e[o])||(e[o]={}),i<r?t(e[o],a,i+1,r):e[o]=n[o]):h(a)?(e[o]=[],e[o]=e[o].concat(a)):void 0!==a&&(e[o]=a))}}(t,e[i]);return t},Jt=function(t,e,n,i){c(e)||(n=e,e=t,t=function(){});var r=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var i=new n;return i.constructor=e,i},o=r(e.prototype,t);return t.prototype=Ht(o,t.prototype),t.superclass=r(e.prototype,e),Ht(o,n),Ht(t,i),t},te=function(t,e){if(!s(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var i=-1,r=0;r<t.length;r++)if(t[r]===e){i=r;break}return i},ee=Object.prototype.hasOwnProperty;function ne(t){return t}var ie=function(t){if(u(t))return!0;if(s(t))return!t.length;var e=Pt(t);if("Map"===e||"Set"===e)return!t.size;if(Rt(t))return!Object.keys(t).length;for(var n in t)if(ee.call(t,n))return!1;return!0},re=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(L(t)||L(e))return!1;if(s(t)||s(e)){if(t.length!==e.length)return!1;for(var n=!0,i=0;i<t.length&&(n=re(t[i],e[i]));i++);return n}if(y(t)||y(e)){var r=Object.keys(t),o=Object.keys(e);if(r.length!==o.length)return!1;for(n=!0,i=0;i<r.length&&(n=re(t[r[i]],e[r[i]]));i++);return n}return!1},oe=re,ae=function(t,e,n){return c(n)?!!n(t,e):oe(t,e)},se=function(t,e){if(!s(t))return t;for(var n=[],i=0;i<t.length;i++){var r=t[i];n.push(e(r,i))}return n},le=function(e,n){void 0===n&&(n=ne);var i={};return p(e)&&!u(e)&&Object.keys(e).forEach(function(t){i[t]=n(e[t],t)}),i},ce=function(t,e,n){for(var i=0,r=L(e)?e.split("."):e;t&&i<r.length;)t=t[r[i++]];return void 0===t||i<r.length?n:t},ue=function(t,e,n){var i=t,r=L(e)?e.split("."):e;return r.forEach(function(t,e){e<r.length-1?(p(i[t])||(i[t]=et(r[e+1])?[]:{}),i=i[t]):i[t]=n}),t},he=Object.prototype.hasOwnProperty,pe=function(e,t){if(null===e||!v(e))return{};var n={};return f(t,function(t){he.call(e,t)&&(n[t]=e[t])}),n},fe=function(n,i,r){var o,a,s,l,c=0;r=r||{};function u(){c=!1===r.leading?0:Date.now(),o=null,l=n.apply(a,s),o||(a=s=null)}function t(){var t=Date.now();c||!1!==r.leading||(c=t);var e=i-(t-c);return a=this,s=arguments,e<=0||i<e?(o&&(clearTimeout(o),o=null),c=t,l=n.apply(a,s),o||(a=s=null)):o||!1===r.trailing||(o=setTimeout(u,e)),l}return t.cancel=function(){clearTimeout(o),c=0,o=a=s=null},t},de=function(t){return s(t)?Array.prototype.slice.call(t):[]},ge={},ye=function(t){return ge[t=t||"g"]?ge[t]+=1:ge[t]=1,t+ge[t]},ve=function(){},me=function(t){return t};function be(t){return u(t)?0:s(t)?t.length:Object.keys(t).length}function xe(){this.map={}}var Oe=(xe.prototype.has=function(t){return void 0!==this.map[t]},xe.prototype.get=function(t,e){var n=this.map[t];return void 0===n?e:n},xe.prototype.set=function(t,e){this.map[t]=e},xe.prototype.clear=function(){this.map={}},xe.prototype.delete=function(t){delete this.map[t]},xe.prototype.size=function(){return Object.keys(this.map).length},xe)},532:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return r}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return l}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return u}),n.d(e,"__generator",function(){return h}),n.d(e,"__createBinding",function(){return p}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return d}),n.d(e,"__read",function(){return g}),n.d(e,"__spread",function(){return y}),n.d(e,"__spreadArrays",function(){return v}),n.d(e,"__await",function(){return m}),n.d(e,"__asyncGenerator",function(){return b}),n.d(e,"__asyncDelegator",function(){return x}),n.d(e,"__asyncValues",function(){return O}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return _}),n.d(e,"__importDefault",function(){return C}),n.d(e,"__classPrivateFieldGet",function(){return j}),n.d(e,"__classPrivateFieldSet",function(){return S});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function s(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;0<=s;s--)(r=t[s])&&(a=(o<3?r(a):3<o?r(e,n,a):r(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a}function l(n,i){return function(t,e){i(t,e,n)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,a,s,l){return new(s=s||Promise)(function(n,e){function i(t){try{o(l.next(t))}catch(t){e(t)}}function r(t){try{o(l.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(i,r)}o((l=l.apply(t,a||[])).next())})}function h(n,i){var r,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=i.call(n,s)}catch(t){e=[6,t],o=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function p(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}function f(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o=[],a={};return i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(i){r[i]&&(a[i]=function(n){return new Promise(function(t,e){1<o.push([i,n,t,e])||s(i,n)})})}function s(t,e){try{(n=r[t](e)).value instanceof m?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(t){u(o[0][3],t)}var n}function l(t){s("next",t)}function c(t){s("throw",t)}function u(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function x(i){var r,t={};return e("next"),e("throw",function(t){throw t}),e("return"),t[Symbol.iterator]=function(){return this},t;function e(e,n){t[e]=i[e]?function(t){return(r=!r)?{value:m(i[e](t)),done:"return"===e}:n?n(t):t}:n}}function O(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=l[Symbol.asyncIterator];return e?e.call(l):(l=d(l),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=l[s]&&function(a){return new Promise(function(t,e){var n,i,r,o;a=l[s](a),n=t,i=e,r=a.done,o=a.value,Promise.resolve(o).then(function(t){n({value:t,done:r})},i)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function j(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},544:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return r}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return l}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return u}),n.d(e,"__generator",function(){return h}),n.d(e,"__createBinding",function(){return p}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return d}),n.d(e,"__read",function(){return g}),n.d(e,"__spread",function(){return y}),n.d(e,"__spreadArrays",function(){return v}),n.d(e,"__await",function(){return m}),n.d(e,"__asyncGenerator",function(){return b}),n.d(e,"__asyncDelegator",function(){return x}),n.d(e,"__asyncValues",function(){return O}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return C}),n.d(e,"__importDefault",function(){return j}),n.d(e,"__classPrivateFieldGet",function(){return S}),n.d(e,"__classPrivateFieldSet",function(){return M});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function s(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;0<=s;s--)(r=t[s])&&(a=(o<3?r(a):3<o?r(e,n,a):r(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a}function l(n,i){return function(t,e){i(t,e,n)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,a,s,l){return new(s=s||Promise)(function(n,e){function i(t){try{o(l.next(t))}catch(t){e(t)}}function r(t){try{o(l.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(i,r)}o((l=l.apply(t,a||[])).next())})}function h(n,i){var r,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=i.call(n,s)}catch(t){e=[6,t],o=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}var p=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]};function f(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||p(e,t,n)}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o=[],a={};return i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(i){r[i]&&(a[i]=function(n){return new Promise(function(t,e){1<o.push([i,n,t,e])||s(i,n)})})}function s(t,e){try{(n=r[t](e)).value instanceof m?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(t){u(o[0][3],t)}var n}function l(t){s("next",t)}function c(t){s("throw",t)}function u(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function x(i){var r,t={};return e("next"),e("throw",function(t){throw t}),e("return"),t[Symbol.iterator]=function(){return this},t;function e(e,n){t[e]=i[e]?function(t){return(r=!r)?{value:m(i[e](t)),done:"return"===e}:n?n(t):t}:n}}function O(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=l[Symbol.asyncIterator];return e?e.call(l):(l=d(l),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=l[s]&&function(a){return new Promise(function(t,e){var n,i,r,o;a=l[s](a),n=t,i=e,r=a.done,o=a.value,Promise.resolve(o).then(function(t){n({value:t,done:r})},i)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var _=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&p(e,t,n);return _(e,t),e}function j(t){return t&&t.__esModule?t:{default:t}}function S(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function M(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},636:function(t,e,n){"use strict";n.r(e),n.d(e,"mat3",function(){return c}),n.d(e,"vec2",function(){return o}),n.d(e,"vec3",function(){return r}),n.d(e,"ext",function(){return i});var i={};n.r(i),n.d(i,"leftTranslate",function(){return u}),n.d(i,"leftRotate",function(){return h}),n.d(i,"leftScale",function(){return p}),n.d(i,"transform",function(){return a}),n.d(i,"direction",function(){return s}),n.d(i,"angleTo",function(){return l}),n.d(i,"vertical",function(){return f});var c=n(1421),o=n(1422),r=n(1423);function u(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return c.fromTranslation(i,n),c.multiply(t,i,e)}function h(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return c.fromRotation(i,n),c.multiply(t,i,e)}function p(t,e,n){var i=[0,0,0,0,0,0,0,0,0];return c.fromScaling(i,n),c.multiply(t,i,e)}function a(t,e){for(var n,i,r,o=t?[].concat(t):[1,0,0,0,1,0,0,0,1],a=0,s=e.length;a<s;a++){var l=e[a];switch(l[0]){case"t":u(o,o,[l[1],l[2]]);break;case"s":p(o,o,[l[1],l[2]]);break;case"r":h(o,o,l[1]);break;case"m":i=n=o,r=l[1],c.multiply(n,r,i)}}return o}function s(t,e){return t[0]*e[1]-e[0]*t[1]}function l(t,e,n){var i=o.angle(t,e),r=0<=s(t,e);return n?r?2*Math.PI-i:i:r?i:2*Math.PI-i}function f(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t}},698:function(t,e,n){"use strict";n.r(e),n.d(e,"version",function(){return te}),n.d(e,"Event",function(){return B}),n.d(e,"Base",function(){return ot}),n.d(e,"AbstractCanvas",function(){return Ut}),n.d(e,"AbstractGroup",function(){return $t}),n.d(e,"AbstractShape",function(){return Jt}),n.d(e,"PathUtil",function(){return i});var i={};n.r(i),n.d(i,"catmullRomToBezier",function(){return P}),n.d(i,"fillPath",function(){return f}),n.d(i,"fillPathByDiff",function(){return y}),n.d(i,"formatPath",function(){return L}),n.d(i,"intersection",function(){return u}),n.d(i,"parsePathArray",function(){return a}),n.d(i,"parsePathString",function(){return C}),n.d(i,"pathToAbsolute",function(){return A}),n.d(i,"pathToCurve",function(){return E}),n.d(i,"rectPath",function(){return s});function m(t,e,n,i,r){var o,a,s;return null===r&&null===i&&(i=n),t=+t,e=+e,n=+n,i=+i,null!==r?(o=Math.PI/180,a=t+n*Math.cos(-i*o),s=t+n*Math.cos(-r*o),[["M",a,e+n*Math.sin(-i*o)],["A",n,n,0,+(180<r-i),0,s,e+n*Math.sin(-r*o)]]):[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]}function b(t,e,n,i){return[t,e,n,i,n,i]}function x(t,e,n,i,r,o){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]}function O(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n}function j(t,e,n,i,r,o,a,s,l){null===l&&(l=1);for(var c=(l=1<l?1:l<0?0:l)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,f=0;f<12;f++){var d=c*u[f]+c,g=O(d,t,n,r,a),y=O(d,e,i,o,s),v=g*g+y*y;p+=h[f]*Math.sqrt(v)}return c*p}function S(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function M(t,e,n,i){return null===t&&(t=e=n=i=0),null===e&&(e=t.y,n=t.width,i=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:i,h:i,x2:t+n,y2:e+i,cx:t+n/2,cy:e+i/2,r1:Math.min(n,i)/2,r2:Math.max(n,i)/2,r0:Math.sqrt(n*n+i*i)/2,path:s(t,e,n,i),vb:[t,e,n,i].join(" ")}}function k(t,e,n,i,r,o,a,s){Object(w.isArray)(t)||(t=[t,e,n,i,r,o,a,s]);var l=function(t,e,n,i,r,o,a,s){for(var l,c,u,h,p=[],f=[[],[]],d=0;d<2;++d)if(u=0===d?(c=6*t-12*n+6*r,l=-3*t+9*n-9*r+3*a,3*n-3*t):(c=6*e-12*i+6*o,l=-3*e+9*i-9*o+3*s,3*i-3*e),Math.abs(l)<1e-12){if(Math.abs(c)<1e-12)continue;0<(h=-u/c)&&h<1&&p.push(h)}else{var g,y,v=c*c-4*u*l,m=Math.sqrt(v);v<0||(0<(g=(-c+m)/(2*l))&&g<1&&p.push(g),0<(y=(-c-m)/(2*l))&&y<1&&p.push(y))}for(var b,x=p.length,O=x;x--;)b=1-(h=p[x]),f[0][x]=b*b*b*t+3*b*b*h*n+3*b*h*h*r+h*h*h*a,f[1][x]=b*b*b*e+3*b*b*h*i+3*b*h*h*o+h*h*h*s;return f[0][O]=t,f[1][O]=e,f[0][O+1]=a,f[1][O+1]=s,f[0].length=f[1].length=O+2,{min:{x:Math.min.apply(0,f[0]),y:Math.min.apply(0,f[1])},max:{x:Math.max.apply(0,f[0]),y:Math.max.apply(0,f[1])}}}.apply(null,t);return M(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)}function T(t,e,n,i,r,o,a,s,l){var c=1-l,u=Math.pow(c,3),h=Math.pow(c,2),p=l*l,f=p*l,d=t+2*l*(n-t)+p*(r-2*n+t),g=e+2*l*(i-e)+p*(o-2*i+e),y=n+2*l*(r-n)+p*(a-2*r+n),v=i+2*l*(o-i)+p*(s-2*o+i);return{x:u*t+3*h*l*n+3*c*l*l*r+f*a,y:u*e+3*h*l*i+3*c*l*l*o+f*s,m:{x:d,y:g},n:{x:y,y:v},start:{x:c*t+l*n,y:c*e+l*i},end:{x:c*r+l*a,y:c*o+l*s},alpha:90-180*Math.atan2(d-y,g-v)/Math.PI}}function _(t,e,n){var i,r,o=k(t),a=k(e);if(r=a,i=M(i=o),r=M(r),!(S(r,i.x,i.y)||S(r,i.x2,i.y)||S(r,i.x,i.y2)||S(r,i.x2,i.y2)||S(i,r.x,r.y)||S(i,r.x2,r.y)||S(i,r.x,r.y2)||S(i,r.x2,r.y2)||(i.x<r.x2&&i.x>r.x||r.x<i.x2&&r.x>i.x)&&(i.y<r.y2&&i.y>r.y||r.y<i.y2&&r.y>i.y)))return n?0:[];for(var s=~~(j.apply(0,t)/8),l=~~(j.apply(0,e)/8),c=[],u=[],h={},p=n?0:[],f=0;f<1+s;f++){var d=T.apply(0,t.concat(f/s));c.push({x:d.x,y:d.y,t:f/s})}for(f=0;f<1+l;f++){d=T.apply(0,e.concat(f/l));u.push({x:d.x,y:d.y,t:f/l})}for(f=0;f<s;f++)for(var g=0;g<l;g++){var y=c[f],v=c[f+1],m=u[g],b=u[g+1],x=Math.abs(v.x-y.x)<.001?"y":"x",O=Math.abs(b.x-m.x)<.001?"y":"x",w=function(t,e,n,i,r,o,a,s){if(!(Math.max(t,n)<Math.min(r,a)||Math.min(t,n)>Math.max(r,a)||Math.max(e,i)<Math.min(o,s)||Math.min(e,i)>Math.max(o,s))){var l=(t-n)*(o-s)-(e-i)*(r-a);if(l){var c=((t*i-e*n)*(r-a)-(t-n)*(r*s-o*a))/l,u=((t*i-e*n)*(o-s)-(e-i)*(r*s-o*a))/l,h=+c.toFixed(2),p=+u.toFixed(2);if(!(h<+Math.min(t,n).toFixed(2)||h>+Math.max(t,n).toFixed(2)||h<+Math.min(r,a).toFixed(2)||h>+Math.max(r,a).toFixed(2)||p<+Math.min(e,i).toFixed(2)||p>+Math.max(e,i).toFixed(2)||p<+Math.min(o,s).toFixed(2)||p>+Math.max(o,s).toFixed(2)))return{x:c,y:u}}}}(y.x,y.y,v.x,v.y,m.x,m.y,b.x,b.y);if(w){if(h[w.x.toFixed(4)]===w.y.toFixed(4))continue;h[w.x.toFixed(4)]=w.y.toFixed(4);var _=y.t+Math.abs((w[x]-y[x])/(v[x]-y[x]))*(v.t-y.t),C=m.t+Math.abs((w[O]-m[O])/(b[O]-m[O]))*(b.t-m.t);0<=_&&_<=1&&0<=C&&C<=1&&(n?p+=1:p.push({x:w.x,y:w.y,t1:_,t2:C}))}}return p}var w=n(528),r="\t\n\v\f\r \u2028\u2029",l=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),c=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig"),C=function(o){if(!o)return null;if(Object(w.isArray)(o))return o;var a={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},s=[];return String(o).replace(l,function(t,e,n){var i=[],r=e.toLowerCase();if(n.replace(c,function(t,e){e&&i.push(+e)}),"m"===r&&2<i.length&&(s.push([e].concat(i.splice(0,2))),r="l",e="m"===e?"l":"L"),"o"===r&&1===i.length&&s.push([e,i[0]]),"r"===r)s.push([e].concat(i));else for(;i.length>=a[r]&&(s.push([e].concat(i.splice(0,a[r]))),a[r]););return o}),s},P=function(t,e){for(var n=[],i=0,r=t.length;i<r-2*!e;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4===i?o[3]={x:+t[0],y:+t[1]}:r-2===i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4===i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n},A=function(t){if(!(t=C(t))||!t.length)return[["M",0,0]];var e,n,i=[],r=0,o=0,a=0,s=0,l=0;"M"===t[0][0]&&(a=r=+t[0][1],s=o=+t[0][2],l++,i[0]=["M",r,o]);for(var c=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),u=void 0,h=void 0,p=l,f=t.length;p<f;p++){if(i.push(u=[]),(e=(h=t[p])[0])!==e.toUpperCase())switch(u[0]=e.toUpperCase(),u[0]){case"A":u[1]=h[1],u[2]=h[2],u[3]=h[3],u[4]=h[4],u[5]=h[5],u[6]=+h[6]+r,u[7]=+h[7]+o;break;case"V":u[1]=+h[1]+o;break;case"H":u[1]=+h[1]+r;break;case"R":for(var d=2,g=(n=[r,o].concat(h.slice(1))).length;d<g;d++)n[d]=+n[d]+r,n[++d]=+n[d]+o;i.pop(),i=i.concat(P(n,c));break;case"O":i.pop(),(n=m(r,o,h[1],h[2])).push(n[0]),i=i.concat(n);break;case"U":i.pop(),i=i.concat(m(r,o,h[1],h[2],h[3])),u=["U"].concat(i[i.length-1].slice(-2));break;case"M":a=+h[1]+r,s=+h[2]+o;break;default:for(d=1,g=h.length;d<g;d++)u[d]=+h[d]+(d%2?r:o)}else if("R"===e)n=[r,o].concat(h.slice(1)),i.pop(),i=i.concat(P(n,c)),u=["R"].concat(h.slice(-2));else if("O"===e)i.pop(),(n=m(r,o,h[1],h[2])).push(n[0]),i=i.concat(n);else if("U"===e)i.pop(),i=i.concat(m(r,o,h[1],h[2],h[3])),u=["U"].concat(i[i.length-1].slice(-2));else for(var y=0,v=h.length;y<v;y++)u[y]=h[y];if("O"!==(e=e.toUpperCase()))switch(u[0]){case"Z":r=+a,o=+s;break;case"H":r=u[1];break;case"V":o=u[1];break;case"M":a=u[u.length-2],s=u[u.length-1];break;default:r=u[u.length-2],o=u[u.length-1]}}return i},G=function(t,e,n,i,r,o,a,s,l,c){n===i&&(n+=1);function u(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}var h,p,f,d,g,y,v,m,b,x,O,w=120*Math.PI/180,_=Math.PI/180*(+r||0),C=[];c?(x=c[0],O=c[1],m=c[2],b=c[3]):(t=(h=u(t,e,-_)).x,e=h.y,s=(h=u(s,l,-_)).x,l=h.y,t===s&&e===l&&(s+=1,l+=1),1<(d=(p=(t-s)/2)*p/(n*n)+(f=(e-l)/2)*f/(i*i))&&(n*=d=Math.sqrt(d),i*=d),g=n*n,y=i*i,m=(v=(o===a?-1:1)*Math.sqrt(Math.abs((g*y-g*f*f-y*p*p)/(g*f*f+y*p*p))))*n*f/i+(t+s)/2,b=v*-i*p/n+(e+l)/2,x=Math.asin(((e-b)/i).toFixed(9)),O=Math.asin(((l-b)/i).toFixed(9)),x=t<m?Math.PI-x:x,O=s<m?Math.PI-O:O,x<0&&(x=2*Math.PI+x),O<0&&(O=2*Math.PI+O),a&&O<x&&(x-=2*Math.PI),!a&&x<O&&(O-=2*Math.PI));var j,S,M,k=O-x;Math.abs(k)>w&&(j=O,S=s,M=l,O=x+w*(a&&x<O?1:-1),s=m+n*Math.cos(O),l=b+i*Math.sin(O),C=G(s,l,n,i,r,0,a,S,M,[O,j,m,b])),k=O-x;var T=Math.cos(x),P=Math.sin(x),A=Math.cos(O),E=Math.sin(O),L=Math.tan(k/4),I=4/3*n*L,B=4/3*i*L,D=[t,e],F=[t+I*P,e-B*T],R=[s+I*E,l-B*A],N=[s,l];if(F[0]=2*D[0]-F[0],F[1]=2*D[1]-F[1],c)return[F,R,N].concat(C);for(var Y=[],V=0,X=(C=[F,R,N].concat(C).join().split(",")).length;V<X;V++)Y[V]=V%2?u(C[V-1],C[V],_).y:u(C[V],C[V+1],_).x;return Y},E=function(t,e){for(var o=A(t),a=e&&A(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r=[],s=[],l="",c="",u=function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(G.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":r="C"===n||"S"===n?(i=2*e.x-e.bx,2*e.y-e.by):(i=e.x,e.y),t=["C",i,r].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(x(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(x(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(b(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(b(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(b(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(b(e.x,e.y,e.X,e.Y))}return t},h=function(t,e){if(7<t[e].length){t[e].shift();for(var n=t[e];n.length;)r[e]="A",a&&(s[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),f=Math.max(o.length,a&&a.length||0)}},p=function(t,e,n,i,r){t&&e&&"M"===t[r][0]&&"M"!==e[r][0]&&(e.splice(r,0,["M",i.x,i.y]),n.bx=0,n.by=0,n.x=t[r][1],n.y=t[r][2],f=Math.max(o.length,a&&a.length||0))},f=Math.max(o.length,a&&a.length||0),d=0;d<f;d++){o[d]&&(l=o[d][0]),"C"!==l&&(r[d]=l,d&&(c=r[d-1])),o[d]=u(o[d],n,c),"A"!==r[d]&&"C"===l&&(r[d]="C"),h(o,d),a&&(a[d]&&(l=a[d][0]),"C"!==l&&(s[d]=l,d&&(c=s[d-1])),a[d]=u(a[d],i,c),"A"!==s[d]&&"C"===l&&(s[d]="C"),h(a,d)),p(o,a,n,i,d),p(a,o,i,n,d);var g=o[d],y=a&&a[d],v=g.length,m=a&&y.length;n.x=g[v-2],n.y=g[v-1],n.bx=parseFloat(g[v-4])||n.x,n.by=parseFloat(g[v-3])||n.y,i.bx=a&&(parseFloat(y[m-4])||i.x),i.by=a&&(parseFloat(y[m-3])||i.y),i.x=a&&y[m-2],i.y=a&&y[m-1]}return a?[o,a]:o},o=/,?([a-z]),?/gi,a=function(t){return t.join(",").replace(o,"$1")},s=function(t,e,n,i,r){if(r)return[["M",+t+ +r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]];var o=[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]];return o.parsePathArray=a,o},u=function(t,e){return function(t,e,n){var i,r,o,a,s,l,c,u,h,p;t=E(t),e=E(e);for(var f=n?0:[],d=0,g=t.length;d<g;d++){var y=t[d];if("M"===y[0])i=s=y[1],r=l=y[2];else{r="C"===y[0]?(i=(h=[i,r].concat(y.slice(1)))[6],h[7]):(h=[i,r,i,r,s,l,s,l],i=s,l);for(var v=0,m=e.length;v<m;v++){var b=e[v];if("M"===b[0])o=c=b[1],a=u=b[2];else{a="C"===b[0]?(o=(p=[o,a].concat(b.slice(1)))[6],p[7]):(p=[o,a,o,a,c,u,c,u],o=c,u);var x=_(h,p,n);if(n)f+=x;else{for(var O=0,w=x.length;O<w;O++)x[O].segment1=d,x[O].segment2=v,x[O].bez1=h,x[O].bez2=p;f=f.concat(x)}}}}}return f}(t,e)};function h(t,e){var o=[],a=[];return t.length&&function t(e,n){if(1===e.length)o.push(e[0]),a.push(e[0]);else{for(var i=[],r=0;r<e.length-1;r++)0===r&&o.push(e[0]),r===e.length-2&&a.push(e[r+1]),i[r]=[(1-n)*e[r][0]+n*e[r+1][0],(1-n)*e[r][1]+n*e[r+1][1]];t(i,n)}}(t,e),{left:o,right:a.reverse()}}function p(t,e,n){if(1===n)return[[].concat(t)];var i=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])i=i.concat(function(t,e,n){var i=[[t[1],t[2]]];n=n||2;var r=[];"A"===e[0]?(i.push(e[6]),i.push(e[7])):"C"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]]),i.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(i.push([e[1],e[2]]),i.push([e[3],e[4]])):i.push([e[1],e[2]]);for(var o=i,a=1/n,s=0;s<n-1;s++){var l=h(o,a/(1-a*s));r.push(l.left),o=l.right}return r.push(o),r.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),3<=t.length&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])})}(t,e,n));else{var r=[].concat(t);"M"===r[0]&&(r[0]="L");for(var o=0;o<=n-1;o++)i.push(r)}return i}var f=function(i,t){if(1===i.length)return i;var r=i.length-1,e=t.length-1,n=r/e,o=[];if(1===i.length&&"M"===i[0][0]){for(var a=0;a<e-r;a++)i.push(i[0]);return i}for(a=0;a<e;a++){var s=Math.floor(n*a);o[s]=(o[s]||0)+1}var l=o.reduce(function(t,e,n){return n===r?t.concat(i[r]):t.concat(p(i[n],i[n+1],e))},[]);return l.unshift(i[0]),"Z"!==t[e]&&"z"!==t[e]||l.push("Z"),l};function d(t,e){var n,i=t.length,r=e.length,o=0;if(0===i||0===r)return null;for(var a=[],s=0;s<=i;s++)a[s]=[],a[s][0]={min:s};for(var l=0;l<=r;l++)a[0][l]={min:l};for(var c,u,h,p,s=1;s<=i;s++){n=t[s-1];for(l=1;l<=r;l++){o=function(t,n){if(t.length!==n.length)return!1;var i=!0;return Object(w.each)(t,function(t,e){if(t!==n[e])return i=!1}),i}(n,e[l-1])?0:1;var f=a[s-1][l].min+1,d=a[s][l-1].min+1,g=a[s-1][l-1].min+o;a[s][l]=(p=h=void 0,h=null,(u=d)<(p=g)&&(p=u,h="add"),(c=f)<p&&(p=c,h="del"),{type:h,min:p})}}return a}var y=function(t,e){var n=d(t,e),i=t.length,r=e.length,o=[],a=1,s=1;if(n[i][r].min!==i){for(var l=1;l<=i;l++){for(var c=n[l][l].min,s=l,u=a;u<=r;u++)n[l][u].min<c&&(c=n[l][u].min,s=u);a=s,n[l][a].type&&o.push({index:l-1,type:n[l][a].type})}for(l=o.length-1;0<=l;l--)a=o[l].index,"add"===o[l].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var h=r-(i=t.length);if(i<r)for(l=0;l<h;l++)"z"===t[i-1][0]||"Z"===t[i-1][0]?t.splice(i-2,0,t[i-2]):t.push(t[i-1]),i+=1;return t};function g(t,e,n){for(var i,r=[].concat(t),o=1/(n+1),a=v(e)[0],s=1;s<=n;s++)o*=s,0===(i=Math.floor(t.length*o))?r.unshift([a[0]*o+t[i][0]*(1-o),a[1]*o+t[i][1]*(1-o)]):r.splice(i,0,[a[0]*o+t[i][0]*(1-o),a[1]*o+t[i][1]*(1-o)]);return r}function v(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}var L=function(t,e){if(t.length<=1)return t;for(var n,i=0;i<e.length;i++)if(t[i][0]!==e[i][0])switch(n=v(t[i]),e[i][0]){case"M":t[i]=["M"].concat(n[0]);break;case"L":t[i]=["L"].concat(n[0]);break;case"A":t[i]=[].concat(e[i]),t[i][6]=n[0][0],t[i][7]=n[0][1];break;case"Q":if(n.length<2){if(!(0<i)){t[i]=e[i];break}n=g(n,t[i-1],1)}t[i]=["Q"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[i]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(0<i)){t[i]=e[i];break}n=g(n,t[i-1],2)}t[i]=["C"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(n.length<2){if(!(0<i)){t[i]=e[i];break}n=g(n,t[i-1],1)}t[i]=["S"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;default:t[i]=e[i]}return t};function I(t,e){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=t,this.name=t,this.originalEvent=e,this.timeStamp=e.timeStamp}var B=(I.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},I.prototype.stopPropagation=function(){this.propagationStopped=!0},I.prototype.toString=function(){return"[Event (type="+this.type+")]"},I.prototype.save=function(){},I.prototype.restore=function(){},I),D=n(532),F=n(914),R=n(1357),N=n.n(R),Y=n(1365),V=n.n(Y),X=n(1341),z=n.n(X),H=n(1397),W=n.n(H),q=(n(913),n(1419)),U=n.n(q),K=n(1351),Z=n.n(K),$=n(1420),Q=n.n($);function J(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var tt,et="undefined"!=typeof window&&void 0!==window.document;function nt(t,e){if(t.isCanvas())return 1;for(var n=e.getParent(),i=!1;n;){if(n===t){i=!0;break}n=n.getParent()}return i}function it(t){return t.cfg.visible&&t.cfg.capture}function rt(t){var e=tt.call(this)||this;e.destroyed=!1;var n=e.getDefaultCfg();return e.cfg=U()(n,t),e}var ot=(tt=F.default,Object(D.__extends)(rt,tt),rt.prototype.getDefaultCfg=function(){return{}},rt.prototype.get=function(t){return this.cfg[t]},rt.prototype.set=function(t,e){this.cfg[t]=e},rt.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},rt),at=n(1619),st=n(636);function lt(t,e){var n=[],i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],p=e[0],f=e[1],d=e[2],g=e[3],y=e[4],v=e[5],m=e[6],b=e[7],x=e[8];return n[0]=p*i+f*a+d*c,n[1]=p*r+f*s+d*u,n[2]=p*o+f*l+d*h,n[3]=g*i+y*a+v*c,n[4]=g*r+y*s+v*u,n[5]=g*o+y*l+v*h,n[6]=m*i+b*a+x*c,n[7]=m*r+b*s+x*u,n[8]=m*o+b*l+x*h,n}function ct(t,e){var n=[],i=e[0],r=e[1];return n[0]=t[0]*i+t[3]*r+t[6],n[1]=t[1]*i+t[4]*r+t[7],n}var ut,ht="matrix",pt=["zIndex","capture","visible","type"],ft=["repeat"];function dt(t){var e=ut.call(this,t)||this;e.attrs={};var n=e.getDefaultAttrs();return Object(w.mix)(n,t.attrs),e.attrs=n,e.initAttrs(n),e.initAnimate(),e}var gt,yt=(ut=ot,Object(D.__extends)(dt,ut),dt.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},dt.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},dt.prototype.onCanvasChange=function(t){},dt.prototype.initAttrs=function(t){},dt.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},dt.prototype.isGroup=function(){return!1},dt.prototype.getParent=function(){return this.get("parent")},dt.prototype.getCanvas=function(){return this.get("canvas")},dt.prototype.attr=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0],r=e[1];if(!i)return this.attrs;if(Object(w.isObject)(i)){for(var o in i)this.setAttr(o,i[o]);return this.afterAttrsChange(i),this}return 2===e.length?(this.setAttr(i,r),this.afterAttrsChange(((t={})[i]=r,t)),this):this.attrs[i]},dt.prototype.isClipped=function(t,e){var n=this.getClip();return n&&!n.isHit(t,e)},dt.prototype.setAttr=function(t,e){var n=this.attrs[t];n!==e&&(this.attrs[t]=e,this.onAttrChange(t,e,n))},dt.prototype.onAttrChange=function(t,e,n){"matrix"===t&&this.set("totalMatrix",null)},dt.prototype.afterAttrsChange=function(t){this.onCanvasChange("attr")},dt.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},dt.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},dt.prototype.setZIndex=function(t){this.set("zIndex",t);var e=this.getParent();return e&&e.sort(),this},dt.prototype.toFront=function(){var t,e,n=this.getParent();n&&(t=n.getChildren(),this.get("el"),e=t.indexOf(this),t.splice(e,1),t.push(this),this.onCanvasChange("zIndex"))},dt.prototype.toBack=function(){var t,e,n=this.getParent();n&&(t=n.getChildren(),this.get("el"),e=t.indexOf(this),t.splice(e,1),t.unshift(this),this.onCanvasChange("zIndex"))},dt.prototype.remove=function(t){void 0===t&&(t=!0);var e=this.getParent();e?(J(e.getChildren(),this),e.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},dt.prototype.resetMatrix=function(){this.attr(ht,this.getDefaultMatrix()),this.onCanvasChange("matrix")},dt.prototype.getMatrix=function(){return this.attr(ht)},dt.prototype.setMatrix=function(t){this.attr(ht,t),this.onCanvasChange("matrix")},dt.prototype.getTotalMatrix=function(){var t,e,n=this.get("totalMatrix");return n||(t=this.attr("matrix"),n=(e=this.get("parentMatrix"))&&t?lt(e,t):t||e,this.set("totalMatrix",n)),n},dt.prototype.applyMatrix=function(t){var e=this.attr("matrix"),n=null,n=t&&e?lt(t,e):e||t;this.set("totalMatrix",n),this.set("parentMatrix",t)},dt.prototype.getDefaultMatrix=function(){return null},dt.prototype.applyToMatrix=function(t){var e=this.attr("matrix");return e?ct(e,t):t},dt.prototype.invertFromMatrix=function(t){var e,n,i,r,o,a,s,l,c,u,h,p,f,d,g,y=this.attr("matrix");if(y){var v=(n=[],i=(e=y)[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],h=e[8],(g=i*(p=h*s-l*u)+r*(f=-h*a+l*c)+o*(d=u*a-s*c))?(g=1/g,n[0]=p*g,n[1]=(-h*r+o*u)*g,n[2]=(l*r-o*s)*g,n[3]=f*g,n[4]=(h*i-o*c)*g,n[5]=(-l*i+o*a)*g,n[6]=d*g,n[7]=(-u*i+r*c)*g,n[8]=(s*i-r*a)*g,n):null);if(v)return ct(v,t)}return t},dt.prototype.setClip=function(t){var e,n=this.getCanvas(),i=null;return!t||(e=this.getShapeBase()[Object(w.upperFirst)(t.type)])&&(i=new e({type:t.type,isClipShape:!0,attrs:t.attrs,canvas:n})),this.set("clipShape",i),this.onCanvasChange("clip"),i},dt.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},dt.prototype.clone=function(){var e=this,n=this.attrs,i={};Object(w.each)(n,function(t,e){Object(w.isArray)(n[e])?i[e]=function(t){for(var e=[],n=0;n<t.length;n++)Object(w.isArray)(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(n[e]):i[e]=n[e]});var r=new this.constructor({attrs:i});return Object(w.each)(pt,function(t){r.set(t,e.get(t))}),r},dt.prototype.destroy=function(){this.destroyed||(this.attrs={},ut.prototype.destroy.call(this))},dt.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},dt.prototype.animate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var i=this.get("animations")||[];n.timer||n.initTimer();var r,o,a,s,l,c=t[0],u=t[1],h=t[2],p=void 0===h?"easeLinear":h,f=t[3],d=void 0===f?w.noop:f,g=t[4],y=void 0===g?0:g;Object(w.isFunction)(c)?(r=c,c={}):Object(w.isObject)(c)&&c.onFrame&&(r=c.onFrame,o=c.repeat),Object(w.isObject)(u)?(u=(l=u).duration,p=l.easing||"easeLinear",y=l.delay||0,o=l.repeat||o||!1,d=l.callback||w.noop,a=l.pauseCallback||w.noop,s=l.resumeCallback||w.noop):(Object(w.isNumber)(d)&&(y=d,d=null),p=Object(w.isFunction)(p)?(d=p,"easeLinear"):p||"easeLinear");var v,m,b,x=(v=c,m={},b=this.attr(),Object(w.each)(v,function(t,e){-1!==ft.indexOf(e)||Object(w.isEqual)(b[e],t)||(m[e]=t)}),m),O={fromAttrs:function(t,e){var n={},i=e.attrs;for(var r in t)n[r]=i[r];return n}(x,this),toAttrs:x,duration:u,easing:p,repeat:o,callback:d,pauseCallback:a,resumeCallback:s,delay:y,startTime:n.getTime(),id:Object(w.uniqueId)(),onFrame:r,pathFormatted:!1};0<i.length?i=function(t,e){if(e.onFrame)return t;var i=e.startTime,r=e.delay,o=e.duration,a=Object.prototype.hasOwnProperty;return Object(w.each)(t,function(n){i+r<n.startTime+n.delay+n.duration&&o>n.delay&&Object(w.each)(e.toAttrs,function(t,e){a.call(n.toAttrs,e)&&(delete n.toAttrs[e],delete n.fromAttrs[e])})}),t}(i,O):n.addAnimator(this),i.push(O),this.set("animations",i),this.set("_pause",{isPaused:!1})},dt.prototype.stopAnimate=function(e){var n=this;void 0===e&&(e=!0);var t=this.get("animations");Object(w.each)(t,function(t){e&&(t.onFrame?n.attr(t.onFrame(1)):n.attr(t.toAttrs)),t.callback&&t.callback()}),this.set("animating",!1),this.set("animations",[])},dt.prototype.pauseAnimate=function(){var t=this.get("timeline"),e=this.get("animations"),n=t.getTime();return Object(w.each)(e,function(t){t._paused=!0,t._pauseTime=n,t.pauseCallback&&t.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:n}),this},dt.prototype.resumeAnimate=function(){var e=this.get("timeline").getTime(),t=this.get("animations"),n=this.get("_pause").pauseTime;return Object(w.each)(t,function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null,t.resumeCallback&&t.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",t),this},dt.prototype.emitDelegation=function(t,i){var r,o=this,a=i.propagationPath;this.getEvents();"mouseenter"===t?r=i.fromShape:"mouseleave"===t&&(r=i.toShape);for(var s=this,e=0;e<a.length;e++){if("break"===function(t){var e=a[t],n=e.get("name");if(n){if((e.isGroup()||e.isCanvas&&e.isCanvas())&&r&&nt(e,r))return"break";Object(w.isArray)(n)?Object(w.each)(n,function(t){o.emitDelegateEvent(e,t,i)}):s.emitDelegateEvent(e,n,i)}}(e))break}},dt.prototype.emitDelegateEvent=function(t,e,n){var i=this.getEvents(),r=e+":"+n.type;(i[r]||i["*"])&&(n.name=r,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(r,n))},dt.prototype.translate=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var n=this.getMatrix(),i=st.ext.transform(n,[["t",t,e]]);return this.setMatrix(i),this},dt.prototype.move=function(t,e){var n=this.attr("x")||0,i=this.attr("y")||0;return this.translate(t-n,e-i),this},dt.prototype.moveTo=function(t,e){return this.move(t,e)},dt.prototype.scale=function(t,e){var n=this.getMatrix(),i=st.ext.transform(n,[["s",t,e||t]]);return this.setMatrix(i),this},dt.prototype.rotate=function(t){var e=this.getMatrix(),n=st.ext.transform(e,[["r",t]]);return this.setMatrix(n),this},dt.prototype.rotateAtStart=function(t){var e=this.attr(),n=e.x,i=e.y,r=this.getMatrix(),o=st.ext.transform(r,[["t",-n,-i],["r",t],["t",n,i]]);return this.setMatrix(o),this},dt.prototype.rotateAtPoint=function(t,e,n){var i=this.getMatrix(),r=st.ext.transform(i,[["t",-t,-e],["r",n],["t",t,e]]);return this.setMatrix(r),this},dt),vt={},mt="_INDEX";function bt(){return null!==gt&&gt.apply(this,arguments)||this}function xt(e,n){n=n||[];var i,r=e?Math.min(n.length,e.length):0,o=n.slice();return function(t){for(i=0;i<r;++i)o[i]=e[i]*(1-t)+n[i]*t;return o}}var Ot=(gt=yt,Object(D.__extends)(bt,gt),bt.prototype.isCanvas=function(){return!1},bt.prototype.getBBox=function(){var t=1/0,e=-1/0,n=1/0,i=-1/0,r=[],o=[],a=this.getChildren().filter(function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&0<t.getChildren().length)}),i=0<a.length?(Z()(a,function(t){var e=t.getBBox();r.push(e.minX,e.maxX),o.push(e.minY,e.maxY)}),t=Math.min.apply(null,r),e=Math.max.apply(null,r),n=Math.min.apply(null,o),Math.max.apply(null,o)):n=e=t=0;return{x:t,y:n,minX:t,minY:n,maxX:e,maxY:i,width:e-t,height:i-n}},bt.prototype.getCanvasBBox=function(){var t=1/0,e=-1/0,n=1/0,i=-1/0,r=[],o=[],a=this.getChildren().filter(function(t){return t.get("visible")&&(!t.isGroup()||t.isGroup()&&0<t.getChildren().length)}),i=0<a.length?(Z()(a,function(t){var e=t.getCanvasBBox();r.push(e.minX,e.maxX),o.push(e.minY,e.maxY)}),t=Math.min.apply(null,r),e=Math.max.apply(null,r),n=Math.min.apply(null,o),Math.max.apply(null,o)):n=e=t=0;return{x:t,y:n,minX:t,minY:n,maxX:e,maxY:i,width:e-t,height:i-n}},bt.prototype.getDefaultCfg=function(){var t=gt.prototype.getDefaultCfg.call(this);return t.children=[],t},bt.prototype.onAttrChange=function(t,e,n){var i;gt.prototype.onAttrChange.call(this,t,e,n),"matrix"===t&&(i=this.getTotalMatrix(),this._applyChildrenMarix(i))},bt.prototype.applyMatrix=function(t){var e=this.getTotalMatrix();gt.prototype.applyMatrix.call(this,t);var n=this.getTotalMatrix();n!==e&&this._applyChildrenMarix(n)},bt.prototype._applyChildrenMarix=function(e){var t=this.getChildren();Z()(t,function(t){t.applyMatrix(e)})},bt.prototype.addShape=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0],i=t[1];W()(n)?i=n:i.type=n;var r=vt[i.type];r||(r=Q()(i.type),vt[i.type]=r);var o=new(this.getShapeBase()[r])(i);return this.add(o),o},bt.prototype.addGroup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,i,r=t[0],o=t[1];return i=V()(r)?new r(o||{parent:this}):(n=r||{},new(this.getGroupBase())(n)),this.add(i),i},bt.prototype.getCanvas=function(){var t=this.isCanvas()?this:this.get("canvas");return t},bt.prototype.getShape=function(t,e,n){if(!it(this))return null;var i,r,o=this.getChildren();return this.isCanvas()?i=this._findShape(o,t,e,n):(r=[t,e,1],r=this.invertFromMatrix(r),this.isClipped(r[0],r[1])||(i=this._findShape(o,r[0],r[1],n))),i},bt.prototype._findShape=function(t,e,n,i){for(var r=null,o=t.length-1;0<=o;o--){var a=t[o];if(it(a)&&(a.isGroup()?r=a.getShape(e,n,i):a.isHit(e,n)&&(r=a)),r)break}return r},bt.prototype.add=function(t){var e,n,i,r,o=this.getCanvas(),a=this.getChildren(),s=this.get("timeline"),l=t.getParent();l&&(e=l,n=t,void 0===(i=!1)&&(i=!0),i?n.destroy():(n.set("parent",null),n.set("canvas",null)),J(e.getChildren(),n)),t.set("parent",this),o&&function e(t,n){var i;t.set("canvas",n),!t.isGroup()||(i=t.get("children")).length&&i.forEach(function(t){e(t,n)})}(t,o),s&&function e(t,n){var i;t.set("timeline",n),!t.isGroup()||(i=t.get("children")).length&&i.forEach(function(t){e(t,n)})}(t,s),a.push(t),(r=t).isGroup()&&!r.isEntityGroup()&&!r.get("children").length||r.onCanvasChange("add"),this._applyElementMatrix(t)},bt.prototype._applyElementMatrix=function(t){var e=this.getTotalMatrix();e&&t.applyMatrix(e)},bt.prototype.getChildren=function(){return this.get("children")},bt.prototype.sort=function(){var i,t=this.getChildren();Z()(t,function(t,e){return t[mt]=e,t}),t.sort((i=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(t,e){var n=i(t,e);return 0===n?t[mt]-e[mt]:n})),this.onCanvasChange("sort")},bt.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),e=t.length-1;0<=e;e--)t[e].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},bt.prototype.destroy=function(){this.get("destroyed")||(this.clear(),gt.prototype.destroy.call(this))},bt.prototype.getFirst=function(){return this.getChildByIndex(0)},bt.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},bt.prototype.getChildByIndex=function(t){return this.getChildren()[t]},bt.prototype.getCount=function(){return this.getChildren().length},bt.prototype.contain=function(t){return-1<this.getChildren().indexOf(t)},bt.prototype.removeChild=function(t,e){void 0===e&&(e=!0),this.contain(t)&&t.remove(e)},bt.prototype.findAll=function(e){var n=[],t=this.getChildren();return Z()(t,function(t){e(t)&&n.push(t),t.isGroup()&&(n=n.concat(t.findAll(e)))}),n},bt.prototype.find=function(e){var n=null,t=this.getChildren();return Z()(t,function(t){if(e(t)?n=t:t.isGroup()&&(n=t.find(e)),n)return!1}),n},bt.prototype.findById=function(e){return this.find(function(t){return t.get("id")===e})},bt.prototype.findByClassName=function(e){return this.find(function(t){return t.get("className")===e})},bt.prototype.findAllByName=function(e){return this.findAll(function(t){return t.get("name")===e})},bt),wt=n(583),_t=n(719),Ct=n(896),jt=n(1405);function St(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var Mt=function(t,e){return(St(e)?xt:kt)(t,e)};function kt(t,e){for(var n=e?e.length:0,i=t?Math.min(n,t.length):0,r=new Array(i),o=new Array(n),a=0;a<i;++a)r[a]=Et(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(t){for(a=0;a<i;++a)o[a]=r[a](t);return o}}var Tt=n(898),Pt=n(1398),At=n(1352),Et=function(t,e){var n,i=typeof e;return null==e||"boolean"==i?Object(At.a)(e):("number"==i?Tt.a:"string"==i?(n=Object(Ct.e)(e))?(e=n,jt.a):Pt.a:e instanceof Ct.e?jt.a:e instanceof Date?function(e,n){var i=new Date;return e=+e,n=+n,function(t){return i.setTime(e*(1-t)+n*t),i}}:St(e)?xt:Array.isArray(e)?kt:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Et(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}:Tt.a)(t,e)},Lt=function(t){return["fill","stroke","fillStyle","strokeStyle"].includes(t)},It=function(t){return/^[r,R,L,l]{1}[\s]*\(/.test(t)},Bt=[1,0,0,0,1,0,0,0,1];function Dt(t,e,n){var i,r=e.startTime;if(n<r+e.delay||e._paused)return!1;var o,a=e.duration,s=e.easing;if(n=n-r-e.delay,e.repeat)i=n%a/a,i=_t[s](i);else{if(!((i=n/a)<1))return e.onFrame?t.attr(e.onFrame(1)):t.attr(e.toAttrs),!0;i=_t[s](i)}return e.onFrame?(o=e.onFrame(i),t.attr(o)):function(t,e,n){var i,r,o={},a=e.fromAttrs,s=e.toAttrs;if(!t.destroyed){for(var l in s)if(!Object(w.isEqual)(a[l],s[l]))if("path"===l){var c=s[l],u=a[l];c.length>u.length?(c=C(s[l]),u=C(a[l]),u=y(u,c),u=L(u,c),e.fromAttrs.path=u,e.toAttrs.path=c):e.pathFormatted||(c=C(s[l]),u=C(a[l]),u=L(u,c),e.fromAttrs.path=u,e.toAttrs.path=c,e.pathFormatted=!0),o[l]=[];for(var h=0;h<c.length;h++){for(var p=c[h],f=u[h],d=[],g=0;g<p.length;g++)Object(w.isNumber)(p[g])&&f&&Object(w.isNumber)(f[g])?(i=Et(f[g],p[g]),d.push(i(n))):d.push(p[g]);o[l].push(d)}}else{"matrix"===l?(r=Mt(a[l]||Bt,s[l]||Bt)(n),o[l]=r):Lt(l)&&It(s[l])?o[l]=s[l]:Object(w.isFunction)(s[l])||(i=Et(a[l],s[l]),o[l]=i(n))}t.attr(o)}}(t,e,i),!1}function Ft(t){this.animators=[],this.current=0,this.timer=null,this.canvas=t}var Rt=(Ft.prototype.initTimer=function(){var i,r,o,a=this;this.timer=wt.c(function(t){if(a.current=t,0<a.animators.length){for(var e=a.animators.length-1;0<=e;e--)if((i=a.animators[e]).destroyed)a.removeAnimator(e);else{if(!i.isAnimatePaused())for(var n=(r=i.get("animations")).length-1;0<=n;n--)o=r[n],Dt(i,o,t)&&(r.splice(n,1),o.callback&&o.callback());0===r.length&&a.removeAnimator(e)}a.canvas.get("autoDraw")||a.canvas.draw()}})},Ft.prototype.addAnimator=function(t){this.animators.push(t)},Ft.prototype.removeAnimator=function(t){this.animators.splice(t,1)},Ft.prototype.isAnimating=function(){return!!this.animators.length},Ft.prototype.stop=function(){this.timer&&this.timer.stop()},Ft.prototype.stopAllAnimations=function(e){void 0===e&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},Ft.prototype.getTime=function(){return this.current},Ft),Nt=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Yt(t,e,n){n.name=e,n.target=t,n.currentTarget=t,(n.delegateTarget=t).emit(e,n)}function Vt(t){var n=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(t){var e=t.type;n._triggerEvent(e,t)},this._onDocumentMove=function(t){var e;n.canvas.get("el")!==t.target&&(n.dragging||n.currentShape)&&(e=n._getPointInfo(t),n.dragging&&n._emitEvent("drag",t,e,n.draggingShape))},this._onDocumentMouseUp=function(t){var e;n.canvas.get("el")!==t.target&&n.dragging&&(e=n._getPointInfo(t),n.draggingShape&&n._emitEvent("drop",t,e,null),n._emitEvent("dragend",t,e,n.draggingShape),n._afterDrag(n.draggingShape,e,t))},this.canvas=t.canvas}var Xt,Gt=(Vt.prototype.init=function(){this._bindEvents()},Vt.prototype._bindEvents=function(){var e=this,n=this.canvas.get("el");Z()(Nt,function(t){n.addEventListener(t,e._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Vt.prototype._clearEvents=function(){var e=this,n=this.canvas.get("el");Z()(Nt,function(t){n.removeEventListener(t,e._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Vt.prototype._getEventObj=function(t,e,n,i,r,o){var a=new B(t,e);return a.fromShape=r,a.toShape=o,a.x=n.x,a.y=n.y,a.clientX=n.clientX,a.clientY=n.clientY,a.propagationPath.push(i),a},Vt.prototype._getShape=function(t,e){return this.canvas.getShape(t.x,t.y,e)},Vt.prototype._getPointInfo=function(t){var e=this.canvas,n=e.getClientByEvent(t),i=e.getPointByEvent(t);return{x:i.x,y:i.y,clientX:n.x,clientY:n.y}},Vt.prototype._triggerEvent=function(t,e){var n,i,r=this._getPointInfo(e),o=this._getShape(r,e),a=this["_on"+t],s=!1;a?a.call(this,r,o,e):(n=this.currentShape,"mouseenter"===t||"dragenter"===t||"mouseover"===t?(this._emitEvent(t,e,r,null,null,o),o&&this._emitEvent(t,e,r,o,null,o),"mouseenter"===t&&this.draggingShape&&this._emitEvent("dragenter",e,r,null)):"mouseleave"===t||"dragleave"===t||"mouseout"===t?(s=!0,n&&this._emitEvent(t,e,r,n,n,null),this._emitEvent(t,e,r,null,n,null),"mouseleave"===t&&this.draggingShape&&this._emitEvent("dragleave",e,r,null)):this._emitEvent(t,e,r,o,null,null)),s||(this.currentShape=o),o&&!o.get("destroyed")&&((i=this.canvas).get("el").style.cursor=o.attr("cursor")||i.get("cursor"))},Vt.prototype._onmousedown=function(t,e,n){0===n.button&&(this.mousedownShape=e,this.mousedownPoint=t,this.mousedownTimeStamp=n.timeStamp),this._emitEvent("mousedown",n,t,e,null,null)},Vt.prototype._emitMouseoverEvents=function(t,e,n,i){var r=this.canvas.get("el");n!==i&&(n&&(this._emitEvent("mouseout",t,e,n,n,i),this._emitEvent("mouseleave",t,e,n,n,i),i&&!i.get("destroyed")||(r.style.cursor=this.canvas.get("cursor"))),i&&(this._emitEvent("mouseover",t,e,i,n,i),this._emitEvent("mouseenter",t,e,i,n,i)))},Vt.prototype._emitDragoverEvents=function(t,e,n,i,r){i?(i!==n&&(n&&this._emitEvent("dragleave",t,e,n,n,i),this._emitEvent("dragenter",t,e,i,n,i)),r||this._emitEvent("dragover",t,e,i)):n&&this._emitEvent("dragleave",t,e,n,n,i),r&&this._emitEvent("dragover",t,e,i)},Vt.prototype._afterDrag=function(t,e,n){t&&(t.set("capture",!0),this.draggingShape=null),this.dragging=!1;var i=this._getShape(e,n);i!==t&&this._emitMouseoverEvents(n,e,t,i),this.currentShape=i},Vt.prototype._onmouseup=function(t,e,n){var i;0===n.button&&(i=this.draggingShape,this.dragging?(i&&this._emitEvent("drop",n,t,e),this._emitEvent("dragend",n,t,i),this._afterDrag(i,t,n)):(this._emitEvent("mouseup",n,t,e),e===this.mousedownShape&&this._emitEvent("click",n,t,e),this.mousedownShape=null,this.mousedownPoint=null))},Vt.prototype._ondragover=function(t,e,n){n.preventDefault();var i=this.currentShape;this._emitDragoverEvents(n,t,i,e,!0)},Vt.prototype._onmousemove=function(t,e,n){var i,r,o,a,s,l=this.canvas,c=this.currentShape,u=this.draggingShape;this.dragging?(u&&this._emitDragoverEvents(n,t,c,e,!1),this._emitEvent("drag",n,t,u)):(i=this.mousedownPoint)?(r=this.mousedownShape,o=n.timeStamp-this.mousedownTimeStamp,a=i.clientX-t.clientX,s=i.clientY-t.clientY,120<o||40<a*a+s*s?r&&r.get("draggable")?((u=this.mousedownShape).set("capture",!1),this.draggingShape=u,this.dragging=!0,this._emitEvent("dragstart",n,t,u),this.mousedownShape=null,this.mousedownPoint=null):!r&&l.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",n,t,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(n,t,c,e),this._emitEvent("mousemove",n,t,e)):(this._emitMouseoverEvents(n,t,c,e),this._emitEvent("mousemove",n,t,e))):(this._emitMouseoverEvents(n,t,c,e),this._emitEvent("mousemove",n,t,e))},Vt.prototype._emitEvent=function(t,e,n,i,r,o){var a=this._getEventObj(t,e,n,i,r,o);if(i){Yt(a.shape=i,t,a);for(var s=i.getParent();s;)s.emitDelegation(t,a),a.propagationStopped||function(t,e,n){if(n.bubbles){var i=void 0,r=!1;if("mouseenter"===e?(i=n.fromShape,r=!0):"mouseleave"===e&&(r=!0,i=n.toShape),t.isCanvas()&&r)return;if(i&&nt(t,i))return n.bubbles=!1;n.name=e,n.currentTarget=t,(n.delegateTarget=t).emit(e,n)}}(s,t,a),a.propagationPath.push(s),s=s.getParent()}else{Yt(this.canvas,t,a)}},Vt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Vt),zt=Object(at.a)(),Ht=zt&&"firefox"===zt.name;function Wt(t){var e=Xt.call(this,t)||this;return e.initContainer(),e.initDom(),e.initEvents(),e.initTimeline(),e}var qt,Ut=(Xt=Ot,Object(D.__extends)(Wt,Xt),Wt.prototype.getDefaultCfg=function(){var t=Xt.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},Wt.prototype.initContainer=function(){var t=this.get("container");z()(t)&&(t=document.getElementById(t),this.set("container",t))},Wt.prototype.initDom=function(){var t=this.createDom();this.set("el",t),this.get("container").appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},Wt.prototype.initEvents=function(){var t=new Gt({canvas:this});t.init(),this.set("eventController",t)},Wt.prototype.initTimeline=function(){var t=new Rt(this);this.set("timeline",t)},Wt.prototype.setDOMSize=function(t,e){var n=this.get("el");et&&(n.style.width=t+"px",n.style.height=e+"px")},Wt.prototype.changeSize=function(t,e){this.setDOMSize(t,e),this.set("width",t),this.set("height",e),this.onCanvasChange("changeSize")},Wt.prototype.getRenderer=function(){return this.get("renderer")},Wt.prototype.getCursor=function(){return this.get("cursor")},Wt.prototype.setCursor=function(t){this.set("cursor",t);var e=this.get("el");et&&e&&(e.style.cursor=t)},Wt.prototype.getPointByEvent=function(t){if(this.get("supportCSSTransform")){if(Ht&&!N()(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!N()(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var e=this.getClientByEvent(t),n=e.x,i=e.y;return this.getPointByClient(n,i)},Wt.prototype.getClientByEvent=function(t){var e=t;return t.touches&&(e="touchend"===t.type?t.changedTouches[0]:t.touches[0]),{x:e.clientX,y:e.clientY}},Wt.prototype.getPointByClient=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t-n.left,y:e-n.top}},Wt.prototype.getClientByPoint=function(t,e){var n=this.get("el").getBoundingClientRect();return{x:t+n.left,y:e+n.top}},Wt.prototype.draw=function(){},Wt.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},Wt.prototype.clearEvents=function(){this.get("eventController").destroy()},Wt.prototype.isCanvas=function(){return!0},Wt.prototype.getParent=function(){return null},Wt.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),Xt.prototype.destroy.call(this))},Wt);function Kt(){return null!==qt&&qt.apply(this,arguments)||this}var Zt,$t=(qt=Ot,Object(D.__extends)(Kt,qt),Kt.prototype.isGroup=function(){return!0},Kt.prototype.isEntityGroup=function(){return!1},Kt.prototype.clone=function(){for(var t=qt.prototype.clone.call(this),e=this.getChildren(),n=0;n<e.length;n++){var i=e[n];t.add(i.clone())}return t},Kt);function Qt(t){return Zt.call(this,t)||this}var Jt=(Zt=yt,Object(D.__extends)(Qt,Zt),Qt.prototype._isInBBox=function(t,e){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=e&&n.maxY>=e},Qt.prototype.afterAttrsChange=function(t){Zt.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},Qt.prototype.getBBox=function(){var t=this.get("bbox");return t||(t=this.calculateBBox(),this.set("bbox",t)),t},Qt.prototype.getCanvasBBox=function(){var t=this.get("canvasBox");return t||(t=this.calculateCanvasBBox(),this.set("canvasBox",t)),t},Qt.prototype.applyMatrix=function(t){Zt.prototype.applyMatrix.call(this,t),this.set("canvasBox",null)},Qt.prototype.calculateCanvasBBox=function(){var t,e,n,i,r=this.getBBox(),o=this.getTotalMatrix(),a=r.minX,s=r.minY,l=r.maxX,c=r.maxY;o&&(t=ct(o,[r.minX,r.minY]),e=ct(o,[r.maxX,r.minY]),n=ct(o,[r.minX,r.maxY]),i=ct(o,[r.maxX,r.maxY]),a=Math.min(t[0],e[0],n[0],i[0]),l=Math.max(t[0],e[0],n[0],i[0]),s=Math.min(t[1],e[1],n[1],i[1]),c=Math.max(t[1],e[1],n[1],i[1]));var u,h,p,f,d,g,y,v,m,b,x=this.attrs;return x.shadowColor&&(y=a-(h=void 0===(u=x.shadowBlur)?0:u)+(f=void 0===(p=x.shadowOffsetX)?0:p),v=l+h+f,m=s-h+(g=void 0===(d=x.shadowOffsetY)?0:d),b=c+h+g,a=Math.min(a,y),l=Math.max(l,v),s=Math.min(s,m),c=Math.max(c,b)),{x:a,y:s,minX:a,minY:s,maxX:l,maxY:c,width:l-a,height:c-s}},Qt.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBox",null)},Qt.prototype.isClipShape=function(){return this.get("isClipShape")},Qt.prototype.isInShape=function(t,e){return!1},Qt.prototype.isOnlyHitBox=function(){return!1},Qt.prototype.isHit=function(t,e){var n=this.get("startArrowShape"),i=this.get("endArrowShape"),r=[t,e,1],o=(r=this.invertFromMatrix(r))[0],a=r[1],s=this._isInBBox(o,a);if(this.isOnlyHitBox())return s;if(s&&!this.isClipped(o,a)){if(this.isInShape(o,a))return!0;if(n&&n.isHit(o,a))return!0;if(i&&i.isHit(o,a))return!0}return!1},Qt),te=n(1617).version},711:function(t,e,n){"use strict";n.r(e),n.d(e,"Component",function(){return N}),n.d(e,"GroupComponent",function(){return z}),n.d(e,"HtmlComponent",function(){return ue}),n.d(e,"Axis",function(){return s}),n.d(e,"Annotation",function(){return i}),n.d(e,"Grid",function(){return c}),n.d(e,"Legend",function(){return u}),n.d(e,"Tooltip",function(){return f}),n.d(e,"Crosshair",function(){return l}),n.d(e,"Slider",function(){return vn}),n.d(e,"Scrollbar",function(){return On});var i={};n.r(i),n.d(i,"Line",function(){return nt}),n.d(i,"Text",function(){return ot}),n.d(i,"Arc",function(){return lt}),n.d(i,"Region",function(){return ht}),n.d(i,"Image",function(){return dt}),n.d(i,"DataMarker",function(){return vt}),n.d(i,"DataRegion",function(){return xt}),n.d(i,"RegionFilter",function(){return _t});var r={};n.r(r),n.d(r,"getDefault",function(){return Tt}),n.d(r,"ellipsisHead",function(){return Pt}),n.d(r,"ellipsisTail",function(){return At}),n.d(r,"ellipsisMiddle",function(){return Et});var o={};n.r(o),n.d(o,"getDefault",function(){return Dt}),n.d(o,"reserveFirst",function(){return Ft}),n.d(o,"reserveLast",function(){return Rt}),n.d(o,"reserveBoth",function(){return Nt}),n.d(o,"equidistance",function(){return Yt});var a={};n.r(a),n.d(a,"getDefault",function(){return Xt}),n.d(a,"fixedAngle",function(){return Gt}),n.d(a,"unfixedAngle",function(){return zt});var h={};n.r(h),n.d(h,"autoHide",function(){return o}),n.d(h,"autoRotate",function(){return a}),n.d(h,"autoEllipsis",function(){return r});var s={};n.r(s),n.d(s,"Line",function(){return qt}),n.d(s,"Circle",function(){return Zt}),n.d(s,"Base",function(){return Mt});var l={};n.r(l),n.d(l,"Line",function(){return ne}),n.d(l,"Circle",function(){return oe}),n.d(l,"Base",function(){return Jt}),n.d(l,"Html",function(){return ve});var c={};n.r(c),n.d(c,"Base",function(){return xe}),n.d(c,"Circle",function(){return _e}),n.d(c,"Line",function(){return Se});var u={};n.r(u),n.d(u,"Category",function(){return Ee}),n.d(u,"Continuous",function(){return De}),n.d(u,"Base",function(){return Te});var p={};n.r(p),n.d(p,"CONTAINER_CLASS",function(){return Re}),n.d(p,"TITLE_CLASS",function(){return Ne}),n.d(p,"LIST_CLASS",function(){return Ye}),n.d(p,"LIST_ITEM_CLASS",function(){return Ve}),n.d(p,"MARKER_CLASS",function(){return Xe}),n.d(p,"VALUE_CLASS",function(){return Ge}),n.d(p,"NAME_CLASS",function(){return ze}),n.d(p,"CROSSHAIR_X",function(){return He}),n.d(p,"CROSSHAIR_Y",function(){return We});var f={};n.r(f),n.d(f,"Html",function(){return Ze});var _=n(532),C=n(528),d=n(1495),g=n.n(d);var y=n(636),v=[1,0,0,0,1,0,0,0,1];function m(t,e,n){return void 0===n&&(n=v),e?y.ext.transform(n,[["t",-t.x,-t.y],["r",e],["t",t.x,t.y]]):null}function b(t,e){return t.x||t.y?y.ext.transform(e||v,[["t",t.x,t.y]]):null}function x(t,e){var n=[0,0];return y.vec2.transformMat3(n,e,t),n}function j(t,e,n,i){var r;e&&(r=m({x:n,y:i},e,t.getMatrix()),t.setMatrix(r))}function S(t,e,n){var i=b({x:e,y:n});t.attr("matrix",i)}function M(t){var e=0,n=0,i=0,r=0;return Object(C.isNumber)(t)?e=n=i=r=t:Object(C.isArray)(t)&&(e=t[0],i=Object(C.isNil)(t[1])?t[0]:t[1],r=Object(C.isNil)(t[2])?t[0]:t[2],n=Object(C.isNil)(t[3])?i:t[3]),[e,i,r,n]}function O(t){for(var e=t.childNodes,n=e.length-1;0<=n;n--)t.removeChild(e[n])}function w(t){var e=t.start,n=t.end,i=Math.min(e.x,n.x),r=Math.min(e.y,n.y),o=Math.max(e.x,n.x),a=Math.max(e.y,n.y);return{x:i,y:r,minX:i,minY:r,maxX:o,maxY:a,width:o-i,height:a-r}}function k(t,e,n,i){return{x:t,y:e,width:n,height:i,minX:t,minY:e,maxX:t+n,maxY:e+i}}function T(t,e,n){return(1-n)*t+e*n}function P(t,e,n){return{x:t.x+Math.cos(n)*e,y:t.y+Math.sin(n)*e}}function A(t){var u,h,p,f,e,n,i,r,o,a=t.getClip(),s=a&&a.getBBox(),l=t.isGroup()?(p=u=1/0,f=h=-1/0,0<(e=t.getChildren()).length?Object(C.each)(e,function(t){if(t.get("visible")){if(t.isGroup()&&0===t.get("children").length)return!0;var e=A(t),n=t.applyToMatrix([e.minX,e.minY,1]),i=t.applyToMatrix([e.minX,e.maxY,1]),r=t.applyToMatrix([e.maxX,e.minY,1]),o=t.applyToMatrix([e.maxX,e.maxY,1]),a=Math.min(n[0],i[0],r[0],o[0]),s=Math.max(n[0],i[0],r[0],o[0]),l=Math.min(n[1],i[1],r[1],o[1]),c=Math.max(n[1],i[1],r[1],o[1]);a<u&&(u=a),h<s&&(h=s),l<p&&(p=l),f<c&&(f=c)}}):f=p=h=u=0,k(u,p,h-u,f-p)):t.getBBox();return s?(n=l,i=s,r=Math.max(n.minX,i.minX),o=Math.max(n.minY,i.minY),k(r,o,Math.min(n.maxX,i.maxX)-r,Math.min(n.maxY,i.maxY)-o)):l}function E(t){return t+"px"}function L(t,e,n,i){var r,o,a,s,l=i/(r=t,a=(o=e).x-r.x,s=o.y-r.y,Math.sqrt(a*a+s*s)),c=0;return"start"===n?c=0-l:"end"===n&&(c=1+l),{x:T(t.x,e.x,c),y:T(t.y,e.y,c)}}var I,B=n(698),D={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]};function F(t){var e=I.call(this,t)||this;return e.initCfg(),e}var R,N=(I=B.Base,Object(_.__extends)(F,I),F.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},F.prototype.clear=function(){},F.prototype.update=function(t){var i=this,r=this.get("defaultCfg");Object(C.each)(t,function(t,e){var n=t;i.get(e)!==t&&(Object(C.isObject)(t)&&r[e]&&(n=Object(C.deepMix)({},r[e],t)),i.set(e,n))}),this.updateInner(t),this.afterUpdate(t)},F.prototype.updateInner=function(t){},F.prototype.afterUpdate=function(t){Object(C.hasKey)(t,"visible")&&(t.visible?this.show():this.hide()),Object(C.hasKey)(t,"capture")&&this.setCapture(t.capture)},F.prototype.getLayoutBBox=function(){return this.getBBox()},F.prototype.getLocationType=function(){return this.get("locationType")},F.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},F.prototype.setOffset=function(t,e){this.update({offsetX:t,offsetY:e})},F.prototype.setLocation=function(t){var e=Object(_.__assign)({},t);this.update(e)},F.prototype.getLocation=function(){var e=this,n={},t=this.get("locationType"),i=D[t];return Object(C.each)(i,function(t){n[t]=e.get(t)}),n},F.prototype.isList=function(){return!1},F.prototype.isSlider=function(){return!1},F.prototype.init=function(){},F.prototype.initCfg=function(){var r=this,t=this.get("defaultCfg");Object(C.each)(t,function(t,e){var n,i=r.get(e);Object(C.isObject)(i)&&(n=Object(C.deepMix)({},t,i),r.set(e,n))})},F),Y="update_status",V=["visible","tip","delegateObject"],X=["container","group","shapesMap","isRegister","isUpdating","destroyed"];function G(){return null!==R&&R.apply(this,arguments)||this}var z=(R=N,Object(_.__extends)(G,R),G.prototype.getDefaultCfg=function(){var t=R.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},G.prototype.remove=function(){this.clear(),this.get("group").remove()},G.prototype.clear=function(){this.get("group").clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},G.prototype.getChildComponentById=function(t){var e=this.getElementById(t);return e&&e.get("component")},G.prototype.getElementById=function(t){return this.get("shapesMap")[t]},G.prototype.getElementByLocalId=function(t){var e=this.getElementId(t);return this.getElementById(e)},G.prototype.getElementsByName=function(e){var n=[];return Object(C.each)(this.get("shapesMap"),function(t){t.get("name")===e&&n.push(t)}),n},G.prototype.getContainer=function(){return this.get("container")},G.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},G.prototype.render=function(){var t=(t=this.get("offScreenGroup"))||this.offScreenRender(),e=this.get("group");this.updateElements(t,e),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},G.prototype.show=function(){this.get("group").show(),this.set("visible",!0)},G.prototype.hide=function(){this.get("group").hide(),this.set("visible",!1)},G.prototype.setCapture=function(t){this.get("group").set("capture",t),this.set("capture",t)},G.prototype.destroy=function(){this.removeEvent(),this.remove(),R.prototype.destroy.call(this)},G.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},G.prototype.getLayoutBBox=function(){var t,e,n,i,r,o,a,s,l,c,u=this.get("group"),h=this.getInnerLayoutBBox(),p=u.getTotalMatrix();return p&&(n=x(t=p,[(e=h).minX,e.minY]),i=x(t,[e.maxX,e.minY]),r=x(t,[e.minX,e.maxY]),o=x(t,[e.maxX,e.maxY]),a=Math.min(n[0],i[0],r[0],o[0]),s=Math.max(n[0],i[0],r[0],o[0]),l=Math.min(n[1],i[1],r[1],o[1]),c=Math.max(n[1],i[1],r[1],o[1]),h={x:a,y:l,minX:a,minY:l,maxX:s,maxY:c,width:s-a,height:c-l}),h},G.prototype.on=function(t,e,n){return this.get("group").on(t,e,n),this},G.prototype.off=function(t,e){var n=this.get("group");return n&&n.off(t,e),this},G.prototype.emit=function(t,e){this.get("group").emit(t,e)},G.prototype.init=function(){R.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},G.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},G.prototype.delegateEmit=function(t,e){var n=this.get("group");(e.target=n).emit(t,e),function(t,e,n){var i=new g.a(e,n);i.target=t,i.propagationPath.push(t),t.emitDelegation(e,i);for(var r=t.getParent();r;)r.emitDelegation(e,i),i.propagationPath.push(r),r=r.getParent()}(n,t,e)},G.prototype.createOffScreenGroup=function(){return new(this.get("group").getGroupBase())({delegateObject:this.getDelegateObject()})},G.prototype.applyOffset=function(){var t=this.get("offsetX"),e=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:e})},G.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},G.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",A(t)),t},G.prototype.addGroup=function(t,e){this.appendDelegateObject(t,e);var n=t.addGroup(e);return this.get("isRegister")&&this.registerElement(n),n},G.prototype.addShape=function(t,e){this.appendDelegateObject(t,e);var n=t.addShape(e);return this.get("isRegister")&&this.registerElement(n),n},G.prototype.addComponent=function(t,e){var n=e.id,i=e.component,r=Object(_.__rest)(e,["id","component"]),o=new i(Object(_.__assign)(Object(_.__assign)({},r),{id:n,container:t,updateAutoRender:this.get("updateAutoRender")}));return o.init(),o.render(),this.get("isRegister")&&this.registerElement(o.get("group")),o},G.prototype.initEvent=function(){},G.prototype.removeEvent=function(){this.get("group").off()},G.prototype.getElementId=function(t){return this.get("id")+"-"+this.get("name")+"-"+t},G.prototype.registerElement=function(t){var e=t.get("id");this.get("shapesMap")[e]=t},G.prototype.unregisterElement=function(t){var e=t.get("id");delete this.get("shapesMap")[e]},G.prototype.moveElementTo=function(t,e){var n=b(e);t.attr("matrix",n)},G.prototype.addAnimation=function(t,e,n){var i=e.attr("opacity");Object(C.isNil)(i)&&(i=1),e.attr("opacity",0),e.animate({opacity:i},n)},G.prototype.removeAnimation=function(t,e,n){e.animate({opacity:0},n)},G.prototype.updateAnimation=function(t,e,n,i){e.animate(n,i)},G.prototype.updateElements=function(t,g){var y,v=this,m=this.get("animate"),b=this.get("animateOption"),e=t.getChildren().slice(0);Object(C.each)(e,function(e){var t,n,i,r,o,a,s,l,c,u,h,p=e.get("id"),f=v.getElementById(p),d=e.get("name");f?e.get("isComponent")?(a=e.get("component"),t=f.get("component"),n=Object(C.pick)(a.cfg,Object(C.difference)(Object(C.keys)(a.cfg),X)),t.update(n),f.set(Y,"update")):(i=v.getReplaceAttrs(f,e),m&&b.update?v.updateAnimation(d,f,i,b.update):f.attr(i),e.isGroup()&&v.updateElements(e,f),Object(C.each)(V,function(t){f.set(t,e.get(t))}),c=e,((l=f).getClip()||c.getClip())&&((u=c.getClip())?(h={type:u.get("type"),attrs:u.attr()},l.setClip(h)):l.setClip(null)),(y=f).set(Y,"update")):(g.add(e),(r=g.getChildren()).splice(r.length-1,1),y?(o=r.indexOf(y),r.splice(o+1,0,e)):r.unshift(e),v.registerElement(e),e.set(Y,"add"),e.get("isComponent")?(a=e.get("component")).set("container",g):e.isGroup()&&v.registerNewGroup(e),y=e,!m||(s=v.get("isInit")?b.appear:b.enter)&&v.addAnimation(d,e,s))})},G.prototype.clearUpdateStatus=function(t){var e=t.getChildren();Object(C.each)(e,function(t){t.set(Y,null)})},G.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},G.prototype.getDelegateObject=function(){var t;return(t={})[this.get("name")]=this,t.component=this,t},G.prototype.appendDelegateObject=function(t,e){var n=t.get("delegateObject");e.delegateObject||(e.delegateObject={}),Object(C.mix)(e.delegateObject,n)},G.prototype.getReplaceAttrs=function(t,e){var n=t.attr(),i=e.attr();return Object(C.each)(n,function(t,e){void 0===i[e]&&(i[e]=void 0)}),i},G.prototype.registerNewGroup=function(t){var e=this,n=t.getChildren();Object(C.each)(n,function(t){e.registerElement(t),t.set(Y,"add"),t.isGroup()&&e.registerNewGroup(t)})},G.prototype.deleteElements=function(){var o=this,a=this.get("shapesMap"),n=[];Object(C.each)(a,function(t,e){!t.get(Y)||t.destroyed?n.push([e,t]):t.set(Y,null)});var s=this.get("animate"),l=this.get("animateOption");Object(C.each)(n,function(t){var e,n,i=t[0],r=t[1];r.destroyed||(e=r.get("name"),s&&l.leave?(n=Object(C.mix)({callback:function(){o.removeElement(r)}},l.leave),o.removeAnimation(e,r,n)):o.removeElement(r)),delete a[i]})},G.prototype.removeElement=function(t){var e;!t.get("isGroup")||(e=t.get("component"))&&e.destroy(),t.remove()},G),H="";function W(t,e){return 0<t.charCodeAt(e)&&t.charCodeAt(e)<128?1:2}var q="",U=2;function K(t){var n=0;return Object(C.each)(t,function(t){var e=t.getBBox().width;n<e&&(n=e)}),n}function Z(t,e,n,i){void 0===i&&(i="tail");var r,o,a,s,l=e.attr("text"),c=(r=t,o=e.getCanvasBBox(),r?o.width:o.height),u=function(t){for(var e=0,n=0;n<t.length;n++)e+=W(t,n);return e}(l),h=!1;return n<c&&(s=void 0,(s=0<=(a=Math.floor(n/c*u)-U)?function(t,e,n){void 0===n&&(n="tail");var i=t.length,r="";if("tail"===n){for(var o=0,a=0;o<e;){if(!(o+W(t,a)<=e))break;r+=t[a],o+=W(t,a),a++}r+=H}else if("head"===n){for(o=0,a=i-1;o<e;){if(!(o+W(t,a)<=e))break;r+=t[a],o+=W(t,a),a--}r=H+r}else{for(var s="",l="",o=0,c=0,u=i-1;o<e;){var h=W(t,c),p=!1;h+o<=e&&(s+=t[c],c++,o+=h,p=!0);var f=W(t,u);if(f+o<=e&&(l=t[u]+l,o+=f,u--,p=!0),!p)break}r=s+H+l}return r}(l,a,i):q)&&(e.attr("text",s),h=!0)),h?e.set("tip",l):e.set("tip",null),h}function $(t,e){var n,i,r,o,a,s,l=e.x,c=e.y,u=e.content,h=e.style,p=e.id,f=e.name,d=e.rotate,g=e.maxLength,y=e.autoEllipsis,v=e.isVertical,m=e.ellipsisPosition,b=e.background,x=t.addGroup({id:p+"-group",name:f+"-group",attrs:{x:l,y:c}}),O=x.addShape({type:"text",id:p,name:f,attrs:Object(_.__assign)({x:0,y:0,text:u},h)}),w=M(Object(C.get)(b,"padding",0));g&&y&&Z(!v,O,g-(w[1]+w[3]),m),b&&(n=Object(C.get)(b,"style",{}),r=(i=O.getCanvasBBox()).minX,o=i.minY,a=i.width,s=i.height,x.addShape("rect",{id:p+"-bg",name:p+"-bg",attrs:Object(_.__assign)({x:r-w[3],y:o-w[0],width:a+w[1]+w[3],height:s+w[0]+w[2]},n)}).toBack()),S(x,l,c),j(x,d,l,c)}var Q,J={fontFamily:'\n  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",\n  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",\n  SimSun, "sans-serif"',textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4};function tt(){return null!==Q&&Q.apply(this,arguments)||this}var et,nt=(Q=z,Object(_.__extends)(tt,Q),tt.prototype.getDefaultCfg=function(){var t=Q.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:J.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:J.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:J.lineColor,lineWidth:1}}}})},tt.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},tt.prototype.renderLine=function(t){var e=this.get("start"),n=this.get("end"),i=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Object(_.__assign)({x1:e.x,y1:e.y,x2:n.x,y2:n.y},i)})},tt.prototype.getLabelPoint=function(t,e,n){var i="start"===n?0:"center"===n?.5:Object(C.isString)(n)&&-1!==n.indexOf("%")?parseInt(n,10)/100:Object(C.isNumber)(n)?n:1;return(1<i||i<0)&&(i=1),{x:T(t.x,e.x,i),y:T(t.y,e.y,i)}},tt.prototype.renderLabel=function(t){var e,n=this.get("text"),i=this.get("start"),r=this.get("end"),o=n.position,a=n.content,s=n.style,l=n.offsetX,c=n.offsetY,u=n.autoRotate,h=n.maxLength,p=n.autoEllipsis,f=n.ellipsisPosition,d=n.background,g=n.isVertical,y=void 0!==g&&g,v=this.getLabelPoint(i,r,o),m=v.x+l,b=v.y+c,x={id:this.getElementId("line-text"),name:"annotation-line-text",x:m,y:b,content:a,style:s,maxLength:h,autoEllipsis:p,ellipsisPosition:f,background:d,isVertical:y};u&&(e=[r.x-i.x,r.y-i.y],x.rotate=Math.atan2(e[1],e[0])),$(t,x)},tt);function it(){return null!==et&&et.apply(this,arguments)||this}var rt,ot=(et=z,Object(_.__extends)(it,et),it.prototype.getDefaultCfg=function(){var t=et.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:J.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:J.fontFamily}}})},it.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},it.prototype.renderInner=function(t){var e=this.getLocation(),n=e.x,i=e.y,r=this.get("content"),o=this.get("style");$(t,{id:this.getElementId("text"),name:this.get("name")+"-text",x:n,y:i,content:r,style:o,maxLength:this.get("maxLength"),autoEllipsis:this.get("autoEllipsis"),isVertical:this.get("isVertical"),ellipsisPosition:this.get("ellipsisPosition"),background:this.get("background"),rotate:this.get("rotate")})},it.prototype.resetLocation=function(){var t,e,n,i,r=this.getElementByLocalId("text-group");r&&(e=(t=this.getLocation()).x,n=t.y,i=this.get("rotate"),S(r,e,n),j(r,i,e,n))},it);function at(){return null!==rt&&rt.apply(this,arguments)||this}var st,lt=(rt=z,Object(_.__extends)(at,rt),at.prototype.getDefaultCfg=function(){var t=rt.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,style:{stroke:"#999",lineWidth:1}})},at.prototype.renderInner=function(t){this.renderArc(t)},at.prototype.getArcPath=function(){var t,e=this.getLocation(),n=e.center,i=e.radius,r=e.startAngle,o=e.endAngle,a=P(n,i,r),s=P(n,i,o),l=o-r>Math.PI?1:0,c=[["M",a.x,a.y]];return o-r==2*Math.PI&&(t=P(n,i,r+Math.PI),c.push(["A",i,i,0,l,1,t.x,t.y])),c.push(["A",i,i,0,l,1,s.x,s.y]),c},at.prototype.renderArc=function(t){var e=this.getArcPath(),n=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Object(_.__assign)({path:e},n)})},at);function ct(){return null!==st&&st.apply(this,arguments)||this}var ut,ht=(st=z,Object(_.__extends)(ct,st),ct.prototype.getDefaultCfg=function(){var t=st.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:J.regionColor,opacity:.4}}})},ct.prototype.renderInner=function(t){this.renderRegion(t)},ct.prototype.renderRegion=function(t){var e=this.get("start"),n=this.get("end"),i=this.get("style"),r=w({start:e,end:n});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Object(_.__assign)({x:r.x,y:r.y,width:r.width,height:r.height},i)})},ct);function pt(){return null!==ut&&ut.apply(this,arguments)||this}var ft,dt=(ut=z,Object(_.__extends)(pt,ut),pt.prototype.getDefaultCfg=function(){var t=ut.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},pt.prototype.renderInner=function(t){this.renderImage(t)},pt.prototype.getImageAttrs=function(){var t=this.get("start"),e=this.get("end"),n=this.get("style"),i=w({start:t,end:e}),r=this.get("src");return Object(_.__assign)({x:i.x,y:i.y,img:r,width:i.width,height:i.height},n)},pt.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},pt);function gt(){return null!==ft&&ft.apply(this,arguments)||this}var yt,vt=(ft=z,Object(_.__extends)(gt,ft),gt.prototype.getDefaultCfg=function(){var t=ft.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:J.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:J.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:J.fontFamily}}}})},gt.prototype.renderInner=function(t){Object(C.get)(this.get("line"),"display")&&this.renderLine(t),Object(C.get)(this.get("text"),"display")&&this.renderText(t),Object(C.get)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},gt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},gt.prototype.renderPoint=function(t){var e=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:e})},gt.prototype.renderLine=function(t){var e=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:e})},gt.prototype.renderText=function(t){var e=this.getShapeAttrs().text,n=e.x,i=e.y,r=e.text,o=Object(_.__rest)(e,["x","y","text"]),a=this.get("text"),s=a.background,l=a.maxLength,c=a.autoEllipsis,u=a.isVertival,h=a.ellipsisPosition;$(t,{x:n,y:i,id:this.getElementId("text"),name:"annotation-text",content:r,style:o,background:s,maxLength:l,autoEllipsis:c,isVertival:u,ellipsisPosition:h})},gt.prototype.autoAdjust=function(t){var e,n,i,r=this.get("direction"),o=this.get("x"),a=this.get("y"),s=Object(C.get)(this.get("line"),"length",0),l=this.get("coordinateBBox"),c=t.getBBox(),u=c.minX,h=c.maxX,p=c.minY,f=c.maxY,d=t.findById(this.getElementId("text-group")),g=t.findById(this.getElementId("text")),y=t.findById(this.getElementId("line"));l&&(d&&(o+u<=l.minX&&(e=l.minX-(o+u),S(d,d.attr("x")+e,d.attr("y"))),o+h>=l.maxX&&(e=o+h-l.maxX,S(d,d.attr("x")-e,d.attr("y")))),("upward"===r&&a+p<=l.minY||"upward"!==r&&a+f>=l.maxY)&&(i=n=void 0,i="upward"===r&&a+p<=l.minY?(n="top",1):(n="bottom",-1),g.attr("textBaseline",n),y&&y.attr("path",[["M",0,0],["L",0,s*i]]),S(d,d.attr("x"),(s+2)*i)))},gt.prototype.getShapeAttrs=function(){var t=Object(C.get)(this.get("line"),"display"),e=Object(C.get)(this.get("point"),"style",{}),n=Object(C.get)(this.get("line"),"style",{}),i=Object(C.get)(this.get("text"),"style",{}),r=this.get("direction"),o=t?Object(C.get)(this.get("line"),"length",0):0,a="upward"===r?-1:1;return{point:Object(_.__assign)({x:0,y:0},e),line:Object(_.__assign)({path:[["M",0,0],["L",0,o*a]]},n),text:Object(_.__assign)({x:0,y:(o+2)*a,text:Object(C.get)(this.get("text"),"content",""),textBaseline:"upward"===r?"bottom":"top"},i)}},gt);function mt(){return null!==yt&&yt.apply(this,arguments)||this}var bt,xt=(yt=z,Object(_.__extends)(mt,yt),mt.prototype.getDefaultCfg=function(){var t=yt.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:J.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:J.textColor,fontFamily:J.fontFamily}}}})},mt.prototype.renderInner=function(t){var e,n,i,r,o,a,s,l,c,u=Object(C.get)(this.get("region"),"style",{}),h=(Object(C.get)(this.get("text"),"style",{}),this.get("lineLength")||0),p=this.get("points");p.length&&(i=(n=p).map(function(t){return t.x}),r=n.map(function(t){return t.y}),o=Math.min.apply(Math,i),a=Math.min.apply(Math,r),s=Math.max.apply(Math,i),l=Math.max.apply(Math,r),e={x:o,y:a,minX:o,minY:a,maxX:s,maxY:l,width:s-o,height:l-a},(c=[]).push(["M",p[0].x,e.minY-h]),p.forEach(function(t){c.push(["L",t.x,t.y])}),c.push(["L",p[p.length-1].x,p[p.length-1].y-h]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Object(_.__assign)({path:c},u)}),$(t,Object(_.__assign)({id:this.getElementId("text"),name:"annotation-text",x:(e.minX+e.maxX)/2,y:e.minY-h},this.get("text"))))},mt);function Ot(){return null!==bt&&bt.apply(this,arguments)||this}var wt,_t=(bt=z,Object(_.__extends)(Ot,bt),Ot.prototype.getDefaultCfg=function(){var t=bt.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},Ot.prototype.renderInner=function(t){var r=this,e=this.get("start"),n=this.get("end"),o=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});Object(C.each)(this.get("shapes"),function(t,e){var n=t.get("type"),i=Object(C.clone)(t.attr());r.adjustShapeAttrs(i),r.addShape(o,{id:r.getElementId("shape-"+n+"-"+e),capture:!1,type:n,attrs:i})});var i=w({start:e,end:n});o.setClip({type:"rect",attrs:{x:i.minX,y:i.minY,width:i.width,height:i.height}})},Ot.prototype.adjustShapeAttrs=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},Ot);function Ct(n,t,e){var i=t+"Style",r=null;return Object(C.each)(e,function(t,e){n[e]&&t[i]&&(r=r||{},Object(C.mix)(r,t[i]))}),r}function jt(){return null!==wt&&wt.apply(this,arguments)||this}var St,Mt=(wt=z,Object(_.__extends)(jt,wt),jt.prototype.getDefaultCfg=function(){var t=wt.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},defaultCfg:{line:{style:{lineWidth:1,stroke:J.lineColor}},tickLine:{style:{lineWidth:1,stroke:J.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:J.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:J.textColor,textBaseline:"middle",fontFamily:J.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:J.textColor,textBaseline:"middle",fontFamily:J.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:J.uncheckedColor}}}}})},jt.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},jt.prototype.isList=function(){return!0},jt.prototype.getItems=function(){return this.get("ticks")},jt.prototype.setItems=function(t){this.update({ticks:t})},jt.prototype.updateItem=function(t,e){Object(C.mix)(t,e),this.clear(),this.render()},jt.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},jt.prototype.setItemState=function(t,e,n){t[e]=n,this.updateTickStates(t)},jt.prototype.hasState=function(t,e){return!!t[e]},jt.prototype.getItemStates=function(n){var t=this.get("tickStates"),i=[];return Object(C.each)(t,function(t,e){n[e]&&i.push(e)}),i},jt.prototype.clearItemsState=function(e){var n=this,t=this.getItemsByState(e);Object(C.each)(t,function(t){n.setItemState(t,e,!1)})},jt.prototype.getItemsByState=function(e){var n=this,t=this.getItems();return Object(C.filter)(t,function(t){return n.hasState(t,e)})},jt.prototype.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},jt.prototype.getTextAnchor=function(t){var e;return Object(C.isNumberEqual)(t[0],0)?e="center":0<t[0]?e="start":t[0]<0&&(e="end"),e},jt.prototype.processOverlap=function(t){},jt.prototype.drawLine=function(t){var e=this.getLinePath(),n=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Object(C.mix)({path:e},n.style)})},jt.prototype.getTickLineItems=function(t){var i=this,r=[],e=this.get("tickLine"),o=e.alignTick,a=e.length,s=1;return 2<=t.length&&(s=t[1].value-t[0].value),Object(C.each)(t,function(t){var e=t.point;o||(e=i.getTickPoint(t.value-s/2));var n=i.getSidePoint(e,a);r.push({startPoint:e,tickValue:t.value,endPoint:n,tickId:t.id,id:"tickline-"+t.id})}),r},jt.prototype.getSubTickLineItems=function(t){var e=[],n=this.get("subTickLine"),i=n.count,r=t.length;if(2<=r)for(var o=0;o<r-1;o++)for(var a=t[o],s=t[o+1],l=0;l<i;l++){var c=(l+1)/(i+1),u=(1-c)*a.tickValue+c*s.tickValue,h=this.getTickPoint(u),p=this.getSidePoint(h,n.length);e.push({startPoint:h,endPoint:p,tickValue:u,id:"sub-"+a.id+"-"+l})}return e},jt.prototype.getTickLineAttrs=function(t,e){var n=this.get(e).style,i=t.startPoint,r=t.endPoint;return Object(C.mix)({x1:i.x,y1:i.y,x2:r.x,y2:r.y},n)},jt.prototype.drawTick=function(t,e,n){this.addShape(e,{type:"line",id:this.getElementId(t.id),name:"axis-"+n,attrs:this.getTickLineAttrs(t,n)})},jt.prototype.drawTickLines=function(n){var t,i=this,e=this.get("ticks"),r=this.get("subTickLine"),o=this.getTickLineItems(e),a=this.addGroup(n,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),s=this.get("tickLine");Object(C.each)(o,function(t){var e;s.displayWithLabel?(e=i.getElementId("label-"+t.tickId),n.findById(e)&&i.drawTick(t,a,"tickLine")):i.drawTick(t,a,"tickLine")}),r&&(t=this.getSubTickLineItems(o),Object(C.each)(t,function(t){i.drawTick(t,a,"subTickLine")}))},jt.prototype.processTicks=function(){var e=this,t=this.get("ticks");Object(C.each)(t,function(t){t.point=e.getTickPoint(t.value),Object(C.isNil)(t.id)&&(t.id=t.name)})},jt.prototype.drawTicks=function(e){var n=this;this.processTicks(),this.get("label")&&this.drawLabels(e),this.get("tickLine")&&this.drawTickLines(e);var t=this.get("ticks");Object(C.each)(t,function(t){n.applyTickStates(t,e)})},jt.prototype.getLabelAttrs=function(t,e){var n=this.get("label"),i=n.offset,r=n.style,o=n.rotate,a=n.formatter,s=this.getSidePoint(t.point,i),l=this.getSideVector(i,s),c=a?a(t.name,t,e):t.name,u=Object(C.mix)({x:s.x,y:s.y,text:c,textAlign:this.getTextAnchor(l)},r);return o&&(u.matrix=m(s,o)),u},jt.prototype.drawLabels=function(t){var n=this,e=this.get("ticks"),i=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});Object(C.each)(e,function(t,e){n.addShape(i,{type:"text",name:"axis-label",id:n.getElementId("label-"+t.id),attrs:n.getLabelAttrs(t,e),delegateObject:{tick:t,item:t,index:e}})}),this.processOverlap(i)},jt.prototype.getTitleAttrs=function(){var t=this.get("title"),e=t.style,n=t.position,i=t.offset,r=t.spacing,o=void 0===r?0:r,a=t.autoRotate,s=e.fontSize,l=.5;"start"===n?l=0:"end"===n&&(l=1);var c,u,h=this.getTickPoint(l),p=this.getSidePoint(h,i||o+s/2),f=Object(C.mix)({x:p.x,y:p.y,text:t.text},e),d=t.rotate,g=d;return Object(C.isNil)(d)&&a&&(c=this.getAxisVector(h),g=y.ext.angleTo(c,[1,0],!0)),g&&(u=m(p,g),f.matrix=u),f},jt.prototype.drawTitle=function(t){this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},jt.prototype.applyTickStates=function(t,e){var n,i,r,o,a,s,l;this.getItemStates(t).length&&(n=this.get("tickStates"),i=this.getElementId("label-"+t.id),!(r=e.findById(i))||(o=Ct(t,"label",n))&&r.attr(o),a=this.getElementId("tickline-"+t.id),!(s=e.findById(a))||(l=Ct(t,"tickLine",n))&&s.attr(l))},jt.prototype.updateTickStates=function(t){var e,n,i=this.getItemStates(t),r=this.get("tickStates"),o=this.get("label"),a=this.getElementByLocalId("label-"+t.id),s=this.get("tickLine"),l=this.getElementByLocalId("tickline-"+t.id);i.length?(!a||(e=Ct(t,"label",r))&&a.attr(e),!l||(n=Ct(t,"tickLine",r))&&l.attr(n)):(a&&a.attr(o.style),l&&l.attr(s.style))},jt);function kt(n,t,i,r){var e=t.getChildren(),o=!1;return Object(C.each)(e,function(t){var e=Z(n,t,i,r);o=o||e}),o}function Tt(){return At}function Pt(t,e,n){return kt(t,e,n,"head")}function At(t,e,n){return kt(t,e,n,"tail")}function Et(t,e,n){return kt(t,e,n,"middle")}function Lt(t){var e=t.attr("matrix");return e&&1!==e[0]}function It(t,e,n,i,r){void 0===r&&(r=!1);var o,a;return t?Math.abs(n.y-i.y)<n.height:e?(o=r?i.height:n.height,Math.abs(n.x-i.x)<o):(a=r?i.width:n.width,Math.abs(n.x-i.x)<a)}function Bt(t,e,n){var i=e.getChildren().slice();if(!i.length)return!1;var r=!1;n&&i.reverse();for(var o=i.length,a=i[0],s=Lt(a),l=a.getBBox(),c=1;c<o;c++){var u=i[c],h=u.getBBox();It(t,s,l,h,n)?(u.hide(),r=!0):l=h}return r}function Dt(){return Yt}function Ft(t,e){return Bt(t,e,!1)}function Rt(t,e){return Bt(t,e,!0)}function Nt(t,e){var n=e.getChildren().slice();if(n.length<=2)return!1;for(var i=!1,r=n.length,o=n[0],a=n[r-1],s=Lt(o),l=o.getBBox(),c=o,u=1;u<r-1;u++){var h=n[u],p=h.getBBox();It(t,s,l,p)?(h.hide(),i=!0):(l=p,c=h)}return It(t,s,l,a.getBBox())&&(c.hide(),i=!0),i}function Yt(t,e){var n=e.getChildren().slice();if(n.length<2)return!1;var i,r=!1,o=n[0],a=o.getBBox(),s=n[1],l=Lt(o),c=n.length,u=0;if(1<(u=t?(i=Math.abs(s.attr("y")-o.attr("y")),a.height/i):l?(i=Math.abs(s.attr("x")-o.attr("x")),a.width/i):K(n)/(i=Math.abs(s.attr("x")-o.attr("x"))))){u=Math.ceil(u);for(var h=0;h<c;h++)h%u!=0&&(n[h].hide(),r=!0)}return r}function Vt(t,e,n,i){var r=e.getChildren();if(!r.length)return!1;if(!t&&r.length<2)return!1;var o,a,s,l=K(r),c=!1;return(c=t?!!n&&n<l:Math.abs(r[1].attr("x")-r[0].attr("x"))<l)&&(o=i(n,l),a=r,s=o,Object(C.each)(a,function(t){var e=m({x:t.attr("x"),y:t.attr("y")},s);t.attr("matrix",e)})),c}function Xt(){return Gt}function Gt(t,e,n){return Vt(t,e,n,function(){return t?J.verticalAxisRotate:J.horizontalAxisRotate})}function zt(i,t,e){return Vt(i,t,e,function(t,e){if(!t)return i?J.verticalAxisRotate:J.horizontalAxisRotate;if(i)return-Math.acos(t/e);var n=0;return(e<t||(n=Math.asin(t/e))>Math.PI/4)&&(n=Math.PI/4),n})}function Ht(){return null!==St&&St.apply(this,arguments)||this}var Wt,qt=(St=Mt,Object(_.__extends)(Ht,St),Ht.prototype.getDefaultCfg=function(){var t=St.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{type:"line",locationType:"region",start:null,end:null})},Ht.prototype.getLinePath=function(){var t=this.get("start"),e=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",e.x,e.y]),n},Ht.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),e=this.get("end"),n=St.prototype.getInnerLayoutBBox.call(this),i=Math.min(t.x,e.x,n.x),r=Math.min(t.y,e.y,n.y),o=Math.max(t.x,e.x,n.maxX),a=Math.max(t.y,e.y,n.maxY);return{x:i,y:r,minX:i,minY:r,maxX:o,maxY:a,width:o-i,height:a-r}},Ht.prototype.isVertical=function(){var t=this.get("start"),e=this.get("end");return Object(C.isNumberEqual)(t.x,e.x)},Ht.prototype.isHorizontal=function(){var t=this.get("start"),e=this.get("end");return Object(C.isNumberEqual)(t.y,e.y)},Ht.prototype.getTickPoint=function(t){var e=this.get("start"),n=this.get("end"),i=n.x-e.x,r=n.y-e.y;return{x:e.x+i*t,y:e.y+r*t}},Ht.prototype.getSideVector=function(t){var e=this.getAxisVector(),n=y.vec2.normalize([0,0],e),i=this.get("verticalFactor"),r=[n[1],-1*n[0]];return y.vec2.scale([0,0],r,t*i)},Ht.prototype.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},Ht.prototype.processOverlap=function(e){var n,t,i,r,o,a,s,l,c,u,h=this,p=this.isVertical(),f=this.isHorizontal();(p||f)&&(n=this.get("label"),t=this.get("title"),i=this.get("verticalLimitLength"),r=n.offset,o=i,s=a=0,t&&(a=t.style.fontSize,s=t.spacing),o=o&&o-r-s-a,l=this.get("overlapOrder"),Object(C.each)(l,function(t){n[t]&&h.autoProcessOverlap(t,n[t],e,o)}),t&&(c=e.getBBox(),u=p?c.width:c.height,Object(C.isNil)(t.offset)&&(t.offset=r+u+s+a/2)))},Ht.prototype.autoProcessOverlap=function(t,e,n,i){var r,o,a,s=this,l=this.isVertical(),c=!1,u=h[t];!0===e?c=u.getDefault()(l,n,i):Object(C.isFunction)(e)?c=e(l,n,i):u[e]&&(c=u[e](l,n,i)),"autoRotate"===t?c&&(r=n.getChildren(),o=this.get("verticalFactor"),Object(C.each)(r,function(t){var e;"center"===t.attr("textAlign")&&(e=0<o?"end":"start",t.attr("textAlign",e))})):"autoHide"===t&&(a=n.getChildren().slice(0),Object(C.each)(a,function(t){t.get("visible")||(s.get("isRegister")&&s.unregisterElement(t),t.remove())}))},Ht);function Ut(){return null!==Wt&&Wt.apply(this,arguments)||this}var Kt,Zt=(Wt=Mt,Object(_.__extends)(Ut,Wt),Ut.prototype.getDefaultCfg=function(){var t=Wt.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},Ut.prototype.getLinePath=function(){var t,e,n,i,r=this.get("center"),o=r.x,a=r.y,s=this.get("radius"),l=s,c=this.get("startAngle"),u=this.get("endAngle");return Math.abs(u-c)===2*Math.PI?[["M",o,a-l],["A",s,l,0,1,1,o,a+l],["A",s,l,0,1,1,o,a-l],["Z"]]:(t=this.getCirclePoint(c),e=this.getCirclePoint(u),n=Math.abs(u-c)>Math.PI?1:0,i=u<c?0:1,[["M",o,a],["L",t.x,t.y],["A",s,l,0,n,i,e.x,e.y],["L",o,a]])},Ut.prototype.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this.getCirclePoint(n)},Ut.prototype.getSideVector=function(t,e){var n=this.get("center"),i=[e.x-n.x,e.y-n.y],r=this.get("verticalFactor"),o=y.vec2.length(i);return y.vec2.scale(i,i,r*t/o),i},Ut.prototype.getAxisVector=function(t){var e=this.get("center"),n=[t.x-e.x,t.y-e.y];return[n[1],-1*n[0]]},Ut.prototype.getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},Ut);function $t(){return null!==Kt&&Kt.apply(this,arguments)||this}var Qt,Jt=(Kt=z,Object(_.__extends)($t,Kt),$t.prototype.getDefaultCfg=function(){var t=Kt.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:J.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:J.textColor,textAlign:"center",textBaseline:"middle",fontFamily:J.fontFamily}},textBackground:{padding:5,style:{stroke:J.lineColor}}}})},$t.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},$t.prototype.renderText=function(t){var e,n,i=this.get("text"),r=i.style,o=i.autoRotate,a=i.content;Object(C.isNil)(a)||(e=this.getTextPoint(),n=null,o&&(n=m(e,this.getRotateAngle())),this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Object(_.__assign)(Object(_.__assign)(Object(_.__assign)({},e),{text:a,matrix:n}),r)}))},$t.prototype.renderLine=function(t){var e=this.getLinePath(),n=this.get("line").style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Object(_.__assign)({path:e},n)})},$t.prototype.renderBackground=function(t){var e,n,i,r=this.getElementId("text"),o=t.findById(r),a=this.get("textBackground");a&&o&&(e=o.getBBox(),n=M(a.padding),i=a.style,this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Object(_.__assign)({x:e.x-n[3],y:e.y-n[0],width:e.width+n[1]+n[3],height:e.height+n[0]+n[2],matrix:o.attr("matrix")},i)}).toBack())},$t);function te(){return null!==Qt&&Qt.apply(this,arguments)||this}var ee,ne=(Qt=Jt,Object(_.__extends)(te,Qt),te.prototype.getDefaultCfg=function(){var t=Qt.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{type:"line",locationType:"region",start:null,end:null})},te.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.start,n=t.end,i=this.get("text").position,r=Math.atan2(n.y-e.y,n.x-e.x);return"start"===i?r-Math.PI/2:r+Math.PI/2},te.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,i=this.get("text");return L(e,n,i.position,i.offset)},te.prototype.getLinePath=function(){var t=this.getLocation(),e=t.start,n=t.end;return[["M",e.x,e.y],["L",n.x,n.y]]},te);function ie(){return null!==ee&&ee.apply(this,arguments)||this}var re,oe=(ee=Jt,Object(_.__extends)(ie,ee),ie.prototype.getDefaultCfg=function(){var t=ee.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:3*Math.PI/2})},ie.prototype.getRotateAngle=function(){var t=this.getLocation(),e=t.startAngle,n=t.endAngle;return"start"===this.get("text").position?e+Math.PI/2:n-Math.PI/2},ie.prototype.getTextPoint=function(){var t=this.get("text"),e=t.position,n=t.offset,i=this.getLocation(),r=i.center,o=i.radius,a=i.startAngle,s=i.endAngle,l="start"===e?a:s,c=this.getRotateAngle()-Math.PI,u=P(r,o,l),h=Math.cos(c)*n,p=Math.sin(c)*n;return{x:u.x+h,y:u.y+p}},ie.prototype.getLinePath=function(){var t,e,n,i,r,o,a=this.getLocation(),s=a.center,l=a.radius,c=a.startAngle,u=a.endAngle;return u-c==2*Math.PI?[["M",t=s.x,(e=s.y)-l],["A",l,l,0,1,1,t,e+l],["A",l,l,0,1,1,t,e-l],["Z"]]:(n=P(s,l,c),i=P(s,l,u),r=Math.abs(u-c)>Math.PI?1:0,o=u<c?0:1,[["M",n.x,n.y],["A",l,l,0,r,o,i.x,i.y]])},ie),ae=n(864);function se(){return null!==re&&re.apply(this,arguments)||this}var le,ce,ue=(re=N,Object(_.__extends)(se,re),se.prototype.getDefaultCfg=function(){var t=re.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},se.prototype.getContainer=function(){return this.get("container")},se.prototype.show=function(){this.get("container").style.display="",this.set("visible",!0)},se.prototype.hide=function(){this.get("container").style.display="none",this.set("visible",!1)},se.prototype.setCapture=function(t){var e=t?"auto":"none";this.getContainer().style.pointerEvents=e,this.set("capture",t)},se.prototype.getBBox=function(){var t=this.getContainer();return k(parseFloat(t.style.left)||0,parseFloat(t.style.top)||0,t.clientWidth,t.clientHeight)},se.prototype.clear=function(){O(this.get("container"))},se.prototype.destroy=function(){this.removeEvent(),this.removeDom(),re.prototype.destroy.call(this)},se.prototype.init=function(){re.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},se.prototype.initCapture=function(){this.setCapture(this.get("capture"))},se.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},se.prototype.initDom=function(){},se.prototype.initContainer=function(){var t,e=this.get("container");Object(C.isNil)(e)?(e=this.createDom(),t=this.get("parent"),Object(C.isString)(t)&&(t=document.getElementById(t),this.set("parent",t)),t.appendChild(e),this.set("container",e)):Object(C.isString)(e)&&(e=document.getElementById(e),this.set("container",e)),this.get("parent")||this.set("parent",e.parentNode)},se.prototype.resetStyles=function(){var t=this.get("domStyles"),e=this.get("defaultStyles"),t=t?Object(C.deepMix)({},e,t):e;this.set("domStyles",t)},se.prototype.applyStyles=function(){var t,e,n,i,r=this.get("domStyles");r&&(t=this.getContainer(),this.applyChildrenStyles(t,r),(e=this.get("containerClassName"))&&(i=e,t.className.match(new RegExp("(\\s|^)"+i+"(\\s|$)")))&&(n=r[e],Object(ae.modifyCSS)(t,n)))},se.prototype.applyChildrenStyles=function(i,t){Object(C.each)(t,function(e,t){var n=i.getElementsByClassName(t);Object(C.each)(n,function(t){Object(ae.modifyCSS)(t,e)})})},se.prototype.applyStyle=function(t,e){var n=this.get("domStyles");Object(ae.modifyCSS)(e,n[t])},se.prototype.createDom=function(){var t=this.get("containerTpl");return Object(ae.createDom)(t)},se.prototype.initEvent=function(){},se.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode.removeChild(t)},se.prototype.removeEvent=function(){},se.prototype.updateInner=function(t){Object(C.hasKey)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},se.prototype.resetPosition=function(){},se),he="g2-crosshair",pe=he+"-line",fe=he+"-text",de=((le={})[he]={position:"relative"},le[pe]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},le[fe]={position:"absolute",color:J.textColor,fontFamily:J.fontFamily},le);function ge(){return null!==ce&&ce.apply(this,arguments)||this}var ye,ve=(ce=ue,Object(_.__extends)(ge,ce),ge.prototype.getDefaultCfg=function(){var t=ce.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+he+'"></div>',crosshairTpl:'<div class="'+pe+'"></div>',textTpl:'<span class="'+fe+'">{content}</span>',domStyles:null,containerClassName:he,defaultStyles:de,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},ge.prototype.render=function(){this.resetText(),this.resetPosition()},ge.prototype.initCrossHair=function(){var t=this.getContainer(),e=this.get("crosshairTpl"),n=Object(ae.createDom)(e);t.appendChild(n),this.applyStyle(pe,n),this.set("crosshairEl",n)},ge.prototype.getTextPoint=function(){var t=this.getLocation(),e=t.start,n=t.end,i=this.get("text");return L(e,n,i.position,i.offset)},ge.prototype.resetText=function(){var t,e,n,i=this.get("text"),r=this.get("textEl");i?(t=i.content,r||(e=this.getContainer(),n=Object(C.substitute)(this.get("textTpl"),i),r=Object(ae.createDom)(n),e.appendChild(r),this.applyStyle(fe,r),this.set("textEl",r)),r.innerHTML=t):r&&r.remove()},ge.prototype.isVertical=function(t,e){return t.x===e.x},ge.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var e=this.get("start"),n=this.get("end"),i=Math.min(e.x,n.x),r=Math.min(e.y,n.y);this.isVertical(e,n)?Object(ae.modifyCSS)(t,{width:"1px",height:E(Math.abs(n.y-e.y))}):Object(ae.modifyCSS)(t,{height:"1px",width:E(Math.abs(n.x-e.x))}),Object(ae.modifyCSS)(t,{top:E(r),left:E(i)}),this.alignText()},ge.prototype.alignText=function(){var t=this.get("textEl");if(t){var e=this.get("text").align,n=t.clientWidth,i=this.getTextPoint();switch(e){case"center":i.x=i.x-n/2;break;case"right":i.x=i.x-n}Object(ae.modifyCSS)(t,{top:E(i.y),left:E(i.x)})}},ge.prototype.updateInner=function(t){Object(C.hasKey)(t,"text")&&this.resetText(),ce.prototype.updateInner.call(this,t)},ge);function me(){return null!==ye&&ye.apply(this,arguments)||this}var be,xe=(ye=z,Object(_.__extends)(me,ye),me.prototype.getDefaultCfg=function(){var t=ye.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:J.lineColor}}}})},me.prototype.getLineType=function(){return(this.get("line")||this.get("defaultCfg").line).type},me.prototype.renderInner=function(t){this.drawGrid(t)},me.prototype.getAlternatePath=function(t,e){var n=this.getGridPath(t),i=e.slice(0).reverse(),r=this.getGridPath(i,!0);return this.get("closed")?n=n.concat(r):(r[0][0]="L",(n=n.concat(r)).push(["Z"])),n},me.prototype.getPathStyle=function(){return this.get("line").style},me.prototype.drawGrid=function(c){var u=this,h=this.get("line"),t=this.get("items"),p=this.get("alternateColor"),f=null;Object(C.each)(t,function(t,e){var n,i,r,o,a,s,l=t.id||e;h&&(n=u.getPathStyle(),i=u.getElementId("line-"+l),r=u.getGridPath(t.points),u.addShape(c,{type:"path",name:"grid-line",id:i,attrs:Object(C.mix)({path:r},n)})),p&&0<e&&(o=u.getElementId("region-"+l),a=e%2==0,Object(C.isString)(p)?a&&u.drawAlternateRegion(o,c,f.points,t.points,p):(s=a?p[1]:p[0],u.drawAlternateRegion(o,c,f.points,t.points,s))),f=t})},me.prototype.drawAlternateRegion=function(t,e,n,i,r){var o=this.getAlternatePath(n,i);this.addShape(e,{type:"path",id:t,name:"grid-region",attrs:{path:o,fill:r}})},me);function Oe(){return null!==be&&be.apply(this,arguments)||this}var we,_e=(be=xe,Object(_.__extends)(Oe,be),Oe.prototype.getDefaultCfg=function(){var t=be.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{type:"circle",center:null,closed:!0})},Oe.prototype.getGridPath=function(t,e){var n,i,r,o,a,s,l,c,u,h,p=this.getLineType(),f=this.get("closed"),d=[];return t.length&&("circle"===p?(n=this.get("center"),i=t[0],a=n.x,s=n.y,l=i.x,c=i.y,u=l-a,h=c-s,r=Math.sqrt(u*u+h*h),o=e?0:1,f?(d.push(["M",n.x,n.y-r]),d.push(["A",r,r,0,0,o,n.x,n.y+r]),d.push(["A",r,r,0,0,o,n.x,n.y-r]),d.push(["Z"])):Object(C.each)(t,function(t,e){0===e?d.push(["M",t.x,t.y]):d.push(["A",r,r,0,0,o,t.x,t.y])})):(Object(C.each)(t,function(t,e){0===e?d.push(["M",t.x,t.y]):d.push(["L",t.x,t.y])}),f&&d.push(["Z"]))),d},Oe);function Ce(){return null!==we&&we.apply(this,arguments)||this}var je,Se=(we=xe,Object(_.__extends)(Ce,we),Ce.prototype.getDefaultCfg=function(){var t=we.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{type:"line"})},Ce.prototype.getGridPath=function(t){var n=[];return Object(C.each)(t,function(t,e){0===e?n.push(["M",t.x,t.y]):n.push(["L",t.x,t.y])}),n},Ce);function Me(){return null!==je&&je.apply(this,arguments)||this}var ke,Te=(je=z,Object(_.__extends)(Me,je),Me.prototype.getDefaultCfg=function(){var t=je.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},Me.prototype.getLayoutBBox=function(){var t=je.prototype.getLayoutBBox.call(this),e=this.get("x"),n=this.get("y"),i=this.get("offsetX"),r=this.get("offsetY"),o=this.get("maxWidth"),a=this.get("maxHeight"),s=e+i,l=n+r,c=t.maxX-s,u=t.maxY-l;return o&&(c=Math.min(c,o)),a&&(u=Math.min(u,a)),k(s,l,c,u)},Me.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},Me.prototype.resetLocation=function(){var t=this.get("x"),e=this.get("y"),n=this.get("offsetX"),i=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+n,y:e+i})},Me.prototype.applyOffset=function(){this.resetLocation()},Me.prototype.getDrawPoint=function(){return this.get("currentPoint")},Me.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},Me.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},Me.prototype.drawBackground=function(t){var e=this.get("background"),n=t.getBBox(),i=M(e.padding),r=Object(_.__assign)({x:0,y:0,width:n.width+i[1]+i[3],height:n.height+i[0]+i[2]},e.style);this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:r}).toBack()},Me.prototype.drawTitle=function(t){var e=this.get("currentPoint"),n=this.get("title"),i=n.spacing,r=n.style,o=n.text,a=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Object(_.__assign)({text:o,x:e.x,y:e.y},r)}).getBBox();this.set("currentPoint",{x:e.x,y:a.maxY+i})},Me.prototype.resetDraw=function(){var t,e=this.get("background"),n={x:0,y:0};e&&(t=M(e.padding),n.x=t[3],n.y=t[0]),this.set("currentPoint",n)},Me);function Pe(){var n=null!==ke&&ke.apply(this,arguments)||this;return n.currentPageIndex=1,n.totalPagesCnt=1,n.pageWidth=0,n.pageHeight=0,n.startX=0,n.startY=0,n.onNavigationBack=function(){var t,e=n.getElementByLocalId("item-group");1<n.currentPageIndex&&(--n.currentPageIndex,n.updateNavigation(),t=n.getCurrentNavigationMatrix(),n.get("animate")?e.animate({matrix:t},100):e.attr({matrix:t}))},n.onNavigationAfter=function(){var t,e=n.getElementByLocalId("item-group");n.currentPageIndex<n.totalPagesCnt&&(n.currentPageIndex+=1,n.updateNavigation(),t=n.getCurrentNavigationMatrix(),n.get("animate")?e.animate({matrix:t},100):e.attr({matrix:t}))},n}var Ae,Ee=(ke=Te,Object(_.__extends)(Pe,ke),Pe.prototype.getDefaultCfg=function(){var t=ke.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"legend",type:"category",itemSpacing:24,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:J.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:J.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:J.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:J.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:J.uncheckedColor},markerStyle:{fill:J.uncheckedColor,stroke:J.uncheckedColor}},inactive:{nameStyle:{fill:J.uncheckedColor},markerStyle:{opacity:.2}}}}})},Pe.prototype.isList=function(){return!0},Pe.prototype.getItems=function(){return this.get("items")},Pe.prototype.setItems=function(t){this.update({items:t})},Pe.prototype.updateItem=function(t,e){Object(C.mix)(t,e),this.clear(),this.render()},Pe.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},Pe.prototype.setItemState=function(t,e,n){t[e]=n;var i,r,o,a=this.getElementByLocalId("item-"+t.id);a&&(i=this.getItems().indexOf(t),r=this.createOffScreenGroup(),o=this.drawItem(t,i,this.getItemHeight(),r),this.updateElements(o,a),this.clearUpdateStatus(a))},Pe.prototype.hasState=function(t,e){return!!t[e]},Pe.prototype.getItemStates=function(n){var t=this.get("itemStates"),i=[];return Object(C.each)(t,function(t,e){n[e]&&i.push(e)}),i},Pe.prototype.clearItemsState=function(e){var n=this,t=this.getItemsByState(e);Object(C.each)(t,function(t){n.setItemState(t,e,!1)})},Pe.prototype.getItemsByState=function(e){var n=this,t=this.getItems();return Object(C.filter)(t,function(t){return n.hasState(t,e)})},Pe.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},Pe.prototype.processItems=function(){var t=this.get("items");Object(C.each)(t,function(t){t.id||(t.id=t.name)})},Pe.prototype.drawItems=function(t){var o=this,e=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),a=this.addGroup(e,{id:this.getElementId("item-group"),name:"legend-item-group"}),s=this.getItemHeight(),l=this.get("itemWidth"),c=this.get("itemSpacing"),u=this.get("currentPoint"),h=u.x,p=u.y,f=this.get("layout"),n=this.get("items"),d=!1,g=0,y=this.get("maxWidth"),v=this.get("maxHeight");Object(C.each)(n,function(t,e){var n=o.drawItem(t,e,s,a),i=n.getBBox(),r=l||i.width;g<r&&(g=r),"horizontal"===f?(y&&y<u.x+r-h&&(d=!0,u.x=h,u.y+=s),o.moveElementTo(n,u),u.x+=r+c):(v&&v<u.y+s-p&&(d=!0,u.x+=g+c,u.y=p,g=0),o.moveElementTo(n,u),u.y+=s)}),d&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=h,this.startY=p,this.adjustNavigation(t,a))},Pe.prototype.getItemHeight=function(){var t,e=this.get("itemHeight");return e||(t=this.get("itemName"))&&(e=t.style.fontSize+8),e},Pe.prototype.drawMarker=function(t,e,n,i){var r=Object(_.__assign)(Object(_.__assign)(Object(_.__assign)({x:0,y:i/2},e.style),{symbol:Object(C.get)(n.marker,"symbol","circle")}),Object(C.get)(n.marker,"style",{})),o=this.addShape(t,{type:"marker",id:this.getElementId("item-"+n.id+"-marker"),name:"legend-item-marker",attrs:r}),a=o.getBBox();o.attr("x",a.width/2);var s=o.attr(),l=s.stroke,c=s.fill;return l&&o.set("isStroke",!0),c&&o.set("isFill",!0),o},Pe.prototype.drawItemText=function(t,e,n,i,r,o,a){var s=n.formatter,l=Object(_.__assign)({x:o,y:r/2,text:s?s(i[e],i,a):i[e]},n.style);return this.addShape(t,{type:"text",id:this.getElementId("item-"+i.id+"-"+e),name:"legend-item-"+e,attrs:l})},Pe.prototype.drawItem=function(t,e,n,i){var r,o,a,s="item-"+t.id,l=this.addGroup(i,{name:"legend-item-container",id:this.getElementId("item-container-"+s),delegateObject:{item:t,index:e}}),c=this.addGroup(l,{name:"legend-item",id:this.getElementId(s),delegateObject:{item:t,index:e}}),u=this.get("marker"),h=this.get("itemName"),p=this.get("itemValue"),f=this.get("itemBackground"),d=this.getLimitItemWidth(),g=0;return u&&(g=this.drawMarker(c,u,t,n).getBBox().maxX+u.spacing),h&&(r=this.drawItemText(c,"name",h,t,n,g,e),d&&Z(!0,r,Object(C.clamp)(d-g,0,d)),g=r.getBBox().maxX+h.spacing),p&&(o=this.drawItemText(c,"value",p,t,n,g,e),d&&(p.alignRight?(o.attr({textAlign:"right",x:d}),Z(!0,o,Object(C.clamp)(d-g,0,d),"head")):Z(!0,o,Object(C.clamp)(d-g,0,d)))),f&&(a=c.getBBox(),this.addShape(c,{type:"rect",name:"legend-item-background",id:this.getElementId(s+"-background"),attrs:Object(_.__assign)({x:0,y:0,width:a.width,height:n},f.style)}).toBack()),this.applyItemStates(t,c),c},Pe.prototype.adjustNavigation=function(t,e){var n,i=this,r=this.startX,o=this.startY,a=this.get("layout"),s=e.findAll(function(t){return"legend-item"===t.get("name")}),l=this.get("maxWidth"),c=this.get("maxHeight"),u=this.get("itemWidth"),h=this.get("itemSpacing"),p=this.getItemHeight(),f=this.drawNavigation(t,a,"00/00",12),d=f.getBBox(),g={x:r,y:o},y=1,v=0,m=0,b=0;"horizontal"===a?(this.pageHeight=p,Object(C.each)(s,function(t){var e=t.getBBox(),n=u||e.width;(v&&v<g.x+n+h||l<g.x+n+h+d.width)&&(1===y&&(v=g.x+h,i.pageWidth=v,i.moveElementTo(f,{x:l-h-d.width-d.minX,y:g.y+p/2-d.height/2-d.minY})),y+=1,g.x=r,g.y+=p),i.moveElementTo(t,g),t.getParent().setClip({type:"rect",attrs:{x:g.x,y:g.y,width:n+h,height:p}}),g.x+=n+h})):(Object(C.each)(s,function(t){var e=t.getBBox();e.width>m&&(m=e.width)}),b=m,m+=h,l&&(m=Math.min(l,m),b=Math.min(l,b)),this.pageWidth=m,this.pageHeight=c-Math.max(d.height,p),n=Math.floor(this.pageHeight/p),Object(C.each)(s,function(t,e){0!==e&&e%n==0&&(y+=1,g.x+=m,g.y=o),i.moveElementTo(t,g),t.getParent().setClip({type:"rect",attrs:{x:g.x,y:g.y,width:m,height:p}}),g.y+=p}),this.totalPagesCnt=y,this.moveElementTo(f,{x:r+b/2-d.width/2-d.minX,y:c-d.height-d.minY})),this.pageHeight&&this.pageWidth&&e.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=y,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(f),e.attr("matrix",this.getCurrentNavigationMatrix())},Pe.prototype.drawNavigation=function(t,e,n,i){var r={x:0,y:0},o=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),a=this.drawArrow(o,r,"navigation-arrow-left","horizontal"===e?"up":"left",i);a.on("click",this.onNavigationBack);var s=a.getBBox();r.x+=s.width+2;var l=this.addShape(o,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:r.x,y:r.y+i/2,text:n,fontSize:12,fill:"#ccc",textBaseline:"middle"}}).getBBox();return r.x+=l.width+2,this.drawArrow(o,r,"navigation-arrow-right","horizontal"===e?"down":"right",i).on("click",this.onNavigationAfter),o},Pe.prototype.updateNavigation=function(t){var e=this.currentPageIndex+"/"+this.totalPagesCnt,n=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),i=t?t.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),r=t?t.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),o=n.getBBox();n.attr("text",e);var a=n.getBBox();n.attr("x",n.attr("x")-(a.width-o.width)/2),i.attr("opacity",1===this.currentPageIndex?.45:1),i.attr("cursor",1===this.currentPageIndex?"not-allowed":"pointer"),r.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),r.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},Pe.prototype.drawArrow=function(t,e,n,i,r){var o=e.x,a=e.y,s={right:90*Math.PI/180,left:270*Math.PI/180,up:0,down:180*Math.PI/180},l=this.addShape(t,{type:"path",id:this.getElementId(n),name:n,attrs:{path:[["M",o+r/2,a],["L",o,a+r],["L",o+r,a+r],["Z"]],fill:"#000",cursor:"pointer"}});return l.attr("matrix",m({x:o+r/2,y:a+r/2},s[i])),l},Pe.prototype.getCurrentNavigationMatrix=function(){var t=this.currentPageIndex,e=this.pageWidth,n=this.pageHeight;return b("horizontal"===this.get("layout")?{x:0,y:n*(1-t)}:{x:e*(1-t),y:0})},Pe.prototype.applyItemStates=function(i,t){var e,r;0<this.getItemStates(i).length&&(e=t.getChildren(),r=this.get("itemStates"),Object(C.each)(e,function(t){var e=t.get("name").split("-")[2],n=Ct(i,e,r);n&&(t.attr(n),"marker"!==e||t.get("isStroke")&&t.get("isFill")||(t.get("isStroke")&&t.attr("fill",null),t.get("isFill")&&t.attr("stroke",null)))}))},Pe.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),e=this.get("maxItemWidth");return e?t&&(e=t<=e?t:e):t&&(e=t),e},Pe);function Le(){return null!==Ae&&Ae.apply(this,arguments)||this}var Ie,Be,De=(Ae=Te,Object(_.__extends)(Le,Ae),Le.prototype.getDefaultCfg=function(){var t=Ae.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:J.textColor,textBaseline:"middle",fontFamily:J.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:J.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},Le.prototype.isSlider=function(){return!0},Le.prototype.getValue=function(){return this.getCurrentValue()},Le.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},Le.prototype.setRange=function(t,e){this.update({min:t,max:e})},Le.prototype.setValue=function(t){var e=this.getValue();this.set("value",t);var n=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(n),this.delegateEmit("valuechanged",{originValue:e,value:t})},Le.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},Le.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},Le.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},Le.prototype.bindHandlersEvent=function(t){var i=this;t.on("legend-handler-min:drag",function(t){var e=i.getValueByCanvasPoint(t.x,t.y),n=i.getCurrentValue()[1];n<e&&(n=e),i.setValue([e,n])}),t.on("legend-handler-max:drag",function(t){var e=i.getValueByCanvasPoint(t.x,t.y),n=i.getCurrentValue()[0];e<n&&(n=e),i.setValue([n,e])})},Le.prototype.bindRailEvent=function(t){},Le.prototype.bindTrackEvent=function(t){var s=this,l=null;t.on("legend-track:dragstart",function(t){l={x:t.x,y:t.y}}),t.on("legend-track:drag",function(t){var e,n,i,r,o,a;l&&(e=s.getValueByCanvasPoint(l.x,l.y),n=s.getValueByCanvasPoint(t.x,t.y),r=(i=s.getCurrentValue())[1]-i[0],o=s.getRange(),(a=n-e)<0?i[0]+a>o.min?s.setValue([i[0]+a,i[1]+a]):s.setValue([o.min,o.min+r]):0<a&&(0<a&&i[1]+a<o.max?s.setValue([i[0]+a,i[1]+a]):s.setValue([o.max-r,o.max])),l={x:t.x,y:t.y})}),t.on("legend-track:dragend",function(t){l=null})},Le.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},Le.prototype.drawLabel=function(t,e){var n=this.get("label"),i=n.style,r=n.align,o=this.get(t),a=this.getLabelAlignAttrs(t,r),s="label-"+t;this.addShape(e,{type:"text",id:this.getElementId(s),name:"legend-label-"+t,attrs:Object(_.__assign)(Object(_.__assign)({x:0,y:0,text:o},i),a)})},Le.prototype.getLabelAlignAttrs=function(t,e){var n="center",i="middle";return this.isVertical()?(n="start",i="rail"===e||"min"===t?"top":"bottom"):"rail"!==e?(i="top",n="min"===t?"start":"end"):(n="start",i="middle"),{textAlign:n,textBaseline:i}},Le.prototype.getRailPath=function(t,e,n,i){var r=this.get("rail"),o=r.size,a=r.defaultLength,s=r.type,l=this.isVertical(),c=(c=n)||(l?o:a),u=(u=i)||(l?a:o),h=[];return"color"===s?(h.push(["M",t,e]),h.push(["L",t+c,e])):h.push(["M",t+c,e]),h.push(["L",t+c,e+u]),h.push(["L",t,e+u]),h.push(["Z"]),h},Le.prototype.drawRail=function(t){var e=this.get("rail").style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Object(_.__assign)({path:this.getRailPath(0,0)},e)})},Le.prototype.getTrackColor=function(t){var e,n=t.length;if(!n)return null;if(1===n)return t[0];e=this.isVertical()?"l(90)":"l(0)";for(var i=0;i<n;i++){e+=" "+i/(n-1)+":"+t[i]}return e},Le.prototype.getTrackPath=function(t){var e=this.getRailShape(t).attr("path");return Object(C.clone)(e)},Le.prototype.getClipTrackAttrs=function(t){var e,n,i,r=this.getCurrentValue(),o=r[0],a=r[1],s=this.getRailBBox(t),l=this.getPointByValue(o,t),c=this.getPointByValue(a,t),u=this.isVertical()?(e=s.minX,n=l.y,i=s.width,c.y-l.y):(e=l.x,n=s.minY,i=c.x-l.x,s.height);return{x:e,y:n,width:i,height:u}},Le.prototype.getTrackAttrs=function(t){var e=this.get("track"),n=this.get("colors"),i=this.getTrackPath(t);return Object(C.mix)({path:i,fill:this.getTrackColor(n)},e.style)},Le.prototype.resetTrackClip=function(t){var e=t||this.get("group"),n=this.getElementId("track"),i=e.findById(n),r=i.getClip(),o=this.getClipTrackAttrs(t);r?r.attr(o):i.setClip({type:"rect",attrs:o})},Le.prototype.resetTrack=function(t){var e=this.getElementId("track"),n=t.findById(e),i=this.getTrackAttrs(t);n?n.attr(i):this.addShape(t,{type:"path",id:e,draggable:this.get("slidable"),name:"legend-track",attrs:i})},Le.prototype.getPointByValue=function(t,e){var n=this.getRange(),i=n.min,r=(t-i)/(n.max-i),o=this.getRailBBox(e),a={x:0,y:0};return this.isVertical()?(a.x=o.minX+o.width/2,a.y=T(o.minY,o.maxY,r)):(a.x=T(o.minX,o.maxX,r),a.y=o.minY+o.height/2),a},Le.prototype.getRailShape=function(t){return(t||this.get("group")).findById(this.getElementId("rail"))},Le.prototype.getRailBBox=function(t){return this.getRailShape(t).getBBox()},Le.prototype.getRailCanvasBBox=function(){return this.get("group").findById(this.getElementId("rail")).getCanvasBBox()},Le.prototype.isVertical=function(){return"vertical"===this.get("layout")},Le.prototype.getValueByCanvasPoint=function(t,e){var n=this.getRange(),i=n.min,r=n.max,o=this.getRailCanvasBBox(),a=this.isVertical(),s=this.get("step"),l=a?(e-o.minY)/o.height:(t-o.minX)/o.width,c=T(i,r,l);return s&&(c=i+Math.round((c-i)/s)*s),r<c&&(c=r),c<i&&(c=i),c},Le.prototype.getCurrentValue=function(){return this.get("value")||[this.get("min"),this.get("max")]},Le.prototype.resetHandlers=function(t){var e=this.getCurrentValue(),n=e[0],i=e[1];this.resetHandler(t,"min",n),this.resetHandler(t,"max",i)},Le.prototype.getHandlerPath=function(t,e){var n,i,r=this.isVertical(),o=[],a=t.size,s=e.x,l=e.y,c=1.4*a,u=a/2,h=a/6;return r?(n=s+.4*c,o.push(["M",s,l]),o.push(["L",n,l+u]),o.push(["L",s+c,l+u]),o.push(["L",s+c,l-u]),o.push(["L",n,l-u]),o.push(["Z"]),o.push(["M",n,l+h]),o.push(["L",s+c-2,l+h]),o.push(["M",n,l-h]),o.push(["L",s+c-2,l-h])):(i=l+.4*c,o.push(["M",s,l]),o.push(["L",s-u,i]),o.push(["L",s-u,l+c]),o.push(["L",s+u,l+c]),o.push(["L",s+u,i]),o.push(["Z"]),o.push(["M",s-h,i]),o.push(["L",s-h,l+c-2]),o.push(["M",s+h,i]),o.push(["L",s+h,l+c-2])),o},Le.prototype.resetHandler=function(t,e,n){var i=this.getPointByValue(n,t),r=this.get("handler"),o=this.getHandlerPath(r,i),a=this.getElementId("handler-"+e),s=t.findById(a),l=this.isVertical();s?s.attr("path",o):this.addShape(t,{type:"path",name:"legend-handler-"+e,draggable:!0,id:a,attrs:Object(_.__assign)(Object(_.__assign)({path:o},r.style),{cursor:l?"ns-resize":"ew-resize"})})},Le.prototype.fixedElements=function(t){var e=t.findById(this.getElementId("rail")),n=t.findById(this.getElementId("label-min")),i=t.findById(this.getElementId("label-max")),r=this.getDrawPoint();this.isVertical()?this.fixedVertail(n,i,e,r):this.fixedHorizontal(n,i,e,r)},Le.prototype.fitRailLength=function(t,e,n,i){var r,o=this.isVertical()?"height":"width",a=this.get("label"),s=a.align,l=a.spacing,c=this.get("max"+Object(C.upperFirst)(o));!c||0<(r=("rail"===s?n[o]+t[o]+e[o]+2*l:n[o])-c)&&this.changeRailLength(i,o,n[o]-r)},Le.prototype.changeRailLength=function(t,e,n){var i=t.getBBox(),r="height"===e?this.getRailPath(i.x,i.y,i.width,n):this.getRailPath(i.x,i.y,n,i.height);t.attr("path",r)},Le.prototype.changeRailPosition=function(t,e,n){var i=t.getBBox(),r=this.getRailPath(e,n,i.width,i.height);t.attr("path",r)},Le.prototype.fixedHorizontal=function(t,e,n,i){var r=this.get("label"),o=r.align,a=r.spacing,s=n.getBBox(),l=t.getBBox(),c=e.getBBox(),u=s.height;this.fitRailLength(l,c,s,n),s=n.getBBox(),"rail"===o?(t.attr({x:i.x,y:i.y+u/2}),this.changeRailPosition(n,i.x+l.width+a,i.y),e.attr({x:i.x+l.width+s.width+2*a,y:i.y+u/2})):"top"===o?(t.attr({x:i.x,y:i.y}),e.attr({x:i.x+s.width,y:i.y}),this.changeRailPosition(n,i.x,i.y+l.height+a)):(this.changeRailPosition(n,i.x,i.y),t.attr({x:i.x,y:i.y+s.height+a}),e.attr({x:i.x+s.width,y:i.y+s.height+a}))},Le.prototype.fixedVertail=function(t,e,n,i){var r,o=this.get("label"),a=o.align,s=o.spacing,l=n.getBBox(),c=t.getBBox(),u=e.getBBox();this.fitRailLength(c,u,l,n),l=n.getBBox(),"rail"===a?(t.attr({x:i.x,y:i.y}),this.changeRailPosition(n,i.x,i.y+c.height+s),e.attr({x:i.x,y:i.y+c.height+l.height+2*s})):"right"===a?(t.attr({x:i.x+l.width+s,y:i.y}),this.changeRailPosition(n,i.x,i.y),e.attr({x:i.x+l.width+s,y:i.y+l.height})):(r=Math.max(c.width,u.width),t.attr({x:i.x,y:i.y}),this.changeRailPosition(n,i.x+r+s,i.y),e.attr({x:i.x,y:i.y+l.height}))},Le),Fe=n(1400),Re="g2-tooltip",Ne="g2-tooltip-title",Ye="g2-tooltip-list",Ve="g2-tooltip-list-item",Xe="g2-tooltip-marker",Ge="g2-tooltip-value",ze="g2-tooltip-name",He="g2-tooltip-crosshair-x",We="g2-tooltip-crosshair-y",qe=((Ie={})[""+Re]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:J.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Ie[""+Ne]={marginBottom:"4px"},Ie[""+Ye]={margin:"0px",listStyleType:"none",padding:"0px"},Ie[""+Ve]={listStyleType:"none",marginBottom:"4px"},Ie[""+Xe]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Ie[""+Ge]={display:"inline-block",float:"right",marginLeft:"30px"},Ie[""+He]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ie[""+We]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ie);function Ue(t,e,n,i,r,o,a){var s,l,c,u,h,p,f=function(t,e,n,i,r,o){var a=t,s=e;switch(o){case"left":a=t-i-n,s=e-r/2;break;case"right":a=t+n,s=e-r/2;break;case"top":a=t-i/2,s=e-r-n;break;case"bottom":a=t-i/2,s=e+n;break;default:a=t+n,s=e-r-n}return{x:a,y:s}}(t,e,n,i,r,o);return a&&(l=f.x,c=f.y,u=i,h=r,s={left:l<(p=a).x,right:l+u>p.x+p.width,top:c<p.y,bottom:c+h>p.y+p.height},"auto"===o?(s.right&&(f.x=Math.max(0,t-i-n)),s.top&&(f.y=Math.max(0,e-r-n))):"top"===o||"bottom"===o?(s.left&&(f.x=a.x),s.right&&(f.x=a.x+a.width-i),"top"===o&&s.top&&(f.y=e+n),"bottom"===o&&s.bottom&&(f.y=e-r-n)):(s.top&&(f.y=a.y),s.bottom&&(f.y=a.y+a.height-r),"left"===o&&s.left&&(f.x=t+n),"right"===o&&s.right&&(f.x=t-i-n))),f}function Ke(){return null!==Be&&Be.apply(this,arguments)||this}var Ze=(Be=ue,Object(_.__extends)(Ke,Be),Ke.prototype.getDefaultCfg=function(){var t=Be.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Re+'"><div class="'+Ne+'"></div><ul class="'+Ye+'"></ul></div>',itemTpl:'<li class="'+Ve+'" data-index={index}>\n          <span class="'+Xe+'" style="background:{color}"></span>\n          <span class="'+ze+'">{name}</span>:\n          <span class="'+Ge+'">{value}</span>\n        </li>',xCrosshairTpl:'<div class="'+He+'"></div>',yCrosshairTpl:'<div class="'+We+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Re,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:qe})},Ke.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},Ke.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},Ke.prototype.show=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!0),Object(ae.modifyCSS)(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},Ke.prototype.hide=function(){var t=this.getContainer();t&&!this.destroyed&&(this.set("visible",!1),Object(ae.modifyCSS)(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},Ke.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},Ke.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},Ke.prototype.setCrossHairsVisible=function(t){var e=t?"":"none",n=this.get("xCrosshairDom"),i=this.get("yCrosshairDom");n&&Object(ae.modifyCSS)(n,{display:e}),i&&Object(ae.modifyCSS)(i,{display:e})},Ke.prototype.initContainer=function(){var t;Be.prototype.initContainer.call(this),this.get("customContent")&&(this.get("container")&&this.get("container").remove(),t=this.getHtmlContentNode(),this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles())},Ke.prototype.updateInner=function(t){var e,n,i;this.get("customContent")?this.renderCustomContent():(e=t,i=!(n=["title","showTitle"]),Object(C.each)(n,function(t){if(Object(C.hasKey)(e,t))return!(i=!0)}),i&&this.resetTitle(),Object(C.hasKey)(t,"items")&&this.renderItems()),Be.prototype.updateInner.call(this,t)},Ke.prototype.initDom=function(){this.cacheDoms()},Ke.prototype.removeDom=function(){Be.prototype.removeDom.call(this),this.clearCrosshairs()},Ke.prototype.resetPosition=function(){var t,e=this.get("x"),n=this.get("y"),i=this.get("offset"),r=this.getOffset(),o=r.offsetX,a=r.offsetY,s=this.get("position"),l=this.get("region"),c=this.getContainer(),u=this.getBBox(),h=u.width,p=u.height;l&&(t=w(l));var f=Ue(e,n,i,h,p,s,t);Object(ae.modifyCSS)(c,{left:E(f.x+o),top:E(f.y+a)}),this.resetCrosshairs()},Ke.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),e=this.get("parent"),n=this.get("container");n&&n.parentNode===e?e.replaceChild(t,n):e.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},Ke.prototype.getHtmlContentNode=function(){var t,e,n=this.get("customContent");return n&&(t=n(this.get("title"),this.get("items")),e=Object(C.isElement)(t)?t:Object(ae.createDom)(t)),e},Ke.prototype.cacheDoms=function(){var t=this.getContainer(),e=t.getElementsByClassName(Ne)[0],n=t.getElementsByClassName(Ye)[0];this.set("titleDom",e),this.set("listDom",n)},Ke.prototype.resetTitle=function(){var t=this.get("title");this.get("showTitle")&&t?this.setTitle(t):this.setTitle("")},Ke.prototype.setTitle=function(t){var e=this.get("titleDom");e&&(e.innerText=t)},Ke.prototype.resetCrosshairs=function(){var t,e,n,i=this.get("crosshairsRegion"),r=this.get("crosshairs");i&&r?(t=w(i),e=this.get("xCrosshairDom"),n=this.get("yCrosshairDom"),"x"===r?(this.resetCrosshair("x",t),n&&(n.remove(),this.set("yCrosshairDom",null))):"y"===r?(this.resetCrosshair("y",t),e&&(e.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",t),this.resetCrosshair("y",t)),this.setCrossHairsVisible(this.get("visible"))):this.clearCrosshairs()},Ke.prototype.resetCrosshair=function(t,e){var n=this.checkCrosshair(t),i=this.get(t);"x"===t?Object(ae.modifyCSS)(n,{left:E(i),top:E(e.y),height:E(e.height)}):Object(ae.modifyCSS)(n,{top:E(i),left:E(e.x),width:E(e.width)})},Ke.prototype.checkCrosshair=function(t){var e=t+"CrosshairDom",n=t+"CrosshairTpl",i="CROSSHAIR_"+t.toUpperCase(),r=p[i],o=this.get(e),a=this.get("parent");return o||(o=Object(ae.createDom)(this.get(n)),this.applyStyle(r,o),a.appendChild(o),this.set(e,o)),o},Ke.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),o=this.get("itemTpl"),a=this.get("listDom");a&&(Object(C.each)(t,function(t){var e=Fe.default.toCSSGradient(t.color),n=Object(_.__assign)(Object(_.__assign)({},t),{color:e}),i=Object(C.substitute)(o,n),r=Object(ae.createDom)(i);a.appendChild(r)}),this.applyChildrenStyles(a,this.get("domStyles")))},Ke.prototype.clearItemDoms=function(){this.get("listDom")&&O(this.get("listDom"))},Ke.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),e=this.get("yCrosshairDom");t&&t.remove(),e&&e.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},Ke),$e={opacity:0},Qe={stroke:"#C5C5C5",strokeOpacity:.85},Je={fill:"#CACED4",opacity:.85},tn=n(1543),en=n(897);function nn(t){return e=t,Object(C.map)(e,function(t,e){return[0===e?"M":"L",t[0],t[1]]});var e}function rn(t,n,i,e){void 0===e&&(e=!0);var r=new en.Linear({values:t}),o=new en.Category({values:Object(C.map)(t,function(t,e){return e})}),a=Object(C.map)(t,function(t,e){return[o.scale(e)*n,i-r.scale(t)*i]});return(e?function(t){if(t.length<=2)return nn(t);var e=[];Object(C.each)(t,function(t){Object(C.isEqual)(t,e.slice(e.length-2))||e.push(t[0],t[1])});var n=Object(tn.a)(e,!1),i=Object(C.head)(t),r=i[0],o=i[1];return n.unshift(["M",r,o]),n}:nn)(a)}var on,an=(on=z,Object(_.__extends)(sn,on),sn.prototype.getDefaultCfg=function(){var t=on.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:$e,lineStyle:Qe,areaStyle:Je})},sn.prototype.renderInner=function(t){var e=this.cfg,n=e.width,i=e.height,r=e.data,o=e.smooth,a=e.isArea,s=e.backgroundStyle,l=e.lineStyle,c=e.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(_.__assign)({x:0,y:0,width:n,height:i},s)});var u,h,p,f,d,g=rn(r,n,i,o);this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:Object(_.__assign)({path:g},l)}),a&&(h=g,p=n,f=i,(d=Object(_.__spreadArrays)(h)).push(["L",p,0]),d.push(["L",0,f]),d.push(["Z"]),u=d,this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:Object(_.__assign)({path:u},c)}))},sn.prototype.applyOffset=function(){var t=this.cfg,e=t.x,n=t.y;this.moveElementTo(this.get("group"),{x:e,y:n})},sn);function sn(){return null!==on&&on.apply(this,arguments)||this}var ln,cn={fill:"#416180",opacity:.05},un={fill:"#5B8FF9",opacity:.15,cursor:"move"},hn={width:10,height:24},pn={textBaseline:"middle",fill:"#000",opacity:.45},fn={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},dn=(ln=z,Object(_.__extends)(gn,ln),gn.prototype.getDefaultCfg=function(){var t=ln.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"handler",x:0,y:0,width:10,height:24,style:fn})},gn.prototype.renderInner=function(t){var e=this.cfg,n=e.width,i=e.height,r=e.style,o=r.fill,a=r.stroke,s=r.radius,l=r.opacity,c=r.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:n,height:i,fill:o,stroke:a,radius:s,opacity:l,cursor:c}});var u=1/3*n,h=2/3*n,p=.25*i,f=.75*i;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:u,y1:p,x2:u,y2:f,stroke:a,cursor:c}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:h,y1:p,x2:h,y2:f,stroke:a,cursor:c}})},gn.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},gn.prototype.initEvent=function(){this.bindEvents()},gn.prototype.bindEvents=function(){var e=this;this.get("group").on("mouseenter",function(){var t=e.get("style").highLightFill;e.getElementByLocalId("background").attr("fill",t),e.draw()}),this.get("group").on("mouseleave",function(){var t=e.get("style").fill;e.getElementByLocalId("background").attr("fill",t),e.draw()})},gn.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},gn);function gn(){return null!==ln&&ln.apply(this,arguments)||this}var yn,vn=(yn=z,Object(_.__extends)(mn,yn),mn.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.get("start"),i=this.get("end"),r=Object(C.clamp)(n,t,e),o=Object(C.clamp)(i,t,e);this.get("isInit")||n===r&&i===o||this.setValue([r,o])},mn.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},mn.prototype.setValue=function(t){var e,n=this.getRange();Object(C.isArray)(t)&&2===t.length&&(e=[this.get("start"),this.get("end")],this.update({start:Object(C.clamp)(t[0],n.min,n.max),end:Object(C.clamp)(t[1],n.min,n.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:e,value:t}))},mn.prototype.getValue=function(){return[this.get("start"),this.get("end")]},mn.prototype.getDefaultCfg=function(){var t=yn.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:cn,foregroundStyle:un,handlerStyle:hn,textStyle:pn}})},mn.prototype.update=function(t){var e=t.start,n=t.end,i=Object(_.__assign)({},t);Object(C.isNil)(e)||(i.start=Object(C.clamp)(e,0,1)),Object(C.isNil)(n)||(i.end=Object(C.clamp)(n,0,1)),yn.prototype.update.call(this,i),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler"))},mn.prototype.init=function(){this.set("start",Object(C.clamp)(this.get("start"),0,1)),this.set("end",Object(C.clamp)(this.get("end"),0,1)),yn.prototype.init.call(this)},mn.prototype.renderInner=function(t){var e=this.cfg,n=(e.start,e.end,e.width),i=e.height,r=e.trendCfg,o=void 0===r?{}:r,a=e.minText,s=e.maxText,l=e.backgroundStyle,c=void 0===l?{}:l,u=e.foregroundStyle,h=void 0===u?{}:u,p=e.textStyle,f=void 0===p?{}:p,d=e.handlerStyle,g=void 0===d?{}:d;Object(C.size)(Object(C.get)(o,"data"))&&this.addComponent(t,Object(_.__assign)({component:an,id:this.getElementId("trend"),x:0,y:0,width:n,height:i},o)),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:Object(_.__assign)({x:0,y:0,width:n,height:i},c)});var y=this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:Object(_.__assign)({y:i/2,textAlign:"right",text:a,silent:!1},f)}),v=this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:Object(_.__assign)({y:i/2,textAlign:"left",text:s,silent:!1},f)}),m=this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Object(_.__assign)({y:0,height:i},h)}),b=Object(C.get)(g,"height",24);this.minHandler=this.addComponent(t,Object(_.__assign)({component:dn,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(i-b)/2,width:n,height:b,cursor:"ew-resize"},g)),this.maxHandler=this.addComponent(t,Object(_.__assign)({component:dn,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(i-b)/2,width:n,height:b,cursor:"ew-resize"},g)),this.updateUI(m,y,v)},mn.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},mn.prototype.initEvent=function(){this.bindEvents()},mn.prototype.updateUI=function(t,n,i){var e=this.cfg,r=e.start,o=e.end,a=e.width,s=e.minText,l=e.maxText,c=e.handlerStyle,u=r*a,h=o*a;t.attr("x",u),t.attr("width",h-u);var p=Object(C.get)(c,"width",10);n.attr("text",s),i.attr("text",l);var f=this._dodgeText([u,h],n,i),d=f[0],g=f[1];this.minHandler&&(this.minHandler.update({x:u-p/2}),this.get("updateAutoRender")||this.minHandler.render()),Object(C.each)(d,function(t,e){return n.attr(e,t)}),this.maxHandler&&(this.maxHandler.update({x:h-p/2}),this.get("updateAutoRender")||this.maxHandler.render()),Object(C.each)(g,function(t,e){return i.attr(e,t)})},mn.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var e=t.findById(this.getElementId("foreground"));e.on("mousedown",this.onMouseDown("foreground")),e.on("touchstart",this.onMouseDown("foreground"))},mn.prototype.adjustOffsetRange=function(t){var e=this.cfg,n=e.start,i=e.end;switch(this.currentTarget){case"minHandler":var r=0-n,o=1-n;return Math.min(o,Math.max(r,t));case"maxHandler":r=0-i,o=1-i;return Math.min(o,Math.max(r,t));case"foreground":r=0-n,o=1-i;return Math.min(o,Math.max(r,t))}},mn.prototype.updateStartEnd=function(t){var e=this.cfg,n=e.start,i=e.end;switch(this.currentTarget){case"minHandler":n+=t;break;case"maxHandler":i+=t;break;case"foreground":n+=t,i+=t}this.set("start",n),this.set("end",i)},mn.prototype._dodgeText=function(t,e,n){var i,r,o=this.cfg,a=o.handlerStyle,s=o.width,l=Object(C.get)(a,"width",10),c=t[0],u=t[1],h=!1;u<c&&(c=(i=[u,c])[0],u=i[1],e=(r=[n,e])[0],n=r[1],h=!0);var p=e.getBBox(),f=n.getBBox(),d=p.width>c-2?{x:c+l/2+2,textAlign:"left"}:{x:c-l/2-2,textAlign:"right"},g=f.width>s-u-2?{x:u-l/2-2,textAlign:"right"}:{x:u+l/2+2,textAlign:"left"};return h?[g,d]:[d,g]},mn.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},mn.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},mn);function mn(){var s=null!==yn&&yn.apply(this,arguments)||this;return s.onMouseDown=function(i){return function(t){s.currentTarget=i;var e=t.originalEvent;e.stopPropagation(),e.preventDefault(),s.prevX=Object(C.get)(e,"touches.0.pageX",e.pageX),s.prevY=Object(C.get)(e,"touches.0.pageY",e.pageY);var n=s.getContainerDOM();n.addEventListener("mousemove",s.onMouseMove),n.addEventListener("mouseup",s.onMouseUp),n.addEventListener("mouseleave",s.onMouseUp),n.addEventListener("touchmove",s.onMouseMove),n.addEventListener("touchend",s.onMouseUp),n.addEventListener("touchcancel",s.onMouseUp)}},s.onMouseMove=function(t){var e=s.cfg.width,n=[s.get("start"),s.get("end")];t.stopPropagation(),t.preventDefault();var i=Object(C.get)(t,"touches.0.pageX",t.pageX),r=Object(C.get)(t,"touches.0.pageY",t.pageY),o=i-s.prevX,a=s.adjustOffsetRange(o/e);s.updateStartEnd(a),s.updateUI(s.getElementByLocalId("foreground"),s.getElementByLocalId("minText"),s.getElementByLocalId("maxText")),s.prevX=i,s.prevY=r,s.draw(),s.emit("sliderchange",[s.get("start"),s.get("end")].sort()),s.delegateEmit("valuechanged",{originValue:n,value:[s.get("start"),s.get("end")]})},s.onMouseUp=function(){s.currentTarget&&(s.currentTarget=void 0);var t=s.getContainerDOM();t&&(t.removeEventListener("mousemove",s.onMouseMove),t.removeEventListener("mouseup",s.onMouseUp),t.removeEventListener("mouseleave",s.onMouseUp),t.removeEventListener("touchmove",s.onMouseMove),t.removeEventListener("touchend",s.onMouseUp),t.removeEventListener("touchcancel",s.onMouseUp))},s}var bn,xn={default:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},hover:{thumbColor:"rgba(0,0,0,0.2)"}},On=(bn=z,Object(_.__extends)(wn,bn),wn.prototype.setRange=function(t,e){this.set("minLimit",t),this.set("maxLimit",e);var n=this.getValue(),i=Object(C.clamp)(n,t,e);n===i||this.get("isInit")||this.setValue(i)},wn.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},wn.prototype.setValue=function(t){var e=this.getRange(),n=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Object(C.clamp)(t,e.min,e.max)}),this.delegateEmit("valuechange",{originalValue:n,value:this.getValue()})},wn.prototype.getValue=function(){return Object(C.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},wn.prototype.getDefaultCfg=function(){var t=bn.prototype.getDefaultCfg.call(this);return Object(_.__assign)(Object(_.__assign)({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:xn})},wn.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},wn.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},wn.prototype.initEvent=function(){this.bindEvents()},wn.prototype.renderTrackShape=function(t){var e=this.cfg,n=e.trackLen,i=e.theme,r=(void 0===i?{default:{}}:i).default,o=r.lineCap,a=r.trackColor,s=r.size,l=this.get("isHorizontal")?{x1:0+s/2,y1:s/2,x2:n-s/2,y2:s/2,lineWidth:s,stroke:a,lineCap:o}:{x1:s/2,y1:0+s/2,x2:s/2,y2:n-s/2,lineWidth:s,stroke:a,lineCap:o};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:l})},wn.prototype.renderThumbShape=function(t){var e=this.cfg,n=e.thumbOffset,i=e.thumbLen,r=e.theme,o=(void 0===r?{default:{}}:r).default,a=o.size,s=o.lineCap,l=o.thumbColor,c=this.get("isHorizontal")?{x1:n+a/2,y1:a/2,x2:n+i-a/2,y2:a/2,lineWidth:a,stroke:l,lineCap:s,cursor:"default"}:{x1:a/2,y1:n+a/2,x2:a/2,y2:n+i-a/2,lineWidth:a,stroke:l,lineCap:s,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:c})},wn.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp),t.findById(this.getElementId("track")).on("click",this.onTrackClick);var e=t.findById(this.getElementId("thumb"));e.on("mouseover",this.onThumbMouseOver),e.on("mouseout",this.onThumbMouseOut)},wn.prototype.getContainerDOM=function(){var t=this.get("container"),e=t&&t.get("canvas");return e&&e.get("container")},wn.prototype.validateRange=function(t){var e=this.cfg,n=e.thumbLen,i=e.trackLen,r=t;return i<t+n?r=i-n:t+n<n&&(r=0),r},wn.prototype.draw=function(){var t=this.get("container"),e=t&&t.get("canvas");e&&e.draw()},wn.prototype.updateThumbOffset=function(t){var e,n=this.cfg,i=n.thumbOffset,r=n.isHorizontal,o=n.thumbLen,a=n.size,s=this.validateRange(t);s!==i&&(e=this.getElementByLocalId("thumb"),r?e.attr({x1:s+a/2,x2:s+o-a/2}):e.attr({y1:s+a/2,y2:s+o-a/2}),this.emitOffsetChange(s))},wn.prototype.emitOffsetChange=function(t){var e=this.cfg,n=e.thumbOffset,i=e.trackLen,r=e.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:Object(C.clamp)(t/(i-r),0,1)}),this.delegateEmit("valuechange",{originalValue:n,value:t})},wn);function wn(){var h=null!==bn&&bn.apply(this,arguments)||this;return h.clearEvents=C.noop,h.onStartEvent=function(i){return function(t){h.isMobile=i,t.originalEvent.preventDefault();var e=i?Object(C.get)(t.originalEvent,"touches.0.clientX"):t.clientX,n=i?Object(C.get)(t.originalEvent,"touches.0.clientY"):t.clientY;h.startPos=h.cfg.isHorizontal?e:n,h.bindLaterEvent()}},h.bindLaterEvent=function(){var t=h.getContainerDOM(),e=[],e=h.isMobile?[Object(ae.addEventListener)(t,"touchmove",h.onMouseMove),Object(ae.addEventListener)(t,"touchend",h.onMouseUp),Object(ae.addEventListener)(t,"touchcancel",h.onMouseUp)]:[Object(ae.addEventListener)(t,"mousemove",h.onMouseMove),Object(ae.addEventListener)(t,"mouseup",h.onMouseUp),Object(ae.addEventListener)(t,"mouseleave",h.onMouseUp)];h.clearEvents=function(){e.forEach(function(t){t.remove()})}},h.onMouseMove=function(t){var e=h.cfg,n=e.isHorizontal,i=e.thumbOffset;t.preventDefault();var r=h.isMobile?Object(C.get)(t,"touches.0.clientX"):t.clientX,o=h.isMobile?Object(C.get)(t,"touches.0.clientY"):t.clientY,a=n?r:o,s=a-h.startPos;h.startPos=a,h.updateThumbOffset(i+s)},h.onMouseUp=function(t){t.preventDefault(),h.clearEvents()},h.onTrackClick=function(t){var e=h.cfg,n=e.isHorizontal,i=e.x,r=e.y,o=e.thumbLen,a=h.getContainerDOM().getBoundingClientRect(),s=t.clientX,l=t.clientY,c=n?s-a.left-i-o/2:l-a.top-r-o/2,u=h.validateRange(c);h.updateThumbOffset(u)},h.onThumbMouseOver=function(){var t=h.cfg.theme.hover.thumbColor;h.getElementByLocalId("thumb").attr("stroke",t),h.draw()},h.onThumbMouseOut=function(){var t=h.cfg.theme.default.thumbColor;h.getElementByLocalId("thumb").attr("stroke",t),h.draw()},h}},864:function(t,e,n){"use strict";function i(t,e,n){if(t){if("function"==typeof t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if("function"==typeof t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}var r,o,a,s;function l(t){r||(r=document.createElement("table"),o=document.createElement("tr"),a=/^\s*<(\w+|!)[^>]*>/,s={tr:document.createElement("tbody"),tbody:r,thead:r,tfoot:r,td:o,th:o,"*":document.createElement("div")});var e=a.test(t)&&RegExp.$1;e&&e in s||(e="*");var n=s[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var i=n.childNodes[0];return n.removeChild(i),i}function c(t,e,n){var i;try{i=window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.style[e]}catch(t){}finally{i=void 0===i?n:i}return i}function u(t,e){var n=c(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)}function h(t,e){var n=u(t,e),i=parseFloat(c(t,"borderTopWidth"))||0,r=parseFloat(c(t,"paddingTop"))||0,o=parseFloat(c(t,"paddingBottom"))||0;return n+i+(parseFloat(c(t,"borderBottomWidth"))||0)+r+o+(parseFloat(c(t,"marginTop"))||0)+(parseFloat(c(t,"marginBottom"))||0)}function p(t,e){var n=c(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)}function f(t,e){var n=p(t,e),i=parseFloat(c(t,"borderLeftWidth"))||0,r=parseFloat(c(t,"paddingLeft"))||0,o=parseFloat(c(t,"paddingRight"))||0,a=parseFloat(c(t,"borderRightWidth"))||0,s=parseFloat(c(t,"marginRight"))||0;return n+i+a+r+o+(parseFloat(c(t,"marginLeft"))||0)+s}function d(){return window.devicePixelRatio?window.devicePixelRatio:2}function g(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}n.r(e),n.d(e,"addEventListener",function(){return i}),n.d(e,"createDom",function(){return l}),n.d(e,"getHeight",function(){return u}),n.d(e,"getOuterHeight",function(){return h}),n.d(e,"getOuterWidth",function(){return f}),n.d(e,"getRatio",function(){return d}),n.d(e,"getStyle",function(){return c}),n.d(e,"getWidth",function(){return p}),n.d(e,"modifyCSS",function(){return g})},897:function(t,e,n){"use strict";n.r(e),n.d(e,"Category",function(){return p}),n.d(e,"Identity",function(){return tt}),n.d(e,"Linear",function(){return M}),n.d(e,"Log",function(){return L}),n.d(e,"Pow",function(){return D}),n.d(e,"Time",function(){return N}),n.d(e,"TimeCat",function(){return O}),n.d(e,"Quantile",function(){return K}),n.d(e,"Quantize",function(){return W}),n.d(e,"Scale",function(){return s}),n.d(e,"getScale",function(){return $}),n.d(e,"registerScale",function(){return Q}),n.d(e,"getTickMethod",function(){return r}),n.d(e,"registerTickMethod",function(){return o});var at=n(528),i={};function r(t){return i[t]}function o(t,e){i[t]=e}function a(t){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=t,this.initCfg(),this.init()}var s=(a.prototype.translate=function(t){return t},a.prototype.change=function(t){Object(at.assign)(this.__cfg__,t),this.init()},a.prototype.clone=function(){return this.constructor(this.__cfg__)},a.prototype.getTicks=function(){var n=this;return Object(at.map)(this.ticks,function(t,e){return Object(at.isObject)(t)?t:{text:n.getText(t,e),tickValue:t,value:n.scale(t)}})},a.prototype.getText=function(t,e){var n=this.formatter,i=n?n(t,e):t;return Object(at.isNil)(i)||!Object(at.isFunction)(i.toString)?"":i.toString()},a.prototype.getConfig=function(t){return this.__cfg__[t]},a.prototype.init=function(){Object(at.assign)(this,this.__cfg__),this.setDomain(),Object(at.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},a.prototype.initCfg=function(){},a.prototype.setDomain=function(){},a.prototype.calculateTicks=function(){var t=this.tickMethod,e=[];if(Object(at.isString)(t)){var n=r(t);if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else Object(at.isFunction)(t)&&(e=t(this));return e},a.prototype.rangeMin=function(){return Object(at.head)(this.range)},a.prototype.rangeMax=function(){return Object(at.last)(this.range)},a.prototype.calcPercent=function(t,e,n){return Object(at.isNumber)(t)?(t-e)/(n-e):NaN},a.prototype.calcValue=function(t,e,n){return e+t*(n-e)},a),l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function c(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;var u;Object.create;function h(){var t=null!==u&&u.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}var p=(c(h,u=s),h.prototype.translate=function(t){var e=Object(at.indexOf)(this.values,t);return-1===e?Object(at.isNumber)(t)?t:NaN:e},h.prototype.scale=function(t){var e=this.translate(t),n=this.calcPercent(e,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},h.prototype.invert=function(t){var e=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),i=Math.round(e*n)+this.min;return i<this.min||i>this.max?NaN:this.values[i]},h.prototype.getText=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=t;return Object(at.isNumber)(t)&&!this.values.includes(t)&&(i=this.values[i]),u.prototype.getText.apply(this,function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}([i],e))},h.prototype.initCfg=function(){this.tickMethod="cat"},h.prototype.setDomain=function(){var t;Object(at.isNil)(this.getConfig("min"))&&(this.min=0),Object(at.isNil)(this.getConfig("max"))&&(t=this.values.length,this.max=1<t?t-1:t)},h),f=n(1366),d=function(s){return function(t,e,n,i){for(var r=Object(at.isNil)(n)?0:n,o=Object(at.isNil)(i)?t.length:i;r<o;){var a=r+o>>>1;s(t[a])>e?o=a:r=1+a}return r}};function g(t,e){return(f.format||f.default.format)(t,e)}function y(t){return Object(at.isString)(t)&&(t=0<t.indexOf("T")?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),Object(at.isDate)(t)&&(t=t.getTime()),t}var v,Y=36e5,V=24*Y,X=31*V,G=365*V,m=[["HH:mm:ss",1e3],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",6e4],["HH:mm",6e5],["HH:mm",18e5],["HH",Y],["HH",6*Y],["HH",12*Y],["YYYY-MM-DD",V],["YYYY-MM-DD",4*V],["YYYY-WW",7*V],["YYYY-MM",X],["YYYY-MM",4*X],["YYYY-MM",6*X],["YYYY",380*V]];function b(){var t=null!==v&&v.apply(this,arguments)||this;return t.type="timeCat",t}var x,O=(c(b,v=p),b.prototype.translate=function(t){t=y(t);var e=this.values.indexOf(t);return-1===e&&(e=Object(at.isNumber)(t)&&t<this.values.length?t:NaN),e},b.prototype.getText=function(t,e){var n=this.translate(t);if(-1<n){var i=this.values[n],r=this.formatter;return i=r?r(i,e):g(i,this.mask)}return t},b.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},b.prototype.setDomain=function(){var n=this.values;Object(at.each)(n,function(t,e){n[e]=y(t)}),n.sort(function(t,e){return t-e}),v.prototype.setDomain.call(this)},b);function w(){var t=null!==x&&x.apply(this,arguments)||this;return t.isContinuous=!0,t}var _,C=(c(w,x=s),w.prototype.scale=function(t){if(Object(at.isNil)(t))return NaN;var e=this.rangeMin(),n=this.rangeMax();return this.max===this.min?e:e+this.getScalePercent(t)*(n-e)},w.prototype.init=function(){x.prototype.init.call(this);var t=this.ticks,e=Object(at.head)(t),n=Object(at.last)(t);e<this.min&&(this.min=e),n>this.max&&(this.max=n),Object(at.isNil)(this.minLimit)||(this.min=e),Object(at.isNil)(this.maxLimit)||(this.max=n)},w.prototype.setDomain=function(){var t=Object(at.getRange)(this.values),e=t.min,n=t.max;Object(at.isNil)(this.min)&&(this.min=e),Object(at.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=e,this.max=n)},w.prototype.calculateTicks=function(){var e=this,t=x.prototype.calculateTicks.call(this);return this.nice||(t=Object(at.filter)(t,function(t){return t>=e.min&&t<=e.max})),t},w.prototype.getScalePercent=function(t){var e=this.max,n=this.min;return(t-n)/(e-n)},w.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},w);function j(){var t=null!==_&&_.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}var S,M=(c(j,_=C),j.prototype.invert=function(t){var e=this.getInvertPercent(t);return this.min+e*(this.max-this.min)},j.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},j);function k(t,e){var n=Math.E,i=0<=e?Math.pow(n,Math.log(e)/t):-1*Math.pow(n,Math.log(-e)/t);return i}function T(t,e){return 1===t?1:Math.log(e)/Math.log(t)}function P(t,e,n){Object(at.isNil)(n)&&(n=Math.max.apply(null,t));var i=n;return Object(at.each)(t,function(t){0<t&&t<i&&(i=t)}),i===n&&(i=n/e),1<i&&(i=1),i}function A(){var t=null!==S&&S.apply(this,arguments)||this;return t.type="log",t}var E,L=(c(A,S=C),A.prototype.invert=function(t){var e,n=this.base,i=T(n,this.max),r=this.rangeMin(),o=this.rangeMax()-r,a=this.positiveMin;if(a){if(0===t)return 0;var s=1/(i-(e=T(n,a/n)))*o;if(t<s)return t/s*a}else e=T(n,this.min);var l=(t-r)/o*(i-e)+e;return Math.pow(n,l)},A.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},A.prototype.setDomain=function(){S.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");0===t&&(this.positiveMin=P(this.values,this.base,this.max))},A.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var i=this.base,r=this.positiveMin;return r&&(n=r/i),t<r?t/r/(T(i,e)-T(i,n)):(T(i,t)-T(i,n))/(T(i,e)-T(i,n))},A);function I(){var t=null!==E&&E.apply(this,arguments)||this;return t.type="pow",t}var B,D=(c(I,E=C),I.prototype.invert=function(t){var e=this.getInvertPercent(t),n=this.exponent,i=k(n,this.max),r=k(n,this.min),o=e*(i-r)+r,a=0<=o?1:-1;return Math.pow(o,n)*a},I.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},I.prototype.getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var i=this.exponent;return(k(i,t)-k(i,n))/(k(i,e)-k(i,n))},I);function F(){var t=null!==B&&B.apply(this,arguments)||this;return t.type="time",t}var R,N=(c(F,B=M),F.prototype.getText=function(t,e){var n=this.translate(t),i=this.formatter;return i?i(n,e):g(n,this.mask)},F.prototype.scale=function(t){var e=t;return(Object(at.isString)(e)||Object(at.isDate)(e))&&(e=this.translate(e)),B.prototype.scale.call(this,e)},F.prototype.translate=y,F.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},F.prototype.setDomain=function(){var n,i,r,o,t=this.values,e=this.getConfig("min"),a=this.getConfig("max");Object(at.isNil)(e)&&Object(at.isNumber)(e)||(this.min=this.translate(this.min)),Object(at.isNil)(a)&&Object(at.isNumber)(a)||(this.max=this.translate(this.max)),t&&t.length&&(n=[],r=i=1/0,o=0,Object(at.each)(t,function(t){var e=y(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t+" in time scale!");e<i?(r=i,i=e):e<r&&(r=e),o<e&&(o=e),n.push(e)}),1<t.length&&(this.minTickInterval=r-i),Object(at.isNil)(e)&&(this.min=i),Object(at.isNil)(a)&&(this.max=o))},F);function z(){var t=null!==R&&R.apply(this,arguments)||this;return t.type="quantize",t}var H,W=(c(z,R=C),z.prototype.invert=function(t){var e=this.ticks,n=e.length,i=this.getInvertPercent(t),r=Math.floor(i*(n-1));if(n-1<=r)return Object(at.last)(e);if(r<0)return Object(at.head)(e);var o=e[r],a=r/(n-1);return o+(i-a)/((r+1)/(n-1)-a)*(e[r+1]-o)},z.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},z.prototype.calculateTicks=function(){var t=R.prototype.calculateTicks.call(this);return this.nice||(Object(at.last)(t)!==this.max&&t.push(this.max),Object(at.head)(t)!==this.min&&t.unshift(this.min)),t},z.prototype.getScalePercent=function(n){var t=this.ticks;if(n<Object(at.head)(t))return 0;if(n>Object(at.last)(t))return 1;var i=0;return Object(at.each)(t,function(t,e){return t<=n&&void(i=e)}),i/(t.length-1)},z);function q(){var t=null!==H&&H.apply(this,arguments)||this;return t.type="quantile",t}var U,K=(c(q,H=W),q.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},q),Z={};function $(t){return Z[t]}function Q(t,e){if($(t))throw new Error("type '"+t+"' existed.");Z[t]=e}function J(){var t=null!==U&&U.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}var tt=(c(J,U=s),J.prototype.calculateTicks=function(){return this.values},J.prototype.scale=function(t){return this.values[0]!==t&&Object(at.isNumber)(t)?t:this.range[0]},J.prototype.invert=function(t){var e=this.range;return t<e[0]||t>e[1]?NaN:this.values[0]},J),st=[1,5,2,2.5,4,3],lt=100*Number.EPSILON;function et(t,e,n,i,r,o){if(void 0===n&&(n=5),void 0===i&&(i=!0),void 0===r&&(r=st),void 0===o&&(o=[.25,.2,.5,.05]),t===e||1===n)return{min:t,max:e,ticks:[t]};for(var a,s,l,c,u,h,p,f,d,g,y,v,m,b,x,O,w,_,C,j,S,M,k,T,P,A,E,L,I={score:-2,lmin:0,lmax:0,lstep:0},B=1;B<1/0;){for(var D=0,F=r;D<F.length;D++){var R=F[D],N=(P=R,A=r,E=B,L=void 0,L=Object(at.size)(A),1-Object(at.indexOf)(A,P)/(L-1)-E+1);if(Number.isNaN(N))throw new Error("NaN");if(o[0]*N+o[1]+o[2]+o[3]<I.score){B=1/0;break}for(var Y=2;Y<1/0;){var V=(T=n)<=(k=Y)?2-(k-1)/(T-1):1;if(o[0]*N+o[1]+o[2]*V+o[3]<I.score)break;for(var X=(e-t)/(Y+1)/B/R,G=Math.ceil(Math.log10(X));G<1/0;){var z=B*R*Math.pow(10,G),H=function(t,e,n){var i=e-t;if(i<n){var r=(n-i)/2;return 1-Math.pow(r,2)/Math.pow(.1*i,2)}return 1}(t,e,z*(Y-1));if(o[0]*N+o[1]*H+o[2]*V+o[3]<I.score)break;var W=Math.floor(e/z)*B-(Y-1)*B,q=Math.ceil(t/z)*B;if(q<W)G+=1;else{for(var U=W;U<=q;U+=1){var K=U*(z/B),Z=K+z*(Y-1),$=z,Q=(v=R,m=r,b=B,x=K,O=Z,w=$,M=S=j=C=_=void 0,C=Object(at.size)(m),j=Object(at.indexOf)(m,v),S=0,((M=(x%(_=w)+_)%_)<lt||w-M<lt)&&x<=0&&0<=O&&(S=1),1-j/(C-1)-b+S),J=(d=K,g=Z,y=void 0,y=(f=e)-(p=t),1-.5*(Math.pow(f-g,2)+Math.pow(p-d,2))/Math.pow(.1*y,2)),tt=(a=t,s=e,h=u=void 0,u=(Y-1)/((c=Z)-(l=K)),h=(n-1)/(Math.max(c,s)-Math.min(a,l)),2-Math.max(u/h,h/u)),et=o[0]*Q+o[1]*J+o[2]*tt+ +o[3];et>I.score&&(!i||K<=t&&e<=Z)&&(I.lmin=K,I.lmax=Z,I.lstep=$,I.score=et)}G+=1}}Y+=1}}B+=1}for(var nt=Number.isInteger(I.lstep)?0:Math.ceil(Math.abs(Math.log10(I.lstep))),it=[],rt=I.lmin;rt<=I.lmax;rt+=I.lstep)it.push(rt);var ot=nt?Object(at.map)(it,function(t){return Number.parseFloat(t.toFixed(nt))}):it;return{min:Math.min(t,Object(at.head)(ot)),max:Math.max(e,Object(at.last)(ot)),ticks:ot}}function nt(t){var e=t.values,n=t.tickInterval,i=t.tickCount,r=e;if(Object(at.isNumber)(n))return Object(at.filter)(r,function(t,e){return e%n==0});var o=t.min,a=t.max;if(Object(at.isNil)(o)&&(o=0),Object(at.isNil)(a)&&(a=e.length-1),Object(at.isNumber)(i)&&i<a-o){var s=et(o,a,i,!1,[1,2,5,3,4,7,6,8,9]).ticks;return Object(at.filter)(s,function(t){return o<=t&&t<=a}).map(function(t){return e[t]})}return e.slice(o,a+1)}var it=Math.sqrt(50),rt=Math.sqrt(10),ot=Math.sqrt(2),ct=(ut.prototype.domain=function(t){return t?(this._domain=Array.from(t,Number),this):this._domain.slice()},ut.prototype.nice=function(t){var e,n;void 0===t&&(t=5);var i,r=this._domain.slice(),o=0,a=this._domain.length-1,s=this._domain[o],l=this._domain[a];return l<s&&(s=(e=[l,s])[0],l=e[1],o=(n=[a,o])[0],a=n[1]),0<(i=ht(s,l,t))?i=ht(s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i,t):i<0&&(i=ht(s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i,t)),0<i?(r[o]=Math.floor(s/i)*i,r[a]=Math.ceil(l/i)*i,this.domain(r)):i<0&&(r[o]=Math.ceil(s*i)/i,r[a]=Math.floor(l*i)/i,this.domain(r)),this},ut.prototype.ticks=function(t){return void 0===t&&(t=5),function(t,e,n){var i,r,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&0<n)return[t];(i=e<t)&&(r=t,t=e,e=r);if(0===(a=ht(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(r=Math.ceil(e-t+1));++s<r;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(r=Math.ceil(t-e+1));++s<r;)o[s]=(t-s)/a;i&&o.reverse();return o}(this._domain[0],this._domain[this._domain.length-1],t||5)},ut);function ut(){this._domain=[0,1]}function ht(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return 0<=r?(it<=o?10:rt<=o?5:ot<=o?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(it<=o?10:rt<=o?5:ot<=o?2:1)}function pt(t,e,n){var i="ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e);return i*e}function ft(t,e,n){for(var i=pt(t,n,"floor"),r=pt(e,n,"ceil"),i=Object(at.fixedBase)(i,n),r=Object(at.fixedBase)(r,n),o=[],a=i;a<=r;a+=n){var s=Object(at.fixedBase)(a,n);o.push(s)}return{min:i,max:r,ticks:o}}function dt(t,e,n){var i,r=t.minLimit,o=t.maxLimit,a=t.min,s=t.max,l=t.tickCount,c=void 0===l?5:l,u=Object(at.isNil)(r)?Object(at.isNil)(e)?a:e:r,h=Object(at.isNil)(o)?Object(at.isNil)(n)?s:n:o;if(h<u&&(h=(i=[u,h])[0],u=i[1]),c<=2)return[u,h];for(var p=(h-u)/(c-1),f=[],d=0;d<c;d++)f.push(u+p*d);return f}function gt(t,e,n){void 0===n&&(n=5);var i={max:0,min:0,ticks:[]},r=(e-t)/n,o=Math.pow(10,Math.floor(Math.log10(r))),a=o<1?Math.ceil(Math.abs(Math.log10(o))):0,s=o;2*o-r<1.5*(r-s)&&5*o-r<2.75*(r-(s=2*o))&&10*o-r<1.5*(r-(s=5*o))&&(s=10*o);var l=Math.ceil(e/s),c=Math.floor(t/s);i.max=Math.max(l*s,e),i.min=Math.min(c*s,t);for(var u=Number.parseFloat((c*s).toFixed(a));u<e;)i.ticks.push(u),u+=s,a&&(u=Number.parseFloat(u.toFixed(a)));return i.ticks.push(u),i}function yt(t){return new Date(t).getFullYear()}function vt(t){return new Date(t).getMonth()}o("cat",nt),o("time-cat",function(t){var e=nt(t),n=Object(at.last)(t.values);return n!==Object(at.last)(e)&&e.push(n),e}),o("wilkinson-extended",function(t){var e=t.min,n=t.max,i=t.tickCount,r=t.nice,o=t.tickInterval,a=t.minLimit,s=t.maxLimit,l=et(e,n,i,r).ticks;return Object(at.isNil)(a)&&Object(at.isNil)(s)?o?ft(e,n,o).ticks:l:dt(t,Object(at.head)(l),Object(at.last)(l))}),o("r-pretty",function(t){var e=t.min,n=t.max,i=t.tickCount,r=t.tickInterval,o=t.minLimit,a=t.maxLimit,s=gt(e,n,i).ticks;return Object(at.isNil)(o)&&Object(at.isNil)(a)?r?ft(e,n,r).ticks:s:dt(t,Object(at.head)(s),Object(at.last)(s))}),o("time",function(t){var e,n,i,r,o=t.min,a=t.max,s=t.minTickInterval,l=t.tickInterval,c=t.tickCount;l?c=Math.ceil((a-o)/l):(n=(a-o)/c,i=d(function(t){return t[1]})(m,n)-1,r=m[i],i<0?r=m[0]:i>=m.length&&(r=Object(at.last)(m)),1<(e=(a-o)/(l=r[1])/c)&&(l*=Math.ceil(e)),s&&l<s&&(l=s));for(var u=[],h=o;h<a+l;h+=l)u.push(h);return u}),o("time-pretty",function(t){var e=t.min,n=t.max,i=t.minTickInterval,r=t.tickInterval,o=t.tickCount,a=[];r||(r=(n-e)/o,i&&r<i&&(r=i));var s,l,c,u,h,p,f,d,g,y,v,m=yt(e);if(G<r)for(var b=yt(n),x=Math.ceil(r/G),O=m;O<=b+x;O+=x)a.push(new Date(O,0,1).getTime());else if(X<r)for(var w=Math.ceil(r/X),_=vt(e),C=(d=n,g=yt(f=e),y=yt(d),v=vt(f),12*(y-g)+(vt(d)-v)%12),O=0;O<=C+w;O+=w)a.push(new Date(m,O+_,1).getTime());else if(V<r)for(var j=(P=new Date(e)).getFullYear(),S=P.getMonth(),M=P.getDate(),k=Math.ceil(r/V),T=(h=e,p=n,Math.ceil((p-h)/V)),O=0;O<T+k;O+=k)a.push(new Date(j,S,M+O).getTime());else if(Y<r)for(var P,j=(P=new Date(e)).getFullYear(),S=P.getMonth(),k=P.getDate(),A=P.getHours(),E=Math.ceil(r/Y),L=(c=e,u=n,Math.ceil((u-c)/Y)),O=0;O<=L+E;O+=E)a.push(new Date(j,S,k,A+O).getTime());else if(6e4<r)for(var I=(s=e,l=n,Math.ceil((l-s)/6e4)),B=Math.ceil(r/6e4),O=0;O<=I+B;O+=B)a.push(e+6e4*O);else{var D=r;D<1e3&&(D=1e3);for(var F=1e3*Math.floor(e/1e3),R=Math.ceil((n-e)/1e3),N=Math.ceil(D/1e3),O=0;O<R+N;O+=N)a.push(F+1e3*O)}return a}),o("log",function(t){for(var e,n,i=t.base,r=t.tickCount,o=t.min,a=t.max,s=t.values,l=T(i,a),c=l-(n=0<o?Math.floor(T(i,o)):(e=P(s,i,a),Math.floor(T(i,e)))),u=Math.ceil(c/r),h=[],p=n;p<l+u;p+=u)h.push(Math.pow(i,p));return o<=0&&h.unshift(0),h}),o("pow",function(t){var n=t.exponent,e=t.tickCount,i=Math.ceil(k(n,t.max));return gt(Math.floor(k(n,t.min)),i,e).ticks.map(function(t){var e=0<=t?1:-1;return Math.pow(t,n)*e})}),o("quantile",function(t){var e=t.tickCount,n=t.values;if(!n||!n.length)return[];for(var i,r,o,a=n.slice().sort(function(t,e){return t-e}),s=[],l=0;l<e;l++){var c=l/(e-1);s.push((r=c,o=void 0,o=(i=a).length*r,1===r?i[i.length-1]:0===r?i[0]:o%1!=0?i[Math.ceil(o)-1]:i.length%2==0?(i[o-1]+i[o])/2:i[o]))}return s}),o("d3-linear",function(t){var e,n,i,r,o,a,s=t.min,l=t.max,c=t.tickInterval,u=t.minLimit,h=t.maxLimit,p=(n=(e=t).min,i=e.max,r=e.nice,o=e.tickCount,(a=new ct).domain([n,i]),r&&a.nice(o),a.ticks(o));return Object(at.isNil)(u)&&Object(at.isNil)(h)?c?ft(s,l,c).ticks:p:dt(t,Object(at.head)(p),Object(at.last)(p))}),Q("cat",p),Q("category",p),Q("identity",tt),Q("linear",M),Q("log",L),Q("pow",D),Q("time",N),Q("timeCat",O),Q("quantize",W),Q("quantile",K)},902:function(t,e,n){"use strict";n.d(e,"d",function(){return O}),n.d(e,"b",function(){return w}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return C}),n.d(e,"l",function(){return j}),n.d(e,"j",function(){return S});var i=n(1357),r=n.n(i);n.d(e,"i",function(){return r.a});var o=n(1341),a=n.n(o);n.d(e,"k",function(){return a.a});var s=n(1365),l=n.n(s);n.d(e,"h",function(){return l.a});var c=n(913),u=n.n(c);n.d(e,"g",function(){return u.a});var h=n(1351),p=n.n(h);n.d(e,"c",function(){return p.a});var f=n(1387),d=n.n(f);n.d(e,"o",function(){return d.a});var g=n(1386),y=n.n(g);n.d(e,"m",function(){return y.a});n(1401);var v=n(1425),m=n.n(v);n.d(e,"n",function(){return m.a});var b=n(1426),x=n.n(b);function O(){return window?window.devicePixelRatio:1}function w(t,e,n,i){var r=t-n,o=e-i;return Math.sqrt(r*r+o*o)}function _(t,e,n,i,r,o){return t<=r&&r<=t+n&&e<=o&&o<=e+i}function C(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function j(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function S(t,e){return t[0]===e[0]&&t[1]===e[1]}n.d(e,"a",function(){return x.a})},904:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(t){var e=t.keyCode;if(t.altKey&&!t.ctrlKey||t.metaKey||e>=i.F1&&e<=i.F12)return!1;switch(e){case i.ALT:case i.CAPS_LOCK:case i.CONTEXT_MENU:case i.CTRL:case i.DOWN:case i.END:case i.ESC:case i.HOME:case i.INSERT:case i.LEFT:case i.MAC_FF_META:case i.META:case i.NUMLOCK:case i.NUM_CENTER:case i.PAGE_DOWN:case i.PAGE_UP:case i.PAUSE:case i.PRINT_SCREEN:case i.RIGHT:case i.SHIFT:case i.UP:case i.WIN_KEY:case i.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(t){if(t>=i.ZERO&&t<=i.NINE)return!0;if(t>=i.NUM_ZERO&&t<=i.NUM_MULTIPLY)return!0;if(t>=i.A&&t<=i.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===t)return!0;switch(t){case i.SPACE:case i.QUESTION_MARK:case i.NUM_PLUS:case i.NUM_MINUS:case i.NUM_PERIOD:case i.NUM_DIVISION:case i.SEMICOLON:case i.DASH:case i.EQUALS:case i.COMMA:case i.PERIOD:case i.SLASH:case i.APOSTROPHE:case i.SINGLE_QUOTE:case i.OPEN_SQUARE_BRACKET:case i.BACKSLASH:case i.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};e.default=i},913:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1418);e.default=function(t){return Array.isArray?Array.isArray(t):i.default(t,"Array")}},914:function(t,e,n){"use strict";n.r(e);var i=(r.prototype.on=function(t,e,n){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,once:!!n}),this},r.prototype.once=function(t,e){return this.on(t,e,!0),this},r.prototype.emit=function(o){for(var a=this,s=[],t=1;t<arguments.length;t++)s[t-1]=arguments[t];function e(t){for(var e,n,i=t.length,r=0;r<i;r++){t[r]&&(n=(e=t[r]).callback,e.once&&(t.splice(r,1),0===t.length&&delete a._events[o],i--,r--),n.apply(a,s))}}var n=this._events[o]||[],i=this._events["*"]||[];e(n),e(i)},r.prototype.off=function(t,e){if(t)if(e){for(var n=this._events[t]||[],i=n.length,r=0;r<i;r++)n[r].callback===e&&(n.splice(r,1),i--,r--);0===n.length&&delete this._events[t]}else delete this._events[t];else this._events={};return this},r.prototype.getEvents=function(){return this._events},r);function r(){this._events={}}e.default=i},915:function(t,e,n){"use strict";var i,r,o,a,s,l;Object.defineProperty(e,"__esModule",{value:!0}),e.COMPONENT_MAX_VIEW_PERCENTAGE=e.MIN_CHART_HEIGHT=e.MIN_CHART_WIDTH=e.FIELD_ORIGIN=e.GROUP_ATTRS=e.ELEMENT_STATE=e.PLOT_EVENTS=e.VIEW_LIFE_CIRCLE=e.GROUP_Z_INDEX=e.COMPONENT_TYPE=e.DIRECTION=e.LAYER=void 0,(i=e.LAYER||(e.LAYER={})).FORE="fore",i.MID="mid",i.BG="bg",(r=e.DIRECTION||(e.DIRECTION={})).TOP="top",r.TOP_LEFT="top-left",r.TOP_RIGHT="top-right",r.RIGHT="right",r.RIGHT_TOP="right-top",r.RIGHT_BOTTOM="right-bottom",r.LEFT="left",r.LEFT_TOP="left-top",r.LEFT_BOTTOM="left-bottom",r.BOTTOM="bottom",r.BOTTOM_LEFT="bottom-left",r.BOTTOM_RIGHT="bottom-right",r.RADIUS="radius",r.CIRCLE="circle",r.NONE="none",(o=e.COMPONENT_TYPE||(e.COMPONENT_TYPE={})).AXIS="axis",o.GRID="grid",o.LEGEND="legend",o.TOOLTIP="tooltip",o.ANNOTATION="annotation",o.OTHER="other",e.GROUP_Z_INDEX={FORE:3,MID:2,BG:1},(a=e.VIEW_LIFE_CIRCLE||(e.VIEW_LIFE_CIRCLE={})).BEFORE_RENDER="beforerender",a.AFTER_RENDER="afterrender",a.BEFORE_PAINT="beforepaint",a.AFTER_PAINT="afterpaint",a.BEFORE_CHANGE_DATA="beforechangedata",a.AFTER_CHANGE_DATA="afterchangedata",a.BEFORE_CLEAR="beforeclear",a.AFTER_CLEAR="afterclear",a.BEFORE_DESTROY="beforedestroy",(s=e.PLOT_EVENTS||(e.PLOT_EVENTS={})).MOUSE_ENTER="plot:mouseenter",s.MOUSE_DOWN="plot:mousedown",s.MOUSE_MOVE="plot:mousemove",s.MOUSE_UP="plot:mouseup",s.MOUSE_LEAVE="plot:mouseleave",s.TOUCH_START="plot:touchstart",s.TOUCH_MOVE="plot:touchmove",s.TOUCH_END="plot:touchend",s.TOUCH_CANCEL="plot:touchcancel",s.CLICK="plot:click",s.DBLCLICK="plot:dblclick",s.CONTEXTMENU="plot:contextmenu",s.LEAVE="plot:leave",s.ENTER="plot:enter",(l=e.ELEMENT_STATE||(e.ELEMENT_STATE={})).ACTIVE="active",l.INACTIVE="inactive",l.SELECTED="selected",l.DEFAULT="default",e.GROUP_ATTRS=["color","shape","size"],e.FIELD_ORIGIN="_origin",e.MIN_CHART_WIDTH=1,e.MIN_CHART_HEIGHT=1,e.COMPONENT_MAX_VIEW_PERCENTAGE=.25},916:function(t,e,n){"use strict";function r(t){return Math.min.apply(null,t)}function o(t){return Math.max.apply(null,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.distance=function(t,e,n,i){var r=t-n,o=e-i;return Math.sqrt(r*r+o*o)},e.isNumberEqual=function(t,e){return Math.abs(t-e)<.001},e.getBBoxByArray=function(t,e){var n=r(t),i=r(e);return{x:n,y:i,width:o(t)-n,height:o(e)-i}},e.getBBoxRange=function(t,e,n,i){return{minX:r([t,n]),maxX:o([t,n]),minY:r([e,i]),maxY:o([e,i])}},e.piMod=function(t){return(t+2*Math.PI)%(2*Math.PI)}}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[22],Array(529).concat([function(t,e,n){"use strict";n.r(e),n.d(e,"geoArea",function(){return U}),n.d(e,"geoBounds",function(){return zt}),n.d(e,"geoCentroid",function(){return Kt}),n.d(e,"geoCircle",function(){return le}),n.d(e,"geoClipExtent",function(){return Me}),n.d(e,"geoContains",function(){return Ye}),n.d(e,"geoDistance",function(){return Re}),n.d(e,"geoGraticule",function(){return We}),n.d(e,"geoGraticule10",function(){return Xe}),n.d(e,"geoInterpolate",function(){return $e}),n.d(e,"geoLength",function(){return Oe}),n.d(e,"geoPath",function(){return $n}),n.d(e,"geoAlbers",function(){return vr}),n.d(e,"geoAlbersUsa",function(){return yr}),n.d(e,"geoAzimuthalEqualArea",function(){return wr}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return br}),n.d(e,"geoAzimuthalEquidistant",function(){return Sr}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return _r}),n.d(e,"geoConicConformal",function(){return Ar}),n.d(e,"geoConicConformalRaw",function(){return kr}),n.d(e,"geoConicEqualArea",function(){return gr}),n.d(e,"geoConicEqualAreaRaw",function(){return dr}),n.d(e,"geoConicEquidistant",function(){return jr}),n.d(e,"geoConicEquidistantRaw",function(){return Ir}),n.d(e,"geoEquirectangular",function(){return Or}),n.d(e,"geoEquirectangularRaw",function(){return Tr}),n.d(e,"geoGnomonic",function(){return Lr}),n.d(e,"geoGnomonicRaw",function(){return Rr}),n.d(e,"geoIdentity",function(){return Br}),n.d(e,"geoProjection",function(){return fr}),n.d(e,"geoProjectionMutator",function(){return hr}),n.d(e,"geoMercator",function(){return Er}),n.d(e,"geoMercatorRaw",function(){return Mr}),n.d(e,"geoOrthographic",function(){return Nr}),n.d(e,"geoOrthographicRaw",function(){return Fr}),n.d(e,"geoStereographic",function(){return Gr}),n.d(e,"geoStereographicRaw",function(){return zr}),n.d(e,"geoTransverseMercator",function(){return Yr}),n.d(e,"geoTransverseMercatorRaw",function(){return Vr}),n.d(e,"geoRotation",function(){return ae}),n.d(e,"geoStream",function(){return k}),n.d(e,"geoTransform",function(){return rr});function r(){return new i}function i(){this.reset()}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(t){a(o,t,this.t),a(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new i;function a(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var I=1e-6,T=Math.PI,v=T/2,O=T/4,j=2*T,R=180/T,L=T/180,D=Math.abs,y=Math.atan,B=Math.atan2,F=Math.cos,x=Math.ceil,s=Math.exp,u=(Math.floor,Math.log),c=Math.pow,N=Math.sin,l=Math.sign||function(t){return 0<t?1:t<0?-1:0},z=Math.sqrt,f=Math.tan;function h(t){return 1<t?0:t<-1?T:Math.acos(t)}function G(t){return 1<t?v:t<-1?-v:Math.asin(t)}function m(t){return(t=N(t/2))*t}function p(){}function d(t,e){t&&b.hasOwnProperty(t.type)&&b[t.type](t,e)}var g={Feature:function(t,e){d(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)d(n[r].geometry,e)}},b={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){w(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)w(n[r],e,0)},Polygon:function(t,e){_(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)_(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)d(n[r],e)}};function w(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function _(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)w(t[n],e,1);e.polygonEnd()}var S,M,E,C,P,k=function(t,e){t&&g.hasOwnProperty(t.type)?g[t.type](t,e):d(t,e)},A=r(),V=r(),Y={point:p,lineStart:p,lineEnd:p,polygonStart:function(){A.reset(),Y.lineStart=H,Y.lineEnd=q},polygonEnd:function(){var t=+A;V.add(t<0?j+t:t),this.lineStart=this.lineEnd=this.point=p},sphere:function(){V.add(j)}};function H(){Y.point=W}function q(){X(S,M)}function W(t,e){Y.point=X,S=t,M=e,E=t*=L,C=F(e=(e*=L)/2+O),P=N(e)}function X(t,e){var n=(t*=L)-E,r=0<=n?1:-1,i=r*n,o=F(e=(e*=L)/2+O),a=N(e),s=P*a,u=C*o+s*F(i),c=s*r*N(i);A.add(B(c,u)),E=t,C=o,P=a}var U=function(t){return V.reset(),k(t,Y),2*V};function Z(t){return[B(t[1],t[0]),G(t[2])]}function Q(t){var e=t[0],n=t[1],r=F(n);return[r*F(e),r*N(e),N(n)]}function J(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function K(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function tt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function et(t){var e=z(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var nt,rt,it,ot,at,st,ut,ct,lt,ft,ht=r(),pt={point:dt,lineStart:vt,lineEnd:yt,polygonStart:function(){pt.point=mt,pt.lineStart=xt,pt.lineEnd=bt,ht.reset(),Y.polygonStart()},polygonEnd:function(){Y.polygonEnd(),pt.point=dt,pt.lineStart=vt,pt.lineEnd=yt,A<0?(nt=-(it=180),rt=-(ot=90)):I<ht?ot=90:ht<-I&&(rt=-90),ft[0]=nt,ft[1]=it}};function dt(t,e){lt.push(ft=[nt=t,it=t]),e<rt&&(rt=e),ot<e&&(ot=e)}function gt(t,e){var n,r,i,o,a,s,u,c=Q([t*L,e*L]);ct?(n=$(ct,c),et(r=$([n[1],-n[0],0],n)),r=Z(r),o=0<(i=t-at)?1:-1,a=r[0]*R*o,(u=180<D(i))^(o*at<a&&a<o*t)?(s=r[1]*R,ot<s&&(ot=s)):u^(o*at<(a=(a+360)%360-180)&&a<o*t)?(s=-r[1]*R)<rt&&(rt=s):(e<rt&&(rt=e),ot<e&&(ot=e)),u?t<at?wt(nt,t)>wt(nt,it)&&(it=t):wt(t,it)>wt(nt,it)&&(nt=t):nt<=it?(t<nt&&(nt=t),it<t&&(it=t)):at<t?wt(nt,t)>wt(nt,it)&&(it=t):wt(t,it)>wt(nt,it)&&(nt=t)):lt.push(ft=[nt=t,it=t]),e<rt&&(rt=e),ot<e&&(ot=e),ct=c,at=t}function vt(){pt.point=gt}function yt(){ft[0]=nt,ft[1]=it,pt.point=dt,ct=null}function mt(t,e){var n;ct?(n=t-at,ht.add(180<D(n)?n+(0<n?360:-360):n)):(st=t,ut=e),Y.point(t,e),gt(t,e)}function xt(){Y.lineStart()}function bt(){mt(st,ut),Y.lineEnd(),D(ht)>I&&(nt=-(it=180)),ft[0]=nt,ft[1]=it,ct=null}function wt(t,e){return(e-=t)<0?e+360:e}function _t(t,e){return t[0]-e[0]}function St(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Mt,Et,Ct,Pt,kt,At,Tt,Ot,It,jt,Rt,Lt,Dt,Bt,Ft,Nt,zt=function(t){var e,n,r,i,o,a,s;if(ot=it=-(nt=rt=1/0),lt=[],k(t,pt),n=lt.length){for(lt.sort(_t),e=1,o=[r=lt[0]];e<n;++e)St(r,(i=lt[e])[0])||St(r,i[1])?(wt(r[0],i[1])>wt(r[0],r[1])&&(r[1]=i[1]),wt(i[0],r[1])>wt(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=wt(r[1],i[0]))>a&&(a=s,nt=i[0],it=r[1])}return lt=ft=null,nt===1/0||rt===1/0?[[NaN,NaN],[NaN,NaN]]:[[nt,rt],[it,ot]]},Gt={sphere:p,point:Vt,lineStart:Ht,lineEnd:Xt,polygonStart:function(){Gt.lineStart=Ut,Gt.lineEnd=Zt},polygonEnd:function(){Gt.lineStart=Ht,Gt.lineEnd=Xt}};function Vt(t,e){t*=L;var n=F(e*=L);Yt(n*F(t),n*N(t),N(e))}function Yt(t,e,n){Ct+=(t-Ct)/++Mt,Pt+=(e-Pt)/Mt,kt+=(n-kt)/Mt}function Ht(){Gt.point=qt}function qt(t,e){t*=L;var n=F(e*=L);Bt=n*F(t),Ft=n*N(t),Nt=N(e),Gt.point=Wt,Yt(Bt,Ft,Nt)}function Wt(t,e){t*=L;var n=F(e*=L),r=n*F(t),i=n*N(t),o=N(e),a=B(z((a=Ft*o-Nt*i)*a+(a=Nt*r-Bt*o)*a+(a=Bt*i-Ft*r)*a),Bt*r+Ft*i+Nt*o);Et+=a,At+=a*(Bt+(Bt=r)),Tt+=a*(Ft+(Ft=i)),Ot+=a*(Nt+(Nt=o)),Yt(Bt,Ft,Nt)}function Xt(){Gt.point=Vt}function Ut(){Gt.point=Qt}function Zt(){Jt(Lt,Dt),Gt.point=Vt}function Qt(t,e){Lt=t,Dt=e,t*=L,e*=L,Gt.point=Jt;var n=F(e);Bt=n*F(t),Ft=n*N(t),Nt=N(e),Yt(Bt,Ft,Nt)}function Jt(t,e){t*=L;var n=F(e*=L),r=n*F(t),i=n*N(t),o=N(e),a=Ft*o-Nt*i,s=Nt*r-Bt*o,u=Bt*i-Ft*r,c=z(a*a+s*s+u*u),l=G(c),f=c&&-l/c;It+=f*a,jt+=f*s,Rt+=f*u,Et+=l,At+=l*(Bt+(Bt=r)),Tt+=l*(Ft+(Ft=i)),Ot+=l*(Nt+(Nt=o)),Yt(Bt,Ft,Nt)}function $t(t){return function(){return t}}var Kt=function(t){Mt=Et=Ct=Pt=kt=At=Tt=Ot=It=jt=Rt=0,k(t,Gt);var e=It,n=jt,r=Rt,i=e*e+n*n+r*r;return i<1e-12&&(e=At,n=Tt,r=Ot,Et<I&&(e=Ct,n=Pt,r=kt),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[B(n,e)*R,G(r/z(i))*R]},te=function(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t};function ee(t,e){return[T<t?t-j:t<-T?t+j:t,e]}function ne(t,e,n){return(t%=j)?e||n?te(ie(t),oe(e,n)):ie(t):e||n?oe(e,n):ee}function re(n){return function(t,e){return[T<(t+=n)?t-j:t<-T?t+j:t,e]}}function ie(t){var e=re(t);return e.invert=re(-t),e}function oe(t,e){var s=F(t),u=N(t),c=F(e),l=N(e);function n(t,e){var n=F(e),r=F(t)*n,i=N(t)*n,o=N(e),a=o*s+r*u;return[B(i*c-a*l,r*s-o*u),G(a*c+i*l)]}return n.invert=function(t,e){var n=F(e),r=F(t)*n,i=N(t)*n,o=N(e),a=o*c-i*l;return[B(i*c+o*l,r*s+a*u),G(a*s-r*u)]},n}ee.invert=ee;var ae=function(e){function t(t){return(t=e(t[0]*L,t[1]*L))[0]*=R,t[1]*=R,t}return e=ne(e[0]*L,e[1]*L,2<e.length?e[2]*L:0),t.invert=function(t){return(t=e.invert(t[0]*L,t[1]*L))[0]*=R,t[1]*=R,t},t};function se(t,e,n,r,i,o){if(n){var a=F(e),s=N(e),u=r*n;null==i?(i=e+r*j,o=e-u/2):(i=ue(a,i),o=ue(a,o),(0<r?i<o:o<i)&&(i+=r*j));for(var c,l=i;0<r?o<l:l<o;l-=u)c=Z([a,-s*F(l),-s*N(l)]),t.point(c[0],c[1])}}function ue(t,e){(e=Q(e))[0]-=t,et(e);var n=h(-e[1]);return((-e[2]<0?-n:n)+j-I)%j}function ce(t,e){return D(t[0]-e[0])<I&&D(t[1]-e[1])<I}var le=function(){var r,i,o=$t([0,0]),a=$t(90),s=$t(6),u={point:function(t,e){r.push(t=i(t,e)),t[0]*=R,t[1]*=R}};function e(){var t=o.apply(this,arguments),e=a.apply(this,arguments)*L,n=s.apply(this,arguments)*L;return r=[],i=ne(-t[0]*L,-t[1]*L,0).invert,se(u,e,n,1),t={type:"Polygon",coordinates:[r]},r=i=null,t}return e.center=function(t){return arguments.length?(o="function"==typeof t?t:$t([+t[0],+t[1]]),e):o},e.radius=function(t){return arguments.length?(a="function"==typeof t?t:$t(+t),e):a},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:$t(+t),e):s},e},fe=function(){var n,e=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){e.push(n=[])},lineEnd:p,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}},he=function(t,e,n,r,i,o){var a=t[0],s=t[1],u=0,c=1,l=e[0]-a,f=e[1]-s,h=n-a;if(l||!(0<h)){if(h/=l,l<0){if(h<u)return;h<c&&(c=h)}else if(0<l){if(c<h)return;u<h&&(u=h)}if(h=i-a,l||!(h<0)){if(h/=l,l<0){if(c<h)return;u<h&&(u=h)}else if(0<l){if(h<u)return;h<c&&(c=h)}if(h=r-s,f||!(0<h)){if(h/=f,f<0){if(h<u)return;h<c&&(c=h)}else if(0<f){if(c<h)return;u<h&&(u=h)}if(h=o-s,f||!(h<0)){if(h/=f,f<0){if(c<h)return;u<h&&(u=h)}else if(0<f){if(h<u)return;h<c&&(c=h)}return 0<u&&(t[0]=a+u*l,t[1]=s+u*f),c<1&&(e[0]=a+c*l,e[1]=s+c*f),!0}}}}};function pe(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var de=function(t,e,n,r,o){var a,i,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],i=t[e];if(ce(r,i)){for(o.lineStart(),a=0;a<e;++a)o.point((r=t[a])[0],r[1]);o.lineEnd()}else s.push(n=new pe(r,t,null,!0)),u.push(n.o=new pe(r,null,n,!1)),s.push(n=new pe(i,t,null,!1)),u.push(n.o=new pe(i,null,n,!0))}}),s.length){for(u.sort(e),ge(s),ge(u),a=0,i=u.length;a<i;++a)u[a].e=n=!n;for(var c,l,f=s[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,i=c.length;a<i;++a)o.point((l=c[a])[0],l[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(c=h.p.z,a=c.length-1;0<=a;--a)o.point((l=c[a])[0],l[1]);else r(h.x,h.p.x,-1,o);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}};function ge(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var ve=n(561),ye=1e9,me=-ye;function xe(y,m,x,b){function w(t,e){return y<=t&&t<=x&&m<=e&&e<=b}function _(t,e,n,r){var i=0,o=0;if(null==t||(i=a(t,n))!==(o=a(e,n))||s(t,e)<0^0<n)for(;r.point(0===i||3===i?y:x,1<i?b:m),(i=(i+n+4)%4)!==o;);else r.point(e[0],e[1])}function a(t,e){return D(t[0]-y)<I?0<e?0:3:D(t[0]-x)<I?0<e?2:1:D(t[1]-m)<I?0<e?1:0:0<e?3:2}function S(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){var i,f,o,a,s,u,c,l,h,p,d,g=r,t=fe(),e={point:n,lineStart:function(){e.point=v,f&&f.push(o=[]);p=!0,h=!1,c=l=NaN},lineEnd:function(){i&&(v(a,s),u&&h&&t.rejoin(),i.push(t.result()));e.point=n,h&&g.lineEnd()},polygonStart:function(){g=t,i=[],f=[],d=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,n=f.length;e<n;++e)for(var r,i,o=f[e],a=1,s=o.length,u=o[0],c=u[0],l=u[1];a<s;++a)r=c,i=l,u=o[a],c=u[0],l=u[1],i<=b?b<l&&(l-i)*(y-r)<(c-r)*(b-i)&&++t:l<=b&&(c-r)*(b-i)<(l-i)*(y-r)&&--t;return t}(),e=d&&t,n=(i=Object(ve.merge)(i)).length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),_(null,null,1,r),r.lineEnd()),n&&de(i,S,t,_,r),r.polygonEnd());g=r,i=f=o=null}};function n(t,e){w(t,e)&&g.point(t,e)}function v(t,e){var n,r,i=w(t,e);f&&o.push([t,e]),p?(a=t,s=e,p=!1,(u=i)&&(g.lineStart(),g.point(t,e))):i&&h?g.point(t,e):(n=[c=Math.max(me,Math.min(ye,c)),l=Math.max(me,Math.min(ye,l))],r=[t=Math.max(me,Math.min(ye,t)),e=Math.max(me,Math.min(ye,e))],he(n,r,y,m,x,b)?(h||(g.lineStart(),g.point(n[0],n[1])),g.point(r[0],r[1]),i||g.lineEnd(),d=!1):i&&(g.lineStart(),g.point(t,e),d=!1)),c=t,l=e,h=i}return e}}function be(t,e){var n=e[0],r=e[1],i=[N(n),-F(n),0],o=0,a=0;Ee.reset();for(var s=0,u=t.length;s<u;++s)if(l=(c=t[s]).length)for(var c,l,f=c[l-1],h=f[0],p=f[1]/2+O,d=N(p),g=F(p),v=0;v<l;++v,h=w,d=S,g=M,f=b){var y,m,x,b=c[v],w=b[0],_=b[1]/2+O,S=N(_),M=F(_),E=w-h,C=0<=E?1:-1,P=C*E,k=T<P,A=d*S;Ee.add(B(A*C*N(P),g*M+A*F(P))),o+=k?E+C*j:E,k^n<=h^n<=w&&(et(y=$(Q(f),Q(b))),et(m=$(i,y)),((x=(k^0<=E?-1:1)*G(m[2]))<r||r===x&&(y[0]||y[1]))&&(a+=k^0<=E?1:-1))}return(o<-I||o<I&&Ee<-I)^1&a}var we,_e,Se,Me=function(){var e,n,r,i=0,o=0,a=960,s=500;return r={stream:function(t){return e&&n===t?e:e=xe(i,o,a,s)(n=t)},extent:function(t){return arguments.length?(i=+t[0][0],o=+t[0][1],a=+t[1][0],s=+t[1][1],e=n=null,r):[[i,o],[a,s]]}}},Ee=r(),Ce=r(),Pe={sphere:p,point:p,lineStart:function(){Pe.point=Ae,Pe.lineEnd=ke},lineEnd:p,polygonStart:p,polygonEnd:p};function ke(){Pe.point=Pe.lineEnd=p}function Ae(t,e){we=t*=L,_e=N(e*=L),Se=F(e),Pe.point=Te}function Te(t,e){t*=L;var n=N(e*=L),r=F(e),i=D(t-we),o=F(i),a=r*N(i),s=Se*n-_e*r*o,u=_e*n+Se*r*o;Ce.add(B(z(a*a+s*s),u)),we=t,_e=n,Se=r}var Oe=function(t){return Ce.reset(),k(t,Pe),+Ce},Ie=[null,null],je={type:"LineString",coordinates:Ie},Re=function(t,e){return Ie[0]=t,Ie[1]=e,Oe(je)},Le={Feature:function(t,e){return Be(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Be(n[r].geometry,e))return!0;return!1}},De={Sphere:function(){return!0},Point:function(t,e){return Fe(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Fe(n[r],e))return!0;return!1},LineString:function(t,e){return Ne(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ne(n[r],e))return!0;return!1},Polygon:function(t,e){return ze(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(ze(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Be(n[r],e))return!0;return!1}};function Be(t,e){return!(!t||!De.hasOwnProperty(t.type))&&De[t.type](t,e)}function Fe(t,e){return 0===Re(t,e)}function Ne(t,e){var n=Re(t[0],t[1]);return Re(t[0],e)+Re(e,t[1])<=n+I}function ze(t,e){return!!be(t.map(Ge),Ve(e))}function Ge(t){return(t=t.map(Ve)).pop(),t}function Ve(t){return[t[0]*L,t[1]*L]}var Ye=function(t,e){return(t&&Le.hasOwnProperty(t.type)?Le[t.type]:Be)(t,e)};function He(t,e,n){var r=Object(ve.range)(t,e-I,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function qe(t,e,n){var r=Object(ve.range)(t,e-I,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function We(){var e,n,r,i,o,a,s,u,c,l,f,h,p=10,d=p,g=90,v=360,y=2.5;function m(){return{type:"MultiLineString",coordinates:t()}}function t(){return Object(ve.range)(x(i/g)*g,r,g).map(f).concat(Object(ve.range)(x(u/v)*v,s,v).map(h)).concat(Object(ve.range)(x(n/p)*p,e,p).filter(function(t){return D(t%g)>I}).map(c)).concat(Object(ve.range)(x(a/d)*d,o,d).filter(function(t){return D(t%v)>I}).map(l))}return m.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},m.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(s).slice(1),f(r).reverse().slice(1),h(u).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],u=+t[0][1],s=+t[1][1],r<i&&(t=i,i=r,r=t),s<u&&(t=u,u=s,s=t),m.precision(y)):[[i,u],[r,s]]},m.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],e<n&&(t=n,n=e,e=t),o<a&&(t=a,a=o,o=t),m.precision(y)):[[n,a],[e,o]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(g=+t[0],v=+t[1],m):[g,v]},m.stepMinor=function(t){return arguments.length?(p=+t[0],d=+t[1],m):[p,d]},m.precision=function(t){return arguments.length?(y=+t,c=He(a,o,90),l=qe(n,e,y),f=He(u,s,90),h=qe(i,r,y),m):y},m.extentMajor([[-180,-90+I],[180,90-I]]).extentMinor([[-180,-80-I],[180,80+I]])}function Xe(){return We()()}var Ue,Ze,Qe,Je,$e=function(t,e){var n=t[0]*L,r=t[1]*L,i=e[0]*L,o=e[1]*L,a=F(r),s=N(r),u=F(o),c=N(o),l=a*F(n),f=a*N(n),h=u*F(i),p=u*N(i),d=2*G(z(m(o-r)+a*u*m(i-n))),g=N(d),v=d?function(t){var e=N(t*=d)/g,n=N(d-t)/g,r=n*l+e*h,i=n*f+e*p,o=n*s+e*c;return[B(i,r)*R,B(o,z(r*r+i*i))*R]}:function(){return[n*R,r*R]};return v.distance=d,v},Ke=function(t){return t},tn=r(),en=r(),nn={point:p,lineStart:p,lineEnd:p,polygonStart:function(){nn.lineStart=rn,nn.lineEnd=sn},polygonEnd:function(){nn.lineStart=nn.lineEnd=nn.point=p,tn.add(D(en)),en.reset()},result:function(){var t=tn/2;return tn.reset(),t}};function rn(){nn.point=on}function on(t,e){nn.point=an,Ue=Qe=t,Ze=Je=e}function an(t,e){en.add(Je*t-Qe*e),Qe=t,Je=e}function sn(){an(Ue,Ze)}var un=nn,cn=1/0,ln=cn,fn=-cn,hn=fn;var pn,dn,gn,vn,yn={point:function(t,e){t<cn&&(cn=t);fn<t&&(fn=t);e<ln&&(ln=e);hn<e&&(hn=e)},lineStart:p,lineEnd:p,polygonStart:p,polygonEnd:p,result:function(){var t=[[cn,ln],[fn,hn]];return fn=hn=-(ln=cn=1/0),t}},mn=0,xn=0,bn=0,wn=0,_n=0,Sn=0,Mn=0,En=0,Cn=0,Pn={point:kn,lineStart:An,lineEnd:In,polygonStart:function(){Pn.lineStart=jn,Pn.lineEnd=Rn},polygonEnd:function(){Pn.point=kn,Pn.lineStart=An,Pn.lineEnd=In},result:function(){var t=Cn?[Mn/Cn,En/Cn]:Sn?[wn/Sn,_n/Sn]:bn?[mn/bn,xn/bn]:[NaN,NaN];return mn=xn=bn=wn=_n=Sn=Mn=En=Cn=0,t}};function kn(t,e){mn+=t,xn+=e,++bn}function An(){Pn.point=Tn}function Tn(t,e){Pn.point=On,kn(gn=t,vn=e)}function On(t,e){var n=t-gn,r=e-vn,i=z(n*n+r*r);wn+=i*(gn+t)/2,_n+=i*(vn+e)/2,Sn+=i,kn(gn=t,vn=e)}function In(){Pn.point=kn}function jn(){Pn.point=Ln}function Rn(){Dn(pn,dn)}function Ln(t,e){Pn.point=Dn,kn(pn=gn=t,dn=vn=e)}function Dn(t,e){var n=t-gn,r=e-vn,i=z(n*n+r*r);wn+=i*(gn+t)/2,_n+=i*(vn+e)/2,Sn+=i,Mn+=(i=vn*t-gn*e)*(gn+t),En+=i*(vn+e),Cn+=3*i,kn(gn=t,vn=e)}var Bn=Pn;function Fn(t){this._context=t}Fn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,j)}},result:p};var Nn,zn,Gn,Vn,Yn,Hn=r(),qn={point:p,lineStart:function(){qn.point=Wn},lineEnd:function(){Nn&&Xn(zn,Gn),qn.point=p},polygonStart:function(){Nn=!0},polygonEnd:function(){Nn=null},result:function(){var t=+Hn;return Hn.reset(),t}};function Wn(t,e){qn.point=Xn,zn=Vn=t,Gn=Yn=e}function Xn(t,e){Vn-=t,Yn-=e,Hn.add(z(Vn*Vn+Yn*Yn)),Vn=t,Yn=e}var Un=qn;function Zn(){this._string=[]}function Qn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Zn.prototype={_radius:4.5,_circle:Qn(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Qn(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};function Jn(m,x,b,w){return function(r,s){var u,c,l,i=x(s),e=r.invert(w[0],w[1]),f=fe(),h=x(f),p=!1,n={point:o,lineStart:a,lineEnd:d,polygonStart:function(){n.point=g,n.lineStart=v,n.lineEnd=y,c=[],u=[]},polygonEnd:function(){n.point=o,n.lineStart=a,n.lineEnd=d,c=Object(ve.merge)(c);var t=be(u,e);c.length?(p||(s.polygonStart(),p=!0),de(c,tr,t,b,s)):t&&(p||(s.polygonStart(),p=!0),s.lineStart(),b(null,null,1,s),s.lineEnd()),p&&(s.polygonEnd(),p=!1),c=u=null},sphere:function(){s.polygonStart(),s.lineStart(),b(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function o(t,e){var n=r(t,e);m(t=n[0],e=n[1])&&s.point(t,e)}function t(t,e){var n=r(t,e);i.point(n[0],n[1])}function a(){n.point=t,i.lineStart()}function d(){n.point=o,i.lineEnd()}function g(t,e){l.push([t,e]);var n=r(t,e);h.point(n[0],n[1])}function v(){h.lineStart(),l=[]}function y(){g(l[0][0],l[0][1]),h.lineEnd();var t,e,n,r,i=h.clean(),o=f.result(),a=o.length;if(l.pop(),u.push(l),l=null,a)if(1&i){if(0<(e=(n=o[0]).length-1)){for(p||(s.polygonStart(),p=!0),s.lineStart(),t=0;t<e;++t)s.point((r=n[t])[0],r[1]);s.lineEnd()}}else 1<a&&2&i&&o.push(o.pop().concat(o.shift())),c.push(o.filter(Kn))}return n}}var $n=function(e,n){var r,i,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),k(t,r(i))),i.result()}return a.area=function(t){return k(t,r(un)),un.result()},a.measure=function(t){return k(t,r(Un)),Un.result()},a.bounds=function(t){return k(t,r(yn)),yn.result()},a.centroid=function(t){return k(t,r(Bn)),Bn.result()},a.projection=function(t){return arguments.length?(r=null==t?(e=null,Ke):(e=t).stream,a):e},a.context=function(t){return arguments.length?(i=null==t?(n=null,new Zn):new Fn(n=t),"function"!=typeof o&&i.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.projection(e).context(n)};function Kn(t){return 1<t.length}function tr(t,e){return((t=t.x)[0]<0?t[1]-v-I:v-t[1])-((e=e.x)[0]<0?e[1]-v-I:v-e[1])}var er=Jn(function(){return 1},function(f){var h,p=NaN,d=NaN,g=NaN;return{lineStart:function(){f.lineStart(),h=1},point:function(t,e){var n,r,i,o,a,s,u,c=0<t?T:-T,l=D(t-p);D(l-T)<I?(f.point(p,d=0<(d+e)/2?v:-v),f.point(g,d),f.lineEnd(),f.lineStart(),f.point(c,d),f.point(t,d),h=0):g!==c&&T<=l&&(D(p-g)<I&&(p-=g*I),D(t-c)<I&&(t-=c*I),r=d,o=e,u=N((n=p)-(i=t)),d=D(u)>I?y((N(r)*(s=F(o))*N(i)-N(o)*(a=F(r))*N(n))/(a*s*u)):(r+o)/2,f.point(g,d),f.lineEnd(),f.lineStart(),f.point(c,d),h=0),f.point(p=t,d=e),g=c},lineEnd:function(){f.lineEnd(),p=d=NaN},clean:function(){return 2-h}}},function(t,e,n,r){var i;{var o;null==t?(i=n*v,r.point(-T,i),r.point(0,i),r.point(T,i),r.point(T,0),r.point(T,-i),r.point(0,-i),r.point(-T,-i),r.point(-T,0),r.point(-T,i)):D(t[0]-e[0])>I?(o=t[0]<e[0]?T:-T,i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)):r.point(e[0],e[1])}},[-T,-v]);var nr=function(i,o){var C=F(i),p=0<C,d=D(C)>I;function g(t,e){return F(t)*F(e)>C}function v(t,e,n){var r=[1,0,0],i=$(Q(t),Q(e)),o=J(i,i),a=i[0],s=o-a*a;if(!s)return!n&&t;var u=C*o/s,c=-C*a/s,l=$(r,i),f=tt(r,u);K(f,tt(i,c));var h=l,p=J(f,h),d=J(h,h),g=p*p-d*(J(f,f)-1);if(!(g<0)){var v=z(g),y=tt(h,(-p-v)/d);if(K(y,f),y=Z(y),!n)return y;var m,x=t[0],b=e[0],w=t[1],_=e[1];b<x&&(m=x,x=b,b=m);var S=b-x,M=D(S-T)<I;if(!M&&_<w&&(m=w,w=_,_=m),M||S<I?M?0<w+_^y[1]<(D(y[0]-x)<I?w:_):w<=y[1]&&y[1]<=_:T<S^(x<=y[0]&&y[0]<=b)){var E=tt(h,(-p+v)/d);return K(E,f),[y,Z(E)]}}}function y(t,e){var n=p?i:T-i,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}return Jn(g,function(s){var u,c,l,f,h;return{lineStart:function(){f=l=!1,h=1},point:function(t,e){var n,r,i=[t,e],o=g(t,e),a=p?o?0:y(t,e):o?y(t+(t<0?T:-T),e):0;!u&&(f=l=o)&&s.lineStart(),o!==l&&((n=v(u,i))&&!ce(u,n)&&!ce(i,n)||(i[0]+=I,i[1]+=I,o=g(i[0],i[1]))),o!==l?(h=0,o?(s.lineStart(),n=v(i,u),s.point(n[0],n[1])):(n=v(u,i),s.point(n[0],n[1]),s.lineEnd()),u=n):d&&u&&p^o&&(a&c||!(r=v(i,u,!0))||(h=0,p?(s.lineStart(),s.point(r[0][0],r[0][1]),s.point(r[1][0],r[1][1]),s.lineEnd()):(s.point(r[1][0],r[1][1]),s.lineEnd(),s.lineStart(),s.point(r[0][0],r[0][1])))),!o||u&&ce(u,i)||s.point(i[0],i[1]),u=i,l=o,c=a},lineEnd:function(){l&&s.lineEnd(),u=null},clean:function(){return h|(f&&l)<<1}}},function(t,e,n,r){se(r,i,o,n,t,e)},p?[0,-i]:[-T,i-T])},rr=function(t){return{stream:ir(t)}};function ir(r){return function(t){var e=new or;for(var n in r)e[n]=r[n];return e.stream=t,e}}function or(){}function ar(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),k(n,t.stream(yn));var a=yn.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),u=+e[0][0]+(r-s*(a[1][0]+a[0][0]))/2,c=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*s).translate([u,c])}function sr(t,e,n){return ar(t,[[0,0],e],n)}or.prototype={constructor:or,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ur=F(30*L),cr=function(t,e){return+e?(A=t,T=e,function(i){var n,r,o,a,s,u,c,l,f,h,p,d,g={point:t,lineStart:e,lineEnd:y,polygonStart:function(){i.polygonStart(),g.lineStart=m},polygonEnd:function(){i.polygonEnd(),g.lineStart=e}};function t(t,e){t=A(t,e),i.point(t[0],t[1])}function e(){l=NaN,g.point=v,i.lineStart()}function v(t,e){var n=Q([t,e]),r=A(t,e);O(l,f,c,h,p,d,l=r[0],f=r[1],c=t,h=n[0],p=n[1],d=n[2],16,i),i.point(l,f)}function y(){g.point=t,i.lineEnd()}function m(){e(),g.point=x,g.lineEnd=b}function x(t,e){v(n=t,e),r=l,o=f,a=h,s=p,u=d,g.point=v}function b(){O(l,f,c,h,p,d,r,o,n,a,s,u,16,i),g.lineEnd=y,y()}return g}):(n=t,ir({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}));var n,A,T;function O(t,e,n,r,i,o,a,s,u,c,l,f,h,p){var d,g,v,y,m,x,b,w,_,S,M,E,C=a-t,P=s-e,k=C*C+P*P;4*T<k&&h--&&(v=o+f,m=G(v/=y=z((d=r+c)*d+(g=i+l)*g+v*v)),x=D(D(v)-1)<I||D(n-u)<I?(n+u)/2:B(g,d),w=(b=A(x,m))[0],_=b[1],(T<(E=P*(S=w-t)-C*(M=_-e))*E/k||.3<D((C*S+P*M)/k-.5)||r*c+i*l+o*f<ur)&&(O(t,e,n,r,i,o,w,_,x,d/=y,g/=y,v,h,p),p.point(w,_),O(w,_,x,d,g,v,a,s,u,c,l,f,h,p)))}};var lr=ir({point:function(t,e){this.stream.point(t*L,e*L)}});function fr(t){return hr(function(){return t})()}function hr(t){var n,r,i,e,o,a,s,u,c,l,f=150,h=480,p=250,d=0,g=0,v=0,y=0,m=0,x=null,b=er,w=null,_=Ke,S=.5,M=cr(P,S);function E(t){return[(t=o(t[0]*L,t[1]*L))[0]*f+r,i-t[1]*f]}function C(t){return(t=o.invert((t[0]-r)/f,(i-t[1])/f))&&[t[0]*R,t[1]*R]}function P(t,e){return[(t=n(t,e))[0]*f+r,i-t[1]*f]}function k(){o=te(e=ne(v,y,m),n);var t=n(d,g);return r=h-t[0]*f,i=p+t[1]*f,A()}function A(){return c=l=null,E}return E.stream=function(t){return c&&l===t?c:c=lr(b(e,M(_(l=t))))},E.clipAngle=function(t){return arguments.length?(b=+t?nr(x=t*L,6*L):(x=null,er),A()):x*R},E.clipExtent=function(t){return arguments.length?(_=null==t?(w=a=s=u=null,Ke):xe(w=+t[0][0],a=+t[0][1],s=+t[1][0],u=+t[1][1]),A()):null==w?null:[[w,a],[s,u]]},E.scale=function(t){return arguments.length?(f=+t,k()):f},E.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],k()):[h,p]},E.center=function(t){return arguments.length?(d=t[0]%360*L,g=t[1]%360*L,k()):[d*R,g*R]},E.rotate=function(t){return arguments.length?(v=t[0]%360*L,y=t[1]%360*L,m=2<t.length?t[2]%360*L:0,k()):[v*R,y*R,m*R]},E.precision=function(t){return arguments.length?(M=cr(P,S=t*t),A()):z(S)},E.fitExtent=function(t,e){return ar(E,t,e)},E.fitSize=function(t,e){return sr(E,t,e)},function(){return n=t.apply(this,arguments),E.invert=n.invert&&C,k()}}function pr(t){var e=0,n=T/3,r=hr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*L,n=t[1]*L):[e*R,n*R]},i}function dr(t,e){var n,r=N(t),i=(r+N(e))/2;if(D(i)<I)return n=F(t),o.invert=function(t,e){return[t/n,G(e*n)]},o;function o(t,e){return[t*n,N(e)/n]}var a=1+r*(2*i-r),s=z(a)/i;function u(t,e){var n=z(a-2*i*N(e))/i;return[n*N(t*=i),s-n*F(t)]}return u.invert=function(t,e){var n=s-e;return[B(t,D(n))/i*l(n),G((a-(t*t+n*n)*i*i)/(2*i))]},u}var gr=function(){return pr(dr).scale(155.424).center([0,33.6442])},vr=function(){return gr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var yr=function(){var e,n,i,o,a,r,s=vr(),u=gr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=gr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){r=[t,e]}};function f(t){var e=t[0],n=t[1];return r=null,i.point(e,n),r||(o.point(e,n),r)||(a.point(e,n),r)}function h(){return e=n=null,f}return f.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?u:.166<=i&&i<.234&&-.214<=r&&r<-.115?c:s).invert(t)},f.stream=function(t){return e&&n===t?e:(r=[s.stream(n=t),u.stream(t),c.stream(t)],i=r.length,e={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},f.precision=function(t){return arguments.length?(s.precision(t),u.precision(t),c.precision(t),h()):s.precision()},f.scale=function(t){return arguments.length?(s.scale(t),u.scale(.35*t),c.scale(t),f.translate(s.translate())):s.scale()},f.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],r=+t[1];return i=s.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(l),o=u.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+I,r+.12*e+I],[n-.214*e-I,r+.234*e-I]]).stream(l),a=c.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+I,r+.166*e+I],[n-.115*e-I,r+.234*e-I]]).stream(l),h()},f.fitExtent=function(t,e){return ar(f,t,e)},f.fitSize=function(t,e){return sr(f,t,e)},f.scale(1070)};function mr(o){return function(t,e){var n=F(t),r=F(e),i=o(n*r);return[i*r*N(t),i*N(e)]}}function xr(a){return function(t,e){var n=z(t*t+e*e),r=a(n),i=N(r),o=F(r);return[B(t*i,n*o),G(n&&e*i/n)]}}var br=mr(function(t){return z(2/(1+t))});br.invert=xr(function(t){return 2*G(t/2)});var wr=function(){return fr(br).scale(124.75).clipAngle(179.999)},_r=mr(function(t){return(t=h(t))&&t/N(t)});_r.invert=xr(function(t){return t});var Sr=function(){return fr(_r).scale(79.4188).clipAngle(179.999)};function Mr(t,e){return[t,u(f((v+e)/2))]}Mr.invert=function(t,e){return[t,2*y(s(e))-v]};var Er=function(){return Cr(Mr).scale(961/j)};function Cr(n){var r,i,o,a=fr(n),e=a.center,s=a.scale,u=a.translate,c=a.clipExtent,l=null;function f(){var t=T*s(),e=a(ae(a.rotate()).invert([0,0]));return c(null==l?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:n===Mr?[[Math.max(e[0]-t,l),r],[Math.min(e[0]+t,i),o]]:[[l,Math.max(e[1]-t,r)],[i,Math.min(e[1]+t,o)]])}return a.scale=function(t){return arguments.length?(s(t),f()):s()},a.translate=function(t){return arguments.length?(u(t),f()):u()},a.center=function(t){return arguments.length?(e(t),f()):e()},a.clipExtent=function(t){return arguments.length?(null==t?l=r=i=o=null:(l=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),f()):null==l?null:[[l,r],[i,o]]},f()}function Pr(t){return f((v+t)/2)}function kr(t,e){var n=F(t),i=t===e?N(t):u(n/F(e))/u(Pr(e)/Pr(t)),o=n*c(Pr(t),i)/i;if(!i)return Mr;function r(t,e){0<o?e<-v+I&&(e=-v+I):v-I<e&&(e=v-I);var n=o/c(Pr(e),i);return[n*N(i*t),o-n*F(i*t)]}return r.invert=function(t,e){var n=o-e,r=l(i)*z(t*t+n*n);return[B(t,D(n))/i*l(n),2*y(c(o/r,1/i))-v]},r}var Ar=function(){return pr(kr).scale(109.5).parallels([30,30])};function Tr(t,e){return[t,e]}Tr.invert=Tr;var Or=function(){return fr(Tr).scale(152.63)};function Ir(t,e){var n=F(t),i=t===e?N(t):(n-F(e))/(e-t),o=n/i+t;if(D(i)<I)return Tr;function r(t,e){var n=o-e,r=i*t;return[n*N(r),o-n*F(r)]}return r.invert=function(t,e){var n=o-e;return[B(t,D(n))/i*l(n),o-l(i)*z(t*t+n*n)]},r}var jr=function(){return pr(Ir).scale(131.154).center([0,13.9389])};function Rr(t,e){var n=F(e),r=F(t)*n;return[n*N(t)/r,N(e)/r]}Rr.invert=xr(y);var Lr=function(){return fr(Rr).scale(144.049).clipAngle(60)};function Dr(n,r,i,o){return 1===n&&1===r&&0===i&&0===o?Ke:ir({point:function(t,e){this.stream.point(t*n+i,e*r+o)}})}var Br=function(){var e,n,r,i,o,a,s=1,u=0,c=0,l=1,f=1,h=Ke,p=null,d=Ke;function g(){return i=o=null,a}return a={stream:function(t){return i&&o===t?i:i=h(d(o=t))},clipExtent:function(t){return arguments.length?(d=null==t?(p=e=n=r=null,Ke):xe(p=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),g()):null==p?null:[[p,e],[n,r]]},scale:function(t){return arguments.length?(h=Dr((s=+t)*l,s*f,u,c),g()):s},translate:function(t){return arguments.length?(h=Dr(s*l,s*f,u=+t[0],c=+t[1]),g()):[u,c]},reflectX:function(t){return arguments.length?(h=Dr(s*(l=t?-1:1),s*f,u,c),g()):l<0},reflectY:function(t){return arguments.length?(h=Dr(s*l,s*(f=t?-1:1),u,c),g()):f<0},fitExtent:function(t,e){return ar(a,t,e)},fitSize:function(t,e){return sr(a,t,e)}}};function Fr(t,e){return[F(e)*N(t),N(e)]}Fr.invert=xr(G);var Nr=function(){return fr(Fr).scale(249.5).clipAngle(90+I)};function zr(t,e){var n=F(e),r=1+F(t)*n;return[n*N(t)/r,N(e)/r]}zr.invert=xr(function(t){return 2*y(t)});var Gr=function(){return fr(zr).scale(250).clipAngle(142)};function Vr(t,e){return[u(f((v+e)/2)),-t]}Vr.invert=function(t,e){return[-e,2*y(s(t))-v]};var Yr=function(){var t=Cr(Vr),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}},function(t,e,n){var r=n(766),i=n(558),o=r.mix({},r,{assign:r.mix,merge:r.deepMix,cloneDeep:r.clone,isFinite:isFinite,isNaN:isNaN,snapEqual:r.isNumberEqual,remove:r.pull,inArray:r.contains,toAllPadding:function(t){var e=0,n=0,r=0,i=0;return o.isNumber(t)||o.isString(t)?e=n=r=i=t:o.isArray(t)?(e=t[0],r=o.isNil(t[1])?t[0]:t[1],i=o.isNil(t[2])?t[0]:t[2],n=o.isNil(t[3])?r:t[3]):o.isObject(t)&&(e=t.top||0,r=t.right||0,i=t.bottom||0,n=t.left||0),[e,r,i,n]},getClipByRange:function(t){var e=t.tl,n=t.br;return new i.Rect({attrs:{x:e.x,y:e.y,width:n.x-e.x,height:n.y-e.y}})}});o.Array={groupToMap:r.groupToMap,group:r.group,merge:r.merge,values:r.valuesOfKey,getRange:r.getRange,firstValue:r.firstValue,remove:r.pull},t.exports=o},function(t,e,n){var r,i,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=n(534),s=n(680),u=n(679),c=n(1143),l=n(589),f=n(597),h=n(682),p=(o(d,i=l),d.prototype._getUniqueViewName=function(){for(var t=c("view_");this.views[t];)t=c("view_");return t},d.prototype.createView=function(t,e){void 0===e&&(e={});var n=this;if(s(t)&&(t=n._getUniqueViewName()),u(t)&&(e=t,t=n._getUniqueViewName()),n.views[t])throw new Error("data view exists: "+t);var r=new f(n,e);return n.views[t]=r},d.prototype.getView=function(t){return this.views[t]},d.prototype.setView=function(t,e){this.views[t]=e},d.prototype.setState=function(t,e){var n=this;n.state[t]=e,n._onChangeTimer&&(clearTimeout(n._onChangeTimer),n._onChangeTimer=null),n._onChangeTimer=setTimeout(function(){n.emit("statechange",t,e)},16)},d);function d(t){void 0===t&&(t={state:{}});var e=i.call(this)||this;return a(e,{_onChangeTimer:null,DataSet:d,isDataSet:!0,views:{}},t),e}a(p,{CONSTANTS:h,DataSet:p,DataView:f,View:f,connectors:{},transforms:{},registerConnector:function(t,e){p.connectors[t]=e},getConnector:function(t){return p.connectors[t]||p.connectors.default},registerTransform:function(t,e){p.transforms[t]=e},getTransform:function(t){return p.transforms[t]||p.transforms.default}},h),f.DataSet=p,a(p.prototype,{view:p.prototype.createView}),p.version="____DATASET_VERSION____",t.exports=p},,function(t,e,n){var r=n(728),o={};r.merge(o,r,{mixin:function(n,t){var r,i=n.CFG?"CFG":"ATTRS";n&&t&&(n._mixins=t,n[i]=n[i]||{},r={},o.each(t,function(t){o.augment(n,t);var e=t[i];e&&o.merge(r,e)}),n[i]=o.merge(r,n[i]))}}),t.exports=o},function(t,e){function i(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}t.exports=function(t,e,n,r){return e&&i(t,e),n&&i(t,n),r&&i(t,r),t}},function(t,e,n){var o=n(587),a=n(540);t.exports=function(t,e){if(t){if(a(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(o(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break}}},function(t,e,n){var r=n(578),i=n(766),o=i.mix({assign:i.mix,isFinite:isFinite,isNaN:isNaN,Group:r.Group,Event:r.Event},i);t.exports=o},function(t,e,n){var r=n(599),i=Array.isArray?Array.isArray:function(t){return r(t,"Array")};t.exports=i},function(t,e,n){var i=n(537),o=n(543),a="Invalid field: it must be a string!",s="Invalid fields: it must be an array!";t.exports={getField:function(t,e){var n=t.field,r=t.fields;if(o(n))return n;if(i(n))return console.warn(a),n[0];if(console.warn(a+" will try to get fields instead."),o(r))return r;if(i(r)&&r.length)return r[0];if(e)return e;throw new TypeError(a)},getFields:function(t,e){var n=t.field,r=t.fields;if(i(r))return r;if(o(r))return console.warn(s),[r];if(console.warn(s+" will try to get field instead."),o(n))return console.warn(s),[n];if(i(n)&&n.length)return console.warn(s),n;if(e)return e;throw new TypeError(s)}}},function(t,e,n){var r;try{r={cloneDeep:n(1258),constant:n(912),defaults:n(1259),each:n(831),filter:n(834),find:n(1260),flatten:n(855),forEach:n(832),forIn:n(1264),has:n(706),isUndefined:n(843),last:n(1265),map:n(844),mapValues:n(1266),max:n(1267),merge:n(903),min:n(1269),minBy:n(1270),now:n(341),pick:n(1271),range:n(1275),reduce:n(846),sortBy:n(1278),uniqueId:n(1283),values:n(848),zipObject:n(1284)}}catch(t){}r=r||window._,t.exports=r},function(t,e,n){var r=n(557),i=Array.isArray?Array.isArray:function(t){return r(t,"Array")};t.exports=i},function(t,e,n){var o=n(679),a=n(537);t.exports=function(t,e){if(t){if(a(t))for(var n=0,r=t.length;n<r&&!1!==e(t[n],n);n++);else if(o(t))for(var i in t)if(t.hasOwnProperty(i)&&!1===e(t[i],i))break}}},function(t,e,n){var r=n(530),i=n(789),o={version:"3.5.15",renderer:"canvas",trackingInfo:{},animate:!0,widthRatio:{column:.5,rose:.9999999,multiplePie:1/1.3},showSinglePoint:!1,connectNulls:!1,scales:{},registerTheme:function(t,e){i[t]=e},setTheme:function(t){var e={},e=r.isObject(t)?t:-1!==r.indexOf(Object.keys(i),t)?i[t]:i.default;r.deepMix(o,e)}};o.setTheme("default"),t.exports=o},function(t,e,n){var r=n(599);t.exports=function(t){return r(t,"String")}},,function(t,e){t.exports=function(t){return null==t}},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var a=n(533),i=n(937),o=n(749),s=n(661);r.ATTRS={},a.extend(r,o);var u={matrix:"matrix",path:"path",points:"points",lineDash:"lineDash"};a.augment(r,i,{isShape:!0,drawInner:function(t){var e=this,n=e._attrs;e.createPath(t);var r,i,o=t.globalAlpha;e.hasFill()&&(r=n.fillOpacity,a.isNil(r)||1===r?t.fill():(t.globalAlpha=r,t.fill(),t.globalAlpha=o)),e.hasStroke()&&0<e._attrs.lineWidth&&(i=n.strokeOpacity,a.isNil(i)||1===i||(t.globalAlpha=i),t.stroke()),e.afterPath(t)},afterPath:function(){},isHitBox:function(){return!0},isHit:function(t,e){var n=this,r=[t,e,1];if(n.invert(r),n.isHitBox()){var i=n.getBBox();if(i&&!s.box(i.minX,i.maxX,i.minY,i.maxY,r[0],r[1]))return!1}var o=n._attrs.clip;return o?(o.invert(r,n.get("canvas")),!!o.isPointInPath(r[0],r[1])&&n.isPointInPath(r[0],r[1])):n.isPointInPath(r[0],r[1])},calculateBox:function(){return null},getHitLineWidth:function(){var t=this._attrs,e=t.lineAppendWidth||0;return(t.lineWidth||0)+e},clearTotalMatrix:function(){this._cfg.totalMatrix=null,this._cfg.region=null},clearBBox:function(){this._cfg.box=null,this._cfg.region=null},getBBox:function(){var t=this._cfg.box;return t||((t=this.calculateBox())&&(t.x=t.minX,t.y=t.minY,t.width=t.maxX-t.minX,t.height=t.maxY-t.minY),this._cfg.box=t),t},clone:function(){var t=null,n=this._attrs,r={};return a.each(n,function(t,e){u[e]&&a.isArray(n[e])?r[e]=function(t){for(var e=[],n=0;n<t.length;n++)a.isArray(t[n])?e.push([].concat(t[n])):e.push(t[n]);return e}(n[e]):r[e]=n[e]}),t=new this.constructor({attrs:r}),t._cfg.zIndex=this._cfg.zIndex,t}}),t.exports=r},function(t,e,n){var r=n(599);t.exports=function(t){return r(t,"Function")}},,function(t,e,n){"use strict";var s=n(539),o=n(560).Graph;function a(t,e,n,r){for(var i;i=s.uniqueId(r),t.hasNode(i););return n.dummy=e,t.setNode(i,n),i}function u(n){return s.max(s.map(n.nodes(),function(t){var e=n.node(t).rank;if(!s.isUndefined(e))return e}))}t.exports={addDummyNode:a,simplify:function(r){var i=(new o).setGraph(r.graph());return s.forEach(r.nodes(),function(t){i.setNode(t,r.node(t))}),s.forEach(r.edges(),function(t){var e=i.edge(t.v,t.w)||{weight:0,minlen:1},n=r.edge(t);i.setEdge(t.v,t.w,{weight:e.weight+n.weight,minlen:Math.max(e.minlen,n.minlen)})}),i},asNonCompoundGraph:function(e){var n=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return s.forEach(e.nodes(),function(t){e.children(t).length||n.setNode(t,e.node(t))}),s.forEach(e.edges(),function(t){n.setEdge(t,e.edge(t))}),n},successorWeights:function(n){var t=s.map(n.nodes(),function(t){var e={};return s.forEach(n.outEdges(t),function(t){e[t.w]=(e[t.w]||0)+n.edge(t).weight}),e});return s.zipObject(n.nodes(),t)},predecessorWeights:function(n){var t=s.map(n.nodes(),function(t){var e={};return s.forEach(n.inEdges(t),function(t){e[t.v]=(e[t.v]||0)+n.edge(t).weight}),e});return s.zipObject(n.nodes(),t)},intersectRect:function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,u=t.width/2,c=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");r=Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,c):(a<0&&(u=-u),(n=u)*s/a);return{x:i+n,y:o+r}},buildLayerMatrix:function(r){var i=s.map(s.range(u(r)+1),function(){return[]});return s.forEach(r.nodes(),function(t){var e=r.node(t),n=e.rank;s.isUndefined(n)||(i[n][e.order]=t)}),i},normalizeRanks:function(n){var r=s.min(s.map(n.nodes(),function(t){return n.node(t).rank}));s.forEach(n.nodes(),function(t){var e=n.node(t);s.has(e,"rank")&&(e.rank-=r)})},removeEmptyRanks:function(n){var r=s.min(s.map(n.nodes(),function(t){return n.node(t).rank})),i=[];s.forEach(n.nodes(),function(t){var e=n.node(t).rank-r;i[e]||(i[e]=[]),i[e].push(t)});var o=0,a=n.graph().nodeRankFactor;s.forEach(i,function(t,e){s.isUndefined(t)&&e%a!=0?--o:o&&s.forEach(t,function(t){n.node(t).rank+=o})})},addBorderNode:function(t,e,n,r){var i={width:0,height:0};4<=arguments.length&&(i.rank=n,i.order=r);return a(t,"border",i,e)},maxRank:u,partition:function(t,e){var n={lhs:[],rhs:[]};return s.forEach(t,function(t){e(t)?n.lhs.push(t):n.rhs.push(t)}),n},time:function(t,e){var n=s.now();try{return e()}finally{console.log(t+" time: "+(s.now()-n)+"ms")}},notime:function(t,e){return e()}}},function(t,e){function i(t,e){for(var n in e)e.hasOwnProperty(n)&&"constructor"!==n&&void 0!==e[n]&&(t[n]=e[n])}t.exports=function(t,e,n,r){return e&&i(t,e),n&&i(t,n),r&&i(t,r),t}},function(t,e,n){var r=n(557);t.exports=function(t){return r(t,"Number")}},function(t,e,n){var y=n(667),p=n(1021),r=n(786),m=n(530),x=n(542),l=n(1029),o=n(553),a=n(1061),s=n(1062),u=n(1063),b=n(1064),c=["color","shape","size"],h="_origin";function f(n){return(m.isString(n)||m.isPlainObject(n))&&(n=[n]),m.each(n,function(t,e){m.isObject(t)||(n[e]={type:t})}),n}var i=function(n){var t,e;e=n,(t=i).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var r=i.prototype;function i(t){var e=n.call(this,t)||this;return e.viewTheme=e.get("viewTheme"),m.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e),a,s,u),e.get("container")&&e._initContainer(),e._initOptions(),e}return r.getDefaultCfg=function(){return{_id:null,type:"base",coord:null,attrs:{},view:null,data:[],scales:{},container:null,labelContainer:null,shapeContainer:null,attrOptions:{},styleOptions:null,selectedOptions:null,activedOptions:null,hasDefaultAdjust:!1,adjusts:null,shapeType:null,generatePoints:!1,sortable:!1,labelCfg:null,shareTooltip:!0,tooltipCfg:null,animate:!0,animateCfg:null,visible:!0}},r._initOptions=function(){var t=this.get("adjusts");t&&(t=f(t),this.set("adjusts",t))},r._createScale=function(t,e){var n=this.get("scales"),r=n[t];return r||(r=this.get("view").createScale(t,e),n[t]=r),r},r._setAttrOptions=function(t,e){this.get("attrOptions")[t]=e},r._createAttrOption=function(t,e,n,r){var i={};i.field=e,n?m.isFunction(n)?i.callback=n:i.values=n:"color"!==t&&(i.values=r),this._setAttrOptions(t,i)},r.position=function(t){return this._setAttrOptions("position",{field:t}),this},r.color=function(t,e){var n=this.viewTheme||x;return this._createAttrOption("color",t,e,n.colors),this},r.size=function(t,e){var n=this.viewTheme||x;return this._createAttrOption("size",t,e,n.sizes),this},r.shape=function(t,e){var n=this.viewTheme||x,r=this.get("type"),i=n.shapes[r]||[];return this._createAttrOption("shape",t,e,i),this},r.opacity=function(t,e){var n=this.viewTheme||x;return this._createAttrOption("opacity",t,e,n.opacities),this},r.style=function(t,e){var n,r=this.get("styleOptions");return r||(r={},this.set("styleOptions",r)),m.isObject(t)&&(e=t,t=null),t&&(n=b(t)),r.fields=n,r.style=e,this},r.label=function(t,e,n){var r,i=this.get("labelCfg");return i||(i={},this.set("labelCfg",i)),t&&(r=b(t)),i.fields=r,m.isFunction(e)?(n=n||{},i.callback=e):m.isObject(e)&&(n=e),i.globalCfg=n,this},r.tooltip=function(t,e){var n,r=(r=this.get("tooltipCfg"))||{};return!1===t?this.set("tooltipCfg",!1):(t&&(n=b(t)),r.fields=n,r.cfg=e),this.set("tooltipCfg",r),this},r.animate=function(t){return this.set("animateCfg",t),this},r.active=function(t,e){return!1===t?this.set("allowActive",!1):m.isObject(t)?(this.set("allowActive",!0),this.set("activedOptions",t)):(this.set("allowActive",!0),this.set("activedOptions",e)),this},r.adjust=function(t){return this.get("hasDefaultAdjust")||(t=t&&f(t),this.set("adjusts",t)),this},r.select=function(t,e){return!1===t?this.set("allowSelect",!1):m.isObject(t)?(this.set("allowSelect",!0),this.set("selectedOptions",t)):(this.set("allowSelect",!0),this.set("selectedOptions",e)),this},r.hasAdjust=function(e){var t=this.get("adjusts");if(!e)return!1;var n=!1;return m.each(t,function(t){if(t.type===e)return!(n=!0)}),n},r.hasStack=function(){var t=this.get("isStacked");return m.isNil(t)&&(t=this.hasAdjust("stack"),this.set("isStacked",t)),t},r.isInCircle=function(){var t=this.get("coord");return t&&t.isPolar},r._initContainer=function(){var t,e,n,r=this,i=r.get("shapeContainer");i||(t=r.get("container"),n=(e=r.get("view"))&&e.get("_id"),i=t.addGroup({viewId:n,visible:r.get("visible")}),r.set("shapeContainer",i))},r.init=function(){var t,e=this;e._initContainer(),e._initAttrs(),e.get("tooltipCfg")&&e.get("tooltipCfg").fields&&(t=e.get("tooltipCfg").fields,m.each(t,function(t){e._createScale(t)}));var n=e._processData();e.get("adjusts")&&e._adjust(n),e.set("dataArray",n)},r._initAttrs=function(){var t=this,e=t.get("attrs"),n=t.get("attrOptions"),r=t.get("coord"),i=t.viewTheme||x,o=!1;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],u=m.upperFirst(a),c=b(s.field);"position"===a&&(s.coord=r,1===c.length&&"theta"===r.type&&(c.unshift("1"),o=!0));for(var l,f,h=[],p=0;p<c.length;p++){var d=c[p],g=t._createScale(d);"color"===a&&m.isNil(s.values)&&(g.values.length<=8?s.values=o?i.colors_pie:i.colors:g.values.length<=16?s.values=o?i.colors_pie_16:i.colors_16:s.values=i.colors_24,m.isNil(s.values)&&(s.values=i.colors)),h.push(g)}"theta"===r.type&&"position"===a&&1<h.length&&(l=h[1],f=Math.max.apply(null,l.values),isFinite(f)||(f=1),l.change({nice:!1,min:0,max:f})),s.scales=h;var v=new y[u](s);e[a]=v}},r._processData=function(){for(var t=this.get("data"),e=[],n=this._groupData(t),r=0;r<n.length;r++){var i=n[r],o=this._saveOrigin(i);e.push(this._numberic(o))}return e},r._groupData=function(t){var e=this._getGroupScales().map(function(t){return t.field});return m.Array.group(t,e)},r._saveOrigin=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i={};for(var o in r)i[o]=r[o];i[h]=r,e.push(i)}return e},r._numberic=function(t){for(var e=this.getAttr("position").scales,n=[],r=0;r<t.length;r++){for(var i=t[r],o=!0,a=0;a<Math.min(2,e.length);a++){var s,u=e[a];u.isCategory&&(i[s=u.field]=u.translate(i[s]),Number.isNaN(i[s])&&(o=!1))}o&&n.push(i)}return n},r._getGroupScales=function(){var t,n=this.get("groupScales");return n||(n=[],t=this.get("attrs"),m.each(t,function(t){var e;c.includes(t.type)&&(e=t.scales,m.each(e,function(t){t.isCategory&&-1===m.indexOf(n,t)&&n.push(t)}))}),this.set("groupScales",n)),n},r._updateStackRange=function(t,e,n){for(var r=m.Array.merge(n),i=e.min,o=e.max,a=0;a<r.length;a++){var s,u,c=r[a];m.isArray(c[t])&&((s=Math.min.apply(null,c[t]))<i&&(i=s),o<(u=Math.max.apply(null,c[t]))&&(o=u))}(i<e.min||o>e.max)&&e.change({min:i,max:o})},r._adjust=function(a){var s,t,u,c,l,f,h;a&&a.length&&(t=(s=this).get("adjusts"),u=this.viewTheme||x,c=s.getYScale(),l=s.getXScale(),f=l.field,h=c?c.field:null,m.each(t,function(t){var e,n,r=m.mix({xField:f,yField:h},t),i=m.upperFirst(t.type);if("Dodge"===i){var o=[];if(l.isCategory||l.isIdentity)o.push("x");else{if(c)throw new Error("dodge is not support linear attribute, please use category attribute!");o.push("y")}r.adjustNames=o,r.dodgeRatio=r.dodgeRatio||u.widthRatio.column}else{"Stack"===i&&(e=s.get("coord"),c||(r.height=e.getHeight(),n=s.getDefaultValue("size")||3,r.size=n),!e.isTransposed&&m.isNil(r.reverseOrder)&&(r.reverseOrder=!0))}new p[i](r).processAdjust(a),"Stack"===i&&c&&s._updateStackRange(h,c,a)}))},r.setCoord=function(t){this.set("coord",t);var e=this.getAttr("position");this.get("shapeContainer").setMatrix(t.matrix),e&&(e.coord=t)},r.paint=function(){var t=this,e=t.get("dataArray"),n=[],r=t.getShapeFactory();r.setCoord(t.get("coord")),t.set("shapeFactory",r);var i=t.get("shapeContainer");t._beforeMapping(e);for(var o=0;o<e.length;o++){var a=e[o],s=o,a=t._mapping(a);n.push(a),t.draw(a,i,r,s)}t.get("labelCfg")&&t._addLabels(m.union.apply(null,n),i.get("children")),t.get("sortable")?t.set("dataArray",n):t._sort(n)},r._sort=function(t){var n=this.getXScale(),r=n.field;m.each(t,function(t){t.sort(function(t,e){return n.translate(t[h][r])-n.translate(e[h][r])})}),this.set("dataArray",t)},r._beforeMapping=function(r){var n,i,e=this;e.get("sortable")&&(n=e.getXScale(),i=n.field,m.each(r,function(t){t.sort(function(t,e){return n.translate(t[i])-n.translate(e[i])})})),e.get("generatePoints")&&(m.each(r,function(t){e._generatePoints(t)}),m.each(r,function(t,e){var n=r[e+1];n&&(t[0].nextPoints=n[0].points)}))},r._addLabels=function(t,e){var n=this,r=n.get("type"),i=n.get("viewTheme")||x,o=n.get("coord"),a=l.getLabelsClass(o.type,r),s=n.get("container"),u=m.map(n.get("labelCfg").fields,function(t){return n._createScale(t)}),c=s.addGroup(a,{_id:this.get("_id"),labelCfg:m.mix({scales:u},n.get("labelCfg")),coord:o,geom:n,geomType:r,yScale:n.getYScale(),viewTheme:i,visible:n.get("visible")});c.showLabels(t,e),n.set("labelContainer",c)},r.getShapeFactory=function(){var t,e=this.get("shapeFactory");return e||(t=this.get("shapeType"),e=o.getShapeFactory(t),this.set("shapeFactory",e)),e},r._generatePoints=function(t){for(var e=this.getShapeFactory(),n=this.getAttr("shape"),r=0;r<t.length;r++){var i=t[r],o=this.createShapePointsCfg(i),a=n?this._getAttrValues(n,i):null,s=e.getShapePoints(a,o);i.points=s}},r.createShapePointsCfg=function(t){var e=this.getXScale(),n=this.getYScale(),r=this._normalizeValues(t[e.field],e),i=n?this._normalizeValues(t[n.field],n):t.y?t.y:.1;return{x:r,y:i,y0:n?n.scale(this.getYMinValue()):void 0}},r.getYMinValue=function(){var t=this.getYScale(),e=t.min,n=t.max,r=0<=e?e:n<=0?n:0;return r},r._normalizeValues=function(t,e){var n=[];if(m.isArray(t))for(var r=0;r<t.length;r++){var i=t[r];n.push(e.scale(i))}else n=e.scale(t);return n},r._mapping=function(t){for(var e=this.get("attrs"),n=[],r=0;r<t.length;r++){var i=t[r],o={};for(var a in o[h]=i[h],o.points=i.points,o.nextPoints=i.nextPoints,e)if(e.hasOwnProperty(a)){var s=e[a],u=s.names,c=this._getAttrValues(s,i);if(1<u.length)for(var l=0;l<c.length;l++){var f=c[l];o[u[l]]=m.isArray(f)&&1===f.length?f[0]:f}else o[u[0]]=1===c.length?c[0]:c}n.push(o)}return n},r._getAttrValues=function(t,e){for(var n=t.scales,r=[],i=0;i<n.length;i++){var o=n[i],a=o.field;"identity"===o.type?r.push(o.value):r.push(e[a])}return t.mapping.apply(t,r)},r.getAttrValue=function(t,e){var n=this.getAttr(t),r=null;return n&&(r=this._getAttrValues(n,e)[0]),r},r.getDefaultValue=function(t){var e,n=this.get(t),r=this.getAttr(t);return!r||"identity"===(e=r.getScale(t)).type&&(n=e.value),n},r.draw=function(t,e,n,r){for(var i=0;i<t.length;i++){var o=t[i];this.drawPoint(o,e,n,r+i)}},r.getCallbackCfg=function(t,e,n){if(!t)return e;var r={},i=t.map(function(t){return n[t]});return m.each(e,function(t,e){m.isFunction(t)?r[e]=t.apply(null,i):r[e]=t}),r},r._getShapeId=function(n){var t,e,r,i,o,a,s,u,c=this.get("_id"),l=this.get("keyFields");return l&&0<l.length?m.each(l,function(t){c+="-"+n[t]}):(t=this.get("type"),e=this.getXScale(),r=this.getYScale(),i=e.field||"x",o=r.field||"y",a=n[o],s=e.isIdentity?e.value:n[i],c+="interval"===t||"schema"===t?"-"+s:"line"===t||"area"===t||"path"===t?"-"+t:"-"+s+"-"+a,u=this._getGroupScales(),m.isEmpty(u)||m.each(u,function(t){var e=t.field;"identity"!==t.type&&(c+="-"+n[e])})),c},r.getDrawCfg=function(t){var e=this,n={origin:t,x:t.x,y:t.y,color:t.color,size:t.size,shape:t.shape,isInCircle:e.isInCircle(),opacity:t.opacity},r=e.get("styleOptions");return r&&r.style&&(n.style=e.getCallbackCfg(r.fields,r.style,t[h])),e.get("generatePoints")&&(n.points=t.points,n.nextPoints=t.nextPoints),e.get("animate")&&(n._id=e._getShapeId(t[h])),n},r.appendShapeInfo=function(t,e){t&&(t.setSilent("index",e),t.setSilent("coord",this.get("coord")),this.get("animate")&&this.get("animateCfg")&&t.setSilent("animateCfg",this.get("animateCfg")))},r._applyViewThemeShapeStyle=function(t,e,n){var r=this.viewTheme||x,i=n.name;e?e&&(-1<e.indexOf("hollow")||-1<e.indexOf("liquid"))&&(i="hollow"+m.upperFirst(i)):-1<n.defaultShapeType.indexOf("hollow")&&(i="hollow"+m.upperFirst(i));var o=r.shape[i]||{};t.style=m.mix({},o,t.style)},r.drawPoint=function(t,e,n,r){var i=t.shape,o=this.getDrawCfg(t);this._applyViewThemeShapeStyle(o,i,n);var a=n.drawShape(i,o,e);this.appendShapeInfo(a,r)},r.getAttr=function(t){return this.get("attrs")[t]},r.getXScale=function(){return this.getAttr("position").scales[0]},r.getYScale=function(){return this.getAttr("position").scales[1]},r.getShapes=function(){var e=[],t=this.get("shapeContainer").get("children");return m.each(t,function(t){t.get("origin")&&e.push(t)}),e},r.getAttrsForLegend=function(){var t=this.get("attrs"),e=[];return m.each(t,function(t){c.includes(t.type)&&e.push(t)}),e},r.getFieldsForLegend=function(){var n=[],r=this.get("attrOptions");return m.each(c,function(t){var e=r[t];e&&e.field&&m.isString(e.field)&&(n=n.concat(e.field.split("*")))}),m.uniq(n)},r.changeVisible=function(t,e){this.set("visible",t);var n=this.get("shapeContainer");n&&n.set("visible",t);var r=this.get("labelContainer");r&&r.set("visible",t),!e&&n&&n.get("canvas").draw()},r.reset=function(){this.set("attrOptions",{}),this.clearInner()},r.clearInner=function(){this.clearActivedShapes(),this.clearSelected();var t=this.get("shapeContainer");t&&t.clear();var e=this.get("labelContainer");e&&e.remove(),this.set("attrs",{}),this.set("groupScales",null),this.set("labelContainer",null),this.set("xDistance",null),this.set("isStacked",null)},r.clear=function(){this.clearInner(),this.set("scales",{})},r.destroy=function(){this.clear();var t=this.get("shapeContainer");t&&t.remove(),this.offEvents(),n.prototype.destroy.call(this)},r.bindEvents=function(){this.get("view")&&(this._bindActiveAction(),this._bindSelectedAction())},r.offEvents=function(){this.get("view")&&(this._offActiveAction(),this._offSelectedAction())},i}(r);t.exports=i},function(t,e,n){var a=n(530),r=n(572),i=a.PathUtil,s={},u={_coord:null,draw:function(t,e){return this.drawShape?this.drawShape(t,e):null},setCoord:function(t){this._coord=t},parsePath:function(t,e){var n=this._coord;return t=i.parsePathString(t),t=n.isPolar&&!1!==e?r.convertPolarPath(n,t):r.convertNormalPath(n,t)},parsePoint:function(t){return this._coord.convertPoint(t)},parsePoints:function(t){var e=this._coord,n=[];return a.each(t,function(t){n.push(e.convertPoint(t))}),n}},o={defaultShapeType:null,setCoord:function(t){this._coord=t},getShape:function(t){a.isArray(t)&&(t=t[0]);var e=this[t]||this[this.defaultShapeType];return e._coord=this._coord,e},getShapePoints:function(t,e){var n=this.getShape(t);return(n.getPoints||n.getShapePoints||this.getDefaultPoints)(e)},getDefaultPoints:function(){return[]},getMarkerCfg:function(t,e){var n,r=this.getShape(t);return r.getMarkerCfg||(n=this.defaultShapeType,r=this.getShape(n)),r.getMarkerCfg(e)},getSelectedCfg:function(){return{}},drawShape:function(t,e,n){var r=this.getShape(t).draw(e,n);return r&&(r.setSilent("origin",e.origin),r._id=e.yIndex?e._id+e.yIndex:e._id,r.name=this.name),r}};s.registerFactory=function(t,e){var n=a.upperFirst(t),r=a.assign({},o,e);return(s[n]=r).name=t,r},s.registerShape=function(t,e,n){var r=a.upperFirst(t),i=s[r],o=a.assign({},u,n);return i[e]=o},s.getShapeFactory=function(t){return t=t||"point",this[a.upperFirst(t)]},t.exports=s},function(t,e,n){var r=n(557);t.exports=function(t){return r(t,"String")}},function(t,e,n){var r=n(557);t.exports=function(t){return r(t,"Function")}},function(t,e,n){var r;try{r={clone:n(1190),constant:n(912),each:n(831),filter:n(834),has:n(706),isArray:n(548),isEmpty:n(1225),isFunction:n(872),isUndefined:n(843),keys:n(573),map:n(844),reduce:n(846),size:n(1228),transform:n(1234),union:n(1235),values:n(848)}}catch(t){}r=r||window._,t.exports=r},function(t,e){var n={}.toString;t.exports=function(t,e){return n.call(t)==="[object "+e+"]"}},function(t,e,n){var r=n(578);t.exports=r},function(t,e,n){var o=n(537),a=n(547),s=n(543),u=n(1139),c=n(1140);t.exports=function(t,n,e){void 0===e&&(e=[]);var r,i=t;return e&&e.length&&(i=c(t,e)),a(n)?r=n:o(n)?r=function(e){return"_"+n.map(function(t){return e[t]}).join("-")}:s(n)&&(r=function(t){return"_"+t[n]}),u(i,r)}},function(t,e,n){var r;try{r=n(1188)}catch(t){}r=r||window.graphlib,t.exports=r},function(t,e,n){"use strict";n.r(e),n.d(e,"bisect",function(){return g}),n.d(e,"bisectRight",function(){return o}),n.d(e,"bisectLeft",function(){return a}),n.d(e,"ascending",function(){return s}),n.d(e,"bisector",function(){return r}),n.d(e,"cross",function(){return h}),n.d(e,"descending",function(){return p}),n.d(e,"deviation",function(){return y}),n.d(e,"extent",function(){return m}),n.d(e,"histogram",function(){return T}),n.d(e,"thresholdFreedmanDiaconis",function(){return I}),n.d(e,"thresholdScott",function(){return j}),n.d(e,"thresholdSturges",function(){return A}),n.d(e,"max",function(){return R}),n.d(e,"mean",function(){return L}),n.d(e,"median",function(){return D}),n.d(e,"merge",function(){return B}),n.d(e,"min",function(){return F}),n.d(e,"pairs",function(){return u}),n.d(e,"permute",function(){return N}),n.d(e,"quantile",function(){return O}),n.d(e,"range",function(){return _}),n.d(e,"scan",function(){return z}),n.d(e,"shuffle",function(){return G}),n.d(e,"sum",function(){return V}),n.d(e,"ticks",function(){return C}),n.d(e,"tickIncrement",function(){return P}),n.d(e,"tickStep",function(){return k}),n.d(e,"transpose",function(){return Y}),n.d(e,"variance",function(){return d}),n.d(e,"zip",function(){return q});var s=function(t,e){return t<e?-1:e<t?1:e<=t?0:NaN},r=function(o){var n;return 1===o.length&&(n=o,o=function(t,e){return s(n(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=1+i:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=1+i}return n}}};var i=r(s),o=i.right,a=i.left,g=o,u=function(t,e){null==e&&(e=l);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o};function l(t,e){return[t,e]}function c(t){return null===t?NaN:+t}function f(t){return function(){return t}}function v(t){return t}var h=function(t,e,n){var r,i,o,a,s=t.length,u=e.length,c=new Array(s*u);for(null==n&&(n=l),r=o=0;r<s;++r)for(a=t[r],i=0;i<u;++i,++o)c[o]=n(a,e[i]);return c},p=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},d=function(t,e){var n,r,i=t.length,o=0,a=-1,s=0,u=0;if(null==e)for(;++a<i;)isNaN(n=c(t[a]))||(u+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=c(e(t[a],a,t)))||(u+=(r=n-s)*(n-(s+=r/++o)));if(1<o)return u/(o-1)},y=function(t,e){var n=d(t,e);return n?Math.sqrt(n):n},m=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n<=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(n<r&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n<=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(n<r&&(r=n),i<n&&(i=n));return[r,i]},x=Array.prototype,b=x.slice,w=x.map,_=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},S=Math.sqrt(50),M=Math.sqrt(10),E=Math.sqrt(2),C=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=P(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o};function P(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return 0<=i?(S<=o?10:M<=o?5:E<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(S<=o?10:M<=o?5:E<=o?2:1)}function k(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return S<=o?i*=10:M<=o?i*=5:E<=o&&(i*=2),e<t?-i:i}var A=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},T=function(){var h=v,p=m,d=A;function e(t){for(var e,n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=h(t[i],i,t);var o=p(r),a=o[0],s=o[1],u=d(r,a,s);Array.isArray(u)||(u=k(a,s,u),u=_(Math.ceil(a/u)*u,s,u));for(var c=u.length;u[0]<=a;)u.shift(),--c;for(;u[c-1]>s;)u.pop(),--c;var l,f=new Array(c+1);for(i=0;i<=c;++i)(l=f[i]=[]).x0=0<i?u[i-1]:a,l.x1=i<c?u[i]:s;for(i=0;i<n;++i)a<=(e=r[i])&&e<=s&&f[g(u,e,0,c)].push(t[i]);return f}return e.value=function(t){return arguments.length?(h="function"==typeof t?t:f(t),e):h},e.domain=function(t){return arguments.length?(p="function"==typeof t?t:f([t[0],t[1]]),e):p},e.thresholds=function(t){return arguments.length?(d="function"==typeof t?t:Array.isArray(t)?f(b.call(t)):f(t),e):d},e},O=function(t,e,n){if(null==n&&(n=c),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(1<=e)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},I=function(t,e,n){return t=w.call(t,c).sort(s),Math.ceil((n-e)/(2*(O(t,.75)-O(t,.25))*Math.pow(t.length,-1/3)))},j=function(t,e,n){return Math.ceil((n-e)/(3.5*y(t)*Math.pow(t.length,-1/3)))},R=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&r<n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r<n&&(r=n);return r},L=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=c(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=c(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},D=function(t,e){var n,r=t.length,i=-1,o=[];if(null==e)for(;++i<r;)isNaN(n=c(t[i]))||o.push(n);else for(;++i<r;)isNaN(n=c(e(t[i],i,t)))||o.push(n);return O(o.sort(s),.5)},B=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);0<=--i;)for(e=(r=t[i]).length;0<=--e;)n[--a]=r[e];return n},F=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&n<r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n<r&&(r=n);return r},N=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},z=function(t,e){if(n=t.length){var n,r,i=0,o=0,a=t[o];for(null==e&&(e=s);++i<n;)(e(r=t[i],a)<0||0!==e(a,a))&&(a=r,o=i);return 0===e(a,a)?o:void 0}},G=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},V=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},Y=function(t){if(!(i=t.length))return[];for(var e=-1,n=F(t,H),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r};function H(t){return t.length}var q=function(){return Y(arguments)}},function(t,e){t.exports=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e){t.exports={FONT_FAMILY:'"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"'}},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(536),l=n(794),r=n(594),s=["min","max","median","start","end"],i=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return c.mix({},t,{xScales:null,yScales:null,el:null})},i.render=function(){},i.clear=function(){var t=this.get("el");t&&t.remove(),this.set("el",null)},i.destroy=function(){this.clear(),e.prototype.destroy.call(this)},i.changeVisible=function(t){this.set("visible",t);var e=this.get("el");e&&(e.set?e.set("visible",t):e.style.display=t?"":"none")},i.parsePoint=function(t,e){var n,r,i=this,o=i.get("xScales"),a=i.get("yScales");if(c.isFunction(e)&&(e=e(o,a)),c.isArray(e)&&c.isString(e[0])&&-1!==e[0].indexOf("%"))return this._parsePercentPoint(t,e);if(c.isArray(e))n=i._getNormalizedValue(e[0],l.getFirstScale(o)),r=i._getNormalizedValue(e[1],l.getFirstScale(a));else for(var s in e){var u=e[s];o[s]&&(n=i._getNormalizedValue(u,o[s])),a[s]&&(r=i._getNormalizedValue(u,a[s],"y"))}return c.isNil(n)||c.isNil(r)||isNaN(n)||isNaN(r)?null:t.convert({x:n,y:r})},i._getNormalizedValue=function(t,e){var n;return-1!==c.indexOf(s,t)?"start"===t?0:"end"===t?1:(n="median"===t?e.isCategory?(e.values.length-1)/2:(e.min+e.max)/2:e.isCategory?"min"===t?0:e.values.length-1:e[t],e.scale(n)):e.scale(t)},i._parsePercentPoint=function(t,e){var n=parseFloat(e[0])/100,r=parseFloat(e[1])/100,i=t.start,o=t.end,a=Math.min(i.x,o.x),s=Math.min(i.y,o.y);return{x:t.width*n+a,y:t.height*r+s}},r}(r);t.exports=i},function(t,e,n){"use strict";n.r(e),n.d(e,"create",function(){return a}),n.d(e,"creator",function(){return r.a}),n.d(e,"local",function(){return u}),n.d(e,"matcher",function(){return f.a}),n.d(e,"mouse",function(){return d}),n.d(e,"namespace",function(){return g.a}),n.d(e,"namespaces",function(){return v.a}),n.d(e,"clientPoint",function(){return p}),n.d(e,"select",function(){return o}),n.d(e,"selectAll",function(){return y}),n.d(e,"selection",function(){return i.b}),n.d(e,"selector",function(){return m.a}),n.d(e,"selectorAll",function(){return x.a}),n.d(e,"style",function(){return b.b}),n.d(e,"touch",function(){return w}),n.d(e,"touches",function(){return _}),n.d(e,"window",function(){return S.a}),n.d(e,"event",function(){return h.c}),n.d(e,"customEvent",function(){return h.a});var r=n(595),i=n(633),o=function(t){return"string"==typeof t?new i.a([[document.querySelector(t)]],[document.documentElement]):new i.a([[t]],i.c)},a=function(t){return o(Object(r.a)(t).call(document.documentElement))},s=0;function u(){return new c}function c(){this._="@"+(++s).toString(36)}c.prototype=u.prototype={constructor:c,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};function l(){for(var t,e=h.c;t=e.sourceEvent;)e=t;return e}var f=n(674),h=n(596),p=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},d=function(t){var e=l();return e.changedTouches&&(e=e.changedTouches[0]),p(t,e)},g=n(622),v=n(623),y=function(t){return"string"==typeof t?new i.a([document.querySelectorAll(t)],[document.documentElement]):new i.a([null==t?[]:t],i.c)},m=n(621),x=n(673),b=n(675),w=function(t,e,n){arguments.length<3&&(n=e,e=l().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return p(t,r);return null},_=function(t,e){null==e&&(e=l().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=p(t,e[n]);return i},S=n(624)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(0),a=u(o),s=u(n(1));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h=(f(p,o.Component),r(p,[{key:"getChildContext",value:function(){return{addElement:this.context.addElement,updateElement:this.context.updateElement,deleteElement:this.context.deleteElement,createId:this.context.createId,getParentInfo:this.getParentInfo,getViewId:this.context.getViewId}}},{key:"componentWillMount",value:function(){var t=this.context;this.id=t.createId(),t.addElement(this.name,this.id,this.props,t.getParentInfo(),t.getViewId())}},{key:"componentWillReceiveProps",value:function(t){this.context.updateElement(this.name,this.id,t,this.context.getParentInfo(),this.context.getViewId())}},{key:"componentWillUnmount",value:function(){this.context.deleteElement(this.name,this.id)}},{key:"render",value:function(){var t=this.props.children;return t?t.length&&(t=a.default.createElement("div",null,t)):t=null,t}}]),p);function p(t,e){c(this,p);var n=l(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,t));return n.getParentInfo=function(){return{id:n.id,name:n.name}},n.name=e,n}h.contextTypes={addElement:s.default.func,updateElement:s.default.func,deleteElement:s.default.func,createId:s.default.func,getParentInfo:s.default.func,getViewId:s.default.func},h.childContextTypes={addElement:s.default.func,updateElement:s.default.func,deleteElement:s.default.func,createId:s.default.func,getParentInfo:s.default.func,getViewId:s.default.func},h.generateBaseTypedComponent=function(e){var t=(f(n,h),r(n,[{key:"getChildContext",value:function(){return{addElement:this.context.addElement,updateElement:this.context.updateElement,deleteElement:this.context.deleteElement,createId:this.context.createId,getParentInfo:this.getParentInfo,getViewId:this.context.getViewId}}}]),n);function n(t){return c(this,n),l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e))}return t.contextTypes={addElement:s.default.func,updateElement:s.default.func,deleteElement:s.default.func,createId:s.default.func,getParentInfo:s.default.func,getViewId:s.default.func},t.childContextTypes={addElement:s.default.func,updateElement:s.default.func,deleteElement:s.default.func,createId:s.default.func,getParentInfo:s.default.func,getViewId:s.default.func},t.displayName=e,t},e.default=h},function(t,e,n){var o=n(530),r={splitPoints:function(t){var r=[],i=t.x,e=t.y,e=o.isArray(e)?e:[e];return o.each(e,function(t,e){var n={x:o.isArray(i)?i[e]:i,y:t};r.push(n)}),r},addFillAttrs:function(t,e){e.color&&(t.fill=e.color),o.isNumber(e.opacity)&&(t.opacity=t.fillOpacity=e.opacity)},addStrokeAttrs:function(t,e){e.color&&(t.stroke=e.color),o.isNumber(e.opacity)&&(t.opacity=t.strokeOpacity=e.opacity)}};t.exports=r},function(t,e,n){"use strict";function r(t){var e,n,r=t.length;if(1===r)n=t[e=0][1];else{for(var i,o,a,s=0,u=0,c=0,l=0,f=0;f<r;f++)s+=o=(i=t[f])[0],u+=a=i[1],c+=o*o,l+=o*a;n=u/r-(e=(r*l-s*u)/(r*c-s*s))*s/r}return{m:e,b:n}}function i(e){return function(t){return e.b+e.m*t}}function o(t){if(0===t.length)return 0;for(var e,n=t[0],r=0,i=1;i<t.length;i++)e=n+t[i],Math.abs(n)>=Math.abs(t[i])?r+=n-e+t[i]:r+=t[i]-e+n,n=e;return n+r}function v(t){if(0===t.length)throw new Error("mean requires at least one data point");return o(t)/t.length}function a(t,e){var n,r,i=v(t),o=0;if(2===e)for(r=0;r<t.length;r++)o+=(n=t[r]-i)*n;else for(r=0;r<t.length;r++)o+=Math.pow(t[r]-i,e);return o}function s(t){if(0===t.length)throw new Error("variance requires at least one data point");return a(t,2)/t.length}function u(t){if(1===t.length)return 0;var e=s(t);return Math.sqrt(e)}function c(t,e){if(t.length<2)return 1;for(var n=0,r=0;r<t.length;r++)n+=t[r][1];for(var i=n/t.length,o=0,a=0;a<t.length;a++)o+=Math.pow(i-t[a][1],2);for(var s=0,u=0;u<t.length;u++)s+=Math.pow(t[u][1]-e(t[u][0]),2);return 1-s/o}function l(t){if(0===t.length)throw new Error("mode requires at least one data point");if(1===t.length)return t[0];for(var e=t[0],n=NaN,r=0,i=1,o=1;o<t.length+1;o++)t[o]!==e?(r<i&&(r=i,n=e),i=1,e=t[o]):i++;return n}function f(t){return t.slice().sort(function(t,e){return t-e})}function h(t){return l(f(t))}function p(t){for(var e,n=new Map,r=0,i=0;i<t.length;i++){var o=n.get(t[i]);void 0===o?o=1:o++,r<o&&(e=t[i],r=o),n.set(t[i],o)}if(0===r)throw new Error("mode requires at last one data point");return e}function d(t){if(0===t.length)throw new Error("min requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]<e&&(e=t[n]);return e}function g(t){if(0===t.length)throw new Error("max requires at least one data point");for(var e=t[0],n=1;n<t.length;n++)t[n]>e&&(e=t[n]);return e}function y(t){if(0===t.length)throw new Error("extent requires at least one data point");for(var e=t[0],n=t[0],r=1;r<t.length;r++)t[r]>n&&(n=t[r]),t[r]<e&&(e=t[r]);return[e,n]}function m(t){return t[0]}function x(t){return t[t.length-1]}function b(t){return[t[0],t[t.length-1]]}function w(t){for(var e=0,n=0;n<t.length;n++)e+=t[n];return e}function _(t){for(var e=1,n=0;n<t.length;n++)e*=t[n];return e}function S(t,e){var n=t.length*e;if(0===t.length)throw new Error("quantile requires at least one data point.");if(e<0||1<e)throw new Error("quantiles must be between 0 and 1");return 1===e?t[t.length-1]:0===e?t[0]:n%1!=0?t[Math.ceil(n)-1]:t.length%2==0?(t[n-1]+t[n])/2:t[n]}function M(t,e,n,r){for(n=n||0,r=r||t.length-1;n<r;){var i,o,a,s,u;600<r-n&&(i=r-n+1,o=e-n+1,a=Math.log(i),s=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*s*(i-s)/i),o-i/2<0&&(u*=-1),M(t,e,Math.max(n,Math.floor(e-o*s/i+u)),Math.min(r,Math.floor(e+(i-o)*s/i+u))));var c=t[e],l=n,f=r;for(E(t,n,e),t[r]>c&&E(t,n,r);l<f;){for(E(t,l,f),l++,f--;t[l]<c;)l++;for(;t[f]>c;)f--}t[n]===c?E(t,n,f):E(t,++f,r),f<=e&&(n=f+1),e<=f&&(r=f-1)}}function E(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function C(t,e){var n=t.slice();if(Array.isArray(e)){!function(t,e){for(var n=[0],r=0;r<e.length;r++)n.push(A(t.length,e[r]));n.push(t.length-1),n.sort(k);for(var i=[0,n.length-1];i.length;){var o,a=Math.ceil(i.pop()),s=Math.floor(i.pop());a-s<=1||(P(t,n[o=Math.floor((s+a)/2)],Math.floor(n[s]),Math.ceil(n[a])),i.push(s,o,o,a))}}(n,e);for(var r=[],i=0;i<e.length;i++)r[i]=S(n,e[i]);return r}return P(n,A(n.length,e),0,n.length-1),S(n,e)}function P(t,e,n,r){e%1==0?M(t,e,n,r):(M(t,e=Math.floor(e),n,r),M(t,e+1,e+1,r))}function k(t,e){return t-e}function A(t,e){var n=t*e;return 1===e?t-1:0===e?0:n%1!=0?Math.ceil(n)-1:t%2==0?n-.5:n}function T(t,e){if(e<t[0])return 0;if(e>t[t.length-1])return 1;var n=function(t,e){for(var n,r=0,i=t.length;r<i;)e<=t[n=r+i>>>1]?i=n:r=-~n;return r}(t,e);if(t[n]!==e)return n/t.length;n++;var r=function(t,e){for(var n,r=0,i=t.length;r<i;)e>=t[n=r+i>>>1]?r=-~n:i=n;return r}(t,e);if(r===n)return n/t.length;var i=r-n+1;return i*(r+n)/2/i/t.length}function O(t,e){return T(f(t),e)}function I(t){var e=C(t,.75),n=C(t,.25);if("number"==typeof e&&"number"==typeof n)return e-n}function j(t){return+C(t,.5)}function R(t){for(var e=j(t),n=[],r=0;r<t.length;r++)n.push(Math.abs(t[r]-e));return j(n)}function L(t,e){var n=[];if(e<1)throw new Error("chunk size must be a positive number");if(Math.floor(e)!==e)throw new Error("chunk size must be an integer");for(var r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}function D(t,e,n){if(0===t.length)return[];n=n||Math.random;for(var r=t.length,i=[],o=0;o<e;o++){var a=Math.floor(n()*r);i.push(t[a])}return i}function B(t,e){e=e||Math.random;for(var n,r,i=t.length;0<i;)r=Math.floor(e()*i--),n=t[i],t[i]=t[r],t[r]=n;return t}function F(t,e){return B(t.slice().slice(),e)}function N(t,e,n){return F(t,n).slice(0,e)}function z(t){for(var e,n=0,r=0;r<t.length;r++)0!==r&&t[r]===e||(e=t[r],n++);return n}function G(t,e){for(var n=[],r=0;r<t;r++){for(var i=[],o=0;o<e;o++)i.push(0);n.push(i)}return n}function V(t,e,n,r){var i,o;return(o=0<t?(i=(n[e]-n[t-1])/(e-t+1),r[e]-r[t-1]-(e-t+1)*i*i):r[e]-n[e]*n[e]/(e+1))<0?0:o}function Y(t,e){if(e>t.length)throw new Error("cannot generate more classes than there are data values");var n=f(t);if(1===z(n))return[n];var r=G(e,n.length),i=G(e,n.length);!function(t,e,n){for(var r,i=e[0].length,o=t[Math.floor(i/2)],a=[],s=[],u=0;u<i;++u)r=t[u]-o,0===u?(a.push(r),s.push(r*r)):(a.push(a[u-1]+r),s.push(s[u-1]+r*r)),e[0][u]=V(0,u,a,s),n[0][u]=0;for(var c=1;c<e.length;++c)!function t(e,n,r,i,o,a,s){if(!(n<e)){var u=Math.floor((e+n)/2);i[r][u]=i[r-1][u-1],o[r][u]=u;var c=r;r<e&&(c=Math.max(c,o[r][e-1]||0)),c=Math.max(c,o[r-1][u]||0);var l,f,h,p=u-1;n<i.length-1&&(p=Math.min(p,o[r][n+1]||0));for(var d=p;c<=d&&!((l=V(d,u,a,s))+i[r-1][c-1]>=i[r][u]);--d)(f=V(c,u,a,s)+i[r-1][c-1])<i[r][u]&&(i[r][u]=f,o[r][u]=c),c++,(h=l+i[r-1][d-1])<i[r][u]&&(i[r][u]=h,o[r][u]=d);t(e,u-1,r,i,o,a,s),t(u+1,n,r,i,o,a,s)}}(c<e.length-1?c:i-1,i-1,c,e,n,a,s)}(n,r,i);for(var o=[],a=i[0].length-1,s=i.length-1;0<=s;s--){var u=i[s][a];o[s]=n.slice(u,a+1),0<s&&(a=u-1)}return o}function H(t,e){if(t.length<2)return t;for(var n=d(t),r=g(t),i=[n],o=(r-n)/e,a=1;a<e;a++)i.push(i[0]+o*a);return i.push(r),i}function q(t,e){if(t.length!==e.length)throw new Error("sampleCovariance requires samples with equal lengths");if(t.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var n=v(t),r=v(e),i=0,o=0;o<t.length;o++)i+=(t[o]-n)*(e[o]-r);return i/(t.length-1)}function W(t){if(t.length<2)throw new Error("sampleVariance requires at least two data points");return a(t,2)/(t.length-1)}function X(t){var e=W(t);return Math.sqrt(e)}function U(t,e){return q(t,e)/X(t)/X(e)}function Z(t){if(t.length<3)throw new Error("sampleSkewness requires at least three data points");for(var e,n=v(t),r=0,i=0,o=0;o<t.length;o++)r+=(e=t[o]-n)*e,i+=e*e*e;var a=Math.sqrt(r/(t.length-1)),s=t.length;return s*i/((s-1)*(s-2)*Math.pow(a,3))}function Q(t){var e=t.length;if(e<4)throw new Error("sampleKurtosis requires at least four data points");for(var n,r=v(t),i=0,o=0,a=0;a<e;a++)i+=(n=t[a]-r)*n,o+=n*n*n*n;return(e-1)/((e-2)*(e-3))*(e*(e+1)*o/(i*i)-3*(e-1))}function J(t){for(var e=new Array(t.length),n=[t.slice()],r=0;r<t.length;r++)e[r]=0;for(var i,o,a=0;a<t.length;){e[a]<a?(a%2!=(i=0)&&(i=e[a]),o=t[i],t[i]=t[a],t[a]=o,n.push(t.slice()),e[a]++,a=0):(e[a]=0,a++)}return n}function $(t,e){for(var n,r,i,o=[],a=0;a<t.length;a++)if(1===e)o.push([t[a]]);else for(r=$(t.slice(a+1,t.length),e-1),n=0;n<r.length;n++)(i=r[n]).unshift(t[a]),o.push(i);return o}function K(t,e){for(var n=[],r=0;r<t.length;r++)if(1===e)n.push([t[r]]);else for(var i=K(t.slice(r,t.length),e-1),o=0;o<i.length;o++)n.push([t[r]].concat(i[o]));return n}function tt(t,e,n){return t+(n-t)/(e+1)}function et(t,e,n,r){return(t*e+n*r)/(e+r)}function nt(t,e,n,r,i,o){var a=et(e,n,i,o);return(n*(t+Math.pow(e-a,2))+o*(r+Math.pow(i-a,2)))/(n+o)}function rt(t){if(0===t.length)throw new Error("geometricMean requires at least one data point");for(var e=1,n=0;n<t.length;n++){if(t[n]<=0)throw new Error("geometricMean requires only positive numbers as input");e*=t[n]}return Math.pow(e,1/t.length)}function it(t){if(0===t.length)throw new Error("harmonicMean requires at least one data point");for(var e=0,n=0;n<t.length;n++){if(t[n]<=0)throw new Error("harmonicMean requires only positive numbers as input");e+=1/t[n]}return t.length/e}function ot(t){return S(t,.5)}function at(t,e,n){return(t*e-n)/(e-1)}function st(t){if(0===t.length)throw new Error("rootMeanSquare requires at least one data point");for(var e=0,n=0;n<t.length;n++)e+=Math.pow(t[n],2);return Math.sqrt(e/t.length)}function ut(t,e){return(v(t)-e)/(u(t)/Math.sqrt(t.length))}function ct(t,e,n){var r=t.length,i=e.length;if(!r||!i)return null;n=n||0;var o=v(t),a=v(e),s=W(t),u=W(e);return"number"==typeof o&&"number"==typeof a&&"number"==typeof s&&"number"==typeof u?(o-a-n)/Math.sqrt(((r-1)*s+(i-1)*u)/(r+i-2)*(1/r+1/i)):void 0}function lt(){this.totalCount=0,this.data={}}function ft(){this.weights=[],this.bias=0}n.r(e),n.d(e,"linearRegression",function(){return r}),n.d(e,"linearRegressionLine",function(){return i}),n.d(e,"standardDeviation",function(){return u}),n.d(e,"rSquared",function(){return c}),n.d(e,"mode",function(){return h}),n.d(e,"modeFast",function(){return p}),n.d(e,"modeSorted",function(){return l}),n.d(e,"min",function(){return d}),n.d(e,"max",function(){return g}),n.d(e,"extent",function(){return y}),n.d(e,"minSorted",function(){return m}),n.d(e,"maxSorted",function(){return x}),n.d(e,"extentSorted",function(){return b}),n.d(e,"sum",function(){return o}),n.d(e,"sumSimple",function(){return w}),n.d(e,"product",function(){return _}),n.d(e,"quantile",function(){return C}),n.d(e,"quantileSorted",function(){return S}),n.d(e,"quantileRank",function(){return O}),n.d(e,"quantileRankSorted",function(){return T}),n.d(e,"interquartileRange",function(){return I}),n.d(e,"iqr",function(){return I}),n.d(e,"medianAbsoluteDeviation",function(){return R}),n.d(e,"mad",function(){return R}),n.d(e,"chunk",function(){return L}),n.d(e,"sampleWithReplacement",function(){return D}),n.d(e,"shuffle",function(){return F}),n.d(e,"shuffleInPlace",function(){return B}),n.d(e,"sample",function(){return N}),n.d(e,"ckmeans",function(){return Y}),n.d(e,"uniqueCountSorted",function(){return z}),n.d(e,"sumNthPowerDeviations",function(){return a}),n.d(e,"equalIntervalBreaks",function(){return H}),n.d(e,"sampleCovariance",function(){return q}),n.d(e,"sampleCorrelation",function(){return U}),n.d(e,"sampleVariance",function(){return W}),n.d(e,"sampleStandardDeviation",function(){return X}),n.d(e,"sampleSkewness",function(){return Z}),n.d(e,"sampleKurtosis",function(){return Q}),n.d(e,"permutationsHeap",function(){return J}),n.d(e,"combinations",function(){return $}),n.d(e,"combinationsReplacement",function(){return K}),n.d(e,"addToMean",function(){return tt}),n.d(e,"combineMeans",function(){return et}),n.d(e,"combineVariances",function(){return nt}),n.d(e,"geometricMean",function(){return rt}),n.d(e,"harmonicMean",function(){return it}),n.d(e,"average",function(){return v}),n.d(e,"mean",function(){return v}),n.d(e,"median",function(){return j}),n.d(e,"medianSorted",function(){return ot}),n.d(e,"subtractFromMean",function(){return at}),n.d(e,"rootMeanSquare",function(){return st}),n.d(e,"rms",function(){return st}),n.d(e,"variance",function(){return s}),n.d(e,"tTest",function(){return ut}),n.d(e,"tTestTwoSample",function(){return ct}),n.d(e,"BayesianClassifier",function(){return lt}),n.d(e,"bayesian",function(){return lt}),n.d(e,"PerceptronModel",function(){return ft}),n.d(e,"perceptron",function(){return ft}),n.d(e,"epsilon",function(){return ht}),n.d(e,"factorial",function(){return pt}),n.d(e,"gamma",function(){return dt}),n.d(e,"gammaln",function(){return mt}),n.d(e,"bernoulliDistribution",function(){return xt}),n.d(e,"binomialDistribution",function(){return bt}),n.d(e,"poissonDistribution",function(){return wt}),n.d(e,"chiSquaredDistributionTable",function(){return _t}),n.d(e,"chiSquaredGoodnessOfFit",function(){return St}),n.d(e,"kernelDensityEstimation",function(){return Pt}),n.d(e,"kde",function(){return Pt}),n.d(e,"zScore",function(){return kt}),n.d(e,"cumulativeStdNormalProbability",function(){return It}),n.d(e,"standardNormalTable",function(){return Tt}),n.d(e,"errorFunction",function(){return jt}),n.d(e,"erf",function(){return jt}),n.d(e,"inverseErrorFunction",function(){return Rt}),n.d(e,"probit",function(){return Lt}),n.d(e,"permutationTest",function(){return Dt}),n.d(e,"bisect",function(){return Ft}),n.d(e,"quickselect",function(){return M}),n.d(e,"sign",function(){return Bt}),n.d(e,"numericSort",function(){return f}),lt.prototype.train=function(t,e){for(var n in this.data[e]||(this.data[e]={}),t){var r=t[n];void 0===this.data[e][n]&&(this.data[e][n]={}),void 0===this.data[e][n][r]&&(this.data[e][n][r]=0),this.data[e][n][r]++}this.totalCount++},lt.prototype.score=function(t){var e,n={};for(var r in t){var i=t[r];for(e in this.data)n[e]={},n[e][r+"_"+i]=this.data[e][r]?(this.data[e][r][i]||0)/this.totalCount:0}var o={};for(e in n)for(var a in o[e]=0,n[e])o[e]+=n[e][a];return o},ft.prototype.predict=function(t){if(t.length!==this.weights.length)return null;for(var e=0,n=0;n<this.weights.length;n++)e+=this.weights[n]*t[n];return 0<(e+=this.bias)?1:0},ft.prototype.train=function(t,e){if(0!==e&&1!==e)return null;t.length!==this.weights.length&&(this.weights=t,this.bias=1);var n=this.predict(t);if(n!==e){for(var r=e-n,i=0;i<this.weights.length;i++)this.weights[i]+=r*t[i];this.bias+=r}return this};var ht=1e-4;function pt(t){if(t<0)throw new Error("factorial requires a non-negative value");if(Math.floor(t)!==t)throw new Error("factorial requires an integer input");for(var e=1,n=2;n<=t;n++)e*=n;return e}function dt(t){if("number"==typeof(e=t)&&isFinite(e)&&Math.floor(e)===e)return t<=0?NaN:pt(t-1);var e;if(--t<0)return Math.PI/(Math.sin(Math.PI*-t)*dt(-t));var n=t+.25;return Math.pow(t/Math.E,t)*Math.sqrt(2*Math.PI*(t+1/6))*(1+1/144/Math.pow(n,2)-1/12960/Math.pow(n,3)-257/207360/Math.pow(n,4)-52/2612736/Math.pow(n,5)+5741173/9405849600/Math.pow(n,6)+37529/18811699200/Math.pow(n,7))}var gt=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],vt=607/128,yt=Math.log(Math.sqrt(2*Math.PI));function mt(t){if(t<=0)return 1/0;t--;for(var e=gt[0],n=1;n<15;n++)e+=gt[n]/(t+n);var r=vt+.5+t;return yt+Math.log(e)-r+(t+.5)*Math.log(r)}function xt(t){if(t<0||1<t)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-t,t]}function bt(t,e){if(!(e<0||1<e||t<=0||t%1!=0)){for(var n=0,r=0,i=[],o=1;i[n]=o*Math.pow(e,n)*Math.pow(1-e,t-n),r+=i[n],o=o*(t-++n+1)/n,r<1-ht;);return i}}function wt(t){if(!(t<=0)){for(var e=0,n=0,r=[],i=1;r[e]=Math.exp(-t)*Math.pow(t,e)/i,n+=r[e],i*=++e,n<1-ht;);return r}}var _t={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}};function St(t,e,n){for(var r=0,i=e(v(t)),o=[],a=[],s=0;s<t.length;s++)void 0===o[t[s]]&&(o[t[s]]=0),o[t[s]]++;for(var u=0;u<o.length;u++)void 0===o[u]&&(o[u]=0);for(var c in i)c in o&&(a[+c]=i[c]*t.length);for(var l=a.length-1;0<=l;l--)a[l]<3&&(a[l-1]+=a[l],a.pop(),o[l-1]+=o[l],o.pop());for(var f=0;f<o.length;f++)r+=Math.pow(o[f]-a[f],2)/a[f];return _t[o.length-1-1][n]<r}var Mt=Math.sqrt(2*Math.PI),Et={gaussian:function(t){return Math.exp(-.5*t*t)/Mt}},Ct={nrd:function(t){var e=X(t),n=I(t);return"number"==typeof n&&(e=Math.min(e,n/1.34)),1.06*e*Math.pow(t.length,-.2)}};function Pt(r,t,e){var i,o;if(void 0===t)i=Et.gaussian;else if("string"==typeof t){if(!Et[t])throw new Error('Unknown kernel "'+t+'"');i=Et[t]}else i=t;if(void 0===e)o=Ct.nrd(r);else if("string"==typeof e){if(!Ct[e])throw new Error('Unknown bandwidth method "'+e+'"');o=Ct[e](r)}else o=e;return function(t){for(var e=0,n=0,e=0;e<r.length;e++)n+=i((t-r[e])/o);return n/o/r.length}}function kt(t,e,n){return(t-e)/n}var At=Math.sqrt(2*Math.PI);for(var Tt=[],Ot=0;Ot<=3.09;Ot+=.01)Tt.push(function(t){for(var e=t,n=t,r=1;r<15;r++)e+=n*=t*t/(2*r+1);return Math.round(1e4*(.5+e/At*Math.exp(-t*t/2)))/1e4}(Ot));function It(t){var e=Math.abs(t),n=Math.min(Math.round(100*e),Tt.length-1);return 0<=t?Tt[n]:+(1-Tt[n]).toFixed(4)}function jt(t){var e=1/(1+.5*Math.abs(t)),n=e*Math.exp(-Math.pow(t,2)-1.26551223+1.00002368*e+.37409196*Math.pow(e,2)+.09678418*Math.pow(e,3)-.18628806*Math.pow(e,4)+.27886807*Math.pow(e,5)-1.13520398*Math.pow(e,6)+1.48851587*Math.pow(e,7)-.82215223*Math.pow(e,8)+.17087277*Math.pow(e,9));return 0<=t?1-n:n-1}function Rt(t){var e=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),n=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*e)+Math.log(1-t*t)/2,2)-Math.log(1-t*t)/e)-(2/(Math.PI*e)+Math.log(1-t*t)/2));return 0<=t?n:-n}function Lt(t){return 0===t?t=ht:1<=t&&(t=1-ht),Math.sqrt(2)*Rt(2*t-1)}function Dt(t,e,n,r){if(void 0===r&&(r=1e4),void 0===n&&(n="two_side"),"two_side"!==n&&"greater"!==n&&"less"!==n)throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var i=v(t)-v(e),o=new Array(r),a=t.concat(e),s=Math.floor(a.length/2),u=0;u<r;u++){B(a);var c=a.slice(0,s),l=a.slice(s,a.length),f=v(c)-v(l);o[u]=f}var h=0;if("two_side"===n)for(var p=0;p<=r;p++)Math.abs(o[p])>=Math.abs(i)&&(h+=1);else if("greater"===n)for(var d=0;d<=r;d++)o[d]>=i&&(h+=1);else for(var g=0;g<=r;g++)o[g]<=i&&(h+=1);return h/r}function Bt(t){if("number"==typeof t)return t<0?-1:0===t?0:1;throw new TypeError("not a number")}function Ft(t,e,n,r,i){if("function"!=typeof t)throw new TypeError("func must be a function");for(var o=0;o<r;o++){var a=(e+n)/2;if(0===t(a)||Math.abs((n-e)/2)<i)return a;Bt(t(a))===Bt(t(e))?e=a:n=a}throw new Error("maximum number of iterations exceeded")}},function(t,e,n){var r=n(1211),i=n(1221),o=n(604),a=n(548),s=n(1223);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},,function(t,e,n){var r,i=n(550),o=n(535),a=n(587),s=n(545),u=((r=c.prototype)._initDefaultCfg=function(){this.type="base",this.formatter=null,this.range=[0,1],this.ticks=null,this.values=[]},r.init=function(){},r.getTicks=function(){var n=this,t=n.ticks,r=[];return o(t,function(t){var e=a(t)?t:{text:n.getText(t),tickValue:t,value:n.scale(t)};r.push(e)}),r},r.getText=function(t,e){var n=this.formatter;return t=n?n(t,e):t,!s(t)&&t.toString||(t=""),t.toString()},r.rangeMin=function(){return this.range[0]},r.rangeMax=function(){var t=this.range;return t[t.length-1]},r.invert=function(t){return t},r.translate=function(t){return t},r.scale=function(t){return t},r.clone=function(){var n=this,t=n.constructor,r={};return o(n,function(t,e){r[e]=n[e]}),new t(r)},r.change=function(t){return this.ticks=null,i(this,t),this.init(),this},c);function c(t){this._initDefaultCfg(),i(this,t),this.init()}t.exports=u},function(t,e,n){var s=n(530),u=n(1058);function E(t,e){var n=t.getCenter();return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function C(t,e){for(var n=t.length,r=[t[0]],i=1;i<n;i+=2){var o=e.convertPoint({x:t[i],y:t[i+1]});r.push(o.x,o.y)}return r}var c={getLinePath:function(t,e){if(!t.length)return[];for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];0===r?n.push(["M",o.x,o.y]):n.push(["L",o.x,o.y])}return e&&n.push(["Z"]),n},getSplinePath:function(t,e,n){var r=[],i=t[0],o=null;if(t.length<=2)return c.getLinePath(t,e);s.each(t,function(t){o&&o.x===t.x&&o.y===t.y||(r.push(t.x),r.push(t.y),o=t)}),n=n||[[0,0],[1,1]];var a=u.catmullRom2bezier(r,e,n);return a.unshift(["M",i.x,i.y]),a},getPointRadius:function(t,e){return E(t,e)},getPointAngle:function(t,e){var n=t.getCenter();return Math.atan2(e.y-n.y,e.x-n.x)},convertNormalPath:function(e,t){var n=[];return s.each(t,function(t){switch(t[0].toLowerCase()){case"m":case"l":case"c":n.push(C(t,e));break;case"z":default:n.push(t)}}),n},convertPolarPath:function(x,b){var w,_,S,i,M=[];return s.each(b,function(t,e){var n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,y,m;switch(t[0].toLowerCase()){case"m":case"c":case"q":M.push(C(t,x));break;case"l":w=b[e-1],_=t,S=x.isTransposed,(S?w[w.length-2]===_[1]:w[w.length-1]===_[2])?M=M.concat((n=w,r=_,s=(i=x).isTransposed,u=i.startAngle,c=i.endAngle,l={x:n[1],y:n[2]},f={x:r[1],y:r[2]},h=[],p=s?"y":"x",d=Math.abs(f[p]-l[p])*(c-u),g=l[p]<=f[p]?1:0,v=d>Math.PI?1:0,y=i.convertPoint(f),.5<=(m=E(i,y))&&(d==2*Math.PI&&(o={x:(f.x+l.x)/2,y:(f.y+l.y)/2},a=i.convertPoint(o),h.push(["A",m,m,0,v,g,a.x,a.y])),h.push(["A",m,m,0,v,g,y.x,y.y])),h)):M.push(C(t,x));break;case"z":default:M.push(t)}}),i=M,s.each(i,function(t,e){var n,r;"a"===t[0].toLowerCase()&&(n=i[e-1],(r=i[e+1])&&"a"===r[0].toLowerCase()?n&&"l"===n[0].toLowerCase()&&(n[0]="M"):n&&"a"===n[0].toLowerCase()&&r&&"l"===r[0].toLowerCase()&&(r[0]="M"))}),M}};t.exports=c},function(t,e,n){var r=n(1376),i=n(687),o=n(585);t.exports=function(t){return(o(t)?r:i)(t)}},function(t,e,n){var r,i=n(530),o=i.DomUtil,a=["start","process","end","reset"],s=((r=u.prototype).getDefaultCfg=function(){return{startEvent:"mousedown",processEvent:"mousemove",endEvent:"mouseup",resetEvent:"dblclick"}},r._start=function(t){var e=this;e.preStart&&e.preStart(t),e.start(t),e.onStart&&e.onStart(t)},r._process=function(t){var e=this;e.preProcess&&e.preProcess(t),e.process(t),e.onProcess&&e.onProcess(t)},r._end=function(t){var e=this;e.preEnd&&e.preEnd(t),e.end(t),e.onEnd&&e.onEnd(t)},r._reset=function(t){var e=this;e.preReset&&e.preReset(t),e.reset(t),e.onReset&&e.onReset(t)},r.start=function(){},r.process=function(){},r.end=function(){},r.reset=function(){},r._bindEvents=function(){var n=this,r=n.canvas.get("canvasDOM");n._clearEvents(),i.each(a,function(t){var e=i.upperFirst(t);n["_on"+e+"Listener"]=o.addEventListener(r,n[t+"Event"],i.wrapBehavior(n,"_"+t))})},r._clearEvents=function(){var n=this;i.each(a,function(t){var e="_on"+i.upperFirst(t)+"Listener";n[e]&&n[e].remove()})},r.destroy=function(){this._clearEvents()},u);function u(t,e){var n=this,r=n.getDefaultCfg();i.assign(n,r,t),n.view=n.chart=e,n.canvas=e.get("canvas"),n._bindEvents()}t.exports=s},function(t,e,n){var i=n(541),o=n(547),r=Object.keys?function(t){return Object.keys(t)}:function(n){var r=[];return i(n,function(t,e){o(n)&&"prototype"===e||r.push(e)}),r};t.exports=r},function(t,e,n){var r=n(534);t.exports={assign:r}},,function(t,e,n){t.exports={Canvas:n(929),Group:n(748),Shape:n(546),Arc:n(752),Circle:n(753),Dom:n(754),Ellipse:n(755),Fan:n(756),Image:n(757),Line:n(758),Marker:n(663),Path:n(759),Polygon:n(760),Polyline:n(761),Rect:n(762),Text:n(763),PathSegment:n(615),PathUtil:n(664),Event:n(747),version:"3.3.6"}},function(t,e,n){t.exports={Axis:n(1030),Component:n(669),Guide:n(1038),Label:n(1047),Legend:n(1048),Tooltip:n(1054)}},function(t,e,n){var r=n(541),i=n(626),o=Object.prototype.hasOwnProperty;t.exports=function(e,t){if(null===e||!i(e))return{};var n={};return r(t,function(t){o.call(e,t)&&(n[t]=e[t])}),n}},function(t,e,n){var r=n(1197),i=n(1345),o=n(1198),a=n(830),s=n(1199),u=n(338),c=n(1355),l="[object Map]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",d="[object DataView]",g=c(r),v=c(i),y=c(o),m=c(a),x=c(s),b=u;(r&&b(new r(new ArrayBuffer(1)))!=d||i&&b(new i)!=l||o&&b(o.resolve())!=f||a&&b(new a)!=h||s&&b(new s)!=p)&&(b=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return d;case v:return l;case y:return f;case m:return h;case x:return p}return e}),t.exports=b},function(t,e,n){"use strict";function r(t,e){return t.parent===e.parent?1:2}function f(t,e){return t+e.x}function h(t,e){return Math.max(t,e.y)}n.r(e),n.d(e,"cluster",function(){return i}),n.d(e,"hierarchy",function(){return a}),n.d(e,"pack",function(){return T}),n.d(e,"packSiblings",function(){return E}),n.d(e,"packEnclose",function(){return g}),n.d(e,"partition",function(){return D}),n.d(e,"stratify",function(){return G}),n.d(e,"tree",function(){return W}),n.d(e,"treemap",function(){return J}),n.d(e,"treemapBinary",function(){return $}),n.d(e,"treemapDice",function(){return L}),n.d(e,"treemapSlice",function(){return X}),n.d(e,"treemapSliceDice",function(){return K}),n.d(e,"treemapSquarify",function(){return Q}),n.d(e,"treemapResquarify",function(){return tt});var i=function(){var s=r,u=1,c=1,l=!1;function e(e){var r,i=0;e.eachAfter(function(t){var e,n=t.children;n?(t.x=(e=n).reduce(f,0)/e.length,t.y=1+n.reduce(h,0)):(t.x=r?i+=s(t,r):0,t.y=0,r=t)});var t=function(t){for(var e;e=t.children;)t=e[0];return t}(e),n=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(e),o=t.x-s(t,n)/2,a=n.x+s(n,t)/2;return e.eachAfter(l?function(t){t.x=(t.x-e.x)*u,t.y=(e.y-t.y)*c}:function(t){t.x=(t.x-o)/(a-o)*u,t.y=(1-(e.y?t.y/e.y:1))*c})}return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(l=!1,u=+t[0],c=+t[1],e):l?null:[u,c]},e.nodeSize=function(t){return arguments.length?(l=!0,u=+t[0],c=+t[1],e):l?[u,c]:null},e};function o(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;0<=--r;)e+=n[r].value;else e=1;t.value=e}function a(t,e){var n,r,i,o,a,s=new d(t),u=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=l);n=c.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;0<=o;--o)c.push(r=n.children[o]=new d(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(p)}function l(t){return t.children}function s(t){t.data=t.data.data}function p(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function d(t){this.data=t,this.depth=this.height=0,this.parent=null}d.prototype=a.prototype={constructor:d,count:function(){return this.eachAfter(o)},each:function(t){var e,n,r,i,o,a=[this];do{for(n=a.reverse(),a=[];e=n.pop();)if(t(e),r=e.children)for(i=0,o=r.length;i<o;++i)a.push(r[i])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r,i=[this];e=i.pop();)if(t(e),n=e.children)for(r=n.length-1;0<=r;--r)i.push(n[r]);return this},sum:function(i){return this.eachAfter(function(t){for(var e=+i(t.data)||0,n=t.children,r=n&&n.length;0<=--r;)e+=n[r].value;t.value=e})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n},copy:function(){return a(this).eachBefore(s)}};var u=Array.prototype.slice;var g=function(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(u.call(t))).length,o=[];r<i;)e=t[r],n&&v(n,e)?++r:(n=function(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return m(t[0],t[1]);case 3:return x(t[0],t[1],t[2])}}(o=function(t,e){var n,r;if(y(e,t))return[e];for(n=0;n<t.length;++n)if(c(e,t[n])&&y(m(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(c(m(t[n],t[r]),e)&&c(m(t[n],e),t[r])&&c(m(t[r],e),t[n])&&y(x(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}(o,e)),r=0);return n};function c(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function v(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return 0<n&&r*r+i*i<n*n}function y(t,e){for(var n=0;n<e.length;++n)if(!v(t,e[n]))return;return 1}function m(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,c=a-r,l=s-i,f=Math.sqrt(u*u+c*c);return{x:(n+o+u/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+s)/2}}function x(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,c=n.x,l=n.y,f=n.r,h=r-a,p=r-c,d=i-s,g=i-l,v=u-o,y=f-o,m=r*r+i*i-o*o,x=m-a*a-s*s+u*u,b=m-c*c-l*l+f*f,w=p*d-h*g,_=(d*b-g*x)/(2*w)-r,S=(g*v-d*y)/w,M=(p*x-h*b)/(2*w)-i,E=(h*y-p*v)/w,C=S*S+E*E-1,P=2*(o+_*S+M*E),k=_*_+M*M-o*o,A=-(C?(P+Math.sqrt(P*P-4*C*k))/(2*C):k/P);return{x:r+_+S*A,y:i+M+E*A,r:A}}function b(t,e,n){var r,i,o,a,s=t.x-e.x,u=t.y-e.y,c=s*s+u*u;c?(i=e.r+n.r,i*=i,a=t.r+n.r,(a*=a)<i?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=t.x-r*s-o*u,n.y=t.y-r*u+o*s):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*s-o*u,n.y=e.y+r*u+o*s)):(n.x=e.x+n.r,n.y=e.y)}function w(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return 0<n&&r*r+i*i<n*n}function _(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function S(t){this._=t,this.next=null,this.previous=null}function M(t){if(!(r=t.length))return 0;var e,n,r,i,o,a,s,u,c,l,f=t[0];if(f.x=0,f.y=0,!(1<r))return f.r;if(e=t[1],f.x=-e.r,e.x=f.r,e.y=0,!(2<r))return f.r+e.r;b(e,f,n=t[2]),f=new S(f),e=new S(e),n=new S(n),((f.next=n.previous=e).next=f.previous=n).next=e.previous=f;t:for(a=3;a<r;++a){b(f._,e._,n=t[a]),n=new S(n),s=e.next,u=f.previous,c=e._.r,l=f._.r;do{if(c<=l){if(w(s._,n._)){e=s,(f.next=e).previous=f,--a;continue t}c+=s._.r,s=s.next}else{if(w(u._,n._)){((f=u).next=e).previous=f,--a;continue t}l+=u._.r,u=u.previous}}while(s!==u.next);for(n.previous=f,n.next=e,f.next=e.previous=e=n,i=_(f);(n=n.next)!==e;)(o=_(n))<i&&(f=n,i=o);e=f.next}for(f=[e._],n=e;(n=n.next)!==e;)f.push(n._);for(n=g(f),a=0;a<r;++a)(f=t[a]).x-=n.x,f.y-=n.y;return n.r}var E=function(t){return M(t),t};function C(t){if("function"!=typeof t)throw new Error;return t}function P(){return 0}function k(t){return function(){return t}}function A(t){return Math.sqrt(t.value)}var T=function(){var n=null,e=1,r=1,i=P;function o(t){return t.x=e/2,t.y=r/2,n?t.eachBefore(O(n)).eachAfter(I(i,.5)).eachBefore(j(1)):t.eachBefore(O(A)).eachAfter(I(P,1)).eachAfter(I(i,t.r/Math.min(e,r))).eachBefore(j(Math.min(e,r)/(2*t.r))),t}return o.radius=function(t){return arguments.length?(n=null==(e=t)?null:C(e),o):n;var e},o.size=function(t){return arguments.length?(e=+t[0],r=+t[1],o):[e,r]},o.padding=function(t){return arguments.length?(i="function"==typeof t?t:k(+t),o):i},o};function O(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function I(a,s){return function(t){if(e=t.children){var e,n,r,i=e.length,o=a(t)*s||0;if(o)for(n=0;n<i;++n)e[n].r+=o;if(r=M(e),o)for(n=0;n<i;++n)e[n].r-=o;t.r=r+o}}}function j(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function R(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}var L=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c},D=function(){var n=1,r=1,s=0,i=!1;function e(t){var o,a,e=t.height+1;return t.x0=t.y0=s,t.x1=n,t.y1=r/e,t.eachBefore((o=r,a=e,function(t){t.children&&L(t,t.x0,o*(t.depth+1)/a,t.x1,o*(t.depth+2)/a);var e=t.x0,n=t.y0,r=t.x1-s,i=t.y1-s;r<e&&(e=r=(e+r)/2),i<n&&(n=i=(n+i)/2),t.x0=e,t.y0=n,t.x1=r,t.y1=i})),i&&t.eachBefore(R),t}return e.round=function(t){return arguments.length?(i=!!t,e):i},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(s=+t,e):s},e},B={depth:-1},F={};function N(t){return t.id}function z(t){return t.parentId}var G=function(){var f=N,h=z;function e(t){for(var e,n,r,i,o,a,s=t.length,u=new Array(s),c={},l=0;l<s;++l)e=t[l],i=u[l]=new d(e),null!=(o=f(e,l,t))&&(o+="")&&(c[a="$"+(i.id=o)]=a in c?F:i);for(l=0;l<s;++l)if(i=u[l],null!=(o=h(t[l],l,t))&&(o+="")){if(!(r=c["$"+o]))throw new Error("missing: "+o);if(r===F)throw new Error("ambiguous: "+o);r.children?r.children.push(i):r.children=[i],i.parent=r}else{if(n)throw new Error("multiple roots");n=i}if(!n)throw new Error("no root");if(n.parent=B,n.eachBefore(function(t){t.depth=t.parent.depth+1,--s}).eachBefore(p),n.parent=null,0<s)throw new Error("cycle");return n}return e.id=function(t){return arguments.length?(f=C(t),e):f},e.parentId=function(t){return arguments.length?(h=C(t),e):h},e};function V(t,e){return t.parent===e.parent?1:2}function Y(t){var e=t.children;return e?e[0]:t.t}function H(t){var e=t.children;return e?e[e.length-1]:t.t}function q(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}q.prototype=Object.create(d.prototype);var W=function(){var h=V,c=1,l=1,f=null;function e(t){var e,n,r,i,o,a,s,u=function(t){for(var e,n,r,i,o,a=new q(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;0<=i;--i)s.push(n=e.children[i]=new q(r[i],i)),n.parent=e;return(a.parent=new q(null,0)).children=[a],a}(t);return u.eachAfter(p),u.parent.m=-u.z,u.eachBefore(d),f?t.eachBefore(g):((r=n=e=t).eachBefore(function(t){t.x<e.x&&(e=t),t.x>n.x&&(n=t),t.depth>r.depth&&(r=t)}),i=e===n?1:h(e,n)/2,o=i-e.x,a=c/(n.x+i+o),s=l/(r.depth||1),t.eachBefore(function(t){t.x=(t.x+o)*a,t.y=t.depth*s})),t}function p(t){var e,n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;n?(function(t){for(var e,n=0,r=0,i=t.children,o=i.length;0<=--o;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t),e=(n[0].z+n[n.length-1].z)/2,i?(t.z=i.z+h(t._,i._),t.m=t.z-e):t.z=e):i&&(t.z=i.z+h(t._,i._)),t.parent.A=function(t,e,n){if(e){for(var r,i=t,o=t,a=e,s=i.parent.children[0],u=i.m,c=o.m,l=a.m,f=s.m;a=H(a),i=Y(i),a&&i;)s=Y(s),(o=H(o)).a=t,0<(r=a.z+l-i.z-u+h(a._,i._))&&(function(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}(function(t,e,n){return t.a.parent===e.parent?t.a:n}(a,t,n),t,r),u+=r,c+=r),l+=a.m,u+=i.m,f+=s.m,c+=o.m;a&&!H(o)&&(o.t=a,o.m+=l-c),i&&!Y(s)&&(s.t=i,s.m+=u-f,n=t)}return n}(t,i,t.parent.A||r[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function g(t){t.x*=c,t.y=t.depth*l}return e.separation=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(f=!1,c=+t[0],l=+t[1],e):f?null:[c,l]},e.nodeSize=function(t){return arguments.length?(f=!0,c=+t[0],l=+t[1],e):f?[c,l]:null},e},X=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c},U=(1+Math.sqrt(5))/2;function Z(t,e,n,r,i,o){for(var a,s,u,c,l,f,h,p,d,g,v,y=[],m=e.children,x=0,b=0,w=m.length,_=e.value;x<w;){for(u=i-n,c=o-r;!(l=m[b++].value)&&b<w;);for(v=(f=h=l)*l*(g=Math.max(c/u,u/c)/(_*t)),d=Math.max(h/v,v/f);b<w;++b){if(l+=s=m[b].value,s<f&&(f=s),h<s&&(h=s),v=l*l*g,d<(p=Math.max(h/v,v/f))){l-=s;break}d=p}y.push(a={value:l,dice:u<c,children:m.slice(x,b)}),a.dice?L(a,n,r,i,_?r+=c*l/_:o):X(a,n,r,_?n+=u*l/_:i,o),_-=l,x=b}return y}var Q=function e(o){function t(t,e,n,r,i){Z(o,t,e,n,r,i)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(U),J=function(){var a=Q,e=!1,n=1,r=1,s=[0],u=P,c=P,l=P,f=P,h=P;function i(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(o),s=[0],e&&t.eachBefore(R),t}function o(t){var e=s[t.depth],n=t.x0+e,r=t.y0+e,i=t.x1-e,o=t.y1-e;i<n&&(n=i=(n+i)/2),o<r&&(r=o=(r+o)/2),t.x0=n,t.y0=r,t.x1=i,t.y1=o,t.children&&(e=s[t.depth+1]=u(t)/2,n+=h(t)-e,r+=c(t)-e,(i-=l(t)-e)<n&&(n=i=(n+i)/2),(o-=f(t)-e)<r&&(r=o=(r+o)/2),a(t,n,r,i,o))}return i.round=function(t){return arguments.length?(e=!!t,i):e},i.size=function(t){return arguments.length?(n=+t[0],r=+t[1],i):[n,r]},i.tile=function(t){return arguments.length?(a=C(t),i):a},i.padding=function(t){return arguments.length?i.paddingInner(t).paddingOuter(t):i.paddingInner()},i.paddingInner=function(t){return arguments.length?(u="function"==typeof t?t:k(+t),i):u},i.paddingOuter=function(t){return arguments.length?i.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):i.paddingTop()},i.paddingTop=function(t){return arguments.length?(c="function"==typeof t?t:k(+t),i):c},i.paddingRight=function(t){return arguments.length?(l="function"==typeof t?t:k(+t),i):l},i.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:k(+t),i):f},i.paddingLeft=function(t){return arguments.length?(h="function"==typeof t?t:k(+t),i):h},i},$=function(t,e,n,r,i){var o,a,m=t.children,s=m.length,x=new Array(s+1);for(x[0]=a=o=0;o<s;++o)x[o+1]=a+=m[o].value;!function t(e,n,r,i,o,a,s){if(n-1<=e){var u=m[e];return u.x0=i,u.y0=o,u.x1=a,void(u.y1=s)}var c=x[e],l=r/2+c,f=e+1,h=n-1;for(;f<h;){var p=f+h>>>1;x[p]<l?f=1+p:h=p}l-x[f-1]<x[f]-l&&e+1<f&&--f;var d=x[f]-c,g=r-d;{var v,y;s-o<a-i?(t(e,f,d,i,o,v=(i*g+a*d)/r,s),t(f,n,g,v,o,a,s)):(t(e,f,d,i,o,a,y=(o*g+s*d)/r),t(f,n,g,i,y,a,s))}}(0,s,t.value,e,n,r,i)},K=function(t,e,n,r,i){(1&t.depth?X:L)(t,e,n,r,i)},tt=function e(p){function t(t,e,n,r,i){if((o=t._squarify)&&o.ratio===p)for(var o,a,s,u,c,l=-1,f=o.length,h=t.value;++l<f;){for(s=(a=o[l]).children,u=a.value=0,c=s.length;u<c;++u)a.value+=s[u].value;a.dice?L(a,e,n,r,n+=(i-n)*a.value/h):X(a,e,n,e+=(r-e)*a.value/h,i),h-=a.value}else t._squarify=o=Z(p,t,e,n,r,i),o.ratio=p}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(U)},,,,function(t,e,n){var r=n(545);t.exports=function(t){return r(t)?"":t.toString()}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e=void 0===t?"undefined":n(t);return null!==t&&"object"===e||"function"===e}},function(t,e,n){var r=n(656),i=n(557);t.exports=function(t){if(!r(t)||!i(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(a,t,s){var u;
/*!
 * EventEmitter v5.1.0 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */!function(t){"use strict";function e(){}var n=e.prototype,r=t.EventEmitter;function o(t,e){for(var n=t.length;n--;)if(t[n].listener===e)return n;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}n.getListeners=function(t){var e,n,r=this._getEvents();if(t instanceof RegExp)for(n in e={},r)r.hasOwnProperty(n)&&t.test(n)&&(e[n]=r[n]);else e=r[t]||(r[t]=[]);return e},n.flattenListeners=function(t){for(var e=[],n=0;n<t.length;n+=1)e.push(t[n].listener);return e},n.getListenersAsObject=function(t){var e,n=this.getListeners(t);return n instanceof Array&&((e={})[t]=n),e||n},n.addListener=function(t,e){if(!function t(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&t(e.listener)}(e))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(t),i="object"==typeof e;for(n in r)r.hasOwnProperty(n)&&-1===o(r[n],e)&&r[n].push(i?e:{listener:e,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,e){var n,r,i=this.getListenersAsObject(t);for(r in i)i.hasOwnProperty(r)&&-1!==(n=o(i[r],e))&&i[r].splice(n,1);return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,n){var r,i,o=t?this.removeListener:this.addListener,a=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(r=n.length;r--;)o.call(this,e,n[r]);else for(r in e)e.hasOwnProperty(r)&&(i=e[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},n.removeEvent=function(t){var e,n=typeof t,r=this._getEvents();if("string"==n)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var n,r,i,o,a=this.getListenersAsObject(t);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(t,r.listener),r.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,r.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return t.EventEmitter=r,e},void 0===(u=function(){return e}.call(t,s,t,a))||(a.exports=u)}(this||{})},function(t,e,n){var o=n(533),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,a=/[^\s\,]+/gi,s={};t.exports={parseRadius:function(t){var e=0,n=0,r=0,i=0;return o.isArray(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}},parsePath:function(r){return r=r||[],o.isArray(r)?r:o.isString(r)?(r=r.match(i),o.each(r,function(n,t){var e;1<(n=n.match(a))[0].length&&(e=n[0].charAt(0),n.splice(1,0,n[0].substr(1)),n[0]=e),o.each(n,function(t,e){isNaN(t)||(n[e]=+t)}),r[t]=n}),r):void 0},numberToColor:function(t){var e=s[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,s[t]=e}return e}}},function(t,e,n){var r=n(554),o=n(540),s=n(545),u=n(550),i=n(535);function a(t,e){return r(e)?e:t.invert(t.scale(e))}var c,l=((c=f.prototype)._getAttrValue=function(t,e){var n=this.values;if(t.isCategory&&!this.linear)return n[t.translate(e)%n.length];var r=t.scale(e);return this.getLinearValue(r)},c.getLinearValue=function(t){var e=this.values,n=e.length-1,r=Math.floor(n*t),i=n*t-r,o=e[r];return o+((r===n?o:e[r+1])-o)*i},c.callback=function(t){var e=this.scales[0];return"identity"===e.type?e.value:this._getAttrValue(e,t)},c.getNames=function(){for(var t=this.scales,e=this.names,n=Math.min(t.length,e.length),r=[],i=0;i<n;i++)r.push(e[i]);return r},c.getFields=function(){var t=this.scales,e=[];return i(t,function(t){e.push(t.field)}),e},c.getScale=function(t){return this.scales[this.names.indexOf(t)]},c.mapping=function(){for(var t=this.scales,e=this.callback,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r;if(e){for(var a=0,s=r.length;a<s;a++)r[a]=this._toOriginParam(r[a],t[a]);o=e.apply(this,r)}return o=[].concat(o)},c._toOriginParam=function(t,e){var n=t;if(!e.isLinear)if(o(t)){n=[];for(var r=0,i=t.length;r<i;r++)n.push(a(e,t[r]))}else n=a(e,t);return n},f);function f(t){var i=this;this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[];var o,e=this.linear=null,a=this.callback;t.callback&&(o=t.callback,e=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=o.apply(void 0,e);return s(r)&&(r=a.apply(i,e)),r}),u(this,t),e&&u(this,{callback:e})}t.exports=l},function(t,e,n){var r,i=n(550),o=((r=a.prototype)._initDefaultCfg=function(){this.adjustNames=["x","y"]},r.processAdjust=function(){},a);function a(t){this._initDefaultCfg(),i(this,t)}t.exports=o},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=n(594),h=n(536),s=n(791),u=n(792),c=n(563).FONT_FAMILY,i=function(n){var t,e;e=n,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;o(r);function r(){return n.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return h.mix({},t,{_id:null,zIndex:4,ticks:null,line:null,tickLine:null,subTickCount:0,subTickLine:null,grid:null,label:{offset:0,offsetX:0,offsetY:0,textStyle:{},autoRotate:!0,autoHide:!1,formatter:null},labelItems:[],title:{autoRotate:!0,textStyle:{}},autoPaint:!0})},i.beforeRender=function(){var t=this.get("title"),e=this.get("label"),n=this.get("grid");t&&this.set("title",h.deepMix({autoRotate:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:c,textAlign:"center"},offset:48},t)),e&&this.set("label",h.deepMix({autoRotate:!0,autoHide:!0,textStyle:{fontSize:12,fill:"#ccc",textBaseline:"middle",fontFamily:c},offset:10},e)),n&&this.set("grid",h.deepMix({lineStyle:{lineWidth:1,stroke:"#C0D0E0"}},n))},i.render=function(){this.beforeRender(),this.get("label")&&this.renderLabels(),this.get("autoPaint")&&this.paint(),h.isNil(this.get("title"))||this.renderTitle(),this.get("group").sort()},i.renderLabels=function(){var t=this.get("group"),e=this.get("label"),n=new u({name:"axis-label"});this.set("labelRenderer",n),n.set("labelCfg",e);h.each(["formatter","htmlTemplate","labelLine","textStyle","useHtml"],function(t){e[t]&&n.set(t,e[t])}),n.set("coord",this.get("coord")),n.set("group",t.addGroup()),n.set("canvas",this.get("canvas"))},i._parseTicks=function(t){for(var e=(t=t||[]).length,n=0;n<e;n++){var r=t[n];h.isObject(r)||(t[n]=this.parseTick(r,n,e))}return this.set("ticks",t),t},i._addTickItem=function(t,e,n,r){void 0===r&&(r="");var i=this.get("tickItems"),o=this.get("subTickItems"),a=this.getTickEnd(e,n,t),s={x1:e.x,y1:e.y,x2:a.x,y2:a.y},i=i||[],o=o||[];"sub"===r?o.push(s):i.push(s),this.set("tickItems",i),this.set("subTickItems",o)},i._renderLine=function(){var t,e,n=this.get("line");n&&(t=this.getLinePath(),n=h.mix({path:t},n),(e=this.get("group").addShape("path",{attrs:n})).name="axis-line",this.get("appendInfo")&&e.setSilent("appendInfo",this.get("appendInfo")),this.set("lineShape",e))},i._processCatTicks=function(){for(var t=this,e=t.get("label"),n=t.get("tickLine"),r=t.get("ticks"),r=t._parseTicks(r),i=t._getNormalizedTicks(r),o=0;o<i.length;o+=3){var a=t.getTickPoint(i[o]),s=t.getTickPoint(i[o+1]),u=t.getTickPoint(i[o+2]),c=Math.floor(o/3),l=r[c];n&&(0===c&&t._addTickItem(c,s,n.length),t._addTickItem(c,u,n.length)),e&&t.addLabel(l,a,c)}},i._getNormalizedTicks=function(t){var e=0;1<t.length&&(e=(t[1].value-t[0].value)/2);for(var n=[],r=0;r<t.length;r++){var i=t[r],o=i.value,a=i.value-e,s=i.value+e;n.push(o,a,s)}var u=h.arrayUtil.getRange(n);return n.map(function(t){return(t-u.min)/(u.max-u.min)})},i.addLabel=function(t,e,n){var r,i,o=this.get("labelItems"),a=this.get("labelRenderer"),s=h.deepMix({},this.get("label"));a&&(r=this.get("_labelOffset"),h.isNil(this.get("label").offset)||(r=this.get("label").offset),i=this.getSideVector(r,e,n),e={x:e.x+i[0]+s.offsetX,y:e.y+i[1]+s.offsetY},s.text=t.text,s.x=e.x,s.y=e.y,s.point=e,s.textAlign=this.getTextAnchor(i),e.rotate&&(s.rotate=e.rotate),o.push(s))},i._processTicks=function(){var s,u=this,r=u.get("label"),c=u.get("subTickCount"),l=u.get("tickLine"),f=u.get("ticks"),f=u._parseTicks(f);h.each(f,function(t,e){var n=u.getTickPoint(t.value,e);l&&u._addTickItem(e,n,l.length),r&&u.addLabel(t,n,e)}),c&&(s=u.get("subTickLine"),h.each(f,function(t,e){if(0<e){var n=t.value-f[e-1].value;n/=u.get("subTickCount")+1;for(var r=1;r<=c;r++){var i={text:"",value:e?f[e-1].value+r*n:r*n},o=u.getTickPoint(i.value),a=void 0,a=s&&s.length?s.length:parseInt(.6*l.length,10);u._addTickItem(r-1,o,a,"sub")}}}))},i._addTickLine=function(t,e){var n=h.mix({},e),r=[];h.each(t,function(t){r.push(["M",t.x1,t.y1]),r.push(["L",t.x2,t.y2])}),delete n.length,n.path=r;var i=this.get("group").addShape("path",{attrs:n});i.name="axis-ticks",i._id=this.get("_id")+"-ticks",i.set("coord",this.get("coord")),this.get("appendInfo")&&i.setSilent("appendInfo",this.get("appendInfo"))},i._renderTicks=function(){var t,e,n=this.get("tickItems"),r=this.get("subTickItems");h.isEmpty(n)||(t=this.get("tickLine"),this._addTickLine(n,t)),h.isEmpty(r)||(e=this.get("subTickLine")||this.get("tickLine"),this._addTickLine(r,e))},i._renderGrid=function(){var t,e=this.get("grid");e&&(e.coord=this.get("coord"),e.appendInfo=this.get("appendInfo"),t=this.get("group"),this.set("gridGroup",t.addGroup(s,e)))},i._renderLabels=function(){var t=this.get("labelRenderer"),e=this.get("labelItems");t&&(t.set("items",e),t._dryDraw())},i.paint=function(){var t=this,e=t.get("tickLine"),n=!0;e&&e.hasOwnProperty("alignWithLabel")&&(n=e.alignWithLabel),t._renderLine();var r=t.get("type");("cat"===r||"timeCat"===r)&&!1===n?t._processCatTicks():t._processTicks(),t._renderTicks(),t._renderGrid(),t._renderLabels();var i=this.get("label");i&&i.autoRotate&&t.autoRotateLabels(),i&&i.autoHide&&t.autoHideLabels()},i.parseTick=function(t,e,n){return{text:t,value:e/(n-1)}},i.getTextAnchor=function(t){var e=1<=Math.abs(t[1]/t[0])?"center":0<t[0]?"start":"end";return e},i.getMaxLabelWidth=function(t){var e=t.getLabels(),n=0;return h.each(e,function(t){var e=t.getBBox().width;n<e&&(n=e)}),n},i.getMaxLabelHeight=function(t){var e=t.getLabels(),n=0;return h.each(e,function(t){var e=t.getBBox().height;n<e&&(n=e)}),n},i.destroy=function(){var t,e;this.destroyed||((t=this.get("gridGroup"))&&t.remove(),(e=this.get("labelRenderer"))&&e.destroy(),this.get("group").destroy(),n.prototype.destroy.call(this))},i.clear=function(){var t,e,n=this.get("group");!n.get("destroyed")&&n.get("children").length&&((t=this.get("gridGroup"))&&t.clear(),(e=this.get("labelRenderer"))&&e.clear(),this.get("group").clear())},i.autoRotateLabels=function(){},i.autoHideLabels=function(){},i.renderTitle=function(){},i.getLinePath=function(){},i.getTickPoint=function(){},i.getTickEnd=function(){},i.getSideVector=function(){},r}(r);t.exports=i},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(t){var e,n;n=t,(e=r).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n;o(r);function r(){return t.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){return{_id:null,canvas:null,container:null,group:null,capture:!1,coord:null,offset:[0,0],plotRange:null,position:[0,0],visible:!0,zIndex:1}},i._init=function(){},i.clear=function(){},i.destroy=function(){t.prototype.destroy.call(this)},i.beforeRender=function(){},i.render=function(){},i.afterRender=function(){},i.beforeDraw=function(){},i.draw=function(){},i.afterDraw=function(){},i.show=function(){},i.hide=function(){},i.setOffset=function(){},i.setPosition=function(){},i.setVisible=function(){},i.setZIndex=function(){},r}(n(669));t.exports=r},function(t,e,n){"use strict";var r=n(622),i=n(623);e.a=function(t){var e=Object(r.a)(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===i.b&&t.documentElement.namespaceURI===i.b?t.createElement(n):t.createElementNS(e,n)}})(e)}},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"a",function(){return s});var r={},o=null;function i(n,t,e){return n=a(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function a(n,r,i){return function(t){var e=o;o=t;try{n.call(this,this.__data__,r,i)}finally{o=e}}}function f(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function h(u,c,l){var f=r.hasOwnProperty(u.type)?i:a;return function(t,e,n){var r,i=this.__on,o=f(c,e,n);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===u.type&&r.name===u.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=l),void(r.value=c);this.addEventListener(u.type,o,l),r={type:u.type,name:u.name,value:c,listener:o,capture:l},i?i.push(r):this.__on=[r]}}function s(t,e,n,r){var i=o;t.sourceEvent=o,o=t;try{return e.apply(n,r)}finally{o=i}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(r={mouseenter:"mouseover",mouseleave:"mouseout"})),e.b=function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(s=e?h:f,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}},function(t,e,n){var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=n(589),a=n(534),s=n(598),u=n(598),c=n(1134),l=n(541),f=n(537),h=n(626),p=n(815),d=n(679),g=n(543),v=n(575),y=n(580);var m,x=(i(b,m=o),b.prototype._parseStateExpression=function(t){var e=this.dataSet,n=/^\$state\.(\w+)/.exec(t);return n?e.state[n[1]]:t},b.prototype._preparseOptions=function(t){var n,r=this,i=(n={},l(t,function(t,e){d(t)&&t.isView?n[e]=t:f(t)?n[e]=t.concat([]):h(t)?n[e]=s(t):n[e]=t}),n);return r.loose||l(i,function(t,e){g(t)&&/^\$state\./.test(t)&&(i[e]=r._parseStateExpression(t))}),i},b.prototype._prepareSource=function(t,e){var n=this,r=b.DataSet;if(n._source={source:t,options:e},e)e=n._preparseOptions(e),n.origin=r.getConnector(e.type)(t,e,n);else if(t instanceof b||g(t))n.origin=r.getConnector("default")(t,n.dataSet);else if(f(t))n.origin=t;else{if(!d(t)||!t.type)throw new TypeError("Invalid source");e=n._preparseOptions(t),n.origin=r.getConnector(e.type)(e,n)}return n.rows=u(n.origin),n},b.prototype.source=function(t,e){return this._prepareSource(t,e),this._reExecuteTransforms(),this.trigger("change"),this},b.prototype.transform=function(t){void 0===t&&(t={});return this.transforms.push(t),this._executeTransform(t),this},b.prototype._executeTransform=function(t){t=this._preparseOptions(t),b.DataSet.getTransform(t.type)(this,t)},b.prototype._reExecuteTransforms=function(){var e=this;e.transforms.forEach(function(t){e._executeTransform(t)})},b.prototype.addRow=function(t){this.rows.push(t)},b.prototype.removeRow=function(t){this.rows.splice(t,1)},b.prototype.updateRow=function(t,e){a(this.rows[t],e)},b.prototype.findRows=function(e){return this.rows.filter(function(t){return p(t,e)})},b.prototype.findRow=function(t){return c(this.rows,t)},b.prototype.getColumnNames=function(){var t=this.rows[0];return t?v(t):[]},b.prototype.getColumnName=function(t){return this.getColumnNames()[t]},b.prototype.getColumnIndex=function(t){return this.getColumnNames().indexOf(t)},b.prototype.getColumn=function(e){return this.rows.map(function(t){return t[e]})},b.prototype.getColumnData=function(t){return this.getColumn(t)},b.prototype.getSubset=function(t,e,n){for(var r=[],i=t;i<=e;i++)r.push(y(this.rows[i],n));return r},b.prototype.toString=function(t){return t?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},b.prototype._reExecute=function(){var t=this._source,e=t.source,n=t.options;this._prepareSource(e,n),this._reExecuteTransforms(),this.trigger("change")},b);function b(t,e){var n,r=m.call(this)||this,i=r;return e=e||{},(t=t||{}).isDataSet||(e=t,t=null),a(i,{dataSet:t,loose:!t,dataType:"table",isView:!0,isDataView:!0,origin:[],rows:[],transforms:[],watchingStates:null},e),i.loose||(n=i.watchingStates,t.on("statechange",function(t){(!f(n)||-1<n.indexOf(t))&&i._reExecute()})),r}t.exports=x},function(t,e,n){var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(537);t.exports=function t(e){if("object"!==(void 0===e?"undefined":a(e))||null===e)return e;var n=void 0;if(s(e)){n=[];for(var r=0,i=e.length;r<i;r++)"object"===a(e[r])&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var o in n={},e)"object"===a(e[o])&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o];return n}},function(t,e){var n={}.toString;t.exports=function(t,e){return n.call(t)==="[object "+e+"]"}},,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(607);function a(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!=t&&e!=e}function s(t){return o.Util.isArray(t)?t.length:o.Util.isObject(t)?Object.keys(t).length:0}e.default=o.Util.mix({},o.Util,{shallowEqual:function(t,n){if(a(t,n))return!0;if("object"!==(void 0===t?"undefined":i(t))||null===t||"object"!==(void 0===n?"undefined":i(n))||null===n)return!1;if(o.Util.isArray(t)!==o.Util.isArray(n))return!1;if(s(t)!==s(n))return!1;var r=!0;return o.Util.each(t,function(t,e){return!!a(t,n[e])||(r=!1)}),r},without:function(t,e){var n=1<arguments.length&&void 0!==e?e:[],r={};return o.Util.each(t,function(t,e){-1===o.Util.indexOf(n,e)&&(r[e]=t)}),r},length:s})},function(t,e,n){var r=n(721),i=n(558),o=n(765),a=n(619),s=n(542),u=n(553),c=n(530),l={version:s.version,Animate:o,Chart:a,Global:s,Scale:r,Shape:u,Util:c,G:i,DomUtil:c.DomUtil,MatrixUtil:c.MatrixUtil,PathUtil:c.PathUtil,track:function(){console.warn("G2 tracks nothing ;-)")}};"undefined"!=typeof window&&(window.G2?console.warn("There are multiple versions of G2. Version "+l.version+"'s reference is 'window.G2_3'"):window.G2=l),t.exports=l},function(t,e,n){var o=n(545),a=n(535),r=n(571),u=n(922),i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var i=r.prototype;return i._initDefaultCfg=function(){e.prototype._initDefaultCfg.call(this);var t=this;t.type="linear",t.isLinear=!0,t.nice=!1,t.min=null,t.minLimit=null,t.max=null,t.maxLimit=null,t.tickCount=null,t.tickInterval=null,t.minTickInterval=null,t.snapArray=null},i.init=function(){var t,e,n,r=this;r.ticks?(t=r.ticks,e=r.translate(t[0]),n=r.translate(t[t.length-1]),(o(r.min)||r.min>e)&&(r.min=e),(o(r.max)||r.max<n)&&(r.max=n)):(r.min=r.translate(r.min),r.max=r.translate(r.max),r.initTicks())},i.calculateTicks=function(){var t=this.min,e=this.max,n=this.minLimit,r=this.maxLimit,i=this.tickCount,o=this.tickInterval,a=this.minTickInterval,s=this.snapArray;if(1===i)throw new Error("linear scale'tickCount should not be 1");if(e<t)throw new Error("max: "+e+" should not be less than min: "+t);return u({min:t,max:e,minLimit:n,maxLimit:r,minCount:i,maxCount:i,interval:o,minTickInterval:a,snapArray:s}).ticks},i.initTicks=function(){var e,n=this,t=n.calculateTicks();n.nice?(n.ticks=t,n.min=t[0],n.max=t[t.length-1]):(e=[],a(t,function(t){t>=n.min&&t<=n.max&&e.push(t)}),e.length||(e.push(n.min),e.push(n.max)),n.ticks=e)},i.scale=function(t){if(o(t))return NaN;var e=this.max,n=this.min;if(e===n)return 0;var r=(t-n)/(e-n),i=this.rangeMin();return i+r*(this.rangeMax()-i)},i.invert=function(t){var e=(t-this.rangeMin())/(this.rangeMax()-this.rangeMin());return this.min+e*(this.max-this.min)},r}(r);r.Linear=i,t.exports=i},function(t,e,n){var r=n(554),i=n(727);t.exports={toTimeStamp:function(t){return r(t)&&(t=0<t.indexOf("T")?new Date(t).getTime():new Date(t.replace(/-/gi,"/")).getTime()),i(t)&&(t=t.getTime()),t}}},function(t,e,n){var r=n(562);t.exports=function(t){return r(t)?Array.prototype.slice.call(t):[]}},function(t,e){t.exports=function(t,e,n){var r=2<arguments.length&&void 0!==n?n:1e-5;return Math.abs(t-e)<r}},function(t,e,n){var c=n(533).vec2;t.exports={at:function(t,e,n){return(e-t)*n+t},pointDistance:function(t,e,n,r,i,o){var a=[n-t,r-e];if(c.exactEquals(a,[0,0]))return NaN;var s=[-a[1],a[0]];c.normalize(s,s);var u=[i-t,o-e];return Math.abs(c.dot(u,s))},box:function(t,e,n,r,i){var o=i/2,a=Math.min(t,n),s=Math.max(t,n);return{minX:a-o,minY:Math.min(e,r)-o,maxX:s+o,maxY:Math.max(e,r)+o}},len:function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}}},function(t,e,n){var g=n(533);function v(t,e,n,r){return{x:Math.cos(r)*n+t,y:Math.sin(r)*n+e}}function o(t,e,n,r){var i,o;return r?t<e?(i=e-t,o=2*Math.PI-n+t):n<t&&(i=2*Math.PI-t+e,o=t-n):(i=t-e,o=n-t),o<i?n:e}function y(t,e,n,r){var i=0;return n-e>=2*Math.PI&&(i=2*Math.PI),e=g.mod(e,2*Math.PI),n=g.mod(n,2*Math.PI)+i,t=g.mod(t,2*Math.PI),r?n<=e?n<t&&t<e?t:o(t,n,e,!0):t<e||n<t?t:o(t,e,n):e<=n?e<t&&t<n?t:o(t,e,n,!0):e<t||t<n?t:o(t,n,e)}function c(t,e,n,r,i,o,a,s,u){var c=[a,s],l=[t,e],f=g.vec2.subtract([],c,l),h=y(h=g.vec2.angleTo([1,0],f),r,i,o),p=[n*Math.cos(h)+t,n*Math.sin(h)+e];return u&&(u.x=p[0],u.y=p[1]),g.vec2.distance(p,c)}t.exports={nearAngle:y,projectPoint:function(t,e,n,r,i,o,a,s){var u={};return c(t,e,n,r,i,o,a,s,u),u},pointDistance:c,box:function(t,e,n,r,i,o){var a=Math.PI/2,s=Math.PI,u=3*Math.PI/2,c=[],l=y(0,r,i,o);0===l&&c.push(v(t,e,n,0)),y(a,r,i,o)===a&&c.push(v(t,e,n,a)),y(s,r,i,o)===s&&c.push(v(t,e,n,s)),y(u,r,i,o)===u&&c.push(v(t,e,n,u)),c.push(v(t,e,n,r)),c.push(v(t,e,n,i));var f=1/0,h=-1/0,p=1/0,d=-1/0;return g.each(c,function(t){f>t.x&&(f=t.x),h<t.x&&(h=t.x),p>t.y&&(p=t.y),d<t.y&&(d=t.y)}),{minX:f,minY:p,maxX:h,maxY:d}}}},function(t,e,n){var g=n(590),v=n(615),y=Math.PI,m=Math.sin,x=Math.cos,b=Math.atan2,w=y/3;function a(t,e,n,r,i,o,a){var s,u,c,l,f,h,p,d,g;e.fill||(f=e.arrowLength||10,h=e.arrowAngle?e.arrowAngle*y/180:w,p=b(r-o,n-i),d=Math.abs(e.lineWidth*x(p))/2,g=Math.abs(e.lineWidth*m(p))/2,a&&(d=-d,g=-g),s=i+f*x(p+h/2),u=o+f*m(p+h/2),c=i+f*x(p-h/2),l=o+f*m(p-h/2),t.beginPath(),t.moveTo(s-d,u-g),t.lineTo(i-d,o-g),t.lineTo(c-d,l-g),t.moveTo(i-d,o-g),t.lineTo(i+d,o+g),t.moveTo(i,o),t.stroke())}function s(t,e,n,r,i,o,a){var s=a?e.startArrow:e.endArrow,u=s.d,c=0,l=i-n,f=o-r,h=Math.atan(l/f);0==f&&l<0?c=Math.PI:0<l&&0<f?c=Math.PI/2-h:l<0&&f<0?c=-Math.PI/2-h:0<=l&&f<0?c=-h-Math.PI/2:l<=0&&0<f&&(c=Math.PI/2-h);var p=function(t){var e=[],n=g.parsePath(t.path);if(!Array.isArray(n)||0===n.length||"M"!==n[0][0]&&"m"!==n[0][0])return!1;for(var r=n.length,i=0;i<n.length;i++){var o=n[i],a=new v(o,a,i===r-1);e.push(a)}return e}(s);if(p){u&&(o=a?(i+=Math.sin(Math.abs(h))*u,o+Math.cos(Math.abs(h))*u-.5*t.lineWidth):(i-=Math.sin(Math.abs(h))*u,o-Math.cos(Math.abs(h))*u+.5*t.lineWidth)),t.save(),t.beginPath(),t.translate(i,o),t.rotate(c);for(var d=0;d<p.length;d++)p[d].draw(t);t.setTransform(1,0,0,1,0,0),t.fillStyle=t.strokeStyle,t.fill(),t.restore()}}t.exports={addStartArrow:function(t,e,n,r,i,o){"object"==typeof e.startArrow?s(t,e,n,r,i,o,!0):e.startArrow&&a(t,e,n,r,i,o,!0)},addEndArrow:function(t,e,n,r,i,o){"object"==typeof e.endArrow?s(t,e,n,r,i,o,!1):e.endArrow&&a(t,e,n,r,i,o,!1)}}},function(t,e,n){var E=n(533),x=n(661),A=n(662),T=n(750),O=n(751),b=E.vec3,w=E.mat3,S=["m","l","c","a","q","h","v","t","s","z"];function M(t,e,n){return{x:n.x+t,y:n.y+e}}function C(t,e){return{x:e.x+(e.x-t.x),y:e.y+(e.y-t.y)}}function r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function P(t,e){return(t[0]*e[0]+t[1]*e[1])/(r(t)*r(e))}function k(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(P(t,e))}function i(t,e,n){this.preSegment=e,this.isLast=n,this.init(t,e)}E.augment(i,{init:function(t,e){var n=t[0];e=e||{endPoint:{x:0,y:0}};var r,i,o,a=0<=S.indexOf(n),s=a?n.toUpperCase():n,u=t,c=e.endPoint,l=u[1],f=u[2];switch(s){case"M":y=a?M(l,f,c):{x:l,y:f},this.command="M",this.params=[c,y],this.subStart=y,this.endPoint=y;break;case"L":y=a?M(l,f,c):{x:l,y:f},this.command="L",this.params=[c,y],this.subStart=e.subStart,this.endPoint=y,this.endTangent=function(){return[y.x-c.x,y.y-c.y]},this.startTangent=function(){return[c.x-y.x,c.y-y.y]};break;case"H":y=a?M(l,0,c):{x:l,y:c.y},this.command="L",this.params=[c,y],this.subStart=e.subStart,this.endPoint=y,this.endTangent=function(){return[y.x-c.x,y.y-c.y]},this.startTangent=function(){return[c.x-y.x,c.y-y.y]};break;case"V":y=a?M(0,l,c):{x:c.x,y:l},this.command="L",this.params=[c,y],this.subStart=e.subStart,this.endPoint=y,this.endTangent=function(){return[y.x-c.x,y.y-c.y]},this.startTangent=function(){return[c.x-y.x,c.y-y.y]};break;case"Q":i=a?(r=M(l,f,c),M(u[3],u[4],c)):(r={x:l,y:f},{x:u[3],y:u[4]}),this.command="Q",this.params=[c,r,i],this.subStart=e.subStart,this.endPoint=i,this.endTangent=function(){return[i.x-r.x,i.y-r.y]},this.startTangent=function(){return[c.x-r.x,c.y-r.y]};break;case"T":i=a?M(l,f,c):{x:l,y:f},"Q"===e.command?(r=C(e.params[1],c),this.command="Q",this.params=[c,r,i],this.subStart=e.subStart,this.endPoint=i,this.endTangent=function(){return[i.x-r.x,i.y-r.y]},this.startTangent=function(){return[c.x-r.x,c.y-r.y]}):(this.command="TL",this.params=[c,i],this.subStart=e.subStart,this.endPoint=i,this.endTangent=function(){return[i.x-c.x,i.y-c.y]},this.startTangent=function(){return[c.x-i.x,c.y-i.y]});break;case"C":o=a?(r=M(l,f,c),i=M(u[3],u[4],c),M(u[5],u[6],c)):(r={x:l,y:f},i={x:u[3],y:u[4]},{x:u[5],y:u[6]}),this.command="C",this.params=[c,r,i,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-i.x,o.y-i.y]},this.startTangent=function(){return[c.x-r.x,c.y-r.y]};break;case"S":o=a?(i=M(l,f,c),M(u[3],u[4],c)):(i={x:l,y:f},{x:u[3],y:u[4]}),"C"===e.command?(r=C(e.params[2],c),this.command="C",this.params=[c,r,i,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-i.x,o.y-i.y]},this.startTangent=function(){return[c.x-r.x,c.y-r.y]}):(this.command="SQ",this.params=[c,i,o],this.subStart=e.subStart,this.endPoint=o,this.endTangent=function(){return[o.x-i.x,o.y-i.y]},this.startTangent=function(){return[c.x-i.x,c.y-i.y]});break;case"A":var h=l,p=f,d=u[3],g=u[4],v=u[5],y=a?M(u[6],u[7],c):{x:u[6],y:u[7]};this.command="A";var m=function(t,e,n,r,i,o,a){var s=E.mod(E.toRadian(a),2*Math.PI),u=t.x,c=t.y,l=e.x,f=e.y,h=Math.cos(s)*(u-l)/2+Math.sin(s)*(c-f)/2,p=-1*Math.sin(s)*(u-l)/2+Math.cos(s)*(c-f)/2,d=h*h/(i*i)+p*p/(o*o);1<d&&(i*=Math.sqrt(d),o*=Math.sqrt(d));var g=i*i*(p*p)+o*o*(h*h),v=Math.sqrt((i*i*(o*o)-g)/g);n===r&&(v*=-1),isNaN(v)&&(v=0);var y=v*i*p/o,m=v*-o*h/i,x=(u+l)/2+Math.cos(s)*y-Math.sin(s)*m,b=(c+f)/2+Math.sin(s)*y+Math.cos(s)*m,w=k([1,0],[(h-y)/i,(p-m)/o]),_=[(h-y)/i,(p-m)/o],S=[(-1*h-y)/i,(-1*p-m)/o],M=k(_,S);return P(_,S)<=-1&&(M=Math.PI),1<=P(_,S)&&(M=0),0===r&&0<M&&(M-=2*Math.PI),1===r&&M<0&&(M+=2*Math.PI),[t,x,b,i,o,w,M,s,r]}(c,y,g,v,h,p,d);this.params=m;var x=e.subStart;this.subStart=x,this.endPoint=y;var b=m[5]%(2*Math.PI);E.isNumberEqual(b,2*Math.PI)&&(b=0);var w=m[6]%(2*Math.PI);E.isNumberEqual(w,2*Math.PI);var _=.001;this.startTangent=function(){0===v&&(_*=-1);var t=m[3]*Math.cos(b-_)+m[1],e=m[4]*Math.sin(b-_)+m[2];return[t-x.x,e-x.y]},this.endTangent=function(){var t=m[6];t-2*Math.PI<1e-4&&(t=0);var e=m[3]*Math.cos(b+t+_)+m[1],n=m[4]*Math.sin(b+t-_)+m[2];return[c.x-e,c.y-n]};break;case"Z":this.command="Z",this.params=[c,e.subStart],this.subStart=e.subStart,this.endPoint=e.subStart}},isInside:function(t,e,n){var r=this.command,i=this.params,o=this.box;if(o&&!x.box(o.minX,o.maxX,o.minY,o.maxY,t,e))return!1;switch(r){case"M":return!1;case"TL":case"L":case"Z":return x.line(i[0].x,i[0].y,i[1].x,i[1].y,n,t,e);case"SQ":case"Q":return x.quadraticline(i[0].x,i[0].y,i[1].x,i[1].y,i[2].x,i[2].y,n,t,e);case"C":return x.cubicline(i[0].x,i[0].y,i[1].x,i[1].y,i[2].x,i[2].y,i[3].x,i[3].y,n,t,e);case"A":var a=(y=i)[1],s=y[2],u=y[3],c=y[4],l=y[5],f=y[6],h=y[7],p=y[8],d=c<u?u:c,g=c<u?1:u/c,v=c<u?c/u:1,y=[t,e,1],m=[1,0,0,0,1,0,0,0,1];return w.translate(m,m,[-a,-s]),w.rotate(m,m,-h),w.scale(m,m,[1/g,1/v]),b.transformMat3(y,y,m),x.arcline(0,0,d,l,l+f,1-p,n,y[0],y[1])}return!1},draw:function(t){var e,n,r,i=this.command,o=this.params;switch(i){case"M":t.moveTo(o[1].x,o[1].y);break;case"TL":case"L":t.lineTo(o[1].x,o[1].y);break;case"SQ":case"Q":e=o[1],n=o[2],t.quadraticCurveTo(e.x,e.y,n.x,n.y);break;case"C":e=o[1],n=o[2],r=o[3],t.bezierCurveTo(e.x,e.y,n.x,n.y,r.x,r.y);break;case"A":var a=o[1],s=o[2],u=o[3],c=o[4],l=o[5],f=o[6],h=o[7],p=o[8],d=c<u?u:c,g=c<u?1:u/c,v=c<u?c/u:1;t.translate(a,s),t.rotate(h),t.scale(g,v),t.arc(0,0,d,l,l+f,1-p),t.scale(1/g,1/v),t.rotate(-h),t.translate(-a,-s);break;case"Z":t.closePath()}},getBBox:function(t){var e,n,r,i=t/2,o=this.params;switch(this.command){default:case"M":case"Z":break;case"TL":case"L":this.box={minX:Math.min(o[0].x,o[1].x)-i,maxX:Math.max(o[0].x,o[1].x)+i,minY:Math.min(o[0].y,o[1].y)-i,maxY:Math.max(o[0].y,o[1].y)+i};break;case"SQ":case"Q":for(b=0,r=(n=T.extrema(o[0].x,o[1].x,o[2].x)).length;b<r;b++)n[b]=T.at(o[0].x,o[1].x,o[2].x,n[b]);for(n.push(o[0].x,o[2].x),b=0,r=(e=T.extrema(o[0].y,o[1].y,o[2].y)).length;b<r;b++)e[b]=T.at(o[0].y,o[1].y,o[2].y,e);e.push(o[0].y,o[2].y),this.box={minX:Math.min.apply(Math,n)-i,maxX:Math.max.apply(Math,n)+i,minY:Math.min.apply(Math,e)-i,maxY:Math.max.apply(Math,e)+i};break;case"C":for(b=0,r=(n=A.extrema(o[0].x,o[1].x,o[2].x,o[3].x)).length;b<r;b++)n[b]=A.at(o[0].x,o[1].x,o[2].x,o[3].x,n[b]);for(b=0,r=(e=A.extrema(o[0].y,o[1].y,o[2].y,o[3].y)).length;b<r;b++)e[b]=A.at(o[0].y,o[1].y,o[2].y,o[3].y,e[b]);n.push(o[0].x,o[3].x),e.push(o[0].y,o[3].y),this.box={minX:Math.min.apply(Math,n)-i,maxX:Math.max.apply(Math,n)+i,minY:Math.min.apply(Math,e)-i,maxY:Math.max.apply(Math,e)+i};break;case"A":for(var a=o[1],s=o[2],u=o[3],c=o[4],l=o[5],f=o[6],h=o[7],p=o[8],d=l,g=l+f,v=O.xExtrema(h,u,c),y=1/0,m=-1/0,x=[d,g],b=2*-Math.PI;b<=2*Math.PI;b+=Math.PI){var w=v+b;1===p?d<w&&w<g&&x.push(w):g<w&&w<d&&x.push(w)}for(b=0,r=x.length;b<r;b++){var _=O.xAt(h,u,c,a,x[b]);_<y&&(y=_),m<_&&(m=_)}var S=O.yExtrema(h,u,c),M=1/0,E=-1/0,C=[d,g];for(b=2*-Math.PI;b<=2*Math.PI;b+=Math.PI){var P=S+b;1===p?d<P&&P<g&&C.push(P):g<P&&P<d&&C.push(P)}for(b=0,r=C.length;b<r;b++){var k=O.yAt(h,u,c,s,C[b]);k<M&&(M=k),E<k&&(E=k)}this.box={minX:y-i,maxX:m+i,minY:M-i,maxY:E+i}}}}),t.exports=i},function(t,e,n){var r=n(562),i=Array.prototype.indexOf;t.exports=function(t,e){return!!r(t)&&-1<i.call(t,e)}},function(t,e){t.exports=function(t){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e}},function(t,e,n){t.exports={mat3:n(659),vec2:n(744),vec3:n(745),transform:n(746)}},function(t,e,n){var f=n(530),i=n(1015),s=n(558).Canvas,u=f.DomUtil,a=n(542),c=n(1080),l=n(804),h=n(806),p=n(805),d=n(807);function g(t,e){return f.isEqualWith(t,e,function(t,e){return t===e})}var r=function(o){var t,e;function n(){return o.apply(this,arguments)||this}e=o,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var r=n.prototype;return r.getDefaultCfg=function(){var t=o.prototype.getDefaultCfg.call(this);return f.mix(t,{id:null,forceFit:!1,container:null,wrapperEl:null,canvas:null,width:500,height:500,pixelRatio:null,backPlot:null,frontPlot:null,plotBackground:null,padding:a.plotCfg.padding,background:null,autoPaddingAppend:5,limitInPlot:!1,renderer:a.renderer,views:[]})},r.init=function(){var t=this,e=t.get("viewTheme");t._initCanvas(),t._initPlot(),t._initEvents(),o.prototype.init.call(this);var n=new l.Tooltip({chart:t,viewTheme:e,options:{}});t.set("tooltipController",n);var r=new l.Legend({chart:t,viewTheme:e});t.set("legendController",r),t.set("_id","chart"),t.emit("afterinit")},r._isAutoPadding=function(){var t=this.get("padding");return f.isArray(t)?t.includes("auto"):"auto"===t},r._getAutoPadding=function(){for(var t,e=this.get("padding"),n=this.get("frontPlot").getBBox(),r=this.get("backPlot"),i=p(r,d(this.get("plotRange"))),o=h(n,i),a=[0-o.minY,o.maxX-this.get("width"),o.maxY-this.get("height"),0-o.minX],s=f.toAllPadding(e),u=0;u<s.length;u++){"auto"===s[u]&&(t=Math.max(0,a[u]),s[u]=t+this.get("autoPaddingAppend"))}return s},r._initCanvas=function(){var t=this.get("container"),e=this.get("id");!t&&e&&(t=e,this.set("container",e));var n=this.get("width"),r=this.get("height");if(f.isString(t)){if(!(t=document.getElementById(t)))throw new Error("Please specify the container for the chart!");this.set("container",t)}var i=u.createDom('<div style="position:relative;"></div>');t.appendChild(i),this.set("wrapperEl",i),this.get("forceFit")&&(n=u.getWidth(t,n),this.set("width",n));var o=this.get("renderer"),a=new s({containerDOM:i,width:n,height:r,pixelRatio:"svg"===o?1:this.get("pixelRatio"),renderer:o});this.set("canvas",a)},r._initPlot=function(){this._initPlotBack();var t=this.get("canvas"),e=t.addGroup({zIndex:1}),n=t.addGroup({zIndex:0}),r=t.addGroup({zIndex:3});this.set("backPlot",e),this.set("middlePlot",n),this.set("frontPlot",r)},r._initPlotBack=function(){var t=this.get("canvas"),e=this.get("viewTheme"),n=t.addGroup(c,{padding:this.get("padding"),plotBackground:f.mix({},e.plotBackground,this.get("plotBackground")),background:f.mix({},e.background,this.get("background"))});this.set("plot",n),this.set("plotRange",n.get("plotRange"))},r._initEvents=function(){this.get("forceFit")&&window.addEventListener("resize",f.wrapBehavior(this,"_initForceFitEvent"))},r._initForceFitEvent=function(){var t=setTimeout(f.wrapBehavior(this,"forceFit"),200);clearTimeout(this.get("resizeTimer")),this.set("resizeTimer",t)},r._renderLegends=function(){var c,t,l,e,n=this.get("options").legends;!f.isNil(n)&&!1===n||((c=this.get("legendController")).options=n||{},c.plotRange=this.get("plotRange"),n&&n.custom?c.addCustomLegend():(t=this.getAllGeoms(),l=[],f.each(t,function(s){var u=s.get("view"),t=s.getAttrsForLegend();f.each(t,function(t){var e,n,r,i,o=t.type,a=t.getScale(o);a.field&&"identity"!==a.type&&(n=l,r=a,i=!1,f.each(n,function(t){var e=[].concat(t.values),n=[].concat(r.values);t.type!==r.type||t.field!==r.field||e.sort().toString()!==n.sort().toString()||(i=!0)}),!i)&&(l.push(a),e=u.getFilteredOutValues(a.field),c.addLegend(a,t,s,e))})}),e=this.getYScales(),0===l.length&&1<e.length&&c.addMixedLegend(e,t)),c.alignLegends())},r._renderTooltips=function(){var t,e=this.get("options");!f.isNil(e.tooltip)&&!1===e.tooltip||((t=this.get("tooltipController")).options=e.tooltip||{},t.renderTooltip())},r.getAllGeoms=function(){var e=(e=[]).concat(this.get("geoms")),t=this.get("views");return f.each(t,function(t){e=e.concat(t.get("geoms"))}),e},r.forceFit=function(){if(this&&!this.destroyed){var t,e=this.get("container"),n=this.get("width"),r=u.getWidth(e,n);return 0!==r&&r!==n&&(t=this.get("height"),this.changeSize(r,t)),this}},r.resetPlot=function(){var t=this.get("plot"),e=this.get("padding");g(e,t.get("padding"))||(t.set("padding",e),t.repaint())},r.changeSize=function(t,e){this.get("canvas").changeSize(t,e);var n=this.get("plot");return this.set("width",t),this.set("height",e),n.repaint(),this.set("keepPadding",!0),this.repaint(),this.set("keepPadding",!1),this.emit("afterchangesize"),this},r.changeWidth=function(t){return this.changeSize(t,this.get("height"))},r.changeHeight=function(t){return this.changeSize(this.get("width"),t)},r.view=function(t){(t=t||{}).theme=this.get("theme"),t.parent=this,t.backPlot=this.get("backPlot"),t.middlePlot=this.get("middlePlot"),t.frontPlot=this.get("frontPlot"),t.canvas=this.get("canvas"),f.isNil(t.animate)&&(t.animate=this.get("animate")),t.options=f.mix({},this._getSharedOptions(),t.options);var e=new i(t);return e.set("_id","view"+this.get("views").length),this.get("views").push(e),this.emit("addview",{view:e}),e},r.removeView=function(t){var e=this.get("views");f.Array.remove(e,t),t.destroy()},r._getSharedOptions=function(){var e=this.get("options"),n={};return f.each(["scales","coord","axes"],function(t){n[t]=f.cloneDeep(e[t])}),n},r.getViewRegion=function(){var t=this.get("plotRange");return{start:t.bl,end:t.tr}},r.legend=function(t,e){var n=this.get("options");n.legends||(n.legends={});var r={};return!1===t?n.legends=!1:f.isObject(t)?r=t:f.isString(t)?r[t]=e:r=e,f.mix(n.legends,r),this},r.tooltip=function(t,e){var n=this.get("options");return n.tooltip||(n.tooltip={}),!1===t?n.tooltip=!1:f.isObject(t)?f.mix(n.tooltip,t):f.mix(n.tooltip,e),this},r.clear=function(){this.emit("beforeclear");for(var t=this.get("views");0<t.length;){t.shift().destroy()}o.prototype.clear.call(this);var e=this.get("canvas");return this.resetPlot(),e.draw(),this.emit("afterclear"),this},r.clearInner=function(){var t=this.get("views");f.each(t,function(t){t.clearInner()});var e,n=this.get("tooltipController");n&&n.clear(),this.get("keepLegend")||(e=this.get("legendController"))&&e.clear(),o.prototype.clearInner.call(this)},r.drawComponents=function(){o.prototype.drawComponents.call(this),this.get("keepLegend")||this._renderLegends()},r.render=function(){var t,e,n=this;!n.get("keepPadding")&&n._isAutoPadding()&&(n.beforeRender(),n.drawComponents(),t=n._getAutoPadding(),g((e=n.get("plot")).get("padding"),t)||(e.set("padding",t),e.repaint()));var r,i=n.get("middlePlot");n.get("limitInPlot")&&!i.attr("clip")&&(r=f.getClipByRange(n.get("plotRange")),i.attr("clip",r)),o.prototype.render.call(this),n._renderTooltips()},r.repaint=function(){this.get("keepPadding")||this.resetPlot(),o.prototype.repaint.call(this)},r.changeVisible=function(t){var e=t?"":"none";this.get("wrapperEl").style.display=e},r.toDataURL=function(){var t,e,n,r,i=this.get("canvas"),o=this.get("renderer"),a=i.get("el"),s="";return"svg"===o?(t=a.cloneNode(!0),e=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),(n=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",e)).replaceChild(t,n.documentElement),r=(new XMLSerializer).serializeToString(n),s="data:image/svg+xml;charset=utf8,"+encodeURIComponent(r)):"canvas"===o&&(s=a.toDataURL("image/png")),s},r.downloadImage=function(t){var u=this,c=document.createElement("a"),l=u.get("renderer"),f=(t||"chart")+("svg"===l?".svg":".png");u.get("canvas").get("timeline").stopAllAnimations(),setTimeout(function(){var t=u.toDataURL();if(window.Blob&&window.URL&&"svg"!==l){for(var e=t.split(","),n=e[0].match(/:(.*?);/)[1],r=atob(e[1]),i=r.length,o=new Uint8Array(i);i--;)o[i]=r.charCodeAt(i);var a=new Blob([o],{type:n});window.navigator.msSaveBlob?window.navigator.msSaveBlob(a,f):c.addEventListener("click",function(){c.download=f,c.href=window.URL.createObjectURL(a)})}else c.addEventListener("click",function(){c.download=f,c.href=t});var s=document.createEvent("MouseEvents");s.initEvent("click",!1,!1),c.dispatchEvent(s)},16)},r.showTooltip=function(t){var e=this.getViewsByPoint(t);return e.length&&this.get("tooltipController").showTooltip(t,e),this},r.lockTooltip=function(){return this.get("tooltipController").lockTooltip(),this},r.unlockTooltip=function(){return this.get("tooltipController").unlockTooltip(),this},r.hideTooltip=function(){return this.get("tooltipController").hideTooltip(),this},r.getTooltipItems=function(o){var t=this.getViewsByPoint(o),n=[];return f.each(t,function(t){var e=t.get("geoms");f.each(e,function(r){var t=r.get("dataArray"),i=[];f.each(t,function(t){var e,n=r.findPoint(o,t);n&&(e=r.getTipItems(n),i=i.concat(e))}),n=n.concat(i)})}),n},r.destroy=function(){this.emit("beforedestroy"),clearTimeout(this.get("resizeTimer"));var t=this.get("canvas"),e=this.get("wrapperEl");e.parentNode.removeChild(e),o.prototype.destroy.call(this),t.destroy(),window.removeEventListener("resize",f.getWrapBehavior(this,"_initForceFitEvent")),this.emit("afterdestroy")},n}(i);t.exports=r},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var o=n(618),a=n(550),s=o.mat3,u=o.vec3,c=(i(l,[{key:"getDefaultCfg",value:function(){return{isTransposed:!1,matrix:[1,0,0,0,1,0,0,0,1]}}}]),i(l,[{key:"init",value:function(){var t=this.start,e=this.end,n={x:(t.x+e.x)/2,y:(t.y+e.y)/2};this.center=n,this.width=Math.abs(e.x-t.x),this.height=Math.abs(e.y-t.y)}},{key:"_swapDim",value:function(t){var e,n=this[t];n&&(e=n.start,n.start=n.end,n.end=e)}},{key:"getCenter",value:function(){return this.center}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"convertDim",value:function(t,e){var n=this[e],r=n.start;return r+t*(n.end-r)}},{key:"invertDim",value:function(t,e){var n=this[e],r=n.start;return(t-r)/(n.end-r)}},{key:"convertPoint",value:function(t){return t}},{key:"invertPoint",value:function(t){return t}},{key:"applyMatrix",value:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:0,i=this.matrix,o=[t,e,r];return u.transformMat3(o,o,i),o}},{key:"invertMatrix",value:function(t,e,n){var r=2<arguments.length&&void 0!==n?n:0,i=this.matrix,o=s.invert([],i),a=[t,e,r];return u.transformMat3(a,a,o),a}},{key:"convert",value:function(t){var e=this.convertPoint(t),n=e.x,r=e.y,i=this.applyMatrix(n,r,1);return{x:i[0],y:i[1]}}},{key:"invert",value:function(t){var e=this.invertMatrix(t.x,t.y,1);return this.invertPoint({x:e[0],y:e[1]})}},{key:"rotate",value:function(t){var e=this.matrix,n=this.center;return s.translate(e,e,[-n.x,-n.y]),s.rotate(e,e,t),s.translate(e,e,[n.x,n.y]),this}},{key:"reflect",value:function(t){switch(t){case"x":this._swapDim("x");break;case"y":this._swapDim("y");break;default:this._swapDim("y")}return this}},{key:"scale",value:function(t,e){var n=this.matrix,r=this.center;return s.translate(n,n,[-r.x,-r.y]),s.scale(n,n,[t,e]),s.translate(n,n,[r.x,r.y]),this}},{key:"translate",value:function(t,e){var n=this.matrix;return s.translate(n,n,[t,e]),this}},{key:"transpose",value:function(){return this.isTransposed=!this.isTransposed,this}}]),l);function l(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l);var e=this.getDefaultCfg();a(this,e,t),this.init()}t.exports=c},function(t,e,n){"use strict";function r(){}e.a=function(t){return null==t?r:function(){return this.querySelector(t)}}},function(t,e,n){"use strict";var r=n(623);e.a=function(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.a.hasOwnProperty(e)?{space:r.a[e],local:t}:t}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var r="http://www.w3.org/1999/xhtml";e.a={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},function(t,e,n){"use strict";e.a=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}},function(t,e,n){var r,i=n(542),o=n(530),a=o.assign,c=o.isNil,l=o.isArray,s=o.cloneDeep,u=o.wrapBehavior,f=o.getWrapBehavior,h=((r=p.prototype).getDefaultCfg=function(){return{chart:null,group:null,showTitle:!0,autoSetAxis:!0,padding:10,eachView:null,fields:[],colTitle:{offsetY:-15,style:{fontSize:14,textAlign:"center",fill:"#666",fontFamily:i.fontFamily}},rowTitle:{offsetX:15,style:{fontSize:14,textAlign:"center",rotate:90,fill:"#666",fontFamily:i.fontFamily}}}},r.init=function(){if(!this.chart)throw new Error("Facets Error: please specify the chart!");this._bindEvent(),this.initContainer(),this.chart.get("data")&&this.initViews()},r.initContainer=function(){var t=this.chart.get("frontPlot").addGroup();this.group=t},r.initViews=function(){for(var t=this.chart,e=t.get("data"),n=this.eachView,r=this.generateFacets(e),i=0;i<r.length;i++){var o=r[i],a=o.region,s=t.view({start:a.start,end:a.end,padding:this.padding});s.source(o.data),this.beforeProcessView(s,o),n&&n(s,o),this.afterProcessView(s,o),o.view=s}this.facets=r},r.beforeProcessView=function(){},r.afterProcessView=function(t,e){this.autoSetAxis&&this.processAxis(t,e)},r.processAxis=function(t,e){var n,r,i,o,a,s=t.get("options"),u=t.get("geoms");s.coord.type&&"rect"!==s.coord.type||!u.length||(n=u[0].get("attrOptions").position.field,i=(r=l(n)?n:n.split("*").map(function(t){return t.trim()}))[0],o=r[1],c(s.axes)&&(s.axes={}),!1!==(a=s.axes)&&(i&&!1!==a[i]&&(a[i]=a[i]||{},this.setXAxis(i,a,e)),o&&!1!==a[o]&&(a[o]=a[o]||{},this.setYAxis(o,a,e))))},r.setXAxis=function(){},r.setYAxis=function(){},r.renderTitle=function(t,e){this.drawColTitle(t,e)},r.getScaleText=function(t,e,n){return t?(n.get("scales")[t]||n.createScale(t)).getText(e):e},r.drawColTitle=function(t,e){var n=this.getScaleText(e.colField,e.colValue,t),r=a({position:["50%","0%"],content:n},this.colTitle);t.guide().text(r)},r.drawRowTitle=function(t,e){var n=this.getScaleText(e.rowField,e.rowValue,t),r=a({position:["100%","50%"],content:n},s(this.rowTitle));t.guide().text(r)},r.getFilter=function(t){return function(i){var o=!0;return t.forEach(function(t){var e=t.field,n=t.value,r=!0;!c(n)&&e&&(r=i[e]===n),o=o&&r}),o}},r.getFieldValues=function(t,e){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i][t];c(o)||r[o]||(n.push(o),r[o]=!0)}return n},r.getRegion=function(t,e,n,r){var i=1/e,o=1/t,a={x:i*n,y:o*r};return{start:a,end:{x:a.x+i,y:a.y+o}}},r.generateFacets=function(){return[]},r._bindEvent=function(){var t=this.chart;t.on("afterchangedata",u(this,"onDataChange")),t.on("beforeclear",u(this,"onClear")),t.on("beforedestroy",u(this,"destroy")),t.on("beforepaint",u(this,"onPaint")),t.on("setdata",u(this,"onDataChange"))},r._clearEvent=function(){var t=this.chart;t&&(t.off("afterchangedata",f(this,"onDataChange")),t.off("beforeclear",f(this,"onClear")),t.off("beforedestroy",f(this,"destroy")),t.off("beforepaint",f(this,"onPaint")),t.off("setdata",f(this,"onDataChange")))},r._clearFacets=function(){var t=this.facets,e=this.chart;if(t)for(var n=0;n<t.length;n++){var r=t[n];e.removeView(r.view)}this.facets=null},r.onClear=function(){this.onRemove()},r.onPaint=function(){if(this.showTitle)for(var t=this.facets,e=0;e<t.length;e++){var n=t[e],r=n.view;this.renderTitle(r,n)}},r.onDataChange=function(){this._clearFacets(),this.initViews()},r.onRemove=function(){this._clearFacets(),this._clearEvent(),this.group&&this.group.remove(),this.chart=null,this.facets=null,this.group=null},r.destroy=function(){this.onRemove(),this.destroyed=!0},p);function p(t){var e=this.getDefaultCfg();a(this,e,t),this.init()}t.exports=h},function(t,e,n){var r=n(1135),i=n(599);t.exports=function(t){if(!r(t)||!i(t,"Object"))return!1;if(null===Object.getPrototypeOf(t))return!0;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}},function(t,e,n){var r=n(599);t.exports=function(t){return r(t,"Number")}},function(t,e){var u=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};t.exports=function(t,e){for(var n=e||1,r=u(t,2),i=r[0],o=r[1],a=[],s=i;s<o;)a.push(s),s+=n;return a.push(o),a}},function(t,e,n){var r=n(568),i=r.standardDeviation,o=r.interquartileRange;t.exports={silverman:function(t){var e=i(t),n=4*Math.pow(e,5),r=3*t.length;return Math.pow(n/r,.2)},nrd:function(t){var e=i(t),n=o(t);return"number"==typeof n&&(e=Math.min(e,n/1.34)),1.06*e*Math.pow(t.length,-.2)}}},function(t,e,n){var r=n(690),i=n(1209)(r);t.exports=i},function(t,e,n){"use strict";var a=n(539);t.exports={longestPath:function(i){var o={};a.forEach(i.sources(),function e(t){var n=i.node(t);if(a.has(o,t))return n.rank;o[t]=!0;var r=a.min(a.map(i.outEdges(t),function(t){return e(t.w)-i.edge(t).minlen}));return r!==Number.POSITIVE_INFINITY&&null!=r||(r=0),n.rank=r})},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e,n){var r=n(858),i=(o.prototype.execute=function(){throw new Error("please override this method")},o);function o(t,e){void 0===e&&(e={});this.options=e,this.rootNode=r(t,e)}t.exports=i},function(t,e,n){"use strict";n.d(e,"c",function(){return T}),n.d(e,"a",function(){return O});function r(t){return new Array(t.length)}var f=n(621),l=n(673),h=n(674);function d(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}d.prototype={constructor:d,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new d(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function S(t,e,n,r,i,o,a){for(var s,u,c={},l=e.length,f=o.length,h=new Array(l),p=0;p<l;++p)(s=e[p])&&(h[p]=u="$"+a.call(s,s.__data__,p,e),u in c?i[p]=s:c[u]=s);for(p=0;p<f;++p)(s=c[u="$"+a.call(t,o[p],p,o)])?((r[p]=s).__data__=o[p],c[u]=null):n[p]=new d(t,o[p]);for(p=0;p<l;++p)(s=e[p])&&c[h[p]]===s&&(i[p]=s)}function p(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}var i=n(622);var o=n(675);function a(t){return t.trim().split(/^|\s+/)}function s(t){return t.classList||new u(t)}function u(t){this._node=t,this._names=a(t.getAttribute("class")||"")}function c(t,e){for(var n=s(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function g(t,e){for(var n=s(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}u.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};function v(){this.textContent=""}function y(){this.innerHTML=""}function m(){this.nextSibling&&this.parentNode.appendChild(this)}function x(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var b=n(595);function w(){return null}function M(){var t=this.parentNode;t&&t.removeChild(this)}function E(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function C(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var P=n(596),k=n(624);function A(t,e,n){var r=Object(k.a)(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var T=[null];function O(t,e){this._groups=t,this._parents=e}function I(){return new O([[document.documentElement]],T)}O.prototype=I.prototype={constructor:O,select:function(t){"function"!=typeof t&&(t=Object(f.a)(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new O(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Object(l.a)(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new O(r,i)},filter:function(t){"function"!=typeof t&&(t=Object(h.a)(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new O(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var n,r=e?S:_,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],h=o[l],p=h.length,d=t.call(f,f&&f.__data__,l,i),g=d.length,v=u[l]=new Array(g),y=s[l]=new Array(g);r(f,h,v,y,c[l]=new Array(p),d,e);for(var m,x,b=0,w=0;b<g;++b)if(m=v[b]){for(w<=b&&(w=b+1);!(x=y[w])&&++w<g;);m._next=x||null}}return(s=new O(s,i))._enter=u,s._exit=c,s},enter:function(){return new O(this._enter||this._groups.map(r),this._parents)},exit:function(){return new O(this._exit||this._groups.map(r),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=c[p]||l[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new O(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||p;for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,s=e[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(t)}return new O(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Object(i.a)(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:o.a,property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=a(t+"");if(arguments.length<2){for(var r=s(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?c:g)(this,t)}}:e?function(t){return function(){c(this,t)}}:function(t){return function(){g(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?v:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?y:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(m)},lower:function(){return this.each(x)},append:function(t){var e="function"==typeof t?t:Object(b.a)(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:Object(b.a)(t),r=null==e?w:"function"==typeof e?e:Object(f.a)(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(M)},clone:function(t){return this.select(t?C:E)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:P.b,dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return A(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return A(this,t,e)}})(t,e))}};e.b=I},,,,,,,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"now",function(){return s.b}),n.d(e,"timer",function(){return s.c}),n.d(e,"timerFlush",function(){return s.d}),n.d(e,"timeout",function(){return r.a}),n.d(e,"interval",function(){return i});var s=n(583),r=n(764),i=function(n,r,i){var o=new s.a,a=r;return null==r?o.restart(n,r,i):(r=+r,i=null==i?Object(s.b)():+i,o.restart(function t(e){e+=a,o.restart(t,a+=r,i),n(e)},r,i)),o}},,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={Chart:"deleteChart",Coord:"deleteCoord",Geom:"deleteGeom",Axis:"deleteAxis",Tooltip:"deleteTooltip",Legend:"deleteLegend",Label:"deleteLabel",View:"deleteView",Guide:"deleteGuide",GuideLine:"deleteTypedGuide",GuideImage:"deleteTypedGuide",GuideText:"deleteTypedGuide",GuideRegion:"deleteTypedGuide",GuideHtml:"deleteTypedGuide",GuideArc:"deleteTypedGuide",GuideRegionFilter:"deleteTypedGuide",GuideDataMarker:"deleteTypedGuide",GuideDataRegion:"deleteTypedGuide",Facet:"deleteFacet"},r={merge:function(t,e,n,r){this.mergeDelete(t,e,n),this.mergeUpdate(t,r)},mergeDelete:function(r,t,i){var o=this;Object.keys(t).forEach(function(t){var e=a[i[t].name],n=r;i[t].viewId&&(n=r.views[i[t].viewId]),o[e]&&o[e](n,t,i[t].parentInfo.id)})},deleteAxis:function(t,e){t&&delete t.axises[e]},deleteTooltip:function(t){t&&delete t.tooltip},deleteCoord:function(t){t&&delete t.coord},deleteLegend:function(t,e){t&&delete t.legends[e]},deleteGuide:function(t){t&&delete t.guide},deleteGeom:function(t,e){t&&t.geoms&&delete t.geoms[e]},deleteLabel:function(t,e,n){t&&t.geoms&&t.geoms[n]&&delete t.geoms[n].label},deleteFacet:function(t){t&&delete t.facet},deleteTypedGuide:function(t,e){t&&t.guide&&delete t.guide.elements[e]},deleteView:function(t,e){t&&delete t.views[e]},mergeUpdate:function(t,e){this.mergeChart(t,e),this.mergeAxises(t,e),this.mergeCoord(t,e),this.mergeGeoms(t.geoms,e),this.mergeLegends(t.legends,e),this.mergeTooltip(t,e),this.mergeViews(t.views,e),this.mergeGuide(t.guide,e)},mergeChart:function(t,e){t.chart&&t.chart.updateProps&&(t.chart.props=t.chart.updateProps),e&&delete t.chart.g2Instance},mergeAxises:function(t,e){var n=t.axises;if(null!=!n)for(var r in n)n[r]&&n[r].updateProps&&(n[r].props=n[r].updateProps),e&&delete n[r].g2Instance},mergeTooltip:function(t,e){t.tooltip&&(e&&delete t.tooltip.g2Instance,t.tooltip.updateProps&&(t.tooltip.props=t.tooltip.updateProps))},mergeCoord:function(t,e){t.coord&&(e&&delete t.coord.g2Instance,t.coord.updateProps&&(t.coord.props=t.coord.updateProps))},mergeLegends:function(t,e){if(t)for(var n in t){var r;t[n]&&(r=t[n],e&&delete r.g2Instance,r.updateProps&&(r.props=r.updateProps))}},mergeGeoms:function(t,e){if(null!=t)for(var n in t)t[n]&&(e&&(delete t[n].g2Instance,t[n].label&&t[n].label.g2Instance&&(t[n].label.updateProps&&(t[n].label.props=t[n].label.updateProps),delete t[n].label.g2Instance)),t[n].updateProps&&(t[n].props=t[n].updateProps))},mergeGuide:function(t,e){if(null!=t){var n=t.elements;for(var r in n)n[r]&&(e&&delete n[r].g2Instance,n[r].updateProps&&(n[r].props=n[r].updateProps))}},mergeView:function(t,e){t&&(e&&t.g2Instance&&delete t.g2Instance,t.updateProps&&(t.props=t.updateProps),this.mergeCoord(t,e),this.mergeAxises(t,e),this.mergeGeoms(t.geoms,e),this.mergeGuide(t.guide,e))},mergeViews:function(t,e){if(null!=t)for(var n in t)t[n]&&this.mergeView(t[n],e)}};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Prop=e.Util=void 0;var r=o(n(606)),i=o(n(1081));function o(t){return t&&t.__esModule?t:{default:t}}e.Util=r.default,e.Prop=i.default},function(t,e,n){var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(540);t.exports=function t(e){if("object"!==(void 0===e?"undefined":a(e))||null===e)return e;var n=void 0;if(s(e)){n=[];for(var r=0,i=e.length;r<i;r++)"object"===a(e[r])&&null!=e[r]?n[r]=t(e[r]):n[r]=e[r]}else for(var o in n={},e)"object"===a(e[o])&&null!=e[o]?n[o]=t(e[o]):n[o]=e[o];return n}},function(t,e,n){var s=n(588),u=n(540),c=5;t.exports=function(){for(var t=new Array(arguments.length),e=t.length,n=0;n<e;n++)t[n]=arguments[n];for(var r=t[0],i=1;i<e;i++)!function t(e,n,r,i){for(var o in r=r||0,i=i||c,n){var a;n.hasOwnProperty(o)&&(null!==(a=n[o])&&s(a)?(s(e[o])||(e[o]={}),r<i?t(e[o],a,r+1,i):e[o]=n[o]):u(a)?(e[o]=[],e[o]=e[o].concat(a)):void 0!==a&&(e[o]=a))}}(r,t[i]);return r}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":n(t))&&null!==t}},function(t,e,n){var c=n(656),l=n(562),f=n(554);t.exports=function t(e,n){if(e===n)return!0;if(!e||!n)return!1;if(f(e)||f(n))return!1;if(l(e)||l(n)){if(e.length!==n.length)return!1;for(var r=!0,i=0;i<e.length&&(r=t(e[i],n[i]));i++);return r}if(c(e)||c(n)){var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var s=!0,u=0;u<o.length&&(s=t(e[o[u]],n[o[u]]));u++);return s}return!1}},function(t,e){t.exports=function(t,e,n){return t<e?e:n<t?n:t}},function(t,e,n){var i=n(930);i.translate=function(t,e,n){var r=new Array(9);return i.fromTranslation(r,n),i.multiply(t,r,e)},i.rotate=function(t,e,n){var r=new Array(9);return i.fromRotation(r,n),i.multiply(t,r,e)},i.scale=function(t,e,n){var r=new Array(9);return i.fromScaling(r,n),i.multiply(t,r,e)},t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=function(t){e.ARRAY_TYPE=t},e.toRadian=function(t){return t*i},e.equals=function(t,e){return Math.abs(t-e)<=r*Math.max(1,Math.abs(t),Math.abs(e))};var r=e.EPSILON=1e-6;e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,e.RANDOM=Math.random;var i=Math.PI/180},function(t,e,n){var c=n(612),l=n(750),f=n(662),h=n(613);t.exports={line:function(t,e,n,r,i,o,a){var s=c.box(t,e,n,r,i);if(!this.box(s.minX,s.maxX,s.minY,s.maxY,o,a))return!1;var u=c.pointDistance(t,e,n,r,o,a);return!isNaN(u)&&u<=i/2},polyline:function(t,e,n,r){var i=t.length-1;if(i<1)return!1;for(var o=0;o<i;o++){var a=t[o][0],s=t[o][1],u=t[o+1][0],c=t[o+1][1];if(this.line(a,s,u,c,e,n,r))return!0}return!1},cubicline:function(t,e,n,r,i,o,a,s,u,c,l){return f.pointDistance(t,e,n,r,i,o,a,s,c,l)<=u/2},quadraticline:function(t,e,n,r,i,o,a,s,u){return l.pointDistance(t,e,n,r,i,o,s,u)<=a/2},arcline:function(t,e,n,r,i,o,a,s,u){return h.pointDistance(t,e,n,r,i,o,s,u)<=a/2},rect:function(t,e,n,r,i,o){return t<=i&&i<=t+n&&e<=o&&o<=e+r},circle:function(t,e,n,r,i){return Math.pow(r-t,2)+Math.pow(i-e,2)<=Math.pow(n,2)},box:function(t,e,n,r,i,o){return t<=i&&i<=e&&n<=o&&o<=r}}},function(t,e,n){var m=n(533),S=m.vec2;function M(t,e,n,r,i){var o=1-i;return o*o*(o*r+3*i*n)+i*i*(i*t+3*o*e)}function f(t,e,n,r,i,o,a,s,u,c,l){for(var f,h,p,d,g,v,y,m=.005,x=1/0,b=[u,c],w=0;w<1;w+=.05)h=[M(t,n,i,a,w),M(e,r,o,s,w)],(p=S.squaredDistance(b,h))<x&&(f=w,x=p);x=1/0;for(var _=0;_<32&&!(m<1e-4);_++)y=f+m,h=[M(t,n,i,a,v=f-m),M(e,r,o,s,v)],p=S.squaredDistance(b,h),0<=v&&p<x?(f=v,x=p):(g=[M(t,n,i,a,y),M(e,r,o,s,y)],d=S.squaredDistance(b,g),y<=1&&d<x?(f=y,x=d):m*=.5);return l&&(l.x=M(t,n,i,a,f),l.y=M(e,r,o,s,f)),Math.sqrt(x)}function x(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}t.exports={at:M,derivativeAt:function(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)},projectPoint:function(t,e,n,r,i,o,a,s,u,c){var l={};return f(t,e,n,r,i,o,a,s,u,c,l),l},pointDistance:f,extrema:function(t,e,n,r){var i,o,a,s,u=3*t-9*e+9*n-3*r,c=6*e-12*n+6*r,l=3*n-3*r,f=[];return m.isNumberEqual(u,0)?m.isNumberEqual(c,0)||0<=(i=-l/c)&&i<=1&&f.push(i):(s=c*c-4*u*l,m.isNumberEqual(s,0)?f.push(-c/(2*u)):0<s&&(o=(-c-(a=Math.sqrt(s)))/(2*u),0<=(i=(-c+a)/(2*u))&&i<=1&&f.push(i),0<=o&&o<=1&&f.push(o))),f},len:function(t,e,n,r,i,o,a,s,u){m.isNil(u)&&(u=1);for(var c=(u=1<u?1:u<0?0:u)/2,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,p=0;p<12;p++){var d=c*l[p]+c,g=x(d,t,n,i,a),v=x(d,e,r,o,s),y=g*g+v*v;h+=f[p]*Math.sqrt(y)}return c*h}}},function(t,e,n){function a(t){a.superclass.constructor.call(this,t)}var s=n(533),r=n(546),u=n(590),c=n(615);a.Symbols={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},"triangle-down":function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},a.ATTRS={path:null,lineWidth:1},s.extend(a,r),s.augment(a,{type:"marker",canFill:!0,canStroke:!0,getDefaultAttrs:function(){return{x:0,y:0,lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.radius,i=this.getHitLineWidth()/2+r;return{minX:e-i,minY:n-i,maxX:e+i,maxY:n+i}},_getPath:function(){var t=this._attrs,e=t.x,n=t.y,r=t.radius||t.r,i=t.symbol||"circle",o=s.isFunction(i)?i:a.Symbols[i];return o?o(e,n,r):(console.warn(i+" marker is not supported."),null)},createPath:function(t){var e=this._cfg.segments;if(!e||this._cfg.hasUpdate){var n=u.parsePath(this._getPath());t.beginPath(),e=[];for(var r=0;r<n.length;r++){var i=n[r],o=new c(i,o,r===n.length-1);e.push(o),o.draw(t)}this._cfg.segments=e,this._cfg.hasUpdate=!1}else{t.beginPath();for(var a=0;a<e.length;a++)e[a].draw(t)}}}),t.exports=a},function(t,e,n){function b(t){if(!t)return null;if(typeof t==typeof[])return t;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(s,function(t,e,n){var r=[],i=e.toLowerCase();if(n.replace(u,function(t,e){e&&r.push(+e)}),"m"===i&&2<r.length&&(a.push([e].concat(r.splice(0,2))),i="l",e="m"===e?"l":"L"),"o"===i&&1===r.length&&a.push([e,r[0]]),"r"===i)a.push([e].concat(r));else for(;r.length>=o[i]&&(a.push([e].concat(r.splice(0,o[i]))),o[i]););}),a}function w(t,e){for(var n=[],r=0,i=t.length;r<i-2*!e;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function _(t,e,n,r,i){var o,a,s;return null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i?(o=Math.PI/180,a=t+n*Math.cos(-r*o),s=t+n*Math.cos(-i*o),[["M",a,e+n*Math.sin(-r*o)],["A",n,n,0,+(180<i-r),0,s,e+n*Math.sin(-i*o)]]):[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]}function x(t){if(!(t=b(t))||!t.length)return[["M",0,0]];var e,n,r=[],i=0,o=0,a=0,s=0,u=0;"M"===t[0][0]&&(a=i=+t[0][1],s=o=+t[0][2],u++,r[0]=["M",i,o]);for(var c,l,f=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),h=u,p=t.length;h<p;h++){if(r.push(c=[]),(e=(l=t[h])[0])!==e.toUpperCase())switch(c[0]=e.toUpperCase(),c[0]){case"A":c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=+l[6]+i,c[7]=+l[7]+o;break;case"V":c[1]=+l[1]+o;break;case"H":c[1]=+l[1]+i;break;case"R":for(var d=2,g=(n=[i,o].concat(l.slice(1))).length;d<g;d++)n[d]=+n[d]+i,n[++d]=+n[d]+o;r.pop(),r=r.concat(w(n,f));break;case"O":r.pop(),(n=_(i,o,l[1],l[2])).push(n[0]),r=r.concat(n);break;case"U":r.pop(),r=r.concat(_(i,o,l[1],l[2],l[3])),c=["U"].concat(r[r.length-1].slice(-2));break;case"M":a=+l[1]+i,s=+l[2]+o;break;default:for(var v=1,y=l.length;v<y;v++)c[v]=+l[v]+(v%2?i:o)}else if("R"===e)n=[i,o].concat(l.slice(1)),r.pop(),r=r.concat(w(n,f)),c=["R"].concat(l.slice(-2));else if("O"===e)r.pop(),(n=_(i,o,l[1],l[2])).push(n[0]),r=r.concat(n);else if("U"===e)r.pop(),r=r.concat(_(i,o,l[1],l[2],l[3])),c=["U"].concat(r[r.length-1].slice(-2));else for(var m=0,x=l.length;m<x;m++)c[m]=l[m];if("O"!==(e=e.toUpperCase()))switch(c[0]){case"Z":i=+a,o=+s;break;case"H":i=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],s=c[c.length-1];break;default:i=c[c.length-2],o=c[c.length-1]}}return r}function S(t,e,n,r){return[t,e,n,r,n,r]}function M(t,e,n,r,i,o){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]}function Y(t,e,n,r,i,o,a,s,u,c){function l(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}n===r&&(n+=1);var f,h,p,d,g,v,y,m,x,b,w,_=120*Math.PI/180,S=Math.PI/180*(+i||0),M=[];c?(b=c[0],w=c[1],m=c[2],x=c[3]):(t=(f=l(t,e,-S)).x,e=f.y,s=(f=l(s,u,-S)).x,u=f.y,t===s&&e===u&&(s+=1,u+=1),1<(d=(h=(t-s)/2)*h/(n*n)+(p=(e-u)/2)*p/(r*r))&&(n*=d=Math.sqrt(d),r*=d),g=n*n,v=r*r,m=(y=(o===a?-1:1)*Math.sqrt(Math.abs((g*v-g*p*p-v*h*h)/(g*p*p+v*h*h))))*n*p/r+(t+s)/2,x=y*-r*h/n+(e+u)/2,b=Math.asin(((e-x)/r).toFixed(9)),w=Math.asin(((u-x)/r).toFixed(9)),b=t<m?Math.PI-b:b,w=s<m?Math.PI-w:w,b<0&&(b=2*Math.PI+b),w<0&&(w=2*Math.PI+w),a&&w<b&&(b-=2*Math.PI),!a&&b<w&&(w-=2*Math.PI));var E,C,P,k=w-b;Math.abs(k)>_&&(E=w,C=s,P=u,w=b+_*(a&&b<w?1:-1),M=Y(s=m+n*Math.cos(w),u=x+r*Math.sin(w),n,r,i,0,a,C,P,[w,E,m,x])),k=w-b;var A=Math.cos(b),T=Math.sin(b),O=Math.cos(w),I=Math.sin(w),j=Math.tan(k/4),R=4/3*n*j,L=4/3*r*j,D=[t,e],B=[t+R*T,e-L*A],F=[s+R*I,u-L*O],N=[s,u];if(B[0]=2*D[0]-B[0],B[1]=2*D[1]-B[1],c)return[B,F,N].concat(M);for(var z=[],G=0,V=(M=[B,F,N].concat(M).join().split(",")).length;G<V;G++)z[G]=G%2?l(M[G-1],M[G],S).y:l(M[G],M[G+1],S).x;return z}function E(t,e){function n(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(Y.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":i="C"===n||"S"===n?(r=2*e.x-e.bx,2*e.y-e.by):(r=e.x,e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(M(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(M(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(S(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(S(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(S(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(S(e.x,e.y,e.X,e.Y))}return t}function r(t,e){if(7<t[e].length){t[e].shift();for(var n=t[e];n.length;)c[e]="A",a&&(l[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),p=Math.max(o.length,a&&a.length||0)}}function i(t,e,n,r,i){t&&e&&"M"===t[i][0]&&"M"!==e[i][0]&&(e.splice(i,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=t[i][1],n.y=t[i][2],p=Math.max(o.length,a&&a.length||0))}for(var o=x(t),a=e&&x(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=[],l=[],f="",h="",p=Math.max(o.length,a&&a.length||0),d=0;d<p;d++){o[d]&&(f=o[d][0]),"C"!==f&&(c[d]=f,d&&(h=c[d-1])),o[d]=n(o[d],s,h),"A"!==c[d]&&"C"===f&&(c[d]="C"),r(o,d),a&&(a[d]&&(f=a[d][0]),"C"!==f&&(l[d]=f,d&&(h=l[d-1])),a[d]=n(a[d],u,h),"A"!==l[d]&&"C"===f&&(l[d]="C"),r(a,d)),i(o,a,s,u,d),i(a,o,u,s,d);var g=o[d],v=a&&a[d],y=g.length,m=a&&v.length;s.x=g[y-2],s.y=g[y-1],s.bx=parseFloat(g[y-4])||s.x,s.by=parseFloat(g[y-3])||s.y,u.bx=a&&(parseFloat(v[m-4])||u.x),u.by=a&&(parseFloat(v[m-3])||u.y),u.x=a&&v[m-2],u.y=a&&v[m-1]}return a?[o,a]:o}function a(t){return t.join(",").replace(o,"$1")}function m(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}function k(t,e,n,r,i,o,a,s,u){null===u&&(u=1);for(var c=(u=1<u?1:u<0?0:u)/2,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,p=0;p<12;p++){var d=c*l[p]+c,g=m(d,t,n,i,a),v=m(d,e,r,o,s),y=g*g+v*v;h+=f[p]*Math.sqrt(y)}return c*h}function A(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function i(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=a,o}function T(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:i(t,e,n,r),vb:[t,e,n,r].join(" ")}}function O(t,e,n,r,i,o,a,s){P.isArray(t)||(t=[t,e,n,r,i,o,a,s]);var u=function(t,e,n,r,i,o,a,s){for(var u,c,l,f,h=[],p=[[],[]],d=0;d<2;++d)if(l=0===d?(c=6*t-12*n+6*i,u=-3*t+9*n-9*i+3*a,3*n-3*t):(c=6*e-12*r+6*o,u=-3*e+9*r-9*o+3*s,3*r-3*e),Math.abs(u)<1e-12){if(Math.abs(c)<1e-12)continue;0<(f=-l/c)&&f<1&&h.push(f)}else{var g,v,y=c*c-4*l*u,m=Math.sqrt(y);y<0||(0<(g=(-c+m)/(2*u))&&g<1&&h.push(g),0<(v=(-c-m)/(2*u))&&v<1&&h.push(v))}for(var x,b=h.length,w=b;b--;)x=1-(f=h[b]),p[0][b]=x*x*x*t+3*x*x*f*n+3*x*f*f*i+f*f*f*a,p[1][b]=x*x*x*e+3*x*x*f*r+3*x*f*f*o+f*f*f*s;return p[0][w]=t,p[1][w]=e,p[0][w+1]=a,p[1][w+1]=s,p[0].length=p[1].length=w+2,{min:{x:Math.min.apply(0,p[0]),y:Math.min.apply(0,p[1])},max:{x:Math.max.apply(0,p[0]),y:Math.max.apply(0,p[1])}}}.apply(null,t);return T(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)}function I(t,e,n,r,i,o,a,s,u){var c=1-u,l=Math.pow(c,3),f=Math.pow(c,2),h=u*u,p=h*u,d=t+2*u*(n-t)+h*(i-2*n+t),g=e+2*u*(r-e)+h*(o-2*r+e),v=n+2*u*(i-n)+h*(a-2*i+n),y=r+2*u*(o-r)+h*(s-2*o+r);return{x:l*t+3*f*u*n+3*c*u*u*i+p*a,y:l*e+3*f*u*r+3*c*u*u*o+p*s,m:{x:d,y:g},n:{x:v,y:y},start:{x:c*t+u*n,y:c*e+u*r},end:{x:c*i+u*a,y:c*o+u*s},alpha:90-180*Math.atan2(d-v,g-y)/Math.PI}}function C(t,e,n){var r,i,o=O(t),a=O(e);if(i=a,r=T(r=o),i=T(i),!(A(i,r.x,r.y)||A(i,r.x2,r.y)||A(i,r.x,r.y2)||A(i,r.x2,r.y2)||A(r,i.x,i.y)||A(r,i.x2,i.y)||A(r,i.x,i.y2)||A(r,i.x2,i.y2)||(r.x<i.x2&&r.x>i.x||i.x<r.x2&&i.x>r.x)&&(r.y<i.y2&&r.y>i.y||i.y<r.y2&&i.y>r.y)))return n?0:[];for(var s=~~(k.apply(0,t)/8),u=~~(k.apply(0,e)/8),c=[],l=[],f={},h=n?0:[],p=0;p<1+s;p++){var d=I.apply(0,t.concat(p/s));c.push({x:d.x,y:d.y,t:p/s})}for(var g=0;g<1+u;g++){var v=I.apply(0,e.concat(g/u));l.push({x:v.x,y:v.y,t:g/u})}for(var y=0;y<s;y++)for(var m=0;m<u;m++){var x=c[y],b=c[y+1],w=l[m],_=l[m+1],S=Math.abs(b.x-x.x)<.001?"y":"x",M=Math.abs(_.x-w.x)<.001?"y":"x",E=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var c=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/u,l=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/u,f=+c.toFixed(2),h=+l.toFixed(2);if(!(f<+Math.min(t,n).toFixed(2)||f>+Math.max(t,n).toFixed(2)||f<+Math.min(i,a).toFixed(2)||f>+Math.max(i,a).toFixed(2)||h<+Math.min(e,r).toFixed(2)||h>+Math.max(e,r).toFixed(2)||h<+Math.min(o,s).toFixed(2)||h>+Math.max(o,s).toFixed(2)))return{x:c,y:l}}}}(x.x,x.y,b.x,b.y,w.x,w.y,_.x,_.y);if(E){if(f[E.x.toFixed(4)]===E.y.toFixed(4))continue;f[E.x.toFixed(4)]=E.y.toFixed(4);var C=x.t+Math.abs((E[S]-x[S])/(b[S]-x[S]))*(b.t-x.t),P=w.t+Math.abs((E[M]-w[M])/(_[M]-w[M]))*(_.t-w.t);0<=C&&C<=1&&0<=P&&P<=1&&(n?h++:h.push({x:E.x,y:E.y,t1:C,t2:P}))}}return h}var P=n(728),r="\t\n\v\f\r \u2028\u2029",s=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),u=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig"),o=/,?([a-z]),?/gi;function c(t,e){var o=[],a=[];return t.length&&function t(e,n){if(1===e.length)o.push(e[0]),a.push(e[0]);else{for(var r=[],i=0;i<e.length-1;i++)0===i&&o.push(e[0]),i===e.length-2&&a.push(e[i+1]),r[i]=[(1-n)*e[i][0]+n*e[i+1][0],(1-n)*e[i][1]+n*e[i+1][1]];t(r,n)}}(t,e),{left:o,right:a.reverse()}}function l(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var u=c(o,a/(1-a*s));i.push(u.left),o=u.right}return i.push(o),i.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),3<=t.length&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])})}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r}function d(t,e){var n,r=t.length,i=e.length,o=0;if(0===r||0===i)return null;for(var a=[],s=0;s<=r;s++)a[s]=[],a[s][0]={min:s};for(var u=0;u<=i;u++)a[0][u]={min:u};for(var c,l,f,h,p=1;p<=r;p++){n=t[p-1];for(var d=1;d<=i;d++){o=function(t,n){if(t.length!==n.length)return!1;var r=!0;return P.each(t,function(t,e){if(t!==n[e])return r=!1}),r}(n,e[d-1])?0:1;var g=a[p-1][d].min+1,v=a[p][d-1].min+1,y=a[p-1][d-1].min+o;a[p][d]=(h=f=void 0,f=null,(l=v)<(h=y)&&(h=l,f="add"),(c=g)<h&&(h=c,f="del"),{type:f,min:h})}}return a}function f(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=h(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}function h(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}t.exports={parsePathString:b,parsePathArray:a,pathTocurve:E,pathToAbsolute:x,catmullRomToBezier:w,rectPath:i,fillPath:function(r,t){if(1===r.length)return r;var i=r.length-1,e=t.length-1,n=i/e,o=[];if(1===r.length&&"M"===r[0][0]){for(var a=0;a<e-i;a++)r.push(r[0]);return r}for(var s=0;s<e;s++){var u=Math.floor(n*s);o[u]=(o[u]||0)+1}var c=o.reduce(function(t,e,n){return n===i?t.concat(r[i]):t.concat(l(r[n],r[n+1],e))},[]);return c.unshift(r[0]),"Z"!==t[e]&&"z"!==t[e]||c.push("Z"),c},fillPathByDiff:function(t,e){var n=d(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i]!==r){for(var u=1;u<=r;u++){for(var c=n[u][u].min,s=u,l=a;l<=i;l++)n[u][l].min<c&&(c=n[u][l].min,s=l);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(var f=o.length-1;0<=f;f--)a=o[f].index,"add"===o[f].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}var h=i-(r=t.length);if(r<i)for(var p=0;p<h;p++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]),r+=1;return t},formatPath:function(t,e){if(t.length<=1)return t;for(var n,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=h(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(0<r)){t[r]=e[r];break}n=f(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(0<r)){t[r]=e[r];break}n=f(n,t[r-1],2)}t[r]=["C"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(n.length<2){if(!(0<r)){t[r]=e[r];break}n=f(n,t[r-1],1)}t[r]=["S"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;default:t[r]=e[r]}return t},intersection:function(t,e){return function(t,e,n){var r,i,o,a,s,u,c,l,f,h;t=E(t),e=E(e);for(var p=n?0:[],d=0,g=t.length;d<g;d++){var v=t[d];if("M"===v[0])r=s=v[1],i=u=v[2];else{i="C"===v[0]?(r=(f=[r,i].concat(v.slice(1)))[6],f[7]):(f=[r,i,r,i,s,u,s,u],r=s,u);for(var y=0,m=e.length;y<m;y++){var x=e[y];if("M"===x[0])o=c=x[1],a=l=x[2];else{a="C"===x[0]?(o=(h=[o,a].concat(x.slice(1)))[6],h[7]):(h=[o,a,o,a,c,l,c,l],o=c,l);var b=C(f,h,n);if(n)p+=b;else{for(var w=0,_=b.length;w<_;w++)b[w].segment1=d,b[w].segment2=y,b[w].bez1=f,b[w].bez2=h;p=p.concat(b)}}}}}return p}(t,e)}}},function(t,e,n){var i=n(535),o=n(562);t.exports=function(t,n){if(!o(t))return t;var r=[];return i(t,function(t,e){n(t,e)&&r.push(t)}),r}},function(t,e,n){var a=n(545),s=n(540),u=n(535);t.exports=function(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i][e];a(o)||(s(o)||(o=[o]),u(o,function(t){r[t]||(n.push(t),r[t]=!0)}))}return n}},function(t,e,n){t.exports={Position:n(1016),Color:n(1017),Shape:n(1018),Size:n(1019),Opacity:n(1020),ColorUtil:n(787)}},function(t,e,n){var r=n(558).Group,i=n(579).Label,o=n(542),d=n(530),a=["line","point","path"];function s(t){s.superclass.constructor.call(this,t)}d.extend(s,r),d.augment(s,{getDefaultCfg:function(){return{label:o.label,labelCfg:null,coord:null,geomType:null,zIndex:6}},_renderUI:function(){s.superclass._renderUI.call(this),this.initLabelsCfg();var t=this.addGroup(),e=this.addGroup({elCls:"x-line-group"}),n=this.get("labelRenderer");this.set("labelsGroup",t),this.set("lineGroup",e),this.get("labelRenderer").set("group",t),n.set("group",t),n.set("lineGroup",e)},initLabelsCfg:function(){var t=new i,e=this.getDefaultLabelCfg(),n=this.get("labelCfg");d.deepMix(e,n.globalCfg||n.cfg),t.set("config",!1),e.labelLine&&t.set("labelLine",e.labelLine),t.set("coord",this.get("coord")),this.set("labelRenderer",t),this.set("label",e)},getDefaultLabelCfg:function(){var t=this.get("labelCfg").cfg||this.get("labelCfg").globalCfg,e=this.get("geomType"),n=this.get("viewTheme")||o;return"polygon"===e||t&&t.offset<0&&-1===d.indexOf(a,e)?d.deepMix({},this.get("label"),n.innerLabels,t):d.deepMix({},this.get("label"),n.label,t)},getLabelsItems:function(t,e){var s=this,u=[],c=s.get("geom"),l=s.get("coord");s._getLabelCfgs(t,e);var n=s.get("labelItemCfgs");return d.each(t,function(r,t){var i,o=r._origin,a=n[t];a?(d.isArray(a.text)||(a.text=[a.text]),i=a.text.length,d.each(a.text,function(t,e){var n;d.isNil(t)||""===t?u.push(null):(n=s.getLabelPoint(a,r,e),(n=d.mix({},a,n)).textAlign||(n.textAlign=s.getLabelAlign(n,e,i)),c&&(n._id=c._getShapeId(o)+"-glabel-"+e+"-"+n.text),n.coord=l,u.push(n))})):u.push(null)}),u},adjustItems:function(t){return d.each(t,function(t){t&&(t.offsetX&&(t.x+=t.offsetX),t.offsetY&&(t.y+=t.offsetY))}),t},drawLines:function(t){var e=this;d.each(t,function(t){t&&0<t.offset&&e.lineToLabel(t)})},lineToLabel:function(){},getLabelPoint:function(i,e,t){var n=this.get("coord"),r=i.text.length;function o(t,e){var n,r;return d.isArray(t)&&(t=1===i.text.length?t.length<=2?t[t.length-1]:(n=t,r=0,d.each(n,function(t){r+=t}),r/n.length):t[e]),t}var a,s,u={text:i.text[t]};e&&"polygon"===this.get("geomType")?(a=function(t,e){if(d.isNumber(t)&&d.isNumber(e))return[t,e];for(var n,r,i=-1,o=0,a=0,s=t.length-1,u=0;++i<t.length;)n=s,s=i,u+=r=t[n]*e[s]-t[s]*e[n],o+=(t[n]+t[s])*r,a+=(e[n]+e[s])*r;return[o/(u*=3),a/u]}(e.x,e.y),u.x=a[0],u.y=a[1]):(u.x=o(e.x,t),u.y=o(e.y,t)),e&&e.nextPoints&&("funnel"===e.shape||"pyramid"===e.shape)&&(s=-1/0,e.nextPoints.forEach(function(t){(t=n.convert(t)).x>s&&(s=t.x)}),u.x=(u.x+s)/2),"pyramid"===e.shape&&!e.nextPoints&&e.points&&e.points.forEach(function(t){t=n.convert(t),(d.isArray(t.x)&&!e.x.includes(t.x)||d.isNumber(t.x)&&e.x!==t.x)&&(u.x=(u.x+t.x)/2)}),i.position&&this.setLabelPosition(u,e,t,i.position);var c=this.getLabelOffset(i,t,r);return i.offsetX&&(c.x+=i.offsetX),i.offsetY&&(c.y+=i.offsetY),this.transLabelPoint(u),u.start={x:u.x,y:u.y},u.x+=c.x,u.y+=c.y,u.color=e.color,u},setLabelPosition:function(){},transLabelPoint:function(t){var e=this.get("coord").applyMatrix(t.x,t.y,1);t.x=e[0],t.y=e[1]},getOffsetVector:function(t){var e=t.offset||0,n=this.get("coord"),r=n.isTransposed?n.applyMatrix(e,0):n.applyMatrix(0,e);return r},getDefaultOffset:function(t){var e=0,n=this.get("coord"),r=this.getOffsetVector(t),e=n.isTransposed?r[0]:r[1],i=this.get("yScale");return i&&t.point&&t.point[i.field]<0&&(e*=-1),e},getLabelOffset:function(t,e,n){var r=this.getDefaultOffset(t),i=this.get("coord").isTransposed,o=i?"x":"y",a=i?1:-1,s={x:0,y:0};return s[o]=0<e||1===n?r*a:r*a*-1,s},getLabelAlign:function(t,e,n){var r,i="center";return this.get("coord").isTransposed&&(i=(r=this.getDefaultOffset(t))<0?"right":0===r?"center":"left",1<n&&0===e&&("right"===i?i="left":"left"===i&&(i="right"))),i},_getLabelValue:function(r,t){d.isArray(t)||(t=[t]);var i=[];return d.each(t,function(e){var n,t=r[e.field],t=d.isArray(t)?(n=[],d.each(t,function(t){n.push(e.getText(t))}),n):e.getText(t);!d.isNil(t)&&""!==t||i.push(null),i.push(t)}),i},_getLabelCfgs:function(t){var u=this,c=this.get("labelCfg"),l=c.scales,f=this.get("label"),h=u.get("viewTheme")||o,p=[];c.globalCfg&&c.globalCfg.type&&u.set("type",c.globalCfg.type),d.each(t,function(t,e){var n,r,i,o={},a=t._origin,s=u._getLabelValue(a,l);c.callback&&(n=l.map(function(t){return a[t.field]}),o=c.callback.apply(null,[].concat(n,[t,e]))),o||0===o?(d.isString(o)||d.isNumber(o)?o={text:o}:(o.text=o.content||s[0],delete o.content),o=d.mix({},f,c.globalCfg||{},o),t.point=a,o.point=a,o.htmlTemplate&&(o.useHtml=!0,o.text=o.htmlTemplate.call(null,o.text,t,e),delete o.htmlTemplate),o.formatter&&(o.text=o.formatter.call(null,o.text,t,e),delete o.formatter),o.label&&(r=o.label,delete o.label,o=d.mix(o,r)),o.textStyle&&(delete o.textStyle.offset,i=o.textStyle,d.isFunction(i)&&(o.textStyle=i.call(null,o.text,t,e))),o.labelLine&&(o.labelLine=d.mix({},f.labelLine,o.labelLine)),o.textStyle=d.mix({},f.textStyle,h.label.textStyle,o.textStyle),delete o.items,p.push(o)):p.push(null)}),this.set("labelItemCfgs",p)},showLabels:function(t,n){var e=this.get("labelRenderer"),r=this.getLabelsItems(t,n);n=[].concat(n);var i=this.get("type"),r=this.adjustItems(r,n);this.drawLines(r),e.set("items",r.filter(function(t,e){return!!t||(n.splice(e,1),!1)})),i&&(e.set("shapes",n),e.set("type",i),e.set("points",t)),e.set("canvas",this.get("canvas")),e.draw()},destroy:function(){this.get("labelRenderer").destroy(),s.superclass.destroy.call(this)}}),t.exports=s},function(t,e,n){function i(o){return function(){var t,e,n,r,i=s(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=s(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?a(n):r}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=n(589),u=n(536),o=function(o){var t,e;e=o,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;i(r);var n=r.prototype;function r(t){var e=o.call(this)||this,n=a(e),r={visible:!0},i=n.getDefaultCfg();return n._attrs=r,u.deepMix(r,i,t),e}return n.getDefaultCfg=function(){return{}},n.get=function(t){return this._attrs[t]},n.set=function(t,e){this._attrs[t]=e},n.changeVisible=function(){},n.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},r}(r);t.exports=o},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=n(536),r=n(796),s=n(1051),u=n(563).FONT_FAMILY,c=v.Event,l=v.Group,i=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return v.mix({},t,{type:"continuous-legend",items:null,layout:"vertical",width:20,height:156,textStyle:{fill:"#333",textAlign:"center",textBaseline:"middle",stroke:"#fff",lineWidth:5,fontFamily:u},hoverTextStyle:{fill:"rgba(0,0,0,0.25)"},slidable:!0,triggerAttr:{fill:"#fff",shadowBlur:10,shadowColor:"rgba(0,0,0,0.65)",radius:2},_range:[0,100],middleBackgroundStyle:{fill:"#D9D9D9"},textOffset:4,lineStyle:{lineWidth:1,stroke:"#fff"},pointerStyle:{fill:"rgb(230, 230, 230)"}})},i._calStartPoint=function(){var t,e={x:10,y:this.get("titleGap")-8},n=this.get("titleShape");return n&&(t=n.getBBox(),e.y+=t.height),e},i.beforeRender=function(){var t=this.get("items");v.isArray(t)&&!v.isEmpty(t)&&(e.prototype.beforeRender.call(this),this.set("firstItem",t[0]),this.set("lastItem",t[t.length-1]))},i._formatItemValue=function(t){var e=this.get("formatter")||this.get("itemFormatter");return e&&(t=e.call(this,t)),t},i.render=function(){e.prototype.render.call(this),this.get("slidable")?this._renderSlider():this._renderUnslidable()},i._renderSlider=function(){var t=new l,e=new l,n=new l,r=this._calStartPoint(),i=this.get("group").addGroup(s,{minHandleElement:t,maxHandleElement:e,backgroundElement:n,layout:this.get("layout"),range:this.get("_range"),width:this.get("width"),height:this.get("height")});i.translate(r.x,r.y),this.set("slider",i),this._renderSliderShape().attr("clip",i.get("middleHandleElement")),this._renderTrigger()},i._addMiddleBar=function(t,e,n){return t.addShape(e,{attrs:v.mix({},n,this.get("middleBackgroundStyle"))}),t.addShape(e,{attrs:n})},i._renderTrigger=function(){var t=this.get("firstItem"),e=this.get("lastItem"),n=this.get("layout"),r=this.get("textStyle"),i=this.get("triggerAttr"),o=v.mix({},i),a=v.mix({},i),s=v.mix({text:this._formatItemValue(t.value)+""},r),u=v.mix({text:this._formatItemValue(e.value)+""},r);"vertical"===n?(this._addVerticalTrigger("min",o,s),this._addVerticalTrigger("max",a,u)):(this._addHorizontalTrigger("min",o,s),this._addHorizontalTrigger("max",a,u))},i._addVerticalTrigger=function(t,e,n){var r=this.get("slider").get(t+"HandleElement"),i=this.get("width"),o=r.addShape("rect",{attrs:v.mix({x:i/2-8-2,y:"min"===t?0:-8,width:18,height:8},e)}),a=r.addShape("text",{attrs:v.mix(n,{x:i+this.get("textOffset"),y:"max"===t?-4:4,textAlign:"start",lineHeight:1,textBaseline:"middle"})}),s="vertical"===this.get("layout")?"ns-resize":"ew-resize";o.attr("cursor",s),a.attr("cursor",s),this.set(t+"ButtonElement",o),this.set(t+"TextElement",a)},i._addHorizontalTrigger=function(t,e,n){var r=this.get("slider").get(t+"HandleElement"),i=r.addShape("rect",{attrs:v.mix({x:"min"===t?-8:0,y:-8-this.get("height")/2,width:8,height:16},e)}),o=r.addShape("text",{attrs:v.mix(n,{x:"min"===t?-12:12,y:4+this.get("textOffset")+10,textAlign:"min"===t?"end":"start",textBaseline:"middle"})}),a="vertical"===this.get("layout")?"ns-resize":"ew-resize";i.attr("cursor",a),o.attr("cursor",a),this.set(t+"ButtonElement",i),this.set(t+"TextElement",o)},i._bindEvents=function(){var s=this;this.get("slidable")&&this.get("slider").on("sliderchange",function(t){var e=t.range,n=s.get("firstItem").value,r=s.get("lastItem").value,i=n+e[0]/100*(r-n),o=n+e[1]/100*(r-n);s._updateElement(i,o);var a=new c("itemfilter",t,!0,!0);a.range=[i,o],s.emit("itemfilter",a)}),this.get("hoverable")&&(this.get("group").on("mousemove",v.wrapBehavior(this,"_onMouseMove")),this.get("group").on("mouseleave",v.wrapBehavior(this,"_onMouseLeave")))},i._updateElement=function(t,e){var n=this.get("minTextElement"),r=this.get("maxTextElement");1<e&&(t=parseInt(t,10),e=parseInt(e,10)),n.attr("text",this._formatItemValue(t)+""),r.attr("text",this._formatItemValue(e)+"")},i._onMouseLeave=function(){var t=this.get("group").findById("hoverPointer");t&&t.destroy();var e=this.get("group").findById("hoverText");e&&e.destroy(),this.get("canvas").draw()},i._onMouseMove=function(t){var e,n,r,i,o,a,s=this.get("height"),u=this.get("width"),c=this.get("items"),l=this.get("canvas").get("el").getBoundingClientRect(),f=this.get("group").getBBox();o=(o="vertical"===this.get("layout")?(e=5,"color-legend"===this.get("type")&&(e=30),n=this.get("titleGap"),(r=this.get("titleShape"))&&(n+=r.getBBox().maxY-r.getBBox().minY),i=(i=t.clientY||t.event.clientY)-l.y-this.get("group").attr("matrix")[7]+f.y-e+n,c[0].value+(1-i/s)*(c[c.length-1].value-c[0].value)):(a=(a=t.clientX||t.event.clientX)-l.x-this.get("group").attr("matrix")[6],c[0].value+a/u*(c[c.length-1].value-c[0].value))).toFixed(2),this.activate(o),this.emit("mousehover",{value:o})},i.activate=function(t){var e,n,r,i,o,a,s,u,c,l,f,h,p,d,g;t&&(e=this.get("group").findById("hoverPointer"),n=this.get("group").findById("hoverText"),t<(r=this.get("items"))[0].value||t>r[r.length-1].value||(i=this.get("height"),o=this.get("width"),a=this.get("titleShape"),s=this.get("titleGap"),u=[],c=(t-r[0].value)/(r[r.length-1].value-r[0].value),d="vertical"===this.get("layout")?(f=l=0,"color-legend"===this.get("type")&&(l=s,a&&(l+=a.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?l-=13:(l=s-15,a&&(l+=a.getBBox().height)),f+=10),u=[[f,(c=(1-c)*i)+l],[f-10,c+l-5],[f-10,c+l+5]],v.mix({},{x:o+this.get("textOffset")/2+f,y:c+l,text:this._formatItemValue(t)+""},this.get("textStyle"),{textAlign:"start"})):(p=h=0,"color-legend"===this.get("type")&&(h=s,a&&(h+=a.getBBox().height)),this.get("slidable")&&("color-legend"===this.get("type")?h-=7:(h=s,a||(h-=7)),p+=10),u=[[(c*=o)+p,h],[c+p-5,h-10],[c+p+5,h-10]],v.mix({},{x:c-5,y:i+this.get("textOffset")+h,text:this._formatItemValue(t)+""},this.get("textStyle"))),g=v.mix(d,this.get("hoverTextStyle")),n?n.attr(g):(n=this.get("group").addShape("text",{attrs:g})).set("id","hoverText"),e?e.attr(v.mix({points:u},this.get("pointerStyle"))):(e=this.get("group").addShape("Polygon",{attrs:v.mix({points:u},this.get("pointerStyle"))})).set("id","hoverPointer"),this.get("canvas").draw()))},i.deactivate=function(){var t=this.get("group").findById("hoverPointer");t&&t.destroy();var e=this.get("group").findById("hoverText");e&&e.destroy(),this.get("canvas").draw()},r}(r);t.exports=i},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=n(669),s=n(536),i=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return s.mix({},t,{x:0,y:0,items:null,titleContent:null,showTitle:!0,plotRange:null,offset:10,timeStamp:0,inPlot:!0,crosshairs:null})},i.isContentChange=function(t,e){var n=this.get("titleContent"),i=this.get("items"),o=!(t===n&&i.length===e.length);return o||s.each(e,function(t,e){var n=i[e];for(var r in t)if(t.hasOwnProperty(r)&&!s.isObject(t[r])&&t[r]!==n[r]){o=!0;break}if(o)return!1}),o},i.setContent=function(t,e){var n=(new Date).valueOf();return this.set("items",e),this.set("titleContent",t),this.set("timeStamp",n),this.render(),this},i.setPosition=function(t,e){this.set("x",t),this.set("y",e)},i.render=function(){},i.clear=function(){},i.show=function(){this.set("visible",!0)},i.hide=function(){this.set("visible",!1)},r}(r);t.exports=i},function(t,e,n){var p=n(542),d=n(530);var r={getDefaultSize:function(){var t,e,n,r,i,o,a,s,u,c,l,f=this.get("defaultSize"),h=this.get("viewTheme")||p;return f||(t=this.get("coord"),n=(e=this.getXScale()).values,r=this.get("dataArray"),e.isLinear&&1<n.length?(n.sort(),i=function(t,e){var n=t.length;d.isString(t[0])&&(t=t.map(function(t){return e.translate(t)}));for(var r=t[1]-t[0],i=2;i<n;i++){var o=t[i]-t[i-1];o<r&&(r=o)}return r}(n,e),o=(e.max-e.min)/i,n.length>o&&(o=n.length)):o=n.length,a=e.range,s=1/o,l=1,l=this.isInCircle()?t.isTransposed&&1<o?h.widthRatio.multiplePie:h.widthRatio.rose:(e.isLinear&&(s*=a[1]-a[0]),h.widthRatio.column),s*=l,this.hasAdjust("dodge")&&(s/=(u=this._getDodgeCfg(r)).dodgeCount,0<(c=u.dodgeRatio)&&(s=c*s/l)),f=s,this.set("defaultSize",f)),f},_getDodgeCfg:function(t){var e,n,r,i=this.get("adjusts"),o=t.length;return d.each(i,function(t){"dodge"===t.type&&(e=t.dodgeBy,n=t.dodgeRatio)}),e&&(r=d.Array.merge(t),o=d.Array.values(r,e).length),{dodgeCount:o,dodgeRatio:n}},getDimWidth:function(t){var e=this.get("coord"),n=e.convertPoint({x:0,y:0}),r=e.convertPoint({x:"x"===t?1:0,y:"x"===t?0:1}),i=0;return n&&r&&(i=Math.sqrt(Math.pow(r.x-n.x,2)+Math.pow(r.y-n.y,2))),i},_getWidth:function(){var t=this.get("coord"),e=this.isInCircle()&&!t.isTransposed?(t.endAngle-t.startAngle)*t.radius:this.getDimWidth("x");return e},_toNormalizedSize:function(t){return t/this._getWidth()},_toCoordSize:function(t){return this._getWidth()*t},getNormalizedSize:function(t){var e=this.getAttrValue("size",t);return e=d.isNil(e)?this.getDefaultSize():this._toNormalizedSize(e)},getSize:function(t){var e,n=this.getAttrValue("size",t);return d.isNil(n)&&(e=this.getDefaultSize(),n=this._toCoordSize(e)),n}};t.exports=r},function(t,e,n){"use strict";function r(){return[]}e.a=function(t){return null==t?r:function(){return this.querySelectorAll(t)}}},function(t,e,n){"use strict";e.a=function(t){return function(){return this.matches(t)}}},function(t,e,n){"use strict";n.d(e,"b",function(){return i});var r=n(624);function i(t,e){return t.style.getPropertyValue(e)||Object(r.a)(t).getComputedStyle(t,null).getPropertyValue(e)}e.a=function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):i(this.node(),t)}},function(t,e){t.exports=function(t){return(t.get("scaleController")||{}).defs}},function(t,e,n){var r=n(676);t.exports=function(t,e){var n=r(t);if(n&&n[e])return n[e]}},function(t,e,n){var a=n(530),s=n(609);t.exports=function(t,e){var n,r=e.field,i=e.type,o=a.Array.values(t,r);return"linear"===i?(n=a.Array.getRange(o),e.min<n.min&&(n.min=e.min),e.max>n.max&&(n.max=e.max)):n=("timeCat"===i&&(a.each(o,function(t,e){o[e]=s.toTimeStamp(t)}),o.sort(function(t,e){return t-e})),o),n}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e=void 0===t?"undefined":n(t);return null!==t&&"object"===e||"function"===e}},function(t,e){t.exports=function(t){return null==t}},function(t,e,n){var i=n(541),o=n(547),r=Object.values?function(t){return Object.values(t)}:function(n){var r=[];return i(n,function(t,e){o(n)&&"prototype"===e||r.push(t)}),r};t.exports=r},function(t,e){t.exports={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]}},function(t,e){t.exports=function(t){return null!==t&&"function"!=typeof t&&isFinite(t.length)}},function(t,e){function n(t){return Math.abs(t)<=1?.5:0}t.exports={boxcar:n,cosine:function(t){return Math.abs(t)<=1?Math.PI/4*Math.cos(Math.PI/2*t):0},epanechnikov:function(t){return Math.abs(t)<1?.75*(1-t*t):0},gaussian:function(t){return.3989422804*Math.exp(-.5*t*t)},quartic:function(t){if(Math.abs(t)<1){var e=1-t*t;return.9375*e*e}return 0},triangular:function(t){var e=Math.abs(t);return e<1?1-e:0},tricube:function(t){return Math.abs(t)<1?70/81*(e=t,n=1-Math.pow(Math.abs(e),3),Math.pow(n,3)):0;var e,n},triweight:function(t){if(Math.abs(t)<1){var e=1-t*t;return 35/32*e*e*e}return 0},uniform:n}},function(t,e,n){"use strict";var u=n(556);t.exports=i;var s="\0",r="\0",c="";function i(t){this._isDirected=!u.has(t,"directed")||t.directed,this._isMultigraph=!!u.has(t,"multigraph")&&t.multigraph,this._isCompound=!!u.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=u.constant(void 0),this._defaultEdgeLabelFn=u.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function l(t,e){t[e]?t[e]++:t[e]=1}function o(t,e){--t[e]||delete t[e]}function f(t,e,n,r){var i,o=""+e,a=""+n;return!t&&a<o&&(i=o,o=a,a=i),o+c+a+c+(u.isUndefined(r)?s:r)}function a(t,e){return f(t,e.v,e.w,e.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(t){return this._label=t,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(t){return u.isFunction(t)||(t=u.constant(t)),this._defaultNodeLabelFn=t,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return u.keys(this._nodes)},i.prototype.sources=function(){var e=this;return u.filter(this.nodes(),function(t){return u.isEmpty(e._in[t])})},i.prototype.sinks=function(){var e=this;return u.filter(this.nodes(),function(t){return u.isEmpty(e._out[t])})},i.prototype.setNodes=function(t,e){var n=arguments,r=this;return u.each(t,function(t){1<n.length?r.setNode(t,e):r.setNode(t)}),this},i.prototype.setNode=function(t,e){return u.has(this._nodes,t)?1<arguments.length&&(this._nodes[t]=e):(this._nodes[t]=1<arguments.length?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=r,this._children[t]={},this._children[r][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount),this},i.prototype.node=function(t){return this._nodes[t]},i.prototype.hasNode=function(t){return u.has(this._nodes,t)},i.prototype.removeNode=function(t){var e,n=this;return u.has(this._nodes,t)&&(e=function(t){n.removeEdge(n._edgeObjs[t])},delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],u.each(this.children(t),function(t){n.setParent(t)}),delete this._children[t]),u.each(u.keys(this._in[t]),e),delete this._in[t],delete this._preds[t],u.each(u.keys(this._out[t]),e),delete this._out[t],delete this._sucs[t],--this._nodeCount),this},i.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(u.isUndefined(e))e=r;else{for(var n=e+="";!u.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},i.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},i.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==r)return e}},i.prototype.children=function(t){if(u.isUndefined(t)&&(t=r),this._isCompound){var e=this._children[t];if(e)return u.keys(e)}else{if(t===r)return this.nodes();if(this.hasNode(t))return[]}},i.prototype.predecessors=function(t){var e=this._preds[t];if(e)return u.keys(e)},i.prototype.successors=function(t){var e=this._sucs[t];if(e)return u.keys(e)},i.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return u.union(e,this.successors(t))},i.prototype.isLeaf=function(t){var e=this.isDirected()?this.successors(t):this.neighbors(t);return 0===e.length},i.prototype.filterNodes=function(n){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var i=this;u.each(this._nodes,function(t,e){n(e)&&r.setNode(e,t)}),u.each(this._edgeObjs,function(t){r.hasNode(t.v)&&r.hasNode(t.w)&&r.setEdge(t,i.edge(t))});var o={};return this._isCompound&&u.each(r.nodes(),function(t){r.setParent(t,function t(e){var n=i.parent(e);return void 0===n||r.hasNode(n)?o[e]=n:n in o?o[n]:t(n)}(t))}),r},i.prototype.setDefaultEdgeLabel=function(t){return u.isFunction(t)||(t=u.constant(t)),this._defaultEdgeLabelFn=t,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return u.values(this._edgeObjs)},i.prototype.setPath=function(t,n){var r=this,i=arguments;return u.reduce(t,function(t,e){return 1<i.length?r.setEdge(t,e,n):r.setEdge(t,e),e}),this},i.prototype.setEdge=function(){var t,e,n=!1,r=arguments[0];"object"==typeof r&&null!==r&&"v"in r?(a=r.v,s=r.w,t=r.name,2===arguments.length&&(e=arguments[1],n=!0)):(a=r,s=arguments[1],t=arguments[3],2<arguments.length&&(e=arguments[2],n=!0)),a=""+a,s=""+s,u.isUndefined(t)||(t=""+t);var i=f(this._isDirected,a,s,t);if(u.has(this._edgeLabels,i))return n&&(this._edgeLabels[i]=e),this;if(!u.isUndefined(t)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(a),this.setNode(s),this._edgeLabels[i]=n?e:this._defaultEdgeLabelFn(a,s,t);var o=function(t,e,n,r){var i=""+e,o=""+n;{var a;!t&&o<i&&(a=i,i=o,o=a)}var s={v:i,w:o};r&&(s.name=r);return s}(this._isDirected,a,s,t),a=o.v,s=o.w;return Object.freeze(o),this._edgeObjs[i]=o,l(this._preds[s],a),l(this._sucs[a],s),this._in[s][i]=o,this._out[a][i]=o,this._edgeCount++,this},i.prototype.edge=function(t,e,n){var r=1===arguments.length?a(this._isDirected,t):f(this._isDirected,t,e,n);return this._edgeLabels[r]},i.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?a(this._isDirected,t):f(this._isDirected,t,e,n);return u.has(this._edgeLabels,r)},i.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?a(this._isDirected,arguments[0]):f(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],o(this._preds[e],t),o(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},i.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=u.values(n);return e?u.filter(r,function(t){return t.v===e}):r}},i.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=u.values(n);return e?u.filter(r,function(t){return t.w===e}):r}},i.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(908),i=n(1192),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(825),i=n(826),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return o.call(e,t)}))}:i;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(909),i=n(573);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e,n){var c=n(689),l=n(1236);t.exports=function t(e,n,r,i,o){var a=-1,s=e.length;for(r=r||l,o=o||[];++a<s;){var u=e[a];0<n&&r(u)?1<n?t(u,n-1,r,i,o):c(o,u):i||(o[o.length]=u)}return o}},function(t,e,n){var c=n(337);t.exports=function(t,e,n){for(var r=-1,i=t.length;++r<i;){var o,a,s=t[r],u=e(s);null!=u&&(void 0===o?u==u&&!c(u):n(u,o))&&(o=u,a=s)}return a}},function(t,e,n){var r={compactBox:n(1313),dendrogram:n(1315),indented:n(1317),mindmap:n(1319)};t.exports=r},function(t,e,n){var c=n(859),l=["LR","RL","TB","BT","H","V"],f=["LR","RL","H"],h=l[0];t.exports=function(t,e,n){var r,i,o,a,s,u=e.direction||h;if(e.isHorizontal=(r=u,-1<f.indexOf(r)),u&&-1===l.indexOf(u))throw new TypeError("Invalid direction: "+u);return u===l[0]?n(t,e):u===l[1]?(n(t,e),t.right2left()):u===l[2]?n(t,e):u===l[3]?(n(t,e),t.bottom2top()):u!==l[4]&&u!==l[5]||(o=(i=c(t,e)).left,a=i.right,n(o,e),n(a,e),e.isHorizontal?o.right2left():o.bottom2top(),a.translate(o.x-a.x,o.y-a.y),t.x=o.x,t.y=a.y,s=t.getBoundingBox(),e.isHorizontal?s.top<0&&t.translate(0,-s.top):s.left<0&&t.translate(-s.left,0)),t.translate(-(t.x+t.width/2+t.hgap),-(t.y+t.height/2+t.vgap)),t}},,,,,,,function(t,e,n){n(1133),n(1137),n(1138),n(1141),n(1142),n(1144),n(1145),n(821),n(1148),n(1149),n(1151),n(1152),n(1153),n(1154),n(1155),n(1158),n(1159),n(1160),n(1161),n(1162),n(1163),n(1164),n(1165),n(1166),n(1168),n(1169),n(1170),n(1173),n(1175),n(1177),n(1178),n(1179),n(1180),n(1181),n(1182),n(1183),n(1184),n(1185),n(1186),n(1309),n(1310),n(1311),n(1312),n(1321),n(1322),n(1323),n(1324),n(1325),n(1326),n(1327),n(1329),n(1331),n(1332),t.exports=n(531)},,,,function(t,e,n){var r=n(905),i=n(707);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var s=n(696),u=n(701),c=n(548),l=n(865),f=n(1347),h=n(635);t.exports=function(t,e,n){for(var r=-1,i=(e=s(e,t)).length,o=!1;++r<i;){var a=h(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&f(i)&&l(a,i)&&(c(t)||u(t))}},,,,,,,,,,,,,,function(t,e,n){var r=n(722),i=n(571);i.Linear=n(608),i.Identity=n(923),i.Cat=n(724),i.Time=n(924),i.TimeCat=n(926),i.Log=n(927),i.Pow=n(928);for(var o in i)!function(e){var t;i.hasOwnProperty(e)&&(t=r(e),i[t]=function(t){return new i[e](t)})}(o);var a=["cat","timeCat"];i.isCategory=function(t){return 0<=a.indexOf(t)},t.exports=i},function(t,e,n){var r=n(586);t.exports=function(t){var e=r(t);return e.charAt(0).toLowerCase()+e.substring(1)}},function(t,e){function o(t,e){var n=t.length;if(0===n)return NaN;var r=t[0];if(e<t[0])return NaN;if(e>=t[n-1])return t[n-1];for(var i=1;i<t.length&&!(e<t[i]);i++)r=t[i];return r}function a(t,e){var n,r=t.length;if(0===r)return NaN;if(e>t[r-1])return NaN;if(e<t[0])return t[0];for(var i=1;i<t.length;i++)if(e<=t[i]){n=t[i];break}return n}var s={snapFactorTo:function(t,e,n){if(isNaN(t))return NaN;var r,i=1;0!==t&&(t<0&&(i=-1),i*=r=function(t){var e=1;if(t===1/0||t===-1/0)throw new Error("Not support Infinity!");if(t<1){for(var n=0;t<1;)e/=10,t*=10,n++;12<e.toString().length&&(e=parseFloat(e.toFixed(n)))}else for(;10<t;)e*=10,t/=10;return e}(t*=i),t/=r),t="floor"===n?s.snapFloor(e,t):"ceil"===n?s.snapCeiling(e,t):s.snapTo(e,t);var o=parseFloat((t*i).toPrecision(12));return Math.abs(i)<1&&12<o.toString().length&&(o=t/parseInt(1/i)*(0<i?1:-1)),o},snapMultiple:function(t,e,n){var r="ceil"===n?Math.ceil(t/e):"floor"===n?Math.floor(t/e):Math.round(t/e);return r*e},snapTo:function(t,e){var n=o(t,e),r=a(t,e);if(isNaN(n)||isNaN(r)){if(t[0]>=e)return t[0];var i=t[t.length-1];if(i<=e)return i}return Math.abs(e-n)<Math.abs(r-e)?n:r},snapFloor:o,snapCeiling:a,fixedBase:function(t,e){var n=e.toString(),r=n.indexOf("."),i=n.indexOf("e-");if(r<0&&i<0)return Math.round(t);var o=0<=i?parseInt(n.substr(i+2),10):n.substr(r+1).length;return 20<o&&(o=20),parseFloat(t.toFixed(o))}};t.exports=s},function(t,e,n){var r=n(571),o=n(725),a=n(535),s=n(551),u=n(554),i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var i=r.prototype;return i._initDefaultCfg=function(){e.prototype._initDefaultCfg.call(this),this.type="cat",this.isCategory=!0,this.isRounding=!0},i.init=function(){var t,n=this.values,e=this.tickCount;a(n,function(t,e){n[e]=t.toString()}),this.ticks||(t=n,e&&(t=o({maxCount:e,data:n,isRounding:this.isRounding}).ticks),this.ticks=t)},i.getText=function(t){return-1===this.values.indexOf(t)&&s(t)&&(t=this.values[Math.round(t)]),e.prototype.getText.call(this,t)},i.translate=function(t){var e=this.values.indexOf(t);return-1===e&&s(t)?e=t:-1===e&&(e=NaN),e},i.scale=function(t){var e=this.rangeMin(),n=this.rangeMax();return!u(t)&&-1===this.values.indexOf(t)||(t=this.translate(t)),e+(1<this.values.length?t/(this.values.length-1):t)*(n-e)},i.invert=function(t){if(u(t))return t;var e=this.rangeMin(),n=this.rangeMax();t<e&&(t=e),n<t&&(t=n);var r=(t-e)/(n-e),i=(i=Math.round(r*(this.values.length-1))%this.values.length)||0;return this.values[i]},r}(r);r.Cat=i,t.exports=i},function(t,e,n){var g=n(535);t.exports=function(t){var e,n,r,i={},o=[],a=t.isRounding,s=(e=t.data,n=[],g(e,function(t){n=n.concat(t)}),n),u=s.length,c=t.maxCount||8;if(!a||2===(r=function(t,e){for(var n=e;0<n&&t%n!=0;n--);if(1===n)for(n=e;0<n&&(t-1)%n!=0;n--);return n}(u-1,c-1)+1)?r=c:r<c-4&&(r=c-4),!a&&u<=r+r/2)o=[].concat(s);else{for(var l,f=parseInt(u/(r-1),10),h=s.map(function(t,e){return e%f==0?s.slice(e,e+f):null}).filter(function(t){return t}),p=1,d=h.length;p<d&&(a?p*f<u-f:p<r-1);p++)o.push(h[p][0]);s.length&&(o.unshift(s[0]),l=s[u-1],-1===o.indexOf(l)&&o.push(l))}return i.categories=s,i.ticks=o,i}},function(g,v,y){var m;!function(){"use strict";function t(){}var s={},u=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,e=/\d\d?/,n=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,o=/\[([^]*?)\]/gm;function r(t,e){for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].substr(0,e));return n}function i(i){return function(t,e,n){var r=n[i].indexOf(e.charAt(0).toUpperCase()+e.substr(1).toLowerCase());~r&&(t.month=r)}}function a(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"],f=r(l,3),h=r(c,3);s.i18n={dayNamesShort:h,dayNames:c,monthNamesShort:f,monthNames:l,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][3<t%10?0:(t-t%10!=10)*t%10]}};var p={D:function(t){return t.getDate()},DD:function(t){return a(t.getDate())},Do:function(t,e){return e.DoFn(t.getDate())},d:function(t){return t.getDay()},dd:function(t){return a(t.getDay())},ddd:function(t,e){return e.dayNamesShort[t.getDay()]},dddd:function(t,e){return e.dayNames[t.getDay()]},M:function(t){return t.getMonth()+1},MM:function(t){return a(t.getMonth()+1)},MMM:function(t,e){return e.monthNamesShort[t.getMonth()]},MMMM:function(t,e){return e.monthNames[t.getMonth()]},YY:function(t){return String(t.getFullYear()).substr(2)},YYYY:function(t){return a(t.getFullYear(),4)},h:function(t){return t.getHours()%12||12},hh:function(t){return a(t.getHours()%12||12)},H:function(t){return t.getHours()},HH:function(t){return a(t.getHours())},m:function(t){return t.getMinutes()},mm:function(t){return a(t.getMinutes())},s:function(t){return t.getSeconds()},ss:function(t){return a(t.getSeconds())},S:function(t){return Math.round(t.getMilliseconds()/100)},SS:function(t){return a(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return a(t.getMilliseconds(),3)},a:function(t,e){return t.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(t,e){return t.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(t){var e=t.getTimezoneOffset();return(0<e?"-":"+")+a(100*Math.floor(Math.abs(e)/60)+Math.abs(e)%60,4)}},d={D:[e,function(t,e){t.day=e}],Do:[new RegExp(e.source+n.source),function(t,e){t.day=parseInt(e,10)}],M:[e,function(t,e){t.month=e-1}],YY:[e,function(t,e){var n=+(""+(new Date).getFullYear()).substr(0,2);t.year=""+(68<e?n-1:n)+e}],h:[e,function(t,e){t.hour=e}],m:[e,function(t,e){t.minute=e}],s:[e,function(t,e){t.second=e}],YYYY:[/\d{4}/,function(t,e){t.year=e}],S:[/\d/,function(t,e){t.millisecond=100*e}],SS:[/\d{2}/,function(t,e){t.millisecond=10*e}],SSS:[/\d{3}/,function(t,e){t.millisecond=e}],d:[e,t],ddd:[n,t],MMM:[n,i("monthNamesShort")],MMMM:[n,i("monthNames")],a:[n,function(t,e,n){var r=e.toLowerCase();r===n.amPm[0]?t.isPm=!1:r===n.amPm[1]&&(t.isPm=!0)}],ZZ:[/([\+\-]\d\d:?\d\d|Z)/,function(t,e){"Z"===e&&(e="+00:00");var n,r=(e+"").match(/([\+\-]|\d\d)/gi);r&&(n=60*r[1]+parseInt(r[2],10),t.timezoneOffset="+"===r[0]?n:-n)}]};d.dd=d.d,d.dddd=d.ddd,d.DD=d.D,d.mm=d.m,d.hh=d.H=d.HH=d.h,d.MM=d.M,d.ss=d.s,d.A=d.a,s.masks={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},s.format=function(e,t,n){var r=n||s.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");t=s.masks[t]||t||s.masks.default;var i=[];return(t=(t=t.replace(o,function(t,e){return i.push(e),"??"})).replace(u,function(t){return t in p?p[t](e,r):t.slice(1,t.length-1)})).replace(/\?\?/g,function(){return i.shift()})},s.parse=function(r,t,e){var i=e||s.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=s.masks[t]||t,1e3<r.length)return!1;var o=!0,a={};if(t.replace(u,function(t){var e,n;return d[t]&&(e=d[t],~(n=r.search(e[0]))?r.replace(e[0],function(t){return e[1](a,t,i),r=r.substr(n+t.length),t}):o=!1),d[t]?"":t.slice(1,t.length-1)}),!o)return!1;var n=new Date;return!0===a.isPm&&null!=a.hour&&12!=+a.hour?a.hour=+a.hour+12:!1===a.isPm&&12==+a.hour&&(a.hour=0),null!=a.timezoneOffset?(a.minute=(a.minute||0)-a.timezoneOffset,new Date(Date.UTC(a.year||n.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0))):new Date(a.year||n.getFullYear(),a.month||0,a.day||1,a.hour||0,a.minute||0,a.second||0,a.millisecond||0)},g.exports?g.exports=s:void 0===(m=function(){return s}.call(v,y,v,g))||(g.exports=m)}()},function(t,e,n){var r=n(557);t.exports=function(t){return r(t,"Date")}},function(t,e,n){t.exports={isFunction:n(555),isObject:n(587),isBoolean:n(729),isNil:n(545),isString:n(554),isArray:n(540),isNumber:n(551),isEmpty:n(730),uniqueId:n(733),clone:n(654),deepMix:n(655),assign:n(550),merge:n(655),upperFirst:n(734),each:n(535),isEqual:n(657),toArray:n(610),extend:n(735),augment:n(736),remove:n(737),isNumberEqual:n(611),toRadian:n(738),toDegree:n(739),mod:n(740),clamp:n(658),createDom:n(741),modifyCSS:n(742),requestAnimationFrame:n(743),getRatio:function(){return window.devicePixelRatio?window.devicePixelRatio:2},mat3:n(659),vec2:n(744),vec3:n(745),transform:n(746)}},function(t,e,n){var r=n(557);t.exports=function(t){return r(t,"Boolean")}},function(t,e,n){var r=n(545),i=n(562),o=n(731),a=n(732),s=Object.prototype.hasOwnProperty;t.exports=function(t){if(r(t))return!0;if(i(t))return!t.length;var e=o(t);if("Map"===e||"Set"===e)return!t.size;if(a(t))return!Object.keys(t).length;for(var n in t)if(s.call(t,n))return!1;return!0}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).replace(/^\[object /,"").replace(/\]$/,"")}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e){var n,r=(n={},function(t){return n[t=t||"g"]?n[t]+=1:n[t]=1,t+n[t]});t.exports=r},function(t,e,n){var r=n(586);t.exports=function(t){var e=r(t);return e.charAt(0).toUpperCase()+e.substring(1)}},function(t,e,n){var a=n(555),s=n(550);t.exports=function(t,e,n,r){a(e)||(n=e,e=t,t=function(){});var i=Object.create?function(t,e){return Object.create(t,{constructor:{value:e}})}:function(t,e){function n(){}n.prototype=t;var r=new n;return r.constructor=e,r},o=i(e.prototype,t);return t.prototype=s(o,t.prototype),t.superclass=i(e.prototype,e),s(o,n),s(t,r),t}},function(t,e,n){var i=n(555),o=n(610),a=n(550);t.exports=function(t){for(var e=o(arguments),n=1;n<e.length;n++){var r=e[n];i(r)&&(r=r.prototype),a(t.prototype,r)}}},function(t,e){var n=Array.prototype,o=n.splice,a=n.indexOf,s=n.slice;t.exports=function(t){for(var e=s.call(arguments,1),n=0;n<e.length;n++)for(var r,i=e[n];-1<(r=a.call(t,i));)o.call(t,r,1);return t}},function(t,e){var n=Math.PI/180;t.exports=function(t){return n*t}},function(t,e){var n=180/Math.PI;t.exports=function(t){return n*t}},function(t,e){t.exports=function(t,e){return(t%e+e)%e}},function(t,e){var n=document.createElement("table"),r=document.createElement("tr"),i=/^\s*<(\w+|!)[^>]*>/,o={tr:document.createElement("tbody"),tbody:n,thead:n,tfoot:n,td:r,th:r,"*":document.createElement("div")};t.exports=function(t){var e=i.test(t)&&RegExp.$1;e in o||(e="*");var n=o[e];t=t.replace(/(^\s*)|(\s*$)/g,""),n.innerHTML=""+t;var r=n.childNodes[0];return n.removeChild(r),r}},function(t,e){t.exports=function(t,e){if(t)for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t}},function(t,e){t.exports=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return setTimeout(t,16)})(t)}},function(t,e,n){var o=n(931),r=n(658);o.angle=function(t,e){var n=o.dot(t,e)/(o.length(t)*o.length(e));return Math.acos(r(n,-1,1))},o.direction=function(t,e){return t[0]*e[1]-e[0]*t[1]},o.angleTo=function(t,e,n){var r=o.angle(t,e),i=0<=o.direction(t,e);return n?i?2*Math.PI-r:r:i?r:2*Math.PI-r},o.vertical=function(t,e,n){return n?(t[0]=e[1],t[1]=-1*e[0]):(t[0]=-1*e[1],t[1]=e[0]),t},t.exports=o},function(t,e,n){var r=n(932);t.exports=r},function(t,e,n){var r=n(654),i=n(535),o=n(659);t.exports=function(e,t){return e=r(e),i(t,function(t){switch(t[0]){case"t":o.translate(e,e,[t[1],t[2]]);break;case"s":o.scale(e,e,[t[1],t[2]]);break;case"r":o.rotate(e,e,t[1]);break;case"m":o.multiply(e,e,t[1]);break;default:return!1}}),e}},function(t,e,n){function r(t,e,n,r){this.type=t,this.target=null,this.currentTarget=null,this.bubbles=n,this.cancelable=r,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.removed=!1,this.event=e}var i=n(533);i.augment(r,{preventDefault:function(){this.defaultPrevented=this.cancelable&&!0},stopPropagation:function(){this.propagationStopped=!0},remove:function(){this.remove=!0},clone:function(){return i.clone(this)},toString:function(){return"[Event (type="+this.type+")]"}}),t.exports=r},function(t,e,n){var s=n(533),r=n(749),u=n(936),c={},i="_INDEX";function a(t,e,n){for(var r,i=t.length-1;0<=i;i--){var o=t[i];if(o._cfg.visible&&o._cfg.capture&&(o.isGroup?r=o.getShape(e,n):o.isHit(e,n)&&(r=o)),r)break}return r}var o=function t(e){t.superclass.constructor.call(this,e),this.set("children",[]),this.set("tobeRemoved",[]),this._beforeRenderUI(),this._renderUI(),this._bindUI()};s.extend(o,r),s.augment(o,{isGroup:!0,type:"group",canFill:!0,canStroke:!0,getDefaultCfg:function(){return function t(e){var n;e._cfg||e===o||((n=e.superclass.constructor)&&!n._cfg&&t(n),e._cfg={},s.merge(e._cfg,n._cfg),s.merge(e._cfg,e.CFG))}(this.constructor),s.merge({},this.constructor._cfg)},_beforeRenderUI:function(){},_renderUI:function(){},_bindUI:function(){},addShape:function(t,e){var n=this.get("canvas");e=e||{};var r,i,o=c[t];o||(o=s.upperFirst(t),c[t]=o),e.attrs&&n&&(r=e.attrs,"text"!==t||(i=n.get("fontFamily"))&&(r.fontFamily=r.fontFamily?r.fontFamily:i)),e.canvas=n,e.type=t;var a=new u[o](e);return this.add(a),a},addGroup:function(t,e){var n,r=this.get("canvas");if(e=s.merge({},e),s.isFunction(t))n=e?(e.canvas=r,e.parent=this,new t(e)):new t({canvas:r,parent:this}),this.add(n);else if(s.isObject(t))t.canvas=r,n=new o(t),this.add(n);else{if(void 0!==t)return!1;n=new o,this.add(n)}return n},renderBack:function(t,e){var n=this.get("backShape"),r=this.getBBox();return s.merge(e,{x:r.minX-t[3],y:r.minY-t[0],width:r.width+t[1]+t[3],height:r.height+t[0]+t[2]}),n?n.attr(e):n=this.addShape("rect",{zIndex:-1,attrs:e}),this.set("backShape",n),this.sort(),n},removeChild:function(t,e){if(2<=arguments.length)this.contain(t)&&t.remove(e);else{if(1===arguments.length){if(!s.isBoolean(t))return this.contain(t)&&t.remove(!0),this;e=t}0===arguments.length&&(e=!0),o.superclass.remove.call(this,e)}return this},add:function(t){var e,n,r=this,i=r.get("children");return s.isArray(t)?(s.each(t,function(t){var e=t.get("parent");e&&e.removeChild(t,!1),r._setCfgProperty(t)}),r._cfg.children=i.concat(t)):((n=(e=t).get("parent"))&&n.removeChild(e,!1),r._setCfgProperty(e),i.push(e)),r},_setCfgProperty:function(t){var e=this._cfg;t.set("parent",this),t.set("canvas",e.canvas),e.timeline&&t.set("timeline",e.timeline)},contain:function(t){return-1<this.get("children").indexOf(t)},getChildByIndex:function(t){return this.get("children")[t]},getFirst:function(){return this.getChildByIndex(0)},getLast:function(){var t=this.get("children").length-1;return this.getChildByIndex(t)},getBBox:function(){var l=1/0,f=-1/0,h=1/0,p=-1/0,t=this.get("children");0<t.length?s.each(t,function(t){if(t.get("visible")){if(t.isGroup&&0===t.get("children").length)return;var e=t.getBBox();if(!e)return!0;var n=[e.minX,e.minY,1],r=[e.minX,e.maxY,1],i=[e.maxX,e.minY,1],o=[e.maxX,e.maxY,1];t.apply(n),t.apply(r),t.apply(i),t.apply(o);var a=Math.min(n[0],r[0],i[0],o[0]),s=Math.max(n[0],r[0],i[0],o[0]),u=Math.min(n[1],r[1],i[1],o[1]),c=Math.max(n[1],r[1],i[1],o[1]);a<l&&(l=a),f<s&&(f=s),u<h&&(h=u),p<c&&(p=c)}}):p=h=f=l=0;var e={minX:l,minY:h,maxX:f,maxY:p};return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e},getCount:function(){return this.get("children").length},sort:function(){var r,t=this.get("children");return s.each(t,function(t,e){return t[i]=e,t}),t.sort((r=function(t,e){return t.get("zIndex")-e.get("zIndex")},function(t,e){var n=r(t,e);return 0===n?t[i]-e[i]:n})),this},findById:function(e){return this.find(function(t){return t.get("id")===e})},find:function(e){if(s.isString(e))return this.findById(e);var t=this.get("children"),n=null;return s.each(t,function(t){if(e(t)?n=t:t.find&&(n=t.find(e)),n)return!1}),n},findAll:function(e){var n,t=this.get("children"),r=[];return s.each(t,function(t){e(t)&&r.push(t),t.findAllBy&&(n=t.findAllBy(e),r=r.concat(n))}),r},findBy:function(e){var t=this.get("children"),n=null;return s.each(t,function(t){if(e(t)?n=t:t.findBy&&(n=t.findBy(e)),n)return!1}),n},findAllBy:function(e){var n,t=this.get("children"),r=[];return s.each(t,function(t){e(t)&&r.push(t),t.findAllBy&&(n=t.findAllBy(e),r=r.concat(n))}),r},getShape:function(t,e){var n,r,i=this._attrs.clip,o=this._cfg.children;return i?(r=[t,e,1],i.invert(r,this.get("canvas")),i.isPointInPath(r[0],r[1])&&(n=a(o,t,e))):n=a(o,t,e),n},clearTotalMatrix:function(){if(this.get("totalMatrix")){this.setSilent("totalMatrix",null);for(var t=this._cfg.children,e=0;e<t.length;e++){t[e].clearTotalMatrix()}}},clear:function(t){for(var e=this._cfg.children,n=e.length-1;0<=n;n--)e[n].remove(!0,t);return this._cfg.children=[],this},destroy:function(){this.get("destroyed")||(this.clear(),o.superclass.destroy.call(this))},clone:function(){var t=this._cfg.children,e=new o;return s.each(t,function(t){e.add(t.clone())}),e}}),t.exports=o},function(t,e,n){function r(t){this._cfg={zIndex:0,capture:!0,visible:!0,destroyed:!1},a.assign(this._cfg,this.getDefaultCfg(),t),this.initAttrs(this._cfg.attrs),this._cfg.attrs={},this.initTransform(),this.init()}var a=n(533),i=n(933),o=n(934),s=n(935),u=n(589);r.CFG={id:null,zIndex:0,canvas:null,parent:null,capture:!0,context:null,visible:!0,destroyed:!1},a.augment(r,i,o,u,s,{init:function(){this.setSilent("animable",!0),this.setSilent("animating",!1)},getParent:function(){return this._cfg.parent},getDefaultCfg:function(){return{}},set:function(t,e){return"zIndex"===t&&this._beforeSetZIndex&&this._beforeSetZIndex(e),"loading"===t&&this._beforeSetLoading&&this._beforeSetLoading(e),this._cfg[t]=e,this},setSilent:function(t,e){this._cfg[t]=e},get:function(t){return this._cfg[t]},show:function(){return this._cfg.visible=!0,this},hide:function(){return this._cfg.visible=!1,this},remove:function(t,e){var n=this._cfg,r=n.parent,i=n.el;return r&&a.remove(r.get("children"),this),i&&(e?r&&r._cfg.tobeRemoved.push(i):i.parentNode.removeChild(i)),!t&&void 0!==t||this.destroy(),this},destroy:function(){this.get("destroyed")||(this._attrs=null,this.removeEvent(),this._cfg={destroyed:!0})},toFront:function(){var t,e,n,r=this._cfg,i=r.parent;i&&(t=i._cfg.children,e=r.el,n=t.indexOf(this),t.splice(n,1),t.push(this),e&&(e.parentNode.removeChild(e),r.el=null))},toBack:function(){var t,e,n,r,i=this._cfg,o=i.parent;o&&(t=o._cfg.children,e=i.el,n=t.indexOf(this),t.splice(n,1),t.unshift(this),e&&((r=e.parentNode).removeChild(e),r.insertBefore(e,r.firstChild)))},_beforeSetZIndex:function(t){var e=this._cfg.parent;this._cfg.zIndex=t,a.isNil(e)||e.sort();var n,r,i,o=this._cfg.el;return o&&(r=(n=e._cfg.children).indexOf(this),(i=o.parentNode).removeChild(o),r===n.length-1?i.appendChild(o):i.insertBefore(o,i.childNodes[r])),t},_setAttrs:function(t){return this.attr(t),t},setZIndex:function(t){return this._cfg.zIndex=t,this._beforeSetZIndex(t)},clone:function(){return a.clone(this)},getBBox:function(){}}),t.exports=r},function(t,e,n){var o=n(533),w=o.vec2;function _(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function c(t,e,n,r,i,o,a,s,u){for(var c,l,f,h,p=.005,d=1/0,g=[a,s],v=0;v<1;v+=.05)x=[_(t,n,i,v),_(e,r,o,v)],(b=w.squaredDistance(g,x))<d&&(c=v,d=b);for(d=1/0,h=0;h<32&&!(p<1e-4);h++){var y=c-p,m=c+p,x=[_(t,n,i,y),_(e,r,o,y)],b=w.squaredDistance(g,x);0<=y&&b<d?(c=y,d=b):(l=[_(t,n,i,m),_(e,r,o,m)],f=w.squaredDistance(g,l),m<=1&&f<d?(c=m,d=f):p*=.5)}return u&&(u.x=_(t,n,i,c),u.y=_(e,r,o,c)),Math.sqrt(d)}t.exports={at:_,projectPoint:function(t,e,n,r,i,o,a,s){var u={};return c(t,e,n,r,i,o,a,s,u),u},pointDistance:c,extrema:function(t,e,n){var r=t+n-2*e;if(o.isNumberEqual(r,0))return[.5];var i=(t-e)/r;return i<=1&&0<=i?[i]:[]}}},function(t,e){t.exports={xAt:function(t,e,n,r,i){return e*Math.cos(t)*Math.cos(i)-n*Math.sin(t)*Math.sin(i)+r},yAt:function(t,e,n,r,i){return e*Math.sin(t)*Math.cos(i)+n*Math.cos(t)*Math.sin(i)+r},xExtrema:function(t,e,n){return Math.atan(-n/e*Math.tan(t))},yExtrema:function(t,e,n){return Math.atan(n/(e*Math.tan(t)))}}},function(t,e,n){var r=n(533),i=n(546),c=n(613),o=n(614);function h(t,e,n){return t+e*Math.cos(n)}function p(t,e,n){return t+e*Math.sin(n)}function a(t){a.superclass.constructor.call(this,t)}a.ATTRS={x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1},r.extend(a,i),r.augment(a,{canStroke:!0,type:"arc",getDefaultAttrs:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.r,i=t.startAngle,o=t.endAngle,a=t.clockwise,s=this.getHitLineWidth()/2,u=c.box(e,n,r,i,o,a);return u.minX-=s,u.minY-=s,u.maxX+=s,u.maxY+=s,u},getStartTangent:function(){var t=this._attrs,e=t.x,n=t.y,r=t.startAngle,i=t.r,o=t.clockwise,a=Math.PI/180;o&&(a*=-1);var s=[],u=h(e,i,r+a),c=p(n,i,r+a),l=h(e,i,r),f=p(n,i,r);return s.push([u,c]),s.push([l,f]),s},getEndTangent:function(){var t=this._attrs,e=t.x,n=t.y,r=t.endAngle,i=t.r,o=t.clockwise,a=Math.PI/180,s=[];o&&(a*=-1);var u=h(e,i,r+a),c=p(n,i,r+a),l=h(e,i,r),f=p(n,i,r);return s.push([l,f]),s.push([u,c]),s},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.r,o=e.startAngle,a=e.endAngle,s=e.clockwise;(t=t||self.get("context")).beginPath(),t.arc(n,r,i,o,a,s)},afterPath:function(t){var e,n,r=this._attrs;t=t||this.get("context"),r.startArrow&&(e=this.getStartTangent(),o.addStartArrow(t,r,e[0][0],e[0][1],e[1][0],e[1][1])),r.endArrow&&(n=this.getEndTangent(),o.addEndArrow(t,r,n[0][0],n[0][1],n[1][0],n[1][1]))}}),t.exports=a},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var i=n(533),o=n(546);r.ATTRS={x:0,y:0,r:0,lineWidth:1},i.extend(r,o),i.augment(r,{canFill:!0,canStroke:!0,type:"circle",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.r,i=this.getHitLineWidth()/2+r;return{minX:e-i,minY:n-i,maxX:e+i,maxY:n+i}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.r;t.beginPath(),t.arc(n,r,i,0,2*Math.PI,!1),t.closePath()}}),t.exports=r},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var i=n(533),o=n(546);i.extend(r,o),i.augment(r,{canFill:!0,canStroke:!0,type:"dom",calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.width,i=t.height,o=this.getHitLineWidth()/2;return{minX:e-o,minY:n-o,maxX:e+r+o,maxY:n+i+o}}}),t.exports=r},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var l=n(533),i=n(546);r.ATTRS={x:0,y:0,rx:1,ry:1,lineWidth:1},l.extend(r,i),l.augment(r,{canFill:!0,canStroke:!0,type:"ellipse",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.rx,i=t.ry,o=this.getHitLineWidth(),a=r+o/2,s=i+o/2;return{minX:e-a,minY:n-s,maxX:e+a,maxY:n+s}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.rx,o=e.ry;t=t||self.get("context");var a=o<i?i:o,s=o<i?1:i/o,u=o<i?o/i:1,c=[1,0,0,0,1,0,0,0,1];l.mat3.scale(c,c,[s,u]),l.mat3.translate(c,c,[n,r]),t.beginPath(),t.save(),t.transform(c[0],c[1],c[3],c[4],c[6],c[7]),t.arc(0,0,a,0,2*Math.PI),t.restore(),t.closePath()}}),t.exports=r},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var i=n(533),o=n(546),h=n(613);r.ATTRS={x:0,y:0,rs:0,re:0,startAngle:0,endAngle:0,clockwise:!1,lineWidth:1},i.extend(r,o),i.augment(r,{canFill:!0,canStroke:!0,type:"fan",getDefaultAttrs:function(){return{clockwise:!1,lineWidth:1,rs:0,re:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.rs,i=t.re,o=t.startAngle,a=t.endAngle,s=t.clockwise,u=this.getHitLineWidth(),c=h.box(e,n,r,o,a,s),l=h.box(e,n,i,o,a,s),f=u/2;return{minX:Math.min(c.minX,l.minX)-f,minY:Math.min(c.minY,l.minY)-f,maxX:Math.max(c.maxX,l.maxX)+f,maxY:Math.max(c.maxY,l.maxY)+f}},createPath:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.rs,o=e.re,a=e.startAngle,s=e.endAngle,u=e.clockwise,c={x:Math.cos(a)*i+n,y:Math.sin(a)*i+r},l={x:Math.cos(a)*o+n,y:Math.sin(a)*o+r},f={x:Math.cos(s)*i+n,y:Math.sin(s)*i+r};(t=t||self.get("context")).beginPath(),t.moveTo(c.x,c.y),t.lineTo(l.x,l.y),t.arc(n,r,o,a,s,u),t.lineTo(f.x,f.y),t.arc(n,r,i,s,a,!u),t.closePath()}}),t.exports=r},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var h=n(533),i=n(546);r.ATTRS={x:0,y:0,img:void 0,width:0,height:0,sx:null,sy:null,swidth:null,sheight:null},h.extend(r,i),h.augment(r,{type:"image",isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs;this._cfg.attrs&&this._cfg.attrs.img===t.img||this._setAttrImg();var e=t.x,n=t.y;return{minX:e,minY:n,maxX:e+t.width,maxY:n+t.height}},_beforeSetLoading:function(t){var e=this.get("canvas");return!1===t&&!0===this.get("toDraw")&&(this._cfg.loading=!1,e.draw()),t},_setAttrImg:function(){var e=this,t=e._attrs,n=t.img;if(!h.isString(n))return n instanceof Image?(t.width||e.attr("width",n.width),t.height||e.attr("height",n.height),n):n instanceof HTMLElement&&h.isString(n.nodeName)&&"CANVAS"===n.nodeName.toUpperCase()?(t.width||e.attr("width",Number(n.getAttribute("width"))),t.height||e.attr("height",Number(n.getAttribute("height"))),n):n instanceof ImageData?(t.width||e.attr("width",n.width),t.height||e.attr("height",n.height),n):null;var r=new Image;r.onload=function(){if(e.get("destroyed"))return!1;e.attr("imgSrc",n),e.attr("img",r);var t=e.get("callback");t&&t.call(e),e.set("loading",!1)},r.src=n,r.crossOrigin="Anonymous",e.set("loading",!0)},drawInner:function(t){this._cfg.hasUpdate&&this._setAttrImg(),this.get("loading")?this.set("toDraw",!0):(this._drawImage(t),this._cfg.hasUpdate=!1)},_drawImage:function(t){var e=this._attrs,n=e.x,r=e.y,i=e.img,o=e.width,a=e.height,s=e.sx,u=e.sy,c=e.swidth,l=e.sheight;this.set("toDraw",!1);var f=i;if(f instanceof ImageData&&((f=new Image).src=i),f instanceof Image||f instanceof HTMLElement&&h.isString(f.nodeName)&&"CANVAS"===f.nodeName.toUpperCase()){if(h.isNil(s)||h.isNil(u)||h.isNil(c)||h.isNil(l))return void t.drawImage(f,n,r,o,a);if(!(h.isNil(s)||h.isNil(u)||h.isNil(c)||h.isNil(l)))return void t.drawImage(f,s,u,c,l,n,r,o,a)}}}),t.exports=r},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var i=n(533),o=n(546),a=n(614),s=n(612);r.ATTRS={x1:0,y1:0,x2:0,y2:0,lineWidth:1,startArrow:!1,endArrow:!1},i.extend(r,o),i.augment(r,{canStroke:!0,type:"line",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=t.x1,n=t.y1,r=t.x2,i=t.y2,o=this.getHitLineWidth();return s.box(e,n,r,i,o)},createPath:function(t){var e=this._attrs,n=e.x1,r=e.y1,i=e.x2,o=e.y2;(t=t||self.get("context")).beginPath(),t.moveTo(n,r),t.lineTo(i,o)},afterPath:function(t){var e=this._attrs,n=e.x1,r=e.y1,i=e.x2,o=e.y2;t=t||this.get("context"),e.startArrow&&a.addStartArrow(t,e,i,o,n,r),e.endArrow&&a.addEndArrow(t,e,n,r,i,o)},getPoint:function(t){var e=this._attrs;return{x:s.at(e.x1,e.x2,t),y:s.at(e.y1,e.y2,t)}}}),t.exports=r},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var l=n(533),i=n(546),s=n(615),u=n(590),a=n(614),o=n(664),f=n(662);r.ATTRS={path:null,lineWidth:1,startArrow:!1,endArrow:!1},l.extend(r,i),l.augment(r,{canFill:!0,canStroke:!0,type:"path",getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},_afterSetAttrPath:function(t){if(l.isNil(t))return this.setSilent("segments",null),void this.setSilent("box",void 0);var e=u.parsePath(t),n=[];if(l.isArray(e)&&0!==e.length&&("M"===e[0][0]||"m"===e[0][0])){for(var r=e.length,i=0;i<e.length;i++){var o=e[i],a=new s(o,a,i===r-1);n.push(a)}this.setSilent("segments",n),this.setSilent("tCache",null),this.setSilent("box",null)}},calculateBox:function(){var t=this.get("segments");if(!t)return null;var n=this.getHitLineWidth(),r=1/0,i=-1/0,o=1/0,a=-1/0;return l.each(t,function(t){t.getBBox(n);var e=t.box;e&&(e.minX<r&&(r=e.minX),e.maxX>i&&(i=e.maxX),e.minY<o&&(o=e.minY),e.maxY>a&&(a=e.maxY))}),r===1/0||o===1/0?{minX:0,minY:0,maxX:0,maxY:0}:{minX:r,minY:o,maxX:i,maxY:a}},_setTcache:function(){var n,r,i,o,a=0,s=0,u=[],c=this._cfg.curve;c&&(l.each(c,function(t,e){i=c[e+1],o=t.length,i&&(a+=f.len(t[o-2],t[o-1],i[1],i[2],i[3],i[4],i[5],i[6]))}),l.each(c,function(t,e){i=c[e+1],o=t.length,i&&((n=[])[0]=s/a,r=f.len(t[o-2],t[o-1],i[1],i[2],i[3],i[4],i[5],i[6]),s+=r,n[1]=s/a,u.push(n))}),this._cfg.tCache=u)},_calculateCurve:function(){var t=this._attrs.path;this._cfg.curve=o.pathTocurve(t)},getStartTangent:function(){var t,e,n,r,i,o=this.get("segments");return 1<o.length&&(e=o[0].endPoint,n=o[1].endPoint,r=o[1].startTangent,i=[],l.isFunction(r)?(t=r(),i.push([e.x-t[0],e.y-t[1]])):i.push([n.x,n.y]),i.push([e.x,e.y])),i},getEndTangent:function(){var t,e,n,r,i,o=this.get("segments"),a=o.length;return 1<a&&(e=o[a-2].endPoint,n=o[a-1].endPoint,r=o[a-1].endTangent,i=[],l.isFunction(r)?(t=r(),i.push([n.x-t[0],n.y-t[1]])):i.push([e.x,e.y]),i.push([n.x,n.y])),i},getPoint:function(n){var r,i,t=this._cfg.tCache;t||(this._calculateCurve(),this._setTcache(),t=this._cfg.tCache);var e=this._cfg.curve;if(!t)return e?{x:e[0][1],y:e[0][2]}:null;l.each(t,function(t,e){n>=t[0]&&n<=t[1]&&(r=(n-t[0])/(t[1]-t[0]),i=e)});var o=e[i];if(l.isNil(o)||l.isNil(i))return null;var a=o.length,s=e[i+1];return{x:f.at(o[a-2],s[1],s[3],s[5],1-r),y:f.at(o[a-1],s[2],s[4],s[6],1-r)}},createPath:function(t){var e=this.get("segments");if(l.isArray(e)){(t=t||this.get("context")).beginPath();for(var n=e.length,r=0;r<n;r++)e[r].draw(t)}},afterPath:function(t){var e,n,r=this._attrs,i=this.get("segments"),o=r.path;t=t||this.get("context"),l.isArray(i)&&1!==i.length&&(r.startArrow||r.endArrow)&&("z"===o[o.length-1]||"Z"===o[o.length-1]||r.fill||(e=this.getStartTangent(),a.addStartArrow(t,r,e[0][0],e[0][1],e[1][0],e[1][1]),n=this.getEndTangent(),a.addEndArrow(t,r,n[0][0],n[0][1],n[1][0],n[1][1])))}}),t.exports=r},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var s=n(533),i=n(546);r.ATTRS={points:null,lineWidth:1},s.extend(r,i),s.augment(r,{canFill:!0,canStroke:!0,type:"polygon",getDefaultAttrs:function(){return{lineWidth:1}},calculateBox:function(){var t=this._attrs.points,e=this.getHitLineWidth();if(!t||0===t.length)return null;var r=1/0,i=1/0,o=-1/0,a=-1/0;s.each(t,function(t){var e=t[0],n=t[1];e<r&&(r=e),o<e&&(o=e),n<i&&(i=n),a<n&&(a=n)});var n=e/2;return{minX:r-n,minY:i-n,maxX:o+n,maxY:a+n}},createPath:function(n){var t=this._attrs.points;t.length<2||((n=n||this.get("context")).beginPath(),s.each(t,function(t,e){0===e?n.moveTo(t[0],t[1]):n.lineTo(t[0],t[1])}),n.closePath())}}),t.exports=r},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var u=n(533),i=n(546),o=n(614),c=n(612);r.ATTRS={points:null,lineWidth:1,startArrow:!1,endArrow:!1,tCache:null},u.extend(r,i),u.augment(r,{canStroke:!0,type:"polyline",tCache:null,getDefaultAttrs:function(){return{lineWidth:1,startArrow:!1,endArrow:!1}},calculateBox:function(){var t=this._attrs,e=this.getHitLineWidth(),n=t.points;if(!n||0===n.length)return null;var r=1/0,i=1/0,o=-1/0,a=-1/0;u.each(n,function(t){var e=t[0],n=t[1];e<r&&(r=e),o<e&&(o=e),n<i&&(i=n),a<n&&(a=n)});var s=e/2;return{minX:r-s,minY:i-s,maxX:o+s,maxY:a+s}},_setTcache:function(){var n,r,i=this._attrs.points,o=0,a=0,s=[];i&&0!==i.length&&(u.each(i,function(t,e){i[e+1]&&(o+=c.len(t[0],t[1],i[e+1][0],i[e+1][1]))}),o<=0||(u.each(i,function(t,e){i[e+1]&&((n=[])[0]=a/o,r=c.len(t[0],t[1],i[e+1][0],i[e+1][1]),a+=r,n[1]=a/o,s.push(n))}),this.tCache=s))},createPath:function(t){var e,n,r=this._attrs.points;if(!(r.length<2)){for((t=t||this.get("context")).beginPath(),t.moveTo(r[0][0],r[0][1]),n=1,e=r.length-1;n<e;n++)t.lineTo(r[n][0],r[n][1]);t.lineTo(r[e][0],r[e][1])}},getStartTangent:function(){var t=this.__attrs.points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},getEndTangent:function(){var t=this.__attrs.points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},afterPath:function(t){var e=this._attrs,n=e.points,r=n.length-1;t=t||this.get("context"),e.startArrow&&o.addStartArrow(t,e,n[1][0],n[1][1],n[0][0],n[0][1]),e.endArrow&&o.addEndArrow(t,e,n[r-1][0],n[r-1][1],n[r][0],n[r][1])},getPoint:function(n){var r,i,t=this._attrs.points,e=this.tCache;return e||(this._setTcache(),e=this.tCache),u.each(e,function(t,e){n>=t[0]&&n<=t[1]&&(r=(n-t[0])/(t[1]-t[0]),i=e)}),{x:c.at(t[i][0],t[i+1][0],r),y:c.at(t[i][1],t[i+1][1],r)}}}),t.exports=r},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var i=n(533),u=n(590).parseRadius,o=n(546);r.ATTRS={x:0,y:0,width:0,height:0,radius:0,lineWidth:1},i.extend(r,o),i.augment(r,{canFill:!0,canStroke:!0,type:"rect",getDefaultAttrs:function(){return{lineWidth:1,radius:0}},calculateBox:function(){var t=this._attrs,e=t.x,n=t.y,r=t.width,i=t.height,o=this.getHitLineWidth()/2;return{minX:e-o,minY:n-o,maxX:e+r+o,maxY:n+i+o}},createPath:function(t){var e,n=this._attrs,r=n.x,i=n.y,o=n.width,a=n.height,s=n.radius;(t=t||this.get("context")).beginPath(),0===s?t.rect(r,i,o,a):(e=u(s),t.moveTo(r+e.r1,i),t.lineTo(r+o-e.r2,i),0!==e.r2&&t.arc(r+o-e.r2,i+e.r2,e.r2,-Math.PI/2,0),t.lineTo(r+o,i+a-e.r3),0!==e.r3&&t.arc(r+o-e.r3,i+a-e.r3,e.r3,0,Math.PI/2),t.lineTo(r+e.r4,i+a),0!==e.r4&&t.arc(r+e.r4,i+a-e.r4,e.r4,Math.PI/2,Math.PI),t.lineTo(r,i+e.r1),0!==e.r1&&t.arc(r+e.r1,i+e.r1,e.r1,Math.PI,1.5*Math.PI),t.closePath())}}),t.exports=r},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var f=n(533),i=n(546);r.ATTRS={x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null},f.extend(r,i),f.augment(r,{canFill:!0,canStroke:!0,type:"text",getDefaultAttrs:function(){return{lineWidth:1,lineCount:1,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"}},initTransform:function(){var t=this._attrs.fontSize;t&&+t<12&&this.transform([["t",-1*this._attrs.x,-1*this._attrs.y],["s",t/12,t/12],["t",this._attrs.x,this._attrs.y]])},_assembleFont:function(){var t=this._attrs,e=t.fontSize,n=t.fontFamily,r=t.fontWeight,i=t.fontStyle,o=t.fontVariant;t.font=[i,o,r,e+"px",n].join(" ")},_setAttrText:function(){var t,e=this._attrs,n=e.text,r=null;f.isString(n)&&-1!==n.indexOf("\n")&&(t=(r=n.split("\n")).length,e.lineCount=t),e.textArr=r},_getTextHeight:function(){var t=this._attrs,e=t.lineCount,n=+t.fontSize;return 1<e?n*e+this._getSpaceingY()*(e-1):n},isHitBox:function(){return!1},calculateBox:function(){var t=this._attrs,e=this._cfg;e.attrs&&!e.hasUpdate||(this._assembleFont(),this._setAttrText()),t.textArr||this._setAttrText();var n=t.x,r=t.y,i=this.measureText();if(!i)return{minX:n,minY:r,maxX:n,maxY:r};var o=this._getTextHeight(),a=t.textAlign,s=t.textBaseline,u=this.getHitLineWidth(),c={x:n,y:r-o};a&&("end"===a||"right"===a?c.x-=i:"center"===a&&(c.x-=i/2)),s&&("top"===s?c.y+=o:"middle"===s&&(c.y+=o/2)),this.set("startPoint",c);var l=u/2;return{minX:c.x-l,minY:c.y-l,maxX:c.x+i+l,maxY:c.y+o+l}},_getSpaceingY:function(){var t=this._attrs,e=t.lineHeight,n=+t.fontSize;return e?e-n:.14*n},drawInner:function(t){var e=this._attrs,n=this._cfg;n.attrs&&!n.hasUpdate||(this._assembleFont(),this._setAttrText()),t.font=e.font;var r,i,o,a,s,u=e.text;u&&(r=e.textArr,i=e.x,o=e.y,t.beginPath(),this.hasStroke()&&(a=e.strokeOpacity,f.isNil(a)||1===a||(t.globalAlpha=a),r?this._drawTextArr(t,!1):t.strokeText(u,i,o),t.globalAlpha=1),this.hasFill()&&(s=e.fillOpacity,f.isNil(s)||1===s||(t.globalAlpha=s),r?this._drawTextArr(t,!0):t.fillText(u,i,o)),n.hasUpdate=!1)},_drawTextArr:function(n,r){var i,t=this._attrs.textArr,o=this._attrs.textBaseline,a=+this._attrs.fontSize,s=this._getSpaceingY(),u=this._attrs.x,c=this._attrs.y,e=this.getBBox(),l=e.maxY-e.minY;f.each(t,function(t,e){i=c+e*(s+a)-l+a,"middle"===o&&(i+=l-a-(l-a)/2),"top"===o&&(i+=l-a),r?n.fillText(t,u,i):n.strokeText(t,u,i)})},measureText:function(){var e,t=this._attrs,n=t.text,r=t.font,i=t.textArr,o=0;if(!f.isNil(n)){var a=document.createElement("canvas").getContext("2d");return a.save(),a.font=r,i?f.each(i,function(t){e=a.measureText(t).width,o<e&&(o=e),a.restore()}):(o=a.measureText(n).width,a.restore()),o}}}),t.exports=r},function(t,e,n){"use strict";var i=n(583);e.a=function(e,n,t){var r=new i.a;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r}},function(t,e,n){var o=n(530),r=n(1014),i={appear:{duration:450,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut",delay:100},leave:{duration:350,easing:"easeQuadIn"}},a={line:{appear:function(){return r.appear.clipIn},enter:function(){return r.enter.clipIn},leave:function(){return r.leave.lineWidthOut}},path:{appear:function(){return r.appear.clipIn},enter:function(){return r.enter.clipIn},leave:function(){return r.leave.lineWidthOut}},area:{appear:function(){return r.appear.clipIn},enter:function(){return r.enter.fadeIn},leave:function(){return r.leave.fadeOut},cfg:{appear:{duration:500,easing:"easeQuadOut"},update:{duration:450,easing:"easeQuadInOut"},enter:{duration:600,delay:150,easing:"easeQuadInOut"},leave:{easing:"easeQuadOut",duration:350}}},polygon:{appear:function(){return r.appear.zoomIn},enter:function(){return r.enter.zoomIn},leave:function(){return r.leave.zoomOut}},edge:{appear:function(){return r.appear.pathIn},enter:function(){return r.enter.pathIn},leave:function(){return r.leave.pathOut}},interval:{appear:function(t){var e;return t.isPolar?(e=r.appear.zoomIn,!t.isTransposed&&"theta"!==t.type||(e=r.appear.fanIn)):e=t.isRect?t.isTransposed?r.appear.scaleInX:r.appear.scaleInY:r.appear.zoomIn,e},enter:function(t){return t.isRect||t.isTransposed||"theta"===t.type?r.enter.fadeIn:r.enter.zoomIn},leave:function(){return r.leave.fadeOut},update:function(t){if("theta"===t.type)return r.update.fanIn}},point:{appear:function(){return r.appear.zoomIn},enter:function(){return r.enter.zoomIn},leave:function(){return r.leave.zoomOut}},schema:{appear:function(){return r.appear.clipIn},enter:function(){return r.enter.clipIn},leave:function(){return r.leave.lineWidthOut}},contour:null,heatmap:null,label:{appear:function(){return r.appear.fadeIn},enter:function(){return r.enter.fadeIn},leave:function(){return r.leave.fadeOut},cfg:{appear:{duration:900}}},"axis-label":{enter:function(){return r.appear.fadeIn},leave:function(){return r.leave.fadeOut},update:function(t){if(t.isPolar)return r.appear.fadeIn}},"axis-ticks":{enter:function(){return r.appear.fadeIn},leave:function(){return r.leave.fadeOut},update:function(t){if(t.isPolar)return r.appear.fadeIn}},"axis-grid":{enter:function(){return r.appear.fadeIn},leave:function(){return r.leave.fadeOut},update:function(t){if(t.isPolar)return r.appear.fadeIn}},"axis-grid-rect":{enter:function(){return r.appear.fadeIn},leave:function(){return r.leave.fadeOut},update:function(){return r.leave.fadeIn}},labelLine:{appear:function(){return r.appear.pathIn},enter:function(){return r.enter.pathIn},leave:function(){return r.leave.pathOut}}};a.Action=r,a.defaultCfg=i,a.getAnimation=function(t,e,n){var r=this[t];if(r){var i=r[n];if(o.isFunction(i))return i(e)}return!1},a.getAnimateCfg=function(t,e){var n=i[e];return this[t]&&this[t].cfg&&this[t].cfg[e]?o.deepMix({},n,this[t].cfg[e]):n},a.registerAnimation=function(t,e,n){this.Action[t]||(this.Action[t]={}),this.Action[t][e]=n},t.exports=a},function(t,e,n){var r=n(535),i=n(550),o=n(952),a=n(961),s=n(972),u=n(975),c=n(979),l=n(618),f=n(988),h=n(992),p=n(998),d=n(1002),g={DOMUtil:o,DomUtil:o,MatrixUtil:l,PathUtil:h,arrayUtil:a,domUtil:o,eventUtil:s,formatUtil:u,mathUtil:c,matrixUtil:l,objectUtil:f,stringUtil:p,pathUtil:h,typeUtil:d,augment:n(736),clone:n(654),debounce:n(1008),deepMix:n(655),each:r,extend:n(735),filter:n(665),group:n(783),groupBy:n(785),groupToMap:n(784),indexOf:n(1009),isEmpty:n(730),isEqual:n(657),isEqualWith:n(1010),map:n(1011),mix:i,pick:n(1012),throttle:n(1013),toArray:n(610),toString:n(586),uniqueId:n(733)};r([o,a,s,u,c,l,f,h,p,d],function(t){i(g,t)}),t.exports=g},function(t,e,n){var a=n(768),s=n(545);t.exports=function(t,e){var n=a(e),r=n.length;if(s(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0}},function(t,e,n){var i=n(535),o=n(555),r=Object.keys?function(t){return Object.keys(t)}:function(n){var r=[];return i(n,function(t,e){o(n)&&"prototype"===e||r.push(e)}),r};t.exports=r},function(t,e,n){var a=n(562),s=Array.prototype.splice;t.exports=function(t,e){if(!a(t))return[];for(var n=t?e.length:0,r=n-1;n--;){var i=void 0,o=e[n];n!==r&&o===i||(i=o,s.call(t,o,1))}return t}},function(t,e,n){var r=n(535),i=n(616);t.exports=function(t){var e=[];return r(t,function(t){i(e,t)||e.push(t)}),e}},function(t,e,n){var o=n(540),a=n(555),s=n(535);t.exports=function(t,e){if(o(t)){var n=t[0],r=void 0,r=a(e)?e(t[0]):t[0][e],i=void 0;return s(t,function(t){i=a(e)?e(t):t[e],r<i&&(n=t,r=i)}),n}}},function(t,e){t.exports=parseInt},function(t,e){t.exports=function(t,e){return t.hasOwnProperty(e)}},function(t,e,n){var i=n(535),o=n(555),r=Object.values?function(t){return Object.values(t)}:function(n){var r=[];return i(n,function(t,e){o(n)&&"prototype"===e||r.push(t)}),r};t.exports=r},function(t,e,n){var a=n(776);t.exports=function(t,e,n,r,i){if(i)return[["M",+t+ +i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]];return o.parsePathArray=a,o}},function(t,e){var n=/,?([a-z]),?/gi;t.exports=function(t){return t.join(",").replace(n,"$1")}},function(t,e,n){function Y(t,e,n,r,i,o,a,s,u,c){function l(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}n===r&&(n+=1);var f,h,p,d,g,v,y,m=120*Math.PI/180,x=Math.PI/180*(+i||0),b=[],w=void 0,_=void 0,S=void 0,M=void 0;c?(w=c[0],_=c[1],S=c[2],M=c[3]):(t=(f=l(t,e,-x)).x,e=f.y,s=(f=l(s,u,-x)).x,u=f.y,t===s&&e===u&&(s+=1,u+=1),1<(d=(h=(t-s)/2)*h/(n*n)+(p=(e-u)/2)*p/(r*r))&&(n*=d=Math.sqrt(d),r*=d),g=n*n,v=r*r,S=(y=(o===a?-1:1)*Math.sqrt(Math.abs((g*v-g*p*p-v*h*h)/(g*p*p+v*h*h))))*n*p/r+(t+s)/2,M=y*-r*h/n+(e+u)/2,w=Math.asin(((e-M)/r).toFixed(9)),_=Math.asin(((u-M)/r).toFixed(9)),w=t<S?Math.PI-w:w,_=s<S?Math.PI-_:_,w<0&&(w=2*Math.PI+w),_<0&&(_=2*Math.PI+_),a&&_<w&&(w-=2*Math.PI),!a&&w<_&&(_-=2*Math.PI));var E,C,P,k=_-w;Math.abs(k)>m&&(E=_,C=s,P=u,_=w+m*(a&&w<_?1:-1),b=Y(s=S+n*Math.cos(_),u=M+r*Math.sin(_),n,r,i,0,a,C,P,[_,E,S,M])),k=_-w;var A=Math.cos(w),T=Math.sin(w),O=Math.cos(_),I=Math.sin(_),j=Math.tan(k/4),R=4/3*n*j,L=4/3*r*j,D=[t,e],B=[t+R*T,e-L*A],F=[s+R*I,u-L*O],N=[s,u];if(B[0]=2*D[0]-B[0],B[1]=2*D[1]-B[1],c)return[B,F,N].concat(b);for(var z=[],G=0,V=(b=[B,F,N].concat(b).join().split(",")).length;G<V;G++)z[G]=G%2?l(b[G-1],b[G],x).y:l(b[G],b[G+1],x).x;return z}function x(t,e,n,r){return[t,e,n,r,n,r]}function b(t,e,n,r,i,o){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*i+2/3*n,1/3*o+2/3*r,i,o]}var w=n(778);t.exports=function(t,e){function n(t,e,n){var r=void 0,i=void 0;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(Y.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":i="C"===n||"S"===n?(r=2*e.x-e.bx,2*e.y-e.by):(r=e.x,e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(b(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(b(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(x(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(x(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(x(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(x(e.x,e.y,e.X,e.Y))}return t}function r(t,e){if(7<t[e].length){t[e].shift();for(var n=t[e];n.length;)c[e]="A",a&&(l[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),p=Math.max(o.length,a&&a.length||0)}}function i(t,e,n,r,i){t&&e&&"M"===t[i][0]&&"M"!==e[i][0]&&(e.splice(i,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=t[i][1],n.y=t[i][2],p=Math.max(o.length,a&&a.length||0))}for(var o=w(t),a=e&&w(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=[],l=[],f="",h="",p=void 0,p=Math.max(o.length,a&&a.length||0),d=0;d<p;d++){o[d]&&(f=o[d][0]),"C"!==f&&(c[d]=f,d&&(h=c[d-1])),o[d]=n(o[d],s,h),"A"!==c[d]&&"C"===f&&(c[d]="C"),r(o,d),a&&(a[d]&&(f=a[d][0]),"C"!==f&&(l[d]=f,d&&(h=l[d-1])),a[d]=n(a[d],u,h),"A"!==l[d]&&"C"===f&&(l[d]="C"),r(a,d)),i(o,a,s,u,d),i(a,o,u,s,d);var g=o[d],v=a&&a[d],y=g.length,m=a&&v.length;s.x=g[y-2],s.y=g[y-1],s.bx=parseFloat(g[y-4])||s.x,s.by=parseFloat(g[y-3])||s.y,u.bx=a&&(parseFloat(v[m-4])||u.x),u.by=a&&(parseFloat(v[m-3])||u.y),u.x=a&&v[m-2],u.y=a&&v[m-1]}return a?[o,a]:o}},function(t,e,n){var b=n(779),w=n(780);function _(t,e,n,r,i){var o,a,s;return null===i&&null===r&&(r=n),t=+t,e=+e,n=+n,r=+r,null!==i?(o=Math.PI/180,a=t+n*Math.cos(-r*o),s=t+n*Math.cos(-i*o),[["M",a,e+n*Math.sin(-r*o)],["A",n,n,0,+(180<i-r),0,s,e+n*Math.sin(-i*o)]]):[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]}t.exports=function(t){if(!(t=b(t))||!t.length)return[["M",0,0]];var e=[],n=0,r=0,i=0,o=0,a=0,s=void 0,u=void 0;"M"===t[0][0]&&(i=n=+t[0][1],o=r=+t[0][2],a++,e[0]=["M",n,r]);for(var c,l,f=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),h=a,p=t.length;h<p;h++){if(e.push(c=[]),(s=(l=t[h])[0])!==s.toUpperCase())switch(c[0]=s.toUpperCase(),c[0]){case"A":c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=+l[6]+n,c[7]=+l[7]+r;break;case"V":c[1]=+l[1]+r;break;case"H":c[1]=+l[1]+n;break;case"R":for(var d=2,g=(u=[n,r].concat(l.slice(1))).length;d<g;d++)u[d]=+u[d]+n,u[++d]=+u[d]+r;e.pop(),e=e.concat(w(u,f));break;case"O":e.pop(),(u=_(n,r,l[1],l[2])).push(u[0]),e=e.concat(u);break;case"U":e.pop(),e=e.concat(_(n,r,l[1],l[2],l[3])),c=["U"].concat(e[e.length-1].slice(-2));break;case"M":i=+l[1]+n,o=+l[2]+r;break;default:for(var v=1,y=l.length;v<y;v++)c[v]=+l[v]+(v%2?n:r)}else if("R"===s)u=[n,r].concat(l.slice(1)),e.pop(),e=e.concat(w(u,f)),c=["R"].concat(l.slice(-2));else if("O"===s)e.pop(),(u=_(n,r,l[1],l[2])).push(u[0]),e=e.concat(u);else if("U"===s)e.pop(),e=e.concat(_(n,r,l[1],l[2],l[3])),c=["U"].concat(e[e.length-1].slice(-2));else for(var m=0,x=l.length;m<x;m++)c[m]=l[m];if("O"!==(s=s.toUpperCase()))switch(c[0]){case"Z":n=+i,r=+o;break;case"H":n=c[1];break;case"V":r=c[1];break;case"M":i=c[c.length-2],o=c[c.length-1];break;default:n=c[c.length-2],r=c[c.length-1]}}return e}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="\t\n\v\f\r \u2028\u2029",i=new RegExp("([a-z])["+r+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+r+"]*,?["+r+"]*)+)","ig"),s=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+r+"]*,?["+r+"]*","ig");t.exports=function(t){if(!t)return null;if((void 0===t?"undefined":n(t))===n([]))return t;var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},a=[];return String(t).replace(i,function(t,e,n){var r=[],i=e.toLowerCase();if(n.replace(s,function(t,e){e&&r.push(+e)}),"m"===i&&2<r.length&&(a.push([e].concat(r.splice(0,2))),i="l",e="m"===e?"l":"L"),"o"===i&&1===r.length&&a.push([e,r[0]]),"r"===i)a.push([e].concat(r));else for(;r.length>=o[i]&&(a.push([e].concat(r.splice(0,o[i]))),o[i]););}),a}},function(t,e){t.exports=function(t,e){for(var n=[],r=0,i=t.length;r<i-2*!e;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}},function(t,e,n){var r=n(586);t.exports=function(t){return r(t).toLowerCase()}},function(t,e,n){var r=n(586);t.exports=function(t){return r(t).toUpperCase()}},function(t,e,n){var o=n(784);t.exports=function(t,e){if(!e)return[t];var n=o(t,e),r=[];for(var i in n)r.push(n[i]);return r}},function(t,e,n){var r=n(555),o=n(540),a=n(785);t.exports=function(t,e){return e?(r(e)||(i=o(e)?e:e.replace(/\s+/g,"").split("*"),e=function(t){for(var e="_",n=0,r=i.length;n<r;n++)e+=t[i[n]]&&t[i[n]].toString();return e}),a(t,e)):{0:t};var i}},function(t,e,n){var i=n(535),o=n(540),a=Object.prototype.hasOwnProperty;t.exports=function(t,e){if(!e||!o(t))return t;var n,r={};return i(t,function(t){n=e(t),a.call(r,n)?r[n].push(t):r[n]=[t]}),r}},function(t,e,n){var r=n(589),o=n(530),i=function(i){var t,e;e=i,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var n=r.prototype;function r(t){var e=i.call(this)||this,n={visible:!0},r=e.getDefaultCfg();return e._attrs=n,o.assign(n,r,t),e}return n.getDefaultCfg=function(){return{}},n.get=function(t){return this._attrs[t]},n.set=function(t,e){this._attrs[t]=e},n.show=function(){this.get("visible")||(this.set("visible",!0),this.changeVisible(!0))},n.hide=function(){this.get("visible")&&(this.set("visible",!1),this.changeVisible(!1))},n.changeVisible=function(){},n.destroy=function(){this._attrs={},this.removeAllListeners(),this.destroyed=!0},r}(r);t.exports=i},function(t,e,n){var s=n(551),r=n(554),i=n(535),o=/rgba?\(([\s.,0-9]+)\)/;function u(t,e,n,r){return t[r]+(e[r]-t[r])*n}function c(t){return"#"+a(t[0])+a(t[1])+a(t[2])}function a(t){return 1===(t=(t=Math.round(t)).toString(16)).length&&(t="0"+t),t}function l(t){var e=[];return e.push(parseInt(t.substr(1,2),16)),e.push(parseInt(t.substr(3,2),16)),e.push(parseInt(t.substr(5,2),16)),e}var f={},h=null,p={toRGB:function(t){return"#"===t[0]&&7===t.length?t:(h||((e=document.createElement("i")).title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),h=e),f[t]?n=f[t]:(h.style.color=t,n=document.defaultView.getComputedStyle(h,"").getPropertyValue("color"),n=c(o.exec(n)[1].split(/\s*,\s*/)),f[t]=n),n);var e,n},rgb2arr:l,gradient:function(t){var e=[];return r(t)&&(t=t.split("-")),i(t,function(t){-1===t.indexOf("#")&&(t=p.toRGB(t)),e.push(l(t))}),function(t){return function(t,e){(isNaN(e)||!s(e)||e<0)&&(e=0),1<e&&(e=1);var n=t.length-1,r=Math.floor(n*e),i=n*e-r,o=t[r],a=r===n?o:t[r+1];return c([u(o,a,i,0),u(o,a,i,1),u(o,a,i,2)])}(e,t)}}};t.exports=p},function(t,e,n){var a=n(535),i={values:n(666)};t.exports={isAdjust:function(t){return 0<=this.adjustNames.indexOf(t)},_getDimValues:function(n){var t,r={},e=[];return this.xField&&this.isAdjust("x")&&e.push(this.xField),this.yField&&this.isAdjust("y")&&e.push(this.yField),a(e,function(t){var e=i.values(n,t);e.sort(function(t,e){return t-e}),r[t]=e}),!this.yField&&this.isAdjust("y")&&(t=[0,1],r.y=t),r},adjustData:function(i,t){var o=this,e=o._getDimValues(t);a(i,function(n,r){a(e,function(t,e){o.adjustDim(e,t,n,i.length,r)})})},getAdjustRange:function(t,e,n){var r,i,o=n.indexOf(e),a=n.length;return!this.yField&&this.isAdjust("y")?(r=0,i=1):1<a?(r=0===o?n[0]:n[o-1],i=o===a-1?n[a-1]:n[o+1],0!==o?r+=(e-r)/2:r-=(i-e)/2,o!==a-1?i-=(i-e)/2:i+=(e-n[a-2])/2):(r=0===e?0:e-.5,i=0===e?1:e+.5),{pre:r,next:i}},groupData:function(t,n){var r={};return a(t,function(t){var e=t[n];void 0===e&&(e=t[n]=0),r[e]||(r[e]=[]),r[e].push(t)}),r}}},function(t,e,n){var r={default:n(790),dark:n(1028)};t.exports=r},function(t,e){var n,r,i="#1890FF",o='"-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",SimSun, "sans-serif"',a={defaultColor:i,plotCfg:{padding:[20,20,95,80]},fontFamily:o,defaultLegendPosition:"bottom",colors:["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],colors_16:["#1890FF","#41D9C7","#2FC25B","#FACC14","#E6965C","#223273","#7564CC","#8543E0","#5C8EE6","#13C2C2","#5CA3E6","#3436C7","#B381E6","#F04864","#D598D9"],colors_24:["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],colors_pie:["#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864","#8543E0","#3436C7","#223273"],colors_pie_16:["#1890FF","#73C9E6","#13C2C2","#6CD9B3","#2FC25B","#9DD96C","#FACC14","#E6965C","#F04864","#D66BCA","#8543E0","#8E77ED","#3436C7","#737EE6","#223273","#7EA2E6"],shapes:{point:["hollowCircle","hollowSquare","hollowDiamond","hollowBowtie","hollowTriangle","hollowHexagon","cross","tick","plus","hyphen","line"],line:["line","dash","dot"],area:["area"]},sizes:[1,10],opacities:[.1,.9],axis:{top:{position:"top",title:null,label:{offset:16,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:o},autoRotate:!0},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},bottom:{position:"bottom",title:null,label:{offset:16,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:o}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0}},left:{position:"left",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:o}},line:null,tickLine:null,grid:{zIndex:-1,lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},right:{position:"right",title:null,label:{offset:8,autoRotate:!0,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,textBaseline:"middle",fontFamily:o}},line:null,tickLine:null,grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},circle:{zIndex:1,title:null,label:{offset:8,textStyle:{fill:"#545454",fontSize:12,lineHeight:16,fontFamily:o}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},hideFirstLine:!0}},radius:{zIndex:0,label:{offset:12,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",lineHeight:16,fontFamily:o}},line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,stroke:"#BFBFBF",length:4,alignWithLabel:!0},grid:{lineStyle:{stroke:"#E9E9E9",lineWidth:1,lineDash:[3,3]},type:"circle"}},helix:{grid:null,label:null,title:null,line:{lineWidth:1,stroke:"#BFBFBF"},tickLine:{lineWidth:1,length:4,stroke:"#BFBFBF",alignWithLabel:!0}}},label:{offset:20,textStyle:{fill:"#545454",fontSize:12,textBaseline:"middle",fontFamily:o}},treemapLabels:{offset:10,textStyle:{fill:"#fff",fontSize:12,textBaseline:"top",fontStyle:"bold",fontFamily:o}},innerLabels:{textStyle:{fill:"#fff",fontSize:12,textBaseline:"middle",fontFamily:o}},thetaLabels:{labelHeight:14,offset:30},legend:{right:{position:"right",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,legendStyle:{LIST_CLASS:{textAlign:"left"}},textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:0,fontFamily:o},unCheckColor:"#bfbfbf"},left:{position:"left",layout:"vertical",itemMarginBottom:8,width:16,height:156,title:null,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:o},unCheckColor:"#bfbfbf"},top:{position:"top",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:o},unCheckColor:"#bfbfbf"},bottom:{position:"bottom",offset:[0,6],layout:"horizontal",title:null,itemGap:10,width:156,height:16,textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"start",textBaseline:"middle",lineHeight:20,fontFamily:o},unCheckColor:"#bfbfbf"},html:((n={})["g2-legend"]={height:"auto",width:"auto",position:"absolute",overflow:"auto",fontSize:"12px",fontFamily:o,lineHeight:"20px",color:"#8C8C8C"},n["g2-legend-title"]={marginBottom:"4px"},n["g2-legend-list"]={listStyleType:"none",margin:0,padding:0},n["g2-legend-list-item"]={listStyleType:"none",cursor:"pointer",marginBottom:"5px",marginRight:"24px"},n["g2-legend-marker"]={width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"8px",verticalAlign:"middle"},n),gradient:{textStyle:{fill:"#8C8C8C",fontSize:12,textAlign:"center",textBaseline:"middle",lineHeight:20,fontFamily:o},lineStyle:{lineWidth:1,stroke:"#fff"},unCheckColor:"#bfbfbf"},margin:[0,5,24,5],legendMargin:24},tooltip:((r={useHtml:!0,crosshairs:!1,offset:15,marker:{symbol:"circle",activeSymbol:"circle"}})["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:o,lineHeight:"20px",padding:"10px 10px 6px 10px"},r["g2-tooltip-title"]={marginBottom:"4px"},r["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},r["g2-tooltip-list-item"]={listStyleType:"none",marginBottom:"4px",padding:0,marginTop:0,marginLeft:0,marginRight:0},r["g2-tooltip-marker"]={width:"5px",height:"5px",display:"inline-block",marginRight:"8px"},r["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},r),tooltipMarker:{symbol:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,radius:4},tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#CCD6EC",opacity:.3}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1}},shape:{point:{lineWidth:1,fill:i,radius:4},hollowPoint:{fill:"#fff",lineWidth:1,stroke:i,radius:3},interval:{lineWidth:0,fill:i,fillOpacity:.85},hollowInterval:{fill:"#fff",stroke:i,fillOpacity:0,lineWidth:2},area:{lineWidth:0,fill:i,fillOpacity:.6},polygon:{lineWidth:0,fill:i,fillOpacity:1},hollowPolygon:{fill:"#fff",stroke:i,fillOpacity:0,lineWidth:2},hollowArea:{fill:"#fff",stroke:i,fillOpacity:0,lineWidth:2},line:{stroke:i,lineWidth:2,fill:null},edge:{stroke:i,lineWidth:1,fill:null},schema:{stroke:i,lineWidth:1,fill:null}},guide:{line:{lineStyle:{stroke:"rgba(0, 0, 0, .65)",lineDash:[2,2],lineWidth:1},text:{position:"start",autoRotate:!0,style:{fill:"rgba(0, 0, 0, .45)",fontSize:12,textAlign:"start",fontFamily:o,textBaseline:"bottom"}}},text:{style:{fill:"rgba(0,0,0,.5)",fontSize:12,textBaseline:"middle",textAlign:"start",fontFamily:o}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}},html:{alignX:"middle",alignY:"middle"},dataRegion:{style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}},dataMarker:{top:!0,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"rgba(0, 0, 0, .65)",opacity:1,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0}},pixelRatio:null};t.exports=a},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var i=n(578).Group,l=n(536);l.extend(r,i),l.augment(r,{getDefaultCfg:function(){return{zIndex:1,type:"line",lineStyle:null,items:null,alternateColor:null,matrix:null,hideFirstLine:!1,hideLastLine:!1,hightLightZero:!1,zeroLineStyle:{stroke:"#595959",lineDash:[0,0]}}},_renderUI:function(){r.superclass._renderUI.call(this),this._drawLines()},_drawLines:function(){var t=this.get("lineStyle"),e=this.get("items");e&&e.length&&(this._precessItems(e),this._drawGridLines(e,t))},_precessItems:function(t){var n,r=this;l.each(t,function(t,e){n&&r.get("alternateColor")&&r._drawAlternativeBg(t,n,e),n=t})},_drawGridLines:function(t,n){var r,i,o,a,s=this,u=this.get("type"),c=t.length;"line"===u||"polygon"===u?l.each(t,function(t,e){s.get("hideFirstLine")&&0===e||s.get("hideLastLine")&&e===c-1||(a=t.points,i=[],"line"===u?(i.push(["M",a[0].x,a[0].y]),i.push(["L",a[a.length-1].x,a[a.length-1].y])):l.each(a,function(t,e){0===e?i.push(["M",t.x,t.y]):i.push(["L",t.x,t.y])}),o=s._drawZeroLine(u,e)?l.mix({},s.get("zeroLineStyle"),{path:i}):l.mix({},n,{path:i}),(r=s.addShape("path",{attrs:o})).name="axis-grid",r._id=t._id,r.set("coord",s.get("coord")),s.get("appendInfo")&&r.setSilent("appendInfo",s.get("appendInfo")))}):l.each(t,function(t,e){s.get("hideFirstLine")&&0===e||s.get("hideLastLine")&&e===c-1||(a=t.points,i=[],l.each(a,function(t,e){var n=t.radius;0===e?i.push(["M",t.x,t.y]):i.push(["A",n,n,0,0,t.flag,t.x,t.y])}),o=l.mix({},n,{path:i}),(r=s.addShape("path",{attrs:o})).name="axis-grid",r._id=t._id,r.set("coord",s.get("coord")),s.get("appendInfo")&&r.setSilent("appendInfo",s.get("appendInfo")))})},_drawZeroLine:function(t,e){var n=this.get("tickValues");return!("line"!==t||!n||0!==n[e]||!this.get("hightLightZero"))},_drawAlternativeBg:function(t,e,n){var r,i,o,a=this.get("alternateColor");l.isString(a)?i=a:l.isArray(a)&&(i=a[0],o=a[1]),n%2==0?o&&(r=this._getBackItem(e.points,t.points,o)):i&&(r=this._getBackItem(e.points,t.points,i));var s=this.addShape("Path",{attrs:r});s.name="axis-grid-rect",s._id=t._id&&t._id.replace("grid","grid-rect"),s.set("coord",this.get("coord")),this.get("appendInfo")&&s.setSilent("appendInfo",this.get("appendInfo"))},_getBackItem:function(t,e,n){var r=[],i=this.get("type");if("line"===i)r.push(["M",t[0].x,t[0].y]),r.push(["L",t[t.length-1].x,t[t.length-1].y]),r.push(["L",e[e.length-1].x,e[e.length-1].y]),r.push(["L",e[0].x,e[0].y]),r.push(["Z"]);else if("polygon"===i){l.each(t,function(t,e){0===e?r.push(["M",t.x,t.y]):r.push(["L",t.x,t.y])});for(var o=e.length-1;0<=o;o--)r.push(["L",e[o].x,e[o].y]);r.push(["Z"])}else{var a=t[0].flag;l.each(t,function(t,e){var n=t.radius;0===e?r.push(["M",t.x,t.y]):r.push(["A",n,n,0,0,t.flag,t.x,t.y])});for(var s=e.length-1;0<=s;s--){var u=e[s],c=u.radius;s===e.length-1?r.push(["M",u.x,u.y]):r.push(["A",c,c,0,0,1===a?0:1,u.x,u.y])}}return{fill:n,path:r}}}),t.exports=r},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(536),s=l.DomUtil,r=n(594),u={scatter:n(1031),map:n(1032),treemap:n(1033)},i=function(n){var t,e;e=n,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;o(r);function r(){return n.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return l.mix({},t,{name:"label",type:"default",textStyle:null,formatter:null,items:null,useHtml:!1,containerTpl:'<div class="g-labels" style="position:absolute;top:0;left:0;"></div>',itemTpl:'<div class="g-label" style="position:absolute;">{text}</div>',labelLine:!1,lineGroup:null,shapes:null,config:!0,capture:!0})},i.clear=function(){var t=this.get("group"),e=this.get("container");t&&!t.get("destroyed")&&t.clear(),e&&(e.innerHTML=""),n.prototype.clear.call(this)},i.destroy=function(){var t=this.get("group"),e=this.get("container");t.destroy||t.destroy(),e&&e.parentNode&&e.parentNode.removeChild(e),n.prototype.destroy.call(this)},i.render=function(){this.clear(),this._init(),this.beforeDraw(),this.draw(),this.afterDraw()},i._dryDraw=function(){var i=this,t=i.get("items"),o=i.getLabels(),a=o.length;l.each(t,function(t,e){var n,r;e<a?(n=o[e],i.changeLabel(n,t)):(r=i._addLabel(t,e))&&(r._id=t._id,r.set("coord",t.coord))});for(var e=a-1;e>=t.length;e--)o[e].remove();i._adjustLabels(),!i.get("labelLine")&&i.get("config")||i.drawLines()},i.draw=function(){this._dryDraw(),this.get("canvas").draw()},i.changeLabel=function(t,e){var n;t&&(t.tagName?(n=this._createDom(e),t.innerHTML=n.innerHTML,this._setCustomPosition(e,t)):(t._id=e._id,t.attr("text",e.text),t.attr("x")===e.x&&t.attr("y")===e.y||(t.resetMatrix(),e.textStyle.rotate&&(t.rotateAtStart(e.textStyle.rotate),delete e.textStyle.rotate),t.attr(e))))},i.show=function(){var t=this.get("group"),e=this.get("container");t&&t.show(),e&&(e.style.opacity=1)},i.hide=function(){var t=this.get("group"),e=this.get("container");t&&t.hide(),e&&(e.style.opacity=0)},i.drawLines=function(){var e=this;"boolean"==typeof e.get("labelLine")&&e.set("labelLine",{});var n=e.get("lineGroup");!n||n.get("destroyed")?(n=e.get("group").addGroup({elCls:"x-line-group"}),e.set("lineGroup",n)):n.clear(),l.each(e.get("items"),function(t){e.lineToLabel(t,n)})},i.lineToLabel=function(t,e){var n,r,i,o,a,s;(this.get("config")||t.labelLine)&&(n=t.labelLine||this.get("labelLine"),r=void 0===t.capture?this.get("capture"):t.capture,(o=n.path)&&l.isFunction(n.path)&&(o=n.path(t)),o||(o=[["M",(i=t.start||{x:t.x-t._offset.x,y:t.y-t._offset.y}).x,i.y],["L",t.x,t.y]]),a=(a=t.color)||(t.textStyle&&t.textStyle.fill?t.textStyle.fill:"#000"),(s=e.addShape("path",{attrs:l.mix({path:o,fill:null,stroke:a},n),capture:r})).name=this.get("name"),s._id=t._id&&t._id.replace("glabel","glabelline"),s.set("coord",this.get("coord")))},i._adjustLabels=function(){var t=this.get("type"),e=this.getLabels(),n=this.get("shapes"),r=u[t];"default"!==t&&r&&r(e,n)},i.getLabels=function(){var t=this.get("container");return t?l.toArray(t.childNodes):this.get("group").get("children")},i._addLabel=function(t,e){var n=t;return this.get("config")&&(n=this._getLabelCfg(t,e)),this._createText(n)},i._getLabelCfg=function(t,e){var n,r=this.get("textStyle")||{},i=this.get("formatter"),o=this.get("htmlTemplate");return l.isObject(t)||(n=t,(t={}).text=n),l.isFunction(r)&&(r=r(t.text,t,e)),i&&(t.text=i(t.text,t,e)),o&&(t.useHtml=!0,l.isFunction(o)&&(t.text=o(t.text,t,e))),l.isNil(t.text)&&(t.text=""),t.text=t.text+"",l.mix({},t,{textStyle:r},{x:t.x||0,y:t.y||0})},i._init=function(){var t;this.get("group")||(t=this.get("canvas").addGroup({id:"label-group"}),this.set("group",t))},i.initHtmlContainer=function(){var t,e,n=this.get("container");return n?l.isString(n)&&(n=document.getElementById(n))&&this.set("container",n):(t=this.get("containerTpl"),e=this.get("canvas").get("el").parentNode,n=s.createDom(t),e.style.position="relative",e.appendChild(n),this.set("container",n)),n},i._createText=function(t){var e,n=l.deepMix({},t),r=this.get("container"),i=void 0===n.capture?this.get("capture"):n.capture;if(!n.useHtml&&!n.htmlTemplate){var o=this.get("name"),a=n.point,s=this.get("group");delete n.point;var u=n.rotate;return n.textStyle&&(n.textStyle.rotate&&(u=n.textStyle.rotate,delete n.textStyle.rotate),n=l.mix({x:n.x,y:n.y,textAlign:n.textAlign,text:n.text},n.textStyle)),e=s.addShape("text",{attrs:n,capture:i}),u&&(Math.abs(u)>2*Math.PI&&(u=u/180*Math.PI),e.transform([["t",-n.x,-n.y],["r",u],["t",n.x,n.y]])),e.setSilent("origin",a||n),e.name=o,this.get("appendInfo")&&e.setSilent("appendInfo",this.get("appendInfo")),e}r=r||this.initHtmlContainer();var c=this._createDom(n);r.appendChild(c),this._setCustomPosition(n,c)},i._createDom=function(t){var e=this.get("itemTpl"),n=l.substitute(e,{text:t.text});return s.createDom(n)},i._setCustomPosition=function(t,e){var n=t.textAlign||"left",r=t.y,i=t.x,o=s.getOuterWidth(e);r-=s.getOuterHeight(e)/2,"center"===n?i-=o/2:"right"===n&&(i-=o),e.style.top=parseInt(r,10)+"px",e.style.left=parseInt(i,10)+"px"},r}(r);t.exports=i},function(t,e){var n,r=((n=i.prototype).hasGap=function(t){for(var e=!0,n=this.bitmap,r=Math.floor(t.minX),i=Math.ceil(t.maxX),o=Math.floor(t.minY),a=Math.ceil(t.maxY)-1,s=r;s<i;s++)if(n[s]){if(s===r||s===i-1){for(var u=o;u<=a;u++)if(n[s][u]){e=!1;break}}else if(n[s][o]||n[s][a]){e=!1;break}}else n[s]=[];return e},n.fillGap=function(t){for(var e=this.bitmap,n=Math.floor(t.minX),r=Math.ceil(t.maxX)-1,i=Math.floor(t.minY),o=Math.ceil(t.maxY)-1,a=n;a<=r;a++){for(var s=i;s<o;s+=8)e[a]||(e[a]=[]),e[a][s]=!0;e[a][o]=!0}for(var u=i;u<=o;u++)e[n][u]=!0,e[r][u]=!0},i);function i(){this.bitmap=[]}t.exports=r},function(t,e,n){var r=n(536);t.exports={getFirstScale:function(t){var e;return r.each(t,function(t){if(t)return e=t,!1}),e}}},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=n(536),r=n(796),y=n(563).FONT_FAMILY,p=v.Event,i=v.Group;function d(t,e){var n=null,r=e instanceof i||"legendGroup"===e.name?e.get("value"):e;return v.each(t,function(t){if(t.value===r)return n=t,!1}),n}function g(t,e){return t.findBy(function(t){return t.name===e})}var s=function(n){var t,e;e=n,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;o(r);function r(){return n.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return v.mix({},t,{type:"category-legend",items:null,itemGap:5,itemMarginBottom:8,itemsGroup:null,layout:"horizontal",allowAllCanceled:!1,backPadding:[0,0,0,0],unCheckColor:"#ccc",background:{fill:"#fff",fillOpacity:0},itemWidth:null,textStyle:{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:y},_wordSpaceing:8,clickable:!0,selectedMode:"multiple",reversed:!1,autoWrap:!0,highlight:!1,activeOpacity:.7,inactiveOpacity:1})},i.render=function(){n.prototype.render.call(this),this._renderItems(),this.get("autoWrap")&&this._adjustItems()},i._bindEvents=function(){this.get("hoverable")&&(this.get("group").on("mousemove",v.wrapBehavior(this,"_onMousemove")),this.get("group").on("mouseleave",v.wrapBehavior(this,"_onMouseleave"))),this.get("clickable")&&this.get("group").on("click",v.wrapBehavior(this,"_onClick"))},i._getLegendItem=function(t){var e=t.get("parent");return e&&"legendGroup"===e.name?e:null},i.activate=function(n){var r=this,i=this,t=i.get("itemsGroup").get("children"),o=void 0;t.forEach(function(t){var e;(o=g(t,"legend-marker"))&&(e=t.get("checked"),r.get("highlight")?t.get("value")===n&&e?o.attr("stroke","#333"):o.attr("stroke",null):t.get("value")===n&&o.attr("fillOpacity",i.get("activeOpacity")))}),this.get("canvas").draw()},i.deactivate=function(){var r=this,i=this,t=i.get("itemsGroup").get("children"),o=void 0,a=this.get("unCheckColor");t.forEach(function(t){var e,n;(o=g(t,"legend-marker"))&&(r.get("highlight")?(n=o.get("oriStroke"),e=t.get("checked"),n=n&&!e?a:"",o.attr("stroke",n)):o.attr("fillOpacity",i.get("inactiveOpacity")))}),this.get("canvas").draw()},i._onMousemove=function(t){var e,n,r=this._getLegendItem(t.currentTarget);r&&r.get("checked")?(e=this.get("items"),(n=new p("itemhover",t,!0,!0)).item=d(e,r),n.checked=r.get("checked"),n.currentTarget=t.currentTarget,this.deactivate(),this.activate(r.get("value")),this.emit("itemhover",n)):(this.deactivate(),this.emit("itemunhover",t)),this.get("canvas").draw()},i._onMouseleave=function(t){this.deactivate(),this.get("canvas").draw(),this.emit("itemunhover",t)},i._onClick=function(t){var e=this._getLegendItem(t.currentTarget),n=this.get("items");if(e&&!e.get("destroyed")){var r=e.get("checked"),i=this.get("selectedMode"),o=d(n,e),a=new p("itemclick",t,!0,!0);if(a.item=o,a.currentTarget=e,a.appendInfo=t.currentTarget.get("appendInfo"),a.checked="single"===i||!r,!this.get("allowAllCanceled")&&r&&1===this.getCheckedCount())return void this.emit("clicklastitem",a);var s,u=this.get("unCheckColor"),c=this.get("textStyle").fill,l=void 0,f=void 0,h=void 0;"single"===i?(s=this.get("itemsGroup").get("children"),v.each(s,function(t){l=g(t,"legend-marker"),f=g(t,"legend-text"),h=g(t,"legend-item"),t!==e?(l.attr("fill")&&l.attr("fill",u),l.attr("stroke")&&l.attr("stroke",u),f.attr("fill",u),l.setSilent("checked",!1),f.setSilent("checked",!1),h.setSilent("checked",!1),t.setSilent("checked",!1)):(l.attr("fill")&&o&&o.marker&&l.attr("fill",o.marker.fill),l.attr("stroke")&&o&&o.marker&&l.attr("stroke",o.marker.stroke),f.attr("fill",c),l.setSilent("checked",!0),f.setSilent("checked",!0),h.setSilent("checked",!0),t.setSilent("checked",!0))})):(l=g(e,"legend-marker"),f=g(e,"legend-text"),h=g(e,"legend-item"),l.attr("fill")&&o&&o.marker&&l.attr("fill",r?u:o.marker.fill),l.attr("stroke")&&o&&o.marker&&l.attr("stroke",r?u:o.marker.stroke),f.attr("fill",r?u:c),e.setSilent("checked",!r),l.setSilent("checked",!r),f.setSilent("checked",!r),h.setSilent("checked",!r)),this.emit("itemclick",a)}this.get("canvas").draw()},i._renderItems=function(){var t,e,n=this,r=this.get("items");this.get("reversed")&&r.reverse(),v.each(r,function(t,e){n._addItem(t,e)}),this.get("highlight")&&(t=this.get("itemsGroup").get("children"),e=void 0,t.forEach(function(t){(e=g(t,"legend-marker")).get("oriStroke")||(e.attr("stroke")?e.set("oriStroke",e.attr("stroke")):e.set("oriStroke",""))}))},i._formatItemValue=function(t){var e=this.get("formatter")||this.get("itemFormatter");return e&&(t=e.call(this,t)),t},i._getNextX=function(){var t=this.get("layout"),e=this.get("itemGap"),n=this.get("itemsGroup"),r=this.get("itemWidth"),i=n.get("children"),o=0;return"horizontal"===t&&v.each(i,function(t){o+=(r||t.getBBox().width)+e}),o},i._getNextY=function(){var e=this.get("itemMarginBottom"),t=this.get("titleShape")?this.get("titleGap"):0,n=this.get("layout"),r=this.get("itemsGroup"),i=this.get("titleShape"),o=r.get("children"),a=t;return i&&(a+=i.getBBox().height),"vertical"===n&&v.each(o,function(t){a+=t.getBBox().height+e}),a},i._addItem=function(t){var e=this.get("itemsGroup"),n=this._getNextX(),r=this._getNextY(),i=this.get("unCheckColor"),o=e.addGroup({x:n,y:r,value:t.value,checked:t.checked});o.set("viewId",this.get("viewId"));var a,s,u=this.get("textStyle"),c=this.get("_wordSpaceing"),l=0;t.marker&&(a=v.mix({},t.marker,{x:t.marker.radius+n,y:r}),t.checked||(a.fill&&(a.fill=i),a.stroke&&(a.stroke=i)),(s=o.addShape("marker",{type:"marker",attrs:a})).attr("cursor","pointer"),s.name="legend-marker",l+=s.getBBox().width+c);var f=v.mix({},{fill:"#333",fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:y},u,{x:l+n,y:r,text:this._formatItemValue(t.value)});t.checked||v.mix(f,{fill:i});var h=o.addShape("text",{attrs:f});h.attr("cursor","pointer"),h.name="legend-text",this.get("appendInfo")&&h.setSilent("appendInfo",this.get("appendInfo"));var p=o.getBBox(),d=this.get("itemWidth"),g=o.addShape("rect",{attrs:{x:n,y:r-p.height/2,fill:"#fff",fillOpacity:0,width:d||p.width,height:p.height}});return g.attr("cursor","pointer"),g.setSilent("origin",t),g.name="legend-item",this.get("appendInfo")&&g.setSilent("appendInfo",this.get("appendInfo")),o.name="legendGroup",o},i._adjustHorizontal=function(){var e,n,r,t=this.get("itemsGroup"),i=t.get("children"),o=this.get("maxLength"),a=this.get("itemGap"),s=this.get("itemMarginBottom"),u=this.get("titleShape")?this.get("titleGap"):0,c=0,l=0,f=this.get("itemWidth");t.getBBox().width>o&&v.each(i,function(t){r=t.getBBox(),e=f||r.width,n=r.height+s,o-l<e&&(c++,l=0),t.move(l,c*n+u),l+=e+a})},i._adjustVertical=function(){var e,n,r,t=this.get("itemsGroup"),i=this.get("titleShape"),o=t.get("children"),a=this.get("maxLength"),s=this.get("itemGap"),u=this.get("itemMarginBottom"),c=this.get("titleGap"),l=i?i.getBBox().height+c:0,f=this.get("itemWidth"),h=l,p=0,d=0;t.getBBox().height>a&&v.each(o,function(t){r=t.getBBox(),e=r.width,n=r.height,f?p=f+s:p<e&&(p=e+s),a-h<n?(h=l,d+=p,t.move(d,l)):t.move(d,h),h+=n+u})},i._adjustItems=function(){"horizontal"===this.get("layout")?this._adjustHorizontal():this._adjustVertical()},i.getWidth=function(){return n.prototype.getWidth.call(this)},i.getHeight=function(){return n.prototype.getHeight.call(this)},i.move=function(t,e){n.prototype.move.call(this,t,e)},r}(r);t.exports=s},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=n(536),r=n(594),u=n(563).FONT_FAMILY,i=function(n){var t,e;e=n,(t=i).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;o(i);var r=i.prototype;function i(t){var e=n.call(this,t)||this;return e._init(),e.beforeRender(),e.render(),e._adjustPositionOffset(),e._bindEvents(),e}return r.getDefaultCfg=function(){return{container:null,title:null,formatter:null,hoverable:!0,titleGap:15,position:[0,0],offset:[0,0],offsetX:null,offsetY:null}},r._init=function(){var t=this.get("group"),e=this.get("container");this.set("canvas",e.get("canvas"));var n=this.get("position"),t=t||e.addGroup({x:0-n[0],y:0-n[1]});this.set("group",t)},r._adjustPositionOffset=function(){var t=this.get("position"),e=this.get("offset"),n=this.get("offsetX"),r=this.get("offsetY");s.isArray(e)||(e="vertical"===this.get("layout")?[e,0]:[0,e]),n&&(e[0]=n),r&&(e[1]=r);var i=this.get("group").getBBox();this.move(-i.minX+t[0]+e[0],-i.minY+t[1]+e[1])},r.beforeRender=function(){var t=this.get("group").addGroup();this.set("itemsGroup",t)},r.render=function(){this._renderTitle()},r._renderTitle=function(){var t,e=this.get("title"),n=(n=this.get("titleGap"))||0;e&&e.text&&((t=this.get("group").addShape("text",{attrs:s.mix({x:0,y:0-n,fill:"#333",textBaseline:"middle",fontFamily:u},e)})).name="legend-title",this.get("appendInfo")&&t.setSilent("appendInfo",this.get("appendInfo")),this.set("titleShape",t))},r.getCheckedCount=function(){var t=this.get("itemsGroup").get("children");return s.filter(t,function(t){return t.get("checked")}).length},r.setItems=function(t){this.set("items",t),this.clear(),this.render()},r.addItem=function(t){this.get("items").push(t),this.clear(),this.render()},r.clear=function(){this.get("itemsGroup").clear(),this.get("group").clear(),this.beforeRender()},r.destroy=function(){var t=this.get("group");t&&t.destroy(),this._attrs={},this.removeAllListeners(),n.prototype.destroy.call(this)},r.getWidth=function(){return this.get("group").getBBox().width},r.getHeight=function(){return this.get("group").getBBox().height},r.move=function(t,e){this.get("group").move(t,e)},r.draw=function(){this.get("canvas").draw()},i}(r);t.exports=i},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var S=n(536),r=n(795),g=n(563).FONT_FAMILY,M=S.DomUtil,i=S.Group,E="g2-legend",C="g2-legend-title",P="g2-legend-list",k="g2-legend-list-item",A="g2-legend-text",T="g2-legend-marker";function O(t,e){return t.getElementsByClassName(e)[0]}function y(t,e){var n=t.className;return S.isNil(n)||-1<(n=n.split(" ")).indexOf(e)?t:t.parentNode?t.parentNode.className===E?t.parentNode:y(t.parentNode,e):null}function m(t,e){var n=null,r=e instanceof i?e.get("value"):e;return S.each(t,function(t){if(t.value===r)return n=t,!1}),n}var s=function(n){var t,e;e=n,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;o(r);function r(){return n.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return S.mix({},t,{type:"category-legend",container:null,containerTpl:'<div class="'+E+'"><h4 class="'+C+'"></h4><ul class="'+P+'"></ul></div>',itemTpl:'<li class="'+k+' item-{index} {checked}" data-color="{originColor}" data-value="{originValue}"><i class="'+T+'" style="background-color:{color};"></i><span class="'+A+'">{value}</span></li>',legendStyle:{},textStyle:{fill:"#333",fontSize:12,textAlign:"middle",textBaseline:"top",fontFamily:g},abridgeText:!1,tipTpl:'<div class="textTip"></div>',tipStyle:{display:"none",fontSize:"12px",backgroundColor:"#fff",position:"absolute",width:"auto",height:"auto",padding:"3px",boxShadow:"2px 2px 5px #888"},autoPosition:!0})},i._init=function(){},i.beforeRender=function(){},i.render=function(){this._renderHTML()},i._bindEvents=function(){var e=this,t=O(this.get("legendWrapper"),P);this.get("hoverable")&&(t.onmousemove=function(t){return e._onMousemove(t)},t.onmouseout=function(t){return e._onMouseleave(t)}),this.get("clickable")&&(t.onclick=function(t){return e._onClick(t)})},i._onMousemove=function(t){var e,n,r=this.get("items"),i=t.target,o=i.className;-1<(o=o.split(" ")).indexOf(E)||-1<o.indexOf(P)||((n=m(r,(e=y(i,k)).getAttribute("data-value")))?(this.deactivate(),this.activate(e.getAttribute("data-value")),this.emit("itemhover",{item:n,currentTarget:e,checked:n.checked})):n||(this.deactivate(),this.emit("itemunhover",t)))},i._onMouseleave=function(t){this.deactivate(),this.emit("itemunhover",t)},i._onClick=function(t){var e=this,n=O(this.get("legendWrapper"),P),r=this.get("unCheckColor"),i=this.get("items"),o=this.get("selectedMode"),a=n.childNodes,s=t.target,u=s.className;if(!(-1<(u=u.split(" ")).indexOf(E)||-1<u.indexOf(P))){var c=y(s,k),l=O(c,A),f=O(c,T),h=m(i,c.getAttribute("data-value"));if(h){var p=c.className,d=c.getAttribute("data-color");if("single"===o)h.checked=!0,S.each(a,function(t){t!==c?(O(t,T).style.backgroundColor=r,t.className=t.className.replace("checked","unChecked"),t.style.color=r,m(i,t.getAttribute("data-value")).checked=!1):(l&&(l.style.color=e.get("textStyle").fill),f&&(f.style.backgroundColor=d),c.className=p.replace("unChecked","checked"))});else{var g=-1!==p.indexOf("checked"),v=0;if(S.each(a,function(t){-1!==t.className.indexOf("checked")&&v++}),!this.get("allowAllCanceled")&&g&&1===v)return void this.emit("clicklastitem",{item:h,currentTarget:c,checked:"single"===o||h.checked});h.checked=!h.checked,g?(f&&(f.style.backgroundColor=r),c.className=p.replace("checked","unChecked"),c.style.color=r):(f&&(f.style.backgroundColor=d),c.className=p.replace("unChecked","checked"),c.style.color=this.get("textStyle").fill)}this.emit("itemclick",{item:h,currentTarget:c,checked:"single"===o||h.checked})}}},i.activate=function(t){var r=this,i=this,o=i.get("items"),a=m(o,t);O(i.get("legendWrapper"),P).childNodes.forEach(function(t){var e=O(t,T),n=m(o,t.getAttribute("data-value"));if(r.get("highlight")){if(n===a&&n.checked)return void(e.style.border="1px solid #333")}else n===a?e.style.opacity=i.get("activeOpacity"):n.checked&&(e.style.opacity=i.get("inactiveOpacity"))})},i.deactivate=function(){var n=this,r=this;O(r.get("legendWrapper"),P).childNodes.forEach(function(t){var e=O(t,T);n.get("highlight")?e.style.border="1px solid #fff":e.style.opacity=r.get("inactiveOpacity")})},i._renderHTML=function(){var t,e,n,v=this,r=this.get("container"),i=this.get("title"),o=this.get("containerTpl"),y=M.createDom(o),a=O(y,C),m=O(y,P),x=this.get("unCheckColor"),s=S.deepMix({},{CONTAINER_CLASS:{height:"auto",width:"auto",position:"absolute",overflowY:"auto",fontSize:"12px",fontFamily:g,lineHeight:"20px",color:"#8C8C8C"},TITLE_CLASS:{marginBottom:this.get("titleGap")+"px",fontSize:"12px",color:"#333",textBaseline:"middle",fontFamily:g},LIST_CLASS:{listStyleType:"none",margin:0,padding:0,textAlign:"center"},LIST_ITEM_CLASS:{cursor:"pointer",marginBottom:"5px",marginRight:"24px"},MARKER_CLASS:{width:"9px",height:"9px",borderRadius:"50%",display:"inline-block",marginRight:"4px",verticalAlign:"middle"}},this.get("legendStyle"));/^\#/.test(r)||"string"==typeof r&&r.constructor===String?(t=r.replace("#",""),(r=document.getElementById(t)).appendChild(y)):(n={},n="left"===(e=this.get("position"))||"right"===e?{maxHeight:(this.get("maxLength")||r.offsetHeight)+"px"}:{maxWidth:(this.get("maxLength")||r.offsetWidth)+"px"},M.modifyCSS(y,S.mix({},s.CONTAINER_CLASS,n,this.get(E))),r.appendChild(y)),M.modifyCSS(m,S.mix({},s.LIST_CLASS,this.get(P))),a&&(i&&i.text?(a.innerHTML=i.text,M.modifyCSS(a,S.mix({},s.TITLE_CLASS,this.get(C),i))):y.removeChild(a));var u,c,l,f=this.get("items"),b=this.get("itemTpl"),h=this.get("position"),p=this.get("layout"),d="right"===h||"left"===h||"vertical"===p?"block":"inline-block",w=S.mix({},s.LIST_ITEM_CLASS,{display:d},this.get(k)),_=S.mix({},s.MARKER_CLASS,this.get(T));S.each(f,function(t,e){var n=t.checked,r=v._formatItemValue(t.value),i=t.marker.fill||t.marker.stroke,o=n?i:x,a=S.isFunction(b)?b(r,o,n,e):b,s=S.substitute(a,S.mix({},t,{index:e,checked:n?"checked":"unChecked",value:r,color:o,originColor:i,originValue:t.value.replace(/\"/g,"&quot;")})),u=M.createDom(s);u.style.color=v.get("textStyle").fill;var c,l,f,h,p,d=O(u,T),g=O(u,A);M.modifyCSS(u,w),d&&M.modifyCSS(d,_),n||(u.style.color=x,d&&(d.style.backgroundColor=x)),m.appendChild(u),v.get("abridgeText")&&(c=r,l=u.offsetWidth,f=v.get("textStyle").fontSize,isNaN(f)&&(-1!==f.indexOf("pt")?f=parseFloat(f.substr(0,f.length-2))/72*96:-1!==f.indexOf("px")&&(f=parseFloat(f.substr(0,f.length-2)))),h=f*c.length,p=Math.floor(l/f),l<2*f?c="":l<h&&1<p&&(c=c.substr(0,p-1)+"..."),g.innerText=c,u.addEventListener("mouseover",function(){var t=O(y.parentNode,"textTip");t.style.display="block",t.style.left=u.offsetLeft+u.offsetWidth+"px",t.style.top=u.offsetTop+15+"px",t.innerText=r}),u.addEventListener("mouseout",function(){O(y.parentNode,"textTip").style.display="none"}))}),this.get("abridgeText")&&(u=this.get("tipTpl"),c=M.createDom(u),l=this.get("tipStyle"),M.modifyCSS(c,l),y.parentNode.appendChild(c),c.addEventListener("mouseover",function(){c.style.display="none"})),this.set("legendWrapper",y)},i._adjustPositionOffset=function(){var t,e,n,r,i;!1!==this.get("autoPosition")&&(t=this.get("position"),e=this.get("offset"),n=this.get("offsetX"),r=this.get("offsetY"),n&&(e[0]=n),r&&(e[1]=r),(i=this.get("legendWrapper")).style.left=t[0]+"px",i.style.top=t[1]+"px",i.style.marginLeft=e[0]+"px",i.style.marginTop=e[1]+"px")},i.getWidth=function(){return M.getOuterWidth(this.get("legendWrapper"))},i.getHeight=function(){return M.getOuterHeight(this.get("legendWrapper"))},i.move=function(t,e){/^\#/.test(this.get("container"))?n.prototype.move.call(this,t,e):(M.modifyCSS(this.get("legendWrapper"),{left:t+"px",top:e+"px"}),this.set("x",t),this.set("y",e))},i.destroy=function(){var t=this.get("legendWrapper");t&&t.parentNode&&t.parentNode.removeChild(t),n.prototype.destroy.call(this)},r}(r);t.exports=s},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=n(594),l=n(536),i=function(n){var t,e;e=n,(t=i).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;o(i);var r=i.prototype;function i(t){var e=n.call(this,t)||this;return e._init_(),e.render(),e}return r.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return l.mix({},t,{type:null,plot:null,plotRange:null,rectStyle:{fill:"#CCD6EC",opacity:.3},lineStyle:{stroke:"rgba(0, 0, 0, 0.25)",lineWidth:1},isTransposed:!1})},r._init_=function(){var t=this.get("plot"),e="rect"===this.type?t.addGroup({zIndex:0}):t.addGroup();this.set("container",e)},r._addLineShape=function(t,e){var n=this.get("container").addShape("line",{capture:!1,attrs:t});return this.set("crossLineShape"+e,n),n},r._renderHorizontalLine=function(t,e){var n=l.mix(this.get("lineStyle"),this.get("style")),r=l.mix({x1:e?e.bl.x:t.get("width"),y1:0,x2:e?e.br.x:0,y2:0},n);this._addLineShape(r,"X")},r._renderVerticalLine=function(t,e){var n=l.mix(this.get("lineStyle"),this.get("style")),r=l.mix({x1:0,y1:e?e.bl.y:t.get("height"),x2:0,y2:e?e.tl.y:0},n);this._addLineShape(r,"Y")},r._renderBackground=function(t,e){var n=l.mix(this.get("rectStyle"),this.get("style")),r=this.get("container"),i=l.mix({x:e?e.tl.x:0,y:e?e.tl.y:t.get("height"),width:e?e.br.x-e.bl.x:t.get("width"),height:e?Math.abs(e.tl.y-e.bl.y):t.get("height")},n),o=r.addShape("rect",{attrs:i,capture:!1});return this.set("crosshairsRectShape",o),o},r._updateRectShape=function(t){var e,n,r=this.get("crosshairsRectShape"),i=this.get("isTransposed"),o=t[0],a=t[t.length-1],s=i?"y":"x",u=i?"height":"width",c=o[s];1<t.length&&o[s]>a[s]&&(c=a[s]),this.get("width")?(r.attr(s,c-this.get("crosshairs").width/2),r.attr(u,this.get("width"))):l.isArray(o.point[s])&&!o.size?(n=o.point[s][1]-o.point[s][0],r.attr(s,o.point[s][0]),r.attr(u,n)):(e=3*o.size/4,r.attr(s,c-e),1===t.length?r.attr(u,3*o.size/2):r.attr(u,Math.abs(a[s]-o[s])+2*e))},r.render=function(){var t=this.get("canvas"),e=this.get("plotRange"),n=this.get("isTransposed");switch(this.clear(),this.get("type")){case"x":this._renderHorizontalLine(t,e);break;case"y":this._renderVerticalLine(t,e);break;case"cross":this._renderHorizontalLine(t,e),this._renderVerticalLine(t,e);break;case"rect":this._renderBackground(t,e);break;default:n?this._renderHorizontalLine(t,e):this._renderVerticalLine(t,e)}},r.show=function(){var t=this.get("container");n.prototype.show.call(this),t.show()},r.hide=function(){var t=this.get("container");n.prototype.hide.call(this),t.hide()},r.clear=function(){var t=this.get("container");this.set("crossLineShapeX",null),this.set("crossLineShapeY",null),this.set("crosshairsRectShape",null),n.prototype.clear.call(this),t.clear()},r.destroy=function(){var t=this.get("container");n.prototype.destroy.call(this),t.remove()},r.setPosition=function(t,e,n){var r=this.get("crossLineShapeX"),i=this.get("crossLineShapeY"),o=this.get("crosshairsRectShape");i&&!i.get("destroyed")&&i.move(t,0),r&&!r.get("destroyed")&&r.move(0,e),o&&!o.get("destroyed")&&this._updateRectShape(n)},i}(r);t.exports=i},function(t,e){var n={_calcTooltipPosition:function(t,e,n,r,i,o){var a,s=0,u=0,c=20;switch(o&&(s=(a=o.getBBox()).width,u=a.height,t=a.x,e=a.y,c=5),n){case"inside":t=t+s/2-r/2,e=e+u/2-i/2;break;case"top":t=t+s/2-r/2,e=e-i-c;break;case"left":t=t-r-c,e=e+u/2-i/2;break;case"right":t=t+s+c,e=e+u/2-i/2;break;case"bottom":default:t=t+s/2-r/2,e=e+u+c}return[t,e]},_constraintPositionInBoundary:function(t,e,n,r,i,o){return i<t+n+20?t=(t-=n+20)<0?0:t:t+20<0?t=20:t+=20,o<e+r+20?e=(e-=r+20)<0?0:e:e+20<0?e=20:e+=20,[t,e]},_constraintPositionInPlot:function(t,e,n,r,i,o){return t+n>i.tr.x&&(t-=o?n+1:n+40),t<i.tl.x&&(t=i.tl.x),o||(e+r>i.bl.y&&(e-=r+40),e<i.tl.y&&(e=i.tl.y)),[t,e]}};t.exports=n},function(t,e,n){var i=n(536),r={setMarkers:function(t,n){var r=this.get("markerGroup"),e=this.get("frontPlot");r?r.clear():(r=e.addGroup({zIndex:1,capture:!1}),this.set("markerGroup",r)),i.each(t,function(t){var e=i.mix({fill:t.color,symbol:"circle",shadowColor:t.color},n,{x:t.x,y:t.y});t.marker&&t.marker.activeSymbol&&(e.symbol=t.marker.activeSymbol),r.addShape("marker",{color:t.color,attrs:e})}),this.set("markerItems",t)},clearMarkers:function(){var t=this.get("markerGroup");t&&t.clear()}};t.exports=r},function(t,e,n){function i(o){return function(){var t,e,n,r,i=s(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=s(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?a(n):r}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(578),o=n(798),c=n(800),l=n(799),r=n(671),w=n(536),f=n(563).FONT_FAMILY,_=w.DomUtil,S=w.MatrixUtil,h=function(b){var t,e;e=b,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;i(r);var n=r.prototype;function r(t){var e=b.call(this,t)||this;w.assign(a(e),l),w.assign(a(e),c);var n,r,i=e.get("crosshairs");return i&&(n="rect"===i.type?e.get("backPlot"):e.get("frontPlot"),(r=new o(w.mix({plot:n,plotRange:e.get("plotRange"),canvas:e.get("canvas")},e.get("crosshairs")))).hide(),e.set("crosshairGroup",r)),e._init_(),e.get("items")&&e.render(),e}return n.getDefaultCfg=function(){var t=b.prototype.getDefaultCfg.call(this);return w.mix({},t,{boardStyle:{x:0,y:0,width:100,height:100,fill:"rgba(255, 255, 255, 0.9)",radius:4,stroke:"#e2e2e2",lineWidth:1},titleStyle:{fontFamily:f,text:"",textBaseline:"top",fontSize:12,fill:"rgb(87, 87, 87)",lineHeight:20,padding:20},markerStyle:{radius:4},nameStyle:{fontFamily:f,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:8},valueStyle:{fontFamily:f,fontSize:12,fill:"rgb(87, 87, 87)",textBaseline:"middle",textAlign:"start",padding:30},padding:{top:20,right:20,bottom:20,left:20},itemGap:10,animationDuration:200})},n._init_=function(){var t=this,e=t.get("padding"),n=t.get("frontPlot"),r=n.addGroup({capture:!1});t.set("markerGroup",r);var i=n.addGroup();i.hide(),t.set("container",i);var o=i.addShape("rect",{attrs:w.mix({},t.get("boardStyle"))});t.set("board",o);var a,s=t.get("titleStyle");t.get("showTitle")&&(a=i.addShape("text",{attrs:w.mix({x:e.left,y:e.top},s)}),t.set("titleShape",a),a.name="tooltip-title");var u=i.addGroup();u.move(e.left,e.top+s.lineHeight+s.padding),t.set("itemsGroup",u)},n.render=function(){var r=this;r.clear();var i,o,t=r.get("container"),e=r.get("board"),n=r.get("showTitle"),a=r.get("titleContent"),s=this.get("titleShape"),u=this.get("itemsGroup"),c=r.get("items"),l=r.get("padding");s&&n&&s.attr("text",a),u&&(i=r.get("itemGap"),o=0,w.each(c,function(t){var e=r._addItem(t);e.move(0,o),u.add(e);var n=e.getBBox().height;o+=n+i}));var f=t.getBBox(),h=f.width+l.right,p=f.height+l.bottom;e.attr("width",h),e.attr("height",p),r._alignToRight(h)},n.clear=function(){var t=this.get("titleShape"),e=this.get("itemsGroup"),n=this.get("board");t.text="",e.clear(),n.attr("width",0),n.attr("height",0)},n.show=function(){this.get("container").show();var t=this.get("crosshairGroup");t&&t.show();var e=this.get("markerGroup");e&&e.show(),b.prototype.show.call(this),this.get("canvas").draw()},n.hide=function(){this.get("container").hide();var t=this.get("crosshairGroup");t&&t.hide();var e=this.get("markerGroup");e&&e.hide(),b.prototype.hide.call(this),this.get("canvas").draw()},n.destroy=function(){var t=this.get("container"),e=this.get("crosshairGroup");e&&e.destroy();var n=this.get("markerGroup");n&&n.remove(),b.prototype.destroy.call(this),t.remove()},n.setPosition=function(t,e,n){var r,i,o,a,s=this.get("container"),u=this.get("canvas").get("el"),c=_.getWidth(u),l=_.getHeight(u),f=s.getBBox(),h=f.width,p=f.height,d=t,g=e;e=(t=this.get("position")?(r=f.width,i=f.height,(o=this._calcTooltipPosition(t,e,this.get("position"),r,i,n))[0]):(o=this._constraintPositionInBoundary(t,e,h,p,c,l))[0],o[1]),this.get("inPlot")&&(a=this.get("plotRange"),t=(o=this._constraintPositionInPlot(t,e,h,p,a,this.get("enterable")))[0],e=o[1]);var v=this.get("markerItems");w.isEmpty(v)||(d=v[0].x,g=v[0].y);var y=S.transform([1,0,0,0,1,0,0,0,1],[["t",t,e]]);s.stopAnimate(),s.animate({matrix:y},this.get("animationDuration"));var m,x=this.get("crosshairGroup");x&&(m=this.get("items"),x.setPosition(d,g,m)),b.prototype.setPosition.call(this,t,e)},n._addItem=function(t){var e,n=new u.Group,r=this.get("markerStyle").radius;t.marker&&(e=w.mix({},t.marker,{x:t.marker.radius/2,y:0,symbol:t.marker.activeSymbol||t.marker.symbol}),n.addShape("marker",{attrs:e}),r=t.marker.radius);var i=this.get("nameStyle");n.addShape("text",{attrs:w.mix({x:r+i.padding,y:0,text:t.name},i)});var o=this.get("valueStyle");return n.addShape("text",{attrs:w.mix({x:n.getBBox().width+o.padding,y:0,text:t.value},o)}),n},n._alignToRight=function(i){var o=this,t=this.get("itemsGroup").get("children");w.each(t,function(t){var e=t.get("children")[2],n=e.getBBox().width,r=i-n-2*o.get("padding").right;e.attr("x",r)})},r}(r);t.exports=h},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var i=n(668),o=n(572),a=n(530);a.extend(r,i),a.augment(r,{getPointRauis:function(t,e){return o.getPointRadius(t,e)},getCirclePoint:function(t,e,n){var r=this.get("coord"),i=r.getCenter(),o=this._isEmitLabels(),a=this.getPointRauis(r,n);return 0===a?null:(r.isTransposed&&e<a&&!o?t+=2*Math.asin(e/(2*a)):a+=e,{x:i.x+a*Math.cos(t),y:i.y+a*Math.sin(t),angle:t,r:a})},getArcPoint:function(t,e){var n;return e=e||0,n=a.isArray(t.x)||a.isArray(t.y)?{x:a.isArray(t.x)?t.x[e]:t.x,y:a.isArray(t.y)?t.y[e]:t.y}:t,this.transLabelPoint(n),n},getPointAngle:function(t){var e=this.get("coord");return o.getPointAngle(e,t)},getMiddlePoint:function(t){var e=this.get("coord"),n=t.length,r={x:0,y:0};return a.each(t,function(t){r.x+=t.x,r.y+=t.y}),r.x/=n,r.y/=n,r=e.convert(r)},_isToMiddle:function(t){return 2<t.x.length},getLabelPoint:function(t,e,n){var r=t.text[n],i=1,o=this._isToMiddle(e)?this.getMiddlePoint(e.points):(1===t.text.length&&0===n?n=1:0===n&&(i=-1),this.getArcPoint(e,n)),a=this.getDefaultOffset(t);a*=i;var s,u=this.getPointAngle(o),c=this.getCirclePoint(u,a,o);return c?(c.text=r,c.angle=u,c.color=e.color):c={text:""},!t.autoRotate&&void 0!==t.autoRotate||(s=(s=c.textStyle?c.textStyle.rotate:null)||c.rotate||this.getLabelRotate(u,a,e),c.rotate=s),c.start={x:o.x,y:o.y},c},_isEmitLabels:function(){return this.get("label").labelEmit},getLabelRotate:function(t){var e=180*t/Math.PI;return e+=90,this._isEmitLabels()&&(e-=90),e&&(90<e?e-=180:e<-90&&(e+=180)),e/180*Math.PI},getLabelAlign:function(t){var e,n,r=this.get("coord");return this._isEmitLabels()?t.angle<=Math.PI/2&&t.angle>-Math.PI/2?"left":"right":r.isTransposed?(e=r.getCenter(),n=this.getDefaultOffset(t),Math.abs(t.x-e.x)<1?"center":t.angle>Math.PI||t.angle<=0?0<n?"left":"right":0<n?"right":"left"):"center"}}),t.exports=r},function(t,e){t.exports={toFront:function(t){var e=t.get("parent").get("children").indexOf(t);t.set("_originIndex",e),t.toFront()},resetZIndex:function(t){var e=t.get("parent"),n=t.get("_originIndex"),r=e.get("children"),i=r.indexOf(t);0<=n&&n!==i&&(r.splice(i,1),r.splice(n,0,t))}}},function(t,e,n){t.exports={Scale:n(1065),Coord:n(1066),Axis:n(1071),Guide:n(1072),Legend:n(1075),Tooltip:n(1077),Event:n(1078)}},function(t,e,n){var u=n(558),i=n(530),c=n(806);function l(t,e,n){void 0===n&&(n=1);var r=[t.x,t.y,n];return i.vec3.transformMat3(r,r,e),{x:r[0],y:r[1]}}t.exports=function(t,e){var s=e;return i.each(t.get("children"),function(t){t instanceof u.Group&&i.each(t.get("children"),function(t){var e,n,r,i,o,a;t instanceof u.Group&&t.get("children").length||t instanceof u.Path?s=c(s,t.getBBox()):t instanceof u.Text&&(r=(n=t).getBBox(),i={x:r.minX,y:r.minY},o={x:r.maxX,y:r.maxY},a=n.attr("matrix"),i=l(i,a),o=l(o,a),e={minX:i.x,minY:i.y,maxX:o.x,maxY:o.y},s=c(s,e))})}),s}},function(t,e){t.exports=function(t,e){return{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}}},function(t,e){t.exports=function(t){return{minX:t.tl.x,minY:t.tl.y,maxX:t.br.x,maxY:t.br.y}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={COORD_FUNC_PROPS:["rotate","scale","reflect","transpose"],GEOM_FUNC_PROPS:["position","color","size","shape","opacity","tooltip","style","animate","active","select","sets"]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(607)),s=n(653),r=a(n(808)),o=a(n(810)),f=a(n(652));function a(t){return t&&t.__esModule?t:{default:t}}function h(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function p(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var u=r.default.COORD_FUNC_PROPS,c=r.default.GEOM_FUNC_PROPS;e.default={createChart:function(t){var e=t.chart,n=e.props.forceFit;e.props.forceFit=!1;var r=new i.Chart(e.props);return e.props.afterChartInitialized&&e.props.afterChartInitialized(r),n&&r.forceFit(),e.g2Instance=r},executeChartConfig:function(e,t){var n=t.chart.props;e.coord("rect",{}),e.source(n.data,n.scale),(t.facet||n.axis)&&t.facet&&!1!==n.axis||e.axis(!1),e.legend(!1),e.tooltip(!1),n.filter&&n.filter.forEach(function(t){e.filter(t[0],t[1])}),o.default.bindEvents(e,o.default.chartEvents,n),o.default.bindBaseEvents(e,n)},coord:function(t,e){var n,r,i,o,a=e.coord;a&&!a.g2Instance&&(r=(n=a.props).type,i=p(n,["type"]),o=t.coord(r||"rect",s.Util.without(i,u)),s.Prop.init(u,i,function(t,e){"reflect"===e?s.Util.each(t,function(t){return o[e](t)}):"transpose"===e&&!0!==t[0]||o[e].apply(o,h(t))}),a.g2Instance=o)},createLabel:function(t,e){var n,r,i;e&&!e.g2Instance&&(r=(n=e.props).content,i=p(n,["content"]),r&&(s.Util.isArray(r)?e.g2Instance=t.label(r[0],r[1],i):e.g2Instance=t.label(r,i)))},createGeom:function(t,e){var n,r;e.g2Instance?e.label&&this.createLabel(e.g2Instance,e.label):(n=e.props,r=t[n.type||"interval"](),n.adjust&&r.adjust(n.adjust),s.Prop.init(c,n,function(t,e){r[e].apply(r,h(t))}),e.g2Instance=r,this.createLabel(r,e.label))},geoms:function(t,e){var n=e.geoms;if(n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&this.createGeom(t,n[r])},legends:function(t,e){var n=e.legends;for(var r in n)if(n[r]){var i=n[r];if(i.g2Instance)return;var o=i.props,a=o.name,s=o.visible,u=p(o,["name","visible"]),c=s;Object.prototype.hasOwnProperty.call(i.props,"visible")||(c=!0);var l=c?u:c;i.g2Instance=t.legend.apply(t,h(a?[a,l]:[l]))}},tooltip:function(t,e){var n=e.tooltip;n&&!n.g2Instance&&(n.g2Instance=t.tooltip(l({},n.props)))},createAxis:function(t,e){var n,r,i,o;e.g2Instance||(r=(n=e.props).name,i=n.visible,o=p(n,["name","visible"]),i||!Object.prototype.hasOwnProperty.call(e.props,"visible")?e.g2Instance=t.axis(r,o):e.g2Instance=t.axis(r,!1))},axises:function(t,e){var n=e.axises;for(var r in n)n[r]&&this.createAxis(t,n[r])},views:function(t,e){var n=e.views;for(var r in n)n[r]&&this.createView(t,n[r])},createView:function(t,e){if("Facet"!==e.parentInfo.name){if(e.g2Instance)return e.filter&&e.filter.forEach(function(t){e.g2Instance.filter(t[0],t[1])}),this.coord(e.g2Instance,e),this.axises(e.g2Instance,e),this.geoms(e.g2Instance,e),void this.guide(e.g2Instance,e.guide);var n=e.props,r=n.scale,i=n.data,o=n.instance,a=n.axis,s=n.filter,u=(n.geoms,p(n,["scale","data","instance","axis","filter","geoms"])),c=void 0,c=o||t.view(l({},u));i&&c.source(i,r),r&&c.scale(r),s&&s.forEach(function(t){c.filter(t[0],t[1])}),!0===a||o||c.axis(!1),e.g2Instance=c,this.coord(c,e),this.axises(c,e),this.geoms(c,e),this.guide(c,e.guide)}},facetView:function(t,e){var n=e.props,r=n.scale,i=n.data,o=n.axis;n.geoms,p(n,["scale","data","axis","geoms"]);i&&t.source(i,r),r&&t.scale(r),!1===o&&t.axis(!1),this.coord(t,e),this.axises(t,e),this.geoms(t,e),this.guide(t,e.guide),f.default.mergeView(e,!0)},guide:function(t,e){if(e){var n,r,i,o=e.elements;for(var a in o){o[a]&&((n=o[a]).g2Instance||((r=n.props).type,i=p(r,["type"]),n.g2Instance=t.guide()[n.type](i)))}}},facet:function(t,e){var n=this,r=e.facet;if(r&&!r.g2Instance){var i=r.props,o=i.children,a=i.type,s=p(i,["children","type"]);if(o){var u=e.views,c=null;for(var l in u)if(u[l]&&"Facet"===u[l].parentInfo.name&&u[l].parentInfo.id===r.id){c=u[l];break}c&&(f.default.mergeView(c,!0),s.eachView=function(t){n.facetView(t,c)},t.facet(a,s))}else t.facet(a,s)}},synchronizeG2Add:function(t,e){this.coord(t,e),this.axises(t,e),this.legends(t,e),this.tooltip(t,e),this.geoms(t,e),this.facet(t,e),this.views(t,e),this.guide(t,e.guide)},synchronizeG2Views:function(t,e){var n=e.views;for(var r in n)n[r]&&this.synchronizeG2View(n[r].g2Instance,n[r])},synchronizeG2View:function(t,e){t.clear(),this.clearViewG2Instance(e);var n=e.props,r=n.scale,i=n.data,o=n.instance,a=n.axis;n.geoms,p(n,["scale","data","instance","axis","geoms"]);i&&t.source(i,r),r&&t.scale(r),!0===a||o||t.axis(!1),this.coord(t,e),this.axises(t,e),this.geoms(t,e),this.guide(t,e.guide)},clearViewG2Instance:function(e){e.coord&&delete e.coord.g2Instance,e.axises&&Object.keys(e.axises).forEach(function(t){delete e.axises[t].g2Instance}),e.geoms&&Object.keys(e.geoms).forEach(function(t){delete e.geoms[t].g2Instance,e.geoms[t].label&&delete e.geoms[t].label.g2Instance}),e.guide&&e.guide.elements&&Object.keys(e.guide.elements).forEach(function(t){delete e.guide.elements[t].g2Instance})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=i(n(1)),c=i(n(606));function i(t){return t&&t.__esModule?t:{default:t}}for(var o=["mouseenter","mousemove","mouseleave","click","dblclick","mousedown","mouseup","touchstart","touchmove","touchend"],a=["Mouseenter","Mousemove","Mouseleave","Click","Dblclick","Mousedown","Mouseup","Touchstart","Touchmove","Touchend"],s=["point","area","line","path","interval","schema","polygon","edge","axis-title","axis-label","axis-ticks","axis-line","axis-grid","legend-title","legend-item","legend-marker","legend-text","guide-text","guide-region","guide-line","guide-image","label"],u=["onPoint","onArea","onLine","onPath","onInterval","onSchema","onPolygon","onEdge","onAxisTitle","onAxisLabel","onAxisTicks","onAxisLine","onAxisGrid","onLegendTitle","onLegendItem","onLegendMarker","onLegendText","onGuideText","onGuideRegion","onGuideLine","onGuideImage","onLabel"],l=[],f=0;f<s.length;f+=1)for(var h=0;h<o.length;h+=1)l.push({prop:""+u[f]+a[h],event:s[f]+":"+o[h]});var p=[{prop:"onPlotMove",event:"plotmove"},{prop:"onPlotEnter",event:"plotenter"},{prop:"onPlotLeave",event:"plotleave"},{prop:"onPlotClick",event:"plotclick"},{prop:"onPlotDblClick",event:"plotdblclick"},{prop:"onItemSelected",event:"itemselected"},{prop:"onItemUnselected",event:"itemunselected"},{prop:"onItemSelectedChange",event:"itemselectedchange"},{prop:"onTooltipChange",event:"tooltip:change"},{prop:"onTooltipShow",event:"tooltip:show"},{prop:"onTooltipHide",event:"tooltip:hide"}].concat(l);function d(){return[{prop:"onMouseEnter",event:"mouseenter"},{prop:"onMouseMove",event:"mousemove"},{prop:"onMouseLeave",event:"mouseleave"},{prop:"onClick",event:"click"},{prop:"onDblClick",event:"dblclick"},{prop:"onMouseDown",event:"mousedown"},{prop:"onMouseUp",event:"mouseup"},{prop:"onTouchStart",event:"touchstart"},{prop:"onTouchMove",event:"touchmove"},{prop:"onTouchEnd",event:"touchend"}]}var g=d(),v={onMouseEnter:r.default.object,onMouseMove:r.default.object,onMouseLeave:r.default.object,onClick:r.default.oneOfType([r.default.object,r.default.func]),onDblClick:r.default.object,onMouseDown:r.default.object,onMouseUp:r.default.object,onTouchStart:r.default.object,onTouchMove:r.default.object,onTouchEnd:r.default.object},y={onMouseEnter:r.default.func,onMouseMove:r.default.func,onMouseLeave:r.default.func,onClick:r.default.func,onDblClick:r.default.func,onMouseDown:r.default.func,onMouseUp:r.default.func,onTouchStart:r.default.func,onTouchMove:r.default.func,onTouchEnd:r.default.func};function m(o){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2];c.default.each(t,function(t){var e=t.prop,n=t.event,r=a[e];if(c.default.isFunction(r))o.on(n,r);else if(c.default.isObject(r))for(var i in r)void 0!==r[i]&&o.on(i+":"+n,r[i])})}function x(a){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=arguments[2],u=arguments[3];c.default.each(t,function(t){var e=t.prop,n=t.event,r=s[e],i=u[e],o=void 0;if(!c.default.shallowEqual(r,i))if(c.default.isFunction(r)&&c.default.isFunction(i))a.off(n,r),a.on(n,i);else if(c.default.isObject(r)&&c.default.isObject(i)){for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&a.off(o+":"+n,r[o]);for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.on(o+":"+n,i[o])}})}function b(o){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2];c.default.each(t,function(t){var e=t.prop,n=t.event,r=a[e];if(c.default.isFunction(r))o.off(n,r);else if(c.default.isObject(r))for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&o.off(i+":"+n,r[i])})}e.default={baseEventObjectTypes:v,baseEventFuncTypes:y,genBaseEvents:d,genItemBaseEvents:function(n){var t=d();return c.default.map(t,function(t){var e=t.event;return t.event=n+":"+e,t}),t},bindEvents:m,bindBaseEvents:function(t,e){m(t,g,e)},updateEvents:x,updateBaseEvents:function(t,e,n){x(t,g,e,n)},unbindEvents:b,unbindBaseEvents:function(t,e){b(t,g,e)},chartEvents:p}},function(t,e,n){var r=n(552),o=n(812),u=n(530),i=function(n){var t,e;e=n,(t=i).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var r=i.prototype;function i(t){var e=n.call(this,t)||this;return u.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e),o),e}return r.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return t.type="path",t.shapeType="line",t},r.getDrawCfg=function(t){var e=n.prototype.getDrawCfg.call(this,t);return e.isStack=this.hasStack(),e},r.draw=function(t,r,i,o){var a=this,e=this.splitData(t),s=this.getDrawCfg(t[0]);a._applyViewThemeShapeStyle(s,s.shape,i),s.origin=t,u.each(e,function(t,e){var n;u.isEmpty(t)||(s.splitedIndex=e,s.points=t,n=i.drawShape(s.shape,s,r),a.appendShapeInfo(n,o+e))})},i}(r);r.Path=i,t.exports=i},function(t,e,n){var a=n(530),s=n(542);t.exports={splitData:function(t){var e=this.get("viewTheme")||s;if(!t.length)return[];var n,r=[],i=[],o=this.getYScale().field;return a.each(t,function(t){n=t._origin?t._origin[o]:t[o],e.connectNulls?a.isNil(n)||i.push(t):a.isArray(n)&&a.isNil(n[0])||a.isNil(n)?i.length&&(r.push(i),i=[]):i.push(t)}),i.length&&r.push(i),r}}},function(t,e,n){var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="rect",t},i.generateFacets=function(u){var c=this,t=c.fields,l=[],f=1,h=1,p=t[0],d=t[1],g=[""],v=[""];return p&&(g=c.getFieldValues(p,u),h=g.length),d&&(v=c.getFieldValues(d,u),f=v.length),g.forEach(function(a,s){v.forEach(function(t,e){var n=[{field:p,value:a,values:g},{field:d,value:t,values:v}],r=c.getFilter(n),i=u.filter(r),o={type:c.type,colValue:a,rowValue:t,colField:p,rowField:d,colIndex:s,rowIndex:e,cols:h,rows:f,data:i,region:c.getRegion(f,h,s,e)};l.push(o)})}),l},i.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1?(e[t].title=null,e[t].label=null):n.colIndex!==parseInt((n.cols-1)/2)&&(e[t].title=null)},i.setYAxis=function(t,e,n){0!==n.colIndex?(e[t].title=null,e[t].label=null):n.rowIndex!==parseInt((n.rows-1)/2)&&(e[t].title=null)},i.renderTitle=function(t,e){0===e.rowIndex&&this.drawColTitle(t,e),e.colIndex===e.cols-1&&this.drawRowTitle(t,e)},r}(n(625));t.exports=r},function(t,e,n){var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="list",t.cols=null,t},i.generateFacets=function(u){var c=this,l=c.fields[0];if(!l)throw"Please specify for the field for facet!";var f=c.getFieldValues(l,u),h=f.length,p=c.cols||h,d=parseInt((h+p-1)/p),g=[];return f.forEach(function(t,e){var n=parseInt(e/p),r=e%p,i=[{field:l,value:t,values:f}],o=c.getFilter(i),a=u.filter(o),s={type:c.type,count:h,colValue:t,colField:l,rowField:null,rowValue:t,colIndex:r,rowIndex:n,cols:p,rows:d,data:a,region:c.getRegion(d,p,r,n)};g.push(s)}),g},i.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1&&n.cols*n.rowIndex+n.colIndex+1+n.cols<=n.count&&(e[t].label=null,e[t].title=null)},i.setYAxis=function(t,e,n){0!==n.colIndex&&(e[t].title=null,e[t].label=null)},r}(n(625));t.exports=r},function(t,e,n){var a=n(575),s=n(680);t.exports=function(t,e){var n=a(e),r=n.length;if(s(t))return!r;for(var i=0;i<r;i+=1){var o=n[i];if(e[o]!==t[o]||!(o in t))return!1}return!0}},function(t,e,n){var r=n(547),i=n(543),o=n(529),a=n(860),s=n(1136);t.exports=function(t,e){if(r(t))return e?t:t();if(i(t)){if(o[t])return e?o[t]:o[t]();if(a[t])return e?a[t]:a[t]();if(s[t])return e?s[t]:s[t]()}return null}},function(t,e,n){"use strict";n.r(e);var r=n(818);n.d(e,"path",function(){return r.a})},function(t,e,n){"use strict";var w=Math.PI,h=2*w,p=h-1e-6;function r(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function i(){return new r}r.prototype=i.prototype={constructor:r,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o,a,s,u,c,l,f,h,p,d=this._x1,g=this._y1,v=n-t,y=r-e,m=d-t,x=g-e,b=m*m+x*x;if(i<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+(this._x1=t)+","+(this._y1=e):1e-6<b&&(1e-6<Math.abs(x*v-y*m)&&i?(s=v*v+y*y,u=(o=n-d)*o+(a=r-g)*a,c=Math.sqrt(s),l=Math.sqrt(b),h=(f=i*Math.tan((w-Math.acos((s+b-u)/(2*c*l)))/2))/l,p=f/c,1e-6<Math.abs(h-1)&&(this._+="L"+(t+h*m)+","+(e+h*x)),this._+="A"+i+","+i+",0,0,"+ +(m*a<x*o)+","+(this._x1=t+p*v)+","+(this._y1=e+p*y)):this._+="L"+(this._x1=t)+","+(this._y1=e))},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(1e-6<Math.abs(this._x1-u)||1e-6<Math.abs(this._y1-c))&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%h+h),p<f?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):1e-6<f&&(this._+="A"+n+","+n+",0,"+ +(w<=f)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},e.a=i},function(t,e,n){var o=n(537);t.exports=function t(e,n){var r=1<arguments.length&&void 0!==n?n:[];if(o(e))for(var i=0;i<e.length;i+=1)t(e[i],r);else r.push(e);return r}},function(t,e){t.exports=function(t){for(var e=1/t,n=[],r=0;r<=1;r+=e)n.push(r);return n}},function(t,e,n){var i=n(822),o=n(598),r=n(529).geoPath,a=n(531),s=a.GEO,u=a.registerConnector,c=r();function l(t,e,n){n.dataType=s;var r=o(t.features);return r.forEach(function(e){e.name=e.properties.name,e.longitude=[],e.latitude=[];var t=e.pathData=c(e);i(t)._path.forEach(function(t){e.longitude.push(t[1]),e.latitude.push(t[2])});var n=c.centroid(e);e.centroidX=n[0],e.centroidY=n[1]}),r}u("geo",l),u("geojson",l),u("GeoJSON",l),t.exports=l},function(t,e,n){var r=n(1146),i=n(343),o=n(1147);function a(t){if(!(this instanceof a))return new a(t);this._path=i(t)?t:r(t),this._path=o(this._path),this._path=function(t){for(var e=[],n=["L",0,0],r=0,i=t.length;r<i;r++){var o=t[r];switch(o[0]){case"M":n=["L",o[1],o[2]],e.push(o);break;case"Z":e.push(n);break;default:e.push(o)}}return e}(this._path)}function w(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}(t.exports=a).prototype.at=function(t,e){return this._walk(t,e).pos},a.prototype.length=function(){return this._walk(null).length},a.prototype._walk=function(t,e){var n=[0,0],r=[0,0,0],i=0;"number"==typeof t&&(t*=1.045);for(var o,a,s,u,c,l,f,h,p=0;p<this._path.length;p++){var d=this._path[p];if("M"===d[0]){if(n[0]=d[1],n[1]=d[2],0===t)return{length:i,pos:n}}else if("C"===d[0]){r[0]=n[0],r[1]=n[1],r[2]=i;for(var g=100,v=0;v<=g;v++){var y=(f=d,h=b=v/g,Math.pow(1-h,3)*n[0]+3*Math.pow(1-h,2)*h*f[1]+3*(1-h)*Math.pow(h,2)*f[3]+Math.pow(h,3)*f[5]),m=(c=d,l=b,Math.pow(1-l,3)*n[1]+3*Math.pow(1-l,2)*l*c[2]+3*(1-l)*Math.pow(l,2)*c[4]+Math.pow(l,3)*c[6]);if(i+=w(n[0],n[1],y,m),n[0]=y,n[1]=m,"number"==typeof t&&t<=i){var x=(i-t)/(i-r[2]);return{length:i,pos:[n[0]*(1-x)+r[0]*x,n[1]*(1-x)+r[1]*x]}}r[0]=n[0],r[1]=n[1],r[2]=i}}else if("Q"===d[0]){r[0]=n[0],r[1]=n[1],r[2]=i;for(g=100,v=0;v<=g;v++){var b,y=(s=d,u=b=v/g,Math.pow(1-u,2)*n[0]+2*(1-u)*u*s[1]+Math.pow(u,2)*s[3]),m=(o=d,a=b,Math.pow(1-a,2)*n[1]+2*(1-a)*a*o[2]+Math.pow(a,2)*o[4]);if(i+=w(n[0],n[1],y,m),n[0]=y,n[1]=m,"number"==typeof t&&t<=i){x=(i-t)/(i-r[2]);return{length:i,pos:[n[0]*(1-x)+r[0]*x,n[1]*(1-x)+r[1]*x]}}r[0]=n[0],r[1]=n[1],r[2]=i}}else if("L"===d[0]){if(r[0]=n[0],r[1]=n[1],r[2]=i,i+=w(n[0],n[1],d[1],d[2]),n[0]=d[1],n[1]=d[2],"number"==typeof t&&t<=i){x=(i-t)/(i-r[2]);return{length:i,pos:[n[0]*(1-x)+r[0]*x,n[1]*(1-x)+r[1]*x]}}r[0]=n[0],r[1]=n[1],r[2]=i}}return{length:i/1.045,pos:n}}},function(t,e,n){var r=n(683),i=Array.prototype.indexOf;t.exports=function(t,e){return!!r(t)&&-1<i.call(t,e)}},function(t,e,n){var y=n(713),m=n(686),x=n(703),b=n(1191),w=n(1193),_=n(1368),S=n(1371),M=n(1194),E=n(1195),C=n(828),P=n(1196),k=n(581),A=n(1200),T=n(1201),O=n(1372),I=n(548),j=n(639),R=n(1205),L=n(145),D=n(1207),B=n(573),F=1,N=2,z=4,G="[object Arguments]",V="[object Function]",Y="[object GeneratorFunction]",H="[object Object]",q={};q[G]=q["[object Array]"]=q["[object ArrayBuffer]"]=q["[object DataView]"]=q["[object Boolean]"]=q["[object Date]"]=q["[object Float32Array]"]=q["[object Float64Array]"]=q["[object Int8Array]"]=q["[object Int16Array]"]=q["[object Int32Array]"]=q["[object Map]"]=q["[object Number]"]=q[H]=q["[object RegExp]"]=q["[object Set]"]=q["[object String]"]=q["[object Symbol]"]=q["[object Uint8Array]"]=q["[object Uint8ClampedArray]"]=q["[object Uint16Array]"]=q["[object Uint32Array]"]=!0,q["[object Error]"]=q[V]=q["[object WeakMap]"]=!1,t.exports=function n(r,i,o,t,e,a){var s,u=i&F,c=i&N,l=i&z;if(o&&(s=e?o(r,t,e,a):o(r)),void 0!==s)return s;if(!L(r))return r;var f=I(r);if(f){if(s=A(r),!u)return S(r,s)}else{var h=k(r),p=h==V||h==Y;if(j(r))return _(r,u);if(h==H||h==G||p&&!e){if(s=c||p?{}:O(r),!u)return c?E(r,w(s,r)):M(r,b(s,r))}else{if(!q[h])return e?r:{};s=T(r,h,u)}}var d=(a=a||new y).get(r);if(d)return d;a.set(r,s),D(r)?r.forEach(function(t){s.add(n(t,i,o,t,r,a))}):R(r)&&r.forEach(function(t,e){s.set(e,n(t,i,o,e,r,a))});var g=l?c?P:C:c?keysIn:B,v=f?void 0:g(r);return m(v||r,function(t,e){v&&(t=r[e=t]),x(s,e,n(t,i,o,e,r,a))}),s}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(689),i=n(907),o=n(688),a=n(826),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},function(t,e,n){var r=n(829),i=n(688),o=n(573);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var i=n(689),o=n(548);t.exports=function(t,e,n){var r=e(t);return o(t)?r:i(r,n(t))}},function(t,e,n){var r=n(605)(n(146),"Set");t.exports=r},function(t,e,n){t.exports=n(832)},function(t,e,n){var r=n(686),i=n(630),o=n(833),a=n(548);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},function(t,e,n){var r=n(604);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(825),i=n(1210),o=n(569),a=n(548);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){var a=n(1213),s=n(335);t.exports=function t(e,n,r,i,o){return e===n||(null==e||null==n||!s(e)&&!s(n)?e!=e&&n!=n:a(e,n,r,i,t,o))}},function(t,e,n){var v=n(837),y=n(1216),m=n(838);t.exports=function(t,e,n,r,i,o){var a=1&n,s=t.length,u=e.length;if(s!=u&&!(a&&s<u))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var l=-1,f=!0,h=2&n?new v:void 0;for(o.set(t,e),o.set(e,t);++l<s;){var p,d=t[l],g=e[l];if(r&&(p=a?r(g,d,l,e,t,o):r(d,g,l,t,e,o)),void 0!==p){if(p)continue;f=!1;break}if(h){if(!y(e,function(t,e){if(!m(h,e)&&(d===t||i(d,t,n,r,o)))return h.push(e)})){f=!1;break}}else if(d!==g&&!i(d,g,n,r,o)){f=!1;break}}return o.delete(t),o.delete(e),f}},function(t,e,n){var r=n(1346),i=n(1214),o=n(1215);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(145);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(e,n){return function(t){return null!=t&&(t[e]===n&&(void 0!==n||e in Object(t)))}}},function(t,e,n){var r=n(1222),i=n(707);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e){t.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(704),i=n(569),o=n(845),a=n(548);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var a=n(630),s=n(585);t.exports=function(t,r){var i=-1,o=s(t)?Array(t.length):[];return a(t,function(t,e,n){o[++i]=r(t,e,n)}),o}},function(t,e,n){var o=n(1226),a=n(630),s=n(569),u=n(1227),c=n(548);t.exports=function(t,e,n){var r=c(t)?o:u,i=arguments.length<3;return r(t,s(e,4),n,i,a)}},function(t,e){t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},function(t,e,n){var r=n(1245),i=n(573);t.exports=function(t){return null==t?[]:r(t,i(t))}},function(t,e,n){var r=n(556),i=n(850);t.exports=function(e,t,n,r){return function(t,n,o,e){function r(t){var e=t.v!==a?t.v:t.w,n=u[e],r=o(t),i=s.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+r);i<n.distance&&(n.distance=i,n.predecessor=a,c.decrease(e,i))}var a,s,u={},c=new i;t.nodes().forEach(function(t){var e=t===n?0:Number.POSITIVE_INFINITY;u[t]={distance:e},c.add(t,e)});for(;0<c.size()&&(a=c.removeMin(),(s=u[a]).distance!==Number.POSITIVE_INFINITY);)e(a).forEach(r);return u}(e,String(t),n||o,r||function(t){return e.outEdges(t)})};var o=r.constant(1)},function(t,e,n){var o=n(556);function r(){this._arr=[],this._keyIndices={}}(t.exports=r).prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map(function(t){return t.key})},r.prototype.has=function(t){return o.has(this._keyIndices,t)},r.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),o.has(n,t))return!1;var r=this._arr,i=r.length;return n[t]=i,r.push({key:t,priority:e}),this._decrease(i),!0},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},r.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},r.prototype._heapify=function(t){var e=this._arr,n=2*t,r=1+n,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},r.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},r.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e}},function(t,e,n){var l=n(556);t.exports=function(o){var a=0,s=[],u={},c=[];return o.nodes().forEach(function(t){l.has(u,t)||!function e(t){var n=u[t]={onStack:!0,lowlink:a,index:a++};s.push(t);o.successors(t).forEach(function(t){l.has(u,t)?u[t].onStack&&(n.lowlink=Math.min(n.lowlink,u[t].index)):(e(t),n.lowlink=Math.min(n.lowlink,u[t].lowlink))});if(n.lowlink===n.index){for(var r,i=[];r=s.pop(),u[r].onStack=!1,i.push(r),t!==r;);c.push(i)}}(t)}),c}},function(t,e,n){var a=n(556);function r(n){var r={},i={},o=[];if(a.each(n.sinks(),function t(e){if(a.has(i,e))throw new s;a.has(r,e)||(i[e]=!0,r[e]=!0,a.each(n.predecessors(e),t),delete i[e],o.push(e))}),a.size(r)!==n.nodeCount())throw new s;return o}function s(){}((t.exports=r).CycleException=s).prototype=new Error},function(t,e,n){var s=n(556);t.exports=function(e,t,n){s.isArray(t)||(t=[t]);var r=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],o={};return s.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);!function e(n,t,r,i,o,a){s.has(i,t)||(i[t]=!0,r||a.push(t),s.each(o(t),function(t){e(n,t,r,i,o,a)}),r&&a.push(t))}(e,t,"post"===n,o,r,i)}),i}},function(t,e,n){var r=n(342);t.exports=function(t){return t?(t=r(t))!==1/0&&t!==-1/0?t==t?t:0:17976931348623157e292*(t<0?-1:1):0===t?t:0}},function(t,e,n){var r=n(692);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,n){"use strict";var s=n(539),a=n(560).Graph,u=n(631).slack;t.exports=function(t){var e,n,r=new a({directed:!1}),i=t.nodes()[0],o=t.nodeCount();r.setNode(i,{});for(;function(o,a){return s.forEach(o.nodes(),function r(i){s.forEach(a.nodeEdges(i),function(t){var e=t.v,n=i===e?t.w:e;o.hasNode(n)||u(a,t)||(o.setNode(n,{}),o.setEdge(i,n,{}),r(n))})}),o.nodeCount()}(r,t)<o;)e=function(e,n){return s.minBy(n.edges(),function(t){if(e.hasNode(t.v)!==e.hasNode(t.w))return u(n,t)})}(r,t),n=r.hasNode(e.v)?u(t,e):-u(t,e),function(t,e,n){s.forEach(t.nodes(),function(t){e.node(t).rank+=n})}(r,t,n);return r}},function(t,e,n){var l=n(576),f={getId:function(t){return t.id||t.name},getHGap:function(t){return t.hgap||18},getVGap:function(t){return t.vgap||18},getChildren:function(t){return t.children},getHeight:function(t){return t.height||36},getWidth:function(t){var e=t.name||" ";return t.width||18*e.split("").length}};function h(t,e){var n=this;if(n.vgap=n.hgap=0,t instanceof h)return t;n.data=t;var r=e.getHGap(t),i=e.getVGap(t);return n.width=e.getWidth(t),n.height=e.getHeight(t),n.id=e.getId(t),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,i),n}l.assign(h.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(t,e){this.hgap+=t,this.vgap+=e,this.width+=2*t,this.height+=2*e},eachNode:function(t){for(var e,n=[this];e=n.pop();)t(e),n=n.concat(e.children)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e,n=[this];e=n.shift();)t(e),n=n.concat(e.children)},getBoundingBox:function(){var e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.width=Math.max(e.width,t.x+t.width),e.height=Math.max(e.height,t.y+t.height)}),e},translate:function(e,n){void 0===e&&(e=0),void 0===n&&(n=0),this.eachNode(function(t){t.x+=e,t.y+=n})},right2left:function(){var e=this.getBoundingBox();this.eachNode(function(t){t.x=t.x-2*(t.x-e.left)-t.width}),this.translate(e.width,0)},bottom2top:function(){var e=this.getBoundingBox();this.eachNode(function(t){t.y=t.y-2*(t.y-e.top)-t.height}),this.translate(0,e.height)}}),t.exports=function(t,e,n){void 0===e&&(e={});var r,i=new h(t,e=l.assign({},f,e)),o=[i];if(!n&&!t.collapsed)for(;r=o.pop();)if(!r.data.collapsed){var a=e.getChildren(r.data),s=a?a.length:0;if(r.children=new Array(s),a&&s)for(var u=0;u<s;u++){var c=new h(a[u],e);r.children[u]=c,o.push(c),c.parent=r,c.depth=r.depth+1}}return i}},function(t,e,n){var c=n(858);t.exports=function(t,e){for(var n=c(t.data,e,!0),r=c(t.data,e,!0),i=t.children.length,o=Math.round(i/2),a=e.getSide||function(t,e){return e<o?"right":"left"},s=0;s<i;s++){var u=t.children[s];"right"===a(u,s)?r.children.push(u):n.children.push(u)}return n.eachNode(function(t){t.isRoot()||(t.side="left")}),r.eachNode(function(t){t.isRoot()||(t.side="right")}),{left:n,right:r}}},function(t,e,n){"use strict";n.r(e),n.d(e,"geoAiry",function(){return i}),n.d(e,"geoAiryRaw",function(){return r}),n.d(e,"geoAitoff",function(){return a}),n.d(e,"geoAitoffRaw",function(){return o}),n.d(e,"geoArmadillo",function(){return l}),n.d(e,"geoArmadilloRaw",function(){return c}),n.d(e,"geoAugust",function(){return h}),n.d(e,"geoAugustRaw",function(){return $}),n.d(e,"geoBaker",function(){return T}),n.d(e,"geoBakerRaw",function(){return A}),n.d(e,"geoBerghaus",function(){return I}),n.d(e,"geoBerghausRaw",function(){return O}),n.d(e,"geoBoggs",function(){return nt}),n.d(e,"geoBoggsRaw",function(){return tt}),n.d(e,"geoBonne",function(){return at}),n.d(e,"geoBonneRaw",function(){return ot}),n.d(e,"geoBottomley",function(){return ut}),n.d(e,"geoBottomleyRaw",function(){return st}),n.d(e,"geoBromley",function(){return lt}),n.d(e,"geoBromleyRaw",function(){return ct}),n.d(e,"geoChamberlin",function(){return vt}),n.d(e,"geoChamberlinRaw",function(){return pt}),n.d(e,"geoChamberlinAfrica",function(){return gt}),n.d(e,"geoCollignon",function(){return mt}),n.d(e,"geoCollignonRaw",function(){return yt}),n.d(e,"geoCraig",function(){return bt}),n.d(e,"geoCraigRaw",function(){return xt}),n.d(e,"geoCraster",function(){return St}),n.d(e,"geoCrasterRaw",function(){return _t}),n.d(e,"geoCylindricalEqualArea",function(){return Et}),n.d(e,"geoCylindricalEqualAreaRaw",function(){return Mt}),n.d(e,"geoCylindricalStereographic",function(){return Pt}),n.d(e,"geoCylindricalStereographicRaw",function(){return Ct}),n.d(e,"geoEckert1",function(){return At}),n.d(e,"geoEckert1Raw",function(){return kt}),n.d(e,"geoEckert2",function(){return Ot}),n.d(e,"geoEckert2Raw",function(){return Tt}),n.d(e,"geoEckert3",function(){return jt}),n.d(e,"geoEckert3Raw",function(){return It}),n.d(e,"geoEckert4",function(){return Lt}),n.d(e,"geoEckert4Raw",function(){return Rt}),n.d(e,"geoEckert5",function(){return Bt}),n.d(e,"geoEckert5Raw",function(){return Dt}),n.d(e,"geoEckert6",function(){return Nt}),n.d(e,"geoEckert6Raw",function(){return Ft}),n.d(e,"geoEisenlohr",function(){return Vt}),n.d(e,"geoEisenlohrRaw",function(){return Gt}),n.d(e,"geoFahey",function(){return qt}),n.d(e,"geoFaheyRaw",function(){return Ht}),n.d(e,"geoFoucaut",function(){return Xt}),n.d(e,"geoFoucautRaw",function(){return Wt}),n.d(e,"geoGilbert",function(){return Qt}),n.d(e,"geoGingery",function(){return ee}),n.d(e,"geoGingeryRaw",function(){return Jt}),n.d(e,"geoGinzburg4",function(){return re}),n.d(e,"geoGinzburg4Raw",function(){return ne}),n.d(e,"geoGinzburg5",function(){return oe}),n.d(e,"geoGinzburg5Raw",function(){return ie}),n.d(e,"geoGinzburg6",function(){return se}),n.d(e,"geoGinzburg6Raw",function(){return ae}),n.d(e,"geoGinzburg8",function(){return le}),n.d(e,"geoGinzburg8Raw",function(){return ue}),n.d(e,"geoGinzburg9",function(){return he}),n.d(e,"geoGinzburg9Raw",function(){return fe}),n.d(e,"geoGringorten",function(){return de}),n.d(e,"geoGringortenRaw",function(){return pe}),n.d(e,"geoGuyou",function(){return me}),n.d(e,"geoGuyouRaw",function(){return ye}),n.d(e,"geoHammer",function(){return we}),n.d(e,"geoHammerRaw",function(){return xe}),n.d(e,"geoHammerRetroazimuthal",function(){return Me}),n.d(e,"geoHammerRetroazimuthalRaw",function(){return _e}),n.d(e,"geoHealpix",function(){return Ae}),n.d(e,"geoHealpixRaw",function(){return ke}),n.d(e,"geoHill",function(){return Oe}),n.d(e,"geoHillRaw",function(){return Te}),n.d(e,"geoHomolosine",function(){return Be}),n.d(e,"geoHomolosineRaw",function(){return De}),n.d(e,"geoInterrupt",function(){return Ne}),n.d(e,"geoInterruptedBoggs",function(){return Ge}),n.d(e,"geoInterruptedHomolosine",function(){return Ye}),n.d(e,"geoInterruptedMollweide",function(){return qe}),n.d(e,"geoInterruptedMollweideHemispheres",function(){return Xe}),n.d(e,"geoInterruptedSinuMollweide",function(){return Ze}),n.d(e,"geoInterruptedSinusoidal",function(){return Je}),n.d(e,"geoKavrayskiy7",function(){return Ke}),n.d(e,"geoKavrayskiy7Raw",function(){return $e}),n.d(e,"geoLagrange",function(){return en}),n.d(e,"geoLagrangeRaw",function(){return tn}),n.d(e,"geoLarrivee",function(){return on}),n.d(e,"geoLarriveeRaw",function(){return rn}),n.d(e,"geoLaskowski",function(){return sn}),n.d(e,"geoLaskowskiRaw",function(){return an}),n.d(e,"geoLittrow",function(){return cn}),n.d(e,"geoLittrowRaw",function(){return un}),n.d(e,"geoLoximuthal",function(){return fn}),n.d(e,"geoLoximuthalRaw",function(){return ln}),n.d(e,"geoMiller",function(){return pn}),n.d(e,"geoMillerRaw",function(){return hn}),n.d(e,"geoModifiedStereographic",function(){return En}),n.d(e,"geoModifiedStereographicRaw",function(){return dn}),n.d(e,"geoModifiedStereographicAlaska",function(){return bn}),n.d(e,"geoModifiedStereographicGs48",function(){return wn}),n.d(e,"geoModifiedStereographicGs50",function(){return _n}),n.d(e,"geoModifiedStereographicMiller",function(){return Sn}),n.d(e,"geoModifiedStereographicLee",function(){return Mn}),n.d(e,"geoMollweide",function(){return D}),n.d(e,"geoMollweideRaw",function(){return L}),n.d(e,"geoMtFlatPolarParabolic",function(){return An}),n.d(e,"geoMtFlatPolarParabolicRaw",function(){return kn}),n.d(e,"geoMtFlatPolarQuartic",function(){return On}),n.d(e,"geoMtFlatPolarQuarticRaw",function(){return Tn}),n.d(e,"geoMtFlatPolarSinusoidal",function(){return jn}),n.d(e,"geoMtFlatPolarSinusoidalRaw",function(){return In}),n.d(e,"geoNaturalEarth",function(){return Ln}),n.d(e,"geoNaturalEarthRaw",function(){return Rn}),n.d(e,"geoNaturalEarth2",function(){return Bn}),n.d(e,"geoNaturalEarth2Raw",function(){return Dn}),n.d(e,"geoNellHammer",function(){return Nn}),n.d(e,"geoNellHammerRaw",function(){return Fn}),n.d(e,"geoPatterson",function(){return Qn}),n.d(e,"geoPattersonRaw",function(){return Zn}),n.d(e,"geoPolyconic",function(){return Kn}),n.d(e,"geoPolyconicRaw",function(){return Jn}),n.d(e,"geoPolyhedral",function(){return rr}),n.d(e,"geoPolyhedralButterfly",function(){return lr}),n.d(e,"geoPolyhedralCollignon",function(){return pr}),n.d(e,"geoPolyhedralWaterman",function(){return dr}),n.d(e,"geoProject",function(){return xr}),n.d(e,"geoGringortenQuincuncial",function(){return Ar}),n.d(e,"geoPeirceQuincuncial",function(){return Tr}),n.d(e,"geoPierceQuincuncial",function(){return Tr}),n.d(e,"geoQuantize",function(){return Or}),n.d(e,"geoQuincuncial",function(){return kr}),n.d(e,"geoRectangularPolyconic",function(){return jr}),n.d(e,"geoRectangularPolyconicRaw",function(){return Ir}),n.d(e,"geoRobinson",function(){return Dr}),n.d(e,"geoRobinsonRaw",function(){return Lr}),n.d(e,"geoSatellite",function(){return Fr}),n.d(e,"geoSatelliteRaw",function(){return Br}),n.d(e,"geoSinuMollweide",function(){return Le}),n.d(e,"geoSinuMollweideRaw",function(){return Re}),n.d(e,"geoSinusoidal",function(){return it}),n.d(e,"geoSinusoidalRaw",function(){return rt}),n.d(e,"geoStitch",function(){return ni}),n.d(e,"geoTimes",function(){return ii}),n.d(e,"geoTimesRaw",function(){return ri}),n.d(e,"geoTwoPointAzimuthal",function(){return ui}),n.d(e,"geoTwoPointAzimuthalRaw",function(){return ai}),n.d(e,"geoTwoPointAzimuthalUsa",function(){return si}),n.d(e,"geoTwoPointEquidistant",function(){return fi}),n.d(e,"geoTwoPointEquidistantRaw",function(){return ci}),n.d(e,"geoTwoPointEquidistantUsa",function(){return li}),n.d(e,"geoVanDerGrinten",function(){return pi}),n.d(e,"geoVanDerGrintenRaw",function(){return hi}),n.d(e,"geoVanDerGrinten2",function(){return gi}),n.d(e,"geoVanDerGrinten2Raw",function(){return di}),n.d(e,"geoVanDerGrinten3",function(){return yi}),n.d(e,"geoVanDerGrinten3Raw",function(){return vi}),n.d(e,"geoVanDerGrinten4",function(){return xi}),n.d(e,"geoVanDerGrinten4Raw",function(){return mi}),n.d(e,"geoWagner4",function(){return Si}),n.d(e,"geoWagner4Raw",function(){return _i}),n.d(e,"geoWagner6",function(){return Ei}),n.d(e,"geoWagner6Raw",function(){return Mi}),n.d(e,"geoWagner7",function(){return Pi}),n.d(e,"geoWagner7Raw",function(){return Ci}),n.d(e,"geoWiechel",function(){return Ai}),n.d(e,"geoWiechelRaw",function(){return ki}),n.d(e,"geoWinkel3",function(){return Oi}),n.d(e,"geoWinkel3Raw",function(){return Ti});var w=n(529),z=Math.abs,F=Math.atan,M=Math.atan2,G=(Math.ceil,Math.cos),v=Math.exp,x=Math.floor,N=Math.log,V=Math.max,Y=Math.min,s=Math.pow,_=Math.round,m=Math.sign||function(t){return 0<t?1:t<0?-1:0},H=Math.sin,d=Math.tan,q=1e-6,S=1e-12,W=Math.PI,X=W/2,u=W/4,U=Math.SQRT1_2,Z=J(2),g=J(W),y=2*W,b=180/W,E=W/180;function Q(t){return 1<t?X:t<-1?-X:Math.asin(t)}function C(t){return 1<t?0:t<-1?W:Math.acos(t)}function J(t){return 0<t?Math.sqrt(t):0}function P(t){return(v(t)-v(-t))/2}function f(t){return(v(t)+v(-t))/2}function r(h){var t=d(h/2),p=2*N(G(h/2))/(t*t);function e(t,e){var n=G(t),r=G(e),i=H(e),o=r*n,a=-((1-o?N((1+o)/2)/(1-o):-.5)+p/(1+o));return[a*r*H(t),a*i]}return e.invert=function(t,e){var n,r=J(t*t+e*e),i=-h/2,o=50;if(!r)return[0,0];do{var a=i/2,s=G(a),u=H(a),c=d(a),l=N(1/s);i-=n=(2/c*l-p*c-r)/(-l/(u*u)+1-p/(2*s*s))}while(z(n)>q&&0<--o);var f=H(i);return[M(t*f,r*G(i)),Q(e*f/r)]},e}var i=function(){var e=X,n=Object(w.geoProjectionMutator)(r),t=n(e);return t.radius=function(t){return arguments.length?n(e=t*E):e*b},t.scale(179.976).clipAngle(147)};function o(t,e){var n,r=G(e),i=(n=C(r*G(t/=2)))?n/Math.sin(n):1;return[2*r*H(t)*i,H(e)*i]}o.invert=function(t,e){if(!(W*W+q<t*t+4*e*e)){var n=t,r=e,i=25;do{var o,a=H(n),s=H(n/2),u=G(n/2),c=H(r),l=G(r),f=H(2*r),h=c*c,p=l*l,d=s*s,g=1-p*u*u,v=g?C(l*u)*J(o=1/g):o=0,y=2*v*l*s-t,m=v*c-e,x=o*(p*d+v*l*u*h),b=o*(.5*a*f-2*v*c*s),w=.25*o*(f*s-v*c*p*a),_=o*(h*u+v*d*l),S=b*w-_*x;if(!S)break;var M=(m*b-y*_)/S,E=(y*w-m*x)/S;n-=M,r-=E}while((z(M)>q||z(E)>q)&&0<--i);return[n,r]}};var a=function(){return Object(w.geoProjection)(o).scale(152.63)};function c(t){var x=H(t),b=G(t),w=0<=t?1:-1,_=d(w*t),S=(1+x-b)/2;function e(t,e){var n=G(e),r=G(t/=2);return[(1+n)*H(t),(w*e>-M(r,_)-.001?0:10*-w)+S+H(e)*b-(1+n)*x*r]}return e.invert=function(t,e){var n=0,r=0,i=50;do{var o=G(n),a=H(n),s=G(r),u=H(r),c=1+s,l=c*a-t,f=S+u*b-c*x*o-e,h=c*o/2,p=-a*u,d=x*c*a/2,g=b*s+x*o*u,v=p*d-g*h,y=(f*p-l*g)/v/2,m=(l*d-f*h)/v;n-=y,r-=m}while((z(y)>q||z(m)>q)&&0<--i);return w*r>-M(G(n),_)-.001?[2*n,r]:null},e}var l=function(){var i=20*E,o=0<=i?1:-1,a=d(o*i),e=Object(w.geoProjectionMutator)(c),s=e(i),u=s.stream;return s.parallel=function(t){return arguments.length?(a=d((o=0<=(i=t*E)?1:-1)*i),e(i)):i*b},s.stream=function(t){var e=s.rotate(),n=u(t),r=(s.rotate([0,0]),u(t));return s.rotate(e),n.sphere=function(){r.polygonStart(),r.lineStart();for(var t=-180*o;o*t<180;t+=90*o)r.point(t,90*o);for(;-180<=o*(t-=i);)r.point(t,o*-M(G(t*E/2),a)*b);r.lineEnd(),r.polygonEnd()},n},s.scale(218.695).center([0,28.0974])};function $(t,e){var n=d(e/2),r=J(1-n*n),i=1+r*G(t/=2),o=H(t)*r/i,a=n/i,s=o*o,u=a*a;return[4/3*o*(3+s-3*u),4/3*a*(3+3*s-u)]}$.invert=function(t,e){if(e*=3/8,!(t*=3/8)&&1<z(e))return null;var n,r,i=1+t*t+e*e,o=J((i-J(i*i-4*e*e))/2),a=Q(o)/3,s=o?(r=z(e/o),N(r+J(r*r-1))/3):(n=z(t),N(n+J(n*n+1))/3),u=G(a),c=f(s),l=c*c-u*u;return[2*m(t)*M(P(s)*u,.25-l),2*m(e)*M(c*H(a),.25+l)]};var h=function(){return Object(w.geoProjection)($).scale(66.1603)},p=J(8),k=N(1+Z);function A(t,e){var n=z(e);return n<u?[t,N(d(u+e/2))]:[t*G(n)*(2*Z-1/H(n)),m(e)*(2*Z*(n-u)-N(d(n/2)))]}A.invert=function(t,e){if((r=z(e))<k)return[t,2*F(v(e))-X];var n,r,i=u,o=25;do{var a=G(i/2),s=d(i/2);i-=n=(p*(i-u)-N(s)-r)/(p-a*a/(2*s))}while(z(n)>S&&0<--o);return[t/(G(i)*(p-1/H(i))),m(e)*i]};var T=function(){return Object(w.geoProjection)(A).scale(112.314)};function O(t){var u=2*W/t;function e(t,e){var n,r,i,o,a=Object(w.geoAzimuthalEquidistantRaw)(t,e);return z(t)>X&&(o=M(a[1],a[0]),n=J(a[0]*a[0]+a[1]*a[1]),r=u*_((o-X)/u)+X,i=M(H(o-=r),2-G(o)),o=r+Q(W/n*H(i))-i,a[0]=n*G(o),a[1]=n*H(o)),a}return e.invert=function(t,e){var n,r,i,o,a,s=J(t*t+e*e);return X<s&&(a=M(e,t),r=(n=u*_((a-X)/u)+X)<a?-1:1,i=s*G(n-a),o=1/d(r*C((i-W)/J(W*(W-2*i)+s*s))),a=n+2*F((o+r*J(o*o-3))/3),t=s*G(a),e=s*H(a)),w.geoAzimuthalEquidistantRaw.invert(t,e)},e}var I=function(){var a=5,e=Object(w.geoProjectionMutator)(O),r=e(a),i=r.stream,s=-G(.01*E),u=H(.01*E);return r.lobes=function(t){return arguments.length?e(a=+t):a},r.stream=function(t){var e=r.rotate(),n=i(t),o=(r.rotate([0,0]),i(t));return r.rotate(e),n.sphere=function(){o.polygonStart(),o.lineStart();for(var t=0,e=360/a,n=2*W/a,r=90-180/a,i=X;t<a;++t,r-=e,i-=n)o.point(M(u*G(i),s)*b,Q(u*H(i))*b),r<-90?(o.point(-90,-180-r-.01),o.point(-90,-180-r+.01)):(o.point(90,r+.01),o.point(90,r-.01));o.lineEnd(),o.polygonEnd()},n},r.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};function j(t,e){for(var n,r=t*H(e),i=30;e-=n=(e+H(e)-r)/(1+G(e)),z(n)>q&&0<--i;);return e/2}function R(n,r,i){function t(t,e){return[n*t*G(e=j(i,e)),r*H(e)]}return t.invert=function(t,e){return e=Q(e/r),[t/(n*G(e)),Q((2*e+H(2*e))/i)]},t}var L=R(Z/X,Z,W),D=function(){return Object(w.geoProjection)(L).scale(169.529)},B=2.00276,K=1.11072;function tt(t,e){var n=j(W,e);return[B*t/(1/G(e)+K/G(n)),(e+Z*H(n))/B]}tt.invert=function(t,e){for(var n,r,i=B*e,o=e<0?-u:u,a=25;r=i-Z*H(o),o-=n=(H(2*o)+2*o-W*H(r))/(2*G(2*o)+2+W*G(r)*Z*G(o)),z(n)>q&&0<--a;);return r=i-Z*H(o),[t*(1/G(r)+K/G(o))/B,r]};function et(t){var e=0,n=Object(w.geoProjectionMutator)(t),r=n(e);return r.parallel=function(t){return arguments.length?n(e=t*E):e*b},r}var nt=function(){return Object(w.geoProjection)(tt).scale(160.857)};function rt(t,e){return[t*G(e),e]}rt.invert=function(t,e){return[t/G(e),e]};var it=function(){return Object(w.geoProjection)(rt).scale(152.63)};function ot(i){if(!i)return rt;var o=1/d(i);function t(t,e){var n=o+i-e,r=n?t*G(e)/n:n;return[n*H(r),o-n*G(r)]}return t.invert=function(t,e){var n=J(t*t+(e=o-e)*e),r=o+i-n;return[n/G(r)*M(t,e),r]},t}var at=function(){return et(ot).scale(123.082).center([0,26.1441]).parallel(45)};function st(a){function t(t,e){var n=X-e,r=n?t*a*H(n)/n:n;return[n*H(r)/a,X-n*G(r)]}return t.invert=function(t,e){var n=t*a,r=X-e,i=J(n*n+r*r),o=M(n,r);return[(i?i/H(i):1)*o/a,X-i]},t}var ut=function(){var e=.5,n=Object(w.geoProjectionMutator)(st),t=n(e);return t.fraction=function(t){return arguments.length?n(e=+t):e},t.scale(158.837)},ct=R(1,4/W,W),lt=function(){return Object(w.geoProjection)(ct).scale(152.63)};function ft(t,e,n,r,i,o){var a,s,u,c=G(o);return u=1<z(t)||1<z(o)?C(n*i+e*r*c):2*Q(J((a=H(t/2))*a+e*r*(s=H(o/2))*s)),z(u)>q?[u,M(r*H(o),e*i-n*r*c)]:[0,0]}function ht(t,e,n){return C((t*t+e*e-n*n)/(2*t*e))}function pt(t,e,n){for(var r,f=[[t[0],t[1],H(t[1]),G(t[1])],[e[0],e[1],H(e[1]),G(e[1])],[n[0],n[1],H(n[1]),G(n[1])]],i=f[2],o=0;o<3;++o,i=r)r=f[o],i.v=ft(r[1]-i[1],i[3],i[2],r[3],r[2],r[0]-i[0]),i.point=[0,0];var a=ht(f[0].v[0],f[2].v[0],f[1].v[0]),h=ht(f[0].v[0],f[1].v[0],f[2].v[0]),p=W-a;f[2].point[1]=0,f[0].point[0]=-(f[1].point[0]=f[0].v[0]/2);var d=[f[2].point[0]=f[0].point[0]+f[2].v[0]*G(a),2*(f[0].point[1]=f[1].point[1]=f[2].v[0]*H(a))];return function(t,e){for(var n,r=H(e),i=G(e),o=new Array(3),a=0;a<3;++a){var s=f[a];if(o[a]=ft(e-s[1],s[3],s[2],i,r,t-s[0]),!o[a][0])return s.point;o[a][1]=(n=o[a][1]-s.v[1])-2*W*x((n+W)/(2*W))}var u=d.slice();for(a=0;a<3;++a){var c=2==a?0:a+1,l=ht(f[a].v[0],o[a][0],o[c][0]);o[a][1]<0&&(l=-l),a?1==a?(l=h-l,u[0]-=o[a][0]*G(l),u[1]-=o[a][0]*H(l)):(l=p-l,u[0]+=o[a][0]*G(l),u[1]+=o[a][0]*H(l)):(u[0]+=o[a][0]*G(l),u[1]-=o[a][0]*H(l))}return u[0]/=3,u[1]/=3,u}}function dt(t){return t[0]*=E,t[1]*=E,t}function gt(){return vt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function vt(t,e,n){var r=Object(w.geoCentroid)({type:"MultiPoint",coordinates:[t,e,n]}),i=[-r[0],-r[1]],o=Object(w.geoRotation)(i),a=Object(w.geoProjection)(pt(dt(o(t)),dt(o(e)),dt(o(n)))).rotate(i),s=a.center;return delete a.rotate,a.center=function(t){return arguments.length?s(o(t)):o.invert(s())},a.clipAngle(90)}function yt(t,e){var n=J(1-H(e));return[2/g*t*n,g*(1-n)]}yt.invert=function(t,e){var n=(n=e/g-1)*n;return[0<n?t*J(W/n)/2:0,Q(1-n)]};var mt=function(){return Object(w.geoProjection)(yt).scale(95.6464).center([0,30])};function xt(t){var r=d(t);function e(t,e){return[t,(t?t/H(t):1)*(H(e)*G(t)-r*G(e))]}return e.invert=r?function(t,e){t&&(e*=H(t)/t);var n=G(t);return[t,2*M(J(n*n+r*r-e*e)-n,r-e)]}:function(t,e){return[t,Q(t?e*d(t)/t:e)]},e}var bt=function(){return et(xt).scale(249.828).clipAngle(90)},wt=J(3);function _t(t,e){return[wt*t*(2*G(2*e/3)-1)/g,wt*g*H(e/3)]}_t.invert=function(t,e){var n=3*Q(e/(wt*g));return[g*t/(wt*(2*G(2*n/3)-1)),n]};var St=function(){return Object(w.geoProjection)(_t).scale(156.19)};function Mt(t){var n=G(t);function e(t,e){return[t*n,H(e)/n]}return e.invert=function(t,e){return[t/n,Q(e*n)]},e}var Et=function(){return et(Mt).parallel(38.58).scale(195.044)};function Ct(t){var n=G(t);function e(t,e){return[t*n,(1+n)*d(e/2)]}return e.invert=function(t,e){return[t/n,2*F(e/(1+n))]},e}var Pt=function(){return et(Ct).scale(124.75)};function kt(t,e){var n=J(8/(3*W));return[n*t*(1-z(e)/W),n*e]}kt.invert=function(t,e){var n=J(8/(3*W)),r=e/n;return[t/(n*(1-z(r)/W)),r]};var At=function(){return Object(w.geoProjection)(kt).scale(165.664)};function Tt(t,e){var n=J(4-3*H(z(e)));return[2/J(6*W)*t*n,m(e)*J(2*W/3)*(2-n)]}Tt.invert=function(t,e){var n=2-z(e)/J(2*W/3);return[t*J(6*W)/(2*n),m(e)*Q((4-n*n)/3)]};var Ot=function(){return Object(w.geoProjection)(Tt).scale(165.664)};function It(t,e){var n=J(W*(4+W));return[2/n*t*(1+J(1-4*e*e/(W*W))),4/n*e]}It.invert=function(t,e){var n=J(W*(4+W))/2;return[t*n/(1+J(1-e*e*(4+W)/(4*W))),e*n/2]};var jt=function(){return Object(w.geoProjection)(It).scale(180.739)};function Rt(t,e){var n=(2+X)*H(e);e/=2;for(var r=0,i=1/0;r<10&&z(i)>q;r++){var o=G(e);e-=i=(e+H(e)*(o+2)-n)/(2*o*(1+o))}return[2/J(W*(4+W))*t*(1+G(e)),2*J(W/(4+W))*H(e)]}Rt.invert=function(t,e){var n=e*J((4+W)/W)/2,r=Q(n),i=G(r);return[t/(2/J(W*(4+W))*(1+i)),Q((r+n*(i+2))/(2+X))]};var Lt=function(){return Object(w.geoProjection)(Rt).scale(180.739)};function Dt(t,e){return[t*(1+G(e))/J(2+W),2*e/J(2+W)]}Dt.invert=function(t,e){var n=J(2+W),r=e*n/2;return[n*t/(1+G(r)),r]};var Bt=function(){return Object(w.geoProjection)(Dt).scale(173.044)};function Ft(t,e){for(var n=(1+X)*H(e),r=0,i=1/0;r<10&&z(i)>q;r++)e-=i=(e+H(e)-n)/(1+G(e));return n=J(2+W),[t*(1+G(e))/n,2*e/n]}Ft.invert=function(t,e){var n=1+X,r=J(n/2);return[2*t*r/(1+G(e*=r)),Q((e+H(e))/n)]};var Nt=function(){return Object(w.geoProjection)(Ft).scale(173.044)},zt=3+2*Z;function Gt(t,e){var n=H(t/=2),r=G(t),i=J(G(e)),o=G(e/=2),a=H(e)/(o+Z*r*i),s=J(2/(1+a*a)),u=J((Z*o+(r+n)*i)/(Z*o+(r-n)*i));return[zt*(s*(u-1/u)-2*N(u)),zt*(s*a*(u+1/u)-2*F(a))]}Gt.invert=function(t,e){if(!(n=$.invert(t/1.2,1.065*e)))return null;var n,r=n[0],i=n[1],o=20;t/=zt,e/=zt;do{var a=r/2,s=i/2,u=H(a),c=G(a),l=H(s),f=G(s),h=G(i),p=J(h),d=l/(f+Z*c*p),g=d*d,v=J(2/(1+g)),y=(Z*f+(c+u)*p)/(Z*f+(c-u)*p),m=J(y),x=m-1/m,b=m+1/m,w=v*x-2*N(m)-t,_=v*d*b-2*F(d)-e,S=l&&U*p*u*g/l,M=(Z*c*f+p)/(2*(f+Z*c*p)*(f+Z*c*p)*p),E=-.5*d*v*v*v,C=E*S,P=E*M,k=(k=2*f+Z*p*(c-u))*k*m,A=(Z*c*f*p+h)/k,T=-Z*u*l/(p*k),O=x*C-2*A/m+v*(A+A/y),I=x*P-2*T/m+v*(T+T/y),j=d*b*C-2*S/(1+g)+v*b*S+v*d*(A-A/y),R=d*b*P-2*M/(1+g)+v*b*M+v*d*(T-T/y),L=I*j-R*O;if(!L)break;var D=(_*I-w*R)/L,B=(w*j-_*O)/L;r-=D,i=V(-X,Y(X,i-B))}while((z(D)>q||z(B)>q)&&0<--o);return z(z(i)-X)<q?[0,i]:o&&[r,i]};var Vt=function(){return Object(w.geoProjection)(Gt).scale(62.5271)},Yt=G(35*E);function Ht(t,e){var n=d(e/2);return[t*Yt*J(1-n*n),(1+Yt)*n]}Ht.invert=function(t,e){var n=e/(1+Yt);return[t&&t/(Yt*J(1-n*n)),2*F(n)]};var qt=function(){return Object(w.geoProjection)(Ht).scale(137.152)};function Wt(t,e){var n=e/2,r=G(n);return[2*t/g*G(e)*r*r,g*d(n)]}Wt.invert=function(t,e){var n=F(e/g),r=G(n),i=2*n;return[t*g/2/(G(i)*r*r),i]};var Xt=function(){return Object(w.geoProjection)(Wt).scale(135.264)};function Ut(t){return[t[0]/2,Q(d(t[1]/2*E))*b]}function Zt(t){return[2*t[0],2*F(H(t[1]*E))*b]}var Qt=function(t){null==t&&(t=w.geoOrthographic);var r=t(),i=Object(w.geoEquirectangular)().scale(b).precision(0).clipAngle(null).translate([0,0]);function n(t){return r(Ut(t))}function e(e){n[e]=function(t){return arguments.length?(r[e](t),n):r[e]()}}return r.invert&&(n.invert=function(t){return Zt(r.invert(t))}),n.stream=function(t){var n=r.stream(t),e=i.stream({point:function(t,e){n.point(t/2,Q(d(-e/2*E))*b)},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}});return e.sphere=n.sphere,e},n.rotate=function(t){return arguments.length?(i.rotate(t),n):i.rotate()},n.center=function(t){return arguments.length?(r.center(Ut(t)),n):Zt(r.center())},e("clipAngle"),e("clipExtent"),e("scale"),e("translate"),e("precision"),n.scale(249.5)};function Jt(m,t){var x=2*W/t,b=m*m;function e(t,e){var n=Object(w.geoAzimuthalEquidistantRaw)(t,e),r=n[0],i=n[1],o=r*r+i*i;if(b<o){for(var a,s=J(o),u=M(i,r),c=x*_(u/x),l=u-c,f=m*G(l),h=(m*H(l)-l*H(f))/(X-f),p=$t(l,h),d=(W-m)/Kt(p,f,W),r=s,g=50;r-=a=(m+Kt(p,f,r)*d-s)/(p(r)*d),z(a)>q&&0<--g;);i=l*H(r),r<X&&(i-=h*(r-X));var v=H(c),y=G(c);n[0]=r*y-i*v,n[1]=r*v+i*y}return n}return e.invert=function(t,e){var n=t*t+e*e;if(b<n){var r=J(n),i=M(e,t),o=x*_(i/x),a=i-o;t=r*G(a),e=r*H(a);for(var s=t-X,u=H(t),c=e/u,l=t<X?1/0:0,f=10;;){var h=m*H(c),p=m*G(c),d=H(p),g=X-p,v=(h-c*d)/g,y=$t(c,v);if(z(l)<S||!--f)break;c-=l=(c*u-v*s-e)/(u-2*s*(g*(p+c*h*G(p)-d)-h*(h-c*d))/(g*g))}t=(r=m+Kt(y,p,t)*(W-m)/Kt(y,p,W))*G(i=o+c),e=r*H(i)}return w.geoAzimuthalEquidistantRaw.invert(t,e)},e}function $t(n,r){return function(t){var e=n*G(t);return t<X&&(e-=r),J(1+e*e)}}function Kt(t,e,n){for(var r=(n-e)/50,i=t(e)+t(n),o=1,a=e;o<50;++o)i+=2*t(a+=r);return.5*i*r}function te(I,j,R,L,D,B,F,N){function t(t,e){if(!e)return[I*t/W,0];var n=e*e,r=I+n*(j+n*(R+n*L)),i=e*(D-1+n*(B-N+n*F)),o=(r*r+i*i)/(2*i),a=t*Q(r/o)/W;return[o*H(a),e*(1+n*N)+o*(1-G(a))]}return arguments.length<8&&(N=0),t.invert=function(t,e){var n,r,i=W*t/I,o=e,a=50;do{var s=o*o,u=I+s*(j+s*(R+s*L)),c=o*(D-1+s*(B-N+s*F)),l=u*u+c*c,f=2*c,h=l/f,p=h*h,d=Q(u/h)/W,g=i*d,v=u*u,y=(2*j+s*(4*R+6*s*L))*o,m=D+s*(3*B+5*s*F),x=(2*(u*y+c*(m-1))*f-l*(2*(m-1)))/(f*f),b=G(g),w=H(g),_=h*b,S=h*w,M=i/W*(1/J(1-v/p))*(y*h-u*x)/p,E=S-t,C=o*(1+s*N)+h-_-e,P=x*w+_*M,k=_*d,A=1+x-(x*b-S*M),T=S*d,O=P*T-A*k;if(!O)break;i-=n=(C*P-E*A)/O,o-=r=(E*T-C*k)/O}while((z(n)>q||z(r)>q)&&0<--a);return[i,o]},t}var ee=function(){var i=6,e=30*E,o=G(e),a=H(e),n=Object(w.geoProjectionMutator)(Jt),s=n(e,i),u=s.stream,c=-G(.01*E),l=H(.01*E);return s.radius=function(t){return arguments.length?(o=G(e=t*E),a=H(e),n(e,i)):e*b},s.lobes=function(t){return arguments.length?n(e,i=+t):i},s.stream=function(t){var e=s.rotate(),n=u(t),r=(s.rotate([0,0]),u(t));return s.rotate(e),n.sphere=function(){r.polygonStart(),r.lineStart();for(var t=0,e=2*W/i,n=0;t<i;++t,n-=e)r.point(M(l*G(n),c)*b,Q(l*H(n))*b),r.point(M(a*G(n-e/2),o)*b,Q(a*H(n-e/2))*b);r.lineEnd(),r.polygonEnd()},n},s.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},ne=te(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),re=function(){return Object(w.geoProjection)(ne).scale(149.995)},ie=te(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),oe=function(){return Object(w.geoProjection)(ie).scale(153.93)},ae=te(5/6*W,-.62636,-.0344,0,1.3493,-.05524,0,.045),se=function(){return Object(w.geoProjection)(ae).scale(130.945)};function ue(t,e){var n=t*t,r=e*e;return[t*(1-.162388*r)*(.87-952426e-9*n*n),e*(1+r/12)]}ue.invert=function(t,e){var n,r=t,i=e,o=50;do{var a=i*i;i-=n=(i*(1+a/12)-e)/(1+a/4)}while(z(n)>q&&0<--o);o=50,t/=1-.162388*a;do{var s=(s=r*r)*s;r-=n=(r*(.87-952426e-9*s)-t)/(.87-.00476213*s)}while(z(n)>q&&0<--o);return[r,i]};function ce(o){var a=o(X,0)[0]-o(-X,0)[0];function t(t,e){var n=0<t?-.5:.5,r=o(t+n*W,e);return r[0]-=n*a,r}return o.invert&&(t.invert=function(t,e){var n=0<t?-.5:.5,r=o.invert(t+n*a,e),i=r[0]-n*W;return i<-W?i+=2*W:W<i&&(i-=2*W),r[0]=i,r}),t}var le=function(){return Object(w.geoProjection)(ue).scale(131.747)},fe=te(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762),he=function(){return Object(w.geoProjection)(fe).scale(131.087)};function pe(t,e){var n=m(t),r=m(e),i=G(e),o=G(t)*i,a=H(t)*i,s=H(r*e);t=z(M(a,s)),e=Q(o),z(t-X)>q&&(t%=X);var u=function(t,e){if(e===X)return[0,0];var n,r,i=H(e),o=i*i,a=o*o,s=1+a,u=1+3*a,c=1-a,l=Q(1/J(s)),f=c+o*s*l,h=(1-i)/f,p=J(h),d=h*s,g=J(d),v=p*c;if(0===t)return[0,-(v+o*g)];var y,m=G(e),x=1/m,b=2*i*m,w=(-f*m-(-3*o+l*u)*b*(1-i))/(f*f),_=-x*b,S=-x*(o*s*w+h*u*b),M=-2*x*(.5*w/p*c-2*o*p*b),E=4*t/W;if(.222*W<t||e<W/4&&.175*W<t){if(n=(v+o*J(d*(1+a)-v*v))/(1+a),W/4<t)return[n,n];var C=n,P=.5*n;n=.5*(P+C),r=50;do{var k=J(d-n*n),A=n*(M+_*k)+S*Q(n/g)-E;if(!A)break;A<0?P=n:C=n,n=.5*(P+C)}while(z(C-P)>q&&0<--r)}else{n=q,r=25;do{var T=n*n,O=J(d-T),I=M+_*O,j=n*I+S*Q(n/g)-E,R=I+(S-_*T)/O;n-=y=O?j/R:0}while(z(y)>q&&0<--r)}return[n,-v-o*J(d-n*n)]}(W/4<t?X-t:t,e);return W/4<t&&(s=u[0],u[0]=-u[1],u[1]=-s),u[0]*=n,u[1]*=-r,u}pe.invert=function(t,e){1<z(t)&&(t=2*m(t)-t),1<z(e)&&(e=2*m(e)-e);var n=m(t),r=m(e),i=-n*t,o=-r*e,a=o/i<1,s=function(t,e){var n=0,r=1,i=.5,o=50;for(;;){var a=i*i,s=J(i),u=Q(1/J(1+a)),c=1-a+i*(1+a)*u,l=(1-s)/c,f=J(l),h=l*(1+a),p=f*(1-a),d=J(h-t*t),g=e+p+i*d;if(z(r-n)<S||0==--o||0===g)break;0<g?n=i:r=i,i=.5*(n+r)}if(!o)return null;var v=Q(s),y=G(v),m=1/y,x=2*s*y,b=(-c*y-(-3*i+u*(1+3*a))*x*(1-s))/(c*c);return[W/4*(t*(-2*m*(.5*b/f*(1-a)-2*i*f*x)+-m*x*d)+-m*(i*(1+a)*b+l*(1+3*a)*x)*Q(t/J(h))),v]}(a?o:i,a?i:o),u=s[0],c=s[1],l=G(c);return a&&(u=-X-u),[n*(M(H(u)*l,-H(c))+W),r*Q(G(u)*l)]};var de=function(){return Object(w.geoProjection)(ce(pe)).scale(239.75)};function ge(t,e){var n,r,i,o;if(e<q)return[(i=H(t))-(n=e*(t-i*(c=G(t)))/4)*c,c+n*i,1-e*i*i/2,t-n];if(1-q<=e)return n=(1-e)/4,r=1/(c=f(t)),[(i=((o=v(2*(o=t)))-1)/(o+1))+n*((l=c*P(t))-t)/(c*c),r-n*i*r*(l-t),r+n*i*r*(l+t),2*F(v(t))-X+n*(l-t)/c];for(var a=[1,0,0,0,0,0,0,0,0],s=[J(e),0,0,0,0,0,0,0,0],u=0,c=J(1-e),l=1;z(s[u]/a[u])>q&&u<8;)n=a[u++],s[u]=(n-c)/2,a[u]=(n+c)/2,c=J(n*c),l*=2;for(r=l*a[u]*t;r=(Q(i=s[u]*H(c=r)/a[u])+r)/2,--u;);return[H(r),i=G(r),i/G(r-c),r]}function ve(t,e){if(!e)return t;if(1===e)return N(d(t/2+u));for(var n,r=1,i=J(1-e),o=J(e),a=0;z(o)>q;a++){t%W?((n=F(i*d(t)/r))<0&&(n+=W),t+=n+~~(t/W)*W):t+=t,o=(r+i)/2,i=J(r*i),o=((r=o)-i)/2}return t/(s(2,a)*r)}function ye(t,e){var n,r,i,o,a,s=(Z-1)/(Z+1),u=J(1-s*s),c=ve(X,u*u),l=N(d(W/4+z(e)/2)),f=v(-1*l)/J(s),h=(n=f*G(-1*t),r=f*H(-1*t),o=r+1,[.5*((0<=n?X:-X)-M(a=1-(i=n*n)-r*r,2*n)),-.25*N(a*a+4*i)+.5*N(o*o+i)]),p=function(t,e,n){var r=z(t),i=P(z(e));if(r){var o=1/H(r),a=1/(d(r)*d(r)),s=-(a+n*(i*i*o*o)-1+n),u=(-s+J(s*s-4*((n-1)*a)))/2;return[ve(F(1/J(u)),n)*m(t),ve(F(J((u/a-1)/n)),1-n)*m(e)]}return[0,ve(F(i),1-n)*m(e)]}(h[0],h[1],u*u);return[-p[1],(0<=e?1:-1)*(.5*c-p[0])]}ye.invert=function(t,e){var n,r,i,o,a,s,u,c,l,f=(Z-1)/(Z+1),h=J(1-f*f),p=ve(X,h*h),d=(a=-t,s=h*h,(o=.5*p-e)?(u=ge(o,s),a?(l=(c=ge(a,1-s))[1]*c[1]+s*u[0]*u[0]*c[0]*c[0],[[u[0]*c[2]/l,u[1]*u[2]*c[0]*c[1]/l],[u[1]*c[1]/l,-u[0]*u[2]*c[0]*c[2]/l],[u[2]*c[1]*c[2]/l,-s*u[0]*u[1]*c[0]/l]]):[[u[0],0],[u[1],0],[u[2],0]]):[[0,(c=ge(a,1-s))[0]/c[1]],[1/c[1],0],[c[2]/c[1],0]]),g=(n=d[0],i=(r=d[1])[0]*r[0]+r[1]*r[1],[(n[0]*r[0]+n[1]*r[1])/i,(n[1]*r[0]-n[0]*r[1])/i]);return[M(g[1],g[0])/-1,2*F(v(-.5*N(f*g[0]*g[0]+f*g[1]*g[1])))-X]};var me=function(){return Object(w.geoProjection)(ce(ye)).scale(151.496)};function xe(r,i){if(arguments.length<2&&(i=r),1===i)return w.geoAzimuthalEqualAreaRaw;if(i===1/0)return be;function t(t,e){var n=Object(w.geoAzimuthalEqualAreaRaw)(t/i,e);return n[0]*=r,n}return t.invert=function(t,e){var n=w.geoAzimuthalEqualAreaRaw.invert(t/r,e);return n[0]*=i,n},t}function be(t,e){return[t*G(e)/G(e/=2),2*H(e)]}be.invert=function(t,e){var n=2*Q(e/2);return[t*G(n/2)/G(n),n]};var we=function(){var e=2,n=Object(w.geoProjectionMutator)(xe),t=n(e);return t.coefficient=function(t){return arguments.length?n(e=+t):e},t.scale(169.529)};function _e(t){var f=H(t),c=G(t),h=Se(t);function e(t,e){var n=h(t,e);t=n[0],e=n[1];var r=H(e),i=G(e),o=G(t),a=C(f*r+c*i*o),s=H(a),u=z(s)>q?a/s:1;return[u*c*H(t),(z(t)>X?u:-u)*(f*i-c*r*o)]}return h.invert=Se(-t),e.invert=function(t,e){var n=J(t*t+e*e),r=-H(n),i=G(n),o=n*i,a=-e*r,s=n*f,u=J(o*o+a*a-s*s),c=M(o*s+a*u,a*s-o*u),l=(X<n?-1:1)*M(t*r,n*G(c)*i+e*H(c)*r);return h.invert(l,c)},e}function Se(t){var a=H(t),s=G(t);return function(t,e){var n=G(e),r=G(t)*n,i=H(t)*n,o=H(e);return[M(i,r*s-o*a),Q(o*s+r*a)]}}var Me=function(){var n=0,r=Object(w.geoProjectionMutator)(_e),i=r(n),e=i.rotate,t=i.stream,o=Object(w.geoCircle)();return i.parallel=function(t){if(!arguments.length)return n*b;var e=i.rotate();return r(n=t*E).rotate(e)},i.rotate=function(t){return arguments.length?(e.call(i,[t[0],t[1]-n*b]),o.center([-t[0],-t[1]]),i):((t=e.call(i))[1]+=n*b,t)},i.stream=function(i){return(i=t(i)).sphere=function(){i.polygonStart();var t,e=o.radius(89.99)().coordinates[0],n=e.length-1,r=-1;for(i.lineStart();++r<n;)i.point((t=e[r])[0],t[1]);for(i.lineEnd(),n=(e=o.radius(90.01)().coordinates[0]).length-1,i.lineStart();0<=--r;)i.point((t=e[r])[0],t[1]);i.lineEnd(),i.polygonEnd()},i},i.scale(79.4187).parallel(45).clipAngle(179.999)},Ee=n(561),Ce=41+48/36+37/3600,Pe=Mt(0);function ke(o){var a=Ce*E,s=yt(W,a)[0]-yt(-W,a)[0],u=Pe(0,a)[1],c=yt(0,a)[1],l=g-c,f=y/o,h=4/y,p=u+l*l*4/y;function t(t,e){var n,r,i=z(e);return a<i?(r=Y(o-1,V(0,x((t+W)/f))),(n=yt(t+=W*(o-1)/o-r*f,i))[0]=n[0]*y/s-y*(o-1)/(2*o)+r*y/o,n[1]=u+4*(n[1]-c)*l/y,e<0&&(n[1]=-n[1])):n=Pe(t,e),n[0]*=h,n[1]/=p,n}return t.invert=function(t,e){t/=h;var n=z(e*=p);if(u<n){var r=Y(o-1,V(0,x((t+W)/f))),i=yt.invert(t=(t+W*(o-1)/o-r*f)*s/y,.25*(n-u)*y/l+c);return i[0]-=W*(o-1)/o-r*f,e<0&&(i[1]=-i[1]),i}return Pe.invert(t,e)},t}var Ae=function(){var i=4,e=Object(w.geoProjectionMutator)(ke),o=e(i),a=o.stream;return o.lobes=function(t){return arguments.length?e(i=+t):i},o.stream=function(t){var e=o.rotate(),n=a(t),r=(o.rotate([0,0]),a(t));return o.rotate(e),n.sphere=function(){var t;Object(w.geoStream)((t=180/i,{type:"Polygon",coordinates:[Object(Ee.range)(-180,180+t/2,t).map(function(t,e){return[t,1&e?90-1e-6:Ce]}).concat(Object(Ee.range)(180,-180-t/2,-t).map(function(t,e){return[t,1&e?1e-6-90:-Ce]}))]}),r)},n},o.scale(239.75)};function Te(h){var p,d=1+h,g=Q(H(1/d)),v=2*J(W/(p=W+4*g*d)),y=.5*v*(d+J(h*(2+h))),m=h*h,x=d*d;function t(t,e){var n,r,i=1-H(e);if(i&&i<2){var o,a=X-e,s=25;do{var u=H(a),c=G(a),l=g+M(u,d-c),f=1+x-2*d*c;a-=o=(a-m*g-d*u+f*l-.5*i*p)/(2*d*u*l)}while(z(o)>S&&0<--s);n=v*J(f),r=t*l/W}else n=v*(h+i),r=t*g/W;return[n*H(r),y-n*G(r)]}return t.invert=function(t,e){var n=t*t+(e-=y)*e,r=(1+x-n/(v*v))/(2*d),i=C(r),o=H(i),a=g+M(o,d-r);return[Q(t/J(n))*W/a,Q(1-2*(i-m*g-d*o+(1+x-2*d*r)*a)/p)]},t}var Oe=function(){var e=1,n=Object(w.geoProjectionMutator)(Te),t=n(e);return t.ratio=function(t){return arguments.length?n(e=+t):e},t.scale(167.774).center([0,18.67])},Ie=.7109889596207567,je=.0528035274542;function Re(t,e){return-Ie<e?((t=L(t,e))[1]+=je,t):rt(t,e)}Re.invert=function(t,e){return-Ie<e?L.invert(t,e-je):rt.invert(t,e)};var Le=function(){return Object(w.geoProjection)(Re).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};function De(t,e){return z(e)>Ie?((t=L(t,e))[1]-=0<e?je:-je,t):rt(t,e)}De.invert=function(t,e){return z(e)>Ie?L.invert(t,e+(0<e?je:-je)):rt.invert(t,e)};var Be=function(){return Object(w.geoProjection)(De).scale(152.63)};function Fe(t,e){for(var n,r,i,o=-1,a=t.length,s=t[0],u=[];++o<a;){r=((n=t[o])[0]-s[0])/e,i=(n[1]-s[1])/e;for(var c=0;c<e;++c)u.push([s[0]+c*r,s[1]+c*i]);s=n}return u.push(n),u}var Ne=function(l,f){var i=function(t){for(var e,n,r,i,o,a,s=[],u=t[0].length,c=0;c<u;++c)n=(e=t[0][c])[0][0],r=e[0][1],i=e[1][1],o=e[2][0],a=e[2][1],s.push(Fe([[n+q,r+q],[n+q,i-q],[o-q,i-q],[o-q,a+q]],30));for(c=t[1].length-1;0<=c;--c)n=(e=t[1][c])[0][0],r=e[0][1],i=e[1][1],o=e[2][0],a=e[2][1],s.push(Fe([[o-q,a-q],[o-q,i+q],[n+q,i+q],[n+q,r-q]],30));return{type:"Polygon",coordinates:[Object(Ee.merge)(s)]}}(f),h=(f=f.map(function(t){return t.map(function(t){return[[t[0][0]*E,t[0][1]*E],[t[1][0]*E,t[1][1]*E],[t[2][0]*E,t[2][1]*E]]})})).map(function(t){return t.map(function(t){var e,n=l(t[0][0],t[0][1])[0],r=l(t[2][0],t[2][1])[0],i=l(t[1][0],t[0][1])[1],o=l(t[1][0],t[1][1])[1];return o<i&&(e=i,i=o,o=e),[[n,i],[r,o]]})});function p(t,e){for(var n=e<0?-1:1,r=f[+(e<0)],i=0,o=r.length-1;i<o&&t>r[i][2][0];++i);var a=l(t-r[i][1][0],e);return a[0]+=l(r[i][1][0],n*e>n*r[i][0][1]?r[i][0][1]:e)[0],a}l.invert&&(p.invert=function(t,e){for(var n,r,i=h[+(e<0)],o=f[+(e<0)],a=0,s=i.length;a<s;++a){var u=i[a];if(u[0][0]<=t&&t<u[1][0]&&u[0][1]<=e&&e<u[1][1]){var c=l.invert(t-l(o[a][1][0],0)[0],e);return c[0]+=o[a][1][0],n=p(c[0],c[1]),r=[t,e],z(n[0]-r[0])<q&&z(n[1]-r[1])<q?c:null}}});var o=Object(w.geoProjection)(p),a=o.stream;return o.stream=function(t){var e=o.rotate(),n=a(t),r=(o.rotate([0,0]),a(t));return o.rotate(e),n.sphere=function(){Object(w.geoStream)(i,r)},n},o},ze=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Ge=function(){return Ne(tt,ze).scale(160.857)},Ve=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Ye=function(){return Ne(De,Ve).scale(152.63)},He=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],qe=function(){return Ne(L,He).scale(169.529)},We=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Xe=function(){return Ne(L,We).scale(169.529).rotate([20,0])},Ue=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],Ze=function(){return Ne(Re,Ue).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},Qe=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]],Je=function(){return Ne(rt,Qe).scale(152.63).rotate([-20,0])};function $e(t,e){return[3/y*t*J(W*W/3-e*e),e]}$e.invert=function(t,e){return[y/3*t/J(W*W/3-e*e),e]};var Ke=function(){return Object(w.geoProjection)($e).scale(158.837)};function tn(a){function t(t,e){if(z(z(e)-X)<q)return[0,e<0?-2:2];var n=H(e),r=s((1+n)/(1-n),a/2),i=.5*(r+1/r)+G(t*=a);return[2*H(t)/i,(r-1/r)/i]}return t.invert=function(t,e){var n=z(e);if(z(n-2)<q)return t?null:[0,m(e)*X];if(2<n)return null;var r=(t/=2)*t,i=(e/=2)*e,o=s((1+(o=2*e/(1+r+i)))/(1-o),1/a);return[M(2*t,1-r-i)/a,Q((o-1)/(o+1))]},t}var en=function(){var e=.5,n=Object(w.geoProjectionMutator)(tn),t=n(e);return t.spacing=function(t){return arguments.length?n(e=+t):e},t.scale(124.75)},nn=W/Z;function rn(t,e){return[t*(1+J(G(e)))/2,e/(G(e/2)*G(t/6))]}rn.invert=function(t,e){var n=z(t),r=z(e),i=q,o=X;r<nn?o*=r/nn:i+=6*C(nn/r);for(var a=0;a<25;a++){var s=H(o),u=J(G(o)),c=H(o/2),l=G(o/2),f=H(i/6),h=G(i/6),p=.5*i*(1+u)-n,d=o/(l*h)-r,g=u?-.25*i*s/u:0,v=.5*(1+u),y=(1+.5*o*c/l)/(l*h),m=o/l*(f/6)/(h*h),x=g*m-y*v,b=(p*m-d*v)/x,w=(d*g-p*y)/x;if(o-=b,i-=w,z(b)<q&&z(w)<q)break}return[t<0?-i:i,e<0?-o:o]};var on=function(){return Object(w.geoProjection)(rn).scale(97.2672)};function an(t,e){var n=t*t,r=e*e;return[t*(.975534+r*(-.0143059*n-.119161+-.0547009*r)),e*(1.00384+n*(.0802894+-.02855*r+199025e-9*n)+r*(.0998909+-.0491032*r))]}an.invert=function(t,e){var n=m(t)*W,r=e/2,i=50;do{var o=n*n,a=r*r,s=n*r,u=n*(.975534+a*(-.0143059*o-.119161+-.0547009*a))-t,c=r*(1.00384+o*(.0802894+-.02855*a+199025e-9*o)+a*(.0998909+-.0491032*a))-e,l=.975534-a*(.119161+3*o*.0143059+.0547009*a),f=-s*(.238322+.2188036*a+.0286118*o),h=s*(.1605788+7961e-7*o+-.0571*a),p=1.00384+o*(.0802894+199025e-9*o)+a*(3*(.0998909-.02855*o)-.245516*a),d=f*h-p*l,g=(c*f-u*p)/d,v=(u*h-c*l)/d;n-=g,r-=v}while((z(g)>q||z(v)>q)&&0<--i);return i&&[n,r]};var sn=function(){return Object(w.geoProjection)(an).scale(139.98)};function un(t,e){return[H(t)/G(e),d(e)*G(t)]}un.invert=function(t,e){var n=t*t,r=e*e,i=1+r,o=t?U*J((i-J(n*n+2*n*(r-1)+i*i))/n+1):1/J(i);return[Q(t*o),m(e)*C(o)]};var cn=function(){return Object(w.geoProjection)(un).scale(144.049).clipAngle(89.999)};function ln(i){var o=G(i),a=d(u+i/2);function t(t,e){var n=e-i,r=z(n)<q?t*o:z(r=u+e/2)<q||z(z(r)-X)<q?0:t*n/N(d(r)/a);return[r,n]}return t.invert=function(t,e){var n,r=e+i;return[z(e)<q?t/o:z(n=u+r/2)<q||z(z(n)-X)<q?0:t*N(d(n)/a)/e,r]},t}var fn=function(){return et(ln).parallel(40).scale(158.837)};function hn(t,e){return[t,1.25*N(d(u+.4*e))]}hn.invert=function(t,e){return[t,2.5*F(v(.8*e))-.625*W]};var pn=function(){return Object(w.geoProjection)(hn).scale(108.318)};function dn(m){var x=m.length-1;function t(t,e){for(var n,r=G(e),i=2/(1+r*G(t)),o=i*r*H(t),a=i*H(e),s=x,u=m[s],c=u[0],l=u[1];0<=--s;)c=(u=m[s])[0]+o*(n=c)-a*l,l=u[1]+o*l+a*n;return[c=o*(n=c)-a*l,l=o*l+a*n]}return t.invert=function(t,e){var n=20,r=t,i=e;do{for(var o,a=x,s=m[a],u=s[0],c=s[1],l=0,f=0;0<=--a;)l=u+r*(o=l)-i*f,f=c+r*f+i*o,u=(s=m[a])[0]+r*(o=u)-i*c,c=s[1]+r*c+i*o;var h,p,d=(l=u+r*(o=l)-i*f)*l+(f=c+r*f+i*o)*f;r-=h=((u=r*(o=u)-i*c-t)*l+(c=r*c+i*o-e)*f)/d,i-=p=(c*l-u*f)/d}while(z(h)+z(p)>q*q&&0<--n);if(n){var g=J(r*r+i*i),v=2*F(.5*g),y=H(v);return[M(r*y,g*G(v)),g?Q(i*y/g):0]}},t}var gn=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],vn=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],yn=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],mn=[[.9245,0],[0,0],[.01943,0]],xn=[[.721316,0],[0,0],[-.00881625,-.00617325]];function bn(){return En(gn,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)}function wn(){return En(vn,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function _n(){return En(yn,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Sn(){return En(mn,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Mn(){return En(xn,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function En(t,e){var n=Object(w.geoProjection)(dn(t)).rotate(e).clipAngle(90),r=Object(w.geoRotation)(e),i=n.center;return delete n.rotate,n.center=function(t){return arguments.length?i(r(t)):r.invert(i())},n}var Cn=J(6),Pn=J(7);function kn(t,e){var n=Q(7*H(e)/(3*Cn));return[Cn*t*(2*G(2*n/3)-1)/Pn,9*H(n/3)/Pn]}kn.invert=function(t,e){var n=3*Q(e*Pn/9);return[t*Pn/(Cn*(2*G(2*n/3)-1)),Q(3*H(n)*Cn/7)]};var An=function(){return Object(w.geoProjection)(kn).scale(164.859)};function Tn(t,e){for(var n,r=(1+U)*H(e),i=e,o=0;o<25&&(i-=n=(H(i/2)+H(i)-r)/(.5*G(i/2)+G(i)),!(z(n)<q));o++);return[t*(1+2*G(i)/G(i/2))/(3*Z),2*J(3)*H(i/2)/J(2+Z)]}Tn.invert=function(t,e){var n=e*J(2+Z)/(2*J(3)),r=2*Q(n);return[3*Z*t/(1+2*G(r)/G(r/2)),Q((n+H(r))/(1+U))]};var On=function(){return Object(w.geoProjection)(Tn).scale(188.209)};function In(t,e){for(var n,r=J(6/(4+W)),i=(1+W/4)*H(e),o=e/2,a=0;a<25&&(o-=n=(o/2+H(o)-i)/(.5+G(o)),!(z(n)<q));a++);return[r*(.5+G(o))*t/1.5,r*o]}In.invert=function(t,e){var n=J(6/(4+W)),r=e/n;return z(z(r)-X)<q&&(r=r<0?-X:X),[1.5*t/(n*(.5+G(r))),Q((r/2+H(r))/(1+W/4))]};var jn=function(){return Object(w.geoProjection)(In).scale(166.518)};function Rn(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Rn.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(z(n)>q&&0<--i);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Ln=function(){return Object(w.geoProjection)(Rn).scale(175.295)};function Dn(t,e){var n=e*e,r=n*n,i=n*r;return[t*(.84719-.13063*n+i*i*(.05494*n-.04515-.02326*r+.00331*i)),e*(1.01183+r*r*(.01926*n-.02625-.00396*r))]}Dn.invert=function(t,e){for(var n,r,i,o,a=e,s=25;a-=n=(a*(1.01183+(i=(r=a*a)*r)*i*(.01926*r-.02625-.00396*i))-e)/(1.01183+i*i*(.21186*r-.23625+-.05148*i)),z(n)>S&&0<--s;);return[t/(.84719-.13063*(r=a*a)+(o=r*(i=r*r))*o*(.05494*r-.04515-.02326*i+.00331*o)),a]};var Bn=function(){return Object(w.geoProjection)(Dn).scale(175.295)};function Fn(t,e){return[t*(1+G(e))/2,2*(e-d(e/2))]}Fn.invert=function(t,e){for(var n=e/2,r=0,i=1/0;r<10&&z(i)>q;++r){var o=G(e/2);e-=i=(e-d(e/2)-n)/(1-.5/(o*o))}return[2*t/(1+G(e)),e]};var Nn=function(){return Object(w.geoProjection)(Fn).scale(152.63)},zn=1.0148,Gn=.23185,Vn=-.14499,Yn=.02406,Hn=zn,qn=5*Gn,Wn=7*Vn,Xn=9*Yn,Un=1.790857183;function Zn(t,e){var n=e*e;return[t,e*(zn+n*n*(Gn+n*(Vn+Yn*n)))]}Zn.invert=function(t,e){Un<e?e=Un:e<-Un&&(e=-Un);var n,r=e;do{var i=r*r;r-=n=(r*(zn+i*i*(Gn+i*(Vn+Yn*i)))-e)/(Hn+i*i*(qn+i*(Wn+Xn*i)))}while(z(n)>q);return[t,r]};var Qn=function(){return Object(w.geoProjection)(Zn).scale(139.319)};function Jn(t,e){if(z(e)<q)return[t,0];var n=d(e),r=t*H(e);return[H(r)/n,e+(1-G(r))/n]}Jn.invert=function(t,e){if(z(e)<q)return[t,0];var n,r=t*t+e*e,i=.5*e,o=10;do{var a=d(i),s=1/G(i),u=r-2*e*i+i*i;i-=n=(a*u+2*(i-e))/(2+u*s*s+2*(i-e)*a)}while(z(n)>q&&0<--o);return a=d(i),[(z(e)<z(i+1/a)?Q(t*a):m(t)*(C(z(t*a))+X))/H(i),i]};function $n(t,e){var n,r,i=er(t[1],t[0]),o=er(e[1],e[0]),a=(r=o,M((n=i)[0]*r[1]-n[1]*r[0],n[0]*r[0]+n[1]*r[1])),s=nr(i)/nr(o);return tr([1,0,t[0][0],0,1,t[0][1]],tr([s,0,0,0,s,0],tr([G(a),H(a),0,-H(a),G(a),0],[1,0,-e[0][0],0,1,-e[0][1]])))}var Kn=function(){return Object(w.geoProjection)(Jn).scale(103.74)};function tr(t,e){return[t[0]*e[0]+t[1]*e[3],t[0]*e[1]+t[1]*e[4],t[0]*e[2]+t[1]*e[5]+t[2],t[3]*e[0]+t[4]*e[3],t[3]*e[1]+t[4]*e[4],t[3]*e[2]+t[4]*e[5]+t[5]]}function er(t,e){return[t[0]-e[0],t[1]-e[1]]}function nr(t){return J(t[0]*t[0]+t[1]*t[1])}var rr=function(i,p,t){function e(t,e){var n,r=p(t,e),i=r.project([t*b,e*b]);return(n=r.transform)?[n[0]*i[0]+n[1]*i[1]+n[2],-(n[3]*i[0]+n[4]*i[1]+n[5])]:(i[1]=-i[1],i)}(function e(n,t){n.edges=ar(n.face);if(t.face){var r=n.shared=or(n.face,t.face),i=$n(r.map(t.project),r.map(n.project));n.transform=t.transform?tr(t.transform,i):i;for(var o=t.edges,a=0,s=o.length;a<s;++a)ir(r[0],o[a][1])&&ir(r[1],o[a][0])&&(o[a]=n),ir(r[0],o[a][0])&&ir(r[1],o[a][1])&&(o[a]=n);for(o=n.edges,a=0,s=o.length;a<s;++a)ir(r[0],o[a][0])&&ir(r[1],o[a][1])&&(o[a]=t),ir(r[0],o[a][1])&&ir(r[1],o[a][0])&&(o[a]=t)}else n.transform=t.transform;n.children&&n.children.forEach(function(t){e(t,n)});return n})(i,{transform:[G(t=null==t?-W/6:t),H(t),0,-H(t),G(t),0]}),sr(i)&&(e.invert=function(t,e){var n=function t(e,n){var r=e.project.invert,i=e.transform,o=n;i&&(s=1/((a=i)[0]*a[4]-a[1]*a[3]),i=[s*a[4],-s*a[1],s*(a[1]*a[5]-a[2]*a[4]),-s*a[3],s*a[0],s*(a[2]*a[3]-a[0]*a[5])],o=[i[0]*o[0]+i[1]*o[1]+i[2],i[3]*o[0]+i[4]*o[1]+i[5]]);var a,s;if(r&&e===(u=c=r(o),p(u[0]*E,u[1]*E)))return c;var u;var c,l=e.children;for(var f=0,h=l&&l.length;f<h;++f)if(c=t(l[f],n))return c}(i,[t,-e]);return n&&(n[0]*=E,n[1]*=E,n)});var o=Object(w.geoProjection)(e),a=o.stream;return o.stream=function(t){var e=o.rotate(),n=a(t),r=(o.rotate([0,0]),a(t));return o.rotate(e),n.sphere=function(){r.polygonStart(),r.lineStart(),function t(e,n,r){var i,o,a=n.edges,s=a.length,u={type:"MultiPoint",coordinates:n.face},c=n.face.filter(function(t){return 90!==z(t[1])}),l=Object(w.geoBounds)({type:"MultiPoint",coordinates:c}),f=!1,h=-1,p=l[1][0]-l[0][0];var d=180==p||360==p?[(l[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2]:Object(w.geoCentroid)(u);if(r)for(;++h<s&&a[h]!==r;);++h;for(var g=0;g<s;++g)o=a[(g+h)%s],Array.isArray(o)?(f||(e.point((i=Object(w.geoInterpolate)(o[0],d)(q))[0],i[1]),f=!0),e.point((i=Object(w.geoInterpolate)(o[1],d)(q))[0],i[1])):(f=!1,o!==r&&t(e,o,n))}(r,i),r.lineEnd(),r.polygonEnd()},n},o};function ir(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}function or(t,e){for(var n,r,i=t.length,o=null,a=0;a<i;++a){n=t[a];for(var s=e.length;0<=--s;)if(r=e[s],n[0]===r[0]&&n[1]===r[1]){if(o)return[o,n];o=n}}}function ar(t){for(var e=t.length,n=[],r=t[e-1],i=0;i<e;++i)n.push([r,r=t[i]]);return n}function sr(t){return t.project.invert||t.children&&t.children.some(sr)}var ur=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],cr=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(t){return t.map(function(t){return ur[t]})}),lr=function(e){e=e||function(t){var e=Object(w.geoCentroid)({type:"MultiPoint",coordinates:t});return Object(w.geoGnomonic)().scale(1).translate([0,0]).rotate([-e[0],-e[1]])};var r=cr.map(function(t){return{face:t,project:e(t)}});return[-1,0,0,1,0,1,4,5].forEach(function(t,e){var n=r[t];n&&(n.children||(n.children=[])).push(r[e])}),rr(r[0],function(t,e){return r[t<-W/2?e<0?6:4:t<0?e<0?2:0:t<W/2?e<0?3:1:e<0?7:5]}).scale(101.858).center([0,45])},fr=2/J(3);function hr(t,e){var n=yt(t,e);return[n[0]*fr,n[1]]}hr.invert=function(t,e){return yt.invert(t/fr,e)};var pr=function(e){e=e||function(t){var e=Object(w.geoCentroid)({type:"MultiPoint",coordinates:t});return Object(w.geoProjection)(hr).translate([0,0]).scale(1).rotate(0<e[1]?[-e[0],0]:[180-e[0],180])};var r=cr.map(function(t){return{face:t,project:e(t)}});return[-1,0,0,1,0,1,4,5].forEach(function(t,e){var n=r[t];n&&(n.children||(n.children=[])).push(r[e])}),rr(r[0],function(t,e){return r[t<-W/2?e<0?6:4:t<0?e<0?2:0:t<W/2?e<0?3:1:e<0?7:5]}).scale(121.906).center([0,48.5904])},dr=function(e){e=e||function(t){var e=6===t.length?Object(w.geoCentroid)({type:"MultiPoint",coordinates:t}):t[0];return Object(w.geoGnomonic)().scale(1).translate([0,0]).rotate([-e[0],-e[1]])};var u=cr.map(function(t){for(var e,n=t.map(yr),r=n.length,i=n[r-1],o=[],a=0;a<r;++a)e=n[a],o.push(vr([.9486832980505138*i[0]+.31622776601683794*e[0],.9486832980505138*i[1]+.31622776601683794*e[1],.9486832980505138*i[2]+.31622776601683794*e[2]]),vr([.9486832980505138*e[0]+.31622776601683794*i[0],.9486832980505138*e[1]+.31622776601683794*i[1],.9486832980505138*e[2]+.31622776601683794*i[2]])),i=e;return o}),c=[],l=[-1,0,0,1,0,1,4,5];u.forEach(function(t,e){for(var n,r,i=cr[e],o=i.length,a=c[e]=[],s=0;s<o;++s)u.push([i[s],t[(2*s+2)%(2*o)],t[(2*s+1)%(2*o)]]),l.push(e),a.push((n=yr(t[(2*s+2)%(2*o)]),r=yr(t[(2*s+1)%(2*o)]),[n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]))});var a=u.map(function(t){return{project:e(t),face:t}});return l.forEach(function(t,e){var n=a[t];n&&(n.children||(n.children=[])).push(a[e])}),rr(a[0],function(t,e){var n=G(e),r=[n*G(t),n*H(t),H(e)],i=t<-W/2?e<0?6:4:t<0?e<0?2:0:t<W/2?e<0?3:1:e<0?7:5,o=c[i];return a[gr(o[0],r)<0?8+3*i:gr(o[1],r)<0?8+3*i+1:gr(o[2],r)<0?8+3*i+2:i]}).scale(110.625).center([0,45])};function gr(t,e){for(var n=0,r=t.length,i=0;n<r;++n)i+=t[n]*e[n];return i}function vr(t){return[M(t[1],t[0])*b,Q(V(-1,Y(1,t[2])))*b]}function yr(t){var e=t[0]*E,n=t[1]*E,r=G(n);return[r*G(e),r*H(e),H(n)]}function mr(){}var xr=function(t,e){var n,r=e.stream;if(!r)throw new Error("invalid projection");switch(t&&t.type){case"Feature":n=wr;break;case"FeatureCollection":n=br;break;default:n=_r}return n(t,r)};function br(t,e){return{type:"FeatureCollection",features:t.features.map(function(t){return wr(t,e)})}}function wr(t,e){return{type:"Feature",id:t.id,properties:t.properties,geometry:_r(t.geometry,e)}}function _r(t,e){if(!t)return null;if("GeometryCollection"===t.type)return n=e,{type:"GeometryCollection",geometries:t.geometries.map(function(t){return _r(t,n)})};var n,r;switch(t.type){case"Point":case"MultiPoint":r=Er;break;case"LineString":case"MultiLineString":r=Cr;break;case"Polygon":case"MultiPolygon":case"Sphere":r=Pr;break;default:return null}return Object(w.geoStream)(t,e(r)),r.result()}var Sr=[],Mr=[],Er={point:function(t,e){Sr.push([t,e])},result:function(){var t=Sr.length?Sr.length<2?{type:"Point",coordinates:Sr[0]}:{type:"MultiPoint",coordinates:Sr}:null;return Sr=[],t}},Cr={lineStart:mr,point:function(t,e){Sr.push([t,e])},lineEnd:function(){Sr.length&&(Mr.push(Sr),Sr=[])},result:function(){var t=Mr.length?Mr.length<2?{type:"LineString",coordinates:Mr[0]}:{type:"MultiLineString",coordinates:Mr}:null;return Mr=[],t}},Pr={polygonStart:mr,lineStart:mr,point:function(t,e){Sr.push([t,e])},lineEnd:function(){var t=Sr.length;if(t){for(;Sr.push(Sr[0].slice()),++t<4;);Mr.push(Sr),Sr=[]}},polygonEnd:mr,result:function(){if(!Mr.length)return null;var r=[],e=[];return Mr.forEach(function(t){!function(t){if((e=t.length)<4)return!1;for(var e,n=0,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r<=0}(t)?e.push(t):r.push([t])}),e.forEach(function(e){var n=e[0];r.some(function(t){if(function(t,e){for(var n=e[0],r=e[1],i=!1,o=0,a=t.length,s=a-1;o<a;s=o++){var u=t[o],c=u[0],l=u[1],f=t[s],h=f[0],p=f[1];r<l^r<p&&n<(h-c)*(r-l)/(p-l)+c&&(i=!i)}return i}(t[0],n))return t.push(e),!0})||r.push([e])}),Mr=[],r.length?1<r.length?{type:"MultiPolygon",coordinates:r}:{type:"Polygon",coordinates:r[0]}:null}},kr=function(l){var f=l(X,0)[0]-l(-X,0)[0];function t(t,e){var n=z(t)<X,r=l(n?t:0<t?t-W:t+W,e),i=(r[0]-r[1])*U,o=(r[0]+r[1])*U;if(n)return[i,o];var a=f*U,s=0<i^0<o?-1:1;return[s*i-m(o)*a,s*o-m(i)*a]}return l.invert&&(t.invert=function(t,e){var n,r,i,o,a=(t+e)*U,s=(e-t)*U,u=z(a)<.5*f&&z(s)<.5*f;u||(a=(-(i=-(r=0<a^0<s?-1:1)*t+(0<s?1:-1)*(n=f*U))-(o=-r*e+(0<a?1:-1)*n))*U,s=(i-o)*U);var c=l.invert(a,s);return u||(c[0]+=0<a?W:-W),c}),Object(w.geoProjection)(t).rotate([-90,-90,45]).clipAngle(179.999)},Ar=function(){return kr(pe).scale(176.423)},Tr=function(){return kr(ye).scale(111.48)},Or=function(t,i){if(!(0<=(i=+i)&&i<=20))throw new Error("invalid digits");function n(t){var e=t.length,n=2,r=new Array(e);for(r[0]=+t[0].toFixed(i),r[1]=+t[1].toFixed(i);n<e;)r[n]=t[n],++n;return r}function r(t){return t.map(n)}function o(t){return t.map(r)}function a(t){if(null==t)return t;var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(a)};break;case"Point":e={type:"Point",coordinates:n(t.coordinates)};break;case"MultiPoint":case"LineString":e={type:t.type,coordinates:r(t.coordinates)};break;case"MultiLineString":case"Polygon":e={type:t.type,coordinates:o(t.coordinates)};break;case"MultiPolygon":e={type:"MultiPolygon",coordinates:t.coordinates.map(o)};break;default:return t}return null!=t.bbox&&(e.bbox=t.bbox),e}function e(t){var e={type:"Feature",properties:t.properties,geometry:a(t.geometry)};return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),e}if(null!=t)switch(t.type){case"Feature":return e(t);case"FeatureCollection":var s={type:"FeatureCollection",features:t.features.map(e)};return null!=t.bbox&&(s.bbox=t.bbox),s;default:return a(t)}return t};function Ir(f){var h=H(f);function t(t,e){var n=h?d(t*h/2)/h:t/2;if(!e)return[2*n,-f];var r=2*F(n*H(e)),i=1/d(e);return[H(r)*i,e+(1-G(r))*i-f]}return t.invert=function(t,e){if(z(e+=f)<q)return[h?2*F(h*t/2)/h:t,0];var n,r=t*t+e*e,i=0,o=10;do{var a=d(i),s=1/G(i),u=r-2*e*i+i*i;i-=n=(a*u+2*(i-e))/(2+u*s*s+2*(i-e)*a)}while(z(n)>q&&0<--o);var c=t*(a=d(i)),l=d(z(e)<z(i+1/a)?.5*Q(c):.5*C(c)+W/4)/H(i);return[h?2*F(h*l)/h:2*l,i]},t}var jr=function(){return et(Ir).scale(131.215)},Rr=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Lr(t,e){var n,r=Y(18,36*z(e)/W),i=x(r),o=r-i,a=(n=Rr[i])[0],s=n[1],u=(n=Rr[++i])[0],c=n[1],l=(n=Rr[Y(19,++i)])[0],f=n[1];return[t*(u+o*(l-a)/2+o*o*(l-2*u+a)/2),(0<e?X:-X)*(c+o*(f-s)/2+o*o*(f-2*c+s)/2)]}Rr.forEach(function(t){t[1]*=1.0144}),Lr.invert=function(t,e){var n=e/X,r=90*n,i=Y(18,z(r/5)),o=V(0,x(i));do{var a=Rr[o][1],s=Rr[o+1][1],u=Rr[Y(19,o+2)][1],c=u-a,l=u-2*s+a,f=2*(z(n)-s)/c,h=l/c,p=f*(1-h*f*(1-2*h*f));if(0<=p||1===o){r=(0<=e?5:-5)*(p+i);for(var d,g=50;p=(i=Y(18,z(r)/5))-(o=x(i)),a=Rr[o][1],s=Rr[o+1][1],u=Rr[Y(19,o+2)][1],r-=(d=(0<=e?X:-X)*(s+p*(u-a)/2+p*p*(u-2*s+a)/2)-e)*b,z(d)>S&&0<--g;);break}}while(0<=--o);var v=Rr[o][0],y=Rr[o+1][0],m=Rr[Y(19,o+2)][0];return[t/(y+p*(m-v)/2+p*p*(m-2*y+v)/2),r*E]};var Dr=function(){return Object(w.geoProjection)(Lr).scale(152.63)};function Br(o,t){var a,s=(a=o,e.invert=function(t,e){var n=t*t+e*e,r=J(n),i=(a-J(1-n*(a+1)/(a-1)))/((a-1)/r+r/(a-1));return[M(t*i,r*J(1-i*i)),r?Q(e*i/r):0]},e);function e(t,e){var n=G(e),r=(a-1)/(a-n*G(t));return[r*n*H(t),r*H(e)]}if(!t)return s;var u=G(t),c=H(t);function n(t,e){var n=s(t,e),r=n[1],i=r*c/(o-1)+u;return[n[0]*u/i,r/i]}return n.invert=function(t,e){var n=(o-1)/(o-1-e*c);return s.invert(n*t,n*e*u)},n}var Fr=function(){var e=2,n=0,r=Object(w.geoProjectionMutator)(Br),t=r(e,n);return t.distance=function(t){return arguments.length?r(e=+t,n):e},t.tilt=function(t){return arguments.length?r(e,n=t*E):n*b},t.scale(432.147).clipAngle(C(1/e)*b-1e-6)},Nr=1e4,zr=-180,Gr=zr+1e-4,Vr=180,Yr=Vr-1e-4,Hr=-90,qr=Hr+1e-4,Wr=90,Xr=Wr-1e-4;function Ur(t){return 0<t.length}function Zr(t){return t===Hr||t===Wr?[0,t]:[zr,(e=t,Math.floor(e*Nr)/Nr)];var e}function Qr(t){var e=t[0],n=t[1],r=!1;return e<=Gr?(e=zr,r=!0):Yr<=e&&(e=Vr,r=!0),n<=qr?(n=Hr,r=!0):Xr<=n&&(n=Wr,r=!0),r?[e,n]:t}function Jr(t){return t.map(Qr)}function $r(t,e,n){for(var r=0,i=t.length;r<i;++r){var o=t[r].slice();n.push({index:-1,polygon:e,ring:o});for(var a=0,s=o.length;a<s;++a){var u=o[a],c=u[0],l=u[1];if(c<=Gr||Yr<=c||l<=qr||Xr<=l){o[a]=Qr(u);for(var f,h=a+1;h<s;++h){var p=o[h],d=p[0],g=p[1];if(Gr<d&&d<Yr&&qr<g&&g<Xr)break}if(h===a+1)continue;if(a?((f={index:-1,polygon:e,ring:o.slice(0,a+1)}).ring[f.ring.length-1]=Zr(l),n[n.length-1]=f):n.pop(),s<=h)break;n.push({index:-1,polygon:e,ring:o=o.slice(h-1)}),o[0]=Zr(o[0][1]),a=-1,s=o.length}}}}function Kr(t){for(var e,n,r,i,o,a=t.length,s={},u={},c=0;c<a;++c)n=(e=t[c]).ring[0],i=e.ring[e.ring.length-1],n[0]!==i[0]||n[1]!==i[1]?(e.index=c,s[n]=u[i]=e):(e.polygon.push(e.ring),t[c]=null);for(c=0;c<a;++c)if(e=t[c]){if(n=e.ring[0],i=e.ring[e.ring.length-1],r=u[n],o=s[i],delete s[n],delete u[i],n[0]===i[0]&&n[1]===i[1]){e.polygon.push(e.ring);continue}r?(delete u[n],delete s[r.ring[0]],r.ring.pop(),t[r.index]=null,e={index:-1,polygon:r.polygon,ring:r.ring.concat(e.ring)},r===o?e.polygon.push(e.ring):(e.index=a++,t.push(s[e.ring[0]]=u[e.ring[e.ring.length-1]]=e))):o?(delete s[i],delete u[o.ring[o.ring.length-1]],e.ring.pop(),e={index:a++,polygon:o.polygon,ring:e.ring.concat(o.ring)},t[o.index]=null,t.push(s[e.ring[0]]=u[e.ring[e.ring.length-1]]=e)):(e.ring.push(e.ring[0]),e.polygon.push(e.ring))}}function ti(t){var e={type:"Feature",geometry:ei(t.geometry)};return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}function ei(t){if(null==t)return t;var e,n,r,i;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(ei)};break;case"Point":e={type:"Point",coordinates:Qr(t.coordinates)};break;case"MultiPoint":case"LineString":e={type:t.type,coordinates:Jr(t.coordinates)};break;case"MultiLineString":e={type:"MultiLineString",coordinates:t.coordinates.map(Jr)};break;case"Polygon":var o=[];$r(t.coordinates,o,n=[]),Kr(n),e={type:"Polygon",coordinates:o};break;case"MultiPolygon":n=[],r=-1,i=t.coordinates.length;for(var a=new Array(i);++r<i;)$r(t.coordinates[r],a[r]=[],n);Kr(n),e={type:"MultiPolygon",coordinates:a.filter(Ur)};break;default:return t}return null!=t.bbox&&(e.bbox=t.bbox),e}var ni=function(t){if(null==t)return t;switch(t.type){case"Feature":return ti(t);case"FeatureCollection":var e={type:"FeatureCollection",features:t.features.map(ti)};return null!=t.bbox&&(e.bbox=t.bbox),e;default:return ei(t)}};function ri(t,e){var n=d(e/2),r=H(u*n);return[t*(.74482-.34588*r*r),1.70711*n]}ri.invert=function(t,e){var n=e/1.70711,r=H(u*n);return[t/(.74482-.34588*r*r),2*F(n)]};var ii=function(){return Object(w.geoProjection)(ri).scale(146.153)},oi=function(t,e,n){var r=Object(w.geoInterpolate)(e,n),i=r(.5),o=Object(w.geoRotation)([-i[0],-i[1]])(e),a=r.distance/2,s=-Q(H(o[1]*E)/H(a)),u=[-i[0],-i[1],-(0<o[0]?W-s:s)*b],c=Object(w.geoProjection)(t(a)).rotate(u),l=Object(w.geoRotation)(u),f=c.center;return delete c.rotate,c.center=function(t){return arguments.length?f(l(t)):l.invert(f())},c.clipAngle(90)};function ai(t){var r=G(t);function e(t,e){var n=Object(w.geoGnomonicRaw)(t,e);return n[0]*=r,n}return e.invert=function(t,e){return w.geoGnomonicRaw.invert(t/r,e)},e}function si(){return ui([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function ui(t,e){return oi(ai,t,e)}function ci(i){if(!(i*=2))return w.geoAzimuthalEquidistantRaw;var s=-i/2,u=-s,o=i*i,c=d(u),l=.5/H(u);function t(t,e){var n=C(G(e)*G(t-s)),r=C(G(e)*G(t-u));return[((n*=n)-(r*=r))/(2*i),(e<0?-1:1)*J(4*o*r-(o-n+r)*(o-n+r))/(2*i)]}return t.invert=function(t,e){var n,r,i=e*e,o=G(J(i+(n=t+s)*n)),a=G(J(i+(n=t+u)*n));return[M(r=o-a,n=(o+a)*c),(e<0?-1:1)*C(J(n*n+r*r)*l)]},t}function li(){return fi([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function fi(t,e){return oi(ci,t,e)}function hi(t,e){if(z(e)<q)return[t,0];var n=z(e/X),r=Q(n);if(z(t)<q||z(z(e)-X)<q)return[0,m(e)*W*d(r/2)];var i=G(r),o=z(W/t-t/W)/2,a=o*o,s=i/(n+i-1),u=s*(2/n-1),c=u*u,l=c+a,f=s-c,h=a+s;return[m(t)*W*(o*f+J(a*f*f-l*(s*s-c)))/l,m(e)*W*(u*h-o*J((1+a)*l-h*h))/l]}hi.invert=function(t,e){if(z(e)<q)return[t,0];if(z(t)<q)return[0,X*H(2*F(e/W))];var n=(t/=W)*t,r=(e/=W)*e,i=n+r,o=i*i,a=-z(e)*(1+i),s=a-2*r+n,u=-2*a+1+2*r+o,c=r/u+(2*s*s*s/(u*u*u)-9*a*s/(u*u))/27,l=(a-s*s/(3*u))/u,f=2*J(-l/3),h=C(3*c/(l*f))/3;return[W*(i-1+J(1+2*(n-r)+o))/(2*t),m(e)*W*(-f*G(h+W/3)-s/(3*u))]};var pi=function(){return Object(w.geoProjection)(hi).scale(79.4183)};function di(t,e){if(z(e)<q)return[t,0];var n=z(e/X),r=Q(n);if(z(t)<q||z(z(e)-X)<q)return[0,m(e)*W*d(r/2)];var i=G(r),o=z(W/t-t/W)/2,a=o*o,s=i*(J(1+a)-o*i)/(1+a*n*n);return[m(t)*W*s,m(e)*W*J(1-s*(2*o+s))]}di.invert=function(t,e){if(!t)return[0,X*H(2*F(e/W))];var n=z(t/W),r=(1-n*n-(e/=W)*e)/(2*n),i=J(1+r*r);return[m(t)*W*(i-r),m(e)*X*H(2*M(J((1-2*r*n)*(r+i)-n),J(i+r+n)))]};var gi=function(){return Object(w.geoProjection)(di).scale(79.4183)};function vi(t,e){if(z(e)<q)return[t,0];var n=e/X,r=Q(n);if(z(t)<q||z(z(e)-X)<q)return[0,W*d(r/2)];var i=(W/t-t/W)/2,o=n/(1+G(r));return[W*(m(t)*J(i*i+1-o*o)-i),W*o]}vi.invert=function(t,e){if(!e)return[t,0];var n=e/W,r=(W*W*(1-n*n)-t*t)/(2*W*t);return[t?W*(m(t)*J(r*r+1)-r):0,X*H(2*F(n))]};var yi=function(){return Object(w.geoProjection)(vi).scale(79.4183)};function mi(t,e){if(!e)return[t,0];var n=z(e);if(!t||n===X)return[0,e];var r=n/X,i=r*r,o=(8*r-i*(2+i)-5)/(2*i*(r-1)),a=o*o,s=r*o,u=i+a+2*s,c=r+3*o,l=t/X,f=l+1/l,h=m(z(t)-X)*J(f*f-4),p=h*h,d=(h*(u+a-1)+2*J(u*(i+a*p-1)+(1-i)*(i*(c*c+4*a)+12*s*a+4*a*a)))/(4*u+p);return[m(t)*X*d,m(e)*X*J(1+h*z(d)-d*d)]}mi.invert=function(t,e){var n;if(!t||!e)return[t,e];e/=W;var r=m(t)*t/X,i=(r*r-1+4*e*e)/z(r),o=i*i,a=2*e,s=50;do{var u=a*a,c=(8*a-u*(2+u)-5)/(2*u*(a-1)),l=(3*a-u*a-10)/(2*u*a),f=c*c,h=a*c,p=a+c,d=p*p,g=a+3*c,v=-2*p*(4*h*f+(1-4*u+3*u*u)*(1+l)+f*(14*u-6-o+(8*u-8-2*o)*l)+h*(12*u-8+(10*u-10-o)*l)),y=J(d*(u+f*o-1)+(1-u)*(u*(g*g+4*f)+f*(12*h+4*f)));a-=n=(i*(d+f-1)+2*y-r*(4*d+o))/(i*(2*c*l+2*p*(1+l))+v/y-8*p*(i*(f-1+d)+2*y)*(1+l)/(o+4*d))}while(q<n&&0<--s);return[m(t)*(J(i*i+4)+i)*W/4,X*a]};var xi=function(){return Object(w.geoProjection)(mi).scale(127.16)},bi=4*W+3*J(3),wi=2*J(2*W*J(3)/bi),_i=R(wi*J(3)/W,wi,bi/6),Si=function(){return Object(w.geoProjection)(_i).scale(176.84)};function Mi(t,e){return[t*J(1-3*e*e/(W*W)),e]}Mi.invert=function(t,e){return[t/J(1-3*e*e/(W*W)),e]};var Ei=function(){return Object(w.geoProjection)(Mi).scale(152.63)};function Ci(t,e){var n=.90631*H(e),r=J(1-n*n),i=J(2/(1+r*G(t/=3)));return[2.66723*r*i*H(t),1.24104*n*i]}Ci.invert=function(t,e){var n=t/2.66723,r=e/1.24104,i=J(n*n+r*r),o=2*Q(i/2);return[3*M(t*d(o),2.66723*i),i&&Q(e*H(o)/(1.24104*.90631*i))]};var Pi=function(){return Object(w.geoProjection)(Ci).scale(172.632)};function ki(t,e){var n=G(e),r=G(t)*n,i=1-r,o=G(t=M(H(t)*n,-H(e))),a=H(t);return[a*(n=J(1-r*r))-o*i,-o*n-a*i]}ki.invert=function(t,e){var n=(t*t+e*e)/-2,r=J(-n*(2+n)),i=e*n+t*r,o=t*n-e*r,a=J(o*o+i*i);return[M(r*i,a*(1+n)),a?-Q(r*o/a):0]};var Ai=function(){return Object(w.geoProjection)(ki).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};function Ti(t,e){var n=o(t,e);return[(n[0]+t/X)/2,(n[1]+e)/2]}Ti.invert=function(t,e){var n=t,r=e,i=25;do{var o,a=G(r),s=H(r),u=H(2*r),c=s*s,l=a*a,f=H(n),h=G(n/2),p=H(n/2),d=p*p,g=1-l*h*h,v=g?C(a*h)*J(o=1/g):o=0,y=.5*(2*v*a*p+n/X)-t,m=.5*(v*s+r)-e,x=.5*o*(l*d+v*a*h*c)+.5/X,b=o*(f*u/4-v*s*p),w=.125*o*(u*p-v*s*l*f),_=.5*o*(c*h+v*d*a)+.5,S=b*w-_*x,M=(m*b-y*_)/S,E=(y*w-m*x)/S;n-=M,r-=E}while((z(M)>q||z(E)>q)&&0<--i);return[n,r]};var Oi=function(){return Object(w.geoProjection)(Ti).scale(158.837)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setTheme=e.track=e.Interactions=e.PathUtil=e.Animate=e.Shape=e.Util=e.G2=e.Facet=e.Label=e.Guide=e.View=e.Geom=e.Tooltip=e.Legend=e.Axis=e.Coord=e.Chart=void 0;var r=n(917);Object.defineProperty(e,"Chart",{enumerable:!0,get:function(){return m(r).default}});var i=n(1087);Object.defineProperty(e,"Coord",{enumerable:!0,get:function(){return m(i).default}});var o=n(1088);Object.defineProperty(e,"Axis",{enumerable:!0,get:function(){return m(o).default}});var a=n(1089);Object.defineProperty(e,"Legend",{enumerable:!0,get:function(){return m(a).default}});var s=n(1090);Object.defineProperty(e,"Tooltip",{enumerable:!0,get:function(){return m(s).default}});var u=n(1091);Object.defineProperty(e,"Geom",{enumerable:!0,get:function(){return m(u).default}});var c=n(1113);Object.defineProperty(e,"View",{enumerable:!0,get:function(){return m(c).default}});var l=n(1114);Object.defineProperty(e,"Guide",{enumerable:!0,get:function(){return m(l).default}});var f=n(1115);Object.defineProperty(e,"Label",{enumerable:!0,get:function(){return m(f).default}});var h=n(1116);Object.defineProperty(e,"Facet",{enumerable:!0,get:function(){return m(h).default}});var p=n(607),d=m(p),g=m(n(1122)),v=m(n(606)),y=m(n(1132));function m(t){return t&&t.__esModule?t:{default:t}}e.G2=d.default,e.Util=v.default,e.Shape=p.Shape,e.Animate=p.Animate,e.PathUtil=p.PathUtil,e.Interactions=g.default;var x=e.track=function(){},b=e.setTheme=function(t){var e=t;"string"==typeof t&&y.default[t]&&(e=y.default[t]),d.default.Global.setTheme(e)},w={G2:d.default,Util:v.default,Shape:p.Shape,Animate:p.Animate,PathUtil:p.PathUtil,track:x,setTheme:b,Interactions:g.default};e.default=w},,,,,,function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){var f=n(703),h=n(696),p=n(865),d=n(145),g=n(635);t.exports=function(t,e,n,r){if(!d(t))return t;for(var i=-1,o=(e=h(e,t)).length,a=o-1,s=t;null!=s&&++i<o;){var u,c=g(e[i]),l=n;i!=a&&(u=s[c],void 0===(l=r?r(u,c,s):void 0)&&(l=d(u)?u:p(e[i+1])?[]:{})),f(s,c,l),s=s[c]}return t}},,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=a(n(0)),c=a(n(918)),l=a(n(1084)),o=a(n(1086));function a(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function d(t){var e=!0;return(null==t||0===t.length||t.rows&&0===t.rows.length)&&(e=!1),e}var g=(p(v,u.default.PureComponent||u.default.Component),r(v,[{key:"getG2Instance",value:function(){return this.chart}},{key:"render",value:function(){var t=this.props,e=t.data,n=t.width,r=t.height,i=t.placeholder,o=t.className,a=t.style;return u.default.createElement("div",{className:o,style:a},d(e)||this.hasViewSource()||!i?u.default.createElement(c.default,s({ref:this._refCallback},this.props)):u.default.createElement(l.default,{width:n,height:r,placeholder:!0===i?void 0:i}))}}]),v);function v(){var t,e,n;f(this,v);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=n=h(this,(t=v.__proto__||Object.getPrototypeOf(v)).call.apply(t,[this].concat(i))))._refCallback=function(t){t&&(n.chart=t.getG2Instance())},n.hasViewSource=function(){var e=!1;return u.default.Children.map(n.props.children,function(t){!e&&t&&"function"==typeof t.type&&"View"===t.type.name&&t.props.data&&d(t.props.data)&&(e=!0)}),e},h(n,e)}var y=(p(m,u.default.Component),r(m,[{key:"render",value:function(){var t=this.props,e=t.widthErrorBoundary,n=function(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["widthErrorBoundary"]);return!1===e?u.default.createElement(g,n):u.default.createElement(o.default,null,u.default.createElement(g,n))}}]),m);function m(){return f(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=n(0),s=h(a),u=h(n(1)),c=h(n(919)),l=h(n(150)),f=h(n(1083));function h(t){return t&&t.__esModule?t:{default:t}}var p=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(d,a.Component),i(d,[{key:"getChildContext",value:function(){return{addElement:this.addElement,updateElement:this.updateElement,deleteElement:this.deleteElement,createId:this.createId,getParentInfo:this.getParentInfo,getViewId:this.getViewId}}},{key:"componentDidMount",value:function(){var t;this.addElement(this.name,this.id,r({},this.props,{container:this.containerWrap})),this.chart=this.g2Processor.createG2Instance(),this.notifyG2Instance(),this.props.forceFit&&((t=new l.default(this.forceFit)).observe(this.containerWrap),this.observe=t)}},{key:"componentDidUpdate",value:function(){this.updateElement(this.name,this.id,r({},this.props,{container:this.containerWrap}));var t=this.g2Processor.batchedUpdate();this.chart!==t&&(this.chart=t,this.notifyG2Instance()),this.props.forceUpdate&&this.chart.forceFit()}},{key:"componentWillUnmount",value:function(){this.g2Processor.destory(),this.chart=null,this.forceFit&&this.forceFit.cancel(),this.observe&&this.observe.unobserve(this.containerWrap),this.containerWrap=null}},{key:"getG2Instance",value:function(){return this.chart}},{key:"notifyG2Instance",value:function(){this.props.onGetG2Instance&&this.props.onGetG2Instance(this.chart)}},{key:"render",value:function(){return s.default.createElement("div",{ref:this.refHandle},this.props.children)}}]),d);function d(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,t));return g.call(e),e.name="Chart",e.gId=0,e.id=e.createId(),e.g2Processor=new c.default,e.forceFit=(0,f.default)(function(){e.chart&&e.chart.forceFit()},300),e}p.propTypes={data:u.default.oneOfType([u.default.arrayOf(u.default.object),u.default.object]),scale:u.default.oneOfType([u.default.object,u.default.array]),animate:u.default.bool,width:u.default.number,height:u.default.number.isRequired,onGetG2Instance:u.default.func,forceFit:u.default.bool,forceUpdate:u.default.bool},p.childContextTypes={addElement:u.default.func,updateElement:u.default.func,deleteElement:u.default.func,createId:u.default.func,getParentInfo:u.default.func,getViewId:u.default.func};var g=function(){var o=this;this.getViewId=function(){},this.getParentInfo=function(){return{id:o.id,name:o.name}},this.createId=function(){return o.gId+=1,o.gId},this.addElement=function(t,e,n,r,i){return o.g2Processor.addElement(t,e,n,r,i)},this.updateElement=function(t,e,n,r,i){o.g2Processor.updateElement(t,e,n,r,i)},this.deleteElement=function(t,e,n){o.g2Processor.deleteElement(t,e,n)},this.refHandle=function(t){o.containerWrap||(o.containerWrap=t)}};e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=h(n(920)),s=h(n(652)),u=h(n(921)),c=h(n(1082)),l=h(n(809)),f=n(653);function h(t){return t&&t.__esModule?t:{default:t}}function p(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var d=(r(g,[{key:"calUpdateFlag",value:function(t,e){var n,r,i,o,a=this.elementInfos[e].props,s=(a.children,p(a,["children"])),u=this.elementInfos[e].updateProps,c=(u.children,p(u,["children"]));"Chart"===t||"View"===t?(n=s.data,r=p(s,["data"]),i=c.data,o=p(c,["data"]),n===i&&f.Util.isEqual(r,o)||(this.updated=!0)):f.Util.isEqual(s,c)||(this.updated=!0)}},{key:"addElement",value:function(t,e,n,r,i){!this.chart&&this.initedG2||(this.added=!0,this.elementInfos[e]={id:e,viewId:i,parentInfo:r,name:t,props:o({},n)},r&&!this.elementInfos[r.id]&&(this.elementInfos[r.id]={id:r.id,name:r.name}),a.default.addElement(t,this.config,this.elementInfos[e]))}},{key:"updateElement",value:function(t,e,n){this.elementInfos[e].updateProps=o({},n),this.calUpdateFlag(t,e)}},{key:"deleteElement",value:function(t,e){this.chart&&(this.deleteInfos[e]=e,this.deleted=!0)}},{key:"createG2Instance",value:function(){var t=this.config,e=l.default.createChart(t,this.elementInfos);return l.default.executeChartConfig(e,t,this.elementInfos),l.default.synchronizeG2Add(e,t,this.elementInfos),e.render(),this.chart=e,this.initedG2=!0,this.resetStates(),e}},{key:"destory",value:function(){this.chart.destroy(),this.chart=null}},{key:"resetStates",value:function(){var t=this.elementInfos;for(var e in t)t[e].updateProps&&delete t[e].updateProps,this.deleteInfos[e]&&delete t[e];this.added=!1,this.updated=!1,this.deleteInfos={}}},{key:"reExecuteChart",value:function(){return this.chart.clear(),s.default.merge(this.config,this.deleteInfos,this.elementInfos,!0),l.default.executeChartConfig(this.chart,this.config,this.elementInfos),l.default.synchronizeG2Add(this.chart,this.config,this.elementInfos),this.chart.repaint(),this.resetStates(),this.chart}},{key:"batchedUpdate",value:function(){return null==this.chart?null:this.config.chart.props.forceUpdate||u.default.needRebuildChart(this.config)?(s.default.merge(this.config,this.deleteInfos,this.elementInfos,!0),this.chart.destroy(),this.chart="destroy",this.createG2Instance()):(c.default.needReExecute(this.deleteInfos,this.elementInfos)||u.default.needReExecute(this.config)?this.reExecuteChart():(this.deleted&&(c.default.synchronizeG2Delete(this.chart,this.config,this.deleteInfos,this.elementInfos),s.default.mergeDelete(this.config,this.deleteInfos,this.elementInfos)),this.added&&l.default.synchronizeG2Add(this.chart,this.config),this.updated&&u.default.synchronizeG2Update(this.chart,this.config),(this.added||this.deleted||this.updated)&&this.chart.repaint(),s.default.mergeUpdate(this.config,!1),this.resetStates()),this.chart)}}]),g);function g(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,g),this.config={},this.elementInfos={},this.added=!1,this.initedG2=!1,this.updated=!1,this.deleted=!1,this.deleteInfos={}}e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={Chart:"addChart",Coord:"addCoord",Geom:"addGeom",Axis:"addAxis",Tooltip:"addTooltip",Legend:"addLegend",Label:"addLabel",View:"addView",Guide:"addGuide",GuideLine:"addGuideLine",GuideImage:"addGuideImage",GuideText:"addGuideText",GuideRegion:"addGuideRegion",GuideHtml:"addGuideHtml",GuideArc:"addGuideArc",GuideRegionFilter:"addGuideRegionFilter",GuideDataMarker:"addGuideDataMarker",GuideDataRegion:"addGuideDataRegion",Facet:"addFacet"},i={addElement:function(t,e,n){this[r[t]](e,n,n.id,n.viewId,n.parentInfo)},getConfigContainer:function(t,e){return e&&(t.views||(t.views={}),(t=t.views[e])||((t={}).views[e]=t)),t},addUniqueElement:function(t,e,n,r,i){var o=this.getConfigContainer(t,i);return o[e],o[e]=n,r},addChart:function(t,e,n){return this.addUniqueElement(t,"chart",e,n,null)},addView:function(t,e,n){return t.views||(t.views={}),t.views[n]=e,n},addAxis:function(t,e,n,r){var i=this.getConfigContainer(t,r);return i.axises||(i.axises={}),i.axises[n]=e,n},addCoord:function(t,e,n,r){return this.addUniqueElement(t,"coord",e,n,r)},addGeom:function(t,e,n,r,i){var o=this.getConfigContainer(t,r);return o.geoms||(o.geoms={}),o.geoms[n]?i?o.geoms[n].label=e.label:(o.geoms[n].label||console.log("geom label error"),e.label=o.geoms[n].label,o.geoms[n]=e):o.geoms[n]=e,n},addLabel:function(t,e,n,r,i){var o=this.getConfigContainer(t,r);return o.geoms||(o.geoms={}),this.addGeom(t,{label:e},i.id,r,!0),n},addTooltip:function(t,e,n,r){return this.addUniqueElement(t,"tooltip",e,n,r)},addFacet:function(t,e,n,r){return this.addUniqueElement(t,"facet",e,n,r)},addLegend:function(t,e,n,r){var i=this.getConfigContainer(t,r);return i.legends||(i.legends={}),i.legends[n]=e,n},addGuide:function(t,e,n,r){return this.addUniqueElement(t,"guide",e,n,r)},addTypedGuide:function(t,e,n,r,i,o){var a=this.getConfigContainer(t,i),s=a.guide;return s||(this.addUniqueElement("guide",{},o.id,i),s=a.guide),s.elements||(s.elements={}),n.type=e,s.elements[r]=n,r},addGuideLine:function(t,e,n,r,i){this.addTypedGuide(t,"line",e,n,r,i)},addGuideImage:function(t,e,n,r,i){this.addTypedGuide(t,"image",e,n,r,i)},addGuideText:function(t,e,n,r,i){this.addTypedGuide(t,"text",e,n,r,i)},addGuideRegion:function(t,e,n,r,i){this.addTypedGuide(t,"region",e,n,r,i)},addGuideHtml:function(t,e,n,r,i){this.addTypedGuide(t,"html",e,n,r,i)},addGuideArc:function(t,e,n,r,i){this.addTypedGuide(t,"arc",e,n,r,i)},addGuideRegionFilter:function(t,e,n,r,i){this.addTypedGuide(t,"regionFilter",e,n,r,i)},addGuideDataMarker:function(t,e,n,r,i){this.addTypedGuide(t,"dataMarker",e,n,r,i)},addGuideDataRegion:function(t,e,n,r,i){this.addTypedGuide(t,"dataRegion",e,n,r,i)}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g=n(653),r=a(n(808)),c=a(n(809)),o=a(n(652)),d=a(n(810));function a(t){return t&&t.__esModule?t:{default:t}}function l(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function f(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var s=r.default.COORD_FUNC_PROPS,h=r.default.GEOM_FUNC_PROPS,u={needRebuildChart:function(t){if(null==t.chart.props||null==t.chart.updateProps)return!1;var e=t.chart.props,n=t.chart.updateProps;return!(g.Util.shallowEqual(e.padding,n.padding)&&g.Util.shallowEqual(e.background,n.background)&&g.Util.shallowEqual(e.plotBackground,n.plotBackground)&&g.Util.shallowEqual(e.pixelRatio,n.pixelRatio))},needReExecute:function(t){var e=t.geoms;if(null==e)return!1;for(var n in e)if(e[n].props&&e[n].updateProps&&(e[n].props.type!==e[n].updateProps.type||e[n].props.color&&!e[n].updateProps.color||e[n].props.size&&!e[n].updateProps.size||e[n].props.shape&&!e[n].updateProps.shape))return!0;return!1},needRepaint:function(t){var e=t.chart;return e.props.data===e.updateProps.data},synchronizeG2Update:function(t,e){this.updateChart(t,e.chart),this.updateAxises(t,e.axises),this.updateTooltip(t,e),this.updateCoord(t,e),this.updateLegends(t,e.legends),this.updateGeoms(t,e.geoms),this.updateGuide(t,e.guide),this.updateFacet(t,e),this.updateViews(t,e)},updateChart:function(t,e){var n,r,i,o,a,s,u,c,l,f,h,p;e&&(n=e.props,r=e.updateProps,i=n.width,o=n.height,a=n.animate,s=n.data,u=n.scale,c=r.width,l=r.height,f=r.animate,h=r.data,p=r.scale,s!==h&&t.changeData(h),g.Util.shallowEqual(u,p)||(g.Util.isArray(p)?t.scale(p[0],p[1]):t.scale(p)),a!==f&&t.animate(f),i!==c&&o!==l?t.changeSize(c,l):i!==c?t.changeWidth(c):o!==l&&t.changeHeight(l),d.default.updateEvents(t,d.default.chartEvents,e.props,r),d.default.updateBaseEvents(t,e.updateProps,r))},updateAxis:function(t,e){var n=e.props,r=n.name,i=n.visible,o=f(n,["name","visible"]),a=e.updateProps,s=(a.name,a.visible),u=f(a,["name","visible"]);i!==s&&t.axis(r,!!s),g.Util.shallowEqual(o,u)||t.axis(r,u)},updateAxises:function(t,e){if(e)for(var n in e)e[n]&&e[n].props&&e[n].updateProps&&this.updateAxis(t,e[n])},updateTooltip:function(t,e){var n,r;e.tooltip&&(n=e.tooltip.props,r=e.tooltip.updateProps,null==n&&null==r||g.Util.shallowEqual(n,r)||t.tooltip(i({},r)))},updateCoord:function(t,e){var n,r,i,o,a=e.coord;a&&(n=a.props,r=a.updateProps,null!=n&&null!=r&&(i=g.Util.without(r,s.concat(["type"])),g.Util.shallowEqual(n,r)||(o=t.coord(r.type,i),a.g2Instance=o,g.Prop.init(s,r,function(t,e){"reflect"===e?g.Util.each(t,function(t){return o[e](t)}):"transpose"===e&&!0!==t[0]||o[e].apply(o,l(t))}))))},updateLegend:function(t,e){var n,r,i,o,a=e.props,s=e.updateProps;s&&(g.Util.shallowEqual(a,s)||(n=s.name,r=s.visible,i=f(s,["name","visible"]),o=r?i:r,t.legend.apply(t,l(n?[n,o]:[o]))))},updateLegends:function(t,e){if(null!=e)for(var n in e)e[n]&&this.updateLegend(t,e[n])},updateLabel:function(t,e,n){var r,i,o,a;null!=e&&null!=n&&(r=e.content,i=f(e,["content"]),o=n.content,a=f(n,["content"]),g.Util.shallowEqual(i,a)&&g.Util.shallowEqual(r,o)||(g.Util.isArray(o)?t.label(o[0],o[1],a):t.label(o,a)))},updateGeom:function(t,e){var n,r,i,o,a,s=e.props,u=e.updateProps;s&&u&&s.type===u.type&&(n=e.g2Instance,g.Util.shallowEqual(s,u)||(r=s.adjust,i=f(s,["adjust"]),o=u.adjust,a=f(u,["adjust"]),(r||o)&&n.adjust(o),g.Prop.update(h,i,a,function(t,e){n[e].apply(n,l(t))})),e.label&&this.updateLabel(n,e.label.props,e.label.updateProps))},updateGeoms:function(t,e){if(null==e)return!1;for(var n in e)e[n]&&this.updateGeom(t,e[n]);return!1},isTypedGuideChanged:function(t){return!g.Util.shallowEqual(t.props,t.updateProps)},updateGuide:function(t,e){if(e&&e.elements){var n=e.elements,r=!1;for(var i in n)if(n[i]&&(n[i].updateProps||this.isTypedGuideChanged(n[i]))){r=!0;break}r&&(o.default.mergeGuide(e,!0),t.guide().clear(),c.default.guide(t,e))}},updateView:function(t,e){var n,r,i,o,a,s,u,c,l,f,h,p,d;e&&e.props&&e.updateProps&&"Facet"!==e.parentInfo.name&&(n=e.g2Instance,r=e.props,i=e.updateProps,o=r.scale,a=r.data,s=r.animate,u=r.axis,c=r.filter,l=i.scale,f=i.animate,h=i.data,p=i.axis,d=i.filter,s!==f&&n.animate(f),a!==h&&n.changeData(h),g.Util.shallowEqual(o,l)||n.scale(l),g.Util.shallowEqual(c,d)||d.forEach(function(t){n.filter(t[0],t[1])}),u!==p&&n.axis(p),this.updateCoord(n,e),this.updateAxises(n,e.axises),this.updateGeoms(n,e.geoms),this.updateGuide(n,e.guide))},updateViews:function(t,e){var n=e.views;if(n)for(var r in n){var i=n[r];i&&(i.needReExecute||this.needReExecute(i))?(c.default.synchronizeG2View(i.g2Instance,i),n[r].needReExecute=!1):this.updateView(t,i)}},updateFacet:function(t,e){var n,r,i,o,a,s,u=e.facet;u&&(n=u.props,r=u.updateProps,null!=n&&null!=r&&(i=n.type,o=f(n,["type"]),a=r.type,s=f(r,["type"]),i===a&&g.Util.shallowEqual(o,s)||(u.props=r,c.default.facet(t,e))))}};e.default=u},function(t,e,n){var E=n(545),C=n(551),P=n(723),k=[1,1.2,1.5,1.6,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],A=[1,2,4,5,10];t.exports=function(t){var e,n=t.min,r=t.max,i=t.interval,o=t.minTickInterval,a=[],s=t.minCount||5,u=t.maxCount||7,c=s===u,l=E(t.minLimit)?-1/0:t.minLimit,f=E(t.maxLimit)?1/0:t.maxLimit,h=(s+u)/2,p=h,d=t.snapArray?t.snapArray:c?k:A;if(n===l&&r===f&&c&&(i=(r-n)/(p-1)),E(n)&&(n=0),E(r)&&(r=0),Math.abs(r-n)<1e-12&&(0===n?r=1:0<n?n=0:r=0,r-n<5&&!i&&1<=r-n&&(i=1)),E(i)&&(e=(r-n)/(h-1),i=P.snapFactorTo(e,d,"ceil"),u!==s&&(u<(p=parseInt((r-n)/i,10))&&(p=u),p<s&&(p=s),i=P.snapFactorTo((r-n)/(p-1),d))),C(o)&&i<o&&(i=o),t.interval||u!==s){r=Math.min(P.snapMultiple(r,i,"ceil"),f),n=Math.max(P.snapMultiple(n,i,"floor"),l),p=Math.round((r-n)/i),n=P.fixedBase(n,i),r=P.fixedBase(r,i);for(var g=null;l<n&&-1/0<l&&(null===g||n<g);)g=n,n=P.fixedBase(n-i,i)}else{h=parseInt(h,10);for(var v=(r+n)/2,y=P.snapMultiple(v,i,"ceil"),m=Math.floor((h-2)/2),x=y+m*i,b=h%2==0?y-m*i:y-(m+1)*i,w=null;x<r&&(null===w||w<x);)w=x,x=P.fixedBase(x+i,i);for(var _=null;n<b&&(null===_||b<_);)_=b,b=P.fixedBase(b-i,i);r=x,n=b}r=Math.min(r,f),n=Math.max(n,l),a.push(n);for(var S=1;S<p;S++){var M=P.fixedBase(i*S+n,i);M<r&&a.push(M)}return a[a.length-1]<r&&a.push(r),{min:n,max:r,interval:i,count:p,ticks:a}}},function(t,e,n){var r=n(571),o=n(551),i=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n;var i=r.prototype;return i._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.isIdentity=!0,this.type="identity",this.value=null},i.getText=function(){return this.value.toString()},i.scale=function(t){return this.value!==t&&o(t)?t:this.range[0]},i.invert=function(){return this.value},r}(r);r.Identity=i,t.exports=i},function(t,e,n){var o=n(726),s=n(535),u=n(545),a=n(554),r=n(571),i=n(608),c=n(925),l=n(609),f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var i=r.prototype;return i._initDefaultCfg=function(){e.prototype._initDefaultCfg.call(this),this.type="time",this.mask="YYYY-MM-DD"},i.init=function(){var n,r,i,o,a=this,t=a.values;t&&t.length&&(n=[],i=r=1/0,o=0,s(t,function(t){var e=a._toTimeStamp(t);if(isNaN(e))throw new TypeError("Invalid Time: "+t);e<r?(i=r,r=e):e<i&&(i=e),o<e&&(o=e),n.push(e)}),1<t.length&&(a.minTickInterval=i-r),(u(a.min)||a._toTimeStamp(a.min)>r)&&(a.min=r),(u(a.max)||a._toTimeStamp(a.max)<o)&&(a.max=o)),e.prototype.init.call(this)},i.calculateTicks=function(){var t=this.min,e=this.max,n=this.tickCount,r=this.tickInterval;return c({min:t,max:e,minCount:n,maxCount:n,interval:r,minInterval:this.minTickInterval}).ticks},i.getText=function(t){var e=this.formatter;return t=this.translate(t),t=e?e(t):o.format(t,this.mask)},i.scale=function(t){return a(t)&&(t=this.translate(t)),e.prototype.scale.call(this,t)},i.translate=function(t){return this._toTimeStamp(t)},i._toTimeStamp=function(t){return l.toTimeStamp(t)},r}(i);r.Time=f,t.exports=f},function(t,e,n){var Z=n(723),Q=n(545),J=[1,2,4,6,8,12];function $(t){return new Date(t).getFullYear()}function K(t){return new Date(t).getMonth()}t.exports=function(t){var e,n,r,i,o,a,s,u,c,l,f,h,p=t.minInterval,d=[],g=t.min,v=t.max,y=t.interval;if(v===g&&(v=g+864e5),Q(y)){y=parseInt((v-g)/(t.maxCount||6),10),p&&y<p&&(y=p);var m=y/31536e6,x=$(g);if(.51<m){for(var b=Math.ceil(m),w=$(v),_=x;_<=w+b;_+=b)d.push(new Date(_,0,1).getTime());y=null}else if(.0834<m){for(var S=Math.ceil(m/.0834),M=K(g),E=(c=v,l=$(u=g),f=$(c),h=K(u),12*(f-l)+(K(c)-h)%12),C=0;C<=E+S;C+=S)d.push(new Date(x,C+M,1).getTime());y=null}else if(432e5<y)for(var P=new Date(g),k=P.getFullYear(),A=P.getMonth(g),T=P.getDate(),O=Math.ceil(y/864e5),I=(a=g,s=v,Math.ceil((s-a)/864e5)),y=864e5*O,j=0;j<I+O;j+=O)d.push(new Date(k,A,T+j).getTime());else if(36e5<y){var R=new Date(g),L=R.getFullYear(),D=R.getMonth(g),B=R.getDate(),F=R.getHours(),N=Z.snapTo(J,Math.ceil(y/36e5)),z=(i=g,o=v,Math.ceil((o-i)/36e5));y=36e5*N;for(var G=0;G<=z+N;G+=N)d.push(new Date(L,D,B,F+G).getTime())}else if(6e4<y){var V=(n=g,r=v,Math.ceil((r-n)/6e4)),Y=Math.ceil(y/6e4);y=6e4*Y;for(var H=0;H<=V+Y;H+=Y)d.push(g+6e4*H)}else{y<1e3&&(y=1e3),g=1e3*Math.floor(g/1e3);var q=Math.ceil((v-g)/1e3),W=Math.ceil(y/1e3);y=1e3*W;for(var X=0;X<q+W;X+=W)d.push(g+1e3*X)}}if(!d.length){g=1e3*Math.floor(g/1e3),e=((v=1e3*Math.ceil(v/1e3))-g)/y;for(var U=0;U<=e;U++)d.push(Z.fixedBase(y*U+g,y))}return{max:v,min:g,interval:y,ticks:d,count:d.length}}},function(t,e,n){var r=n(571),i=n(724),o=n(726),a=n(725),s=n(609),u=n(535),c=n(551),l=n(587),f=n(554),h=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n;var i=r.prototype;return i._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="timeCat",this.sortable=!0,this.tickCount=5,this.mask="YYYY-MM-DD"},i.init=function(){var n=this,r=this.values;u(r,function(t,e){r[e]=n._toTimeStamp(t)}),this.sortable&&r.sort(function(t,e){return t-e}),n.ticks||(n.ticks=this.calculateTicks())},i.calculateTicks=function(){var t=this.tickCount;return t?a({maxCount:t,data:this.values,isRounding:this.isRounding}).ticks:this.values},i.translate=function(t){t=this._toTimeStamp(t);var e=this.values.indexOf(t);return-1===e&&(e=c(t)&&t<this.values.length?t:NaN),e},i.scale=function(t){var e=this.rangeMin(),n=this.rangeMax(),r=this.translate(t),i=1===this.values.length||isNaN(r)?r:-1<r?r/(this.values.length-1):0;return e+i*(n-e)},i.getText=function(t){var e="",n=this.translate(t),e=-1<n?this.values[n]:t,r=this.formatter;return e=parseInt(e,10),e=r?r(e):o.format(e,this.mask)},i.getTicks=function(){var n=this,t=this.ticks,r=[];return u(t,function(t){var e=l(t)?t:{text:f(t)?t:n.getText(t),value:n.scale(t),tickValue:t};r.push(e)}),r},i._toTimeStamp=function(t){return s.toTimeStamp(t)},r}(i);r.TimeCat=h,t.exports=h},function(t,e,n){var f=n(535),r=n(571);function h(t,e){return 1===t?1:Math.log(e)/Math.log(t)}var i=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n;var i=r.prototype;return i._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="log",this.tickCount=10,this.base=2,this._minTick=null},i.calculateTicks=function(){var t,e=this,n=e.base;if(e.min<0)throw new Error("The minimum value must be greater than zero!");var r,i,o=h(n,e.max);0<e.min?t=Math.floor(h(n,e.min)):(r=e.values,i=e.max,f(r,function(t){0<t&&t<i&&(i=t)}),i===e.max&&(i=e.max/n),1<i&&(i=1),t=Math.floor(h(n,i)),e._minTick=t,e.positiveMin=i);for(var a=o-t,s=e.tickCount,u=Math.ceil(a/s),c=[],l=t;l<o+u;l+=u)c.push(Math.pow(n,l));return 0===e.min&&c.unshift(0),c},i._getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;if(t<=0)return 0;var r=this.base,i=this.positiveMin;return i&&(n=i/r),t<i?t/i/(h(r,e)-h(r,n)):(h(r,t)-h(r,n))/(h(r,e)-h(r,n))},i.scale=function(t){var e=this._getScalePercent(t),n=this.rangeMin();return n+e*(this.rangeMax()-n)},i.invert=function(t){var e,n=this.base,r=h(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,a=this.positiveMin;if(a){if(0===t)return 0;var s=1/(r-(e=h(n,a/n)))*o;if(t<s)return t/s*a}else e=h(n,this.min);var u=(t-i)/o*(r-e)+e;return Math.pow(n,u)},r}(n(608));r.Log=i,t.exports=i},function(t,e,n){var r=n(571);function c(t,e){var n=Math.E;return Math.pow(n,Math.log(e)/t)}var i=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n;var i=r.prototype;return i._initDefaultCfg=function(){t.prototype._initDefaultCfg.call(this),this.type="pow",this.tickCount=10,this.exponent=2},i.calculateTicks=function(){var t,e,n=this.exponent,r=Math.ceil(c(n,this.max));r<(e=0<=this.min?Math.floor(c(n,this.min)):0)&&(t=r,r=e,e=t);for(var i=r-e,o=this.tickCount,a=Math.ceil(i/o),s=[],u=e;u<r+a;u+=a)s.push(Math.pow(u,n));return s},i._getScalePercent=function(t){var e=this.max,n=this.min;if(e===n)return 0;var r=this.exponent;return(c(r,t)-c(r,n))/(c(r,e)-c(r,n))},i.scale=function(t){var e=this._getScalePercent(t),n=this.rangeMin();return n+e*(this.rangeMax()-n)},i.invert=function(t){var e=(t-this.rangeMin())/(this.rangeMax()-this.rangeMin()),n=this.exponent,r=c(n,this.max),i=c(n,this.min),o=e*(r-i)+i;return Math.pow(o,n)},r}(n(608));r.Pow=i,t.exports=i},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var i=n(533),o=n(747),a=n(748),s=n(938),u=n(939);r.CFG={eventEnable:!0,width:null,height:null,widthCanvas:null,heightCanvas:null,widthStyle:null,heightStyle:null,containerDOM:null,canvasDOM:null,pixelRatio:null,renderer:"canvas"},i.extend(r,a),i.augment(r,{init:function(){r.superclass.init.call(this),this._setGlobalParam(),this._setContainer(),this._initPainter(),this._scale(),this.get("eventEnable")&&this._registEvents()},getEmitter:function(t,e){if(t){if(!i.isEmpty(t._getEvents()))return t;var n=t.get("parent");if(n&&!e.propagationStopped)return this.getEmitter(n,e)}},_getEventObj:function(t,e,n,r){var i=new o(t,e,!0,!0);return i.x=n.x,i.y=n.y,i.clientX=e.clientX,i.clientY=e.clientY,i.currentTarget=r,i.target=r,i},_triggerEvent:function(t,e){var n,r,i,o,a,s,u,c=this.getPointByClient(e.clientX,e.clientY),l=this.getShape(c.x,c.y,e),f=this.get("el");"mousemove"===t?((n=this.get("preShape"))&&n!==l&&(r=this._getEventObj("mouseleave",e,c,n),(i=this.getEmitter(n,e))&&i.emit("mouseleave",r),f.style.cursor="default"),l?(o=this._getEventObj("mousemove",e,c,l),(i=this.getEmitter(l,e))&&i.emit("mousemove",o),n!==l&&(a=this._getEventObj("mouseenter",e,c,l),i&&i.emit("mouseenter",a,e))):(s=this._getEventObj("mousemove",e,c,this),this.emit("mousemove",s)),this.set("preShape",l)):(u=this._getEventObj(t,e,c,l||this),(i=this.getEmitter(l,e))&&i!==this&&i.emit(t,u),this.emit(t,u)),l&&!l.get("destroyed")&&(f.style.cursor=l.attr("cursor")||"default")},_registEvents:function(){var n=this,t=n.get("el");i.each(["mouseout","mouseover","mousemove","mousedown","mouseleave","mouseup","click","dblclick"],function(e){t.addEventListener(e,function(t){n._triggerEvent(e,t)},!1)}),t.addEventListener("touchstart",function(t){i.isEmpty(t.touches)||n._triggerEvent("touchstart",t.touches[0])},!1),t.addEventListener("touchmove",function(t){i.isEmpty(t.touches)||n._triggerEvent("touchmove",t.touches[0])},!1),t.addEventListener("touchend",function(t){i.isEmpty(t.changedTouches)||n._triggerEvent("touchend",t.changedTouches[0])},!1)},_scale:function(){var t=this.get("pixelRatio");this.scale(t,t)},_setGlobalParam:function(){this.get("pixelRatio")||this.set("pixelRatio",i.getRatio());var t=u[this.get("renderer")||"canvas"];this._cfg.renderer=t,this._cfg.canvas=this;var e=new s(this);this._cfg.timeline=e},_setContainer:function(){var t=this.get("containerId"),e=this.get("containerDOM");e||(e=document.getElementById(t),this.set("containerDOM",e)),i.modifyCSS(e,{position:"relative"})},_initPainter:function(){var t=this.get("containerDOM"),e=new this._cfg.renderer.painter(t);this._cfg.painter=e,this._cfg.canvasDOM=this._cfg.el=e.canvas,this.changeSize(this.get("width"),this.get("height"))},_resize:function(){var t=this.get("canvasDOM"),e=this.get("widthCanvas"),n=this.get("heightCanvas"),r=this.get("widthStyle"),i=this.get("heightStyle");t.style.width=r,t.style.height=i,t.setAttribute("width",e),t.setAttribute("height",n)},getWidth:function(){var t=this.get("pixelRatio");return this.get("width")*t},getHeight:function(){var t=this.get("pixelRatio");return this.get("height")*t},changeSize:function(t,e){var n=this.get("pixelRatio"),r=t*n,i=e*n;this.set("widthCanvas",r),this.set("heightCanvas",i),this.set("widthStyle",t+"px"),this.set("heightStyle",e+"px"),this.set("width",t),this.set("height",e),this._resize()},getPointByClient:function(t,e){var n=this.get("el"),r=this.get("pixelRatio")||1,i=n.getBoundingClientRect();return{x:(t-i.left)*r,y:(e-i.top)*r}},getClientByPoint:function(t,e){var n=this.get("el").getBoundingClientRect(),r=this.get("pixelRatio")||1;return{clientX:t/r+n.left,clientY:e/r+n.top}},draw:function(){this._cfg.painter.draw(this)},getShape:function(t,e,n){return 3===arguments.length&&this._cfg.renderer.getShape?this._cfg.renderer.getShape.call(this,t,e,n):r.superclass.getShape.call(this,t,e)},_drawSync:function(){this._cfg.painter.drawSync(this)},destroy:function(){var t=this._cfg,e=t.containerDOM,n=t.canvasDOM;n&&e&&e.removeChild(n),t.timeline.stop(),r.superclass.destroy.call(this)}}),t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=function(){var t=new b.ARRAY_TYPE(9);b.ARRAY_TYPE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0);return t[0]=1,t[4]=1,t[8]=1,t},e.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},e.clone=function(t){var e=new b.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromValues=function(t,e,n,r,i,o,a,s,u){var c=new b.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=i,c[5]=o,c[6]=a,c[7]=s,c[8]=u,c},e.set=function(t,e,n,r,i,o,a,s,u,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=c,t},e.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.transpose=function(t,e){{var n,r,i;t===e?(n=e[1],r=e[2],i=e[5],t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i):(t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8])}return t},e.invert=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=l*a-s*c,h=-l*o+s*u,p=c*o-a*u,d=n*f+r*h+i*p;return d?(d=1/d,t[0]=f*d,t[1]=(-l*r+i*c)*d,t[2]=(s*r-i*a)*d,t[3]=h*d,t[4]=(l*n-i*u)*d,t[5]=(-s*n+i*o)*d,t[6]=p*d,t[7]=(-c*n+r*u)*d,t[8]=(a*n-r*o)*d,t):null},e.adjoint=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8];return t[0]=a*l-s*c,t[1]=i*c-r*l,t[2]=r*s-i*a,t[3]=s*u-o*l,t[4]=n*l-i*u,t[5]=i*o-n*s,t[6]=o*c-a*u,t[7]=r*u-n*c,t[8]=n*a-r*o,t},e.determinant=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],c=t[8];return e*(c*o-a*u)+n*(-c*i+a*s)+r*(u*i-o*s)},e.multiply=r,e.translate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=n[0],p=n[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=h*r+p*a+c,t[7]=h*i+p*s+l,t[8]=h*o+p*u+f,t},e.rotate=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=Math.sin(n),p=Math.cos(n);return t[0]=p*r+h*a,t[1]=p*i+h*s,t[2]=p*o+h*u,t[3]=p*a-h*r,t[4]=p*s-h*i,t[5]=p*u-h*o,t[6]=c,t[7]=l,t[8]=f,t},e.scale=function(t,e,n){var r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},e.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},e.fromRotation=function(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},e.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},e.fromQuat=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=n+n,s=r+r,u=i+i,c=n*a,l=r*a,f=r*s,h=i*a,p=i*s,d=i*u,g=o*a,v=o*s,y=o*u;return t[0]=1-f-d,t[3]=l-y,t[6]=h+v,t[1]=l+y,t[4]=1-c-d,t[7]=p-g,t[2]=h-v,t[5]=p+g,t[8]=1-c-f,t},e.normalFromMat4=function(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=e[9],h=e[10],p=e[11],d=e[12],g=e[13],v=e[14],y=e[15],m=n*s-r*a,x=n*u-i*a,b=n*c-o*a,w=r*u-i*s,_=r*c-o*s,S=i*c-o*u,M=l*g-f*d,E=l*v-h*d,C=l*y-p*d,P=f*v-h*g,k=f*y-p*g,A=h*y-p*v,T=m*A-x*k+b*P+w*C-_*E+S*M;return T?(T=1/T,t[0]=(s*A-u*k+c*P)*T,t[1]=(u*C-a*A-c*E)*T,t[2]=(a*k-s*C+c*M)*T,t[3]=(i*k-r*A-o*P)*T,t[4]=(n*A-i*C+o*E)*T,t[5]=(r*C-n*k-o*M)*T,t[6]=(g*S-v*_+y*w)*T,t[7]=(v*b-d*S-y*x)*T,t[8]=(d*_-g*b+y*m)*T,t):null},e.projection=function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},e.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},e.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},e.subtract=i,e.multiplyScalar=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},e.multiplyScalarAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=e[0],h=e[1],p=e[2],d=e[3],g=e[4],v=e[5],y=e[6],m=e[7],x=e[8];return Math.abs(n-f)<=b.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(r-h)<=b.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-p)<=b.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-d)<=b.EPSILON*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(a-g)<=b.EPSILON*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-v)<=b.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(u-y)<=b.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-m)<=b.EPSILON*Math.max(1,Math.abs(c),Math.abs(m))&&Math.abs(l-x)<=b.EPSILON*Math.max(1,Math.abs(l),Math.abs(x))};var b=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(660));function r(t,e,n){var r=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],l=e[7],f=e[8],h=n[0],p=n[1],d=n[2],g=n[3],v=n[4],y=n[5],m=n[6],x=n[7],b=n[8];return t[0]=h*r+p*a+d*c,t[1]=h*i+p*s+d*l,t[2]=h*o+p*u+d*f,t[3]=g*r+v*a+y*c,t[4]=g*i+v*s+y*l,t[5]=g*o+v*u+y*f,t[6]=m*r+x*a+b*c,t[7]=m*i+x*s+b*l,t[8]=m*o+x*u+b*f,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}e.mul=r,e.sub=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=r,e.clone=function(t){var e=new a.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},e.fromValues=function(t,e){var n=new a.ARRAY_TYPE(2);return n[0]=t,n[1]=e,n},e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},e.set=function(t,e,n){return t[0]=e,t[1]=n,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},e.subtract=i,e.multiply=o,e.divide=s,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},e.distance=u,e.squaredDistance=c,e.length=l,e.squaredLength=f,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},e.normalize=function(t,e){var n=e[0],r=e[1],i=n*n+r*r;0<i&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i);return t},e.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},e.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t},e.random=function(t,e){e=e||1;var n=2*a.RANDOM()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},e.transformMat2=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i,t[1]=n[1]*r+n[3]*i,t},e.transformMat2d=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[3]*i+n[6],t[1]=n[1]*r+n[4]*i+n[7],t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[4]*i+n[12],t[1]=n[1]*r+n[5]*i+n[13],t},e.rotate=function(t,e,n,r){var i=e[0]-n[0],o=e[1]-n[1],a=Math.sin(r),s=Math.cos(r);return t[0]=i*s-o*a+n[0],t[1]=i*a+o*s+n[1],t},e.angle=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=n*n+r*r;0<a&&(a=1/Math.sqrt(a));var s=i*i+o*o;0<s&&(s=1/Math.sqrt(s));var u=(n*i+r*o)*a*s;return 1<u?0:u<-1?Math.PI:Math.acos(u)},e.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},e.equals=function(t,e){var n=t[0],r=t[1],i=e[0],o=e[1];return Math.abs(n-i)<=a.EPSILON*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-o)<=a.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))};var a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(660));function r(){var t=new a.ARRAY_TYPE(2);return a.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0),t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function o(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function s(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function u(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}function c(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function l(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}function f(t){var e=t[0],n=t[1];return e*e+n*n}var h;e.len=l,e.sub=i,e.mul=o,e.div=s,e.dist=u,e.sqrDist=c,e.sqrLen=f,e.forEach=(h=r(),function(t,e,n,r,i,o){var a=void 0,s=void 0;for(e=e||2,n=n||0,s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)h[0]=t[a],h[1]=t[a+1],i(h,h,o),t[a]=h[0],t[a+1]=h[1];return t})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=r,e.clone=function(t){var e=new u.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},e.length=i,e.fromValues=o,e.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.set=function(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t},e.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t},e.subtract=a,e.multiply=s,e.divide=c,e.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},e.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},e.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t},e.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t},e.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},e.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t},e.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t},e.distance=l,e.squaredDistance=f,e.squaredLength=h,e.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},e.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},e.normalize=p,e.dot=d,e.cross=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[0],s=n[1],u=n[2];return t[0]=i*u-o*s,t[1]=o*a-r*u,t[2]=r*s-i*a,t},e.lerp=function(t,e,n,r){var i=e[0],o=e[1],a=e[2];return t[0]=i+r*(n[0]-i),t[1]=o+r*(n[1]-o),t[2]=a+r*(n[2]-a),t},e.hermite=function(t,e,n,r,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),l=a*(3-2*o);return t[0]=e[0]*s+n[0]*u+r[0]*c+i[0]*l,t[1]=e[1]*s+n[1]*u+r[1]*c+i[1]*l,t[2]=e[2]*s+n[2]*u+r[2]*c+i[2]*l,t},e.bezier=function(t,e,n,r,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,l=3*o*s,f=3*u*a,h=u*o;return t[0]=e[0]*c+n[0]*l+r[0]*f+i[0]*h,t[1]=e[1]*c+n[1]*l+r[1]*f+i[1]*h,t[2]=e[2]*c+n[2]*l+r[2]*f+i[2]*h,t},e.random=function(t,e){e=e||1;var n=2*u.RANDOM()*Math.PI,r=2*u.RANDOM()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1],o=e[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,t[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,t[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,t},e.transformMat3=function(t,e,n){var r=e[0],i=e[1],o=e[2];return t[0]=r*n[0]+i*n[3]+o*n[6],t[1]=r*n[1]+i*n[4]+o*n[7],t[2]=r*n[2]+i*n[5]+o*n[8],t},e.transformQuat=function(t,e,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=e[0],u=e[1],c=e[2],l=i*c-o*u,f=o*s-r*c,h=r*u-i*s,p=i*h-o*f,d=o*l-r*h,g=r*f-i*l,v=2*a;return l*=v,f*=v,h*=v,p*=2,d*=2,g*=2,t[0]=s+l+p,t[1]=u+f+d,t[2]=c+h+g,t},e.rotateX=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateY=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.rotateZ=function(t,e,n,r){var i=[],o=[];return i[0]=e[0]-n[0],i[1]=e[1]-n[1],i[2]=e[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},e.angle=function(t,e){var n=o(t[0],t[1],t[2]),r=o(e[0],e[1],e[2]);p(n,n),p(r,r);var i=d(n,r);return 1<i?0:i<-1?Math.PI:Math.acos(i)},e.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},e.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},e.equals=function(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(n-o)<=u.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(r-a)<=u.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-s)<=u.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))};var u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(660));function r(){var t=new u.ARRAY_TYPE(3);return u.ARRAY_TYPE!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function i(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function o(t,e,n){var r=new u.ARRAY_TYPE(3);return r[0]=t,r[1]=e,r[2]=n,r}function a(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function s(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function c(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function l(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(n*n+r*r+i*i)}function f(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}function h(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function p(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return 0<o&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function d(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}var g;e.sub=a,e.mul=s,e.div=c,e.dist=l,e.sqrDist=f,e.len=i,e.sqrLen=h,e.forEach=(g=r(),function(t,e,n,r,i,o){var a=void 0,s=void 0;for(e=e||3,n=n||0,s=r?Math.min(r*e+n,t.length):t.length,a=n;a<s;a+=e)g[0]=t[a],g[1]=t[a+1],g[2]=t[a+2],i(g,g,o),t[a]=g[0],t[a+1]=g[1],t[a+2]=g[2];return t})},function(t,e,n){var r=n(533);t.exports={canFill:!1,canStroke:!1,initAttrs:function(t){return this._attrs={opacity:1,fillOpacity:1,strokeOpacity:1,matrix:[1,0,0,0,1,0,0,0,1]},this.attr(r.assign(this.getDefaultAttrs(),t)),this},getDefaultAttrs:function(){return{}},attr:function(t,e){if(0===arguments.length)return this._attrs;if(r.isObject(t)){for(var n in t)this._setAttr(n,t[n]);return this.clearBBox(),this._cfg.hasUpdate=!0,this}return 2===arguments.length?(this._setAttr(t,e),this.clearBBox(),this._cfg.hasUpdate=!0,this):this._attrs[t]},_setAttr:function(t,e){var n=this._attrs;n[t]=e,"fill"!==t&&"stroke"!==t?"opacity"!==t?"clip"===t&&e?this._setClip(e):"path"===t&&this._afterSetAttrPath?this._afterSetAttrPath(e):"transform"!==t?"rotate"===t&&this.rotateAtStart(e):this.transform(e):n.globalAlpha=e:n[t+"Style"]=e},clearBBox:function(){this.setSilent("box",null)},hasFill:function(){return this.canFill&&this._attrs.fillStyle},hasStroke:function(){return this.canStroke&&this._attrs.strokeStyle},_setClip:function(t){t._cfg.renderer=this._cfg.renderer,t._cfg.canvas=this._cfg.canvas,t._cfg.parent=this._cfg.parent,t.hasFill=function(){return!0}}}},function(t,e,n){var i=n(533);function r(t){return 1===t[0]&&0===t[1]&&0===t[3]&&1===t[4]&&0===t[6]&&0===t[7]}function o(t){return 0===t[1]&&0===t[3]&&0===t[6]&&0===t[7]}function a(t,e){r(e)||(o(e)?(t[0]*=e[0],t[4]*=e[4]):i.mat3.multiply(t,t,e))}t.exports={initTransform:function(){},resetMatrix:function(){this.attr("matrix",[1,0,0,0,1,0,0,0,1])},translate:function(t,e){var n=this._attrs.matrix;return i.mat3.translate(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotate:function(t){var e=this._attrs.matrix;return i.mat3.rotate(e,e,t),this.clearTotalMatrix(),this.attr("matrix",e),this},scale:function(t,e){var n=this._attrs.matrix;return i.mat3.scale(n,n,[t,e]),this.clearTotalMatrix(),this.attr("matrix",n),this},rotateAtStart:function(t){var e=this._attrs.x||this._cfg.attrs.x,n=this._attrs.y||this._cfg.attrs.y;return Math.abs(t)>2*Math.PI&&(t=t/180*Math.PI),this.transform([["t",-e,-n],["r",t],["t",e,n]])},move:function(t,e){var n=this.get("x")||0,r=this.get("y")||0;return this.translate(t-n,e-r),this.set("x",t),this.set("y",e),this},transform:function(t){var e=this,n=this._attrs.matrix;return i.each(t,function(t){switch(t[0]){case"t":e.translate(t[1],t[2]);break;case"s":e.scale(t[1],t[2]);break;case"r":e.rotate(t[1]);break;case"m":e.attr("matrix",i.mat3.multiply([],n,t[1])),e.clearTotalMatrix()}}),e},setTransform:function(t){return this.attr("matrix",[1,0,0,0,1,0,0,0,1]),this.transform(t)},getMatrix:function(){return this.attr("matrix")},setMatrix:function(t){return this.attr("matrix",t),this.clearTotalMatrix(),this},apply:function(t,e){var n=e?this._getMatrixByRoot(e):this.attr("matrix");return i.vec3.transformMat3(t,t,n),this},_getMatrixByRoot:function(t){t=t||this;for(var e=this,n=[];e!==t;)n.unshift(e),e=e.get("parent");n.unshift(e);var r=[1,0,0,0,1,0,0,0,1];return i.each(n,function(t){i.mat3.multiply(r,t.attr("matrix"),r)}),r},getTotalMatrix:function(){var t,e=this._cfg.totalMatrix;return e||(e=[1,0,0,0,1,0,0,0,1],(t=this._cfg.parent)&&a(e,t.getTotalMatrix()),a(e,this.attr("matrix")),this._cfg.totalMatrix=e),e},clearTotalMatrix:function(){},invert:function(t){var e,n=this.getTotalMatrix();return o(n)?(t[0]/=n[0],t[1]/=n[4]):(e=i.mat3.invert([],n))&&i.vec3.transformMat3(t,t,e),this},resetTransform:function(t){var e=this.attr("matrix");r(e)||t.transform(e[0],e[1],e[3],e[4],e[6],e[7])}}},function(t,e,n){var d=n(533),g={delay:"delay",rotate:"rotate"},v={fill:"fill",stroke:"stroke",fillStyle:"fillStyle",strokeStyle:"strokeStyle"};t.exports={animate:function(t,e,n,r,i){void 0===i&&(i=0);var o=this;o.set("animating",!0);var a=o.get("timeline");a||(a=o.get("canvas").get("timeline"),o.setSilent("timeline",a));var s=o.get("animators")||[];a._timer||a.initTimer(),d.isNumber(r)&&(i=r,r=null),n=d.isFunction(n)?(r=n,"easeLinear"):n||"easeLinear";var u,c,l,f,h=function(t,e){var n={matrix:null,attrs:{}},r=e._attrs;for(var i in t)if("transform"===i)n.matrix=d.transform(e.getMatrix(),t[i]);else if("rotate"===i)n.matrix=d.transform(e.getMatrix(),[["r",t[i]]]);else if("matrix"===i)n.matrix=t[i];else{if(v[i]&&/^[r,R,L,l]{1}[\s]*\(/.test(t[i]))continue;g[i]||r[i]===t[i]||(n.attrs[i]=t[i])}return n}(t,o),p={fromAttrs:function(t,e){var n={},r=e._attrs;for(var i in t.attrs)n[i]=r[i];return n}(h,o),toAttrs:h.attrs,fromMatrix:d.clone(o.getMatrix()),toMatrix:h.matrix,duration:e,easing:n,callback:r,delay:i,startTime:a.getTime(),id:d.uniqueId()};0<s.length?(u=s,l=(c=p).delay,f=Object.prototype.hasOwnProperty,d.each(c.toAttrs,function(t,e){d.each(u,function(t){l<t.startTime+t.duration&&f.call(t.toAttrs,e)&&(delete t.toAttrs[e],delete t.fromAttrs[e])})}),c.toMatrix&&d.each(u,function(t){l<t.startTime+t.duration&&t.toMatrix&&delete t.toMatrix}),s=u):a.addAnimator(o),s.push(p),o.setSilent("animators",s),o.setSilent("pause",{isPaused:!1})},stopAnimate:function(){var e=this,t=this.get("animators");d.each(t,function(t){e.attr(t.toAttrs),t.toMatrix&&e.attr("matrix",t.toMatrix),t.callback&&t.callback()}),this.setSilent("animating",!1),this.setSilent("animators",[])},pauseAnimate:function(){var t=this.get("timeline");return this.setSilent("pause",{isPaused:!0,pauseTime:t.getTime()}),this},resumeAnimate:function(){var e=this.get("timeline").getTime(),t=this.get("animators"),n=this.get("pause").pauseTime;return d.each(t,function(t){t.startTime=t.startTime+(e-n),t._paused=!1,t._pauseTime=null}),this.setSilent("pause",{isPaused:!1}),this.setSilent("animators",t),this}}},function(t,e,n){var r=n(546);r.Arc=n(752),r.Circle=n(753),r.Dom=n(754),r.Ellipse=n(755),r.Fan=n(756),r.Image=n(757),r.Line=n(758),r.Marker=n(663),r.Path=n(759),r.Polygon=n(760),r.Polyline=n(761),r.Rect=n(762),r.Text=n(763),t.exports=r},function(t,e,n){var y=n(533),m=n(661),x={arc:n(613),ellipse:n(751),line:n(612)},r=y.createDom('<canvas width="500" height="500"></canvas>').getContext("2d");function s(t,e,n){return n.createPath(r),r.isPointInPath(t,e)}var i={arc:function(t,e){var n=this._attrs,r=n.x,i=n.y,o=n.r,a=n.startAngle,s=n.endAngle,u=n.clockwise,c=this.getHitLineWidth();return!!this.hasStroke()&&m.arcline(r,i,o,a,s,u,c,t,e)},circle:function(t,e){var n=this._attrs,r=n.x,i=n.y,o=n.r,a=this.getHitLineWidth(),s=this.hasFill(),u=this.hasStroke();return s&&u?m.circle(r,i,o,t,e)||m.arcline(r,i,o,0,2*Math.PI,!1,a,t,e):s?m.circle(r,i,o,t,e):!!u&&m.arcline(r,i,o,0,2*Math.PI,!1,a,t,e)},dom:function(t,e){if(!this._cfg.el)return!1;var n=this._cfg.el.getBBox();return m.box(n.x,n.x+n.width,n.y,n.y+n.height,t,e)},ellipse:function(t,e){var n=this._attrs,r=this.hasFill(),i=this.hasStroke(),o=n.x,a=n.y,s=n.rx,u=n.ry,c=this.getHitLineWidth(),l=u<s?s:u,f=u<s?1:s/u,h=u<s?u/s:1,p=[t,e,1],d=[1,0,0,0,1,0,0,0,1];y.mat3.scale(d,d,[f,h]),y.mat3.translate(d,d,[o,a]);var g=y.mat3.invert([],d);return y.vec3.transformMat3(p,p,g),r&&i?m.circle(0,0,l,p[0],p[1])||m.arcline(0,0,l,0,2*Math.PI,!1,c,p[0],p[1]):r?m.circle(0,0,l,p[0],p[1]):!!i&&m.arcline(0,0,l,0,2*Math.PI,!1,c,p[0],p[1])},fan:function(o,a){var s=this,t=s.hasFill(),e=s.hasStroke(),n=s._attrs,u=n.x,c=n.y,l=n.rs,f=n.re,h=n.startAngle,p=n.endAngle,d=n.clockwise,r=[o-u,a-c],i=y.vec2.angleTo([1,0],r);function g(){var t=x.arc.nearAngle(i,h,p,d);if(y.isNumberEqual(i,t)){var e=y.vec2.squaredLength(r);if(l*l<=e&&e<=f*f)return!0}return!1}function v(){var t=s.getHitLineWidth(),e={x:Math.cos(h)*l+u,y:Math.sin(h)*l+c},n={x:Math.cos(h)*f+u,y:Math.sin(h)*f+c},r={x:Math.cos(p)*l+u,y:Math.sin(p)*l+c},i={x:Math.cos(p)*f+u,y:Math.sin(p)*f+c};return!!m.line(e.x,e.y,n.x,n.y,t,o,a)||(!!m.line(r.x,r.y,i.x,i.y,t,o,a)||(!!m.arcline(u,c,l,h,p,d,t,o,a)||!!m.arcline(u,c,f,h,p,d,t,o,a)))}return t&&e?g()||v():t?g():!!e&&v()},image:function(t,e){var n=this._attrs;if(this.get("toDraw")||!n.img)return!1;this._cfg.attrs&&this._cfg.attrs.img===n.img||this._setAttrImg();var r=n.x,i=n.y,o=n.width,a=n.height;return m.rect(r,i,o,a,t,e)},line:function(t,e){var n=this._attrs,r=n.x1,i=n.y1,o=n.x2,a=n.y2,s=this.getHitLineWidth();return!!this.hasStroke()&&m.line(r,i,o,a,s,t,e)},path:function(r,i){var o=this,a=o.get("segments"),t=o.hasFill(),e=o.hasStroke();function n(){if(!y.isEmpty(a)){for(var t=o.getHitLineWidth(),e=0,n=a.length;e<n;e++)if(a[e].isInside(r,i,t))return!0;return!1}}return t&&e?s(r,i,o)||n():t?s(r,i,o):!!e&&n()},marker:function(t,e){var n=this._attrs,r=n.x,i=n.y,o=n.radius||n.r,a=this.getHitLineWidth();return m.circle(r,i,o+a/2,t,e)},polygon:function(r,i){var o=this,t=o.hasFill(),e=o.hasStroke();function n(){var t=o._attrs.points;if(t.length<2)return!1;var e=o.getHitLineWidth(),n=t.slice(0);return 3<=t.length&&n.push(t[0]),m.polyline(n,e,r,i)}return t&&e?s(r,i,o)||n():t?s(r,i,o):!!e&&n()},polyline:function(t,e){var n=this._attrs;if(this.hasStroke()){var r=n.points;if(r.length<2)return!1;var i=n.lineWidth;return m.polyline(r,i,t,e)}return!1},rect:function(u,c){var l=this,t=l.hasFill(),e=l.hasStroke();function n(){var t=l._attrs,e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius,a=l.getHitLineWidth();if(0!==o)return m.line(e+o,n,e+r-o,n,a,u,c)||m.line(e+r,n+o,e+r,n+i-o,a,u,c)||m.line(e+r-o,n+i,e+o,n+i,a,u,c)||m.line(e,n+i-o,e,n+o,a,u,c)||m.arcline(e+r-o,n+o,o,1.5*Math.PI,2*Math.PI,!1,a,u,c)||m.arcline(e+r-o,n+i-o,o,0,.5*Math.PI,!1,a,u,c)||m.arcline(e+o,n+i-o,o,.5*Math.PI,Math.PI,!1,a,u,c)||m.arcline(e+o,n+o,o,Math.PI,1.5*Math.PI,!1,a,u,c);var s=a/2;return m.line(e-s,n,e+r+s,n,a,u,c)||m.line(e+r,n-s,e+r,n+i+s,a,u,c)||m.line(e+r+s,n+i,e-s,n+i,a,u,c)||m.line(e,n+i+s,e,n-s,a,u,c)}return t&&e?s(u,c,l)||n():t?s(u,c,l):!!e&&n()},text:function(t,e){var n=this.getBBox();if(this.hasFill()||this.hasStroke())return m.box(n.minX,n.maxX,n.minY,n.maxY,t,e)}};t.exports={isPointInPath:function(t,e){var n=i[this.type];return!!n&&n.call(this,t,e)}}},function(t,e,n){function r(t){this._animators=[],this._current=0,this._timer=null,this.canvas=t}var y=n(533),m=n(664),u=n(644),s=n(719),i=n(1335),x=i.interpolate,b=i.interpolateArray;function c(t,e,n){var r,i=e.startTime;if(n<i+e.delay||e.isPaused)return!1;var o=e.duration,a=e.easing;if(n=n-i-e.delay,e.toAttrs.repeat)r=n%o/o,r=s[a](r);else{if(!((r=n/o)<1))return t.attr(e.toAttrs),e.toMatrix&&t.setMatrix(e.toMatrix),!0;r=s[a](r)}return function(t,e,n){var r,i,o={},a=e.toAttrs,s=e.fromAttrs,u=e.toMatrix;if(!t.get("destroyed")){for(var c in a)if(!y.isEqual(s[c],a[c]))if("path"===c){var l=a[c],f=s[c];l.length>f.length?(l=m.parsePathString(a[c]),f=m.parsePathString(s[c]),f=m.fillPathByDiff(f,l),f=m.formatPath(f,l),e.fromAttrs.path=f,e.toAttrs.path=l):e.pathFormatted||(l=m.parsePathString(a[c]),f=m.parsePathString(s[c]),f=m.formatPath(f,l),e.fromAttrs.path=f,e.toAttrs.path=l,e.pathFormatted=!0),o[c]=[];for(var h=0;h<l.length;h++){for(var p=l[h],d=f[h],g=[],v=0;v<p.length;v++)y.isNumber(p[v])&&d&&y.isNumber(d[v])?(r=x(d[v],p[v]),g.push(r(n))):g.push(p[v]);o[c].push(g)}}else r=x(s[c],a[c]),o[c]=r(n);u&&(i=b(e.fromMatrix,u)(n),t.setMatrix(i)),t.attr(o)}}(t,e,r),!1}y.augment(r,{initTimer:function(){var r,i,o,a=this,s=this;s._timer=u.timer(function(t){if(s._current=t,0<a._animators.length){for(var e=a._animators.length-1;0<=e;e--)if((r=a._animators[e]).get("destroyed"))s.removeAnimator(e);else{if(!r.get("pause").isPaused)for(var n=(i=r.get("animators")).length-1;0<=n;n--)o=i[n],c(r,o,t)&&(i.splice(n,1),o.callback&&o.callback());0===i.length&&s.removeAnimator(e)}a.canvas.draw()}})},addAnimator:function(t){this._animators.push(t)},removeAnimator:function(t){this._animators.splice(t,1)},isAnimating:function(){return!!this._animators.length},stop:function(){this._timer&&this._timer.stop()},stopAllAnimations:function(){this._animators.forEach(function(t){t.stopAnimate()}),this._animators=[],this.canvas.draw()},getTime:function(){return this._current}}),t.exports=r},function(t,e,n){t.exports={canvas:n(940),svg:n(943)}},function(t,e,n){t.exports={painter:n(941)}},function(t,e,n){var r,o=n(533),a=n(942),s=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","lineDashOffset"],i=((r=u.prototype).beforeDraw=function(){var t=this.canvas;this.context&&this.context.clearRect(0,0,t.width,t.height)},r.draw=function(e){var n=this;n.animateHandler?n.toDraw=!0:function t(){n.animateHandler=o.requestAnimationFrame(function(){n.animateHandler=void 0,n.toDraw&&t()}),n.beforeDraw();try{n._drawGroup(e)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),n.toDraw=!1}n.toDraw=!1}()},r.drawSync=function(t){this.beforeDraw(),this._drawGroup(t)},r._drawGroup=function(t){if(!t._cfg.removed&&!t._cfg.destroyed&&t._cfg.visible){var e,n=t._cfg.children;this.setContext(t);for(var r=0;r<n.length;r++)e=n[r],n[r].isGroup?this._drawGroup(e):this._drawShape(e);this.restoreContext(t)}},r._drawShape=function(t){t._cfg.removed||t._cfg.destroyed||!t._cfg.visible||(this.setContext(t),t.drawInner(this.context),this.restoreContext(t),t._cfg.attrs=t._attrs,t._cfg.hasUpdate=!1)},r.setContext=function(t){var e=this.context,n=t._attrs.clip;e.save(),n&&(n.resetTransform(e),n.createPath(e),e.clip()),this.resetContext(t),t.resetTransform(e)},r.restoreContext=function(){this.context.restore()},r.resetContext=function(t){var e,n=this.context,r=t._attrs;if(!t.isGroup)for(var i in r){-1<s.indexOf(i)&&(e=r[i],"fillStyle"===i&&(e=a.parseStyle(e,t,n)),"strokeStyle"===i&&(e=a.parseStyle(e,t,n)),"lineDash"===i&&n.setLineDash?o.isArray(e)?n.setLineDash(e):o.isString(e)&&n.setLineDash(e.split(" ")):n[i]=e)}},u);function u(t){if(!t)return null;var e=o.uniqueId("canvas_"),n=o.createDom('<canvas id="'+e+'"></canvas>');return t.appendChild(n),this.type="canvas",this.canvas=n,this.context=n.getContext("2d"),this.toDraw=!1,this}t.exports=i},function(t,e,n){var y=n(533),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,o=/[^\s\,]+/gi,m=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,x=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,b=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,w=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,a={};function _(t,e){var n=t.match(w);y.each(n,function(t){t=t.split(":"),e.addColorStop(t[0],t[1])})}t.exports={parsePath:function(r){return r=r||[],y.isArray(r)?r:y.isString(r)?(r=r.match(i),y.each(r,function(n,t){var e;1<(n=n.match(o))[0].length&&(e=n[0].charAt(0),n.splice(1,0,n[0].substr(1)),n[0]=e),y.each(n,function(t,e){isNaN(t)||(n[e]=+t)}),r[t]=n}),r):void 0},parseStyle:function(t,e,n){if(y.isString(t)){if("("===t[1]||"("===t[2]){if("l"===t[0])return r=t,i=e,o=n,s=m.exec(r),u=y.mod(y.toRadian(parseFloat(s[1])),2*Math.PI),c=s[2],l=i.getBBox(),f=0<=u&&u<.5*Math.PI?(a={x:l.minX,y:l.minY},{x:l.maxX,y:l.maxY}):.5*Math.PI<=u&&u<Math.PI?(a={x:l.maxX,y:l.minY},{x:l.minX,y:l.maxY}):Math.PI<=u&&u<1.5*Math.PI?(a={x:l.maxX,y:l.maxY},{x:l.minX,y:l.minY}):(a={x:l.minX,y:l.maxY},{x:l.maxX,y:l.minY}),h=Math.tan(u),p=h*h,d=(f.x-a.x+h*(f.y-a.y))/(1+p)+a.x,g=h*(f.x-a.x+h*(f.y-a.y))/(1+p)+a.y,v=o.createLinearGradient(a.x,a.y,d,g),_(c,v),v;if("r"===t[0])return function(t,e,n){var r=x.exec(t),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4];if(0===a){var u=s.match(w);return u[u.length-1].split(":")[1]}var c=e.getBBox(),l=c.maxX-c.minX,f=c.maxY-c.minY,h=Math.sqrt(l*l+f*f)/2,p=n.createRadialGradient(c.minX+l*i,c.minY+f*o,a*h,c.minX+l/2,c.minY+f/2,h);return _(s,p),p}(t,e,n);if("p"===t[0])return function(t,e,n){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var r,i,o=b.exec(t),a=o[1],s=o[2];function u(){r=n.createPattern(i,a),e.setSilent("pattern",r),e.setSilent("patternSource",t)}switch(a){case"a":a="repeat";break;case"x":a="repeat-x";break;case"y":a="repeat-y";break;case"n":a="no-repeat";break;default:a="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?u():(i.onload=u,i.src=i.src),r}(t,e,n)}return t}var r,i,o,a,s,u,c,l,f,h,p,d,g,v},numberToColor:function(t){var e=a[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,a[t]=e}return e}}},function(t,e,n){t.exports={painter:n(944),getShape:n(951)}},function(t,e,n){var r,v=n(533),s=n(590).parseRadius,i=n(663),o=n(945),a={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject",fan:"path",group:"g"},u={opacity:"opacity",fillStyle:"fill",strokeOpacity:"stroke-opacity",fillOpacity:"fill-opacity",strokeStyle:"stroke",x:"x",y:"y",r:"r",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},c={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},l={left:"left",start:"left",center:"middle",right:"end",end:"end"},f=((r=h.prototype).draw=function(e){var n=this;n.animateHandler?n.toDraw=!0:function t(){n.animateHandler=v.requestAnimationFrame(function(){n.animateHandler=void 0,n.toDraw&&t()});try{e.resetMatrix(),n._drawGroup(e,!1)}catch(t){console.warn("error in draw canvas, detail as:"),console.warn(t),n.toDraw=!1}n.toDraw=!1}()},r.drawSync=function(t){this._drawChildren(t,!1)},r._drawGroup=function(t,e){var n=t._cfg;n.removed||n.destroyed||(!n.el&&n.attrs&&(e=!0),n.tobeRemoved&&(v.each(n.tobeRemoved,function(t){t.parentNode&&t.parentNode.removeChild(t)}),n.tobeRemoved=[]),this._drawShape(t,e),n.children&&0<n.children.length&&this._drawChildren(t,e))},r._drawChildren=function(t,e){var n,r,i=t._cfg.children;if(i){!t._cfg.el||e||0!==(r=t._cfg.el.childNodes.length+1)&&r!==i.length&&(e=!0);for(var o=0;o<i.length;o++)(n=i[o]).isGroup?this._drawGroup(n,e):this._drawShape(n,e)}},r._drawShape=function(t,e){var n=t._attrs,r=t._cfg,i=r.el;r.removed||r.destroyed?i&&i.parentNode.removeChild(r.el):(e&&i&&(i.parentNode&&i.parentNode.removeChild(i),i=null),!i&&r.parent&&(this._createDom(t),this._updateShape(t)),i=r.el,!1!==r.visible?(r.visible&&i.hasAttribute("visibility")&&i.removeAttribute("visibility"),r.hasUpdate&&this._updateShape(t),n.clip&&n.clip._cfg.hasUpdate&&this._updateShape(n.clip)):i.setAttribute("visibility","hidden"))},r._updateShape=function(t){var e=t._attrs,n=t._cfg.attrs;if(n)if(t._cfg.el||this._createDom(t),"clip"in e&&this._setClip(t,e.clip),("shadowOffsetX"in e||"shadowOffsetY"in e||"shadowBlur"in e||"shadowColor"in e)&&this._setShadow(t),"text"!==t.type){for(var r in"fan"===t.type&&this._updateFan(t),"marker"===t.type&&t._cfg.el.setAttribute("d",this._assembleMarker(e)),"rect"===t.type&&t._cfg.el.setAttribute("d",this._assembleRect(e)),e)e[r]!==n[r]&&this._setAttribute(t,r,e[r]);t._cfg.attrs=v.deepMix({},t._attrs),t._cfg.hasUpdate=!1}else this._updateText(t)},r._setAttribute=function(t,e,n){var r,i=t.type,o=t._attrs,a=t._cfg.el,s=this.context;if("marker"!==i&&"rect"!==i||!~["x","y","radius","r"].indexOf(e))if(~["circle","ellipse"].indexOf(i)&&~["x","y"].indexOf(e))a.setAttribute("c"+e,parseInt(n,10));else{if("polygon"===i&&"points"===e)return n&&0!==n.length||(n=""),v.isArray(n)&&(n=(n=n.map(function(t){return t[0]+","+t[1]})).join(" ")),void a.setAttribute("points",n);if("path"===e&&v.isArray(n))a.setAttribute("d",this._formatPath(n));else if("img"!==e){if("transform"===e)return n?void this._setTransform(t):void a.removeAttribute("transform");if("rotate"===e)return n?void this._setTransform(t):void a.removeAttribute("transform");if("matrix"!==e)if("fillStyle"!==e&&"strokeStyle"!==e){if("clip"!==e){if(~e.indexOf("Arrow"))return e=u[e],void(n?(r=null,r="boolean"==typeof n?s.getDefaultArrow(o,e):s.addArrow(o,e),a.setAttribute(e,"url(#"+r+")"),t._cfg[e]=r):(t._cfg[e]=null,a.removeAttribute(e)));"html"===e&&("string"==typeof n?a.innerHTML=n:(a.innerHTML="",a.appendChild(n))),u[e]&&a.setAttribute(u[e],n)}}else this._setColor(t,e,n);else this._setTransform(t)}else this._setImage(t,n)}},r._createDom=function(t){var e=a[t.type],n=t._attrs;if(!e)throw new Error("the type"+t.type+"is not supported by svg");var r=document.createElementNS("http://www.w3.org/2000/svg",e);return t._cfg.el=r,t._cfg.parent&&t._cfg.parent.get("el").appendChild(r),t._cfg.attrs={},"text"===t.type?(r.setAttribute("paint-order","stroke"),r.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")):(n.stroke||n.strokeStyle||r.setAttribute("stroke","none"),n.fill||n.fillStyle||r.setAttribute("fill","none")),r},r._assembleMarker=function(t){var e=t.r;if(void 0===t.r&&(e=t.radius),isNaN(Number(t.x))||isNaN(Number(t.y))||isNaN(Number(e)))return"";var n="",n="function"==typeof t.symbol?t.symbol(t.x,t.y,e):i.Symbols[t.symbol||"circle"](t.x,t.y,e);return v.isArray(n)&&(n=n.map(function(t){return t.join(" ")}).join("")),n},r._assembleRect=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius;if(!o)return"M "+e+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";var a=s(o);return v.isArray(o)?1===o.length?a.r1=a.r2=a.r3=a.r4=o[0]:2===o.length?(a.r1=a.r3=o[0],a.r2=a.r4=o[1]):3===o.length?(a.r1=o[0],a.r2=a.r4=o[1],a.r3=o[2]):(a.r1=o[0],a.r2=o[1],a.r3=o[2],a.r4=o[3]):a.r1=a.r2=a.r3=a.r4=o,[["M "+(e+a.r1)+","+n],["l "+(r-a.r1-a.r2)+",0"],["a "+a.r2+","+a.r2+",0,0,1,"+a.r2+","+a.r2],["l 0,"+(i-a.r2-a.r3)],["a "+a.r3+","+a.r3+",0,0,1,"+-a.r3+","+a.r3],["l "+(a.r3+a.r4-r)+",0"],["a "+a.r4+","+a.r4+",0,0,1,"+-a.r4+","+-a.r4],["l 0,"+(a.r4+a.r1-i)],["a "+a.r1+","+a.r1+",0,0,1,"+a.r1+","+-a.r1],["z"]].join(" ")},r._formatPath=function(t){return~(t=t.map(function(t){return t.join(" ")}).join("")).indexOf("NaN")?"":t},r._setTransform=function(t){for(var e=t._attrs.matrix,n=t._cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);-1===(r=r.join(",")).indexOf("NaN")?n.setAttribute("transform","matrix("+r+")"):console.warn("invalid matrix:",e)},r._setImage=function(t,e){var n,r=t._attrs,i=t._cfg.el;v.isString(e)?i.setAttribute("href",e):e instanceof Image?(r.width||(i.setAttribute("width",e.width),t._attrs.width=e.width),r.height||(i.setAttribute("height",e.height),t._attrs.height=e.height),i.setAttribute("href",e.src)):e instanceof HTMLElement&&v.isString(e.nodeName)&&"CANVAS"===e.nodeName.toUpperCase()?i.setAttribute("href",e.toDataURL()):e instanceof ImageData&&((n=document.createElement("canvas")).setAttribute("width",e.width),n.setAttribute("height",e.height),n.getContext("2d").putImageData(e,0,0),r.width||(i.setAttribute("width",e.width),t._attrs.width=e.width),r.height||(i.setAttribute("height",e.height),t._attrs.height=e.height),i.setAttribute("href",n.toDataURL()))},r._updateFan=function(t){function e(t,e,n){return{x:e*Math.cos(t)+n.x,y:e*Math.sin(t)+n.y}}var n=t._attrs,r=t._cfg,i={x:n.x,y:n.y},o=[],a=n.startAngle,s=n.endAngle;v.isNumberEqual(s-a,2*Math.PI)&&(s-=1e-5);var u=e(a,n.re,i),c=e(s,n.re,i),l=a<s?1:0,f=Math.abs(s-a)>Math.PI?1:0,h=n.rs,p=n.re,d=e(a,n.rs,i),g=e(s,n.rs,i);0<n.rs?(o.push("M "+c.x+","+c.y),o.push("L "+g.x+","+g.y),o.push("A "+h+","+h+",0,"+f+","+(1==l?0:1)+","+d.x+","+d.y),o.push("L "+u.x+" "+u.y)):(o.push("M "+i.x+","+i.y),o.push("L "+u.x+","+u.y)),o.push("A "+p+","+p+",0,"+f+","+l+","+c.x+","+c.y),0<n.rs?o.push("L "+g.x+","+g.y):o.push("Z"),r.el.setAttribute("d",o.join(" "))},r._updateText=function(t){var e=t._attrs,n=t._cfg.attrs,r=t._cfg.el;for(var i in this._setFont(t),e)if(e[i]!==n[i]){if("text"===i){this._setText(t,""+e[i]);continue}if("fillStyle"===i||"strokeStyle"===i){this._setColor(t,i,e[i]);continue}if("matrix"===i){this._setTransform(t);continue}u[i]&&r.setAttribute(u[i],e[i])}t._cfg.attrs=Object.assign({},t._attrs),t._cfg.hasUpdate=!1},r._setFont=function(t){var e=t.get("el"),n=t._attrs,r=n.fontSize;e.setAttribute("alignment-baseline",c[n.textBaseline]||"baseline"),e.setAttribute("text-anchor",l[n.textAlign]||"left"),r&&+r<12&&(n.matrix=[1,0,0,0,1,0,0,0,1],t.transform([["t",-n.x,-n.y],["s",r/12,r/12],["t",n.x,n.y]]))},r._setText=function(t,e){var n,r,i,o,a=t._cfg.el,s=t._attrs.textBaseline||"bottom";e?~e.indexOf("\n")?(n=t._attrs.x,r=e.split("\n"),i=r.length-1,o="",v.each(r,function(t,e){0===e?"alphabetic"===s?o+='<tspan x="'+n+'" dy="'+-i+'em">'+t+"</tspan>":"top"===s?o+='<tspan x="'+n+'" dy="0.9em">'+t+"</tspan>":"middle"===s?o+='<tspan x="'+n+'" dy="'+-(i-1)/2+'em">'+t+"</tspan>":"bottom"===s?o+='<tspan x="'+n+'" dy="-'+(.3+i)+'em">'+t+"</tspan>":"hanging"===s&&(o+='<tspan x="'+n+'" dy="'+(-(i-1)-.3)+'em">'+t+"</tspan>"):o+='<tspan x="'+n+'" dy="1em">'+t+"</tspan>"}),a.innerHTML=o):a.innerHTML=e:a.innerHTML=""},r._setClip=function(t,e){var n,r=t._cfg.el;e?r.hasAttribute("clip-path")?e._cfg.hasUpdate&&this._updateShape(e):(this._createDom(e),this._updateShape(e),n=this.context.addClip(e),r.setAttribute("clip-path","url(#"+n+")")):r.removeAttribute("clip-path")},r._setColor=function(t,e,n){var r,i,o=t._cfg.el,a=this.context;n?(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)?(r=(r=a.find("gradient",n))||a.addGradient(n),o.setAttribute(u[e],"url(#"+r+")")):/^[p,P]{1}[\s]*\(/.test(n)?(i=(i=a.find("pattern",n))||a.addPattern(n),o.setAttribute(u[e],"url(#"+i+")")):o.setAttribute(u[e],n)):o.setAttribute(u[e],"none")},r._setShadow=function(t){var e,n=t._cfg.el,r=t._attrs,i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};i.dx||i.dy||i.blur||i.color?(e=(e=this.context.find("filter",i))||this.context.addShadow(i,this),n.setAttribute("filter","url(#"+e+")")):n.removeAttribute("filter")},h);function h(t){if(!t)return null;var e=v.uniqueId("canvas_"),n=v.createDom('<svg id="'+e+'"></svg>');return t.appendChild(n),this.type="svg",this.canvas=n,this.context=new o(n),this.toDraw=!1,this}t.exports=f},function(t,e,n){var r,i=n(533),o=n(946),a=n(947),s=n(948),u=n(949),c=n(950),l=((r=f.prototype).find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},r.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},r.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},r.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new s(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),r.id},r.addGradient=function(t){var e=new o(t);return this.el.appendChild(e.el),this.add(e),e.id},r.addArrow=function(t,e){var n=new s(t,e);return this.el.appendChild(n.el),n.id},r.addShadow=function(t){var e=new a(t);return this.el.appendChild(e.el),this.add(e),e.id},r.addPattern=function(t){var e=new c(t);return this.el.appendChild(e.el),this.add(e),e.id},r.addClip=function(t){var e=new u(t);return this.el.appendChild(e.el),this.add(e),e.id},f);function f(t){var e=document.createElementNS("http://www.w3.org/2000/svg","defs"),n=i.uniqueId("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}t.exports=l},function(t,e,n){var w=n(533),_=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,S=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,r=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function M(t){var e=t.match(r);if(!e)return"";var n="";return e.sort(function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])}),w.each(e,function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'}),n}var i=(o.prototype.match=function(t,e){return this.cfg===e},o);function o(t){var e,n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,y,m,x=null,b=w.uniqueId("gradient_");return"l"===t.toLowerCase()[0]?(x=document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),u=t,c=x,f=_.exec(u),h=w.mod(w.toRadian(parseFloat(f[1])),2*Math.PI),p=f[2],d=0<=h&&h<.5*Math.PI?(l={x:0,y:0},{x:1,y:1}):.5*Math.PI<=h&&h<Math.PI?(l={x:1,y:0},{x:0,y:1}):Math.PI<=h&&h<1.5*Math.PI?(l={x:1,y:1},{x:0,y:0}):(l={x:0,y:1},{x:1,y:0}),g=Math.tan(h),v=g*g,y=(d.x-l.x+g*(d.y-l.y))/(1+v)+l.x,m=g*(d.x-l.x+g*(d.y-l.y))/(1+v)+l.y,c.setAttribute("x1",l.x),c.setAttribute("y1",l.y),c.setAttribute("x2",y),c.setAttribute("y2",m),c.innerHTML=M(p)):(x=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),e=t,n=x,r=S.exec(e),i=parseFloat(r[1]),o=parseFloat(r[2]),a=parseFloat(r[3]),s=r[4],n.setAttribute("cx",i),n.setAttribute("cy",o),n.setAttribute("r",a),n.innerHTML=M(s)),x.setAttribute("id",b),this.el=x,this.id=b,this.cfg=t,this}t.exports=i},function(t,e,n){var r,i=n(533),o={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},a={x:"-40%",y:"-40%",width:"200%",height:"200%"},s=((r=u.prototype).match=function(t,e){if(this.type!==t)return!1;var n=!0,r=this.cfg;return i.each(Object.keys(r),function(t){if(r[t]!==e[t])return n=!1}),n},r.update=function(t,e){var n=this.cfg;return n[o[t]]=e,this._parseShadow(n,this.el),this},r._parseShadow=function(t,e){var n='<feDropShadow \n      dx="'+(t.dx||0)+'" \n      dy="'+(t.dy||0)+'" \n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},u);function u(t){this.type="filter";var n=document.createElementNS("http://www.w3.org/2000/svg","filter");return i.each(a,function(t,e){n.setAttribute(e,t)}),this.el=n,this.id=i.uniqueId("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,n),this}t.exports=s},function(t,e,n){var r,o=n(533),i=((r=a.prototype).match=function(){return!1},r._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L6,3 L0,6 L3,3Z"),n.setAttribute("refX",3),n.setAttribute("refY",3)},r._setMarker=function(t,e){var n=this.el,r=this.cfg.path,i=this.cfg.d;o.isArray(r)&&(r=r.map(function(t){return t.join(" ")}).join("")),e.setAttribute("d",r),n.appendChild(e),i&&n.setAttribute("refX",i/t)},r.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},a);function a(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=o.uniqueId("marker_");n.setAttribute("id",r);var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("stroke","none"),i.setAttribute("fill",t.stroke||"#000"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r,this.cfg=t["marker-start"===e?"startArrow":"endArrow"],this.stroke=t.stroke||"#000",!0===this.cfg?this._setDefaultPath(e,i):this._setMarker(t.lineWidth,i),this}t.exports=i},function(t,e,n){var r,i=n(533),o=((r=a.prototype).match=function(){return!1},r.remove=function(){var t=this.el;t.parentNode.removeChild(t)},a);function a(t){this.type="clip";var e=document.createElementNS("http://www.w3.org/2000/svg","clipPath");this.el=e,this.id=i.uniqueId("clip_"),e.id=this.id;var n=t._cfg.el;return e.appendChild(n.cloneNode(!0)),this.cfg=t,this}t.exports=o},function(t,e,n){var s=n(533),u=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,r=(i.prototype.match=function(t,e){return this.cfg===e},i);function i(t){var e=document.createElementNS("http://www.w3.org/2000/svg","pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=document.createElementNS("http://www.w3.org/2000/svg","image");e.appendChild(n);var r=s.uniqueId("pattern_");e.id=r,this.el=e,this.id=r,this.cfg=t;var i=u.exec(t)[2];n.setAttribute("href",i);var o=new Image;function a(){console.log(o.width,o.height),e.setAttribute("width",o.width),e.setAttribute("height",o.height)}return i.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=i,o.complete?a():(o.onload=a,o.src=o.src),this}t.exports=r},function(t,e){var o={svg:"svg",circle:"circle",rect:"rect",text:"text",path:"path",foreignObject:"foreignObject",polygon:"polygon",ellipse:"ellipse",image:"image"};t.exports=function(t,e,n){var r=n.target||n.srcElement;if(!o[r.tagName]){for(var i=r.parentNode;i&&!o[i.tagName];)i=i.parentNode;r=i}return this._cfg.el===r?this:this.find(function(t){return t._cfg&&t._cfg.el===r})}},function(t,e,n){t.exports={addEventListener:n(953),createDom:n(741),getBoundingClientRect:n(954),getHeight:n(955),getOuterHeight:n(956),getOuterWidth:n(957),getRatio:n(958),getStyle:n(959),getWidth:n(960),modifyCSS:n(742),requestAnimationFrame:n(743)}},function(t,e){t.exports=function(t,e,n){if(t){if(t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}};if(t.attachEvent)return t.attachEvent("on"+e,n),{remove:function(){t.detachEvent("on"+e,n)}}}}},function(t,e){t.exports=function(t,e){if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect(),r=document.documentElement.clientTop,i=document.documentElement.clientLeft;return{top:n.top-r,bottom:n.bottom-r,left:n.left-i,right:n.right-i}}return e||null}},function(t,e){t.exports=function(t,e){var n=this.getStyle(t,"height",e);return"auto"===n&&(n=t.offsetHeight),parseFloat(n)}},function(t,e){t.exports=function(t,e){var n=this.getHeight(t,e),r=parseFloat(this.getStyle(t,"borderTopWidth"))||0,i=parseFloat(this.getStyle(t,"paddingTop"))||0,o=parseFloat(this.getStyle(t,"paddingBottom"))||0;return n+r+(parseFloat(this.getStyle(t,"borderBottomWidth"))||0)+i+o}},function(t,e){t.exports=function(t,e){var n=this.getWidth(t,e),r=parseFloat(this.getStyle(t,"borderLeftWidth"))||0,i=parseFloat(this.getStyle(t,"paddingLeft"))||0,o=parseFloat(this.getStyle(t,"paddingRight"))||0;return n+r+(parseFloat(this.getStyle(t,"borderRightWidth"))||0)+i+o}},function(t,e){t.exports=function(){return window.devicePixelRatio?window.devicePixelRatio:2}},function(t,e,n){var r=n(545);t.exports=function(t,e,n){try{return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]}catch(t){return r(n)?null:n}}},function(t,e){t.exports=function(t,e){var n=this.getStyle(t,"width",e);return"auto"===n&&(n=t.offsetWidth),parseFloat(n)}},function(t,e,n){t.exports={contains:n(616),difference:n(962),find:n(963),firstValue:n(964),flatten:n(965),flattenDeep:n(966),getRange:n(967),merge:n(617),pull:n(737),pullAt:n(769),reduce:n(968),remove:n(969),sortBy:n(970),union:n(971),uniq:n(770),valuesOfKey:n(666)}},function(t,e,n){var r=n(665),i=n(616);t.exports=function(t,e){var n=1<arguments.length&&void 0!==e?e:[];return r(t,function(t){return!i(n,t)})}},function(t,e,n){var i=n(555),o=n(588),a=n(767);t.exports=function(t,e){var n=void 0;if(i(e)&&(n=e),o(e)&&(n=function(t){return a(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null}},function(t,e,n){var o=n(545),a=n(540);t.exports=function(t,e){for(var n=null,r=0;r<t.length;r++){var i=t[r][e];if(!o(i)){n=a(i)?i[0]:i;break}}return n}},function(t,e,n){var r=n(540),i=n(535);t.exports=function(t){if(!r(t))return t;var e=[];return i(t,function(t){r(t)?i(t,function(t){e.push(t)}):e.push(t)}),e}},function(t,e,n){var o=n(540);t.exports=function t(e,n){var r=1<arguments.length&&void 0!==n?n:[];if(o(e))for(var i=0;i<e.length;i+=1)t(e[i],r);else r.push(e);return r}},function(t,e,n){var i=n(665),o=n(540);t.exports=function(t){if(!(t=i(t,function(t){return!isNaN(t)})).length)return{min:0,max:0};if(o(t[0])){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);t=e}var r=Math.max.apply(null,t);return{min:Math.min.apply(null,t),max:r}}},function(t,e,n){var i=n(540),o=n(588),a=n(535);t.exports=function(t,n,e){if(!i(t)&&!o(t))return t;var r=e;return a(t,function(t,e){r=n(r,t,e)}),r}},function(t,e,n){var s=n(562),u=n(769);t.exports=function(t,e){var n=[];if(!s(t))return n;for(var r=-1,i=[],o=t.length;++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return u(t,i),n}},function(t,e,n){var r=n(554),o=n(555),a=n(540);t.exports=function(t,n){var i,e=void 0,e=o(n)?function(t,e){return n(t)-n(e)}:(i=[],r(n)?i.push(n):a(n)&&(i=n),function(t,e){for(var n=0;n<i.length;n+=1){var r=i[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0});return t.sort(e),t}},function(t,e,n){var r=n(535),i=n(610),o=n(770);t.exports=function(){var e=[],t=i(arguments);return r(t,function(t){e=e.concat(t)}),o(e)}},function(t,e,n){t.exports={getWrapBehavior:n(973),wrapBehavior:n(974)}},function(t,e){t.exports=function(t,e){return t["_wrap_"+e]}},function(t,e){t.exports=function(e,n){if(e["_wrap_"+n])return e["_wrap_"+n];function t(t){e[n](t)}return e["_wrap_"+n]=t}},function(t,e,n){var r=n(976);t.exports={number2color:r,numberToColor:r,parsePath:n(977),parseRadius:n(978)}},function(t,e){var i={};t.exports=function(t){var e=i[t];if(!e){for(var n=t.toString(16),r=n.length;r<6;r++)n="0"+n;e="#"+n,i[t]=e}return e}},function(t,e,n){var i=n(540),o=n(554),a=n(535),s=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,u=/[^\s\,]+/gi;t.exports=function(r){return i(r=r||[])?r:o(r)?(r=r.match(s),a(r,function(n,t){var e;1<(n=n.match(u))[0].length&&(e=n[0].charAt(0),n.splice(1,0,n[0].substr(1)),n[0]=e),a(n,function(t,e){isNaN(t)||(n[e]=+t)}),r[t]=n}),r):void 0}},function(t,e,n){var o=n(540);t.exports=function(t){var e=0,n=0,r=0,i=0;return o(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}}},function(t,e,n){var r=n(611);t.exports={clamp:n(658),fixedBase:n(980),isDecimal:n(981),isEven:n(982),isInteger:n(983),isNegative:n(984),isNumberEqual:r,isOdd:n(985),isPositive:n(986),maxBy:n(771),minBy:n(987),mod:n(740),snapEqual:r,toDegree:n(739),toInt:n(772),toInteger:n(772),toRadian:n(738)}},function(t,e){t.exports=function(t,e){var n=e.toString(),r=n.indexOf(".");if(-1===r)return Math.round(t);var i=n.substr(r+1).length;return 20<i&&(i=20),parseFloat(t.toFixed(i))}},function(t,e,n){var r=n(551);t.exports=function(t){return r(t)&&t%1!=0}},function(t,e,n){var r=n(551);t.exports=function(t){return r(t)&&t%2==0}},function(t,e,n){var r=n(551),i=Number.isInteger?Number.isInteger:function(t){return r(t)&&t%1==0};t.exports=i},function(t,e,n){var r=n(551);t.exports=function(t){return r(t)&&t<0}},function(t,e,n){var r=n(551);t.exports=function(t){return r(t)&&t%2!=0}},function(t,e,n){var r=n(551);t.exports=function(t){return r(t)&&0<t}},function(t,e,n){var o=n(540),a=n(555),s=n(535);t.exports=function(t,e){if(o(t)){var n=t[0],r=void 0,r=a(e)?e(t[0]):t[0][e],i=void 0;return s(t,function(t){(i=a(e)?e(t):t[e])<r&&(n=t,r=i)}),n}}},function(t,e,n){t.exports={forIn:n(989),has:n(773),hasKey:n(990),hasValue:n(991),keys:n(768),isMatch:n(767),values:n(774)}},function(t,e,n){t.exports=n(535)},function(t,e,n){t.exports=n(773)},function(t,e,n){var r=n(616),i=n(774);t.exports=function(t,e){return r(i(t),e)}},function(t,e,n){var r=n(993),i=n(778),o=n(777),a=n(780);t.exports={catmullRom2Bezier:a,catmullRomToBezier:a,fillPath:n(994),fillPathByDiff:n(995),formatPath:n(997),intersection:r,pathIntersection:r,parsePathArray:n(776),parsePathString:n(779),pathToAbsolute:i,path2absolute:i,pathTocurve:o,path2curve:o,rectPath:n(775)}},function(t,e,n){function m(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}function k(t,e,n,r,i,o,a,s,u){null===u&&(u=1);for(var c=(u=1<u?1:u<0?0:u)/2,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,p=0;p<12;p++){var d=c*l[p]+c,g=m(d,t,n,i,a),v=m(d,e,r,o,s),y=g*g+v*v;h+=f[p]*Math.sqrt(y)}return c*h}function A(t,e,n){return e>=t.x&&e<=t.x+t.width&&n>=t.y&&n<=t.y+t.height}function T(t,e,n,r){return null===t&&(t=e=n=r=0),null===e&&(e=t.y,n=t.width,r=t.height,t=t.x),{x:t,y:e,width:n,w:n,height:r,h:r,x2:t+n,y2:e+r,cx:t+n/2,cy:e+r/2,r1:Math.min(n,r)/2,r2:Math.max(n,r)/2,r0:Math.sqrt(n*n+r*r)/2,path:i(t,e,n,r),vb:[t,e,n,r].join(" ")}}function O(t,e,n,r,i,o,a,s){c(t)||(t=[t,e,n,r,i,o,a,s]);var u=function(t,e,n,r,i,o,a,s){for(var u=[],c=[[],[]],l=void 0,f=void 0,h=void 0,p=void 0,d=0;d<2;++d)if(h=0===d?(f=6*t-12*n+6*i,l=-3*t+9*n-9*i+3*a,3*n-3*t):(f=6*e-12*r+6*o,l=-3*e+9*r-9*o+3*s,3*r-3*e),Math.abs(l)<1e-12){if(Math.abs(f)<1e-12)continue;0<(p=-h/f)&&p<1&&u.push(p)}else{var g,v,y=f*f-4*h*l,m=Math.sqrt(y);y<0||(0<(g=(-f+m)/(2*l))&&g<1&&u.push(g),0<(v=(-f-m)/(2*l))&&v<1&&u.push(v))}for(var x,b=u.length,w=b;b--;)x=1-(p=u[b]),c[0][b]=x*x*x*t+3*x*x*p*n+3*x*p*p*i+p*p*p*a,c[1][b]=x*x*x*e+3*x*x*p*r+3*x*p*p*o+p*p*p*s;return c[0][w]=t,c[1][w]=e,c[0][w+1]=a,c[1][w+1]=s,c[0].length=c[1].length=w+2,{min:{x:Math.min.apply(0,c[0]),y:Math.min.apply(0,c[1])},max:{x:Math.max.apply(0,c[0]),y:Math.max.apply(0,c[1])}}}.apply(null,t);return T(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)}function I(t,e,n,r,i,o,a,s,u){var c=1-u,l=Math.pow(c,3),f=Math.pow(c,2),h=u*u,p=h*u,d=t+2*u*(n-t)+h*(i-2*n+t),g=e+2*u*(r-e)+h*(o-2*r+e),v=n+2*u*(i-n)+h*(a-2*i+n),y=r+2*u*(o-r)+h*(s-2*o+r);return{x:l*t+3*f*u*n+3*c*u*u*i+p*a,y:l*e+3*f*u*r+3*c*u*u*o+p*s,m:{x:d,y:g},n:{x:v,y:y},start:{x:c*t+u*n,y:c*e+u*r},end:{x:c*i+u*a,y:c*o+u*s},alpha:90-180*Math.atan2(d-v,g-y)/Math.PI}}function S(t,e,n){var r,i,o=O(t),a=O(e);if(i=a,r=T(r=o),i=T(i),!(A(i,r.x,r.y)||A(i,r.x2,r.y)||A(i,r.x,r.y2)||A(i,r.x2,r.y2)||A(r,i.x,i.y)||A(r,i.x2,i.y)||A(r,i.x,i.y2)||A(r,i.x2,i.y2)||(r.x<i.x2&&r.x>i.x||i.x<r.x2&&i.x>r.x)&&(r.y<i.y2&&r.y>i.y||i.y<r.y2&&i.y>r.y)))return n?0:[];for(var s=~~(k.apply(0,t)/8),u=~~(k.apply(0,e)/8),c=[],l=[],f={},h=n?0:[],p=0;p<1+s;p++){var d=I.apply(0,t.concat(p/s));c.push({x:d.x,y:d.y,t:p/s})}for(var g=0;g<1+u;g++){var v=I.apply(0,e.concat(g/u));l.push({x:v.x,y:v.y,t:g/u})}for(var y=0;y<s;y++)for(var m=0;m<u;m++){var x=c[y],b=c[y+1],w=l[m],_=l[m+1],S=Math.abs(b.x-x.x)<.001?"y":"x",M=Math.abs(_.x-w.x)<.001?"y":"x",E=function(t,e,n,r,i,o,a,s){if(!(Math.max(t,n)<Math.min(i,a)||Math.min(t,n)>Math.max(i,a)||Math.max(e,r)<Math.min(o,s)||Math.min(e,r)>Math.max(o,s))){var u=(t-n)*(o-s)-(e-r)*(i-a);if(u){var c=((t*r-e*n)*(i-a)-(t-n)*(i*s-o*a))/u,l=((t*r-e*n)*(o-s)-(e-r)*(i*s-o*a))/u,f=+c.toFixed(2),h=+l.toFixed(2);if(!(f<+Math.min(t,n).toFixed(2)||f>+Math.max(t,n).toFixed(2)||f<+Math.min(i,a).toFixed(2)||f>+Math.max(i,a).toFixed(2)||h<+Math.min(e,r).toFixed(2)||h>+Math.max(e,r).toFixed(2)||h<+Math.min(o,s).toFixed(2)||h>+Math.max(o,s).toFixed(2)))return{x:c,y:l}}}}(x.x,x.y,b.x,b.y,w.x,w.y,_.x,_.y);if(E){if(f[E.x.toFixed(4)]===E.y.toFixed(4))continue;f[E.x.toFixed(4)]=E.y.toFixed(4);var C=x.t+Math.abs((E[S]-x[S])/(b[S]-x[S]))*(b.t-x.t),P=w.t+Math.abs((E[M]-w[M])/(_[M]-w[M]))*(_.t-w.t);0<=C&&C<=1&&0<=P&&P<=1&&(n?h++:h.push({x:E.x,y:E.y,t1:C,t2:P}))}}return h}var c=n(540),i=n(775),M=n(777);t.exports=function(t,e){return function(t,e,n){t=M(t),e=M(e);for(var r=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,f=void 0,h=void 0,p=n?0:[],d=0,g=t.length;d<g;d++){var v=t[d];if("M"===v[0])r=s=v[1],i=u=v[2];else{i="C"===v[0]?(r=(f=[r,i].concat(v.slice(1)))[6],f[7]):(f=[r,i,r,i,s,u,s,u],r=s,u);for(var y=0,m=e.length;y<m;y++){var x=e[y];if("M"===x[0])o=c=x[1],a=l=x[2];else{a="C"===x[0]?(o=(h=[o,a].concat(x.slice(1)))[6],h[7]):(h=[o,a,o,a,c,l,c,l],o=c,l);var b=S(f,h,n);if(n)p+=b;else{for(var w=0,_=b.length;w<_;w++)b[w].segment1=d,b[w].segment2=y,b[w].bez1=f,b[w].bez2=h;p=p.concat(b)}}}}}return p}(t,e)}},function(t,e){function c(t,e){var o=[],a=[];return t.length&&function t(e,n){if(1===e.length)o.push(e[0]),a.push(e[0]);else{for(var r=[],i=0;i<e.length-1;i++)0===i&&o.push(e[0]),i===e.length-2&&a.push(e[i+1]),r[i]=[(1-n)*e[i][0]+n*e[i+1][0],(1-n)*e[i][1]+n*e[i+1][1]];t(r,n)}}(t,e),{left:o,right:a.reverse()}}function l(t,e,n){if(1===n)return[[].concat(t)];var r=[];if("L"===e[0]||"C"===e[0]||"Q"===e[0])r=r.concat(function(t,e,n){var r=[[t[1],t[2]]];n=n||2;var i=[];"A"===e[0]?(r.push(e[6]),r.push(e[7])):"C"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]]),r.push([e[5],e[6]])):"S"===e[0]||"Q"===e[0]?(r.push([e[1],e[2]]),r.push([e[3],e[4]])):r.push([e[1],e[2]]);for(var o=r,a=1/n,s=0;s<n-1;s++){var u=c(o,a/(1-a*s));i.push(u.left),o=u.right}return i.push(o),i.map(function(t){var e=[];return 4===t.length&&(e.push("C"),e=e.concat(t[2])),3<=t.length&&(3===t.length&&e.push("Q"),e=e.concat(t[1])),2===t.length&&e.push("L"),e=e.concat(t[t.length-1])})}(t,e,n));else{var i=[].concat(t);"M"===i[0]&&(i[0]="L");for(var o=0;o<=n-1;o++)r.push(i)}return r}t.exports=function(r,t){if(1===r.length)return r;var i=r.length-1,e=t.length-1,n=i/e,o=[];if(1===r.length&&"M"===r[0][0]){for(var a=0;a<e-i;a++)r.push(r[0]);return r}for(var s=0;s<e;s++){var u=Math.floor(n*s);o[u]=(o[u]||0)+1}var c=o.reduce(function(t,e,n){return n===i?t.concat(r[i]):t.concat(l(r[n],r[n+1],e))},[]);return c.unshift(r[0]),"Z"!==t[e]&&"z"!==t[e]||c.push("Z"),c}},function(t,e,n){var x=n(996);t.exports=function(t,e){var n=function(t,e){var n,r,i=t.length,o=e.length,a=0;if(0===i||0===o)return null;for(var s=[],u=0;u<=i;u++)s[u]=[],s[u][0]={min:u};for(var c=0;c<=o;c++)s[0][c]={min:c};for(var l,f,h,p,d=1;d<=i;d++){n=t[d-1];for(var g=1;g<=o;g++){r=e[g-1],a=x(n,r)?0:1;var v=s[d-1][g].min+1,y=s[d][g-1].min+1,m=s[d-1][g-1].min+a;s[d][g]=(p=h=void 0,h=null,(f=y)<(p=m)&&(p=f,h="add"),(l=v)<p&&(p=l,h="del"),{type:h,min:p})}}return s}(t,e),r=t.length,i=e.length,o=[],a=1,s=1;if(n[r][i]!==r){for(var u=1;u<=r;u++){for(var c=n[u][u].min,s=u,l=a;l<=i;l++)n[u][l].min<c&&(c=n[u][l].min,s=l);a=s,n[u][a].type&&o.push({index:u-1,type:n[u][a].type})}for(var f=o.length-1;0<=f;f--)a=o[f].index,"add"===o[f].type?t.splice(a,0,[].concat(t[a])):t.splice(a,1)}if((r=t.length)<i)for(var h=0;h<i-r;h++)"z"===t[r-1][0]||"Z"===t[r-1][0]?t.splice(r-2,0,t[r-2]):t.push(t[r-1]);return t}},function(t,e,n){var i=n(535);t.exports=function(t,n){if(t.length!==n.length)return!1;var r=!0;return i(t,function(t,e){if(t!==n[e])return r=!1}),r}},function(t,e){function u(t){var e=[];switch(t[0]){case"M":case"L":e.push([t[1],t[2]]);break;case"A":e.push([t[6],t[7]]);break;case"Q":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"T":e.push([t[1],t[2]]);break;case"C":e.push([t[5],t[6]]),e.push([t[1],t[2]]),e.push([t[3],t[4]]);break;case"S":e.push([t[3],t[4]]),e.push([t[1],t[2]]);break;case"H":case"V":e.push([t[1],t[1]])}return e}function i(t,e,n){for(var r,i=[].concat(t),o=1/(n+1),a=u(e)[0],s=1;s<=n;s++)o*=s,0===(r=Math.floor(t.length*o))?i.unshift([a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]):i.splice(r,0,[a[0]*o+t[r][0]*(1-o),a[1]*o+t[r][1]*(1-o)]);return i}t.exports=function(t,e){if(t.length<=1)return t;for(var n=void 0,r=0;r<e.length;r++)if(t[r][0]!==e[r][0])switch(n=u(t[r]),e[r][0]){case"M":t[r]=["M"].concat(n[0]);break;case"L":t[r]=["L"].concat(n[0]);break;case"A":t[r]=[].concat(e[r]),t[r][6]=n[0][0],t[r][7]=n[0][1];break;case"Q":if(n.length<2){if(!(0<r)){t[r]=e[r];break}n=i(n,t[r-1],1)}t[r]=["Q"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"T":t[r]=["T"].concat(n[0]);break;case"C":if(n.length<3){if(!(0<r)){t[r]=e[r];break}n=i(n,t[r-1],2)}t[r]=["C"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;case"S":if(n.length<2){if(!(0<r)){t[r]=e[r];break}n=i(n,t[r-1],1)}t[r]=["S"].concat(n.reduce(function(t,e){return t.concat(e)},[]));break;default:t[r]=e[r]}return t}},function(t,e,n){var r={lc:n(999),lowerCase:n(781),lowerFirst:n(722),substitute:n(1e3),uc:n(1001),upperCase:n(782),upperFirst:n(734)};t.exports=r},function(t,e,n){t.exports=n(781)},function(t,e){t.exports=function(t,n){return t&&n?t.replace(/\\?\{([^{}]+)\}/g,function(t,e){return"\\"===t.charAt(0)?t.slice(1):void 0===n[e]?"":n[e]}):t}},function(t,e,n){t.exports=n(782)},function(t,e,n){var r=n(557),i={getType:n(731),isArray:n(540),isArrayLike:n(562),isBoolean:n(729),isFunction:n(555),isNil:n(545),isNull:n(1003),isNumber:n(551),isObject:n(587),isObjectLike:n(656),isPlainObject:n(588),isPrototype:n(732),isType:r,isUndefined:n(1004),isString:n(554),isRegExp:n(1005),isDate:n(727),isArguments:n(1006),isError:n(1007)};t.exports=i},function(t,e){t.exports=function(t){return null===t}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(557);t.exports=function(t){return r(t,"RegExp")}},function(t,e,n){var r=n(557);t.exports=function(t){return r(t,"Arguments")}},function(t,e,n){var r=n(557);t.exports=function(t){return r(t,"Error")}},function(t,e){t.exports=function(r,i,o){var a=void 0;return function(){var t=this,e=arguments,n=o&&!a;clearTimeout(a),a=setTimeout(function(){a=null,o||r.apply(t,e)},i),n&&r.apply(t,e)}}},function(t,e,n){var o=n(562);t.exports=function(t,e){if(!o(t))return-1;var n=Array.prototype.indexOf;if(n)return n.call(t,e);for(var r=-1,i=0;i<t.length;i++)if(t[i]===e){r=i;break}return r}},function(t,e,n){var r=n(555),i=n(657);t.exports=function(t,e,n){return r(n)?!!n(t,e):i(t,e)}},function(t,e,n){var i=n(535),o=n(562);t.exports=function(t,n){if(!o(t))return t;var r=[];return i(t,function(t,e){r.push(n(t,e))}),r}},function(t,e,n){var r=n(535),i=n(588),o=Object.prototype.hasOwnProperty;t.exports=function(e,t){if(null===e||!i(e))return{};var n={};return r(t,function(t){o.call(e,t)&&(n[t]=e[t])}),n}},function(t,e){t.exports=function(n,r,i){var o=void 0,a=void 0,s=void 0,u=void 0,c=0;function l(){c=!1===i.leading?0:Date.now(),o=null,u=n.apply(a,s),o||(a=s=null)}function t(){var t=Date.now();c||!1!==i.leading||(c=t);var e=r-(t-c);return a=this,s=arguments,e<=0||r<e?(o&&(clearTimeout(o),o=null),c=t,u=n.apply(a,s),o||(a=s=null)):o||!1===i.trailing||(o=setTimeout(l,e)),u}return i=i||{},t.cancel=function(){clearTimeout(o),c=0,o=a=s=null},t}},function(t,e,n){var u=n(530),w=n(558),y=u.PathUtil;function o(t,e){var n,r=function(t){if(u.isEmpty(t))return null;var e=t[0].x,n=t[0].x,r=t[0].y,i=t[0].y;return u.each(t,function(t){e=e>t.x?t.x:e,n=n<t.x?t.x:n,r=r>t.y?t.y:r,i=i<t.y?t.y:i}),{minX:e,maxX:n,minY:r,maxY:i,centerX:(e+n)/2,centerY:(r+i)/2}}(t.points||t.get("origin").points),i=e.startAngle,o=e.endAngle-i,a=e.isTransposed?(n=r.maxY*o,r.minY*o):(n=r.maxX*o,r.minX*o);return{startAngle:a+=i,endAngle:n+=i}}function _(t,e,n){var r={};return t.delay&&(r.delay=u.isFunction(t.delay)?t.delay(e,n):t.delay),r.easing=u.isFunction(t.easing)?t.easing(e,n):t.easing,r.duration=u.isFunction(t.duration)?t.duration(e,n):t.duration,r.callback=t.callback,r}function r(t,e){var n=t._id,r=t.get("index"),i=t.getBBox(),o=t.get("origin").points,a=(i.minX+i.maxX)/2,s=o[0].y-o[1].y<=0?i.maxY:i.minY,u=[a,s,1];t.apply(u),t.attr("transform",[["t",-a,-s],["s",1,.01],["t",a,s]]);var c={transform:[["t",-a,-s],["s",1,100],["t",a,s]]},l=_(e,r,n);t.animate(c,l.duration,l.easing,l.callback,l.delay)}function i(t,e){var n=t._id,r=t.get("index"),i=t.getBBox(),o=t.get("origin").points,a=(i.minY+i.maxY)/2,s=0<o[0].y-o[1].y?i.maxX:i.minX,u=[s,a,1];t.apply(u),t.attr({transform:[["t",-s,-a],["s",.01,1],["t",s,a]]});var c={transform:[["t",-s,-a],["s",100,1],["t",s,a]]},l=_(e,r,n);t.animate(c,l.duration,l.easing,l.callback,l.delay)}function a(t,e,n){var r,i,o,a=t._id,s=t.get("index");o=n.isPolar&&"point"!==t.name?(i=n.getCenter().x,n.getCenter().y):(i=((r=t.getBBox()).minX+r.maxX)/2,(r.minY+r.maxY)/2);var u=[i,o,1];t.apply(u),t.attr({transform:[["t",-i,-o],["s",.01,.01],["t",i,o]]});var c={transform:[["t",-i,-o],["s",100,100],["t",i,o]]},l=_(e,s,a);t.animate(c,l.duration,l.easing,l.callback,l.delay)}function s(t,e){var n,r,i,o,a;"path"===t.get("type")&&(n=t._id,r=t.get("index"),i=y.pathToAbsolute(t.attr("path")),t.attr("path",[i[0]]),o={path:i},a=_(e,r,n),t.animate(o,a.duration,a.easing,a.callback,a.delay))}function c(t,e,n,r,i){var o,a,s,u,c,l,f,h,p,d,g=(f=(o=n).start,h=o.end,p=o.getWidth(),d=o.getHeight(),o.isPolar?(c=o.getRadius(),u=o.getCenter(),a=o.startAngle,s=o.endAngle,(l=new w.Fan({attrs:{x:u.x,y:u.y,rs:0,re:c+200,startAngle:a,endAngle:a}})).endState={endAngle:s}):(l=new w.Rect({attrs:{x:f.x-200,y:h.y-200,width:o.isTransposed?p+400:0,height:o.isTransposed?0:d+400}}),o.isTransposed?l.endState={height:d+400}:l.endState={width:p+400}),l.isClip=!0,l),v=t.get("canvas"),y=t._id,m=t.get("index"),x=r?(g.attr("startAngle",r),g.attr("endAngle",r),{endAngle:i}):g.endState;g.set("canvas",v),t.attr("clip",g),t.setSilent("animating",!0);var b=_(e,m,y);g.animate(x,b.duration,b.easing,function(){t&&!t.get("destroyed")&&(t.attr("clip",null),t.setSilent("cacheShape",null),t.setSilent("animating",!1),g.remove())},b.delay)}function l(t,e){var n=t._id,r=t.get("index"),i=u.isNil(t.attr("fillOpacity"))?1:t.attr("fillOpacity"),o=u.isNil(t.attr("strokeOpacity"))?1:t.attr("strokeOpacity");t.attr("fillOpacity",0),t.attr("strokeOpacity",0);var a={fillOpacity:i,strokeOpacity:o},s=_(e,r,n);t.animate(a,s.duration,s.easing,s.callback,s.delay)}function f(t,e,n){var r=o(t,n),i=r.endAngle;c(t,e,n,r.startAngle,i)}t.exports={enter:{clipIn:c,zoomIn:a,pathIn:s,scaleInY:r,scaleInX:i,fanIn:f,fadeIn:l},leave:{lineWidthOut:function(t,e){var n={lineWidth:0,opacity:0},r=t._id,i=_(e,t.get("index"),r);t.animate(n,i.duration,i.easing,function(){t.remove()},i.delay)},zoomOut:function(t,e,n){var r,i,o,a=t._id,s=t.get("index");o=n.isPolar&&"point"!==t.name?(i=n.getCenter().x,n.getCenter().y):(i=((r=t.getBBox()).minX+r.maxX)/2,(r.minY+r.maxY)/2);var u=[i,o,1];t.apply(u);var c={transform:[["t",-i,-o],["s",.01,.01],["t",i,o]]},l=_(e,s,a);t.animate(c,l.duration,l.easing,function(){t.remove()},l.delay)},pathOut:function(t,e){var n,r,i,o;"path"===t.get("type")&&(n=t._id,r=t.get("index"),i={path:[y.pathToAbsolute(t.attr("path"))[0]]},o=_(e,r,n),t.animate(i,o.duration,o.easing,function(){t.remove()},o.delay))},fadeOut:function(t,e){var n=t._id,r={fillOpacity:0,strokeOpacity:0},i=_(e,t.get("index"),n);t.animate(r,i.duration,i.easing,function(){t.remove()},i.delay)}},appear:{clipIn:c,zoomIn:a,pathIn:s,scaleInY:r,scaleInX:i,fanIn:f,fadeIn:l},update:{fadeIn:l,fanIn:f,lineSlideLeft:function(t,e,n){var r,i,o,a,s,u,c,l,f,h,p,d,g;"line"===t.name&&(r=t.get("canvas"),i=t.get("cacheShape"),o=t._id,a=t.get("index"),(s=new w.Rect({attrs:{x:n.start.x,y:n.end.y,width:n.getWidth(),height:n.getHeight()}})).isClip=!0,s.set("canvas",r),u=y.pathToAbsolute(i.attrs.path),c=y.pathToAbsolute(t.attr("path")),l=u[1][1]-u[0][1],f=u[u.length-1][1]+l,h=c[c.length-1][2],p=u.concat([["L",f,h]]),t.apply([0,0,1]),t.attr("clip",s),t.attr("path",p),d={transform:[["t",-l,0]]},g=_(e,a,o),t.animate(d,g.duration,g.easing,function(){t&&!t.get("destroyed")&&(t.attr("path",c),t.attr({transform:[["t",l,0]]}),t.attr("clip",null),t.setSilent("cacheShape",null),s.remove())},g.delay))},areaSlideLeft:function(t,e,n){var r,i,o,a,s,u,c,l,f,h,p,d,g,v;"area"===t.name&&(r=t.get("canvas"),i=t.get("cacheShape"),o=t._id,a=t.get("index"),(s=new w.Rect({attrs:{x:n.start.x,y:n.end.y,width:n.getWidth(),height:n.getHeight()}})).isClip=!0,s.set("canvas",r),u=y.pathToAbsolute(i.attrs.path),c=y.pathToAbsolute(t.attr("path")),l=u[1][1]-u[0][1],h=u[(f=Math.floor(u.length/2))-1][1]+l,p=c[f-1][2],d=[].concat(u.slice(0,f),[["L",h,p],["L",h,c[f][2]]],u.slice(f)),t.apply([0,0,1]),t.attr("clip",s),t.attr("path",d),g={transform:[["t",-l,0]]},v=_(e,a,o),t.animate(g,v.duration,v.easing,function(){t&&!t.get("destroyed")&&(t.attr("path",c),t.attr({transform:[["t",l,0]]}),t.attr("clip",null),t.setSilent("cacheShape",null),s.remove())},v.delay))}}}},function(t,e,n){var r=n(786),o=n(552),d=n(530),s=n(804),a=n(542),u=n(789),c=n(1079);function l(t,e,n){var r=(t-e)/(n-e);return 0<=r&&r<=1}function f(t,e){var n,r,i,o=!1;return t&&(o="theta"===t.type?(n=t.start,r=t.end,l(e.x,n.x,r.x)&&l(e.y,n.y,r.y)):0<=(i=t.invert(e)).x&&0<=i.y&&i.x<=1&&i.y<=1),o}var i={};d.each(o,function(n,t){var e=d.lowerFirst(t);i[e]=function(t){var e=new n(t);return this.addGeom(e),e}});var h=function(n){var t,e;e=n,(t=i).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var r=i.prototype;function i(t){var e=n.call(this,t)||this,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e);return r._setTheme(),d.each(o,function(n,t){var e=d.lowerFirst(t);r[e]=function(t){void 0===t&&(t={}),t.viewTheme=r.get("viewTheme");var e=new n(t);return r.addGeom(e),e}}),r.init(),e}return r.getDefaultCfg=function(){return{viewContainer:null,coord:null,start:{x:0,y:0},end:{x:1,y:1},geoms:[],scales:{},options:{},scaleController:null,padding:0,theme:null,parent:null,tooltipEnable:!0,animate:a.animate,visible:!0}},r._setTheme=function(){var t=this.get("theme"),e={},n={};d.isObject(t)?n=t:-1!==d.indexOf(Object.keys(u),t)&&(n=u[t]),d.deepMix(e,a,n),this.set("viewTheme",e)},r.init=function(){this._initViewPlot(),this.get("data")&&this._initData(this.get("data")),this._initOptions(),this._initControllers(),this._bindEvents()},r._initOptions=function(){var e=this,t=d.mix({},e.get("options"));t.scales||(t.scales={}),t.coord||(t.coord={}),!1===t.animate&&this.set("animate",!1),!1!==t.tooltip&&!d.isNull(t.tooltip)||this.set("tooltipEnable",!1),t.geoms&&t.geoms.length&&d.each(t.geoms,function(t){e._createGeom(t)});var n=e.get("scaleController");n&&(n.defs=t.scales);var r=e.get("coordController");r&&r.reset(t.coord),this.set("options",t)},r._createGeom=function(t){var r,e=t.type;this[e]&&(r=this[e](),d.each(t,function(t,e){var n;r[e]&&(d.isObject(t)&&t.field?"label"===t?r[e](t.field,t.callback,t.cfg):(d.each(t,function(t,e){"field"!==e&&(n=t)}),r[e](t.field,n)):r[e](t))}))},r._initControllers=function(){var t=this.get("options"),e=this.get("viewTheme"),n=this.get("canvas"),r=new s.Scale({viewTheme:e,defs:t.scales}),i=new s.Coord(t.coord);this.set("scaleController",r),this.set("coordController",i);var o=new s.Axis({canvas:n,viewTheme:e});this.set("axisController",o);var a=new s.Guide({viewTheme:e,options:t.guides||[]});this.set("guideController",a)},r._initViewPlot=function(){this.get("viewContainer")||this.set("viewContainer",this.get("middlePlot"))},r._initGeoms=function(){for(var t=this.get("geoms"),e=this.get("filteredData"),n=this.get("coord"),r=this.get("_id"),i=0;i<t.length;i++){var o=t[i];o.set("data",e),o.set("coord",n),o.set("_id",r+"-geom"+i),o.set("keyFields",this.get("keyFields")),o.init()}},r._clearGeoms=function(){for(var t=this.get("geoms"),e=0;e<t.length;e++){t[e].clear()}},r._removeGeoms=function(){for(var t=this.get("geoms");0<t.length;){t.shift().destroy()}},r._drawGeoms=function(){this.emit("beforedrawgeoms");for(var t=this.get("geoms"),e=this.get("coord"),n=0;n<t.length;n++){var r=t[n];r.setCoord(e),r.paint()}this.emit("afterdrawgeoms")},r.isShapeInView=function(t){var e=this.get("_id"),n=t._id;if(n)return n.split("-")[0]===e;for(var r=t;r;){if(r.get("viewId")===e)return!0;r=r.get("parent")}return!1},r.getViewRegion=function(){var t,e,n,r,i=this.get("parent");return r=i?(t=i.getViewRegion(),n=(e=this._getViewRegion(t.start,t.end)).start,e.end):(n=this.get("start"),this.get("end")),{start:n,end:r}},r._getViewRegion=function(t,e){var n=this.get("start"),r=this.get("end"),i=n.x,o=1-r.y,a=r.x,s=1-n.y,u=this.get("padding"),c=d.toAllPadding(u),l=c[0],f=c[1],h=c[2],p=c[3];return{start:{x:i*(e.x-t.x)+t.x+p,y:o*(e.y-t.y)+t.y-h},end:{x:a*(e.x-t.x)+t.x-f,y:s*(e.y-t.y)+t.y+l}}},r._createCoord=function(){var t=this.get("coordController"),e=this.getViewRegion(),n=t.createCoord(e.start,e.end);this.set("coord",n)},r._renderAxes=function(){var t,e,n,r,i=this.get("options").axes;!1!==i&&((t=this.get("axisController")).container=this.get("backPlot"),t.coord=this.get("coord"),t.options=i||{},e=this.getXScale(),n=this.getYScales(),r=this.get("_id"),t.createAxis(e,n,r))},r._renderGuides=function(){var t,e=this.get("guideController");d.isEmpty(e.options)||(t=this.get("coord"),e.view=this,e.backContainer=this.get("backPlot"),e.frontContainer=this.get("frontPlot"),e.xScales=this._getScales("x"),e.yScales=this._getScales("y"),e.render(t))},r._bindEvents=function(){var t=new s.Event({view:this,canvas:this.get("canvas")});t.bindEvents(),this.set("eventController",t)},r._clearEvents=function(){var t=this.get("eventController");t&&t.clearEvents()},r._getScales=function(t){for(var e=this.get("geoms"),n={},r=0;r<e.length;r++){var i=e[r],o="x"===t?i.getXScale():i.getYScale();o&&!n[o.field]&&(n[o.field]=o)}return n},r._adjustScale=function(){this._setCatScalesRange();for(var t=this.get("geoms"),e=this.get("scaleController").defs,n=0;n<t.length;n++){var r,i,o,a,s,u=t[n];"interval"===u.get("type")&&(i=(r=u.getYScale()).field,o=r.min,a=r.max,s=r.type,e[i]&&e[i].min||"time"===s||(0<o?r.change({min:0}):a<=0&&r.change({max:0})))}},r._setCatScalesRange=function(){var i=this.get("coord"),o=this.get("viewTheme"),t=this.getXScale(),e=this.getYScales(),n=[];t&&n.push(t),n=n.concat(e);var r,a,s,u=i.isPolar&&(a=(r=i).startAngle,s=r.endAngle,!(!d.isNil(a)&&!d.isNil(s)&&s-a<2*Math.PI)),c=this.get("scaleController").defs;d.each(n,function(t){var e,n,r;!t.isCategory&&!t.isIdentity||!t.values||c[t.field]&&c[t.field].range||(r=1===(e=t.values.length)?[.5,1]:(n=0,u?i.isTransposed?[(n=1/e*o.widthRatio.multiplePie)/2,1-n/2]:[0,1-1/e]:[n=1/e*1/2,1-n]),t.range=r)})},r.getXScale=function(){var t=this.get("geoms"),e=null;return d.isEmpty(t)||(e=t[0].getXScale()),e},r.getYScales=function(){for(var t=this.get("geoms"),e=[],n=0;n<t.length;n++){var r=t[n].getYScale();r&&-1===d.indexOf(e,r)&&e.push(r)}return e},r.getXY=function(t){var e,n,r=this.get("coord"),i=this._getScales("x"),o=this._getScales("y");for(var a in t)i[a]&&(e=i[a].scale(t[a])),o[a]&&(n=o[a].scale(t[a]));return d.isNil(e)||d.isNil(n)?null:r.convert({x:e,y:n})},r.getSnapRecords=function(r){var t=this.get("geoms"),i=[];return d.each(t,function(e){var n,t=e.get("dataArray");d.each(t,function(t){(n=e.findPoint(r,t))&&i.push(n)})}),i},r.addGeom=function(t){this.get("geoms").push(t),t.set("view",this);var e=this.get("viewContainer");t.set("container",e),t.set("animate",this.get("animate")),t.bindEvents()},r.removeGeom=function(t){var e=this.get("geoms");d.Array.remove(e,t),t.destroy()},r.createScale=function(t,e){var n,r,i=this.get("scales"),o=this.get("parent"),a=i[t];e||(n=this.get("filteredData"),r=this._getFieldsForLegend(),e=n.length&&!r.includes(t)?n:this.get("data"));var s,u,c=this.get("scaleController");return a?a.sync&&(s=c.createScale(t,e),this._syncScale(a,s)):((a=c.createScale(t,e)).sync&&o&&(u=o.createScale(t,e),a=this._getSyncScale(u,a)),i[t]=a),a},r._getFieldsForLegend=function(){var n=[],t=this.get("geoms");return d.each(t,function(t){var e=t.getFieldsForLegend();n=n.concat(e)}),d.uniq(n)},r._getSyncScale=function(t,e){return t.type!==e.type?e:(this._syncScale(t,e),t)},r._syncScale=function(t,e){var n,r,i=d.union(t.values,e.values);e.isLinear&&(n=Math.max(t.max,e.max),r=Math.min(t.min,e.min),t.max===n&&t.min===r||t.change({min:r,max:n,values:i})),i.length!==t.values.length&&t.change({values:i})},r.getFilteredValues=function(t){var e=this.get("scales")[t].values,n=this._getFilters(),r=n&&n[t]?e.filter(n[t]):e.slice(0);return r},r.getFilteredOutValues=function(t){var e=this.get("scales")[t].values,n=this._getFilters(),r=n&&n[t]?e.filter(function(){return!n[t].apply(n,arguments)}):[];return r},r.filter=function(t,e){var n=this.get("options");n.filters||(n.filters={}),n.filters[t]=e,this.get("scaleController").filters=n.filters},r._getFilters=function(){return this.get("options").filters},r.execFilter=function(t){var e=this._getFilters();return e&&(t=t.filter(function(n){var r=!0;return d.each(e,function(t,e){if(t&&!(r=t(n[e],n)))return!1}),r})),t},r.axis=function(t,e){var n=this.get("options");return!1===t?n.axes=!1:(n.axes||(n.axes={}),n.axes[t]=e),this},r.guide=function(){return this.get("guideController")},r._getKeyFields=function(t){var n=[];d.each(t,function(t,e){t.key&&n.push(e)}),this.set("keyFields",n)},r.scale=function(t,e){var n=this.get("options").scales;return d.isObject(t)?d.mix(n,t):n[t]=e,this._getKeyFields(n),this},r.tooltip=function(t){return this.set("tooltipEnable",t),this},r.animate=function(t){return this.get("options").animate=t,this.set("animate",t),this},r.changeOptions=function(t){return this.set("options",t),this._initOptions(t),this},r.getViewsByPoint=function(e){var n=[],t=this.get("views");return f(this.get("coord"),e)&&n.push(this),d.each(t,function(t){t.get("visible")&&f(t.get("coord"),e)&&n.push(t)}),n},r.eachShape=function(o){var a=this,t=a.get("views"),e=a.get("canvas");d.each(t,function(t){t.eachShape(o)});var n=this.get("geoms");return d.each(n,function(i){var t=i.getShapes();d.each(t,function(t){var e,n,r=t.get("origin");d.isArray(r)?(e=r.map(function(t){return t._origin}),o(e,t,i,a)):(n=r._origin,o(n,t,i,a))})}),e.draw(),this},r.filterShape=function(i){return this.eachShape(function(t,e,n,r){i(t,e,n,r)?e.show():e.hide()}),this},r.clearInner=function(){this.set("scales",{}),this.emit("beforeclearinner"),this.get("options").geoms=null,this._clearGeoms(),this.get("guideController")&&this.get("guideController").reset(),this.get("axisController")&&this.get("axisController").clear(),this.emit("afterclearinner")},r.clear=function(){return this.get("options").filters=null,this._removeGeoms(),this.clearInner(),this.get("guideController")&&this.get("guideController").clear(),this.set("isUpdate",!1),this.set("keyFields",[]),this},r.coord=function(t,e){var n=this.get("coordController");return n.reset({type:t,cfg:e}),n},r.resetCoord=function(){this._createCoord()},r.source=function(t,e){return this._initData(t),e&&this.scale(e),this.emit("setdata"),this},r.changeData=function(t){return this.emit("beforechangedata"),this._initData(t),this.emit("afterchangedata"),this.repaint(),this},r._initData=function(t){var e=this.get("dataView");e&&(e.off("change",d.getWrapBehavior(this,"_onViewChange")),this.set("dataView",null)),t&&t.isDataView&&(t.on("change",d.wrapBehavior(this,"_onViewChange")),this.set("dataView",t),t=t.rows),this.set("data",t)},r._onViewChange=function(){this.emit("beforechangedata");var t=this.get("dataView").rows;this.set("data",t),this.emit("afterchangedata"),this.repaint()},r.beforeRender=function(){var t=this.get("views");d.each(t,function(t){t.beforeRender()}),this.initView()},r.drawComponents=function(){var t=this.get("views");d.each(t,function(t){t.drawComponents()}),this._renderAxes(),this._renderGuides()},r.drawCanvas=function(t){var e,n,r;t||(e=this.get("views"),this.get("backPlot").sort(),n=this.get("canvas"),this.get("animate")?(r=this.get("isUpdate"),d.each(e,function(t){c.execAnimation(t,r)}),c.execAnimation(this,r)):n.draw())},r.render=function(t){return this.clearInner(),this.emit("beforerender"),this.beforeRender(),this.emit("beforepaint"),this.drawComponents(),this.paint(),this.emit("afterpaint"),this.drawCanvas(t),this.emit("afterrender"),this.set("rendered",!0),this},r.initView=function(){var t=this.get("data")||[],e=this.execFilter(t);this.set("filteredData",e),this._createCoord(),this.emit("beforeinitgeoms"),this._initGeoms(),this._adjustScale()},r.paint=function(){var t=this.get("views");d.each(t,function(t){t.paint()});var e=this.get("data");d.isEmpty(e)||this._drawGeoms(),this.get("visible")||this.changeVisible(!1,!0)},r.changeVisible=function(e,t){var n=this.get("geoms");d.each(n,function(t){t.changeVisible(e,!0)}),this.get("axisController")&&this.get("axisController").changeVisible(e),this.get("guideController")&&this.get("guideController").changeVisible(e),t||this.get("canvas").draw()},r.repaint=function(){this.set("isUpdate",!0),this.clearInner(),this.render()},r.destroy=function(){this._clearEvents();var t=this.get("dataView");t&&t.off("change",d.getWrapBehavior(this,"_onViewChange")),this.clear(),n.prototype.destroy.call(this)},i}(r);t.exports=h},function(t,e,n){var r,i,o,d=n(545),g=n(540),v=n(535),a=n(591),s=(o=r=a,(i=u).prototype=Object.create(o.prototype),(i.prototype.constructor=i).__proto__=o,u.prototype.mapping=function(e,n){var r,t,i,o,a=this.scales,s=this.coord,u=a[0],c=a[1];if(d(e)||d(n))return[];if(g(n)&&g(e)){i=[],o=[];for(var l=0,f=0,h=e.length,p=n.length;l<h&&f<p;l++,f++)r=s.convertPoint({x:u.scale(e[l]),y:c.scale(n[f])}),i.push(r.x),o.push(r.y)}else{g(n)?(e=u.scale(e),o=[],v(n,function(t){t=c.scale(t),r=s.convertPoint({x:e,y:t}),i&&i!==r.x?(g(i)||(i=[i]),i.push(r.x)):i=r.x,o.push(r.y)})):g(e)?(n=c.scale(n),i=[],v(e,function(t){t=u.scale(t),r=s.convertPoint({x:t,y:n}),o&&o!==r.y?(g(o)||(o=[o]),o.push(r.y)):o=r.y,i.push(r.x)})):(e=u.scale(e),n=c.scale(n),t=s.convertPoint({x:e,y:n}),i=t.x,o=t.y)}return[i,o]},u);function u(t){var e=r.call(this,t)||this;return e.names=["x","y"],e.type="position",e}t.exports=s},function(t,e,n){var r,i,o,a=n(554),s=n(787),u=n(591),c=(o=r=u,(i=l).prototype=Object.create(o.prototype),(i.prototype.constructor=i).__proto__=o,l.prototype.getLinearValue=function(t){var e,n=this.gradient;return n||(e=this.values,n=s.gradient(e),this.gradient=n),n(t)},l);function l(t){var e=r.call(this,t)||this;return e.names=["color"],e.type="color",e.gradient=null,a(e.values)&&(e.linear=!0),e}t.exports=c},function(t,e,n){var r,i,o,a=n(591),s=(o=r=a,(i=u).prototype=Object.create(o.prototype),(i.prototype.constructor=i).__proto__=o,u.prototype.getLinearValue=function(t){var e=this.values;return e[Math.round((e.length-1)*t)]},u);function u(t){var e=r.call(this,t)||this;return e.names=["shape"],e.type="shape",e.gradient=null,e}t.exports=s},function(t,e,n){var r,i,o,a=n(591),s=(o=r=a,(i=u).prototype=Object.create(o.prototype),(i.prototype.constructor=i).__proto__=o,u);function u(t){var e=r.call(this,t)||this;return e.names=["size"],e.type="size",e.gradient=null,e}t.exports=s},function(t,e,n){var r,i,o,a=n(591),s=(o=r=a,(i=u).prototype=Object.create(o.prototype),(i.prototype.constructor=i).__proto__=o,u);function u(t){var e=r.call(this,t)||this;return e.names=["opacity"],e.type="opacity",e.gradient=null,e}t.exports=s},function(t,e,n){var r=n(550),i=n(592),o=n(1022),a=n(1023),s=n(788),u=n(1024),c=n(1025);r(i.prototype,s),r(o.prototype,s,u),r(a.prototype,c),i.Jitter=n(1026),i.Symmetric=n(1027),i.Dodge=o,i.Stack=a,t.exports=i},function(t,e,n){var r=n(592),o=n(535),i=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n;var i=r.prototype;return i._initDefaultCfg=function(){this.marginRatio=.5,this.dodgeRatio=.5,this.adjustNames=["x","y"]},i.getDodgeOffset=function(t,e,n){var r=t.pre,i=t.next,o=i-r,a=o*this.dodgeRatio/n,s=this.marginRatio*a;return(r+i)/2+(.5*(o-n*a-(n-1)*s)+((e+1)*a+e*s)-.5*a-.5*o)},i.processAdjust=function(t){var u=this,c=t.length,l=u.xField;o(t,function(t,e){for(var n=0,r=t.length;n<r;n++){var i=t[n],o=i[l],a={pre:1===r?o-1:o-.5,next:1===r?o+1:o+.5},s=u.getDodgeOffset(a,e,c);i[l]=s}})},r}(r);r.Dodge=i,t.exports=i},function(t,e,n){var d=n(540),g=n(545),r=n(592),i=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n;var i=r.prototype;return i._initDefaultCfg=function(){this.xField=null,this.yField=null},i.processAdjust=function(t){this.processStack(t)},i.processStack=function(t){var e=this.xField,n=this.yField,r=t.length,i={positive:{},negative:{}};this.reverseOrder&&(t=t.slice(0).reverse());for(var o=0;o<r;o++)for(var a=t[o],s=0,u=a.length;s<u;s++){var c,l=a[s],f=l[e]||0,h=l[n],p=f.toString(),h=d(h)?h[1]:h;g(h)||(i[c=0<=h?"positive":"negative"][p]||(i[c][p]=0),l[n]=[i[c][p],h+i[c][p]],i[c][p]+=h)}},r}(r);r.Stack=i,t.exports=i},function(t,e,n){var o={merge:n(617),values:n(666)},i=n(783),c=n(535);t.exports={processAdjust:function(t){var e=o.merge(t),n=this.dodgeBy,r=t;n&&(r=i(e,n)),this.cacheMap={},this.adjDataArray=r,this.mergeData=e,this.adjustData(r,e),this.adjDataArray=null,this.mergeData=null},getDistribution:function(r){var t=this.adjDataArray,e=this.cacheMap,i=e[r];return i||(i={},c(t,function(t,e){var n=o.values(t,r);n.length||n.push(0),c(n,function(t){i[t]||(i[t]=[]),i[t].push(e)})}),e[r]=i),i},adjustDim:function(o,n,t,e,a){var s=this,u=s.getDistribution(o),r=s.groupData(t,o);c(r,function(t,e){var i;e=parseFloat(e),i=1===n.length?{pre:n[0]-1,next:n[0]+1}:s.getAdjustRange(o,e,n),c(t,function(t){var e=t[o],n=u[e],r=n.indexOf(a);t[o]=s.getDodgeOffset(i,r,n.length)})})}}},function(t,e){t.exports={_initDefaultCfg:function(){this.xField=null,this.yField=null,this.height=null,this.size=10,this.reverseOrder=!1,this.adjustNames=["y"]},processOneDimStack:function(t){var e=this.xField,n=this.yField||"y",r=this.height,i={};this.reverseOrder&&(t=t.slice(0).reverse());for(var o=0,a=t.length;o<a;o++)for(var s=t[o],u=0,c=s.length;u<c;u++){var l=s[u],f=2*(l.size||this.size)/r,h=l[e];i[h]||(i[h]=f/2),l[n]=i[h],i[h]+=f}},processAdjust:function(t){this.yField?this.processStack(t):this.processOneDimStack(t)}}},function(t,e,n){var a=n(535),r=n(550),o={merge:n(617)},i=n(592),s=n(788),u=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n;var i=r.prototype;return i._initDefaultCfg=function(){this.xField=null,this.yField=null,this.adjustNames=["x","y"],this.groupFields=null},i.processAdjust=function(t){var e=o.merge(t);this.adjDataArray=t,this.mergeData=e,this.adjustData(t,e),this.adjFrames=null,this.mergeData=null},i.getAdjustOffset=function(t,e){var n=e-t;return t+.05*n+.9*n*Math.random()},i._adjustGroup=function(t,e,n,r){var i=this,o=i.getAdjustRange(e,n,r);a(t,function(t){t[e]=i.getAdjustOffset(o.pre,o.next)})},i.adjustDim=function(n,r,t){var i=this,e=i.groupData(t,n);a(e,function(t,e){e=parseFloat(e),i._adjustGroup(t,n,e,r)})},r}(i);r(u.prototype,s),i.Jitter=u,t.exports=u},function(t,e,n){var l=n(535),o=n(771),f=n(540),a={merge:n(617)},r=n(592),i=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),(e.prototype.constructor=e).__proto__=n;var i=r.prototype;return i._initDefaultCfg=function(){this.xField=null,this.yField=null,this.cacheMax=null,this.adjustNames=["y"],this.groupFields=null},i._getMax=function(n){var t=this.mergeData,e=o(t,function(t){var e=t[n];return f(e)?Math.max.apply(null,e):e})[n];return f(e)?Math.max.apply(null,e):e},i._getXValuesMax=function(){var i=this.yField,o=this.xField,a={},t=this.mergeData;return l(t,function(t){var e=t[o],n=t[i],r=f(n)?Math.max.apply(null,n):n;a[e]=a[e]||0,a[e]<r&&(a[e]=r)}),a},i.processAdjust=function(t){var e=a.merge(t);this.mergeData=e,this._processSymmetric(t),this.mergeData=null},i._processSymmetric=function(t){var a,s=this.xField,u=this.yField,c=this._getMax(u),e=t[0][0];e&&f(e[u])&&(a=this._getXValuesMax()),l(t,function(t){l(t,function(t){var e,n,r,i,o=t[u];f(o)?(e=t[s],n=a[e],r=(c-n)/2,i=[],l(o,function(t){i.push(r+t)}),t[u]=i):(r=(c-o)/2,t[u]=[r,o+r])})})},r}(r);r.Symmetric=i,t.exports=i},function(t,e,n){var r,i,o=n(530),a=n(790),s=o.deepMix({},a,{background:{fill:"#1F1F1F",radius:2},plotBackground:{fill:"#1F1F1F"},axis:{top:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},bottom:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"}},left:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},right:{label:{textStyle:{fill:"#A6A6A6"}},grid:{lineStyle:{stroke:"#404040"}}},circle:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},radius:{label:{textStyle:{fill:"#A6A6A6"}},line:{stroke:"#737373"},tickLine:{stroke:"#737373"},grid:{lineStyle:{stroke:"#404040"}}},helix:{line:{stroke:"#737373"},tickLine:{stroke:"#737373"}}},label:{textStyle:{fill:"#A6A6A6"}},legend:{right:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},left:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},top:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},bottom:{textStyle:{fill:"#737373"},unCheckColor:"#bfbfbf"},html:((r={})["g2-legend"]={color:"#D9D9D9"},r),gradient:{textStyle:{fill:"#D9D9D9"},lineStyle:{stroke:"#404040"}}},tooltip:((i={})["g2-tooltip"]={color:"#D9D9D9",backgroundColor:"rgba(0, 0, 0, 0.5)",boxShadow:"0px 0px 2px #000"},i),tooltipCrosshairsRect:{type:"rect",rectStyle:{fill:"#fff",opacity:.1}},tooltipCrosshairsLine:{lineStyle:{stroke:"rgba(255, 255, 255, 0.45)"}},guide:{line:{text:{style:{fill:"#A6A6A6"}}},text:{style:{fill:"#A6A6A6"}},region:{style:{lineWidth:0,fill:"#000",fillOpacity:.04}}}});t.exports=s},function(t,e,n){var r=n(668),i=n(802),o=n(1059),a=n(1060),s={getLabelsClass:function(t,e){var n=r;return"polar"===t?n=i:"theta"===t?n=o:"interval"!==e&&"polygon"!==e||(n=a),n}};t.exports=s},function(t,e,n){var r=n(593);(r.Base=r).Circle=n(1034),r.Grid=n(791),r.Helix=n(1035),r.Line=n(1036),r.Polyline=n(1037),t.exports=r},function(t,e,n){var f=n(793);t.exports=function(t){for(var e,n,r,i,o,a=new f,s=[],u=0;u<t.length;u++){r=(n=t[u]).attr("x"),i=n.attr("y"),o=!1;for(var c=0;c<8;c++)if(e=function(t,e,n,r){var i=t.getBBox(),o=i.width,a=i.height,s={x:e,y:n,textAlign:"center"};switch(r){case 0:s.y-=a/2,s.textAlign="left";break;case 1:s.y-=a/2,s.textAlign="right";break;case 2:s.y+=a/2,s.textAlign="right";break;case 3:s.y+=a/2,s.textAlign="left";break;case 5:s.y-=a/2;break;case 6:s.y+=a/2;break;case 7:s.x+=o/2,s.textAlign="left";break;case 8:s.x-=o/2,s.textAlign="right"}return t.attr(s),t.getBBox()}(n,r,i,c),a.hasGap(e)){a.fillGap(e),o=!0;break}o||s.push(n)}for(var l=0;l<s.length;l++)s[l].remove();return o}},function(t,e,n){var a=n(793),p=20;t.exports=function(t){for(var e,n=new a,r=[],i=0;i<t.length;i++)(function(t,e){var n,r=t.attr("x"),i=t.attr("y"),o=t.getBBox(),a=Math.sqrt(o.width*o.width+o.height*o.height),s=1,u=0,c=0;if(e.hasGap(o))return e.fillGap(o),1;for(var l,f=!1,h=0;Math.min(Math.abs(u),Math.abs(c))<a&&h<p;)if(l=s+=-1,u=~~(n=[(l*=.1)*Math.cos(l),l*Math.sin(l)])[0],c=~~n[1],t.attr({x:r+u,y:i+c}),h++,e.hasGap(t.getBBox())){e.fillGap(o),f=!0;break}return f})(e=t[i],n)||r.push(e);for(var o=0;o<r.length;o++)r[o].remove()}},function(t,e){t.exports=function(t,e){for(var n,r,i=[],o=0;o<t.length;o++)n=t[o].getBBox(),r=e[o].getBBox(),(n.width>r.width||n.height>r.height||n.width*n.height>r.width*r.height)&&i.push(t[o]);for(var a=0;a<i.length;a++)i[a].remove()}},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(536),r=n(593),s=c.MatrixUtil.vec2,i=function(i){var t,e;e=i,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;o(n);function n(){return i.apply(this,arguments)||this}var r=n.prototype;return r.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return c.mix({},t,{type:"circle",tickInterval:null,startAngle:-Math.PI/2,endAngle:3*Math.PI/2,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},_labelOffset:5})},r.parseTick=function(t,e,n){return{text:t,value:e/n}},r._getCirclePoint=function(t,e){var n=this.get("center");return e=e||this.get("radius"),{x:n.x+Math.cos(t)*e,y:n.y+Math.sin(t)*e}},r.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this._getCirclePoint(n)},r.getSideVector=function(t,e){var n,r=this.get("center"),i=[e.x-r.x,e.y-r.y];return c.isNil(t)||(n=s.length(i),s.scale(i,i,t/n)),i},r.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},r.getTickEnd=function(t,e){var n=this.get("tickLine");return e=e||n.length,this.getSidePoint(t,e)},r.getTextAnchor=function(t){var e;return c.snapEqual(t[0],0)?e="center":0<t[0]?e="left":t[0]<0&&(e="right"),e},r.getLinePath=function(){var t,e,n,r,i,o,a,s,u=this.get("center"),c=u.x,l=u.y,f=this.get("radius"),h=f,p=this.get("startAngle"),d=this.get("endAngle"),g=this.get("inner");return Math.abs(d-p)===2*Math.PI?[["M",c,l],["m",0,-h],["a",f,h,0,1,1,0,2*h],["a",f,h,0,1,1,0,-2*h],["z"]]:(t=this._getCirclePoint(p),e=this._getCirclePoint(d),n=Math.abs(d-p)>Math.PI?1:0,r=d<p?0:1,g?(i=this.getSideVector(g*f,t),o=this.getSideVector(g*f,e),a={x:i[0]+c,y:i[1]+l},s={x:o[0]+c,y:o[1]+l},[["M",a.x,a.y],["L",t.x,t.y],["A",f,h,0,n,r,e.x,e.y],["L",s.x,s.y],["A",f*g,h*g,0,n,Math.abs(r-1),a.x,a.y]]):[["M",c,l],["L",t.x,t.y],["A",f,h,0,n,r,e.x,e.y],["L",c,l]])},r.addLabel=function(t,e,n){var r=this.get("label").offset||this.get("_labelOffset")||.001;e=this.getSidePoint(e,r),i.prototype.addLabel.call(this,t,e,n)},r.autoRotateLabels=function(){var t,i,o,e,a,s,u=this.get("ticks"),n=this.get("labelRenderer");n&&12<u.length&&(t=this.get("radius"),i=this.get("startAngle"),e=(o=this.get("endAngle")-i)/(u.length-1),a=Math.sin(e/2)*t*2,s=this.getMaxLabelWidth(n),c.each(n.get("group").get("children"),function(t,e){var n=u[e].value*o+i,r=n%(2*Math.PI);s<a?(r<=0&&(n+=Math.PI),r>Math.PI&&(n-=Math.PI),n-=Math.PI/2,t.attr("textAlign","center")):r>Math.PI/2?n-=Math.PI:r<Math.PI/2*-1&&(n+=Math.PI),t.rotateAtStart(n)}))},n}(r);t.exports=i},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=n(536),r=n(593),i=s.MatrixUtil,u=s.PathUtil,c=i.vec2,l=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return s.mix({},t,{inner:0,type:"helix",line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,a:0,center:null,axisStart:null,crp:[]})},i.getLinePath=function(){var t=this.get("crp"),e=this.get("axisStart"),n=u.catmullRomToBezier(t);return n.unshift(["M",e.x,e.y]),n},i.getTickPoint=function(t){var e=this.get("startAngle"),n=e+(this.get("endAngle")-e)*t;return this._getHelixPoint(n)},i._getHelixPoint=function(t){var e=this.get("center"),n=this.get("a")*t+this.get("inner");return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},i.getSideVector=function(t,e){var n,r=this.get("center"),i=[e.x-r.x,e.y-r.y];return t&&(n=c.length(i),c.scale(i,i,t/n)),i},i.getSidePoint=function(t,e){var n=this.getSideVector(e,t);return{x:t.x+n[0],y:t.y+n[1]}},i.getTickEnd=function(t,e){var n=this.get("tickLine");return e=e||n.length,this.getSidePoint(t,e)},r}(r);t.exports=l},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=n(593),d=n(536),g=d.MatrixUtil.vec2,i=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return d.mix({},t,{x:null,y:null,line:{lineWidth:1,stroke:"#C0D0E0"},tickLine:{lineWidth:1,stroke:"#C0D0E0",length:5},isVertical:!1,start:null,end:null})},i._getAvgLabelLength=function(t){var e=t.get("group").get("children");return e[1].attr("x")-e[0].attr("x")},i._getAvgLabelHeightSpace=function(t){var e=t.get("group").get("children");return e[1].attr("y")-e[0].attr("y")},i.getSideVector=function(t){var e=this.get("isVertical"),n=this.get("factor");if(!d.isNumber(t))return[0,0];var r=this.get("start"),i=this.get("end"),o=this.getAxisVector(),a=g.normalize([],o),s=!1;(e&&r.y<i.y||!e&&r.x>i.x)&&(s=!0);var u=g.vertical([],a,s);return g.scale([],u,t*n)},i.getAxisVector=function(){var t=this.get("start"),e=this.get("end");return[e.x-t.x,e.y-t.y]},i.getLinePath=function(){var t=this.get("start"),e=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",e.x,e.y]),n},i.getTickEnd=function(t,e){var n=this.getSideVector(e);return{x:t.x+n[0],y:t.y+n[1]}},i.getTickPoint=function(t){var e=this.get("start"),n=this.get("end"),r=n.x-e.x,i=n.y-e.y;return{x:e.x+r*t,y:e.y+i*t}},i.renderTitle=function(){var t,e=this,n=e.get("title"),r=e.getTickPoint(.5),i=n.offset;d.isNil(i)&&(i=20,(t=e.get("labelsGroup"))&&(i+=e.getMaxLabelWidth(t)+(e.get("label").offset||e.get("_labelOffset"))));var o,a,s,u,c,l,f,h=n.textStyle,p=d.mix({},h);n.text&&(o=e.getAxisVector(),n.autoRotate&&d.isNil(h.rotate)?(s=0,d.snapEqual(o[1],0)||(a=[o[0],o[1]],s=g.angleTo(a,[1,0],!0)),p.rotate=s*(180/Math.PI)):d.isNil(h.rotate)||(p.rotate=h.rotate/180*Math.PI),u=e.getSideVector(i),l="start"===(c=n.position)?{x:this.get("start").x+u[0],y:this.get("start").y+u[1]}:"end"===c?{x:this.get("end").x+u[0],y:this.get("end").y+u[1]}:{x:r.x+u[0],y:r.y+u[1]},p.x=l.x,p.y=l.y,p.text=n.text,(f=e.get("group").addShape("Text",{zIndex:2,attrs:p})).name="axis-title",e.get("appendInfo")&&f.setSilent("appendInfo",e.get("appendInfo")))},i.autoRotateLabels=function(){var t=this.get("labelRenderer"),e=this.get("title");if(t){var n=t.get("group").get("children"),r=this.get("label").offset,i=e?e.offset:48;if(i<0)return;var o,a,s,u=this.getAxisVector();d.snapEqual(u[0],0)&&e&&e.text?i-r-12<(a=this.getMaxLabelWidth(t))&&(o=-1*Math.acos((i-r-12)/a)):d.snapEqual(u[1],0)&&1<n.length&&Math.abs(this._getAvgLabelLength(t))<(a=this.getMaxLabelWidth(t))&&(o=Math.asin(1.25*(i-r-12)/a)),o&&(s=this.get("factor"),d.each(n,function(t){t.rotateAtStart(o),d.snapEqual(u[1],0)&&(0<s?t.attr("textAlign","left"):t.attr("textAlign","right"))}))}},i.autoHideLabels=function(){var t,e,n=this.get("labelRenderer");if(n){var r,i,o,a,s,u=n.get("group").get("children"),c=this.getAxisVector();if(u.length<2)return;d.snapEqual(c[0],0)?(r=this.getMaxLabelHeight(n)+8,(i=Math.abs(this._getAvgLabelHeightSpace(n)))<r&&(t=r,e=i)):d.snapEqual(c[1],0)&&1<u.length&&(o=this.getMaxLabelWidth(n)+8,(a=Math.abs(this._getAvgLabelLength(n)))<o&&(t=o,e=a)),t&&e&&(s=Math.ceil(t/e),d.each(u,function(t,e){e%s!=0&&t.attr("text","")}))}},r}(r);t.exports=i},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=n(536),r=n(593),i=s.MatrixUtil,u=s.PathUtil,c=i.vec2,l=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return s.mix({},t,{type:"polyline"})},i.getLinePath=function(){var t=this.get("tickPoints"),e=this.get("start"),n=this.get("end"),r=[];r.push(e.x),r.push(e.y),s.each(t,function(t){r.push(t.x),r.push(t.y)}),r.push(n.x),r.push(n.y);var i=u.catmullRomToBezier(r);return i.unshift(["M",e.x,e.y]),i},i.getTickPoint=function(t,e){return this.get("tickPoints")[e]},i.getTickEnd=function(t,e,n){var r=this.get("tickLine"),i=e||r.length,o=this.getSideVector(i,t,n);return{x:t.x+o[0],y:t.y+o[1]}},i.getSideVector=function(t,e,n){if(0===n){if((r=this.get("start")).x===e.x&&r.y===e.y)return[0,0]}else var r=this.get("tickPoints")[n-1];var i=[e.x-r.x,e.y-r.y],o=c.normalize([],i),a=c.vertical([],o,!1);return c.scale([],a,t)},r}(r);t.exports=l},function(t,e,n){t.exports={Guide:n(564),Arc:n(1039),DataMarker:n(1040),DataRegion:n(1041),Html:n(1042),Image:n(1043),Line:n(1044),Region:n(1045),Text:n(1046)}},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=n(536),r=n(564),p=Math.PI,s=Math.atan;function d(t,e){var n,r=t.x-e.x,i=t.y-e.y;return 0==i?n=r<0?p/2:270*p/180:0<=r&&0<i?n=2*p-s(r/i):r<=0&&i<0?n=p-s(r/i):0<r&&i<0?n=p+s(-r/i):r<0&&0<i&&(n=s(r/-i)),n}var i=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return h.mix({},t,{name:"arc",start:null,end:null,style:{stroke:"#999",lineWidth:1}})},i.render=function(t,e){var n,r,i,o,a,s,u,c=this,l=c.parsePoint(t,c.get("start")),f=c.parsePoint(t,c.get("end"));l&&f&&(n=t.getCenter(),r=Math.sqrt((l.x-n.x)*(l.x-n.x)+(l.y-n.y)*(l.y-n.y)),i=d(l,n),(o=d(f,n))<i&&(o+=2*p),s=h.isNumberEqual(l.x,f.x)&&h.isNumberEqual(l.y,f.y)&&(c.get("start")[0]!==c.get("end")[0]||c.get("start")[1]!==c.get("end")[1])?[["M",l.x,l.y],["A",r,r,0,1,1,2*n.x-l.x,2*n.y-l.y],["A",r,r,0,1,1,l.x,l.y]]:(a=p<(o-i)%(2*p)?1:0,[["M",l.x,l.y],["A",r,r,0,a,1,f.x,f.y]]),(u=e.addShape("path",{zIndex:c.get("zIndex"),attrs:h.mix({path:s},c.get("style"))})).name="guide-arc",c.get("appendInfo")&&u.setSilent("appendInfo",c.get("appendInfo")),c.set("el",u))},r}(r);t.exports=i},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=n(536),r=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return s.mix({},t,{name:"dataMarker",zIndex:1,top:!0,position:null,style:{point:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2},line:{stroke:"#A3B1BF",lineWidth:1},text:{fill:"#000000",opacity:.65,fontSize:12,textAlign:"start"}},display:{point:!0,line:!0,text:!0},lineLength:20,direction:"upward",autoAdjust:!0})},i.render=function(t,e){var n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,y,m,x,b,w,_,S=this,M=S.parsePoint(t,S.get("position"));M&&((n=e.addGroup()).name="guide-data-marker",r=S._getElementPosition(M),(i=S.get("display")).line&&(o=r.line,a=S._drawLine(o,n)),i.text&&S.get("content")&&(s=r.text,u=S._drawText(s,n)),i.point&&(c=r.point,S._drawPoint(c,n)),S.get("autoAdjust")&&(f=(l=n.getBBox()).minX,h=l.minY,p=l.maxX,d=l.maxY,g=t.start,v=t.end,u&&(f<=g.x&&u.attr("textAlign","start"),p>=v.x&&u.attr("textAlign","end"),("upward"===(y=S.get("direction"))&&h<=v.y||"upward"!==y&&d>=g.y)&&(x="upward"===y&&h<=v.y?(m="top",1):(m="bottom",-1),u.attr("textBaseline",m),b=0,S.get("display").line&&(b=S.get("lineLength"),w=[["M",M.x,M.y],["L",M.x,M.y+b*x]],a.attr("path",w)),_=M.y+(b+2)*x,u.attr("y",_)))),S.get("appendInfo")&&n.setSilent("appendInfo",S.get("appendInfo")),S.set("el",n))},i._getElementPosition=function(t){var e=t.x,n=t.y,r=this.get("display").line?this.get("lineLength"):0,i=this.get("direction");this.get("style").text.textBaseline="upward"===i?"bottom":"top";var o="upward"===i?-1:1;return{point:{x:e,y:n},line:[{x:e,y:n},{x:e,y:r*o+n}],text:{x:e,y:(r+2)*o+n}}},i._drawLine=function(t,e){var n=this.get("style").line,r=[["M",t[0].x,t[0].y],["L",t[1].x,t[1].y]];return e.addShape("path",{attrs:s.mix({path:r},n)})},i._drawText=function(t,e){var n=this.get("style").text;return e.addShape("text",{attrs:s.mix({text:this.get("content")},n,t)})},i._drawPoint=function(t,e){var n=this.get("style").point;return e.addShape("circle",{attrs:s.mix({},n,t)})},r}(n(564));t.exports=r},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=n(536),d=n(794),r=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return g.mix({},t,{name:"dataRegion",start:null,end:null,content:"",style:{region:{lineWidth:0,fill:"#000000",opacity:.04},text:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:"rgba(0, 0, 0, .65)"}}})},i.render=function(t,e,n){var r=this.get("lineLength")||0,i=this._getRegionData(t,n);if(i.length){var o=this._getBBox(i),a=[];a.push(["M",i[0].x,o.yMin-r]);for(var s=0,u=i.length;s<u;s++){var c=["L",i[s].x,i[s].y];a.push(c)}a.push(["L",i[i.length-1].x,o.yMin-r]);var l=this.get("style"),f=l.region,h=l.text,p=e.addGroup();p.name="guide-data-region",p.addShape("path",{attrs:g.mix({path:a},f)});var d=this.get("content");d&&p.addShape("Text",{attrs:g.mix({x:(o.xMin+o.xMax)/2,y:o.yMin-r,text:d},h)}),this.get("appendInfo")&&p.setSilent("appendInfo",this.get("appendInfo")),this.set("el",p)}},i._getRegionData=function(t,e){for(var n,r=this.get("start"),i=this.get("end"),o=d.getFirstScale(this.get("xScales")).field,a=d.getFirstScale(this.get("yScales")).field,s=g.isArray(r)?r[0]:r[o],u=g.isArray(i)?i[0]:i[o],c=[],l=0,f=e.length;l<f;l++){var h,p=e[l];if(p[o]===s&&(n=l),n<=l&&((h=this.parsePoint(t,[p[o],p[a]]))&&c.push(h)),p[o]===u)break}return c},i._getBBox=function(t){for(var e=[],n=[],r=0;r<t.length;r++)e.push(t[r].x),n.push(t[r].y);var i=g.arrayUtil.getRange(e),o=g.arrayUtil.getRange(n);return{xMin:i.min,xMax:i.max,yMin:o.min,yMax:o.max}},r}(n(564));t.exports=r},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=n(536),l=s.DomUtil,r=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return s.mix({},t,{name:"html",zIndex:7,position:null,alignX:"middle",alignY:"middle",offsetX:null,offsetY:null,html:null})},i.render=function(t,e){var n,r,i,o,a=this.parsePoint(t,this.get("position"));a&&(n=e.get("canvas").get("el").parentNode,r=l.createDom('<div class="g-guide"></div>'),n.appendChild(r),i=this.get("htmlContent")||this.get("html"),s.isFunction(i)&&(i=i(this.get("xScales"),this.get("yScales"))),o=l.createDom(i),r.appendChild(o),l.modifyCSS(r,{position:"absolute"}),this._setDomPosition(r,o,a),this.set("el",r))},i._setDomPosition=function(t,e,n){var r=this.get("alignX"),i=this.get("alignY"),o=l.getOuterWidth(e),a=l.getOuterHeight(e),s={x:n.x,y:n.y};"middle"===r&&"top"===i?s.x-=Math.round(o/2):"middle"===r&&"bottom"===i?(s.x-=Math.round(o/2),s.y-=Math.round(a)):"left"===r&&"bottom"===i?s.y-=Math.round(a):"left"===r&&"middle"===i?s.y-=Math.round(a/2):"left"===r&&"top"===i?(s.x=n.x,s.y=n.y):"right"===r&&"bottom"===i?(s.x-=Math.round(o),s.y-=Math.round(a)):"right"===r&&"middle"===i?(s.x-=Math.round(o),s.y-=Math.round(a/2)):"right"===r&&"top"===i?s.x-=Math.round(o):(s.x-=Math.round(o/2),s.y-=Math.round(a/2));var u=this.get("offsetX");u&&(s.x+=u);var c=this.get("offsetY");c&&(s.y+=c),l.modifyCSS(t,{top:Math.round(s.y)+"px",left:Math.round(s.x)+"px",visibility:"visible",zIndex:this.get("zIndex")})},i.clear=function(){var t=this.get("el");t&&t.parentNode&&t.parentNode.removeChild(t)},r}(n(564));t.exports=r},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=n(536),r=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return s.mix({},t,{type:"image",start:null,end:null,src:null,offsetX:null,offsetY:null})},i.render=function(t,e){var n=this,r=n.parsePoint(t,n.get("start"));if(r){var i={x:r.x,y:r.y};if(i.img=n.get("src"),n.get("end")){var o=n.parsePoint(t,n.get("end"));if(!o)return;i.width=o.x-r.x,i.height=o.y-r.y}else i.width=n.get("width")||32,i.height=n.get("height")||32;n.get("offsetX")&&(i.x+=n.get("offsetX")),n.get("offsetY")&&(i.y+=n.get("offsetY"));var a=e.addShape("Image",{zIndex:1,attrs:i});a.name="guide-image",n.get("appendInfo")&&a.setSilent("appendInfo",n.get("appendInfo")),n.set("el",a)}},r}(n(564));t.exports=r},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(536),r=n(564),f=l.MatrixUtil.vec2,s=n(563).FONT_FAMILY,i=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return l.mix({},t,{name:"line",start:null,end:null,lineStyle:{stroke:"#000",lineWidth:1},text:{position:"end",autoRotate:!0,style:{fill:"#999",fontSize:12,fontWeight:500,fontFamily:s},content:null}})},i.render=function(t,e){var n,r,i=this.parsePoint(t,this.get("start")),o=this.parsePoint(t,this.get("end"));i&&o&&(n=e.addGroup({viewId:e.get("viewId")}),this._drawLines(i,o,n),(r=this.get("text"))&&r.content&&this._drawText(i,o,n),this.set("el",n))},i._drawLines=function(t,e,n){var r=[["M",t.x,t.y],["L",e.x,e.y]],i=n.addShape("Path",{attrs:l.mix({path:r},this.get("lineStyle"))});i.name="guide-line",this.get("appendInfo")&&i.setSilent("appendInfo",this.get("appendInfo"))},i._drawText=function(t,e,n){var r=this.get("text"),i=r.position,o=r.style||{},a="start"===i?0:"center"===i?.5:l.isString(i)&&-1!==i.indexOf("%")?parseInt(i,10)/100:l.isNumber(i)?i:1;(1<a||a<0)&&(a=1);var s,u={x:t.x+(e.x-t.x)*a,y:t.y+(e.y-t.y)*a};r.offsetX&&(u.x+=r.offsetX),r.offsetY&&(u.y+=r.offsetY),u.text=r.content,u=l.mix({},u,o),r.autoRotate&&l.isNil(o.rotate)?(s=f.angleTo([e.x-t.x,e.y-t.y],[1,0],1),u.rotate=s):l.isNil(o.rotate)||(u.rotate=o.rotate*Math.PI/180);var c=n.addShape("Text",{attrs:u});c.name="guide-line-text",this.get("appendInfo")&&c.setSilent("appendInfo",this.get("appendInfo"))},r}(r);t.exports=i},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=n(536),r=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return s.mix({},t,{name:"region",zIndex:1,start:null,end:null,style:{lineWidth:0,fill:"#CCD7EB",opacity:.4}})},i.render=function(t,e){var n,r=this.get("style"),i=this._getPath(t);i.length&&((n=e.addShape("path",{zIndex:this.get("zIndex"),attrs:s.mix({path:i},r)})).name="guide-region",this.get("appendInfo")&&n.setSilent("appendInfo",this.get("appendInfo")),this.set("el",n))},i._getPath=function(t){var e=this.parsePoint(t,this.get("start")),n=this.parsePoint(t,this.get("end"));return e&&n?[["M",e.x,e.y],["L",n.x,e.y],["L",n.x,n.y],["L",e.x,n.y],["z"]]:[]},r}(n(564));t.exports=r},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=n(536),r=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return u.mix({},t,{name:"text",position:null,content:null,style:{fill:"#999",fontSize:12,fontWeight:500,textAlign:"center"},offsetX:null,offsetY:null,top:!0})},i.render=function(t,e){var n,r,i,o,a=this,s=a.parsePoint(t,a.get("position"));s&&(n=u.mix({},a.get("style")),r=a.get("offsetX"),i=a.get("offsetY"),r&&(s.x+=r),i&&(s.y+=i),n.rotate&&(n.rotate=n.rotate*Math.PI/180),(o=e.addShape("Text",{zIndex:a.get("zIndex"),attrs:u.mix({text:a.get("content")},n,s)})).name="guide-text",a.get("appendInfo")&&o.setSilent("appendInfo",a.get("appendInfo")),a.set("el",o))},r}(n(564));t.exports=r},function(t,e,n){var r=n(792);t.exports=r},function(t,e,n){t.exports={Category:n(795),CatHtml:n(797),CatPageHtml:n(1049),Color:n(1050),Size:n(1052),CircleSize:n(1053)}},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=n(536),r=n(797),s=n(563).FONT_FAMILY,w=b.DomUtil,_="rgba(0,0,0,0.65)",S="rgba(0,0,0,0.25)";function M(t,e){return t.getElementsByClassName(e)[0]}var i=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return b.mix({},t,{type:"category-page-legend",container:null,caretStyle:{fill:"rgba(0,0,0,0.65)"},pageNumStyle:{display:"inline-block",fontSize:"12px",fontFamily:s,cursor:"default"},slipDomStyle:{width:"auto",height:"auto",position:"absolute"},slipTpl:'<div class="g2-slip" ><svg viewBox="64 64 896 896" class="g2-caret-up" data-icon="left" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg><p class="cur-pagenum" style = "display:inline-block;vertical-align:middle;">1</p><p class="next-pagenum" style = "display:inline-block;vertical-align:middle;"">/2</p><svg viewBox="64 64 896 896" class="g2-caret-down" data-icon="right" style = "display:inline-block;vertical-align:middle;" width="1em" height="1em" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></div>',slipWidth:65,legendOverflow:"unset"})},i.render=function(){e.prototype._renderHTML.call(this),this._renderFlipPage()},i._renderFlipPage=function(){var t=this.get("legendWrapper"),e=M(t,"g2-legend-list"),n=this.get("position"),r=this.get("layout"),i="right"===n||"left"===n||"vertical"===r,o=i?"block":"inline-block",a=t.offsetHeight;if(t.scrollHeight>a){var s=this.get("slipTpl"),u=w.createDom(s),c=M(u,"g2-caret-up"),l=M(u,"g2-caret-down");w.modifyCSS(c,this.get("caretStyle")),w.modifyCSS(c,{fill:"rgba(0,0,0,0.25)"}),w.modifyCSS(l,this.get("caretStyle"));var f,h=M(u,"cur-pagenum"),p=M(u,"next-pagenum"),d=this.get("pageNumStyle");w.modifyCSS(h,b.mix({},d,{paddingLeft:"10px"})),w.modifyCSS(p,b.mix({},d,{opacity:.3,paddingRight:"10px"})),w.modifyCSS(u,b.mix({},this.get("slipDomStyle"),i?{top:a+"px"}:{right:0,top:"50%",transform:"translate(0, -50%)"})),t.style.overflow=this.get("legendOverflow"),t.appendChild(u),i||(f=Math.max(t.offsetWidth-10-u.offsetWidth,0),w.modifyCSS(e,{maxWidth:f+"px"}));for(var g=e.childNodes,v=0,y=1,m=[],x=0;x<g.length;x++)g[x].style.display=o,v=g[x].offsetTop+g[x].offsetHeight,a<v&&(y++,m.forEach(function(t){t.style.display="none"}),m=[]),m.push(g[x]);p.innerText="/"+y,g.forEach(function(t){t.style.display=o,v=t.offsetTop+t.offsetHeight,a<v&&(t.style.display="none")}),c.addEventListener("click",function(){if(g[0].style.display!==o){var n=-1;g.forEach(function(t,e){t.style.display===o&&(n=-1===n?e:n,t.style.display="none")});for(var t=n-1;0<=t&&(g[t].style.display=o,v=g[n-1].offsetTop+g[n-1].offsetHeight,g[t].style.display="none",v<=a);t--)g[t].style.display=o;var e=Number.parseInt(h.innerText,10)-1;c.style.fill=1==e?S:_,l.style.fill=_,h.innerText=e}}),l.addEventListener("click",function(){if(g[g.length-1].style.display!==o){var n=-1;g.forEach(function(t,e){t.style.display===o&&(n=e,t.style.display="none")});for(var t=n+1;t<g.length&&(g[t].style.display=o,v=g[t].offsetTop+g[t].offsetHeight,g[t].style.display="none",v<=a);t++)g[t].style.display=o;var e=Number.parseInt(h.innerText,10)+1;l.style.fill=e===y?S:_,c.style.fill=_,h.innerText=e}}),this.set("slipDom",u)}},i.destroy=function(){var t=this.get("slipDom");t&&t.parentNode&&t.parentNode.removeChild(t),e.prototype.destroy.call(this)},r}(r);t.exports=i},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=n(667).ColorUtil,v=n(536),r=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return v.mix({},t,{type:"color-legend",layout:"vertical",triggerAttr:{fill:"#fff",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc",radius:3},isSegment:!1})},i._setPercentage=function(){var e,n,t=this.get("items");t[0].percentage||(e=t[0].value,n=t[t.length-1].value,v.each(t,function(t){t.percentage=(t.value-e)/(n-e)}))},i._renderSliderShape=function(){this._setPercentage();var e,t=this.get("slider").get("backgroundElement"),n=this.get("width"),r=this.get("height"),i=this.get("layout"),o=this.get("items"),a="";return"vertical"===i?(a+="l (90) ",v.each(o,function(t){e=g.toRGB(t.color),a+=1-t.percentage+":"+e+" "})):(a+="l (0) ",v.each(o,function(t){e=g.toRGB(t.color),a+=t.percentage+":"+e+" "})),this._addMiddleBar(t,"Rect",{x:0,y:0,width:n,height:r,fill:a,strokeOpacity:0})},i._renderUnslidable=function(){this._setPercentage();var t,e=this.get("titleShape"),n=this.get("titleGap"),n=e?e.getBBox().height+n:n,r=this.get("width"),i=this.get("height"),o=this.get("layout"),a=this.get("items"),s="",u=[],c=this.get("group").addGroup(),l=a.length;if("vertical"===o){s+="l (90) ";for(var f,h=0;h<l;h+=1){0!==h&&h!==l-1&&(u.push(["M",0,i-a[h].percentage*i]),u.push(["L",r,i-a[h].percentage*i])),t=g.toRGB(a[h].color),s+=1-a[h].percentage+":"+t+" ",this.get("isSegment")&&0<h&&(f=g.toRGB(a[h-1].color),s+=1-a[h].percentage+":"+f+" "),c.addShape("text",{attrs:v.mix({},{x:r+this.get("textOffset")/2,y:i-a[h].percentage*i,text:this._formatItemValue(a[h].value)+""},this.get("textStyle"),{textAlign:"start"})})}}else{s+="l (0) ";for(var p,d=0;d<l;d+=1){0!==d&&d!==l-1&&(u.push(["M",a[d].percentage*r,0]),u.push(["L",a[d].percentage*r,i])),t=g.toRGB(a[d].color),this.get("isSegment")&&0<d&&(p=g.toRGB(a[d-1].color),s+=a[d].percentage+":"+p+" "),s+=a[d].percentage+":"+t+" ",c.addShape("text",{attrs:v.mix({},{x:a[d].percentage*r,y:i+5+this.get("textOffset"),text:this._formatItemValue(a[d].value)+""},this.get("textStyle"))})}}c.addShape("rect",{attrs:{x:0,y:0,width:r,height:i,fill:s,strokeOpacity:0}}),c.addShape("path",{attrs:v.mix({path:u},this.get("lineStyle"))}),c.move(0,n)},r}(n(670));t.exports=r},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var f=n(536),i=f.DomUtil,o=f.Group;f.extend(r,o),f.augment(r,{getDefaultCfg:function(){return{range:null,middleAttr:{fill:"#fff",fillOpacity:0},backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_beforeRenderUI:function(){var t=this.get("layout"),e=this.get("backgroundElement"),n=this.get("minHandleElement"),r=this.get("maxHandleElement"),i=this.addShape("rect",{attrs:this.get("middleAttr")}),o="vertical"===t?"ns-resize":"ew-resize";this.add([e,n,r]),this.set("middleHandleElement",i),e.set("zIndex",0),i.set("zIndex",1),n.set("zIndex",2),r.set("zIndex",2),i.attr("cursor","move"),n.attr("cursor",o),r.attr("cursor",o),this.sort()},_renderUI:function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},_transform:function(t){var e=this.get("range"),n=e[0]/100,r=e[1]/100,i=this.get("width"),o=this.get("height"),a=this.get("minHandleElement"),s=this.get("maxHandleElement"),u=this.get("middleHandleElement");a.resetMatrix(),s.resetMatrix(),"horizontal"===t?(u.attr({x:i*n,y:0,width:(r-n)*i,height:o}),a.translate(n*i,o),s.translate(r*i,o)):(u.attr({x:0,y:o*(1-r),width:i,height:(r-n)*o}),a.translate(1,(1-n)*o),s.translate(1,(1-r)*o))},_renderHorizontal:function(){this._transform("horizontal")},_renderVertical:function(){this._transform("vertical")},_bindUI:function(){this.on("mousedown",f.wrapBehavior(this,"_onMouseDown"))},_isElement:function(t,e){var n=this.get(e);return t===n||!!n.isGroup&&-1<n.get("children").indexOf(t)},_getRange:function(t,e){var n=t+e;return n=(n=100<n?100:n)<0?0:n},_updateStatus:function(t,e){var n="x"===t?this.get("width"):this.get("height");t=f.upperFirst(t);var r,i=this.get("range"),o=this.get("page"+t),a=this.get("currentTarget"),s=this.get("rangeStash"),u="vertical"===this.get("layout")?-1:1,c=e["page"+t],l=(c-o)/n*100*u;i[1]<=i[0]?(this._isElement(a,"minHandleElement")||this._isElement(a,"maxHandleElement"))&&(i[0]=this._getRange(l,i[0]),i[1]=this._getRange(l,i[0])):(this._isElement(a,"minHandleElement")&&(i[0]=this._getRange(l,i[0])),this._isElement(a,"maxHandleElement")&&(i[1]=this._getRange(l,i[1]))),this._isElement(a,"middleHandleElement")&&(r=s[1]-s[0],i[0]=this._getRange(l,i[0]),i[1]=i[0]+r,100<i[1]&&(i[1]=100,i[0]=i[1]-r)),this.emit("sliderchange",{range:i}),this.set("page"+t,c),this._renderUI(),this.get("canvas").draw()},_onMouseDown:function(t){var e=t.currentTarget,n=t.event,r=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",e),this.set("rangeStash",[r[0],r[1]]),this._bindCanvasEvents()},_bindCanvasEvents:function(){var t=this.get("canvas").get("containerDOM");this.onMouseMoveListener=i.addEventListener(t,"mousemove",f.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=i.addEventListener(t,"mouseup",f.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=i.addEventListener(t,"mouseleave",f.wrapBehavior(this,"_onCanvasMouseUp"))},_onCanvasMouseMove:function(t){this._mouseOutArea(t)||("horizontal"===this.get("layout")?this._updateStatus("x",t):this._updateStatus("y",t))},_onCanvasMouseUp:function(){this._removeDocumentEvents()},_removeDocumentEvents:function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove()},_mouseOutArea:function(t){var e=this.get("canvas").get("el").getBoundingClientRect(),n=this.get("parent"),r=n.getBBox(),i=n.attr("matrix")[6],o=n.attr("matrix")[7],a=i+r.width,s=o+r.height,u=t.clientX-e.x,c=t.clientY-e.y;return u<i||a<u||c<o||s<c}}),t.exports=r},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=n(536),r=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return s.mix({},t,{type:"size-legend",width:100,height:200,_unslidableElementStyle:{fill:"#4E7CCC",fillOpacity:1},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},i._renderSliderShape=function(){var t=this.get("slider").get("backgroundElement"),e=this.get("layout"),n=this.get("width"),r=this.get("height"),i=this.get("height")/2,o=this.get("frontMiddleBarStyle"),a="vertical"===e?[[0,0],[n,0],[n,r],[n-4,r]]:[[0,i+r/2],[0,i+r/2-4],[n,i-r/2],[n,i+r/2]];return this._addMiddleBar(t,"Polygon",s.mix({points:a},o))},i._renderUnslidable=function(){var t=this.get("layout"),e=this.get("width"),n=this.get("height"),r=this.get("frontMiddleBarStyle"),i="vertical"===t?[[0,0],[e,0],[e,n],[e-4,n]]:[[0,n],[0,n-4],[e,0],[e,n]];this.get("group").addGroup().addShape("Polygon",{attrs:s.mix({points:i},r)});var o=this._formatItemValue(this.get("firstItem").value),a=this._formatItemValue(this.get("lastItem").value);"vertical"===this.get("layout")?(this._addText(e+10,n-3,o),this._addText(e+10,3,a)):(this._addText(0,n,o),this._addText(e,n,a))},i._addText=function(t,e,n){var r=this.get("group").addGroup(),i=this.get("textStyle"),o=this.get("titleShape"),a=this.get("titleGap");o&&(a+=o.getBBox().height),"vertical"===this.get("layout")?r.addShape("text",{attrs:s.mix({x:t+this.get("textOffset"),y:e,text:0===n?"0":n},i)}):(e+=a+this.get("textOffset")-20,o||(e+=10),r.addShape("text",{attrs:s.mix({x:t,y:e,text:0===n?"0":n},i)}))},r}(n(670));t.exports=r},function(t,e,n){function i(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(536),r=n(670),o=function(c){var t,e;e=c,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;i(n);function n(){return c.apply(this,arguments)||this}var r=n.prototype;return r.getDefaultCfg=function(){var t=c.prototype.getDefaultCfg.call(this);return l.mix({},t,{type:"size-circle-legend",width:100,height:200,_unslidableCircleStyle:{stroke:"rgb(99, 161, 248)",fill:"rgb(99, 161, 248)",fillOpacity:.3,lineWidth:1.5},triggerAttr:{fill:"white",shadowOffsetX:-2,shadowOffsetY:2,shadowBlur:10,shadowColor:"#ccc"},frontMiddleBarStyle:{fill:"rgb(64, 141, 251)"}})},r._renderSliderShape=function(){var t=this.get("slider").get("backgroundElement"),e=this.get("layout"),n="vertical"===e?2:this.get("width"),r="vertical"===e?this.get("height"):2,i=this.get("height")/2,o=this.get("frontMiddleBarStyle"),a="vertical"===e?[[0,0],[n,0],[n,r],[0,r]]:[[0,i+r],[0,i-r],[5+n-4,i-r],[5+n-4,i+r]];return this._addMiddleBar(t,"Polygon",l.mix({points:a},o))},r._addHorizontalTrigger=function(t,e,n,r){var i=this.get("slider").get(t+"HandleElement"),o=-this.get("height")/2,a=i.addShape("circle",{attrs:l.mix({x:0,y:o,r:r},e)}),s=i.addShape("text",{attrs:l.mix(n,{x:0,y:o+r+10,textAlign:"center",textBaseline:"middle"})}),u="vertical"===this.get("layout")?"ns-resize":"ew-resize";a.attr("cursor",u),s.attr("cursor",u),this.set(t+"ButtonElement",a),this.set(t+"TextElement",s)},r._addVerticalTrigger=function(t,e,n,r){var i=this.get("slider").get(t+"HandleElement"),o=i.addShape("circle",{attrs:l.mix({x:0,y:0,r:r},e)}),a=i.addShape("text",{attrs:l.mix(n,{x:r+10,y:0,textAlign:"start",textBaseline:"middle"})}),s="vertical"===this.get("layout")?"ns-resize":"ew-resize";o.attr("cursor",s),a.attr("cursor",s),this.set(t+"ButtonElement",o),this.set(t+"TextElement",a)},r._renderTrigger=function(){var t=this.get("firstItem"),e=this.get("lastItem"),n=this.get("layout"),r=this.get("textStyle"),i=this.get("triggerAttr"),o=l.mix({},i),a=l.mix({},i),s=l.mix({text:this._formatItemValue(t.value)+""},r),u=l.mix({text:this._formatItemValue(e.value)+""},r);"vertical"===n?(this._addVerticalTrigger("min",o,s,5),this._addVerticalTrigger("max",a,u,16)):(this._addHorizontalTrigger("min",o,s,5),this._addHorizontalTrigger("max",a,u,16))},r._bindEvents=function(){var c=this;this.get("slidable")&&this.get("slider").on("sliderchange",function(t){var e=t.range,n=c.get("firstItem").value,r=c.get("lastItem").value,i=n+e[0]/100*(r-n),o=n+e[1]/100*(r-n),a=5+e[0]/100*11,s=5+e[1]/100*11;c._updateElement(i,o,a,s);var u=new Event("itemfilter",t,!0,!0);u.range=[i,o],c.emit("itemfilter",u)})},r._updateElement=function(t,e,n,r){c.prototype._updateElement.call(this,t,e);var i,o=this.get("minTextElement"),a=this.get("maxTextElement"),s=this.get("minButtonElement"),u=this.get("maxButtonElement");s.attr("r",n),u.attr("r",r),"vertical"===this.get("layout")?(o.attr("x",n+10),a.attr("x",r+10)):(i=-this.get("height")/2,o.attr("y",i+n+10),a.attr("y",i+r+10))},r._addCircle=function(t,e,n,r,i){var o=this.get("group").addGroup(),a=this.get("_unslidableCircleStyle"),s=this.get("textStyle"),u=this.get("titleShape"),c=this.get("titleGap");u&&(c+=u.getBBox().height),o.addShape("circle",{attrs:l.mix({x:t,y:e+c,r:0===n?1:n},a)}),"vertical"===this.get("layout")?o.addShape("text",{attrs:l.mix({x:i+20+this.get("textOffset"),y:e+c,text:0===r?"0":r},s)}):o.addShape("text",{attrs:l.mix({x:t,y:e+c+i+13+this.get("textOffset"),text:0===r?"0":r},s)})},r._renderUnslidable=function(){var t,e=this.get("firstItem").value,n=this.get("lastItem").value;n<e&&(t=n,n=e,e=t);var r=this._formatItemValue(e),i=this._formatItemValue(n),o=e<5?5:e,a=16<n?16:n;a<o&&(o=5,a=16),"vertical"===this.get("layout")?(this._addCircle(a,a,o,r,2*a),this._addCircle(a,2*a+16+o,a,i,2*a)):(this._addCircle(a,a,o,r,2*a),this._addCircle(2*a+16+o,a,a,i,2*a))},r.activate=function(t){this.get("slidable")&&c.prototype.activate.call(this,t)},n}(r);t.exports=o},function(t,e,n){var r=n(671);r.Html=n(1055),r.Canvas=n(801),r.Mini=n(1057),t.exports=r},function(t,e,n){function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function i(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?s(n):r}}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=n(578),o=n(671),m=n(536),x=m.DomUtil,c=n(1056),l=n(798),f=n(799),h=n(800),p="g2-tooltip",d="g2-tooltip-title",g="g2-tooltip-list",v="g2-tooltip-marker",b="g2-tooltip-value",w=r.Marker;function _(t,e){return t.getElementsByClassName(e)[0]}var y=function(y){var t,e;e=y,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;i(r);var n=r.prototype;function r(t){var e,n,r=y.call(this,t)||this;m.assign(s(r),f),m.assign(s(r),h),r.style=(e=c,n=t,Object.keys(e).forEach(function(t){n[t]&&(e[t]=m.mix(e[t],n[t]))}),e),r._init_(),r.get("items")&&r.render();var i,o,a=r.get("crosshairs");return a&&(i="rect"===a.type?r.get("backPlot"):r.get("frontPlot"),(o=new l(m.mix({plot:i,plotRange:r.get("plotRange"),canvas:r.get("canvas")},r.get("crosshairs")))).hide(),r.set("crosshairGroup",o)),r}return n.getDefaultCfg=function(){var t=y.prototype.getDefaultCfg.call(this);return m.mix({},t,{containerTpl:' <div class="'+p+'"> <div class="'+d+'"></div><ul class="'+g+'"></ul></div>',itemTpl:'<li data-index={index}>\n      <svg viewBox="0 0 5 5" class="'+v+'"></svg>\n      {name}<span class="'+b+'">{value}</span></li>',htmlContent:null,follow:!0,enterable:!1})},n._init_=function(){var t,e,n=this.get("containerTpl"),r=this.get("canvas").get("el").parentNode;this.get("htmlContent")||(/^\#/.test(n)?(t=n.replace("#",""),e=document.getElementById(t)):(e=x.createDom(n),x.modifyCSS(e,this.style[p]),r.appendChild(e),r.style.position="relative"),this.set("container",e))},n.render=function(){var t,e;this.clear(),this.get("htmlContent")?(t=this.get("canvas").get("el").parentNode,e=this._getHtmlContent(),t.appendChild(e),this.set("container",e)):this._renderTpl()},n._renderTpl=function(){var n=this,t=n.get("showTitle"),e=n.get("titleContent"),r=n.get("container"),i=_(r,d),o=_(r,g),a=n.get("items");i&&t&&(x.modifyCSS(i,n.style[d]),i.innerHTML=e),o&&(x.modifyCSS(o,n.style[g]),m.each(a,function(t,e){o.appendChild(n._addItem(t,e))}))},n.clear=function(){var t,e,n=this.get("container");this.get("htmlContent")?n&&n.remove():(t=_(n,d),e=_(n,g),t&&(t.innerHTML=""),e&&(e.innerHTML=""))},n.show=function(){var t,e,n=this.get("container");n&&!this.destroyed&&(n.style.visibility="visible",n.style.display="block",(t=this.get("crosshairGroup"))&&t.show(),(e=this.get("markerGroup"))&&e.show(),y.prototype.show.call(this),this.get("canvas").draw())},n.hide=function(){var t,e,n=this.get("container");n&&!this.destroyed&&(n.style.visibility="hidden",n.style.display="none",(t=this.get("crosshairGroup"))&&t.hide(),(e=this.get("markerGroup"))&&e.hide(),y.prototype.hide.call(this),this.get("canvas").draw())},n.destroy=function(){var t=this.get("container"),e=this.get("containerTpl");t&&!/^\#/.test(e)&&t.parentNode.removeChild(t);var n=this.get("crosshairGroup");n&&n.destroy();var r=this.get("markerGroup");r&&r.remove(),y.prototype.destroy.call(this)},n._getMarkerSvg=function(t){var e,n=t.marker||{},r=n.activeSymbol||n.symbol;return m.isFunction(r)?e=r:m.isString(r)&&(e=w.Symbols[r]),'<path d="'+(e=m.isFunction(e)?e:w.Symbols.circle)(2.5,2.5,2.5).reduce(function(t,e){return""+t+e[0]+e.slice(1).join(",")},"")+'" fill="'+(n.fill||"none")+'" stroke="'+(n.stroke||"none")+'" />'},n._addItem=function(t,e){var n=this.get("itemTpl"),r=m.substitute(n,m.mix({index:e},t)),i=x.createDom(r);x.modifyCSS(i,this.style["g2-tooltip-list-item"]);var o,a=_(i,v);a&&(x.modifyCSS(a,u({},this.style[v],{borderRadius:"unset"})),o=this._getMarkerSvg(t),a.innerHTML=o);var s=_(i,b);return s&&x.modifyCSS(s,this.style[b]),i},n._getHtmlContent=function(){var t=this.get("htmlContent")(this.get("titleContent"),this.get("items"));return x.createDom(t)},n.setPosition=function(t,e,n){var r,i,o=this.get("container"),a=this.get("canvas").get("el"),s=x.getWidth(a),u=x.getHeight(a),c=o.clientWidth,l=o.clientHeight,f=t,h=e,p=this.get("prePosition")||{x:0,y:0};c||(o.style.display="block",c=o.clientWidth,l=o.clientHeight,o.style.display="none"),this.get("enterable")?(i=[t,e-=o.clientHeight/2],p&&0<t-p.x?t-=o.clientWidth+1:t+=1):e=(t=this.get("position")?(i=this._calcTooltipPosition(t,e,this.get("position"),c,l,n))[0]:(i=this._constraintPositionInBoundary(t,e,c,l,s,u))[0],i[1]),this.get("inPlot")&&(r=this.get("plotRange"),t=(i=this._constraintPositionInPlot(t,e,c,l,r,this.get("enterable")))[0],e=i[1]);var d=this.get("markerItems");m.isEmpty(d)||(f=d[0].x,h=d[0].y),this.set("prePosition",i),this.get("follow")&&(o.style.left=t+"px",o.style.top=e+"px");var g,v=this.get("crosshairGroup");v&&(g=this.get("items"),v.setPosition(f,h,g)),y.prototype.setPosition.call(this,t,e)},r}(o);t.exports=y},function(t,e,n){var r,i=n(563).FONT_FAMILY,o=((r={crosshairs:!1,offset:15})["g2-tooltip"]={position:"absolute",visibility:"hidden",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:i,lineHeight:"20px",padding:"10px 10px 6px 10px"},r["g2-tooltip-title"]={marginBottom:"4px"},r["g2-tooltip-list"]={margin:0,listStyleType:"none",padding:0},r["g2-tooltip-list-item"]={marginBottom:"4px"},r["g2-tooltip-marker"]={width:"5px",height:"5px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r["g2-tooltip-value"]={display:"inline-block",float:"right",marginLeft:"30px"},r);t.exports=o},function(t,e,n){function o(o){return function(){var t,e,n,r,i=a(o);return e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?(t=a(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments),n=this,!(r=e)||"object"!=typeof r&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=n(536),r=n(801),u=n(563).FONT_FAMILY,h=s.DomUtil,p=s.MatrixUtil,i=function(e){var t,n;n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;o(r);function r(){return e.apply(this,arguments)||this}var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return s.mix({},t,{boardStyle:{x:0,y:0,width:0,height:0,radius:3},valueStyle:{x:0,y:0,text:"",fontFamily:u,fontSize:12,stroke:"#fff",lineWidth:2,fill:"black",textBaseline:"top",textAlign:"start"},padding:{top:5,right:5,bottom:0,left:5},triangleWidth:10,triangleHeight:4})},i._init_=function(){var t=this.get("padding"),e=this.get("frontPlot").addGroup();this.set("container",e);var n=e.addShape("rect",{attrs:s.mix({},this.get("boardStyle"))});this.set("board",n);var r=e.addShape("path",{attrs:{fill:this.get("boardStyle").fill}});this.set("triangleShape",r);var i=e.addGroup();i.move(t.left,t.top);var o=i.addShape("text",{attrs:s.mix({},this.get("valueStyle"))});this.set("valueShape",o)},i.render=function(){this.clear();var t=this.get("board"),e=this.get("valueShape"),n=this.get("padding"),r=this.get("items")[0];e&&e.attr("text",r.value);var i=e?e.getBBox():{width:80,height:30},o=n.left+i.width+n.right,a=n.top+i.height+n.bottom;t.attr("width",o),t.attr("height",a),this._centerTriangleShape()},i.clear=function(){this.get("valueShape").attr("text","")},i.setPosition=function(t,e,n){var r,i,o,a=this.get("container"),s=this.get("plotRange"),u=a.getBBox(),c=u.width,l=u.height;t-=c/2,!n||"point"!==n.name&&"interval"!==n.name||(e=n.getBBox().y),e-=l,this.get("inPlot")?(t<s.tl.x?(t=s.tl.x,this._leftTriangleShape()):t+c/2>s.tr.x?(t=s.tr.x-c,this._rightTriangleShape()):this._centerTriangleShape(),e<s.tl.y?e=s.tl.y:e+l>s.bl.y&&(e=s.bl.y-l)):(r=this.get("canvas").get("el"),i=h.getWidth(r),o=h.getHeight(r),t<0?(t=0,this._leftTriangleShape()):i<t+c/2?(t=i-c,this._rightTriangleShape()):this._centerTriangleShape(),e<0?e=0:o<e+l&&(e=o-l));var f=p.transform([1,0,0,0,1,0,0,0,1],[["t",t,e]]);a.stopAnimate(),a.animate({matrix:f},this.get("animationDuration"))},i._centerTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),n=this.get("triangleHeight"),r=this.get("board").getBBox(),i=r.width,o=r.height,a=[["M",0,0],["L",e,0],["L",e/2,n],["L",0,0],["Z"]];t.attr("path",a),t.move(i/2-e/2,o-1)},i._leftTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),n=this.get("triangleHeight"),r=this.get("board").getBBox().height,i=[["M",0,0],["L",e,0],["L",0,n+3],["L",0,0],["Z"]];t.attr("path",i),t.move(0,r-3)},i._rightTriangleShape=function(){var t=this.get("triangleShape"),e=this.get("triangleWidth"),n=this.get("triangleHeight"),r=this.get("board").getBBox(),i=r.width,o=r.height,a=[["M",0,0],["L",e,0],["L",e,n+4],["L",0,0],["Z"]];t.attr("path",a),t.move(i-e-1,o-4)},r}(r);t.exports=i},function(t,e,n){var M=n(530).MatrixUtil.vec2;t.exports={catmullRom2bezier:function(t,e,n){for(var r=!!e,i=[],o=0,a=t.length;o<a;o+=2)i.push([t[o],t[o+1]]);for(var s,u,c,l=function(t,e,n,r){var i,o,a=[],s=!!r;if(s){f=[1/0,1/0],h=[-1/0,-1/0];for(var u=0,c=t.length;u<c;u++)var l=t[u],f=M.min([],f,l),h=M.max([],h,l);f=M.min([],f,r[0]),h=M.max([],h,r[1])}for(var p=0,d=t.length;p<d;p++){var g=t[p];if(n)i=t[p?p-1:d-1],o=t[(p+1)%d];else{if(0===p||p===d-1){a.push(g);continue}i=t[p-1],o=t[p+1]}var v=[],v=M.sub(v,o,i);v=M.scale(v,v,e);var y=M.distance(g,i),m=M.distance(g,o),x=y+m;0!==x&&(y/=x,m/=x);var b=M.scale([],v,-y),w=M.scale([],v,m),_=M.add([],g,b),S=M.add([],g,w);s&&(_=M.max([],_,f),_=M.min([],_,h),S=M.max([],S,f),S=M.min([],S,h)),a.push(_),a.push(S)}return n&&a.push(a.shift()),a}(i,.4,r,n),f=i.length,h=[],p=0;p<f-1;p++)s=l[2*p],u=l[2*p+1],c=i[p+1],h.push(["C",s[0],s[1],u[0],u[1],c[0],c[1]]);return r&&(s=l[f],u=l[f+1],c=i[0],h.push(["C",s[0],s[1],u[0],u[1],c[0],c[1]])),h}}},function(t,e,n){var a=n(530),r=n(802),s=n(572),i=n(542);function u(t,e,n){return{x:t.x+n*Math.cos(e),y:t.y+n*Math.sin(e)}}function o(t){o.superclass.constructor.call(this,t)}a.extend(o,r),a.augment(o,{getDefaultCfg:function(){return{label:i.thetaLabels}},getDefaultOffset:function(t){return t.offset||0},adjustItems:function(t){var e=t[0]?t[0].offset:0;return 0<e&&(t=this._distribute(t,e)),o.superclass.adjustItems.call(this,t)},_distribute:function(t,e){var n=this.get("coord"),r=n.getRadius(),i=this.get("label").labelHeight,o=n.getCenter(),a=2*(r+e)+2*i,s={start:n.start,end:n.end},u=this.get("geom");u&&(s=u.get("view").getViewRegion());var c=[[],[]];return t.forEach(function(t){t&&("right"===t.textAlign?c[0].push(t):c[1].push(t))}),c.forEach(function(t,e){var n=parseInt(a/i,10);t.length>n&&(t.sort(function(t,e){return e["..percent"]-t["..percent"]}),t.splice(n,t.length-n)),t.sort(function(t,e){return t.y-e.y}),function(n,r,t,i,o){var a,e,s,u=!0,c=t.start,l=t.end,f=Math.min(c.y,l.y),h=Math.abs(c.y-l.y),p=0,d=Number.MIN_VALUE,g=n.map(function(t){return t.y>p&&(p=t.y),t.y<d&&(d=t.y),{size:r,targets:[t.y-f]}});for(d-=f,h<p-f&&(h=p-f);u;)for(g.forEach(function(t){var e=(Math.min.apply(d,t.targets)+Math.max.apply(d,t.targets))/2;t.pos=Math.min(Math.max(d,e-t.size/2),h-t.size)}),u=!1,a=g.length;a--;){0<a&&(e=g[a-1],s=g[a],e.pos+e.size>s.pos&&(e.size+=s.size,e.targets=e.targets.concat(s.targets),e.pos+e.size>h&&(e.pos=h-e.size),g.splice(a,1),u=!0))}a=0,g.forEach(function(t){var e=f+r/2;t.targets.forEach(function(){n[a].y=t.pos+e,e+=r,a++})}),n.forEach(function(t){var e,n=t.r*t.r,r=Math.pow(Math.abs(t.y-i.y),2);n<r?t.x=i.x:(e=Math.sqrt(n-r),t.x=o?i.x+e:i.x-e)})}(t,i,s,o,e)}),c[0].concat(c[1])},lineToLabel:function(t){var e=this.get("coord"),n=e.getRadius(),r=t.offset,i=t.orignAngle||t.angle,o=e.getCenter(),a=u(o,i,n+2.5),s=u(o,i,n+r/2);t.labelLine||(t.labelLine=this.get("label").labelLine||{}),t.labelLine.path=["M"+a.x,a.y+" Q"+s.x,s.y+" "+t.x,t.y].join(",")},getLabelRotate:function(t,e){var n;return e<0&&(90<(n=180*t/Math.PI)&&(n-=180),n<-90&&(n+=180)),n/180*Math.PI},getLabelAlign:function(t){var e=this.get("coord").getCenter(),n=t.angle<=Math.PI/2&&t.x>=e.x?"left":"right";return this.getDefaultOffset(t)<=0&&(n="right"===n?"left":"right"),n},getArcPoint:function(t){return t},getPointAngle:function(t){var e=this.get("coord"),n={x:a.isArray(t.x)?t.x[0]:t.x,y:t.y[0]};this.transLabelPoint(n);var r={x:a.isArray(t.x)?t.x[1]:t.x,y:t.y[1]};this.transLabelPoint(r);var i,o=s.getPointAngle(e,n);return t.points&&t.points[0].y===t.points[1].y?o:((i=s.getPointAngle(e,r))<=o&&(i+=2*Math.PI),o+(i-o)/2)},getCirclePoint:function(t,e){var n=this.get("coord"),r=n.getCenter(),i=n.getRadius()+e,o=u(r,t,i);return o.angle=t,o.r=i,o}}),t.exports=o},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var l=n(530),i=n(668);l.extend(r,i),l.augment(r,{setLabelPosition:function(t,e,n,r){l.isFunction(r)&&(r=r(t.text,e._origin,n));var i=this.get("coord"),o=i.isTransposed,a=i.convertPoint(e.points[0]),s=i.convertPoint(e.points[2]),u=(a.x-s.x)/2*(o?-1:1),c=(a.y-s.y)/2*(o?-1:1);switch(r){case"right":o?(t.x-=u,t.y+=c,t.textAlign=t.textAlign||"center"):(t.x-=u,t.y+=c,t.textAlign=t.textAlign||"left");break;case"left":o?(t.x-=u,t.y-=c,t.textAlign=t.textAlign||"center"):(t.x+=u,t.y+=c,t.textAlign=t.textAlign||"right");break;case"bottom":o?(t.x-=2*u,t.textAlign=t.textAlign||"left"):(t.y+=2*c,t.textAlign=t.textAlign||"center");break;case"middle":o?t.x-=u:t.y+=c,t.textAlign=t.textAlign||"center";break;case"top":t.textAlign=o?t.textAlign||"left":t.textAlign||"center"}}}),t.exports=r},function(t,e,n){var C=n(530),g=n(542).defaultColor,P="_origin";function v(t){return t.alias||t.field}var r={_getIntervalSize:function(t){var e,n=null,r=this.get("type"),i=this.get("coord");return!i.isRect||"interval"!==r&&"schema"!==r||(n=this.getSize(t[P]),e=i.isTransposed?"y":"x",C.isArray(t[e])&&(n=n<Math.abs(t[e][1]-t[e][0])?null:n)),n},_snapEqual:function(t,e,n){return t=n.translate(t),e=n.translate(e),n.isCategory?t===e:C.snapEqual(t,e)},_getScaleValueByPoint:function(t){var e=0,n=this.get("coord"),r=this.getXScale(),i=n.invert(t).x;return this.isInCircle()&&i>(1+r.rangeMax())/2&&(i=r.rangeMin()),e=r.invert(i),r.isCategory&&(e=r.translate(e)),e},_getOriginByPoint:function(t){var e=this.getXScale(),n=this.getYScale(),r=e.field,i=n.field,o=this.get("coord").invert(t),a=e.invert(o.x),s=n.invert(o.y),u={};return u[r]=a,u[i]=s,u},_getScale:function(e){var t=this.get("scales"),n=null;return C.each(t,function(t){if(t.field===e)return n=t,!1}),n},_getTipValueScale:function(){var n,t=this.getAttrsForLegend();C.each(t,function(t){var e=t.getScale(t.type);if(e.isLinear)return n=e,!1});var e=this.getXScale(),r=this.getYScale();return(n||!r||"..y"!==r.field)&&(n||r)||e},_getTipTitleScale:function(t){if(t)return this._getScale(t);var e,n=this.getAttr("position").getFields();return C.each(n,function(t){if(!t.includes(".."))return e=t,!1}),this._getScale(e)},_filterValue:function(t,e){var n=this.get("coord"),r=this.getYScale(),i=r.field,o=n.invert(e).y,o=r.invert(o),a=t[t.length-1];return C.each(t,function(t){var e=t[P];if(e[i][0]<=o&&e[i][1]>=o)return a=t,!1}),a},getXDistance:function(){var e,t,n,r,i,o=this.get("xDistance");return o||(o=(e=this.getXScale()).isCategory?1:(t=e.values,n=e.translate(t[0]),r=n,C.each(t,function(t){(t=e.translate(t))<n&&(n=t),r<t&&(r=t)}),i=t.length,(r-n)/(i-1)),this.set("xDistance",o)),o},findPoint:function(t,r){var i=this,e=i.get("type"),o=i.getXScale(),n=i.getYScale(),a=o.field,s=n.field,u=null;if(-1<C.indexOf(["heatmap","point"],e)){var c=i.get("coord").invert(t),l=o.invert(c.x),f=n.invert(c.y),h=1/0;return C.each(r,function(t){var e=Math.pow(t[P][a]-l,2)+Math.pow(t[P][s]-f,2);e<h&&(h=e,u=t)}),u}var p=r[0],d=r[r.length-1];if(!p)return u;var g,v=i._getScaleValueByPoint(t),y=p[P][a],m=p[P][s],x=d[P][a],b=n.isLinear&&C.isArray(m);if(C.isArray(y))C.each(r,function(t){var e=t[P];if(o.translate(e[a][0])<=v&&o.translate(e[a][1])>=v){if(!b)return u=t,!1;C.isArray(u)||(u=[]),u.push(t)}}),C.isArray(u)&&(u=this._filterValue(u,t));else{if(o.isLinear||"timeCat"===o.type){if((v>o.translate(x)||v<o.translate(y))&&(v>o.max||v<o.min))return null;for(var w,_=0,S=r.length-1;_<=S;){w=Math.floor((_+S)/2);var M=r[w][P][a];if(i._snapEqual(M,v,o))return r[w];o.translate(M)<=o.translate(v)?(_=w+1,d=r[w],g=r[w+1]):(0===S&&(d=r[0]),S=w-1)}}else C.each(r,function(t,e){var n=t[P];if(i._snapEqual(n[a],v,o)){if(!b)return u=t,!1;C.isArray(u)||(u=[]),u.push(t)}else o.translate(n[a])<=v&&(d=t,g=r[e+1])}),C.isArray(u)&&(u=this._filterValue(u,t));d&&g&&Math.abs(o.translate(d[P][a])-v)>Math.abs(o.translate(g[P][a])-v)&&(d=g)}var E=i.getXDistance();return!u&&Math.abs(o.translate(d[P][a])-v)<=E/2&&(u=d),u},getTipTitle:function(t,e){var n,r,i,o="",a=this._getTipTitleScale(e);return a?(n=t[a.field],o=a.getText(n)):"heatmap"===this.get("type")&&(r=this.getXScale(),i=this.getYScale(),o="( "+r.getText(t[r.field])+", "+i.getText(t[i.field])+" )"),o},getTipValue:function(t,e){var n,r=e.field,i=t.key,o=t[r];return o=C.isArray(o)?(n=[],C.each(o,function(t){n.push(e.getText(t))}),n.join("-")):e.getText(o,i)},getTipName:function(t){var e,n,r=this._getGroupScales();return r.length&&C.each(r,function(t){return e=t,!1}),e?(n=e.field,e.getText(t[n])):v(this._getTipValueScale())},getTipItems:function(i,t){var n,r,e,o,a,s,u,c=this,l=i[P],f=c.getTipTitle(l,t),h=c.get("tooltipCfg"),p=[];function d(t,e,n){var r;C.isNil(e)||""===e||((r={title:f,point:i,name:t||f,value:e,color:i.color||g,marker:!0}).size=c._getIntervalSize(i),p.push(C.mix({},r,n)))}return h?(e=h.fields,o=h.cfg,a=[],C.each(e,function(t){a.push(l[t])}),o?(C.isFunction(o)&&(o=o.apply(null,a)),(s=C.mix({},{point:i,title:f,color:i.color||g,marker:!0},o)).size=c._getIntervalSize(i),p.push(s)):C.each(e,function(t){var e;C.isNil(l[t])||(e=c._getScale(t),n=v(e),r=e.getText(l[t]),d(n,r))})):(u=c._getTipValueScale(),C.isNil(l[u.field])||(r=c.getTipValue(l,u),d(n=c.getTipName(l),r))),p},isShareTooltip:function(){var t,e,n=this.get("shareTooltip"),r=this.get("type"),i=this.get("view"),o=i.get("parent")?i.get("parent").get("options"):i.get("options");return"interval"===r?("theta"===(e=(t=this.get("coord")).type)||"polar"===e&&t.isTransposed)&&(n=!1):this.getYScale()&&!C.inArray(["contour","point","polygon","edge"],r)||(n=!1),o.tooltip&&C.isBoolean(o.tooltip.shared)&&(n=o.tooltip.shared),n}};t.exports=r},function(t,e,n){var u=n(530),c=n(803),l="_originActiveAttrs";function s(n,t){if(!n)return 1;if(n.length!==t.length)return 1;var r=!1;return u.each(t,function(t,e){if(!function(t,e){if(!u.isNil(t)&&!u.isNil(e)){var n=t.get("origin"),r=e.get("origin");return u.isEqual(n,r)}}(t,n[e]))return!(r=!0)}),r}function f(t,r){var i={};return u.each(t,function(t,e){var n=r.attr(e);u.isArray(n)&&(n=u.cloneDeep(n)),i[e]=n}),i}var r={_isAllowActive:function(){var t=this.get("allowActive");if(!u.isNil(t))return t;var e=this.get("view"),n=this.isShareTooltip();return!1===e.get("options").tooltip||!n},_onMouseenter:function(t){var e=t.shape,n=this.get("shapeContainer");e&&n.contain(e)&&this._isAllowActive()&&this.setShapesActived(e)},_onMouseleave:function(){var t=this.get("view").get("canvas");this.get("activeShapes")&&(this.clearActivedShapes(),t.draw())},_bindActiveAction:function(){var t=this.get("view"),e=this.get("type");t.on(e+":mouseenter",u.wrapBehavior(this,"_onMouseenter")),t.on(e+":mouseleave",u.wrapBehavior(this,"_onMouseleave"))},_offActiveAction:function(){var t=this.get("view"),e=this.get("type");t.off(e+":mouseenter",u.getWrapBehavior(this,"_onMouseenter")),t.off(e+":mouseleave",u.getWrapBehavior(this,"_onMouseleave"))},_setActiveShape:function(t){var e=this.get("activedOptions")||{},n=t.get("origin"),r=n.shape||this.getDefaultValue("shape");u.isArray(r)&&(r=r[0]);var i=this.get("shapeFactory"),o=u.mix({},t.attr(),{origin:n}),a=i.getActiveCfg(r,o);e.style&&u.mix(a,e.style);var s=f(a,t);t.setSilent(l,s),e.animate?t.animate(a,300):t.attr(a),c.toFront(t)},setShapesActived:function(t){var e=this;u.isArray(t)||(t=[t]);var n,r,i=e.get("activeShapes");s(i,t)&&(n=e.get("view").get("canvas"),(r=e.get("activedOptions"))&&r.highlight?(u.each(t,function(t){t.get("animating")&&t.stopAnimate()}),e.highlightShapes(t)):(i&&e.clearActivedShapes(),u.each(t,function(t){t.get("animating")&&t.stopAnimate(),t.get("visible")&&e._setActiveShape(t)})),e.set("activeShapes",t),n.draw())},clearActivedShapes:function(){var t,e,n=this.get("shapeContainer"),r=this.get("activedOptions"),i=r&&r.animate;n&&!n.get("destroyed")&&(t=this.get("activeShapes"),u.each(t,function(t){var e=t.get(l);i?(t.stopAnimate(),t.animate(e,300)):t.attr(e),c.resetZIndex(t),t.setSilent(l,null)}),this.get("preHighlightShapes")&&(e=n.get("children"),u.each(e,function(t){var e=t.get(l);e&&(i?(t.stopAnimate(),t.animate(e,300)):t.attr(e),c.resetZIndex(t),t.setSilent(l,null))})),this.set("activeShapes",null),this.set("preHighlightShapes",null))},getGroupShapesByPoint:function(t){var n,e,r,i=this.get("shapeContainer"),o=[];return i&&(n=this.getXScale().field,e=this.getShapes(),r=this._getOriginByPoint(t),u.each(e,function(t){var e=t.get("origin");t.get("visible")&&e&&e._origin[n]===r[n]&&o.push(t)})),o},getSingleShapeByPoint:function(t){var e,n=this.get("shapeContainer"),r=n.get("canvas").get("pixelRatio");if(n&&(e=n.getShape(t.x*r,t.y*r)),e&&e.get("origin"))return e},highlightShapes:function(r,i){u.isArray(r)||(r=[r]);var t,e,o,a,n=this.get("activeShapes");s(n,r)&&(n&&this.clearActivedShapes(),t=this.getShapes(),e=this.get("activedOptions"),o=e&&e.animate,a=e&&e.style,u.each(t,function(t){var e={};t.stopAnimate(),-1!==u.indexOf(r,t)?(u.mix(e,a,i),c.toFront(t)):(u.mix(e,{fillOpacity:.3,opacity:.3}),c.resetZIndex(t));var n=f(e,t);t.setSilent(l,n),o?t.animate(e,300):t.attr(e)}),this.set("preHighlightShapes",r),this.set("activeShapes",r))}};t.exports=r},function(t,e,n){var g=n(530),v=n(803);function o(t,e){if(!g.isNil(t)&&!g.isNil(e)){var n=t.get("origin"),r=e.get("origin");return g.isEqual(n,r)}}var r={_isAllowSelect:function(){var t=this.get("allowSelect");if(!g.isNil(t))return t;var e=this.get("type"),n=this.get("coord"),r=n&&n.type;return"interval"===e&&"theta"===r},_onClick:function(t){var e,n;this._isAllowSelect()&&(e=t.shape,n=this.get("shapeContainer"),e&&n.contain(e)&&this.setShapeSelected(e))},_bindSelectedAction:function(){var t=this.get("view"),e=this.get("type");t.on(e+":click",g.wrapBehavior(this,"_onClick"))},_offSelectedAction:function(){var t=this.get("view"),e=this.get("type");t.off(e+":click",g.getWrapBehavior(this,"_onClick"))},_setShapeStatus:function(t,e){var n=this.get("view"),r=this.get("selectedOptions")||{},i=!1!==r.animate,o=n.get("canvas");t.set("selected",e);var a,s,u,c,l,f,h,p,d=t.get("origin");e?(a=d.shape||this.getDefaultValue("shape"),g.isArray(a)&&(a=a[0]),s=this.get("shapeFactory"),u=g.mix({geom:this,point:d},r),c=s.getSelectedCfg(a,u),g.mix(c,u.style),t.get("_originAttrs")||(t.get("animating")&&t.stopAnimate(),t.set("_originAttrs",(f=c,h=t,p={},g.each(f,function(t,e){"transform"===e&&(e="matrix");var n=h.attr(e);g.isArray(n)&&(n=g.cloneDeep(n)),p[e]=n}),p))),r.toFront&&v.toFront(t),i?t.animate(c,300):(t.attr(c),o.draw())):(l=t.get("_originAttrs"),r.toFront&&v.resetZIndex(t),t.set("_originAttrs",null),i?t.animate(l,300):(t.attr(l),o.draw()))},setShapeSelected:function(t){var e,n=this._getSelectedShapes(),r=this.get("selectedOptions")||{},i=!1!==r.cancelable;"multiple"===r.mode?-1===g.indexOf(n,t)?(n.push(t),this._setShapeStatus(t,!0)):i&&(g.Array.remove(n,t),this._setShapeStatus(t,!1)):(e=n[0],i&&(t=o(e,t)?null:t),o(e,t)||(e&&this._setShapeStatus(e,!1),t&&this._setShapeStatus(t,!0)))},clearSelected:function(){var t,e=this,n=e.get("shapeContainer");n&&!n.get("destroyed")&&(t=e._getSelectedShapes(),g.each(t,function(t){e._setShapeStatus(t,!1),t.set("_originAttrs",null)}))},setSelected:function(n){var r=this,t=r.getShapes();return g.each(t,function(t){var e=t.get("origin");e&&e._origin===n&&r.setShapeSelected(t)}),this},_getSelectedShapes:function(){var t=this.getShapes(),e=[];return g.each(t,function(t){t.get("selected")&&e.push(t)}),this.set("selectedShapes",e),e}};t.exports=r},function(t,e,n){var r=n(530);t.exports=function(t){return r.isArray(t)?t:r.isString(t)?t.split("*"):[t]}},function(t,e,n){var r,u=n(721),c=n(530),i=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,o="linear",a="cat",s="time",l=((r=f.prototype)._getDef=function(t){var e=this.defs,n=this.viewTheme,r=null;return(n.scales[t]||e[t])&&(r=c.mix({},n.scales[t]),c.each(e[t],function(t,e){c.isNil(t)?delete r[e]:r[e]=t}),this.filters[t]&&(delete r.min,delete r.max)),r},r._getDefaultType=function(t,e){var n=o,r=c.Array.firstValue(e,t);return c.isArray(r)&&(r=r[0]),i.test(r)?n=s:c.isString(r)&&(n=a),n},r._getScaleCfg=function(t,e,n){var r,i={field:e},o=c.Array.values(n,e);return i.values=o,u.isCategory(t)||"time"===t||(r=c.Array.getRange(o),i.min=r.min,i.max=r.max,i.nice=!0),"time"===t&&(i.nice=!1),i},r.createScale=function(t,e){var n,r,i=this._getDef(t),o=e||[],a=c.Array.firstValue(o,t),s=c.isNumber(t)||c.isNil(a)&&!i?u.identity({value:t,field:t.toString(),values:[t]}):(i&&(n=i.type),n=n||this._getDefaultType(t,o),r=this._getScaleCfg(n,t,o),i&&c.mix(r,i),u[n](r));return s},f);function f(t){this.defs={},this.viewTheme={scales:{}},this.filters={},c.assign(this,t)}t.exports=l},function(t,e,n){var r,s=n(530),u=n(1067),i=((r=o.prototype).reset=function(t){return this.actions=t.actions||[],this.type=t.type,this.cfg=t.cfg,this.option.actions=this.actions,this.option.type=this.type,this.option.cfg=this.cfg,this},r._execActions=function(n){var t=this.actions;s.each(t,function(t){var e=t[0];n[e](t[1],t[2])})},r.hasAction=function(e){var t=this.actions,n=!1;return s.each(t,function(t){if(e===t[0])return!(n=!0)}),n},r.createCoord=function(t,e){var n,r,i=this.type,o=this.cfg,a=s.mix({start:t,end:e},o);return"theta"===i?(n=u.Polar,this.hasAction("transpose")||this.transpose(),(r=new n(a)).type=i):r=new(n=u[s.upperFirst(i||"")]||u.Rect)(a),this._execActions(r),r},r.rotate=function(t){return t=t*Math.PI/180,this.actions.push(["rotate",t]),this},r.reflect=function(t){return this.actions.push(["reflect",t]),this},r.scale=function(t,e){return this.actions.push(["scale",t,e]),this},r.transpose=function(){return this.actions.push(["transpose"]),this},o);function o(t){this.type="rect",this.actions=[],this.cfg={},s.mix(this,t),this.option=t||{}}t.exports=i},function(t,e,n){"use strict";var r=n(620);r.Cartesian=n(1068),r.Rect=r.Cartesian,r.Polar=n(1069),r.Helix=n(1070),t.exports=r},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(550),f=n(620),h=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,f),a(p,[{key:"getDefaultCfg",value:function(){var t=u(c(p.prototype),"getDefaultCfg",this).call(this);return l({},t,{start:{x:0,y:0},end:{x:0,y:0},type:"cartesian",isRect:!0})}}]),a(p,[{key:"_init",value:function(){var t=this.start,e=this.end,n={start:t.x,end:e.x},r={start:t.y,end:e.y};this.x=n,this.y=r}},{key:"convertPoint",value:function(t){var e,n=this.isTransposed?(e=t.y,t.x):(e=t.x,t.y);return{x:this.convertDim(e,"x"),y:this.convertDim(n,"y")}}},{key:"invertPoint",value:function(t){var e=this.invertDim(t.x,"x"),n=this.invertDim(t.y,"y");return this.isTransposed?{x:n,y:e}:{x:e,y:n}}}]),p);function p(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,p),(e=i(this,c(p).call(this,t)))._init(),e}t.exports=h},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(618),f=n(611),h=n(550),p=n(620),d=l.mat3,g=l.vec2,v=l.vec3,y=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(m,p),a(m,[{key:"getDefaultCfg",value:function(){var t=u(c(m.prototype),"getDefaultCfg",this).call(this);return h({},t,{startAngle:-Math.PI/2,endAngle:3*Math.PI/2,innerRadius:0,type:"polar",isPolar:!0})}}]),a(m,[{key:"_init",value:function(){for(var t=this.radius,e=this.innerRadius,n=this.center,r=this.startAngle,i=this.endAngle;i<r;)i+=2*Math.PI;this.endAngle=i;var o,a=this.getOneBox(),s=a.maxX-a.minX,u=a.maxY-a.minY,c=Math.abs(a.minX)/s,l=Math.abs(a.minY)/u,f=this.width,h=this.height,p=f/s<h/u?(o=f/s,{x:n.x-(.5-c)*f,y:n.y-(.5-l)*o*u}):(o=h/u,{x:n.x-(.5-c)*o*s,y:n.y-(.5-l)*h});t?0<t&&t<=1?t*=o:(t<=0||o<t)&&(t=o):t=o;var d={start:r,end:i},g={start:e*t,end:t};this.x=d,this.y=g,this.radius=t,this.circleCentre=p,this.center=p}},{key:"getCenter",value:function(){return this.circleCentre}},{key:"getOneBox",value:function(){var t=this.startAngle,e=this.endAngle;if(Math.abs(e-t)>=2*Math.PI)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(e)],r=[0,Math.sin(t),Math.sin(e)],i=Math.min(t,e);i<Math.max(t,e);i+=Math.PI/18)n.push(Math.cos(i)),r.push(Math.sin(i));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,r),maxY:Math.max.apply(Math,r)}}},{key:"getRadius",value:function(){return this.radius}},{key:"convertPoint",value:function(t){var e=this.getCenter(),n=this.isTransposed?t.y:t.x,r=this.isTransposed?t.x:t.y,n=this.convertDim(n,"x"),r=this.convertDim(r,"y");return{x:e.x+Math.cos(n)*r,y:e.y+Math.sin(n)*r}}},{key:"invertPoint",value:function(t){var e=this.getCenter(),n=[t.x-e.x,t.y-e.y],r=this.x,i=[1,0,0,0,1,0,0,0,1];d.rotate(i,i,r.start);var o=[1,0,0];v.transformMat3(o,o,i),o=[o[0],o[1]];var a=g.angleTo(o,n,r.end<r.start);f(a,2*Math.PI)&&(a=0);var s=g.length(n),u=a/(r.end-r.start),u=0<r.end-r.start?u:-u,c=this.invertDim(s,"y"),l={};return l.x=this.isTransposed?c:u,l.y=this.isTransposed?u:c,l}}]),m);function m(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),(e=i(this,c(m).call(this,t)))._init(),e}t.exports=y},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(618),h=n(611),f=n(550),p=n(620),d=l.vec2,g=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(v,p),a(v,[{key:"getDefaultCfg",value:function(){var t=u(c(v.prototype),"getDefaultCfg",this).call(this);return f({},t,{startAngle:1.25*Math.PI,endAngle:7.25*Math.PI,innerRadius:0,type:"helix",isHelix:!0})}}]),a(v,[{key:"_init",value:function(){var t=this.width,e=this.height,n=this.radius,r=this.innerRadius,i=this.startAngle,o=this.endAngle,a=(o-i)/(2*Math.PI)+1,s=Math.min(t,e)/2;n&&0<=n&&n<=1&&(s*=n);var u=Math.floor(s*(1-r)/a),c=u/(2*Math.PI),l={start:i,end:o},f={start:r*s,end:r*s+.99*u};this.a=c,this.d=u,this.x=l,this.y=f}},{key:"getCenter",value:function(){return this.center}},{key:"convertPoint",value:function(t){var e,n=this.a,r=this.center,i=this.isTransposed?(e=t.y,t.x):(e=t.x,t.y),o=this.convertDim(e,"x"),a=n*o,s=this.convertDim(i,"y");return{x:r.x+Math.cos(o)*(a+s),y:r.y+Math.sin(o)*(a+s)}}},{key:"invertPoint",value:function(t){var e=this.center,n=this.a,r=this.d+this.y.start,i=d.subtract([],[t.x,t.y],[e.x,e.y]),o=d.angleTo(i,[1,0],!0),a=o*n;d.length(i)<a&&(a=d.length(i));var s=n*(o=2*Math.floor((d.length(i)-a)/r)*Math.PI+o),u=d.length(i)-s,u=h(u,0)?0:u,c=this.invertDim(o,"x"),l=this.invertDim(u,"y"),c=h(c,0)?0:c,l=h(l,0)?0:l,f={};return f.x=this.isTransposed?l:c,f.y=this.isTransposed?c:l,f}}]),v);function v(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,v),(e=i(this,c(v).call(this,t)))._init(),e}t.exports=g},function(t,e,n){var w=n(530),p=n(579).Axis,f=w.MatrixUtil.vec2;function d(t,e){return void 0===e&&(e=0),"middle"===t&&(e=.5),t.includes("%")&&(e=parseInt(t,10)/100),e}var r,i=((r=o.prototype)._isHide=function(t){var e=this.options;return!(!e||!1!==e[t])},r._getMiddleValue=function(t,e,n,r){if(0===t&&!r)return 0;if(1===t)return 1;var i=e[n+1].value;return r||1!==i?(t+i)/2:1},r._getLineRange=function(t,e,n,r){var i,o,a,s,u,c,l=e.field,f=this.options,h="";return f[l]&&f[l].position&&(h=f[l].position),s="x"===n?(o={x:0,y:i=d(h,i="top"===h?1:0)},!(a={x:1,y:i})):(a=r?(o={x:u=d(h,u="left"===h?0:1),y:0},{x:u,y:1}):(o={x:c=d(h,c="right"===h?1:0),y:0},{x:c,y:1}),!0),{start:o=t.convert(o),end:a=t.convert(a),isVertical:s}},r._getLineCfg=function(t,e,n,r){var i=this._getLineRange(t,e,n,r),o=i.isVertical,a=i.start,s=i.end,u=t.center;return t.isTransposed&&(o=!o),{isVertical:o,factor:o&&a.x>u.x||!o&&a.y>u.y?1:-1,start:a,end:s}},r._getCircleCfg=function(t){var e={},n=t.x,r=t.y,i=r.start>r.end,o=t.isTransposed?{x:i?0:1,y:0}:{x:0,y:i?0:1};o=t.convert(o);var a=t.circleCentre,s=[o.x-a.x,o.y-a.y],u=[1,0],c=o.y>a.y?f.angle(s,u):-1*f.angle(s,u),l=c+(n.end-n.start);return e.startAngle=c,e.endAngle=l,e.center=a,e.radius=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),e.inner=t.innerRadius||0,e},r._getRadiusCfg=function(t){var e,n=t.x.start<0?-1:1,r=t.isTransposed?(e={x:0,y:0},{x:1,y:0}):(e={x:0,y:0},{x:0,y:1});return{factor:n,start:t.convert(e),end:t.convert(r)}},r._getAxisPosition=function(t,e,n,r){var i,o="",a=this.options;return a[r]&&a[r].position?o=a[r].position:(i=t.type,t.isRect?"x"===e?o="bottom":"y"===e&&(o=n?"right":"left"):o="helix"===i?"helix":"x"===e?t.isTransposed?"radius":"circle":t.isTransposed?"circle":"radius"),o},r._getAxisDefaultCfg=function(t,e,n,r){var i,o=this.viewTheme,a={},s=this.options,u=e.field;return(a=w.deepMix({},o.axis[r],a,s[u])).viewTheme=o,a.title&&((i=w.isPlainObject(a.title)?a.title:{}).text=i.text||e.alias||u,w.deepMix(a,{title:i})),a.ticks=e.getTicks(),t.isPolar&&!e.isCategory&&"x"===n&&Math.abs(t.endAngle-t.startAngle)===2*Math.PI&&a.ticks.pop(),a.coord=t,a.label&&w.isNil(a.label.autoRotate)&&(a.label.autoRotate=!0),s.hasOwnProperty("xField")&&s.xField.hasOwnProperty("grid")&&"left"===a.position&&w.deepMix(a,s.xField),a},r._getAxisCfg=function(c,n,t,l,r,i){void 0===r&&(r="");var f,h,p,d,e,o,a,s,u,g,v,y,m=this,x=m._getAxisPosition(c,l,r,n.field),b=m._getAxisDefaultCfg(c,n,l,x);return!w.isEmpty(b.grid)&&t&&(f=[],h=[],u=t.getTicks(),y=[],0<u.length&&(g=(y=u.slice(0))[0],v=y[y.length-1],0!==g.value&&y.unshift({value:0}),1!==v.value&&y.push({value:1})),(p=y).length&&(e=b.ticks,o=n.isLinear,a="center"===b.grid.align,s=[],e.length<1||(2<=e.length&&o&&a&&s.push({text:"",tickValue:"",value:0}),0!==e[0].value&&s.push({text:"",tickValue:"",value:0}),1!==(s=s.concat(e))[s.length-1].value&&s.push({text:"",tickValue:"",value:1})),d=s,w.each(d,function(t,e){h.push(t.tickValue);var o,a,s=[],u=t.value;"center"===b.grid.align&&(u=m._getMiddleValue(u,d,e,n.isLinear)),w.isNil(u)||(o=c.x,a=c.y,w.each(p,function(t){var e,n="x"===l?u:t.value,r="x"===l?t.value:u,i=c.convert({x:n,y:r});c.isPolar&&(e=c.circleCentre,a.start,a.end,i.flag=o.start>o.end?0:1,i.radius=Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))),s.push(i)}),f.push({_id:i+"-"+l+r+"-grid-"+t.tickValue,points:s}))})),b.grid.items=f,b.grid.tickValues=h),b.type=n.type,b},r._getHelixCfg=function(t){for(var e={},n=t.a,r=t.startAngle,i=t.endAngle,o=[],a=0;a<=100;a++){var s=t.convert({x:a/100,y:0});o.push(s.x),o.push(s.y)}var u=t.convert({x:0,y:0});return e.a=n,e.startAngle=r,e.endAngle=i,e.crp=o,e.axisStart=u,e.center=t.center,e.inner=t.y.start,e},r._drawAxis=function(t,e,n,r,i,o,a){var s,u=this.container,c=this.canvas,l="cartesian"===t.type?(s=p.Line,this._getLineCfg(t,e,r,a)):"helix"===t.type&&"x"===r?(s=p.Helix,this._getHelixCfg(t)):"x"===r?(s=p.Circle,this._getCircleCfg(t)):(s=p.Line,this._getRadiusCfg(t)),f=this._getAxisCfg(t,e,n,r,a,i),f=w.mix({},f,l);"y"===r&&o&&"circle"===o.get("type")&&(f.circle=o),f._id=i+"-"+r,w.isNil(a)||(f._id=i+"-"+r+a),w.mix(f,{canvas:c,group:u.addGroup({viewId:i})});var h=new s(f);return h.render(),this.axes.push(h),h},r.createAxis=function(n,t,r){var i,o=this,a=this.coord,e=a.type;"theta"===e||"polar"===e&&a.isTransposed||(n&&!o._isHide(n.field)&&(i=o._drawAxis(a,n,t[0],"x",r)),w.isEmpty(t)||"helix"===e||w.each(t,function(t,e){o._isHide(t.field)||o._drawAxis(a,t,n,"y",r,i,e)}))},r.changeVisible=function(e){var t=this.axes;w.each(t,function(t){t.set("visible",e)})},r.clear=function(){var t=this.axes;w.each(t,function(t){t.destroy()}),this.axes=[]},o);function o(t){this.visible=!0,this.canvas=null,this.container=null,this.coord=null,this.options=null,this.axes=[],w.mix(this,t)}t.exports=i},function(t,e,n){var r,u=n(530),c=n(1073),i=((r=o.prototype)._creatGuides=function(){var i=this,t=this.options,o=this.xScales,a=this.yScales,e=this.view,s=this.viewTheme;return this.backContainer&&e&&(this.backGroup=this.backContainer.addGroup({viewId:e.get("_id")})),this.frontContainer&&e&&(this.frontGroup=this.frontContainer.addGroup({viewId:e.get("_id")})),t.forEach(function(t){var e=t.type,n=u.deepMix({xScales:o,yScales:a,viewTheme:s},s?s.guide[e]:{},t),e=u.upperFirst(e),r=new c[e](n);i.guides.push(r)}),i.guides},r.line=function(t){return void 0===t&&(t={}),this.options.push(u.mix({type:"line"},t)),this},r.arc=function(t){return void 0===t&&(t={}),this.options.push(u.mix({type:"arc"},t)),this},r.text=function(t){return void 0===t&&(t={}),this.options.push(u.mix({type:"text"},t)),this},r.image=function(t){return void 0===t&&(t={}),this.options.push(u.mix({type:"image"},t)),this},r.region=function(t){return void 0===t&&(t={}),this.options.push(u.mix({type:"region"},t)),this},r.regionFilter=function(t){return void 0===t&&(t={}),this.options.push(u.mix({type:"regionFilter"},t)),this},r.dataMarker=function(t){return void 0===t&&(t={}),this.options.push(u.mix({type:"dataMarker"},t)),this},r.dataRegion=function(t){return void 0===t&&(t={}),this.options.push(u.mix({type:"dataRegion"},t)),this},r.html=function(t){return void 0===t&&(t={}),this.options.push(u.mix({type:"html"},t)),this},r.render=function(n){var r=this,i=r.view,o=i&&i.get("data"),t=r._creatGuides();u.each(t,function(t){var e=t.get("top")?r.frontGroup||r.frontContainer:r.backGroup||r.backContainer;t.render(n,e,o,i)})},r.clear=function(){this.options=[],this.reset()},r.changeVisible=function(e){var t=this.guides;u.each(t,function(t){t.changeVisible(e)})},r.reset=function(){var t=this.guides;u.each(t,function(t){t.clear()}),this.guides=[],this.backGroup&&this.backGroup.remove(),this.frontGroup&&this.frontGroup.remove()},o);function o(t){this.guides=[],this.options=[],this.xScales=null,this.yScales=null,this.view=null,this.viewTheme=null,this.frontGroup=null,this.backGroup=null,u.mix(this,t)}t.exports=i},function(t,e,n){var r=n(579).Guide,i=n(1074);r.RegionFilter=i,t.exports=r},function(t,e,n){var s=n(530),r=n(564),o=n(578).Path,i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return s.mix({},t,{name:"regionFilter",zIndex:1,top:!0,start:null,end:null,color:null,apply:null,style:{opacity:1}})},i.render=function(e,t,n,r){var i=this,o=t.addGroup();o.name="guide-region-filter",r.once("afterpaint",function(){var t;o.get("destroyed")||(i._drawShapes(r,o),t=i._drawClip(e),o.attr({clip:t}),i.set("clip",t),i.get("appendInfo")&&o.setSilent("appendInfo",i.get("appendInfo")),i.set("el",o))})},i._drawShapes=function(t,i){var o=this,a=[];return t.getAllGeoms().map(function(t){var e=t.getShapes(),n=t.get("type");return o._geomFilter(n)&&e.map(function(t){var e=t.type,n=s.cloneDeep(t.attr());o._adjustDisplay(n);var r=i.addShape(e,{attrs:n});return a.push(r),t}),t}),a},i._drawClip=function(t){var e=this.parsePoint(t,this.get("start")),n=this.parsePoint(t,this.get("end")),r=[["M",e.x,e.y],["L",n.x,e.y],["L",n.x,n.y],["L",e.x,n.y],["z"]];return new o({attrs:{path:r,opacity:1}})},i._adjustDisplay=function(t){var e=this.get("color");t.fill&&(t.fill=t.fillStyle=e),t.stroke=t.strokeStyle=e},i._geomFilter=function(t){var e=this.get("apply");return!e||s.contains(e,t)},i.clear=function(){e.prototype.clear.call(this);var t=this.get("clip");t&&t.remove()},r}(r);t.exports=i},function(t,e,n){function C(){return(C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var P=n(530),k=n(579).Legend,A=n(1076),T=n(553),r=n(805),i=n(807),O=n(542),u="_origin",s=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,y=["cross","tick","plus","hyphen","line","hollowCircle","hollowSquare","hollowDiamond","hollowTriangle","hollowTriangleDown","hollowHexagon","hollowBowtie"];var o,a=((o=c.prototype).clear=function(){var t=this.legends;this.backRange=null,P.each(t,function(t){P.each(t,function(t){t.destroy()})}),this.legends={}},o.getBackRange=function(){var t,e,n=this.backRange;return n||(t=this.chart.get("backPlot"),n=r(t,i(this.chart.get("plotRange"))),e=this.plotRange,n.maxX-n.minX<e.br.x-e.tl.x&&n.maxY-n.minY<e.br.y-e.tl.y&&(n={minX:e.tl.x,minY:e.tl.y,maxX:e.br.x,maxY:e.br.y}),this.backRange=n),n},o._isFieldInView=function(t,e,n){var r=!1,i=n.get("scales")[t];return i&&i.values&&(r=P.inArray(i.values,e)),r},o._bindClickEvent=function(o,t,a){var s=this,u=s.chart,c=u.get("views"),l=t.field,f=s.options;o.on("itemclick",function(t){var e,n,r,i;f.onClick&&!0!==f.defaultClickHandlerEnabled?f.onClick(t):(e=t.item,n=t.checked,r="single"===o.get("selectedMode"),i=e.dataValue,n?(P.Array.remove(a,i),s._isFieldInView(l,i,u)&&u.filter(l,function(t){return r?t===i:!P.inArray(a,t)}),P.each(c,function(t){s._isFieldInView(l,i,t)&&t.filter(l,function(t){return r?t===i:!P.inArray(a,t)})})):r||(a.push(i),s._isFieldInView(l,i,u)&&u.filter(l,function(t){return!P.inArray(a,t)}),P.each(c,function(t){s._isFieldInView(l,i,t)&&t.filter(l,function(t){return!P.inArray(a,t)})})),f.onClick&&f.onClick(t),u.set("keepLegend",!0),u.set("keepPadding",!0),u.repaint(),u.set("keepPadding",!1),u.set("keepLegend",!1))})},o._bindClickEventForMix=function(t){var n=this.chart.getAllGeoms();t.on("itemclick",function(t){var e=t.item.field;t.checked?P.each(n,function(t){t.getYScale().field===e&&t.show()}):P.each(n,function(t){t.getYScale().field===e&&t.hide()})})},o._filterLabels=function(n,t,r){var e,i,o,a,s,u,c;n.get("gLabel")?n.get("gLabel").set("visible",r):(e=t.get("labelCfg"))&&e.fields&&0<e.fields.length&&(i=t.getXScale(),o=t.getYScale(),a=i.field,s=o.field,u=n.get("origin")._origin,c=t.get("labelContainer").get("labelsGroup").get("children"),P.each(c,function(t){var e=t.get("origin")||[];e[a]===u[a]&&e[s]===u[s]&&(t.set("visible",r),n.set("gLabel",t))}))},o._bindFilterEvent=function(t,e){var o=this,r=this.chart,a=e.field;t.on("itemfilter",function(t){var i=t.range;r.filterShape(function(t,e,n){if(P.isNil(t[a]))return!0;var r=t[a]>=i[0]&&t[a]<=i[1];return o._filterLabels(e,n,r),r});for(var n=r.getAllGeoms()||[],e=0;e<n.length;e++)!function(t){var e=n[t];"heatmap"===e.get("type")&&s(function(){e.drawWithRange(i)})}(e)})},o._getShapeData=function(t){var e=t.get("origin");return P.isArray(e)&&(e=e[0]),e[u]},o._bindHoverEvent=function(t,u){var c=this,e=c.chart,n=e.getAllGeoms(),i=c.options,l=e.get("canvas");t.on("itemhover",function(r){var s=r.item.value,t=c.pre;if(t){if(t===s)return}else P.each(n,function(t){var o,e=t.get("shapeContainer"),n=t.getShapes(),a=[];u?(o=t.get("scales")[u],P.each(n,function(t){var e,n,r,i=c._getShapeData(t);i&&(e=i[u],n=s,r=o,!P.isNil(r)&&(e=r.translate(e),n=r.translate(n),r.isCategory?e===n:Math.abs(e-n)<=1))&&a.push(t)})):t.getYScale().field===s&&(a=n),P.isEmpty(a)||(r.shapes=a,r.geom=t,i.onHover?(i.onHover(r),e.sort(),l.draw()):t.setShapesActived(a))}),c.pre=s}),t.on("itemunhover",function(t){c.pre=null,i.onUnhover&&i.onUnhover(t),P.each(n,function(t){t.get("activeShapes")&&(t.clearActivedShapes(),l.draw())})})},o._isFiltered=function(e,t,n){if(!e.isCategory)return!0;var r=!0;return n=e.invert(n),P.each(t,function(t){if(e.getText(t)===e.getText(n))return r=!1}),r},o._alignLegend=function(t,e,n,r){var i,o=this,a=o.viewTheme,s=o.container.get("canvas"),u=s.get("width"),c=s.get("height"),l=o.totalRegion,f=o.plotRange,h=o.getBackRange(),p=t.get("offset")[0]||0,d=t.get("offset")[1]||0,g=t.getHeight(),v=t.getWidth(),y=a.legend.margin,m=a.legend.legendMargin,x=o.legends[r].length,b=r.split("-"),w=0,_=0,S=1<x?l:n;"left"===b[0]||"right"===b[0]?(c=f.br.y,w=o._getXAlign(b[0],u,n,h,v,y),_=e?(e.get("y")||e.get("group").get("y"))+e.getHeight()+m:o._getYAlignVertical(b[1],c,S,h,0,y,s.get("height"))):"top"!==b[0]&&"bottom"!==b[0]||(_=o._getYAlignHorizontal(b[0],c,n,h,g,y),e?(i=e.getWidth(),w=(e.get("x")||e.get("group").get("x"))+i+m):(w=o._getXAlign(b[1],u,S,h,0,y),"right"===b[1]&&(w=f.br.x-S.totalWidth))),t.move(w+p,_+d)},o._getXAlign=function(t,e,n,r,i,o){var a=r.minX-i-o[3]<0?0:r.minX-i-o[3],s="left"===t?a:r.maxX+o[1];return"center"===t&&(s=(e-n.totalWidth)/2),s},o._getYAlignHorizontal=function(t,e,n,r,i,o){return"top"===t?r.minY-i-o[0]:r.maxY+o[2]},o._getYAlignVertical=function(t,e,n,r,i,o,a){var s="top"===t?r.minY-i-o[0]:e-n.totalHeight;return"center"===t&&(s=(a-n.totalHeight)/2),s},o._getSubRegion=function(t){var r=0,i=0,o=0,a=0;return P.each(t,function(t){var e=t.getWidth(),n=t.getHeight();r<e&&(r=e),o+=e,i<n&&(i=n),a+=n}),{maxWidth:r,totalWidth:o,maxHeight:i,totalHeight:a}},o._getRegion=function(){var n=this,t=n.viewTheme,e=n.legends,r=t.legend.legendMargin,i=[],o=0,a=0;return P.each(e,function(t){var e=n._getSubRegion(t);i.push(e),o+=e.totalWidth+r,a+=e.totalHeight+r}),{totalWidth:o,totalHeight:a,subs:i}},o._addCategoryLegend=function(f,t,h,p,e){var d=this,n=f.field,r=d.options,i=r[n];i&&(r=i);var o=d.legends;o[e]=o[e]||[];var a=d.container,g=[],s=f.getTicks(),v=!0,y=h.get("shapeType")||"point",m=h.getDefaultValue("shape")||"circle";r[n]&&r[n].marker?(m=r[n].marker,v=!(y="point")):r.marker&&(m=r.marker,v=!(y="point"));var u=d.chart,x=d.viewTheme,c=u.get("canvas"),l=d.plotRange,b=e.split("-"),w="right"===b[0]||"left"===b[0]?l.bl.y-l.tr.y:c.get("width");P.each(s,function(t){var e,n,r=t.text,i=t.value,o=f.invert(i),a={isInCircle:h.isInCircle()},s=!p||d._isFiltered(f,p,i),u=h.getAttr("color"),c=h.getAttr("shape");u&&(u.callback&&1<u.callback.length?(e=Array(u.callback.length-1).fill(""),a.color=u.mapping.apply(u,[o].concat(e)).join("")||x.defaultColor):a.color=u.mapping(o).join("")||x.defaultColor),v&&c&&(m=c.callback&&1<c.callback.length?(n=Array(c.callback.length-1).fill(""),c.mapping.apply(c,[o].concat(n)).join("")):c.mapping(o).join(""));var l=T.getShapeFactory(y).getMarkerCfg(m,a);O.legendMarkerRadius&&(l.radius=O.legendMarkerRadius),P.isFunction(m)&&(l.symbol=m),g.push({value:r,dataValue:o,checked:s,marker:l})});var _,S,M,E=P.deepMix({},x.legend[b[0]],r[n]||r,{viewId:u.get("_id"),maxLength:w,items:g,container:a,position:[0,0]});return E.title&&P.deepMix(E,{title:{text:f.alias||f.field}}),M=d._isTailLegend(r,h)?(E.chart=d.chart,E.geom=h,new A(E)):r.useHtml?(_=a.get("canvas").get("el"),a=r.container,P.isString(a)&&/^\#/.test(a)&&(S=a.replace("#",""),a=document.getElementById(S)),a=a||_.parentNode,E.container=a,void 0===E.legendStyle&&(E.legendStyle={}),E.legendStyle.CONTAINER_CLASS=C({},E.legendStyle.CONTAINER_CLASS,{position:"absolute",overflow:"auto","z-index":""===_.style.zIndex?1:parseInt(_.style.zIndex,10)+1}),r.flipPage?(E.legendStyle.CONTAINER_CLASS.height="right"===b[0]||"left"===b[0]?w+"px":"auto",E.legendStyle.CONTAINER_CLASS.width="right"!==b[0]&&"left"!==b[0]?w+"px":"auto",new k.CatPageHtml(E)):new k.CatHtml(E)):new k.Category(E),d._bindClickEvent(M,f,p),o[e].push(M),M},o._bindChartMove=function(a){var t=this.chart,s=this.legends;t.on("plotmove",function(t){var e,n,r,i,o=!1;!t.target||(e=t.target.get("origin"))&&(n=e[u]||e[0][u],r=a.field,n&&(i=n[r],P.each(s,function(t){P.each(t,function(t){o=!0,t.destroyed||t.activate(i)})}))),o||P.each(s,function(t){P.each(t,function(t){t.destroyed||t.deactivate()})})})},o._addContinuousLegend=function(i,o,t){var e=this.legends;e[t]=e[t]||[];var n,a,s,r=this.container,u=i.field,c=i.getTicks(),l=[],f=this.viewTheme;P.each(c,function(t){var e=t.value,n=i.invert(e),r=o.mapping(n).join("");l.push({value:t.tickValue,attrValue:r,color:r,scaleValue:e}),0===e&&(a=!0),1===e&&(s=!0)}),a||l.push({value:i.min,attrValue:o.mapping(0).join(""),color:o.mapping(0).join(""),scaleValue:0}),s||l.push({value:i.max,attrValue:o.mapping(1).join(""),color:o.mapping(1).join(""),scaleValue:1});var h=this.options,p=t.split("-"),d=f.legend[p[0]];(h&&!1===h.slidable||h[u]&&!1===h[u].slidable)&&(d=P.mix({},d,f.legend.gradient));var g=P.deepMix({},d,h[u]||h,{items:l,attr:o,formatter:i.formatter,container:r,position:[0,0]});if(g.title&&P.deepMix(g,{title:{text:i.alias||i.field}}),"color"===o.type)n=new k.Color(g);else{if("size"!==o.type)return;n=h&&"circle"===h.sizeType?new k.CircleSize(g):new k.Size(g)}return this._bindFilterEvent(n,i),e[t].push(n),n},o._isTailLegend=function(t,e){if(t.hasOwnProperty("attachLast")&&t.attachLast){var n=e.get("type");if("line"===n||"lineStack"===n||"area"===n||"areaStack"===n)return!0}return!1},o._adjustPosition=function(t,e){var n,r;return e?n="right-top":P.isArray(t)?n=String(t[0])+"-"+String(t[1]):1===(r=t.split("-")).length?("left"===r[0]&&(n="left-bottom"),"right"===r[0]&&(n="right-bottom"),"top"===r[0]&&(n="top-center"),"bottom"===r[0]&&(n="bottom-center")):n=t,n},o.addLegend=function(t,e,n,r){var i,o,a=this,s=a.options,u=t.field,c=s[u],l=a.viewTheme;if(!1===c)return null;c&&c.custom?a.addCustomLegend(u):(o=s.position||l.defaultLegendPosition,o=a._adjustPosition(o,a._isTailLegend(s,n)),c&&c.position&&(o=a._adjustPosition(c.position,a._isTailLegend(c,n))),(i=t.isLinear?a._addContinuousLegend(t,e,o):a._addCategoryLegend(t,e,n,r,o))&&(a._bindHoverEvent(i,u),s.reactive&&a._bindChartMove(t)))},o.addCustomLegend=function(t){var e=this.chart,n=this.viewTheme,r=this.container,i=this.options;t&&(i=i[t]);var o=i.position||n.defaultLegendPosition,o=this._adjustPosition(o),a=this.legends;a[o]=a[o]||[];var s=i.items;if(s){var u=e.getAllGeoms();P.each(s,function(t){var e,n,r,i=(e=u,n=t.value,P.each(e,function(t){if(t.get("visible")&&t.getYScale().field===n)return void(r=t)}),r);P.isPlainObject(t.marker)?t.marker.radius=t.marker.radius||O.legendMarkerRadius||4.5:(t.marker={symbol:t.marker||"circle",radius:O.legendMarkerRadius||4.5},-1!==P.indexOf(y,t.marker.symbol)?t.marker.stroke=t.fill:t.marker.fill=t.fill);var o=t.marker.symbol;P.isString(o)&&-1!==o.indexOf("hollow")&&(t.marker.symbol=P.lowerFirst(o.substr(6))),t.checked=!!P.isNil(t.checked)||t.checked,t.geom=i});var c,l,f=e.get("canvas"),h=this.plotRange,p=o.split("-"),d="right"===p[0]||"left"===p[0]?h.bl.y-h.tr.y:f.get("width"),g=P.deepMix({},n.legend[p[0]],i,{maxLength:d,items:s,container:r,position:[0,0]}),v=i.useHtml?(l=i.container,l=/^\#/.test(r)?(c=l.replace("#",""),document.getElementById(c)):l||r.get("canvas").get("el").parentNode,g.container=l,void 0===g.legendStyle&&(g.legendStyle={}),g.legendStyle.CONTAINER_CLASS||(g.legendStyle.CONTAINER_CLASS={height:"right"===p[0]||"left"===p[0]?d+"px":"auto",width:"right"!==p[0]&&"left"!==p[0]?d+"px":"auto",position:"absolute",overflow:"auto"}),i.flipPage?new k.CatPageHtml(g):new k.CatHtml(g)):new k.Category(g);return a[o].push(v),v.on("itemclick",function(t){i.onClick&&i.onClick(t)}),this._bindHoverEvent(v),v}},o.addMixedLegend=function(t,e){var n=this.options,l=[];P.each(t,function(s){var u=s.alias||s.field,c=n[s.field];P.each(e,function(t){var e,n,r,i,o,a;t.getYScale()===s&&s.values&&0<s.values.length&&!1!==c&&(e=t.get("shapeType")||"point",n=t.getDefaultValue("shape")||"circle",r=T.getShapeFactory(e),i={color:t.getDefaultValue("color")},o=r.getMarkerCfg(n,i),O.legendMarkerRadius&&(o.radius=O.legendMarkerRadius),a={value:u,marker:o,field:s.field},l.push(a))})});var r={custom:!0,items:l};this.options=P.deepMix({},r,this.options);var i=this.addCustomLegend();this._bindClickEventForMix(i)},o.alignLegends=function(){var a=this,t=a.legends,e=a._getRegion(t);a.totalRegion=e;var n=0;return P.each(t,function(r,i){var o=e.subs[n];P.each(r,function(t,e){var n=r[e-1];t.get("useHtml")&&!t.get("autoPosition")||a._alignLegend(t,n,o,i)}),n++}),this},c);function c(t){this.options={},P.mix(this,t),this.clear();var e=this.chart;this.container=e.get("frontPlot"),this.plotRange=e.get("plotRange")}t.exports=a},function(t,e,n){var g=n(530),r=n(579),o=n(542),i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return g.mix({},t,{type:"tail-legend",layout:"vertical",autoLayout:!0})},i._addItem=function(t){var e=this.get("itemsGroup"),n=this._getNextX(),r=this.get("unCheckColor"),i=e.addGroup({x:0,y:0,value:t.value,scaleValue:t.scaleValue,checked:t.checked});i.translate(n,0),i.set("viewId",e.get("viewId"));var o,a,s=this.get("textStyle"),u=this.get("_wordSpaceing"),c=0;t.marker&&(o=g.mix({},t.marker,{x:t.marker.radius,y:0}),t.checked||(o.fill&&(o.fill=r),o.stroke&&(o.stroke=r)),(a=i.addShape("marker",{type:"marker",attrs:o})).attr("cursor","pointer"),a.name="legend-marker",c+=a.getBBox().width+u);var l=g.mix({},s,{x:c,y:0,text:this._formatItemValue(t.value)});t.checked||g.mix(l,{fill:r});var f=i.addShape("text",{attrs:l});f.attr("cursor","pointer"),f.name="legend-text",this.get("appendInfo")&&f.setSilent("appendInfo",this.get("appendInfo"));var h=i.getBBox(),p=this.get("itemWidth"),d=i.addShape("rect",{attrs:{x:n,y:0-h.height/2,fill:"#fff",fillOpacity:0,width:p||h.width,height:h.height}});return d.attr("cursor","pointer"),d.setSilent("origin",t),d.name="legend-item",this.get("appendInfo")&&d.setSilent("appendInfo",this.get("appendInfo")),i.name="legendGroup",i},i._adjust=function(){var a,t,s;this.get("geom")&&(this.get("group").attr("matrix")[7]=0,a=this.get("geom").get("dataArray"),t=this.get("itemsGroup").get("children"),s=0,g.each(t,function(t){var e=a[s],n=e[e.length-1].y;g.isArray(n)&&(n=n[1]);var r=t.getBBox().height,i=t.get("x"),o=n-r/2;t.translate(i,o),s++}),this.get("autoLayout")&&this._antiCollision(t))},i.render=function(){var t=this;e.prototype.render.call(this),this.get("chart").once("afterpaint",function(){t._adjust()})},i._getPreviousY=function(t){return t.attr("matrix")[7]+t.getBBox().height},i._adjustDenote=function(t,e,n){var r=2*-o.legend.legendMargin;t.addShape("path",{attrs:{path:"M-2,"+e+"L"+r+","+(n+3),lineWidth:1,lineDash:[2,2],stroke:"#999999"}})},i._antiCollision=function(o){if(void 0===o&&(o=[]),o.length){var a=this;o.sort(function(t,e){return t.attr("matrix")[7]-e.attr("matrix")[7]});var t=!0,e=a.get("chart").get("plotRange"),n=e.tl.y,r=Math.abs(n-e.bl.y),s=o[0].getBBox().height,i=Number.MIN_VALUE,u=0,c=o.map(function(t){var e=t.attr("matrix")[7];return u<e&&(u=e),e<i&&(i=e),{size:t.getBBox().height,targets:[e-n]}});i-=n;for(var l=0;t;){for(var f,h,p=0;p<c.length;p++){var d=c[p],g=(Math.min.apply(i,d.targets)+Math.max.apply(i,d.targets))/2;d.pos=Math.min(Math.max(i,g-d.size/2),r-d.size)}for(t=!1,l=c.length;l--;){0<l&&(f=c[l-1],h=c[l],f.pos+f.size>h.pos&&(f.size+=h.size,f.targets=f.targets.concat(h.targets),c.splice(l,1),t=!0))}}l=0;var v=this.get("itemsGroup").addGroup();c.forEach(function(r){var i=n+s;r.targets.forEach(function(){var t=o[l].attr("matrix")[7],e=r.pos+i-s/2,n=Math.abs(t-e);s/2<n&&a._adjustDenote(v,e,t-a.get("group").attr("matrix")[7]/2),o[l].translate(0,-t),o[l].translate(0,e),i+=s,l++})})}},r}(r.Legend.Category);t.exports=i},function(t,e,n){function s(){return(s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var y=n(530),u=n(553),c=n(579).Tooltip,l=y.MatrixUtil.vec2,f=["line","area","path","areaStack"],h=["line","area","point"],a=["marker","showMarker"];function i(t,e){if(t){if(t.className)return(y.isNil(t.className.baseVal)?t.className:t.className.baseVal).includes(e)}}function p(t){var r=[];return y.each(t,function(t){var e,i,o,n=(e=r,i=t,o=-1,y.each(e,function(t,e){var n=!0;for(var r in i)if(i.hasOwnProperty(r)&&!a.includes(r)&&!y.isObject(i[r])&&i[r]!==t[r]){n=!1;break}if(n)return o=e,!1}),o);-1===n?r.push(t):r[n]=t}),r}var r,o=((r=d.prototype)._normalizeEvent=function(t){var e=this.chart,n=this._getCanvas(),r=n.getPointByClient(t.clientX,t.clientY),i=n.get("pixelRatio");r.x=r.x/i,r.y=r.y/i;var o=e.getViewsByPoint(r);return r.views=o,r},r._getCanvas=function(){return this.chart.get("canvas")},r._getTriggerEvent=function(){var t,e=this.options.triggerOn;return e&&"mousemove"!==e?"click"===e?t="plotclick":"none"===e&&(t=null):t="plotmove",t},r._getDefaultTooltipCfg=function(){var t=this.chart,e=this.viewTheme,n=this.options,r=y.mix({},e.tooltip),i=t.getAllGeoms().filter(function(t){return t.get("visible")}),o=[];y.each(i,function(t){var e=t.get("type"),n=t.get("adjusts"),r=!1;n&&y.each(n,function(t){if("symmetric"===t.type||"Symmetric"===t.type)return!(r=!0)}),-1!==y.indexOf(o,e)||r||o.push(e)});var a,s,u,c=!(!i.length||!i[0].get("coord"))&&i[0].get("coord").isTransposed;return i.length&&i[0].get("coord")&&"cartesian"===i[0].get("coord").type&&("interval"===o[0]&&!1!==n.shared?((s=y.mix({},e.tooltipCrosshairsRect)).isTransposed=c,a={zIndex:0,crosshairs:s}):-1<y.indexOf(h,o[0])&&((u=y.mix({},e.tooltipCrosshairsLine)).isTransposed=c,a={crosshairs:u})),y.mix(r,a,{})},r._bindEvent=function(){var t=this.chart,e=this._getTriggerEvent();e&&(t.on(e,y.wrapBehavior(this,"onMouseMove")),t.on("plotleave",y.wrapBehavior(this,"onMouseOut")))},r._offEvent=function(){var t=this.chart,e=this._getTriggerEvent();e&&(t.off(e,y.getWrapBehavior(this,"onMouseMove")),t.off("plotleave",y.getWrapBehavior(this,"onMouseOut")))},r._setTooltip=function(t,e,n,r){var i,o,a,s,u,c,l=this.tooltip,f=this.prePoint;f&&f.x===t.x&&f.y===t.y||(e=p(e),this.prePoint=t,i=this.chart,o=this.viewTheme,a=y.isArray(t.x)?t.x[t.x.length-1]:t.x,s=y.isArray(t.y)?t.y[t.y.length-1]:t.y,l.get("visible")||i.emit("tooltip:show",{x:a,y:s,tooltip:l}),c=(u=e[0]).title||u.name,l.isContentChange(c,e)&&(i.emit("tooltip:change",{tooltip:l,x:a,y:s,items:e}),c=e[0].title||e[0].name,l.setContent(c,e),y.isEmpty(n)?(l.clearMarkers(),l.set("markerItems",[])):!0===this.options.hideMarkers?l.set("markerItems",n):l.setMarkers(n,o.tooltipMarker)),r===this._getCanvas()&&"mini"===l.get("type")?l.hide():(l.setPosition(a,s,r),l.show()))},r.hideTooltip=function(){var t=this.tooltip,e=this.chart,n=this._getCanvas();this.prePoint=null,t.hide(),e.emit("tooltip:hide",{tooltip:t}),n.draw()},r.onMouseMove=function(t){var e,n,r;y.isEmpty(t.views)||this.locked||(e=this.timeStamp,n=+new Date,r={x:t.x,y:t.y},16<n-e&&!this.chart.get("stopTooltip")&&(this.showTooltip(r,t.views,t.shape),this.timeStamp=n))},r.onMouseOut=function(t){var e=this.tooltip;e.get("visible")&&e.get("follow")&&!this.locked&&(t&&t.toElement&&(i(t.toElement,"g2-tooltip")||function(t,e){for(var n=t.parentNode,r=!1;n&&n!==document.body;){if(i(n,e)){r=!0;break}n=n.parentNode}return r}(t.toElement,"g2-tooltip"))||this.hideTooltip())},r.renderTooltip=function(){var n,t,e,r,i,o,a,s,u=this;u.tooltip||(n=u.chart,t=u.viewTheme,e=u._getCanvas(),r=u._getDefaultTooltipCfg(),o=u.options,(o=y.deepMix({plotRange:n.get("plotRange"),capture:!1,canvas:e,frontPlot:n.get("frontPlot"),viewTheme:t.tooltip,backPlot:n.get("backPlot")},r,o)).crosshairs&&"rect"===o.crosshairs.type&&(o.zIndex=0),o.visible=!1,i="mini"===o.type?(o.crosshairs=!1,o.position="top",new c.Mini(o)):o.useHtml?new c.Html(o):new c.Canvas(o),u.tooltip=i,a=u._getTriggerEvent(),s=i.get("container"),i.get("enterable")||"plotmove"!==a||s&&(s.onmousemove=function(t){var e=u._normalizeEvent(t);n.emit(a,e)}),s&&(s.onmouseleave=function(){u.locked||u.hideTooltip()}),u._bindEvent())},r._formatMarkerOfItem=function(t,e,n){var r=this.options;if((a=n.point)&&a.x&&a.y){var i=y.isArray(a.x)?a.x[a.x.length-1]:a.x,o=y.isArray(a.y)?a.y[a.y.length-1]:a.y,a=t.applyMatrix(i,o,1);n.x=a[0],n.y=a[1],n.showMarker=!0,"l("!==n.color.substring(0,2)||r.hasOwnProperty("useHtml")&&!r.useHtml||(n.color=n.color.split(" ")[1].substring(2));var s=this._getItemMarker(e,n);if(n.marker=s,-1!==y.indexOf(f,e.get("type")))return n}return null},r.lockTooltip=function(){this.locked=!0},r.unlockTooltip=function(){this.locked=!1},r.showTooltip=function(f,t,e){var h,p,d,n,r,i,o,a,g=this,v=this;!y.isEmpty(t)&&f&&(this.tooltip||this.renderTooltip(),h=v.options,p=[],d=[],y.each(t,function(t){if(!t.get("tooltipEnable"))return!0;var e=t.get("geoms"),l=t.get("coord");y.each(e,function(r){var t,e,n,i,o,a,s,u,c=r.get("type");r.get("visible")&&!1!==r.get("tooltipCfg")&&(t=r.get("dataArray"),r.isShareTooltip()||!1===h.shared&&y.inArray(["area","line","path","polygon"],c)?(e=r.getXScale(),i=(n=r.getAttr("color"))?n.field:void 0,"interval"===c&&e.field===i&&r.hasAdjust("dodge")?(o=y.find(t,function(t){return!!r.findPoint(f,t)}),y.each(o,function(t){var e=r.getTipItems(t,h.title);y.each(e,function(t){var e=v._formatMarkerOfItem(l,r,t);e&&p.push(e)}),d=d.concat(e)})):y.each(t,function(t){var e,n=r.findPoint(f,t);n&&(e=r.getTipItems(n,h.title),y.each(e,function(t){var e=v._formatMarkerOfItem(l,r,t);e&&p.push(e)}),d=d.concat(e))})):(s=(a=r.get("shapeContainer")).get("canvas").get("pixelRatio"),(u=a.getShape(f.x*s,f.y*s))&&u.get("visible")&&u.get("origin")&&(d=r.getTipItems(u.get("origin"),h.title)),y.each(d,function(t){var e=g._formatMarkerOfItem(l,r,t);e&&p.push(e)})))}),y.each(d,function(t){var e=t.point,n=y.isArray(e.x)?e.x[e.x.length-1]:e.x,r=y.isArray(e.y)?e.y[e.y.length-1]:e.y,e=l.applyMatrix(n,r,1);t.x=e[0],t.y=e[1]})}),d.length?(n=d[0],d.every(function(t){return t.title===n.title})||(r=n,i=1/0,d.forEach(function(t){var e=l.distance([f.x,f.y],[t.x,t.y]);e<i&&(i=e,r=t)}),d=d.filter(function(t){return t.title===r.title}),p=p.filter(function(t){return t.title===r.title})),!1===h.shared&&1<d.length&&(o=d[0],a=Math.abs(f.y-o.y),y.each(d,function(t){Math.abs(f.y-t.y)<=a&&(o=t,a=Math.abs(f.y-t.y))}),o&&o.x&&o.y&&(p=[o]),d=[o]),v._setTooltip(f,d,p,e)):v.hideTooltip())},r.clear=function(){var t=this.tooltip;t&&t.destroy(),this.tooltip=null,this.prePoint=null,this._offEvent()},r._getItemMarker=function(t,e){var n=this.options.marker||this.viewTheme.tooltip.marker;if(y.isFunction(n)){var r=t.get("shapeType")||"point",i=t.getDefaultValue("shape")||"circle",o=u.getShapeFactory(r),a={color:e.color};return n(o.getMarkerCfg(i,a),e)}return s({fill:e.color},n)},d);function d(t){y.assign(this,t),this.timeStamp=0,this.locked=!1}t.exports=o},function(t,e,n){var u=n(530);function l(t,e){if(!u.isNil(t)&&!u.isNil(e)){var n=t.get("origin"),r=e.get("origin");return u.isNil(n)&&u.isNil(r)?u.isEqual(t,e):u.isEqual(n,r)}}function f(t){t.shape&&t.shape.get("origin")&&(t.data=t.shape.get("origin"))}var r,i=((r=o.prototype)._init=function(){this.pixelRatio=this.canvas.get("pixelRatio")},r._getShapeEventObj=function(t){return{x:t.x/this.pixelRatio,y:t.y/this.pixelRatio,target:t.target,toElement:t.event.toElement||t.event.relatedTarget}},r._getShape=function(t,e){return this.view.get("canvas").getShape(t,e)},r._getPointInfo=function(t){var e=this.view,n={x:t.x/this.pixelRatio,y:t.y/this.pixelRatio},r=e.getViewsByPoint(n);return n.views=r,n},r._getEventObj=function(t,e,n){return{x:e.x,y:e.y,target:t.target,toElement:t.event.toElement||t.event.relatedTarget,views:n}},r.bindEvents=function(){var t=this.canvas;t.on("mousedown",u.wrapBehavior(this,"onDown")),t.on("mousemove",u.wrapBehavior(this,"onMove")),t.on("mouseleave",u.wrapBehavior(this,"onOut")),t.on("mouseup",u.wrapBehavior(this,"onUp")),t.on("click",u.wrapBehavior(this,"onClick")),t.on("dblclick",u.wrapBehavior(this,"onClick")),t.on("touchstart",u.wrapBehavior(this,"onTouchstart")),t.on("touchmove",u.wrapBehavior(this,"onTouchmove")),t.on("touchend",u.wrapBehavior(this,"onTouchend"))},r._triggerShapeEvent=function(t,e,n){var r,i,o;!t||!t.name||t.get("destroyed")||(r=this.view).isShapeInView(t)&&(i=t.name+":"+e,n.view=r,n.appendInfo=t.get("appendInfo"),r.emit(i,n),(o=r.get("parent"))&&o.emit(i,n))},r.onDown=function(t){var e=this.view,n=this._getShapeEventObj(t);n.shape=this.currentShape,f(n),e.emit("mousedown",n),this._triggerShapeEvent(this.currentShape,"mousedown",n)},r.onMove=function(t){var e=this,n=e.view,r=e.currentShape;r&&r.get("destroyed")&&(r=null,e.currentShape=null);var i,o,a=e._getShape(t.x,t.y)||t.currentTarget,s=e._getShapeEventObj(t);s.shape=a,f(s),n.emit("mousemove",s),e._triggerShapeEvent(a,"mousemove",s),r&&!l(r,a)&&((i=e._getShapeEventObj(t)).shape=r,i.toShape=a,f(i),e._triggerShapeEvent(r,"mouseleave",i)),a&&!l(r,a)&&((o=e._getShapeEventObj(t)).shape=a,o.fromShape=r,f(o),e._triggerShapeEvent(a,"mouseenter",o)),e.currentShape=a;var u=e._getPointInfo(t),c=e.curViews||[];0===c.length&&u.views.length&&n.emit("plotenter",e._getEventObj(t,u,u.views)),c.length&&0===u.views.length&&n.emit("plotleave",e._getEventObj(t,u,c)),u.views.length&&((s=e._getEventObj(t,u,u.views)).shape=a,f(s),n.emit("plotmove",s)),e.curViews=u.views},r.onOut=function(t){var e=this.view,n=this._getPointInfo(t),r=this.curViews||[],i=this._getEventObj(t,n,r);!this.curViews||0===this.curViews.length||i.toElement&&"CANVAS"===i.toElement.tagName||(e.emit("plotleave",i),this.curViews=[])},r.onUp=function(t){var e=this.view,n=this._getShapeEventObj(t);n.shape=this.currentShape,e.emit("mouseup",n),this._triggerShapeEvent(this.currentShape,"mouseup",n)},r.onClick=function(t){var e=this.view,n=this._getShape(t.x,t.y)||t.currentTarget,r=this._getShapeEventObj(t);r.shape=n,f(r),e.emit("click",r),this._triggerShapeEvent(n,t.type,r),this.currentShape=n;var i,o,a=this._getPointInfo(t),s=a.views;u.isEmpty(s)||(i=this._getEventObj(t,a,s),this.currentShape&&(o=this.currentShape,i.shape=o,f(i)),"dblclick"===t.type?(e.emit("plotdblclick",i),e.emit("dblclick",r)):e.emit("plotclick",i))},r.onTouchstart=function(t){var e=this.view,n=this._getShape(t.x,t.y)||t.currentTarget,r=this._getShapeEventObj(t);r.shape=n,f(r),e.emit("touchstart",r),this._triggerShapeEvent(n,"touchstart",r),this.currentShape=n},r.onTouchmove=function(t){var e=this.view,n=this._getShape(t.x,t.y)||t.currentTarget,r=this._getShapeEventObj(t);r.shape=n,f(r),e.emit("touchmove",r),this._triggerShapeEvent(n,"touchmove",r),this.currentShape=n},r.onTouchend=function(t){var e=this.view,n=this._getShapeEventObj(t);n.shape=this.currentShape,f(n),e.emit("touchend",n),this._triggerShapeEvent(this.currentShape,"touchend",n)},r.clearEvents=function(){var t=this.canvas;t.off("mousemove",u.getWrapBehavior(this,"onMove")),t.off("mouseleave",u.getWrapBehavior(this,"onOut")),t.off("mousedown",u.getWrapBehavior(this,"onDown")),t.off("mouseup",u.getWrapBehavior(this,"onUp")),t.off("click",u.getWrapBehavior(this,"onClick")),t.off("dblclick",u.getWrapBehavior(this,"onClick")),t.off("touchstart",u.getWrapBehavior(this,"onTouchstart")),t.off("touchmove",u.getWrapBehavior(this,"onTouchmove")),t.off("touchend",u.getWrapBehavior(this,"onTouchend"))},o);function o(t){this.view=null,this.canvas=null,u.assign(this,t),this._init()}t.exports=i},function(t,e,n){var d=n(530),o=n(765),g=d.MatrixUtil.mat3;function h(t,e){var n=[];if(!1===t.get("animate"))return[];var r=t.get("children");return d.each(r,function(t){t.isGroup?n=n.concat(h(t,e)):t.isShape&&t._id&&t._id.split("-")[0]===e&&n.push(t)}),n}function v(t,e,n,r){var i=r?o.Action[n][r]:o.getAnimation(t,e,n);return i}function y(t,e,n){var r=o.getAnimateCfg(t,e);return n&&n[e]?d.deepMix({},r,n[e]):r}function p(n,t,l,e){var f,h,r,i,p=!1;return e?(r=[],i=[],d.each(t,function(t){var e=n[t._id];e?(t.setSilent("cacheShape",e),r.push(t),delete n[t._id]):i.push(t)}),d.each(n,function(t){var e,n,r,i=t.name,o=t.coord,a=t._id,s=t.attrs,u=t.index,c=t.type;h=y(i,"leave",t.animateCfg),f=v(i,o,"leave",h.animation),d.isFunction(f)&&((e=l.addShape(c,{attrs:s,index:u}))._id=a,e.name=i,o&&"label"!==i&&(n=e.getMatrix(),r=g.multiply([],n,o.matrix),e.setMatrix(r)),p=!0,f(e,h,o))}),d.each(r,function(t){var e,n=t.name,r=t.get("coord"),i=t.get("cacheShape").attrs;d.isEqual(i,t.attr())||(h=y(n,"update",t.get("animateCfg")),f=v(n,r,"update",h.animation),d.isFunction(f)?f(t,h,r):(e=d.cloneDeep(t.attr()),t.attr(i),t.animate(e,h.duration,h.easing,function(){t.setSilent("cacheShape",null)})),p=!0)}),d.each(i,function(t){var e=t.name,n=t.get("coord");h=y(e,"enter",t.get("animateCfg")),f=v(e,n,"enter",h.animation),d.isFunction(f)&&(f(t,h,n),p=!0)})):d.each(t,function(t){var e=t.name,n=t.get("coord");h=y(e,"appear",t.get("animateCfg")),f=v(e,n,"appear",h.animation),d.isFunction(f)&&(f(t,h,n),p=!0)}),p}t.exports={execAnimation:function(t,e){var n=t.get("middlePlot"),r=t.get("backPlot"),i=t.get("_id"),o=t.get("canvas"),a=o.get(i+"caches")||[];0===a.length&&(e=!1);var s,u,c=h(n,i),l=h(r,i),f=c.concat(l);o.setSilent(i+"caches",(s=f,u={},d.each(s,function(t){var e;t._id&&!t.isClip&&(e=t._id,u[e]={_id:e,type:t.get("type"),attrs:d.cloneDeep(t.attr()),name:t.name,index:t.get("index"),animateCfg:t.get("animateCfg"),coord:t.get("coord")})}),u)),p(a,e?f:c,o,e)||o.draw()}}},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var d=n(530),i=n(558).Group;d.extend(r,i),d.augment(r,{getDefaultCfg:function(){return{type:"plotBack",padding:null,background:null,plotRange:null,plotBackground:null}},_beforeRenderUI:function(){this._calculateRange()},_renderUI:function(){this._renderBackground(),this._renderPlotBackground()},_renderBackground:function(){var t,e,n,r=this.get("background");r&&(t=this.get("canvas"),e={x:0,y:0,width:this.get("width")||t.get("width"),height:this.get("height")||t.get("height")},(n=this.get("backgroundShape"))?n.attr(e):(n=this.addShape("rect",{attrs:d.mix(e,r)}),this.set("backgroundShape",n)))},_renderPlotBackground:function(){var t,e,n,r,i,o,a=this.get("plotBackground");a&&(e=(t=this.get("plotRange")).br.x-t.bl.x,n=t.br.y-t.tr.y,i={x:(r=t.tl).x,y:r.y,width:e,height:n},(o=this.get("plotBackShape"))?o.attr(i):(o=a.image?(i.img=a.image,this.addShape("image",{attrs:i})):(d.mix(i,a),this.addShape("rect",{attrs:i})),this.set("plotBackShape",o)))},_convert:function(t,e){var n,r,i;return d.isString(t)&&("auto"===t?t=0:t.includes("%")&&(n=this.get("canvas"),r=this.get("width")||n.get("width"),i=this.get("height")||n.get("height"),t=parseInt(t,10)/100,t=e?t*r:t*i)),t},_calculateRange:function(){var t=this.get("plotRange");d.isNil(t)&&(t={});var e=this.get("padding"),n=this.get("canvas"),r=this.get("width")||n.get("width"),i=this.get("height")||n.get("height"),o=d.toAllPadding(e),a=this._convert(o[0],!1),s=this._convert(o[1],!0),u=this._convert(o[2],!1),c=this._convert(o[3],!0),l=Math.min(c,r-s),f=Math.max(c,r-s),h=Math.min(i-u,a),p=Math.max(i-u,a);t.tl={x:l,y:h},t.tr={x:f,y:h},t.bl={x:l,y:p},t.br={x:f,y:p},t.cc={x:(f+l)/2,y:(p+h)/2},this.set("plotRange",t)},repaint:function(){return this._calculateRange(),this._renderBackground(),this._renderPlotBackground(),this}}),t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(606),a=(r=i)&&r.__esModule?r:{default:r};e.default={init:function(t,e,n){var r=0<arguments.length&&void 0!==t?t:{},i=e,o=n;a.default.each(r,function(t){var e=i[t];void 0!==e&&(a.default.isArray(e)||(e=[e]),o(e,t))})},update:function(t,e,n,r){var i,o=void 0;a.default.each(t,function(t){i=e[t],o=n[t],a.default.shallowEqual(o,i)||(a.default.isArray(o)||(o=[o]),r(o,t))})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={Chart:"deleteChart",Coord:"deleteCoord",Geom:"deleteGeom",Axis:"deleteAxis",Tooltip:"deleteTooltip",Legend:"deleteLegend",Label:"deleteLabel",View:"deleteView",Guide:"deleteGuide",GuideLine:"deleteTypedGuide",GuideImage:"deleteTypedGuide",GuideText:"deleteTypedGuide",GuideRegion:"deleteTypedGuide",GuideHtml:"deleteTypedGuide",GuideArc:"deleteTypedGuide",Facet:"deleteFacet"},s={Geom:!0,Label:!0,Facet:!0},r={deleteAxis:function(t,e,n){var r=e.axises[n].props;t.axis(r.name,!1)},deleteTooltip:function(t){t.tooltip(!1)},deleteCoord:function(t){t.coord("rect",{})},deleteLegend:function(t,e,n){var r=e.legends[n].props;t.legend.apply(t,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(r.name?[r.name,!1]:[!1]))},deleteGuide:function(t){t.guide().clear()},deleteView:function(t,e,n){e.views[n].g2Instance&&(t.removeView(e.views[n].g2Instance),delete e.views[n].g2Instance)},deleteViewElement:function(t,r,e,i){var o=this;Object.keys(e).forEach(function(t){var e=i[t],n=e.viewId;n&&(s[e.name]?r.views[n].needReExecute=!0:r.views[n].g2Instance&&o[a[e.name]]&&o[a[e.name]](r.views[n].g2Instance,r.views[n],e.id))})},needReExecute:function(t,e){for(var n in t)if(s[e[n].name]&&!e[n].viewId)return!0;return!1},synchronizeG2Delete:function(n,r,t,i){var o=this;Object.keys(t).forEach(function(t){var e=a[i[t].name];o[e]&&!i[t].viewId&&o[e](n,r,t)}),this.deleteViewElement(n,r,t,i)}};e.default=r},function(i,t,e){(function(t){function m(){return r.Date.now()}var o=NaN,a="[object Symbol]",s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,f=parseInt,e="object"==typeof t&&t&&t.Object===Object&&t,n="object"==typeof self&&self&&self.Object===Object&&self,r=e||n||Function("return this")(),h=Object.prototype.toString,x=Math.max,b=Math.min;function w(t){var e=typeof t;return t&&("object"==e||"function"==e)}function _(t){if("number"==typeof t)return t;if("symbol"==typeof(e=t)||!!(n=e)&&"object"==typeof n&&h.call(e)==a)return o;var e,n,r;if(w(t)&&(t=w(r="function"==typeof t.valueOf?t.valueOf():t)?r+"":r),"string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var i=c.test(t);return i||l.test(t)?f(t.slice(2),i?2:8):u.test(t)?o:+t}i.exports=function(r,i,t){var o,a,s,u,c,l,f=0,h=!1,p=!1,e=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function d(t){var e=o,n=a;return o=a=void 0,f=t,u=r.apply(n,e)}function g(t){var e=t-l;return void 0===l||i<=e||e<0||p&&s<=t-f}function v(){var t,e,n=m();if(g(n))return y(n);c=setTimeout(v,(e=i-((t=n)-l),p?b(e,s-(t-f)):e))}function y(t){return c=void 0,e&&o?d(t):(o=a=void 0,u)}function n(){var t,e=m(),n=g(e);if(o=arguments,a=this,l=e,n){if(void 0===c)return f=t=l,c=setTimeout(v,i),h?d(t):u;if(p)return c=setTimeout(v,i),d(l)}return void 0===c&&(c=setTimeout(v,i)),u}return i=_(i)||0,w(t)&&(h=!!t.leading,p="maxWait"in t,s=p?x(_(t.maxWait)||0,i):s,e="trailing"in t?!!t.trailing:e),n.cancel=function(){void 0!==c&&clearTimeout(c),o=l=a=c=void(f=0)},n.flush=function(){return void 0===c?u:y(m())},n}}).call(this,e(66))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=s(n(0)),a=s(n(1));function s(t){return t&&t.__esModule?t:{default:t}}(0,s(n(1085)).default)(o.default.PureComponent,"`React.PureComponent` needs React >=15.3.0");var u=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,o.default.PureComponent||o.default.Component),r(c,[{key:"render",value:function(){var t=this.props,e=t.width,n=t.height,r=t.placeholder;return o.default.createElement("div",{style:{width:e,height:n}},r)}}]),c);function c(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}u.propTypes={width:a.default.oneOfType([a.default.string,a.default.number]),height:a.default.oneOfType([a.default.string,a.default.number]),placeholder:a.default.node},u.defaultProps={width:"100%",placeholder:o.default.createElement("div",{style:{position:"relative",top:"48%",textAlign:"center"}},"")},e.default=u},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o,a=n(0),s=(o=a)&&o.__esModule?o:{default:o};var u=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,s.default.Component),r(c,[{key:"shouldComponentUpdate",value:function(){return this.state.hasError&&this.setState({hasError:!1}),!0}},{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"unstable_handleError",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?s.default.createElement("h1",null,"bizcharts error."):this.props.children}}]),c);function c(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,t));return e.state={hasError:!1},e}e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(566),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default.generateBaseTypedComponent("Coord")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(566),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default.generateBaseTypedComponent("Axis")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(566)),i=o(n(1));function o(t){return t&&t.__esModule?t:{default:t}}var a=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,r.default),s);function s(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t,"Legend"))}a.contextTypes={addElement:i.default.func,updateElement:i.default.func,deleteElement:i.default.func,createId:i.default.func,getParentInfo:i.default.func,getViewId:i.default.func},a.childContextTypes={addElement:i.default.func,updateElement:i.default.func,deleteElement:i.default.func,createId:i.default.func,getParentInfo:i.default.func,getViewId:i.default.func},a.defaultProps={visible:!0},e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(566),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default.generateBaseTypedComponent("Tooltip")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(1092);var r,i=n(566),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default.generateBaseTypedComponent("Geom")},function(t,e,n){var r=n(552);r.Point=n(1093),r.PointJitter=r.Point.Jitter,r.PointStack=r.Point.Stack,r.Path=n(811),r.Line=n(1095),r.LineStack=r.Line.Stack,r.Interval=n(1097),r.IntervalStack=r.Interval.Stack,r.IntervalDodge=r.Interval.Dodge,r.IntervalSymmetric=r.Interval.Symmetric,r.Area=n(1099),r.AreaStack=r.Area.Stack,r.Polygon=n(1101),r.Schema=n(1103),r.SchemaDodge=r.Schema.Dodge,r.Edge=n(1105),r.Heatmap=n(1107),r.Venn=n(1108),r.Violin=n(1111),t.exports=r},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var i=n(552),l=n(530);n(1094);var o,a=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="point",t.shapeType="point",t.generatePoints=!0,t},n.drawPoint=function(t,n,r,i){var o,a,s=this,u=t.shape,c=s.getDrawCfg(t);s._applyViewThemeShapeStyle(c,u,r),l.isArray(t.y)?(a=s.hasStack(),l.each(t.y,function(t,e){c.y=t,c.yIndex=e,a&&0===e||(o=r.drawShape(u,c,n),s.appendShapeInfo(o,i+e))})):l.isNil(t.y)||(o=r.drawShape(u,c,n),s.appendShapeInfo(o,i))},t}(i),s=(r(u,o=a),u.prototype.getDefaultCfg=function(){var t=o.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"jitter"}],t},u);function u(){return o.apply(this,arguments)||this}var c,f=(r(h,c=a),h.prototype.getDefaultCfg=function(){var t=c.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"stack"}],t},h);function h(){return c.apply(this,arguments)||this}a.Jitter=s,a.Stack=f,i.Point=a,i.PointJitter=s,i.PointStack=f,t.exports=a},function(t,e,n){var f=n(530),r=n(567),i=n(542),o=n(553),a=n(558).Marker,h=f.PathUtil,s=["cross","tick","plus","hyphen","line","pointerLine","pointerArrow"],u=Math.sqrt(3);function p(t){var e=i.shape.point,n=f.mix({},e,t.style);return r.addFillAttrs(n,t),f.isNumber(t.size)&&(n.radius=t.size),n}function d(t){var e=i.shape.hollowPoint,n=f.mix({},e,t.style);return r.addStrokeAttrs(n,t),f.isNumber(t.size)&&(n.radius=t.size),n}f.mix(a.Symbols,{hexagon:function(t,e,n){var r=n/2*u;return[["M",t,e-n],["L",t+r,e-n/2],["L",t+r,e+n/2],["L",t,e+n],["L",t-r,e+n/2],["L",t-r,e-n/2],["Z"]]},bowtie:function(t,e,n){var r=n-1.5;return[["M",t-n,e-r],["L",t+n,e+r],["L",t+n,e-r],["L",t-n,e+r],["Z"]]},cross:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e+n],["M",t+n,e-n],["L",t-n,e+n]]},tick:function(t,e,n){return[["M",t-n/2,e-n],["L",t+n/2,e-n],["M",t,e-n],["L",t,e+n],["M",t-n/2,e+n],["L",t+n/2,e+n]]},plus:function(t,e,n){return[["M",t-n,e],["L",t+n,e],["M",t,e-n],["L",t,e+n]]},hyphen:function(t,e,n){return[["M",t-n,e],["L",t+n,e]]},line:function(t,e,n){return[["M",t,e-n],["L",t,e+n]]}});var c=o.registerFactory("point",{defaultShapeType:"hollowCircle",getActiveCfg:function(t,e){var n=e.radius,r=t&&(0===t.indexOf("hollow")||-1!==f.indexOf(s,t))||!t?e.stroke||e.strokeStyle:e.fill||e.fillStyle;return{radius:n+1,shadowBlur:n,shadowColor:r,stroke:r,strokeOpacity:1,lineWidth:1}},getDefaultPoints:function(t){return r.splitPoints(t)}});o.registerShape("point","rect",{draw:function(t,e){var n,r,i,o,a,s=p(t),u=(r=(n=t).points[0].x,i=n.points[0].y,o=n.size[0],a=n.size[1],[["M",r-.5*o,i-.5*a],["L",r+.5*o,i-.5*a],["L",r+.5*o,i+.5*a],["L",r-.5*o,i+.5*a],["z"]]),u=this.parsePath(u);return e.addShape("path",{attrs:f.mix(s,{path:u})})},getMarkerCfg:function(t){var e=p(t);return e.symbol="rect",e.radius=4.5,e}}),f.each(["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],function(r){o.registerShape("point",r,{draw:function(t,e){var n=p(t);return e.addShape("Marker",{attrs:f.mix(n,{symbol:r,x:t.x,y:t.y})})},getMarkerCfg:function(t){var e=p(t);return e.symbol=r,e.radius=4.5,e}}),o.registerShape("point","hollow"+f.upperFirst(r),{draw:function(t,e){var n=d(t);return e.addShape("Marker",{attrs:f.mix(n,{symbol:r,x:t.x,y:t.y})})},getMarkerCfg:function(t){var e=d(t);return e.symbol=r,e.radius=4.5,e}})}),f.each(s,function(r){o.registerShape("point",r,{draw:function(t,e){var n=d(t);return e.addShape("Marker",{attrs:f.mix(n,{symbol:r,x:t.x,y:t.y})})},getMarkerCfg:function(t){var e=d(t);return e.symbol=r,e.radius=4.5,e}})}),o.registerShape("point","image",{draw:function(t,e){return t.points=this.parsePoints(t.points),e.addShape("image",{attrs:{x:t.points[0].x-t.size/2,y:t.points[0].y-t.size,width:t.size,height:t.size,img:t.shape[1]}})}});var g={};o.registerShape("point","path",{draw:function(t,e){var n,r,i,o=f.mix({},d(t),p(t)),a=t.shape[1],s=t.size||10;g[a]?n=g[a]:(r=h.parsePathString(a),i=f.flatten(r).filter(function(t){return f.isNumber(t)}),g[a]=n={range:Math.max.apply(null,i)-Math.min.apply(null,i),segments:r});var u=s/n.range,c=[];o.rotate&&(c.push(["r",o.rotate/180*Math.PI]),delete o.rotate);var l=e.addShape("path",{attrs:f.mix(o,{path:n.segments})});return c.push(["s",u,u],["t",t.x,t.y]),l.transform(c),l}}),t.exports=c},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var i=n(552),o=n(811);n(1096);var a,s=(r(u,a=o),u.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return t.type="line",t.sortable=!0,t},u);function u(){return a.apply(this,arguments)||this}var c,l=(r(f,c=s),f.prototype.getDefaultCfg=function(){var t=c.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"stack"}],t},f);function f(){return c.apply(this,arguments)||this}s.Stack=l,i.Line=s,i.LineStack=l,t.exports=s},function(t,e,n){var u=n(530),a=n(572),h=n(567),r=n(553),c=n(542),i=[1,1],o=[5.5,1];function s(t){var e=c.shape.line,n=u.mix({},e,t.style);return h.addStrokeAttrs(n,t),t.size&&(n.lineWidth=t.size),n}function l(t){var e=c.shape.line,n=u.mix({lineWidth:2,radius:6},e,t.style);return h.addStrokeAttrs(n,t),n}function p(t,e,n,r){var i,o;return e?(o=r.constraint,n&&t.length&&t.push({x:t[0].x,y:t[0].y}),i=a.getSplinePath(t,!1,o)):(i=a.getLinePath(t,!1),n&&i.push(["Z"])),i}function f(t,e){var n=t.points,r=t.isInCircle,i=n[0],o=(u.isArray(i.y)?function(t,e,n,r){for(var i=[],o=r.isStack,a=[],s=0;s<t.length;s++){var u=t[s],c=h.splitPoints(u);a.push(c[0]),i.push(c[1])}var l=p(i,e,n,r),f=p(a,e,n,r);return o?l:l.concat(f)}:p)(n,e,r,t);return o}function d(t,e){var r,i,o,n,a,s=(r=t.points,i=e,o=[],u.each(r,function(t,e){var n=r[e+1];o.push(t),n&&(o=o.concat(i(t,n)))}),o);return n=s,a=[],u.each(n,function(t,e){var n=0===e?["M",t.x,t.y]:["L",t.x,t.y];a.push(n)}),a}function g(t,e,n){return[["M",t-n,e],["L",t+n,e]]}function v(t,e,n){return[["M",t-n,e],["A",n/2,n/2,0,1,1,t,e],["A",n/2,n/2,0,1,0,t+n,e]]}function y(t,e){return u.mix({symbol:e?v:g},l(t))}function m(t,e){return u.mix({symbol:e},l(t))}var x=r.registerFactory("line",{defaultShapeType:"line",getActiveCfg:function(t,e){return{lineWidth:(e.lineWidth||0)+1}},getDefaultPoints:function(t){return h.splitPoints(t)},drawShape:function(t,e,n){var r,i,o,a=this.getShape(t),s=1===e.points.length&&c.showSinglePoint?(i=n,o=(r=e).points[0],i.addShape("circle",{attrs:u.mix({x:o.x,y:o.y,r:2,fill:r.color},r.style)})):a.draw(e,n);return s&&(s.set("origin",e.origin),s._id=e.splitedIndex?e._id+e.splitedIndex:e._id,s.name=this.name),s}});r.registerShape("line","line",{draw:function(t,e){var n=s(t),r=f(t,!1);return e.addShape("path",{attrs:u.mix(n,{path:r})})},getMarkerCfg:function(t){return y(t)}}),r.registerShape("line","dot",{draw:function(t,e){var n=s(t),r=f(t,!1);return e.addShape("path",{attrs:u.mix(n,{path:r,lineDash:i})})},getMarkerCfg:function(t){var e=y(t,!1);return e.lineDash=i,e}}),r.registerShape("line","dash",{draw:function(t,e){var n=s(t),r=f(t,!1);return e.addShape("path",{attrs:u.mix({path:r,lineDash:o},n)})},getMarkerCfg:function(t){var e=y(t,!1);return e.lineDash=e.lineDash||o,e}}),r.registerShape("line","smooth",{draw:function(t,e){var n=s(t),r=this._coord;t.constraint=[[r.start.x,r.end.y],[r.end.x,r.start.y]];var i=f(t,!0);return e.addShape("path",{attrs:u.mix(n,{path:i})})},getMarkerCfg:function(t){return y(t,!0)}}),r.registerShape("line","hv",{draw:function(t,e){var n=s(t),r=d(t,function(t,e){var n=[];return n.push({x:e.x,y:t.y}),n});return e.addShape("path",{attrs:u.mix(n,{path:r})})},getMarkerCfg:function(t){return m(t,function(t,e,n){return[["M",t-n-1,e-2.5],["L",t,e-2.5],["L",t,e+2.5],["L",t+n+1,e+2.5]]})}}),r.registerShape("line","vh",{draw:function(t,e){var n=s(t),r=d(t,function(t,e){var n=[];return n.push({x:t.x,y:e.y}),n});return e.addShape("path",{attrs:u.mix(n,{path:r})})},getMarkerCfg:function(t){return m(t,function(t,e,n){return[["M",t-n-1,e+2.5],["L",t,e+2.5],["L",t,e-2.5],["L",t+n+1,e-2.5]]})}}),r.registerShape("line","hvh",{draw:function(t,e){var n=s(t),r=d(t,function(t,e){var n=[],r=(e.x-t.x)/2+t.x;return n.push({x:r,y:t.y}),n.push({x:r,y:e.y}),n});return e.addShape("path",{attrs:u.mix(n,{path:r})})},getMarkerCfg:function(t){return m(t,function(t,e,n){return[["M",t-(n+1),e+2.5],["L",t-n/2,e+2.5],["L",t-n/2,e-2.5],["L",t+n/2,e-2.5],["L",t+n/2,e+2.5],["L",t+n+1,e+2.5]]})}}),r.registerShape("line","vhv",{draw:function(t,e){var n=s(t),r=d(t,function(t,e){var n=[],r=(e.y-t.y)/2+t.y;return n.push({x:t.x,y:r}),n.push({x:e.x,y:r}),n});return e.addShape("path",{attrs:u.mix(n,{path:r})})},getMarkerCfg:function(t){return m(t,function(t,e){return[["M",t-5,e+2.5],["L",t-5,e],["L",t,e],["L",t,e-3],["L",t,e+3],["L",t+6.5,e+3]]})}}),x.spline=x.smooth,t.exports=x},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var i=n(552),o=n(530),a=n(672);n(1098);var s,u=function(n){r(e,n);var t=e.prototype;function e(t){var e=n.call(this,t)||this;return o.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e),a),e}return t.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return t.type="interval",t.shapeType="interval",t.generatePoints=!0,t},t.createShapePointsCfg=function(t){var e=n.prototype.createShapePointsCfg.call(this,t);return e.size=this.getNormalizedSize(t),e},t.clearInner=function(){n.prototype.clearInner.call(this),this.set("defaultSize",null)},e}(i),c=(r(l,s=u),l.prototype.getDefaultCfg=function(){var t=s.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"stack"}],t},l);function l(){return s.apply(this,arguments)||this}var f,h=(r(p,f=u),p.prototype.getDefaultCfg=function(){var t=f.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"dodge"}],t},p);function p(){return f.apply(this,arguments)||this}var d,g=(r(v,d=u),v.prototype.getDefaultCfg=function(){var t=d.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"symmetric"}],t},v);function v(){return d.apply(this,arguments)||this}u.Stack=c,u.Dodge=h,u.Symmetric=g,i.Interval=u,i.IntervalStack=c,i.IntervalDodge=h,i.IntervalSymmetric=g,t.exports=u},function(t,e,n){var _=n(530),r=n(553),g=n(572),i=n(567),p=n(542),f=n(558),S=_.PathUtil;function o(t,e){var n,r,i=t.x,o=t.y,a=t.y0,s=t.size,u=a,c=o;_.isArray(o)&&(c=o[1],u=o[0]),r=_.isArray(i)?(n=i[0],i[1]):(n=i-s/2,i+s/2);var l=[];return l.push({x:n,y:u},{x:n,y:c}),e?l.push({x:r,y:(c+u)/2}):l.push({x:r,y:c},{x:r,y:u}),l}function u(t){for(var e=[],n=0;n<t.length;n++){var r,i=t[n];i&&(r=0===n?"M":"L",e.push([r,i.x,i.y]))}var o=t[0];return e.push(["L",o.x,o.y]),e.push(["z"]),e}function M(t){var e=p.shape.interval,n=_.mix({},e,t.style);return i.addFillAttrs(n,t),t.color&&(n.stroke=n.stroke||t.color),n}function E(t){var e=p.shape.hollowInterval,n=_.mix({},e,t.style);return i.addStrokeAttrs(n,t),n}function a(t,e){var n=[],r=t.points,i=t.nextPoints;return _.isNil(i)?e?n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],["L",r[3].x,r[3].y],["Z"]):n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],["L",r[2].x,r[2].y],["Z"]):n.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",i[1].x,i[1].y],["L",i[0].x,i[0].y],["Z"]),n}function s(t,e){var n,r,i,o,a,s,u,c,l,f,h,p=e.geom.get("coord"),d=e.point;return p&&"theta"===p.type&&(o=d,f=(a=p).getRadius(),h=f*a.innerRadius,!_.isArray(o.x)&&_.isArray(o.y)&&(o.x=[o.x,o.x]),_.isArray(o.x)?(c={x:o.x[0],y:o.y[0]},l={x:o.x[1],y:o.y[1]},s=g.getPointAngle(a,c),(u=g.getPointAngle(a,l))<=s&&(u+=2*Math.PI)):(l=o,s=a.startAngle,u=g.getPointAngle(a,l)),r=((n={r:f,ir:h,startAngle:s,endAngle:u}).endAngle-n.startAngle)/2+n.startAngle,i={transform:[["t",7.5*Math.cos(r),7.5*Math.sin(r)]]}),_.mix({},i)}var c=r.registerFactory("interval",{defaultShapeType:"rect",getActiveCfg:function(t,e){return!t||_.inArray(["rect","funnel","pyramid"],t)?{fillOpacity:(e.fillOpacity||e.opacity||1)-.15}:{lineWidth:(e.lineWidth||0)+1}},getDefaultPoints:function(t){return o(t)},getSelectedCfg:function(t,e){return s(0,e)}});function d(t,e,n,r,i,o,a){for(var s=2*Math.ceil(2*t/n*4),u=[];r<2*-Math.PI;)r+=2*Math.PI;for(;0<r;)r-=2*Math.PI;var c=o-t+(r=r/Math.PI/2*n)-2*t;u.push(["M",c,e]);for(var l,f,h,p,d=0,g=0;g<s;++g){var v=(l=g*n/4,h=n,p=i,0===(f=g%4)?[[l+.5*h/Math.PI/2,p/2],[l+.5*h/Math.PI,p],[l+h/4,p]]:1===f?[[l+.5*h/Math.PI/2*(Math.PI-2),p],[l+.5*h/Math.PI/2*(Math.PI-1),p/2],[l+h/4,0]]:2===f?[[l+.5*h/Math.PI/2,-p/2],[l+.5*h/Math.PI,-p],[l+h/4,-p]]:[[l+.5*h/Math.PI/2*(Math.PI-2),-p],[l+.5*h/Math.PI/2*(Math.PI-1),-p/2],[l+h/4,0]]);u.push(["C",v[0][0]+c,-v[0][1]+e,v[1][0]+c,-v[1][1]+e,v[2][0]+c,-v[2][1]+e]),g===s-1&&(d=v[2][0])}return u.push(["L",d+c,a+t]),u.push(["L",c,a+t]),u.push(["L",c,e]),u}function C(t,e,n,r,i,o,a,s){for(var u=a.getBBox(),c=u.maxX-u.minX,l=u.maxY-u.minY,f=0;f<r;f++){var h=o.addShape("path",{attrs:{path:d(s,u.minY+l*n,c/4,0,c/64,t,e),fill:i[f],clip:a}});"canvas"===p.renderer&&h.animate({transform:[["t",c/2,0]],repeat:!0},5e3-300*f)}}r.registerShape("interval","rect",{draw:function(t,e){var n=M(t),r=u(t.points),r=this.parsePath(r);return e.addShape("path",{attrs:_.mix(n,{path:r})})},getMarkerCfg:function(t){var e=M(t),n=t.isInCircle;return _.mix({symbol:n?"circle":"square",radius:n?4.5:4},e)}}),r.registerShape("interval","hollowRect",{draw:function(t,e){var n=E(t),r=u(t.points),r=this.parsePath(r);return e.addShape("path",{attrs:_.mix(n,{path:r})})},getMarkerCfg:function(t){var e=E(t),n=t.isInCircle;return _.mix({symbol:n?"circle":"square",radius:n?4.5:4},e)}}),r.registerShape("interval","line",{getPoints:function(t){return n=(e=t).x,r=e.y,i=e.y0,o=[],_.isArray(r)?_.each(r,function(t,e){o.push({x:_.isArray(n)?n[e]:n,y:t})}):o.push({x:n,y:r},{x:n,y:i}),o;var e,n,r,i,o},draw:function(t,e){var n=E(t);n.lineWidth=t.size||1;var r=u(t.points),r=this.parsePath(r);return e.addShape("path",{attrs:_.mix(n,{path:r})})},getMarkerCfg:function(t){var e=E(t);return _.mix({symbol:"line",radius:5},e)}}),r.registerShape("interval","tick",{getPoints:function(t){return n=(e=t).x,r=_.isArray(e.y)?e.y[1]:e.y,i=_.isArray(e.y)?e.y[0]:e.y0,o=e.size,(a=[]).push({x:n-o/2,y:r},{x:n+o/2,y:r},{x:n,y:r},{x:n,y:i},{x:n-o/2,y:i},{x:n+o/2,y:i}),a;var e,n,r,i,o,a},draw:function(t,e){var n=E(t);n.lineWidth||(n.lineWidth=2);var r,i,o=(r=t.points,(i=[]).push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y]),i),o=this.parsePath(o);return e.addShape("path",{attrs:_.mix(n,{path:o})})},getMarkerCfg:function(t){var e=E(t);return _.mix({symbol:"tick",radius:5},e)}}),r.registerShape("interval","funnel",{getPoints:function(t){return t.size=2*t.size,o(t)},draw:function(t,e){var n=M(t),r=a(t,!0),r=this.parsePath(r);return e.addShape("path",{attrs:_.mix(n,{path:r})})},getMarkerCfg:function(t){var e=M(t);return _.mix({symbol:"square",radius:4},e)}}),r.registerShape("interval","pyramid",{getPoints:function(t){return t.size=2*t.size,o(t,!0)},draw:function(t,e){var n=M(t),r=a(t,!1),r=this.parsePath(r);return e.addShape("path",{attrs:_.mix(n,{path:r})})},getMarkerCfg:function(t){var e=M(t);return _.mix({symbol:"square",radius:4},e)}}),r.registerShape("interval","liquid-fill-gauge",{draw:function(t,e){var n=0,r=1/0;_.each(t.points,function(t){t.x<r&&(r=t.x),n+=t.x});var i=n/t.points.length,o=this.parsePoint({x:i,y:.5}),a=this.parsePoint({x:r,y:.5}),s=o.x-a.x,u=Math.min(s,a.y),c=M(t),l=new f.Circle({attrs:{x:o.x,y:o.y,r:u}});return C(o.x,o.y,t.y/(2*o.y),1,[c.fill],e,l,4*u),e.addShape("circle",{attrs:_.mix(E(t),{x:o.x,y:o.y,r:u+u/8})})}});var P={};r.registerShape("interval","liquid-fill-path",{draw:function(t,e){var n=_.mix({},M(t)),r=t.shape[1],i=0,o=1/0;_.each(t.points,function(t){t.x<o&&(o=t.x),i+=t.x});var a,s,u=i/t.points.length,c=this.parsePoint({x:u,y:.5}),l=this.parsePoint({x:o,y:.5}),f=c.x-l.x,h=Math.min(f,l.y);P[r]?a=P[r]:(s=S.parsePathString(r),P[r]=a={segments:s});var p=[];n.rotate&&(p.push(["r",n.rotate/180*Math.PI]),delete n.rotate);var d=e.addShape("path",{attrs:_.mix(n,{fillOpacity:0,path:a.segments})}),g=_.cloneDeep(d.getBBox()),v=g.maxX-g.minX,y=g.maxY-g.minY,m=2*h/Math.max(v,y);d.transform(p.concat([["s",m,m]]));var x=m*v/2,b=m*y/2;d.transform([["t",c.x-x,c.y-b]]),C(c.x,c.y,t.y/(2*c.y),1,[n.fill],e,d,4*l.y);var w=e.addShape("path",{attrs:_.mix(E(t),{path:a.segments})});return w.transform(p.concat([["s",m,m],["t",c.x-x,c.y-b]])),w}}),r.registerShape("interval","top-line",{draw:function(t,e){var n=M(t),r=t.style||{},i=[["M",t.points[1].x,t.points[1].y],["L",t.points[2].x,t.points[2].y]],o={stroke:r.stroke||"white",lineWidth:r.lineWidth||1,path:this.parsePath(i)},a=u(t.points),a=this.parsePath(a);delete n.stroke;var s=e.addShape("path",{attrs:_.mix(n,{zIndex:0,path:a})});return e.addShape("path",{zIndex:1,attrs:o}),s},getMarkerCfg:function(t){var e=M(t),n=t.isInCircle;return _.mix({symbol:n?"circle":"square",radius:n?4.5:4},e)}}),t.exports=c},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var i=n(552),o=n(812),c=n(530);n(1100);var a,s=function(n){r(e,n);var t=e.prototype;function e(t){var e=n.call(this,t)||this;return c.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e),o),e}return t.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return t.type="area",t.shapeType="area",t.generatePoints=!0,t.sortable=!0,t},t.draw=function(t,i,o,a){var s=this,u=this.getDrawCfg(t[0]);s._applyViewThemeShapeStyle(u,u.shape,o);var e=this.splitData(t);u.origin=t,c.each(e,function(t,e){u.splitedIndex=e;var n=t.map(function(t){return t.points});u.points=n;var r=o.drawShape(u.shape,u,i);s.appendShapeInfo(r,a+e)})},e}(i),u=(r(l,a=s),l.prototype.getDefaultCfg=function(){var t=a.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"stack"}],t},l);function l(){return a.apply(this,arguments)||this}s.Stack=u,i.Area=s,i.AreaStack=u,t.exports=s},function(t,e,n){var c=n(530),r=n(553),l=n(572),i=n(567),u=n(542);function o(t){var e=u.shape.hollowArea,n=c.mix({},e,t.style);return i.addStrokeAttrs(n,t),c.isNumber(t.size)&&(n.lineWidth=t.size),n}function a(t){var e=u.shape.area,n=c.mix({},e,t.style);return i.addFillAttrs(n,t),t.color&&(n.stroke=n.stroke||t.color),c.isNumber(t.size)&&(n.lineWidth=t.size),n}function s(i,o,a){var s=[],t=[],e=[],n=[],u=i.isInCircle;return c.each(i.points,function(t){e.push(t[1]),n.push(t[0])}),n=n.reverse(),t.push(e,n),c.each(t,function(t,e){var n=[],r=(t=a.parsePoints(t))[0];u&&t.push({x:r.x,y:r.y}),n=o?l.getSplinePath(t,!1,i.constraint):l.getLinePath(t,!1),0<e&&(n[0][0]="L"),s=s.concat(n)}),s.push(["Z"]),s}function f(t){return{symbol:function(t,e,n){return[["M",t-n,e-4],["L",t+n,e-4],["L",t+n,e+4],["L",t-n,e+4],["Z"]]},radius:5,fill:t.color,fillOpacity:.6}}var h=r.registerFactory("area",{defaultShapeType:"area",getDefaultPoints:function(t){var e=[],n=t.x,r=t.y,i=t.y0,r=c.isArray(r)?r:[i,r];return c.each(r,function(t){e.push({x:n,y:t})}),e},getActiveCfg:function(t,e){if("line"===t||"smoothLine"===t)return{lineWidth:(e.lineWidth||0)+1};var n=e.fillOpacity||e.opacity||1;return{fillOpacity:n-.15,strokeOpacity:n-.15}},drawShape:function(t,e,n){var r,i,o,a=this.getShape(t),s=1===e.points.length&&u.showSinglePoint?(r=e,i=n,o=this._coord.convertPoint(r.points[0][1]),i.addShape("circle",{attrs:c.mix({x:o.x,y:o.y,r:2,fill:r.color},r.style)})):a.draw(e,n);return s&&(s.set("origin",e.origin),s._id=e.splitedIndex?e._id+e.splitedIndex:e._id,s.name=this.name),s},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});r.registerShape("area","area",{draw:function(t,e){var n=a(t),r=s(t,!1,this);return e.addShape("path",{attrs:c.mix(n,{path:r})})},getMarkerCfg:f}),r.registerShape("area","smooth",{draw:function(t,e){var n=a(t),r=this._coord;t.constraint=[[r.start.x,r.end.y],[r.end.x,r.start.y]];var i=s(t,!0,this);return e.addShape("path",{attrs:c.mix(n,{path:i})})},getMarkerCfg:f}),r.registerShape("area","line",{draw:function(t,e){var n=o(t),r=s(t,!1,this);return e.addShape("path",{attrs:c.mix(n,{path:r})})},getMarkerCfg:f}),r.registerShape("area","smoothLine",{draw:function(t,e){var n=o(t),r=s(t,!0,this);return e.addShape("path",{attrs:c.mix(n,{path:r})})},getMarkerCfg:f}),h.spline=h.smooth,t.exports=h},function(t,e,n){var r=n(552),l=n(530);n(1102);var i=function(c){var t,e;function n(){return c.apply(this,arguments)||this}e=c,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var r=n.prototype;return r.getDefaultCfg=function(){var t=c.prototype.getDefaultCfg.call(this);return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t},r.createShapePointsCfg=function(t){var e,n,r,i,o,a=c.prototype.createShapePointsCfg.call(this,t),s=a.x,u=a.y;return l.isArray(s)&&l.isArray(u)||(n=this.getXScale(),r=this.getYScale(),i=.5/(n.values?n.values.length:n.ticks.length),o=.5/(r.values?r.values.length:r.ticks.length),n.isCategory&&r.isCategory?(s=[s-i,s-i,s+i,s+i],u=[u-o,u+o,u+o,u-o]):l.isArray(s)?(s=[(e=s)[0],e[0],e[1],e[1]],u=[u-o/2,u+o/2,u+o/2,u-o/2]):l.isArray(u)&&(u=[(e=u)[0],e[1],e[1],e[0]],s=[s-i/2,s-i/2,s+i/2,s+i/2]),a.x=s,a.y=u),a},n}(r);r.Polygon=i,t.exports=i},function(t,e,n){var s=n(530),r=n(553),u=n(567),c=n(542);function i(t){var e=c.shape.polygon,n=s.mix({},e,t.style);return u.addFillAttrs(n,t),n}function l(t){for(var e=t[0],n=1,r=[["M",e.x,e.y]];n<t.length;){var i=t[n];i.x===t[n-1].x&&i.y===t[n-1].y||(r.push(["L",i.x,i.y]),i.x===e.x&&i.y===e.y&&n<t.length-1&&(e=t[n+1],r.push(["Z"]),r.push(["M",e.x,e.y]),n++)),n++}return s.isEqual(r[r.length-1],e)||r.push(["L",e.x,e.y]),r.push(["Z"]),r}var o=r.registerFactory("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(r){var i=[];return s.each(r.x,function(t,e){var n=r.y[e];i.push({x:t,y:n})}),i},getActiveCfg:function(t,e){var n=e.lineWidth||1;return"hollow"===t?{lineWidth:n+1}:{fillOpacity:(e.fillOpacity||e.opacity||1)-.08}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});r.registerShape("polygon","polygon",{draw:function(t,e){if(!s.isEmpty(t.points)){var n=i(t),r=l(t.points),r=this.parsePath(r);return e.addShape("path",{attrs:s.mix(n,{path:r})})}},getMarkerCfg:function(t){return s.mix({symbol:"square",radius:4},i(t))}}),r.registerShape("polygon","hollow",{draw:function(t,e){if(!s.isEmpty(t.points)){var n=(i=t,o=c.shape.hollowPolygon,a=s.mix({},o,i.style),u.addStrokeAttrs(a,i),a),r=l(t.points),r=this.parsePath(r);return e.addShape("path",{attrs:s.mix(n,{path:r})})}var i,o,a},getMarkerCfg:function(t){return s.mix({symbol:"square",radius:4},i(t))}}),t.exports=o},function(t,e,n){function r(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var i=n(552),o=n(530),a=n(672);n(1104);var s,u=function(n){r(e,n);var t=e.prototype;function e(t){var e=n.call(this,t)||this;return o.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e),a),e}return t.getDefaultCfg=function(){var t=n.prototype.getDefaultCfg.call(this);return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t},t.createShapePointsCfg=function(t){var e=n.prototype.createShapePointsCfg.call(this,t);return e.size=this.getNormalizedSize(t),e},t.clearInner=function(){n.prototype.clearInner.call(this),this.set("defaultSize",null)},e}(i),c=(r(l,s=u),l.prototype.getDefaultCfg=function(){var t=s.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"dodge"}],t},l);function l(){return s.apply(this,arguments)||this}u.Dodge=c,i.Schema=u,i.SchemaDodge=c,t.exports=u},function(t,e,n){var u=n(530),r=n(553),c=n(567),l=n(542);function f(t){u.isArray(t)||(t=[t]);var e=t[0],n=t[t.length-1],r=1<t.length?t[1]:e;return{min:e,max:n,min1:r,max1:3<t.length?t[3]:n,median:2<t.length?t[2]:r}}function i(t,e,n){var r,i,o,a=[],s=u.isArray(e)?[[t-n/2,(r=f(e)).max],[t+n/2,r.max],[t,r.max],[t,r.max1],[t-n/2,r.min1],[t-n/2,r.max1],[t+n/2,r.max1],[t+n/2,r.min1],[t,r.min1],[t,r.min],[t-n/2,r.min],[t+n/2,r.min],[t-n/2,r.median],[t+n/2,r.median]]:(e=e||.5,[[(r=f(t)).min,e-n/2],[r.min,e+n/2],[r.min,e],[r.min1,e],[r.min1,e-n/2],[r.min1,e+n/2],[r.max1,e+n/2],[r.max1,e-n/2],[r.max1,e],[r.max,e],[r.max,e-n/2],[r.max,e+n/2],[r.median,e-n/2],[r.median,e+n/2]]);return i=s,o=a,u.each(i,function(t){o.push({x:t[0],y:t[1]})}),a}function o(t,e,n){var r=function(t){u.isArray(t)||(t=[t]);var e=t.sort(function(t,e){return t<e?1:-1}),n=e.length;if(n<4)for(var r=e[n-1],i=0;i<4-n;i++)e.push(r);return e}(e);return[{x:t,y:r[0]},{x:t,y:r[1]},{x:t-n/2,y:r[2]},{x:t-n/2,y:r[1]},{x:t+n/2,y:r[1]},{x:t+n/2,y:r[2]},{x:t,y:r[2]},{x:t,y:r[3]}]}var a=r.registerFactory("schema",{defaultShapeType:"",getActiveCfg:function(t,e){if("box"===t)return{lineWidth:(e.lineWidth||1)+1};var n=e.fillOpacity||e.opacity||1;return{fillOpacity:n-.15,strokeOpacity:n-.15}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});r.registerShape("schema","box",{getPoints:function(t){return i(t.x,t.y,t.size)},draw:function(t,e){var n,r,i,o,a=(n=t,r=l.shape.schema,i=u.mix({},r,n.style),c.addStrokeAttrs(i,n),i),s=[["M",(o=t.points)[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x,o[10].y],["L",o[11].x,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]],s=this.parsePath(s);return e.addShape("path",{attrs:u.mix(a,{path:s})})},getMarkerCfg:function(t){return{symbol:function(t,e,n){var r=i(t,[e-6,e-3,e,e+3,e+6],n);return[["M",r[0].x+1,r[0].y],["L",r[1].x-1,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x+1,r[10].y],["L",r[11].x-1,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]},radius:6,lineWidth:1,stroke:t.color}}}),r.registerShape("schema","candle",{getPoints:function(t){return o(t.x,t.y,t.size)},draw:function(t,e){var n,r,i,o,a=(n=t,r=l.shape.schema,i=u.mix({},r,n.style),c.addFillAttrs(i,n),n.color&&(i.stroke=n.color||i.stroke),i),s=[["M",(o=t.points)[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]],s=this.parsePath(s);return e.addShape("path",{attrs:u.mix(a,{path:s})})},getMarkerCfg:function(t){return{symbol:function(t,e,n){var r=o(t,e=[e+7.5,e+3,e-3,e-7.5],n);return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]},lineWidth:1,stroke:t.color,fill:t.color,radius:6}}}),t.exports=a},function(t,e,n){var r=n(552);n(1106);var i,o,a,s=(a=i=r,(o=u).prototype=Object.create(a.prototype),(o.prototype.constructor=o).__proto__=a,u.prototype.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t},u);function u(){return i.apply(this,arguments)||this}r.Edge=s,t.exports=s},function(t,e,n){var m=n(530),r=n(553),i=n(567),o=n(542),a=n(572);function x(t){var e=o.shape.edge,n=m.mix({},e,t.style);return i.addStrokeAttrs(n,t),t.size&&(n.lineWidth=t.size),n}var s=r.registerFactory("edge",{defaultShapeType:"line",getDefaultPoints:function(t){return i.splitPoints(t)},getActiveCfg:function(t,e){return{lineWidth:(e.lineWidth||0)+1}}});function b(t,e){var n=[];n.push({x:t.x,y:.5*t.y+e.y/2}),n.push({y:.5*t.y+e.y/2,x:e.x}),n.push(e);var r=["C"];return m.each(n,function(t){r.push(t.x,t.y)}),r}function w(t,e){var n=[];n.push({x:e.x,y:e.y}),n.push(t);var r=["Q"];return m.each(n,function(t){r.push(t.x,t.y)}),r}r.registerShape("edge","line",{draw:function(t,e){var n=this.parsePoints(t.points),r=x(t),i=a.getLinePath(n);return e.addShape("path",{attrs:m.mix(r,{path:i})})},getMarkerCfg:function(t){return m.mix({symbol:"circle",radius:4.5},x(t))}}),r.registerShape("edge","vhv",{draw:function(t,e){var n=t.points,r=x(t),i=function(t,e){var n=[];n.push({y:t.y*(1-1/3)+e.y*(1/3),x:t.x}),n.push({y:t.y*(1-1/3)+e.y*(1/3),x:e.x}),n.push(e);var r=[["M",t.x,t.y]];return m.each(n,function(t){r.push(["L",t.x,t.y])}),r}(n[0],n[1]),i=this.parsePath(i);return e.addShape("path",{attrs:m.mix(r,{path:i})})},getMarkerCfg:function(t){return m.mix({symbol:"circle",radius:4.5},x(t))}}),r.registerShape("edge","smooth",{draw:function(t,e){var n,r,i,o,a=t.points,s=x(t),u=(n=a[0],r=a[1],i=b(n,r),(o=[["M",n.x,n.y]]).push(i),o),u=this.parsePath(u);return e.addShape("path",{attrs:m.mix(s,{path:u})})},getMarkerCfg:function(t){return m.mix({symbol:"circle",radius:4.5},x(t))}}),r.registerShape("edge","arc",{draw:function(t,e){var n,r,i,o,a,s,u,c,l,f,h,p,d,g=t.points,v=2<g.length?"weight":"normal",y=x(t);return t.isInCircle?(n={x:0,y:1},r="normal"==v?(f=g[0],h=g[1],p=w(h,n),(d=[["M",f.x,f.y]]).push(p),d):(y.fill=y.stroke,s=n,u=w((a=g)[1],s),c=w(a[3],s),(l=[["M",a[0].x,a[0].y]]).push(c),l.push(["L",a[3].x,a[3].y]),l.push(["L",a[2].x,a[2].y]),l.push(u),l.push(["L",a[1].x,a[1].y]),l.push(["L",a[0].x,a[0].y]),l.push(["Z"]),l),r=this.parsePath(r),e.addShape("path",{attrs:m.mix(y,{path:r})})):"normal"==v?(g=this.parsePoints(g),e.addShape("arc",{attrs:m.mix(y,{x:(g[1].x+g[0].x)/2,y:g[0].y,r:Math.abs(g[1].x-g[0].x)/2,startAngle:Math.PI,endAngle:2*Math.PI})})):(r=[["M",g[0].x,g[0].y],["L",g[1].x,g[1].y]],i=b(g[1],g[3]),o=b(g[2],g[0]),r.push(i),r.push(["L",g[3].x,g[3].y]),r.push(["L",g[2].x,g[2].y]),r.push(o),r.push(["Z"]),r=this.parsePath(r),y.fill=y.stroke,e.addShape("path",{attrs:m.mix(y,{path:r})}))},getMarkerCfg:function(t){return m.mix({symbol:"circle",radius:4.5},x(t))}}),t.exports=s},function(t,e,n){var s=n(667).ColorUtil,r=n(552),o=n(530),m="_origin",a="shadowCanvas",u="valueRange",c="imageShape",x="mappedData",l="grayScaleBlurredCanvas",b="heatmapSize",i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="heatmap",t.paletteCache={},t},i._prepareRange=function(){var t=this.get(x),n=this.getAttr("color").field,r=1/0,i=-1/0;t.forEach(function(t){var e=t[m][n];i<e&&(i=e),e<r&&(r=e)}),r===i&&(r=i-1);var e=[r,i];this.set(u,e)},i._prepareSize=function(){var t=this.getDefaultValue("size");o.isNumber(t)||(t=this._getDefaultSize());var e=this.get("styleOptions"),n=e&&o.isObject(e.style)?e.style.blur:null;o.isFinite(n)&&null!==n||(n=t/2),this.set(b,{blur:n,radius:t})},i._getDefaultSize=function(){var t=this.getAttr("position"),e=this.get("coord");return Math.min(e.width/(4*t.scales[0].ticks.length),e.height/(4*t.scales[1].ticks.length))},i._colorize=function(t){for(var e=this.getAttr("color"),n=t.data,r=this.get("paletteCache"),i=3;i<n.length;i+=4){var o,a=n[i];a&&(o=void 0,r[a]?o=r[a]:(o=s.rgb2arr(e.gradient(a/256)),r[a]=o),n[i-3]=o[0],n[i-2]=o[1],n[i-1]=o[2],n[i]=a)}},i._prepareGreyScaleBlurredCircle=function(t,e){var n=this.get(l);n||(n=document.createElement("canvas"),this.set(l,n));var r=t+e,i=n.getContext("2d");n.width=n.height=2*r,i.clearRect(0,0,n.width,n.height),i.shadowOffsetX=i.shadowOffsetY=2*r,i.shadowBlur=e,i.shadowColor="black",i.beginPath(),i.arc(-r,-r,t,0,2*Math.PI,!0),i.closePath(),i.fill()},i._drawGrayScaleBlurredCircle=function(t,e,n,r,i){var o=this.get(l);i.globalAlpha=r,i.drawImage(o,t-n,e-n)},i._getShadowCanvasCtx=function(){var t=this.get(a);t||(t=document.createElement("canvas"),this.set(a,t));var e=this.get("coord");return e&&(t.width=e.width,t.height=e.height),t.getContext("2d")},i._clearShadowCanvasCtx=function(){var t=this._getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},i._getImageShape=function(){if(t=this.get(c))return t;var t=this.get("container").addShape("Image",{});return this.set(c,t),t},i.clear=function(){this._clearShadowCanvasCtx(),e.prototype.clear.call(this)},i.drawWithRange=function(e){var t=this,n=t.get("coord"),r=n.start,i=n.end,o=n.width,a=n.height,s=t.getAttr("color").field,u=t.get(b);t._clearShadowCanvasCtx();var c=t._getShadowCanvasCtx(),l=t.get(x);e&&(l=l.filter(function(t){return t[m][s]<=e[1]&&t[m][s]>=e[0]}));for(var f=t._getScale(s),h=0;h<l.length;h++){var p=l[h],d=t.getDrawCfg(p),g=f.scale(p[m][s]);t._drawGrayScaleBlurredCircle(d.x-r.x,d.y-i.y,u.radius+u.blur,g,c)}var v=c.getImageData(0,0,o,a);t._clearShadowCanvasCtx(),t._colorize(v),c.putImageData(v,0,0);var y=t._getImageShape();y.attr("x",r.x),y.attr("y",i.y),y.attr("width",o),y.attr("height",a),y.attr("img",c.canvas)},i.draw=function(t){this.set(x,t),this._prepareRange(),this._prepareSize();var e=this.get(b);this._prepareGreyScaleBlurredCircle(e.radius,e.blur);var n=this.get(u);this.drawWithRange(n)},r}(r);r.Heatmap=i,t.exports=i},function(t,e,n){var r=n(552),g=n(530),i=n(1109),v=i.venn,y=i.scaleSolution,m=i.circlePath,x=i.intersectionAreaPath,b=i.computeTextCentres;n(1110);var o=function(d){var t,e;function n(){return d.apply(this,arguments)||this}e=d,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var r=n.prototype;return r.getDefaultCfg=function(){var t=d.prototype.getDefaultCfg.call(this);return t.type="venn",t.shapeType="venn",t.generatePoints=!1,t},r._getAttrValues=function(t,e){return"position"===t.type?[e.x,e.y]:d.prototype._getAttrValues.call(this,t,e)},r.sets=function(t){return this.set("setsField",t),this},r._initAttrs=function(){d.prototype._initAttrs.call(this);var t=this.get("attrOptions"),e=this.get("setsField")||"sets",n=this.get("data"),r=t.size?t.size.field:"size";n.forEach(function(t){t.sets=t[e],t._sets=t[e].join("&"),t.size=t[r]});var i=v(n),o=this.get("coord"),a=[Math.min(o.x.end,o.x.start),Math.max(o.x.end,o.x.start)],s=[Math.min(o.y.end,o.y.start),Math.max(o.y.end,o.y.start)],u=a[1]-a[0],c=s[1]-s[0],l=this.get("styleOptions"),f=l&&g.isObject(l.style)?l.style.padding:0;g.isFinite(f)||(f=0);var h=y(i,u,c,f),p=b(h,n);n.forEach(function(t){var e,n,r,i,o=t.sets,a=o.join(",");t.id=a,1===o.length?(e=h[a],t.path=m(e.x,e.y,e.radius),g.assign(t,e)):(n=o.map(function(t){return h[t]}),r=x(n),/[zZ]$/.test(r)||(r+="Z"),t.path=r,i=p[a]||{x:0,y:0},g.assign(t,i))})},n}(r);r.Venn=o,t.exports=o},function(t,e,n){!function(t,j){"use strict";var S=1e-10;function h(e,t){var n=E(e);var r=n.filter(function(t){return M(t,e)});var i=0,o=0,a=[],s;if(r.length>1){var u=k(r);for(s=0;s<r.length;++s){var c=r[s];c.angle=Math.atan2(c.x-u.x,c.y-u.y)}r.sort(function(t,e){return e.angle-t.angle});var l=r[r.length-1];for(s=0;s<r.length;++s){var f=r[s];o+=(l.x+f.x)*(f.y-l.y);var h={x:(f.x+l.x)/2,y:(f.y+l.y)/2},p=null;for(var d=0;d<f.parentIndex.length;++d){if(l.parentIndex.indexOf(f.parentIndex[d])>-1){var g=e[f.parentIndex[d]],v=Math.atan2(f.x-g.x,f.y-g.y),y=Math.atan2(l.x-g.x,l.y-g.y);var m=y-v;if(m<0){m+=2*Math.PI}var x=y-m/2,b=P(h,{x:g.x+g.radius*Math.sin(x),y:g.y+g.radius*Math.cos(x)});if(b>g.radius*2){b=g.radius*2}if(p===null||p.width>b){p={circle:g,width:b,p1:f,p2:l}}}}if(p!==null){a.push(p);i+=C(p.circle.radius,p.width);l=f}}}else{var w=e[0];for(s=1;s<e.length;++s){if(e[s].radius<w.radius){w=e[s]}}var _=false;for(s=0;s<e.length;++s){if(P(e[s],w)>Math.abs(w.radius-e[s].radius)){_=true;break}}if(_){i=o=0}else{i=w.radius*w.radius*Math.PI;a.push({circle:w,p1:{x:w.x,y:w.y+w.radius},p2:{x:w.x-S,y:w.y+w.radius},width:w.radius*2})}}o/=2;if(t){t.area=i+o;t.arcArea=i;t.polygonArea=o;t.arcs=a;t.innerPoints=r;t.intersectionPoints=n}return i+o}function M(t,e){for(var n=0;n<e.length;++n){if(P(t,e[n])>e[n].radius+S){return false}}return true}function E(t){var e=[];for(var n=0;n<t.length;++n){for(var r=n+1;r<t.length;++r){var i=I(t[n],t[r]);for(var o=0;o<i.length;++o){var a=i[o];a.parentIndex=[n,r];e.push(a)}}}return e}function C(t,e){return t*t*Math.acos(1-e/t)-(t-e)*Math.sqrt(e*(2*t-e))}function P(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))}function l(t,e,n){if(n>=t+e){return 0}if(n<=Math.abs(t-e)){return Math.PI*Math.min(t,e)*Math.min(t,e)}var r=t-(n*n-e*e+t*t)/(2*n),i=e-(n*n-t*t+e*e)/(2*n);return C(t,r)+C(e,i)}function I(t,e){var n=P(t,e),r=t.radius,i=e.radius;if(n>=r+i||n<=Math.abs(r-i)){return[]}var o=(r*r-i*i+n*n)/(2*n),a=Math.sqrt(r*r-o*o),s=t.x+o*(e.x-t.x)/n,u=t.y+o*(e.y-t.y)/n,c=-(e.y-t.y)*(a/n),l=-(e.x-t.x)*(a/n);return[{x:s+c,y:u-l},{x:s-c,y:u+l}]}function k(t){var e={x:0,y:0};for(var n=0;n<t.length;++n){e.x+=t[n].x;e.y+=t[n].y}e.x/=t.length;e.y/=t.length;return e}function i(t,e,n,r){r=r||{};var i=r.maxIterations||100,o=r.tolerance||1e-10,a=t(e),s=t(n),u=n-e;if(a*s>0){throw"Initial bisect points must have opposite signs"}if(a===0)return e;if(s===0)return n;for(var c=0;c<i;++c){u/=2;var l=e+u,f=t(l);if(f*a>=0){e=l}if(Math.abs(u)<o||f===0){return l}}return e+u}function m(t){var e=new Array(t);for(var n=0;n<t;++n){e[n]=0}return e}function e(t,e){return m(t).map(function(){return m(e)})}function g(t,e){var n=0;for(var r=0;r<t.length;++r){n+=t[r]*e[r]}return n}function x(t){return Math.sqrt(g(t,t))}function b(t,e,n){for(var r=0;r<e.length;++r){t[r]=e[r]*n}}function A(t,e,n,r,i){for(var o=0;o<t.length;++o){t[o]=e*n[o]+r*i[o]}}function p(t,e,n){n=n||{};var r=n.maxIterations||e.length*200,i=n.nonZeroDelta||1.05,o=n.zeroDelta||.001,a=n.minErrorDelta||1e-6,s=n.minErrorDelta||1e-5,u=n.rho!==undefined?n.rho:1,c=n.chi!==undefined?n.chi:2,l=n.psi!==undefined?n.psi:-.5,f=n.sigma!==undefined?n.sigma:.5,h;var p=e.length,d=new Array(p+1);d[0]=e;d[0].fx=t(e);d[0].id=0;for(var g=0;g<p;++g){var v=e.slice();v[g]=v[g]?v[g]*i:o;d[g+1]=v;d[g+1].fx=t(v);d[g+1].id=g+1}function y(t){for(var e=0;e<t.length;e++){d[p][e]=t[e]}d[p].fx=t.fx}var m=function(t,e){return t.fx-e.fx};var x=e.slice(),b=e.slice(),w=e.slice(),_=e.slice();for(var S=0;S<r;++S){d.sort(m);if(n.history){var M=d.map(function(t){var e=t.slice();e.fx=t.fx;e.id=t.id;return e});M.sort(function(t,e){return t.id-e.id});n.history.push({x:d[0].slice(),fx:d[0].fx,simplex:M})}h=0;for(g=0;g<p;++g){h=Math.max(h,Math.abs(d[0][g]-d[1][g]))}if(Math.abs(d[0].fx-d[p].fx)<a&&h<s){break}for(g=0;g<p;++g){x[g]=0;for(var E=0;E<p;++E){x[g]+=d[E][g]}x[g]/=p}var C=d[p];A(b,1+u,x,-u,C);b.fx=t(b);if(b.fx<d[0].fx){A(_,1+c,x,-c,C);_.fx=t(_);if(_.fx<b.fx){y(_)}else{y(b)}}else if(b.fx>=d[p-1].fx){var P=false;if(b.fx>C.fx){A(w,1+l,x,-l,C);w.fx=t(w);if(w.fx<C.fx){y(w)}else{P=true}}else{A(w,1-l*u,x,l*u,C);w.fx=t(w);if(w.fx<b.fx){y(w)}else{P=true}}if(P){if(f>=1)break;for(g=1;g<d.length;++g){A(d[g],1-f,d[0],f,d[g]);d[g].fx=t(d[g])}}}else{y(b)}}d.sort(m);return{fx:d[0].fx,x:d[0]}}function d(i,o,a,s,u,c,l){var f=a.fx,h=g(a.fxprime,o),p=f,t=f,d=h,e=0;u=u||1;c=c||1e-6;l=l||.1;function n(t,e,n){for(var r=0;r<16;++r){u=(t+e)/2;A(s.x,1,a.x,u,o);p=s.fx=i(s.x,s.fxprime);d=g(s.fxprime,o);if(p>f+c*u*h||p>=n){e=u}else{if(Math.abs(d)<=-l*h){return u}if(d*(e-t)>=0){e=t}t=u;n=p}}return 0}for(var r=0;r<10;++r){A(s.x,1,a.x,u,o);p=s.fx=i(s.x,s.fxprime);d=g(s.fxprime,o);if(p>f+c*u*h||r&&p>=t){return n(e,u,t)}if(Math.abs(d)<=-l*h){return u}if(d>=0){return n(u,e,p)}t=p;e=u;u*=2}return u}function w(t,e,n){var r={x:e.slice(),fx:0,fxprime:e.slice()},i={x:e.slice(),fx:0,fxprime:e.slice()},o=e.slice(),a,s,u=1,c;n=n||{};c=n.maxIterations||e.length*20;r.fx=t(r.x,r.fxprime);a=r.fxprime.slice();b(a,r.fxprime,-1);for(var l=0;l<c;++l){u=d(t,a,r,i,u);if(n.history){n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:u})}if(!u){b(a,r.fxprime,-1)}else{A(o,1,i.fxprime,-1,r.fxprime);var f=g(r.fxprime,r.fxprime),h=Math.max(0,g(o,i.fxprime)/f);A(a,h,a,-1,i.fxprime);s=r;r=i;i=s}if(x(r.fxprime)<=1e-5){break}}if(n.history){n.history.push({x:r.x.slice(),fx:r.fx,fxprime:r.fxprime.slice(),alpha:u})}return r}function o(i,t){t=t||{};t.maxIterations=t.maxIterations||500;var e=t.initialLayout||v;var o=t.lossFunction||D;i=f(i);var a=e(i,t);var n=[],s=[],r;for(r in a){if(a.hasOwnProperty(r)){n.push(a[r].x);n.push(a[r].y);s.push(r)}}var u=p(function(t){var e={};for(var n=0;n<s.length;++n){var r=s[n];e[r]={x:t[2*n],y:t[2*n+1],radius:a[r].radius}}return o(e,i)},n,t);var c=u.x;for(var l=0;l<s.length;++l){r=s[l];a[r].x=c[2*l];a[r].y=c[2*l+1]}return a}var R=1e-10;function L(e,n,r){if(Math.min(e,n)*Math.min(e,n)*Math.PI<=r+R){return Math.abs(e-n)}return i(function(t){return l(e,n,t)-r},0,e+n)}function f(t){t=t.slice();var e=[],n={},r,i,o,a;for(r=0;r<t.length;++r){var s=t[r];if(s.sets.length==1){e.push(s.sets[0])}else if(s.sets.length==2){o=s.sets[0];a=s.sets[1];n[[o,a]]=true;n[[a,o]]=true}}e.sort(function(t,e){return t>e});for(r=0;r<e.length;++r){o=e[r];for(i=r+1;i<e.length;++i){a=e[i];if(!([o,a]in n)){t.push({sets:[o,a],size:0})}}}return t}function _(t,s,u){var c=e(s.length,s.length),l=e(s.length,s.length);t.filter(function(t){return t.sets.length==2}).map(function(t){var e=u[t.sets[0]],n=u[t.sets[1]],r=Math.sqrt(s[e].size/Math.PI),i=Math.sqrt(s[n].size/Math.PI),o=L(r,i,t.size);c[e][n]=c[n][e]=o;var a=0;if(t.size+1e-10>=Math.min(s[e].size,s[n].size)){a=1}else if(t.size<=1e-10){a=-1}l[e][n]=l[n][e]=a});return{distances:c,constraints:l}}function T(t,e,n,r){var i=0,o;for(o=0;o<e.length;++o){e[o]=0}for(o=0;o<n.length;++o){var a=t[2*o],s=t[2*o+1];for(var u=o+1;u<n.length;++u){var c=t[2*u],l=t[2*u+1],f=n[o][u],h=r[o][u];var p=(c-a)*(c-a)+(l-s)*(l-s),d=Math.sqrt(p),g=p-f*f;if(h>0&&d<=f||h<0&&d>=f){continue}i+=2*g*g;e[2*o]+=4*g*(a-c);e[2*o+1]+=4*g*(s-l);e[2*u]+=4*g*(c-a);e[2*u+1]+=4*g*(l-s)}}return i}function v(t,e){var n=u(t,e);var r=e.lossFunction||D;if(t.length>=8){var i=s(t,e),o=r(i,t),a=r(n,t);if(o+1e-8<a){n=i}}return n}function s(t,e){e=e||{};var n=e.restarts||10;var r=[],i={},o;for(o=0;o<t.length;++o){var a=t[o];if(a.sets.length==1){i[a.sets[0]]=r.length;r.push(a)}}var s=_(t,r,i),u=s.distances,c=s.constraints;var l=x(u.map(x))/u.length;u=u.map(function(t){return t.map(function(t){return t/l})});var f=function(t,e){return T(t,e,u,c)};var h,p;for(o=0;o<n;++o){var d=m(u.length*2).map(Math.random);p=w(f,d,e);if(!h||p.fx<h.fx){h=p}}var g=h.x;var v={};for(o=0;o<r.length;++o){var y=r[o];v[y.sets[0]]={x:g[2*o]*l,y:g[2*o+1]*l,radius:Math.sqrt(y.size/Math.PI)}}if(e.history){for(o=0;o<e.history.length;++o){b(e.history[o].x,l)}}return v}function u(t,e){var n=e&&e.lossFunction?e.lossFunction:D;var r={},i={},o;for(var a=0;a<t.length;++a){var s=t[a];if(s.sets.length==1){o=s.sets[0];r[o]={x:1e10,y:1e10,rowid:r.length,size:s.size,radius:Math.sqrt(s.size/Math.PI)};i[o]=[]}}t=t.filter(function(t){return t.sets.length==2});for(a=0;a<t.length;++a){var u=t[a];var c=u.hasOwnProperty("weight")?u.weight:1;var l=u.sets[0],f=u.sets[1];if(u.size+R>=Math.min(r[l].size,r[f].size)){c=0}i[l].push({set:f,size:u.size,weight:c});i[f].push({set:l,size:u.size,weight:c})}var h=[];for(o in i){if(i.hasOwnProperty(o)){var p=0;for(a=0;a<i[o].length;++a){p+=i[o][a].size*i[o][a].weight}h.push({set:o,size:p})}}function d(t,e){return e.size-t.size}h.sort(d);var g={};function v(t){return t.set in g}function y(t,e){r[e].x=t.x;r[e].y=t.y;g[e]=true}y({x:0,y:0},h[0].set);for(a=1;a<h.length;++a){var m=h[a].set,x=i[m].filter(v);o=r[m];x.sort(d);if(x.length===0){throw"ERROR: missing pairwise overlap information"}var b=[];for(var w=0;w<x.length;++w){var _=r[x[w].set],S=L(o.radius,_.radius,x[w].size);b.push({x:_.x+S,y:_.y});b.push({x:_.x-S,y:_.y});b.push({y:_.y+S,x:_.x});b.push({y:_.y-S,x:_.x});for(var M=w+1;M<x.length;++M){var E=r[x[M].set],C=L(o.radius,E.radius,x[M].size);var P=I({x:_.x,y:_.y,radius:S},{x:E.x,y:E.y,radius:C});for(var k=0;k<P.length;++k){b.push(P[k])}}}var A=1e50,T=b[0];for(w=0;w<b.length;++w){r[m].x=b[w].x;r[m].y=b[w].y;var O=n(r,t);if(O<A){A=O;T=b[w]}}y(T,m)}return r}function D(e,t){var n=0;function r(t){return t.map(function(t){return e[t]})}for(var i=0;i<t.length;++i){var o=t[i],a;if(o.sets.length==1){continue}else if(o.sets.length==2){var s=e[o.sets[0]],u=e[o.sets[1]];a=l(s.radius,u.radius,P(s,u))}else{a=h(r(o.sets))}var c=o.hasOwnProperty("weight")?o.weight:1;n+=c*(a-o.size)*(a-o.size)}return n}function y(t,e,n){if(n===null){t.sort(function(t,e){return e.radius-t.radius})}else{t.sort(n)}var r;if(t.length>0){var i=t[0].x,o=t[0].y;for(r=0;r<t.length;++r){t[r].x-=i;t[r].y-=o}}if(t.length==2){var a=P(t[0],t[1]);if(a<Math.abs(t[1].radius-t[0].radius)){t[1].x=t[0].x+t[0].radius-t[1].radius-1e-10;t[1].y=t[0].y}}if(t.length>1){var s=Math.atan2(t[1].x,t[1].y)-e,u=Math.cos(s),c=Math.sin(s),l,f;for(r=0;r<t.length;++r){l=t[r].x;f=t[r].y;t[r].x=u*l-c*f;t[r].y=c*l+u*f}}if(t.length>2){var h=Math.atan2(t[2].x,t[2].y)-e;while(h<0){h+=2*Math.PI}while(h>2*Math.PI){h-=2*Math.PI}if(h>Math.PI){var p=t[1].y/(1e-10+t[1].x);for(r=0;r<t.length;++r){var d=(t[r].x+p*t[r].y)/(1+p*p);t[r].x=2*d-t[r].x;t[r].y=2*d*p-t[r].y}}}}function O(t){t.map(function(t){t.parent=t});function i(t){if(t.parent!==t){t.parent=i(t.parent)}return t.parent}function e(t,e){var n=i(t),r=i(e);n.parent=r}for(var n=0;n<t.length;++n){for(var r=n+1;r<t.length;++r){var o=t[n].radius+t[r].radius;if(P(t[n],t[r])+1e-10<o){e(t[r],t[n])}}}var a={},s;for(n=0;n<t.length;++n){s=i(t[n]).parent.setid;if(!(s in a)){a[s]=[]}a[s].push(t[n])}t.map(function(t){delete t.parent});var u=[];for(s in a){if(a.hasOwnProperty(s)){u.push(a[s])}}return u}function B(r){var t=function(e){var t=Math.max.apply(null,r.map(function(t){return t[e]+t.radius})),n=Math.min.apply(null,r.map(function(t){return t[e]-t.radius}));return{max:t,min:n}};return{xRange:t("x"),yRange:t("y")}}function F(t,e,n){if(e===null){e=Math.PI/2}var u=[],r,i;for(i in t){if(t.hasOwnProperty(i)){var o=t[i];u.push({x:o.x,y:o.y,radius:o.radius,setid:i})}}var a=O(u);for(r=0;r<a.length;++r){y(a[r],e,n);var s=B(a[r]);a[r].size=(s.xRange.max-s.xRange.min)*(s.yRange.max-s.yRange.min);a[r].bounds=s}a.sort(function(t,e){return e.size-t.size});u=a[0];var c=u.bounds;var l=(c.xRange.max-c.xRange.min)/50;function f(t,e,n){if(!t)return;var r=t.bounds,i,o,a;if(e){i=c.xRange.max-r.xRange.min+l}else{i=c.xRange.max-r.xRange.max;a=(r.xRange.max-r.xRange.min)/2-(c.xRange.max-c.xRange.min)/2;if(a<0)i+=a}if(n){o=c.yRange.max-r.yRange.min+l}else{o=c.yRange.max-r.yRange.max;a=(r.yRange.max-r.yRange.min)/2-(c.yRange.max-c.yRange.min)/2;if(a<0)o+=a}for(var s=0;s<t.length;++s){t[s].x+=i;t[s].y+=o;u.push(t[s])}}var h=1;while(h<a.length){f(a[h],true,false);f(a[h+1],false,true);f(a[h+2],true,true);h+=3;c=B(u)}var p={};for(r=0;r<u.length;++r){p[u[r].setid]=u[r]}return p}function N(t,e,n,r){var i=[],o=[];for(var a in t){if(t.hasOwnProperty(a)){o.push(a);i.push(t[a])}}e-=2*r;n-=2*r;var s=B(i),u=s.xRange,c=s.yRange;if(u.max==u.min||c.max==c.min){console.log("not scaling solution: zero size detected");return t}var l=e/(u.max-u.min),f=n/(c.max-c.min),h=Math.min(f,l),p=(e-(u.max-u.min)*h)/2,d=(n-(c.max-c.min)*h)/2;var g={};for(var v=0;v<i.length;++v){var y=i[v];g[o[v]]={radius:h*y.radius,x:r+p+(y.x-u.min)*h,y:r+d+(y.y-c.min)*h}}return g}function n(){var b=600,w=350,_=15,S=1e3,M=Math.PI/2,E=true,C=true,P=true,k=null,A=null,n={},r=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],i=0,T=function(t){if(t in n){return n[t]}var e=n[t]=r[i];i+=1;if(i>=r.length){i=0}return e},O=o,I=D;function e(t){var e=t.datum();var n={};e.forEach(function(t){if(t.size==0&&t.sets.length==1){n[t.sets[0]]=1}});e=e.filter(function(t){return!t.sets.some(function(t){return t in n})});var i={};var r={};if(e.length>0){var o=O(e,{lossFunction:I});if(E){o=F(o,M,A)}i=N(o,b,w,_);r=H(i,e)}var a={};e.forEach(function(t){if(t.label){a[t.sets]=t.label}});function s(t){if(t.sets in a){return a[t.sets]}if(t.sets.length==1){return""+t.sets[0]}}t.selectAll("svg").data([i]).enter().append("svg");var u=t.select("svg").attr("width",b).attr("height",w);var c={},l=false;u.selectAll(".venn-area path").each(function(t){var e=j.select(this).attr("d");if(t.sets.length==1&&e){l=true;c[t.sets[0]]=q(e)}});var f=function(e){return function(r){var t=e.sets.map(function(t){var e=c[t],n=i[t];if(!e){e={x:b/2,y:w/2,radius:1}}if(!n){n={x:b/2,y:w/2,radius:1}}return{x:e.x*(1-r)+n.x*r,y:e.y*(1-r)+n.y*r,radius:e.radius*(1-r)+n.radius*r}});return W(t)}};var h=u.selectAll(".venn-area").data(e,function(t){return t.sets});var p=h.enter().append("g").attr("class",function(t){return"venn-area venn-"+(t.sets.length==1?"circle":"intersection")}).attr("data-venn-sets",function(t){return t.sets.join("_")});var d=p.append("path"),g=p.append("text").attr("class","label").text(function(t){return s(t)}).attr("text-anchor","middle").attr("dy",".35em").attr("x",b/2).attr("y",w/2);if(P){d.style("fill-opacity","0").filter(function(t){return t.sets.length==1}).style("fill",function(t){return T(t.sets)}).style("fill-opacity",".25");g.style("fill",function(t){return t.sets.length==1?T(t.sets):"#444"})}var v=t;if(l){v=t.transition("venn").duration(S);v.selectAll("path").attrTween("d",f)}else{v.selectAll("path").attr("d",function(t){return W(t.sets.map(function(t){return i[t]}))})}var y=v.selectAll("text").filter(function(t){return t.sets in r}).text(function(t){return s(t)}).attr("x",function(t){return Math.floor(r[t.sets].x)}).attr("y",function(t){return Math.floor(r[t.sets].y)});if(C){if(l){if("on"in y){y.on("end",z(i,s))}else{y.each("end",z(i,s))}}else{y.each(z(i,s))}}var m=h.exit().transition("venn").duration(S).remove();m.selectAll("path").attrTween("d",f);var x=m.selectAll("text").attr("x",b/2).attr("y",w/2);if(k!==null){g.style("font-size","0px");y.style("font-size",k);x.style("font-size","0px")}return{circles:i,textCentres:r,nodes:h,enter:p,update:v,exit:m}}e.wrap=function(t){if(!arguments.length)return C;C=t;return e};e.width=function(t){if(!arguments.length)return b;b=t;return e};e.height=function(t){if(!arguments.length)return w;w=t;return e};e.padding=function(t){if(!arguments.length)return _;_=t;return e};e.colours=function(t){if(!arguments.length)return T;T=t;return e};e.fontSize=function(t){if(!arguments.length)return k;k=t;return e};e.duration=function(t){if(!arguments.length)return S;S=t;return e};e.layoutFunction=function(t){if(!arguments.length)return O;O=t;return e};e.normalize=function(t){if(!arguments.length)return E;E=t;return e};e.styled=function(t){if(!arguments.length)return P;P=t;return e};e.orientation=function(t){if(!arguments.length)return M;M=t;return e};e.orientationOrder=function(t){if(!arguments.length)return A;A=t;return e};e.lossFunction=function(t){if(!arguments.length)return I;I=t;return e};return e}function z(v,y){return function(){var t=j.select(this),e=t.datum(),n=v[e.sets[0]].radius||50,r=y(e)||"";var i=r.split(/\s+/).reverse(),o=3,a=(r.length+i.length)/o,s=i.pop(),u=[s],c,l=0,f=1.1,h=t.text(null).append("tspan").text(s);while(true){s=i.pop();if(!s)break;u.push(s);c=u.join(" ");h.text(c);if(c.length>a&&h.node().getComputedTextLength()>n){u.pop();h.text(u.join(" "));u=[s];h=t.append("tspan").text(s);l++}}var p=.35-l*f/2,d=t.attr("x"),g=t.attr("y");t.selectAll("tspan").attr("x",d).attr("y",g).attr("dy",function(t,e){return p+e*f+"em"})}}function G(t,e,n){var r=e[0].radius-P(e[0],t),i,o;for(i=1;i<e.length;++i){o=e[i].radius-P(e[i],t);if(o<=r){r=o}}for(i=0;i<n.length;++i){o=P(n[i],t)-n[i].radius;if(o<=r){r=o}}return r}function V(e,n){var t=[],r;for(r=0;r<e.length;++r){var i=e[r];t.push({x:i.x,y:i.y});t.push({x:i.x+i.radius/2,y:i.y});t.push({x:i.x-i.radius/2,y:i.y});t.push({x:i.x,y:i.y+i.radius/2});t.push({x:i.x,y:i.y-i.radius/2})}var o=t[0],a=G(t[0],e,n);for(r=1;r<t.length;++r){var s=G(t[r],e,n);if(s>=a){o=t[r];a=s}}var u=p(function(t){return-1*G({x:t[0],y:t[1]},e,n)},[o.x,o.y],{maxIterations:500,minErrorDelta:1e-10}).x;var c={x:u[0],y:u[1]};var l=true;for(r=0;r<e.length;++r){if(P(c,e[r])>e[r].radius){l=false;break}}for(r=0;r<n.length;++r){if(P(c,n[r])<n[r].radius){l=false;break}}if(!l){if(e.length==1){c={x:e[0].x,y:e[0].y}}else{var f={};h(e,f);if(f.arcs.length===0){c={x:0,y:-1e3,disjoint:true}}else if(f.arcs.length==1){c={x:f.arcs[0].circle.x,y:f.arcs[0].circle.y}}else if(n.length){c=V(e,[])}else{c=k(f.arcs.map(function(t){return t.p1}))}}}return c}function Y(t){var e={},n=[];for(var r in t){n.push(r);e[r]=[]}for(var i=0;i<n.length;i++){var o=t[n[i]];for(var a=i+1;a<n.length;++a){var s=t[n[a]],u=P(o,s);if(u+s.radius<=o.radius+1e-10){e[n[a]].push(n[i])}else if(u+o.radius<=s.radius+1e-10){e[n[i]].push(n[a])}}}return e}function H(t,e){var n={},r=Y(t);for(var i=0;i<e.length;++i){var o=e[i].sets,a={},s={};for(var u=0;u<o.length;++u){a[o[u]]=true;var c=r[o[u]];for(var l=0;l<c.length;++l){s[c[l]]=true}}var f=[],h=[];for(var p in t){if(p in a){f.push(t[p])}else if(!(p in s)){h.push(t[p])}}var d=V(f,h);n[o]=d;if(d.disjoint&&e[i].size>0){console.log("WARNING: area "+o+" not represented on screen")}}return n}function r(t,n){var e=Y(t.selectAll("svg").datum());var r={};for(var i=0;i<n.sets.length;++i){var o=n.sets[i];for(var a in e){var s=e[a];for(var u=0;u<s.length;++u){if(s[u]==o){r[a]=true;break}}}}function c(t){for(var e=0;e<t.length;++e){if(!(t[e]in r)){return false}}return true}t.selectAll("g").sort(function(t,e){if(t.sets.length!=e.sets.length){return t.sets.length-e.sets.length}if(t==n){return c(e.sets)?-1:1}if(e==n){return c(t.sets)?1:-1}return e.size-t.size})}function c(t,e,n){var r=[];r.push("\nM",t,e);r.push("\nm",-n,0);r.push("\na",n,n,0,1,0,n*2,0);r.push("\na",n,n,0,1,0,-n*2,0);return r.join(" ")}function q(t){var e=t.split(" ");return{x:parseFloat(e[1]),y:parseFloat(e[2]),radius:-parseFloat(e[4])}}function W(t){var e={};h(t,e);var n=e.arcs;if(n.length===0){return"M 0 0"}else if(n.length==1){var r=n[0].circle;return c(r.x,r.y,r.radius)}else{var i=["\nM",n[0].p2.x,n[0].p2.y];for(var o=0;o<n.length;++o){var a=n[o],s=a.circle.radius,u=a.width>s;i.push("\nA",s,s,0,u?1:0,1,a.p1.x,a.p1.y)}return i.join(" ")}}t.intersectionArea=h,t.circleCircleIntersection=I,t.circleOverlap=l,t.circleArea=C,t.distance=P,t.venn=o,t.greedyLayout=u,t.scaleSolution=N,t.normalizeSolution=F,t.bestInitialLayout=v,t.lossFunction=D,t.disjointCluster=O,t.distanceFromIntersectArea=L,t.VennDiagram=n,t.wrapText=z,t.computeTextCentres=H,t.computeTextCentre=V,t.sortAreas=r,t.circlePath=c,t.circleFromPath=q,t.intersectionAreaPath=W,Object.defineProperty(t,"__esModule",{value:true})}(e,n(565),n(1334))},function(t,e,n){var u=n(530),r=n(553),c=n(567),l=n(542),f=u.PathUtil;function o(t){var e=l.shape.venn,n=u.mix({},e,t.style);return c.addFillAttrs(n,t),n}var i=r.registerFactory("venn",{defaultShapeType:"venn",getActiveCfg:function(t,e){var n=e.lineWidth||1;return"hollow"===t?{lineWidth:n+1}:{fillOpacity:(e.fillOpacity||e.opacity||1)-.08}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});r.registerShape("venn","venn",{draw:function(t,e){var n=t.origin._origin.path,r=o(t),i=f.parsePathString(n);return e.addShape("path",{attrs:u.mix(r,{path:i})})},getMarkerCfg:function(t){return u.mix({symbol:"circle",radius:4},o(t))}}),r.registerShape("venn","hollow",{draw:function(t,e){var n,r,i,o=t.origin._origin.path,a=(n=t,r=l.shape.hollowVenn,i=u.mix({},r,n.style),c.addStrokeAttrs(i,n),i),s=f.parsePathString(o);return e.addShape("path",{attrs:u.mix(a,{path:s})})},getMarkerCfg:function(t){return u.mix({symbol:"circle",radius:4},o(t))}}),t.exports=i},function(t,e,n){function i(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}var r=n(552),o=n(530),a=n(672);n(1112);var s,u=function(r){i(e,r);var t=e.prototype;function e(t){var e=r.call(this,t)||this;return o.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e),a),e}return t.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t},t.createShapePointsCfg=function(t){var e=r.prototype.createShapePointsCfg.call(this,t);e.size=this.getNormalizedSize(t);var n=this.get("_sizeField");return e._size=t._origin[n],e},t.clearInner=function(){r.prototype.clearInner.call(this),this.set("defaultSize",null)},t._initAttrs=function(){var t=this.get("attrOptions"),e=t.size?t.size.field:this.get("_sizeField")?this.get("_sizeField"):"size";this.set("_sizeField",e),delete t.size,r.prototype._initAttrs.call(this)},e}(r),c=(i(l,s=u),l.prototype.getDefaultCfg=function(){var t=s.prototype.getDefaultCfg.call(this);return t.hasDefaultAdjust=!0,t.adjusts=[{type:"dodge"}],t},l);function l(){return s.apply(this,arguments)||this}u.Dodge=c,r.Violin=u,r.ViolinDodge=c,t.exports=u},function(t,e,n){var i=n(530),r=n(553),o=n(567),a=n(542),u=n(572);function s(t){var e=a.shape.venn,n=i.mix({},e,t.style);return o.addFillAttrs(n,t),t.color&&(n.stroke=n.stroke||t.color),n}function c(t){var e=a.shape.hollowVenn,n=i.mix({},e,t.style);return o.addStrokeAttrs(n,t),n}function l(t){for(var e=[],n=0;n<t.length;n++){var r,i=t[n];i&&(r=0===n?"M":"L",e.push([r,i.x,i.y]))}var o=t[0];return o&&(e.push(["L",o.x,o.y]),e.push(["z"])),e}function f(t){for(var e=t.length/2,n=[],r=[],i=0;i<t.length;i++)i<e?n.push(t[i]):r.push(t[i]);var o=u.getSplinePath(n,!1),a=u.getSplinePath(r,!1);r.length&&o.push(["L",r[0].x,r[0].y]),a.shift();var s=o.concat(a);return n.length&&s.push(["L",n[0].x,n[0].y]),s.push(["z"]),s}var h=r.registerFactory("violin",{defaultShapeType:"violin",getDefaultPoints:function(o){var t,e,a=o.size/2,s=[],u=(t=o._size,e=Math.max.apply(null,t),t.map(function(t){return t/e}));return i.each(o.y,function(t,e){var n=u[e]*a,r=0===e,i=e===o.y.length-1;s.push({isMin:r,isMax:i,x:o.x-n,y:t}),s.unshift({isMin:r,isMax:i,x:o.x+n,y:t})}),s},getActiveCfg:function(t,e){var n=e.lineWidth||1;return"hollow"===t?{lineWidth:n+1}:{fillOpacity:(e.fillOpacity||e.opacity||1)-.08}},getSelectedCfg:function(t,e){return e&&e.style?e.style:this.getActiveCfg(t,e)}});r.registerShape("violin","violin",{draw:function(t,e){var n=s(t),r=l(t.points),r=this.parsePath(r);return e.addShape("path",{attrs:i.mix(n,{path:r})})},getMarkerCfg:function(t){return i.mix({symbol:"circle",radius:4},s(t))}}),r.registerShape("violin","smooth",{draw:function(t,e){var n=s(t),r=f(t.points),r=this.parsePath(r);return e.addShape("path",{attrs:i.mix(n,{path:r})})},getMarkerCfg:function(t){return i.mix({symbol:"circle",radius:4},s(t))}}),r.registerShape("violin","hollow",{draw:function(t,e){var n=c(t),r=l(t.points),r=this.parsePath(r);return e.addShape("path",{attrs:i.mix(n,{path:r})})},getMarkerCfg:function(t){return i.mix({symbol:"circle",radius:4},c(t))}}),r.registerShape("violin","smoothHollow",{draw:function(t,e){var n=c(t),r=f(t.points),r=this.parsePath(r);return e.addShape("path",{attrs:i.mix(n,{path:r})})},getMarkerCfg:function(t){return i.mix({symbol:"circle",radius:4},c(t))}}),t.exports=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=s(n(566)),a=s(n(1));function s(t){return t&&t.__esModule?t:{default:t}}var u=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,o.default),r(c,[{key:"getChildContext",value:function(){return{addElement:this.context.addElement,updateElement:this.context.updateElement,deleteElement:this.context.deleteElement,createId:this.context.createId,getParentInfo:this.getParentInfo,getViewId:this.getViewId}}}]),c);function c(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,t,"View"));return e.getViewId=function(){return e.id},e}u.contextTypes={addElement:a.default.func,updateElement:a.default.func,deleteElement:a.default.func,createId:a.default.func,getParentInfo:a.default.func,getViewId:a.default.func},u.childContextTypes={addElement:a.default.func,updateElement:a.default.func,deleteElement:a.default.func,createId:a.default.func,getParentInfo:a.default.func,getViewId:a.default.func},e.default=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(566),o=(r=i)&&r.__esModule?r:{default:r};var a=o.default.generateBaseTypedComponent("Guide");a.Line=o.default.generateBaseTypedComponent("GuideLine"),a.Image=o.default.generateBaseTypedComponent("GuideImage"),a.Text=o.default.generateBaseTypedComponent("GuideText"),a.Region=o.default.generateBaseTypedComponent("GuideRegion"),a.Html=o.default.generateBaseTypedComponent("GuideHtml"),a.Arc=o.default.generateBaseTypedComponent("GuideArc"),a.RegionFilter=o.default.generateBaseTypedComponent("GuideRegionFilter"),a.DataMarker=o.default.generateBaseTypedComponent("GuideDataMarker"),a.DataRegion=o.default.generateBaseTypedComponent("GuideDataRegion"),e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=u(n(38)),a=u(n(566)),s=u(n(1));function u(t){return t&&t.__esModule?t:{default:t}}var c=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,a.default),r(l,[{key:"componentWillMount",value:function(){var t=this.context.getParentInfo();(0,o.default)("Geom"===t.name,"`<Label />` must be wrapped in `<Geom />`"),this.id=this.context.createId(),this.context.addElement(this.name,this.id,this.props,this.context.getParentInfo(),this.context.getViewId())}}]),l);function l(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,t,"Label"))}c.contextTypes={addElement:s.default.func,updateElement:s.default.func,deleteElement:s.default.func,createId:s.default.func,getParentInfo:s.default.func,getViewId:s.default.func},c.childContextTypes={addElement:s.default.func,updateElement:s.default.func,deleteElement:s.default.func,createId:s.default.func,getParentInfo:s.default.func,getViewId:s.default.func},e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(1117);var r,i=n(566),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default.generateBaseTypedComponent("Facet")},function(t,e,n){var o=n(530),r=n(619),a={};a.Rect=n(813),a.List=n(814),a.Circle=n(1118),a.Tree=n(1119),a.Mirror=n(1120),a.Matrix=n(1121),r.prototype.facet=function(t,e){var n=a[o.upperFirst(t)];if(!n)throw new Error("Not support such type of facets as: "+t);var r=this.get("facets");r&&r.destroy(),e.chart=this;var i=new n(e);this.set("facets",i)},t.exports=a},function(t,e,n){function u(t,e,n){return{x:t.x+e*Math.cos(n),y:t.y+e*Math.sin(n)}}var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="circle",t},i.getRegion=function(t,e){var n=2*Math.PI/t,r=-1*Math.PI/2+n*e,i=.5/(1+1/Math.sin(n/2)),o=u({x:.5,y:.5},.5-i,r),a=5*Math.PI/4,s=Math.PI/4;return{start:u(o,i,a),end:u(o,i,s)}},i.generateFacets=function(a){var s=this,u=s.fields[0];if(!u)throw"Please specify for the field for facet!";var c=s.getFieldValues(u,a),l=c.length,f=[];return c.forEach(function(t,e){var n=[{field:u,value:t,values:c}],r=s.getFilter(n),i=a.filter(r),o={type:s.type,colValue:t,colField:u,colIndex:e,cols:l,rows:1,rowIndex:0,data:i,region:s.getRegion(l,e)};f.push(o)}),f},r}(n(625));t.exports=r},function(t,e,n){var r=n(625),o=n(530).assign,i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="tree",t.line={lineWidth:1,stroke:"#ddd"},t.lineSmooth=!1,t},i.generateFacets=function(t){if(!this.fields.length)throw"Please specify for the fields for facet!";var e=[],n=this.getRootFacet(t);return e.push(n),n.children=this.getChildFacets(t,1,e),this.setRegion(e),e},i.getRootFacet=function(t){return{type:this.type,rows:this.getRows(),rowIndex:0,colIndex:0,colValue:this.rootTitle,data:t}},i.getRows=function(){return this.fields.length+1},i.getChildFacets=function(a,s,u){var c=this,t=c.fields;if(!(t.length<s)){var l=[],f=t[s-1],h=c.getFieldValues(f,a);return h.forEach(function(t,e){var n,r=[{field:f,value:t,values:h}],i=c.getFilter(r),o=a.filter(i);o.length&&(n={type:c.type,colValue:t,colField:f,colIndex:e,rows:c.getRows(),rowIndex:s,data:o,children:c.getChildFacets(o,s+1,u)},l.push(n),u.push(n))}),l}},i.setRegion=function(t){var e=this;e.forceColIndex(t),t.forEach(function(t){t.region=e.getRegion(t.rows,t.cols,t.colIndex,t.rowIndex)})},i.forceColIndex=function(t){var e=this,n=[],r=0;t.forEach(function(t){e.isLeaf(t)&&(n.push(t),t.colIndex=r,r++)}),n.forEach(function(t){t.cols=n.length});for(var i=e.fields.length-1;0<=i;i--)for(var o=e.getFacetsByLevel(t,i),a=0;a<o.length;a++){var s=o[a];e.isLeaf(s)||(s.originColIndex=s.colIndex,s.colIndex=e.getRegionIndex(s.children),s.cols=n.length)}},i.getFacetsByLevel=function(t,e){var n=[];return t.forEach(function(t){t.rowIndex===e&&n.push(t)}),n},i.getRegion=function(t,e,n,r){var i=1/e,o=1/t,a={x:i*n,y:o*r};return{start:a,end:{x:a.x+i,y:a.y+2*o/3}}},i.getRegionIndex=function(t){var e=t[0];return(t[t.length-1].colIndex-e.colIndex)/2+e.colIndex},i.isLeaf=function(t){return!t.children||!t.children.length},i.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1&&(e[t].label=null,e[t].title=null)},i.setYAxis=function(t,e,n){0!==n.originColIndex&&0!==n.colIndex&&(e[t].title=null,e[t].label=null)},i.onPaint=function(){e.prototype.onPaint.call(this),this.group.clear(),this.facets&&this.line&&this.drawLines(this.facets,this.group)},i.drawLines=function(t,e){var n=this,r=e.addGroup();t.forEach(function(t){var e;n.isLeaf(t)||(e=t.children,n._addFacetLines(t,e,r))})},i._addFacetLines=function(t,e,o){var a=this,n=t.view.getViewRegion(),s={x:n.start.x+(n.end.x-n.start.x)/2,y:n.start.y};e.forEach(function(t){var e=t.view.getViewRegion(),n={x:e.start.x+(e.end.x-e.start.x)/2,y:e.end.y},r={x:s.x,y:s.y+(n.y-s.y)/2},i={x:n.x,y:r.y};a._drawLine([s,r,i,n],o)})},i._getPath=function(t){var n=[];return this.lineSmooth?(n.push(["M",t[0].x,t[0].y]),n.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(t,e){0===e?n.push(["M",t.x,t.y]):n.push(["L",t.x,t.y])}),n},i._drawLine=function(t,e){var n=this._getPath(t),r=this.line;e.addShape("path",{attrs:o({path:n},r)})},r}(r);t.exports=i},function(t,e,n){var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="mirror",this.transpose=!1,t},i.init=function(){this.transpose?(this.cols=2,this.rows=1):(this.cols=1,this.rows=2),e.prototype.init.call(this)},i.beforeProcessView=function(t,e){this.transpose?e.colIndex%2==0?t.coord().transpose().scale(-1,1):t.coord().transpose():e.rowIndex%2!=0&&t.coord().scale(1,-1)},i.renderTitle=function(t,e){this.transpose?this.drawColTitle(t,e):this.drawRowTitle(t,e)},i.setXAxis=function(t,e,n){1!==n.colIndex&&1!==n.rowIndex||(e[t].label=null,e[t].title=null)},i.setYAxis=function(){},r}(n(814));t.exports=r},function(t,e,n){var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.type="matrix",t.showTitle=!1,t},i.generateFacets=function(t){for(var e=this.fields,n=e.length,r=n,i=[],o=0;o<r;o++)for(var a=e[o],s=0;s<n;s++){var u=e[s],c={type:this.type,colValue:a,rowValue:u,colField:a,rowField:u,colIndex:o,rowIndex:s,cols:r,rows:n,data:t,region:this.getRegion(n,r,o,s)};i.push(c)}return i},i.setXAxis=function(t,e,n){n.rowIndex!==n.rows-1&&(e[t].title=null,e[t].label=null)},i.setYAxis=function(t,e,n){0!==n.colIndex&&(e[t].title=null,e[t].label=null)},r}(n(813));t.exports=r},function(t,e,n){var r=n(607),i=n(619),o=n(530),a={Base:n(574),Brush:n(1123),Drag:n(1124),ScrollBar:n(1126),ShapeSelect:n(1128),Slider:n(1129),Zoom:n(1131)};r._Interactions={},r.registerInteraction=function(t,e){r._Interactions[t]=e},r.getInteraction=function(t){return r._Interactions[t]},i.prototype.getInteractions=function(){return this._interactions||(this._interactions={}),this._interactions},i.prototype._setInteraction=function(t,e){var n=this.getInteractions();n[t]&&n[t]!==e&&n[t].destroy(),n[t]=e},i.prototype.clearInteraction=function(t){var n=this.getInteractions();t?(n[t]&&(n[t]._reset(),n[t].destroy()),delete n[t]):o.each(n,function(t,e){t._reset(),t.destroy(),delete n[e]})},i.prototype.interact=i.prototype.interaction=function(t,e){var n=new(r.getInteraction(t))(e,this);return this._setInteraction(t,n),this},r.registerInteraction("brush",a.Brush),r.registerInteraction("Brush",a.Brush),r.registerInteraction("drag",a.Drag),r.registerInteraction("Drag",a.Drag),r.registerInteraction("zoom",a.Zoom),r.registerInteraction("Zoom",a.Zoom),r.registerInteraction("scroll-bar",a.ScrollBar),r.registerInteraction("ScrollBar",a.ScrollBar),r.registerInteraction("shape-select",a.ShapeSelect),r.registerInteraction("ShapeSelect",a.ShapeSelect),r.registerInteraction("slider",a.Slider),r.registerInteraction("Slider",a.Slider),t.exports=a},function(t,e,n){var A=n(530),r=n(574),l=["X","Y","XY","POLYGON"],i=function(c){var t,e;e=c,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var n=r.prototype;function r(t,e){var n=c.call(this,t,e)||this,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n);r.filter=!r.draggable,r.type=r.type.toUpperCase(),r.chart=e,l.includes(r.type)||(r.type="XY");var i,o,a,s,u=r.canvas;return u&&(u.get("children").map(function(t){return"plotBack"===t.get("type")?(i=t.get("plotRange"),!1):t}),r.plot={start:i.bl,end:i.tr}),e&&(o=e.get("coord"),r.plot={start:o.start,end:o.end},e.on("afterrender",function(){r.plot={start:o.start,end:o.end}}),r.isTransposed=o.isTransposed,a=e._getScales("x"),s=e._getScales("y"),r.xScale=r.xField?a[r.xField]:e.getXScale(),r.yScale=r.yField?s[r.yField]:e.getYScales()[0]),n}return n.getDefaultCfg=function(){var t=c.prototype.getDefaultCfg.call(this);return A.mix({},t,{type:"XY",startPoint:null,brushing:!1,dragging:!1,brushShape:null,container:null,polygonPath:null,style:{fill:"#C5D4EB",opacity:.3,lineWidth:1,stroke:"#82A6DD"},draggable:!1,dragOffX:0,dragOffY:0,inPlot:!0,xField:null,yField:null})},n.start=function(t){var e=this,n=e.canvas,r=e.type,i=e.brushShape;if(r){e.brushing&&e.end(t);var o={x:t.offsetX,y:t.offsetY};if(o.x){var a,s=e.plot&&e.inPlot,u=n.get("canvasDOM"),c=n.get("pixelRatio");if(e.selection&&(e.selection=null),e.draggable&&i&&!i.get("destroyed")&&(i.isHit(o.x*c,o.y*c)&&(u.style.cursor="move",e.selection=i,e.dragging=!0,"X"===r?(e.dragoffX=o.x-i.attr("x"),e.dragoffY=0):"Y"===r?(e.dragoffX=0,e.dragoffY=o.y-i.attr("y")):"XY"===r?(e.dragoffX=o.x-i.attr("x"),e.dragoffY=o.y-i.attr("y")):"POLYGON"===r&&(a=i.getBBox(),e.dragoffX=o.x-a.minX,e.dragoffY=o.y-a.minY),e.onDragstart&&e.onDragstart(t)),e.prePoint=o),!e.dragging){e.onBrushstart&&e.onBrushstart(o);var l=e.container;if(s){var f=e.plot,h=f.start,p=f.end;if(o.x<h.x||o.x>p.x||o.y<p.y||o.y>h.y)return}u.style.cursor="crosshair",e.startPoint=o,e.brushShape=null,e.brushing=!0,l?l.clear():(l=n.addGroup({zIndex:5})).initTransform(),e.container=l,"POLYGON"===r&&(e.polygonPath="M "+o.x+" "+o.y)}}}},n.process=function(t){var e,n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,y,m,x,b=this,w=b.brushing,_=b.dragging,S=b.type,M=b.plot,E=b.startPoint,C=b.xScale,P=b.yScale,k=b.canvas;(w||_)&&(e={x:t.offsetX,y:t.offsetY},n=k.get("canvasDOM"),w?(n.style.cursor="crosshair",r=M.start,i=M.end,o=b.polygonPath,a=b.brushShape,s=b.container,b.plot&&b.inPlot&&(e=b._limitCoordScope(e)),"Y"===S?(u=r.x,c=e.y>=E.y?E.y:e.y,l=Math.abs(r.x-i.x),f=Math.abs(E.y-e.y)):"X"===S?(u=e.x>=E.x?E.x:e.x,c=i.y,l=Math.abs(E.x-e.x),f=Math.abs(i.y-r.y)):"XY"===S?(c=(u=e.x>=E.x?E.x:e.x,e.y>=E.y?E.y:e.y),l=Math.abs(E.x-e.x),f=Math.abs(E.y-e.y)):"POLYGON"===S&&(o+="L "+e.x+" "+e.y,b.polygonPath=o,a?a.get("destroyed")||a.attr(A.mix({},a._attrs,{path:o})):a=s.addShape("path",{attrs:A.mix(b.style,{path:o})})),"POLYGON"!==S&&(a?a.get("destroyed")||a.attr(A.mix({},a._attrs,{x:u,y:c,width:l,height:f})):a=s.addShape("rect",{attrs:A.mix(b.style,{x:u,y:c,width:l,height:f})})),b.brushShape=a):_&&(n.style.cursor="move",(h=b.selection)&&!h.get("destroyed")&&("POLYGON"===S?(p=b.prePoint,b.selection.translate(e.x-p.x,e.y-p.y)):(b.dragoffX&&h.attr("x",e.x-b.dragoffX),b.dragoffY&&h.attr("y",e.y-b.dragoffY)))),b.prePoint=e,k.draw(),g=(d=b._getSelected()).data,v=d.shapes,y=d.xValues,m=d.yValues,x={data:g,shapes:v},C&&(x[C.field]=y),P&&(x[P.field]=m),A.mix(t,x),x.x=e.x,x.y=e.y,b.onDragmove&&b.onDragmove(x),b.onBrushmove&&b.onBrushmove(x))},n.end=function(t){var e=this;if(e.brushing||e.dragging){var n=e.data,r=e.shapes,i=e.xValues,o=e.yValues,a=e.canvas,s=e.type,u=e.startPoint,c=e.chart,l=e.container,f=e.xScale,h=e.yScale,p=t.offsetX,d=t.offsetY;if(a.get("canvasDOM").style.cursor="default",null!==u){if(Math.abs(u.x-p)<=1&&Math.abs(u.y-d)<=1)return e.brushing=!1,e.dragging=!1,l.clear(),void a.draw();var g,v,y={data:n,shapes:r};f&&(y[f.field]=i),h&&(y[h.field]=o),A.mix(t,y),y.x=p,y.y=d,e.dragging?(e.dragging=!1,e.onDragend&&e.onDragend(y)):e.brushing&&(e.brushing=!1,g=e.brushShape,v=e.polygonPath,"POLYGON"===s&&(v+="z",g&&!g.get("destroyed")&&g.attr(A.mix({},g._attrs,{path:v})),e.polygonPath=v,a.draw()),e.onBrushend?e.onBrushend(y):c&&e.filter&&(l.clear(),!e.isTransposed&&"X"===s||e.isTransposed&&"Y"===s?f&&c.filter(f.field,function(t){return-1<i.indexOf(t)}):!e.isTransposed&&"Y"===s||e.isTransposed&&"X"===s?h&&c.filter(h.field,function(t){return-1<o.indexOf(t)}):(f&&c.filter(f.field,function(t){return-1<i.indexOf(t)}),h&&c.filter(h.field,function(t){return-1<o.indexOf(t)})),c.repaint()))}}},n.reset=function(){var t=this.chart,e=this.filter,n=this.brushShape,r=this.canvas;this._init(),t&&e&&(t.get("options").filters={},t.repaint()),n&&(n.destroy(),r.draw())},n._limitCoordScope=function(t){var e=this.plot,n=e.start,r=e.end;return t.x<n.x&&(t.x=n.x),t.x>r.x&&(t.x=r.x),t.y<r.y&&(t.y=r.y),t.y>n.y&&(t.y=n.y),t},n._getSelected=function(){var t=this.chart,r=this.xScale,i=this.yScale,o=this.brushShape,e=this.canvas,a=e.get("pixelRatio"),s=[],u=[],c=[],l=[];return t&&t.get("geoms").map(function(t){return t.getShapes().map(function(n){var t=n.get("origin");return Array.isArray(t)||(t=[t]),t.map(function(t){var e;return o.isHit(t.x*a,t.y*a)&&(s.push(n),e=t._origin,l.push(e),r&&u.push(e[r.field]),i&&c.push(e[i.field])),t}),n}),t}),this.shapes=s,this.xValues=u,this.yValues=c,this.data=l,e.draw(),{data:l,xValues:u,yValues:c,shapes:s}},r}(r);t.exports=i},function(t,e,n){var E=n(530),r=n(574),c=n(1125),C=n(677),l=n(678),f=["X","Y","XY"],i=function(u){var t,e;e=u,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var n=r.prototype;function r(t,e){var n=u.call(this,t,e)||this,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n);r.type=r.type.toUpperCase(),r.chart=e,r.coord=e.get("coord");var i=r.data=e.get("data");c(e);var o=e.getYScales(),a=e.getXScale();o.push(a);var s=e.get("scaleController");return o.forEach(function(t){var e=t.field;r.limitRange[e]=l(i,t);var n=s.defs[e]||{};r.originScaleDefsByField[e]=E.mix(n,{nice:!!n.nice}),t.isLinear&&(r.stepByField[e]=(t.max-t.min)*r.stepRatio)}),f.includes(r.type)||(r.type="X"),r._disableTooltip(),n}return n.getDefaultCfg=function(){var t=u.prototype.getDefaultCfg.call(this);return E.mix({},t,{type:"X",stepRatio:.05,limitRange:{},stepByField:{},threshold:20,originScaleDefsByField:{},previousPoint:null,isDragging:!1})},n._disableTooltip=function(){var t=this.chart;t.get("tooltipController")&&(this._showTooltip=!0,t.tooltip(!1))},n._enableTooltip=function(t){var e=this.chart;this._showTooltip&&(e.tooltip(!0),e.showTooltip(t))},n._applyTranslate=function(t,e,n){void 0===e&&(e=0);t.isLinear?this._translateLinearScale(t,e,n):this._translateCatScale(t,e,n)},n._translateCatScale=function(t,e,n){var r=this.chart,i=t.type,o=t.field,a=t.values,s=t.ticks,u=C(r,o),c=this.limitRange[o],l=e/n,f=a.length,h=Math.max(1,Math.abs(parseInt(l*f))),p=c.indexOf(a[0]),d=c.indexOf(a[f-1]);if(0<e&&0<=p){for(var g=0;g<h&&0<p;g++)--p,--d;var v=c.slice(p,d+1),y=null;if("timeCat"===i){for(var m=2<s.length?s[1]-s[0]:864e5,x=s[0]-m;x>=v[0];x-=m)s.unshift(x);y=s}r.scale(o,E.mix({},u,{values:v,ticks:y}))}else if(e<0&&d<=c.length-1){for(var b=0;b<h&&d<c.length-1;b++)p+=1,d+=1;var w=c.slice(p,d+1),_=null;if("timeCat"===i){for(var S=2<s.length?s[1]-s[0]:864e5,M=s[s.length-1]+S;M<=w[w.length-1];M+=S)s.push(M);_=s}r.scale(o,E.mix({},u,{values:w,ticks:_}))}},n._translateLinearScale=function(t,e,n){var r,i,o,a=this.chart,s=this.limitRange,u=t.min,c=t.max,l=t.field;u===s[l].min&&c===s[l].max||(r=e/n,i=c-u,o=C(a,l),a.scale(l,E.mix({},o,{nice:!1,min:u+r*i,max:c+r*i})))},n.start=function(t){this.canvas.get("canvasDOM").style.cursor="pointer",this.isDragging=!0,this.previousPoint={x:t.x,y:t.y},this._disableTooltip()},n.process=function(t){var e,n,r,i,o,a,s,u,c,l,f,h=this;h.isDragging&&(e=h.chart,n=h.type,r=h.canvas,i=h.coord,o=h.threshold,r.get("canvasDOM").style.cursor="move",a=h.previousPoint,u=(s=t).x-a.x,c=s.y-a.y,f=!1,Math.abs(u)>o&&-1<n.indexOf("X")&&(f=!0,l=e.getXScale(),h._applyTranslate(l,l.isLinear?-u:u,i.width)),Math.abs(c)>o&&-1<n.indexOf("Y")&&(f=!0,e.getYScales().forEach(function(t){h._applyTranslate(t,s.y-a.y,i.height)})),f&&(h.previousPoint=s,e.repaint()))},n.end=function(t){this.isDragging=!1,this.canvas.get("canvasDOM").style.cursor="default",this._enableTooltip(t)},n.reset=function(){var n=this.view,r=this.originScaleDefsByField,t=n.getYScales(),e=n.getXScale();t.push(e),t.forEach(function(t){var e;t.isLinear&&(e=t.field,n.scale(e,r[e]))}),n.repaint(),this._disableTooltip()},r}(r);t.exports=i},function(t,e,n){var u=n(530),c=n(609),o=n(676);t.exports=function(i){i.on("beforeinitgeoms",function(){i.set("limitInPlot",!0);var t=i.get("data"),a=o(i);if(!a)return t;var e=i.get("geoms"),n=!1;u.each(e,function(t){if(["area","line","path"].includes(t.get("type")))return!(n=!0)});var r=[];if(u.each(a,function(t,e){!n&&t&&(t.values||t.min||t.max)&&r.push(e)}),0===r.length)return t;var s=[];u.each(t,function(i){var o=!0;u.each(r,function(t){var e,n,r=i[t];r&&("timeCat"===(e=a[t]).type&&(n=e.values,u.isNumber(n[0])&&(r=c.toTimeStamp(r))),(e.values&&!e.values.includes(r)||e.min&&r<e.min||e.max&&r>e.max)&&(o=!1))}),o&&s.push(i)}),i.set("filteredData",s)})}},function(t,e,n){var o=n(530),r=n(574),I=n(1127),j=n(678),i=function(i){var t,e;e=i,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var n=r.prototype;function r(t,e){var n=i.call(this,t,e)||this,r=n.getDefaultCfg();return e.set("_scrollBarCfg",o.deepMix({},r,t)),e.set("_limitRange",{}),e.get("_horizontalBar")||e.get("_verticalBar")||n._renderScrollBars(),n}return n.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return o.mix({},t,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,type:"X",xStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:0,offsetY:-10},yStyle:{backgroundColor:"rgba(202, 215, 239, .2)",fillerColor:"rgba(202, 215, 239, .75)",size:4,lineCap:"round",offsetX:8,offsetY:0}})},n._renderScrollBars=function(){var t,e,n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,y,m,x,b,w,_,S,M,E,C,P,k,A,T=this.chart,O=T.get("_scrollBarCfg");O&&(t=T.get("data"),(e=T.get("plotRange")).width=Math.abs(e.br.x-e.bl.x),e.height=Math.abs(e.tl.y-e.bl.y),n=T.get("backPlot"),r=T.get("canvas").get("height"),i=T.get("_limitRange"),-1<(o=O.type).indexOf("X")&&(s=(a=O.xStyle).offsetX,u=a.offsetY,c=a.lineCap,l=a.backgroundColor,f=a.fillerColor,h=a.size,(d=i[(p=T.getXScale()).field])||(d=j(t,p),i[p.field]=d),g=I(p,d,p.type),y=r-h/2+u,(v=T.get("_horizontalBar"))?v.get("children")[1].attr({x1:Math.max(e.bl.x+e.width*g[0]+s,e.bl.x),x2:Math.min(e.bl.x+e.width*g[1]+s,e.br.x)}):((v=n.addGroup({className:"horizontalBar"})).addShape("line",{attrs:{x1:e.bl.x+s,y1:y,x2:e.br.x+s,y2:y,lineWidth:h,stroke:l,lineCap:c}}),v.addShape("line",{attrs:{x1:Math.max(e.bl.x+e.width*g[0]+s,e.bl.x),y1:y,x2:Math.min(e.bl.x+e.width*g[1]+s,e.br.x),y2:y,lineWidth:h,stroke:f,lineCap:c}}),T.set("_horizontalBar",v))),-1<o.indexOf("Y")&&(x=(m=O.yStyle).offsetX,b=m.offsetY,w=m.lineCap,_=m.backgroundColor,S=m.fillerColor,M=m.size,(C=i[(E=T.getYScales()[0]).field])||(C=j(t,E),i[E.field]=C),P=I(E,C,E.type),A=M/2+x,(k=T.get("_verticalBar"))?k.get("children")[1].attr({y1:Math.max(e.tl.y+e.height*P[0]+b,e.tl.y),y2:Math.min(e.tl.y+e.height*P[1]+b,e.bl.y)}):((k=n.addGroup({className:"verticalBar"})).addShape("line",{attrs:{x1:A,y1:e.tl.y+b,x2:A,y2:e.bl.y+b,lineWidth:M,stroke:_,lineCap:w}}),k.addShape("line",{attrs:{x1:A,y1:Math.max(e.tl.y+e.height*P[0]+b,e.tl.y),x2:A,y2:Math.min(e.tl.y+e.height*P[1]+b,e.bl.y),lineWidth:M,stroke:S,lineCap:w}}),T.set("_verticalBar",k))))},n._clear=function(){var t,e,n=this.chart;n&&(t=n.get("_horizontalBar"),e=n.get("_verticalBar"),t&&t.remove(!0),e&&e.remove(!0),n.set("_horizontalBar",null),n.set("_verticalBar",null))},n._bindEvents=function(){this._onAfterclearOrBeforechangedata=this._onAfterclearOrBeforechangedata.bind(this),this._onAfterclearinner=this._onAfterclearinner.bind(this),this._onAfterdrawgeoms=this._onAfterdrawgeoms.bind(this);var t=this.chart;t.on("afterclear",this._onAfterclearOrBeforechangedata),t.on("beforechangedata",this._onAfterclearOrBeforechangedata),t.on("afterclearinner",this._onAfterclearinner),t.on("afterdrawgeoms",this._onAfterdrawgeoms)},n._onAfterclearOrBeforechangedata=function(){this.chart&&this.chart.set("_limitRange",{})},n._onAfterclearinner=function(){this._clear()},n._onAfterdrawgeoms=function(){this._renderScrollBars()},n._clearEvents=function(){var t=this.chart;t&&(t.off("afterclear",this._onAfterclearOrBeforechangedata),t.off("beforechangedata",this._onAfterclearOrBeforechangedata),t.off("afterclearinner",this._onAfterclearinner),t.off("afterdrawgeoms",this._onAfterdrawgeoms))},n.destroy=function(){this._clearEvents(),this._clear(),this.canvas.draw()},r}(r);t.exports=i},function(t,e){t.exports=function(t,e,n){if(!t)return[0,1];var r,i,o,a,s,u,c=0,l=0;return l="linear"===n?(r=e.min,i=e.max-r,c=(t.min-r)/i,(t.max-r)/i):(o=e,a=t.values,s=o.indexOf(a[0]),u=o.indexOf(a[a.length-1]),c=s/(o.length-1),u/(o.length-1)),[c,l]}},function(t,e,n){var s=n(530);function u(t,e){var n={};for(var r in e)n[r]=t[r];return n}var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),(t.prototype.constructor=t).__proto__=n;var i=r.prototype;return i.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return s.mix({},t,{startEvent:"mouseup",processEvent:null,selectStyle:{fillOpacity:1},unSelectStyle:{fillOpacity:.1},cancelable:!0})},i.start=function(n){var r,t=this.view,i=[];if(t.eachShape(function(t,e){e.isPointInPath(n.x,n.y)?r=e:i.push(e)}),r)if(r.get("_selected")){if(!this.cancelable)return;this.reset()}else{var e=this.selectStyle,o=this.unSelectStyle,a=u(r.attr(),r);r.set("_originAttrs",a),r.attr(e),s.each(i,function(t){var e=t.get("_originAttrs");e&&t.attr(e),t.set("_selected",!1),o&&(e=u(t.attr(),o),t.set("_originAttrs",e),t.attr(o))}),r.set("_selected",!0),this.selectedShape=r,this.canvas.draw()}else this.reset()},i.end=function(t){var e=this.selectedShape;e&&!e.get("destroyed")&&e.get("origin")&&(t.data=e.get("origin")._origin,t.shapeInfo=e.get("origin"),t.shape=e,t.selected=!!e.get("_selected"))},i.reset=function(){var t;this.selectedShape&&(t=this.view.get("geoms")[0].get("container").get("children")[0].get("children"),s.each(t,function(t){var e=t.get("_originAttrs");e&&(t._attrs=e,t.set("_originAttrs",null)),t.set("_selected",!1)}),this.canvas.draw())},r}(n(574));t.exports=r},function(t,e,n){var o=n(1130),g=n(619),v=n(530),r=n(558),a=n(542),i=n(574),h=n(677),y=n(676),s=r.Canvas,u=v.DomUtil,d=v.isNumber,c=function(i){var t,e;e=i,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var n=r.prototype;function r(t,e){var n=i.call(this,t,e)||this,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n);return r._initContainer(),r._initStyle(),r.render(),n}return n.getDefaultCfg=function(){var t=i.prototype.getDefaultCfg.call(this);return v.mix({},t,{startEvent:null,processEvent:null,endEvent:null,resetEvent:null,height:26,width:"auto",padding:a.plotCfg.padding,container:null,xAxis:null,yAxis:null,fillerStyle:{fill:"#BDCCED",fillOpacity:.3},backgroundStyle:{stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},range:[0,100],layout:"horizontal",textStyle:{fill:"#545454"},handleStyle:{img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},backgroundChart:{type:["area"],color:"#CCD6EC"}})},n._initContainer=function(){var t=this.container;if(!t)throw new Error("Please specify the container for the Slider!");v.isString(t)?this.domContainer=document.getElementById(t):this.domContainer=t},n.forceFit=function(){var t,e,n,r=this;r&&!r.destroyed&&(t=u.getWidth(r.domContainer),e=r.height,t!==r.domWidth&&((n=r.canvas).changeSize(t,e),r.bgChart&&r.bgChart.changeWidth(t),n.clear(),r._initWidth(),r._initSlider(),r._bindEvent(),n.draw()))},n._initForceFitEvent=function(){var t=setTimeout(v.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=t},n._initStyle=function(){this.handleStyle=v.mix({width:this.height,height:this.height},this.handleStyle),"auto"===this.width&&window.addEventListener("resize",v.wrapBehavior(this,"_initForceFitEvent"))},n._initWidth=function(){var t=this,e="auto"===t.width?u.getWidth(t.domContainer):t.width;t.domWidth=e;var n=v.toAllPadding(t.padding);"horizontal"===t.layout?(t.plotWidth=e-n[1]-n[3],t.plotPadding=n[3],t.plotHeight=t.height):"vertical"===t.layout&&(t.plotWidth=t.width,t.plotHeight=t.height-n[0]-n[2],t.plotPadding=n[0])},n._initCanvas=function(){var t=this.domWidth,e=this.height,n=new s({width:t,height:e,containerDOM:this.domContainer,capture:!1}),r=n.get("el");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.zIndex=3,this.canvas=n},n._initBackground=function(){var t,e=this,n=this.chart,r=n.getAllGeoms[0],i=e.data=e.data||n.get("data"),o=n.getXScale(),a=e.xAxis||o.field,s=e.yAxis||n.getYScales()[0].field,u=v.deepMix(((t={})[""+a]={range:[0,1]},t),y(n),e.scales);if(delete u[a].min,delete u[a].max,!i)throw new Error("Please specify the data!");if(!a)throw new Error("Please specify the xAxis!");if(!s)throw new Error("Please specify the yAxis!");var c=e.backgroundChart,l=c.type||r.get("type"),f=c.color||"grey",h=c.shape;v.isArray(l)||(l=[l]);var p=v.toAllPadding(e.padding),d=new g({container:e.container,width:e.domWidth,height:e.height,padding:[0,p[1],0,p[3]],animate:!1});d.source(i),d.scale(u),d.axis(!1),d.tooltip(!1),d.legend(!1),v.each(l,function(t,e){var n=d[t]().position(a+"*"+s).opacity(1),r=v.isArray(f)?f[e]:f;r&&(v.isObject(r)?r.field&&n.color(r.field,r.colors):n.color(r));var i=v.isArray(h)?h[e]:h;i&&(v.isObject(i)?i.field&&n.shape(i.field,i.callback||i.shapes):n.shape(i))}),d.render(),e.bgChart=d,e.scale="horizontal"===e.layout?d.getXScale():d.getYScales()[0],"vertical"===e.layout&&d.destroy()},n._initRange=function(){var t=this,e=t.startRadio,n=t.endRadio,r=t._startValue,i=t._endValue,o=t.scale,a=0,s=1;d(e)?a=e:r&&(a=o.scale(o.translate(r))),d(n)?s=n:i&&(s=o.scale(o.translate(i)));var u,c,l=t.minSpan,f=t.maxSpan,h=0;"time"===o.type||"timeCat"===o.type?(c=(u=o.values)[0],h=u[u.length-1]-c):o.isLinear&&(h=o.max-o.min),h&&l&&(t.minRange=l/h*100),h&&f&&(t.maxRange=f/h*100);var p=[100*a,100*s];return t.range=p},n._getHandleValue=function(t){var e=this.range,n=e[0]/100,r=e[1]/100,i=this.scale,o="min"===t?this._startValue?this._startValue:i.invert(n):this._endValue?this._endValue:i.invert(r);return o},n._initSlider=function(){var t=this,e=t.canvas,n=t._initRange(),r=t.scale,i=e.addGroup(o,{middleAttr:t.fillerStyle,range:n,minRange:t.minRange,maxRange:t.maxRange,layout:t.layout,width:t.plotWidth,height:t.plotHeight,backgroundStyle:t.backgroundStyle,textStyle:t.textStyle,handleStyle:t.handleStyle,minText:r.getText(t._getHandleValue("min")),maxText:r.getText(t._getHandleValue("max"))});"horizontal"===t.layout?i.translate(t.plotPadding,0):"vertical"===t.layout&&i.translate(0,t.plotPadding),t.rangeElement=i},n._updateElement=function(t,e){var n=this.chart,r=this.scale,i=this.rangeElement,o=r.field,a=i.get("minTextElement"),s=i.get("maxTextElement"),u=r.invert(t),c=r.invert(e),l=r.getText(u),f=r.getText(c);a.attr("text",l),s.attr("text",f),this._startValue=l,this._endValue=f,this.onChange&&this.onChange({startText:l,endText:f,startValue:u,endValue:c,startRadio:t,endRadio:e}),n.scale(o,v.mix({},h(n,o),{nice:!1,min:u,max:c})),n.repaint()},n._bindEvent=function(){var i=this;i.rangeElement.on("sliderchange",function(t){var e=t.range,n=e[0]/100,r=e[1]/100;i._updateElement(n,r)})},n.clear=function(){this.canvas.clear(),this.bgChart&&this.bgChart.destroy(),this.bgChart=null,this.scale=null,this.canvas.draw()},n.repaint=function(){this.clear(),this.render()},n.render=function(){this._initWidth(),this._initCanvas(),this._initBackground(),this._initSlider(),this._bindEvent(),this.canvas.draw()},n.destroy=function(){clearTimeout(this.resizeTimer),this.rangeElement.off("sliderchange"),this.bgChart&&this.bgChart.destroy(),this.canvas.destroy();for(var t=this.domContainer;t.hasChildNodes();)t.removeChild(t.firstChild);window.removeEventListener("resize",v.getWrapBehavior(this,"_initForceFitEvent")),this.destroyed=!0},r}(i);t.exports=c},function(t,e,n){function r(t){r.superclass.constructor.call(this,t)}var p=n(530),i=n(558).Group,o=p.DomUtil;p.extend(r,i),p.augment(r,{getDefaultCfg:function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},_initHandle:function(t){var e,n,r,i,o=this.addGroup(),a=this.get("layout"),s=this.get("handleStyle"),u=s.img,c=s.width,l=s.height;return i="horizontal"===a?(e=s.width,n="ew-resize",r=o.addShape("Image",{attrs:{x:-e/2,y:0,width:e,height:l,img:u,cursor:n}}),o.addShape("Text",{attrs:p.mix({x:"min"===t?-(e/2+5):e/2+5,y:l/2,textAlign:"min"===t?"end":"start",textBaseline:"middle",text:"min"===t?this.get("minText"):this.get("maxText"),cursor:n},this.get("textStyle"))})):(n="ns-resize",r=o.addShape("Image",{attrs:{x:0,y:-l/2,width:c,height:l,img:u,cursor:n}}),o.addShape("Text",{attrs:p.mix({x:c/2,y:"min"===t?l/2+5:-(l/2+5),textAlign:"center",textBaseline:"middle",text:"min"===t?this.get("minText"):this.get("maxText"),cursor:n},this.get("textStyle"))})),this.set(t+"TextElement",i),this.set(t+"IconElement",r),o},_initSliderBackground:function(){var t=this.addGroup();return t.initTransform(),t.translate(0,0),t.addShape("Rect",{attrs:p.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),t},_beforeRenderUI:function(){var t=this._initSliderBackground(),e=this._initHandle("min"),n=this._initHandle("max"),r=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",r),this.set("minHandleElement",e),this.set("maxHandleElement",n),this.set("backgroundElement",t),t.set("zIndex",0),r.set("zIndex",1),e.set("zIndex",2),n.set("zIndex",2),r.attr("cursor","move"),this.sort()},_renderUI:function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},_transform:function(t){var e=this.get("range"),n=e[0]/100,r=e[1]/100,i=this.get("width"),o=this.get("height"),a=this.get("minHandleElement"),s=this.get("maxHandleElement"),u=this.get("middleHandleElement");a.resetMatrix?(a.resetMatrix(),s.resetMatrix()):(a.initTransform(),s.initTransform()),"horizontal"===t?(u.attr({x:i*n,y:0,width:(r-n)*i,height:o}),a.translate(n*i,0),s.translate(r*i,0)):(u.attr({x:0,y:o*(1-r),width:i,height:(r-n)*o}),a.translate(0,(1-n)*o),s.translate(0,(1-r)*o))},_renderHorizontal:function(){this._transform("horizontal")},_renderVertical:function(){this._transform("vertical")},_bindUI:function(){this.on("mousedown",p.wrapBehavior(this,"_onMouseDown"))},_isElement:function(t,e){var n=this.get(e);return t===n||!!n.isGroup&&-1<n.get("children").indexOf(t)},_getRange:function(t,e){var n=t+e;return n=(n=100<n?100:n)<0?0:n},_limitRange:function(t,e,n){n[0]=this._getRange(t,n[0]),n[1]=n[0]+e,100<n[1]&&(n[1]=100,n[0]=n[1]-e)},_updateStatus:function(t,e){var n="x"===t?this.get("width"):this.get("height");t=p.upperFirst(t);var r,i=this.get("range"),o=this.get("page"+t),a=this.get("currentTarget"),s=this.get("rangeStash"),u="vertical"===this.get("layout")?-1:1,c=e["page"+t],l=(c-o)/n*100*u,f=this.get("minRange"),h=this.get("maxRange");i[1]<=i[0]?(this._isElement(a,"minHandleElement")||this._isElement(a,"maxHandleElement"))&&(i[0]=this._getRange(l,i[0]),i[1]=this._getRange(l,i[0])):(this._isElement(a,"minHandleElement")&&(i[0]=this._getRange(l,i[0]),f&&i[1]-i[0]<=f&&this._limitRange(l,f,i),h&&i[1]-i[0]>=h&&this._limitRange(l,h,i)),this._isElement(a,"maxHandleElement")&&(i[1]=this._getRange(l,i[1]),f&&i[1]-i[0]<=f&&this._limitRange(l,f,i),h&&i[1]-i[0]>=h&&this._limitRange(l,h,i))),this._isElement(a,"middleHandleElement")&&(r=s[1]-s[0],this._limitRange(l,r,i)),this.emit("sliderchange",{range:i}),this.set("page"+t,c),this._renderUI(),this.get("canvas").draw()},_onMouseDown:function(t){var e=t.currentTarget,n=t.event,r=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",e),this.set("rangeStash",[r[0],r[1]]),this._bindCanvasEvents()},_bindCanvasEvents:function(){var t=this.get("canvas").get("containerDOM");this.onMouseMoveListener=o.addEventListener(t,"mousemove",p.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=o.addEventListener(t,"mouseup",p.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=o.addEventListener(t,"mouseleave",p.wrapBehavior(this,"_onCanvasMouseUp"))},_onCanvasMouseMove:function(t){"horizontal"===this.get("layout")?this._updateStatus("x",t):this._updateStatus("y",t)},_onCanvasMouseUp:function(){this._removeDocumentEvents()},_removeDocumentEvents:function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()}}),t.exports=r},function(t,e,n){var D=n(530),r=n(574),B=n(677),c=n(678),l=["X","Y","XY"],i=function(u){var t,e;e=u,(t=r).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e;var n=r.prototype;function r(t,e){var n=u.call(this,t,e)||this,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n);r.chart=e,r.type=r.type.toUpperCase();var i=r.data=e.get("data"),o=e.getYScales(),a=e.getXScale();o.push(a);var s=e.get("scaleController");return o.forEach(function(t){var e=t.field,n=s.defs[e]||{};r.limitRange[e]=c(i,t),r.originScaleDefsByField[e]=D.mix(n,{nice:!!n.nice}),t.isLinear?r.stepByField[e]=(t.max-t.min)*r.stepRatio:r.stepByField[e]=r.catStep}),l.includes(r.type)||(r.type="X"),n}return n.getDefaultCfg=function(){var t=u.prototype.getDefaultCfg.call(this);return D.mix({},t,{processEvent:"mousewheel",type:"X",stepRatio:.05,stepByField:{},minScale:1,maxScale:4,catStep:2,limitRange:{},originScaleDefsByField:{}})},n._applyScale=function(t,e,n,r){void 0===n&&(n=0);var i,o,a,s,u,c,l,f,h,p,d,g,v,y,m,x,b,w,_,S,M,E,C,P,k,A,T,O,I,j,R=this.chart,L=this.stepByField;t.isLinear?(i=t.min,o=t.max,s=1-n,(c=i+(u=L[a=t.field]*e)*n)<(l=o-u*s)&&(f=B(R,a),R.scale(a,D.mix({},f,{nice:!1,min:c,max:l})))):(h=t.field,p=t.values,g=(d=this.chart).get("coord"),v=B(d,h),x=(m=(y=this.limitRange[h]).length)/this.maxScale,b=m/this.minScale,w=p.length,_=g.invertPoint(r).x,E=(S=w-e*this.catStep)+(M=parseInt(S*_)),0<e&&x<=w?(C=M,w<(P=E)&&(P=w-1,C=w-S),k=p.slice(C,P),d.scale(h,D.mix({},v,{values:k}))):e<0&&w<=b&&(A=y.indexOf(p[0]),T=y.indexOf(p[w-1]),O=Math.max(0,A-M),I=Math.min(T+E,m),j=y.slice(O,I),d.scale(h,D.mix({},v,{values:j}))))},n.process=function(e){var n,r=this,t=r.chart,i=r.type,o=t.get("coord"),a=e.deltaY,s=o.invertPoint(e);a&&(r.onZoom&&r.onZoom(a,s,r),0<a?r.onZoomin&&r.onZoomin(a,s,r):r.onZoomout&&r.onZoomout(a,s,r),n=a/Math.abs(a),-1<i.indexOf("X")&&r._applyScale(t.getXScale(),n,s.x,e),-1<i.indexOf("Y")&&t.getYScales().forEach(function(t){r._applyScale(t,n,s.y,e)})),t.repaint()},n.reset=function(){var n=this.view,r=this.originScaleDefsByField,t=n.getYScales(),e=n.getXScale();t.push(e),t.forEach(function(t){var e;t.isLinear&&(e=t.field,n.scale(e,r[e]))}),n.repaint()},r}(r);t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,n){var r=n(534),i=n(529),o=i.geoArea,a=i.geoCentroid,s=i.geoContains,u=i.geoDistance,c=i.geoLength,l=n(860).geoProject,f=n(597),h=n(816);r(f.prototype,{geoArea:function(t){return o(t)},geoAreaByName:function(t){return o(this.geoFeatureByName(t))},geoCentroid:function(t){return a(t)},geoCentroidByName:function(t){return a(this.geoFeatureByName(t))},geoDistance:function(t,e){return u(t,e)},geoLength:function(t){return c(t)},geoLengthByName:function(t){return c(this.geoFeatureByName(t))},geoContains:function(t,e){return s(t,e)},geoFeatureByName:function(e){var n;return this.rows.some(function(t){return t.name===e&&(n=t,!0)}),n},geoFeatureByPosition:function(e){var n;return this.rows.some(function(t){return!!s(t,e)&&(n=t,!0)}),n},geoNameByPosition:function(t){var e=this.geoFeatureByPosition(t);if(e)return e.name},getGeoProjection:h,geoProject:function(t,e,n){return e=h(e,n),l(t,e)},geoProjectByName:function(t,e,n){return e=h(e,n),l(this.geoFeatureByName(t),e)},geoProjectPosition:function(t,e,n){return(e=h(e,n))(t)},geoProjectInvert:function(t,e,n){return(e=h(e,n)).invert(t)}})},function(t,e,n){var i=n(547),o=n(626),a=n(815);t.exports=function(t,e){var n=void 0;if(i(e)&&(n=e),o(e)&&(n=function(t){return a(t,e)}),n)for(var r=0;r<t.length;r+=1)if(n(t[r]))return t[r];return null}},function(t,e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){return"object"===(void 0===t?"undefined":n(t))&&null!==t}},function(t,e,n){!function(t,O,I){"use strict";var j=1e-6;function e(){}var n=Infinity,r=n,i=-n,o=i,l={point:a,lineStart:e,lineEnd:e,polygonStart:e,polygonEnd:e,result:function(){var t=[[n,r],[i,o]];i=o=-(r=n=Infinity);return t}};function a(t,e){if(t<n)n=t;if(t>i)i=t;if(e<r)r=e;if(e>o)o=e}function R(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]);if(o!=null)t.clipExtent(null);O.geoStream(n,t.stream(l));var a=l.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),u=+e[0][0]+(r-s*(a[1][0]+a[0][0]))/2,c=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;if(o!=null)t.clipExtent(o);return t.scale(s*150).translate([u,c])}function L(t,e,n){return R(t,[[0,0],e],n)}function p(r){var i=r.length;return{point:function(t,e){var n=-1;while(++n<i)r[n].point(t,e)},sphere:function(){var t=-1;while(++t<i)r[t].sphere()},lineStart:function(){var t=-1;while(++t<i)r[t].lineStart()},lineEnd:function(){var t=-1;while(++t<i)r[t].lineEnd()},polygonStart:function(){var t=-1;while(++t<i)r[t].polygonStart()},polygonEnd:function(){var t=-1;while(++t<i)r[t].polygonEnd()}}}function s(){var e,n,c=O.geoAlbers(),i,o=O.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=O.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,r,l={point:function(t,e){r=[t,e]}};function f(t){var e=t[0],n=t[1];return r=null,(i.point(e,n),r)||(a.point(e,n),r)||(u.point(e,n),r)}f.invert=function(t){var e=c.scale(),n=c.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:c).invert(t)};f.stream=function(t){return e&&n===t?e:e=p([c.stream(n=t),o.stream(t),s.stream(t)])};f.precision=function(t){if(!arguments.length)return c.precision();c.precision(t),o.precision(t),s.precision(t);return h()};f.scale=function(t){if(!arguments.length)return c.scale();c.scale(t),o.scale(t*.35),s.scale(t);return f.translate(c.translate())};f.translate=function(t){if(!arguments.length)return c.translate();var e=c.scale(),n=+t[0],r=+t[1];i=c.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(l);a=o.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+j,r+.12*e+j],[n-.214*e-j,r+.234*e-j]]).stream(l);u=s.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+j,r+.166*e+j],[n-.115*e-j,r+.234*e-j]]).stream(l);return h()};f.fitExtent=function(t,e){return R(f,t,e)};f.fitSize=function(t,e){return L(f,t,e)};function h(){e=n=null;return f}f.drawCompositionBorders=function(t){var e=c([-102.91,26.3]);var n=c([-104,27.5]);var r=c([-108,29.1]);var i=c([-110,29.1]);var o=c([-110,26.7]);var a=c([-112.8,27.6]);var s=c([-114.3,30.6]);var u=c([-119.3,30.1]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.moveTo(o[0],o[1]);t.lineTo(a[0],a[1]);t.lineTo(s[0],s[1]);t.lineTo(u[0],u[1])};f.getCompositionBorders=function(){var t=I.path();this.drawCompositionBorders(t);return t.toString()};return f.scale(1070)}function m(r){var i=r.length;return{point:function(t,e){var n=-1;while(++n<i)r[n].point(t,e)},sphere:function(){var t=-1;while(++t<i)r[t].sphere()},lineStart:function(){var t=-1;while(++t<i)r[t].lineStart()},lineEnd:function(){var t=-1;while(++t<i)r[t].lineEnd()},polygonStart:function(){var t=-1;while(++t<i)r[t].polygonStart()},polygonEnd:function(){var t=-1;while(++t<i)r[t].polygonEnd()}}}function u(){var e,n,w=O.geoAlbers(),i,o=O.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=O.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,c=O.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),l,f=O.geoEquirectangular().rotate([173,14]),h,p=O.geoEquirectangular().rotate([-145,-16.8]),d,r,g={point:function(t,e){r=[t,e]}};function v(t){var e=t[0],n=t[1];return r=null,(i.point(e,n),r)||(a.point(e,n),r)||(u.point(e,n),r)||(l.point(e,n),r)||(h.point(e,n),r)||(d.point(e,n),r)}v.invert=function(t){var e=w.scale(),n=w.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?o:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:i>=.2064&&i<.2413&&r>=.312&&r<.385?c:i>=.09&&i<.1197&&r>=-.4243&&r<-.3232?f:i>=-.0518&&i<.0895&&r>=-.4243&&r<-.3824?p:w).invert(t)};v.stream=function(t){return e&&n===t?e:e=m([w.stream(n=t),o.stream(t),s.stream(t),c.stream(t),f.stream(t),p.stream(t)])};v.precision=function(t){if(!arguments.length){return w.precision()}w.precision(t);o.precision(t);s.precision(t);c.precision(t);f.precision(t);p.precision(t);return y()};v.scale=function(t){if(!arguments.length){return w.scale()}w.scale(t);o.scale(t*.35);s.scale(t);c.scale(t);f.scale(t*2);p.scale(t);return v.translate(w.translate())};v.translate=function(t){if(!arguments.length){return w.translate()}var e=w.scale(),n=+t[0],r=+t[1];i=w.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(g);a=o.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+j,r+.12*e+j],[n-.214*e-j,r+.233*e-j]]).stream(g);u=s.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+j,r+.166*e+j],[n-.115*e-j,r+.233*e-j]]).stream(g);l=c.translate([n+.35*e,r+.224*e]).clipExtent([[n+.312*e+j,r+.2064*e+j],[n+.385*e-j,r+.233*e-j]]).stream(g);h=f.translate([n-.492*e,r+.09*e]).clipExtent([[n-.4243*e+j,r+.0903*e+j],[n-.3233*e-j,r+.1197*e-j]]).stream(g);d=p.translate([n-.408*e,r+.018*e]).clipExtent([[n-.4244*e+j,r-.0519*e+j],[n-.3824*e-j,r+.0895*e-j]]).stream(g);return y()};v.fitExtent=function(t,e){return R(v,t,e)};v.fitSize=function(t,e){return L(v,t,e)};function y(){e=n=null;return v}v.drawCompositionBorders=function(t){var e=w([-110.4641,28.2805]);var n=w([-104.0597,28.9528]);var r=w([-103.7049,25.1031]);var i=w([-109.8337,24.4531]);var o=w([-124.4745,28.1407]);var a=w([-110.931,30.8844]);var s=w([-109.8337,24.4531]);var u=w([-122.4628,21.8562]);var c=w([-76.8579,25.1544]);var l=w([-72.429,24.2097]);var f=w([-72.8265,22.7056]);var h=w([-77.1852,23.6392]);var p=w([-125.0093,29.7791]);var d=w([-118.5193,31.3262]);var g=w([-118.064,29.6912]);var v=w([-124.4369,28.169]);var y=w([-128.1314,37.4582]);var m=w([-125.2132,38.214]);var x=w([-122.3616,30.5115]);var b=w([-125.0315,29.8211]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();t.moveTo(o[0],o[1]);t.lineTo(a[0],a[1]);t.lineTo(s[0],s[1]);t.lineTo(s[0],s[1]);t.lineTo(u[0],u[1]);t.closePath();t.moveTo(c[0],c[1]);t.lineTo(l[0],l[1]);t.lineTo(f[0],f[1]);t.lineTo(f[0],f[1]);t.lineTo(h[0],h[1]);t.closePath();t.moveTo(p[0],p[1]);t.lineTo(d[0],d[1]);t.lineTo(g[0],g[1]);t.lineTo(g[0],g[1]);t.lineTo(v[0],v[1]);t.closePath();t.moveTo(y[0],y[1]);t.lineTo(m[0],m[1]);t.lineTo(x[0],x[1]);t.lineTo(x[0],x[1]);t.lineTo(b[0],b[1]);t.closePath()};v.getCompositionBorders=function(){var t=I.path();this.drawCompositionBorders(t);return t.toString()};return v.scale(1070)}function f(r){var i=r.length;return{point:function(t,e){var n=-1;while(++n<i){r[n].point(t,e)}},sphere:function(){var t=-1;while(++t<i){r[t].sphere()}},lineStart:function(){var t=-1;while(++t<i){r[t].lineStart()}},lineEnd:function(){var t=-1;while(++t<i){r[t].lineEnd()}},polygonStart:function(){var t=-1;while(++t<i){r[t].polygonStart()}},polygonEnd:function(){var t=-1;while(++t<i){r[t].polygonEnd()}}}}function c(){var e,n,o=O.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),i,a=O.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),s,r,u={point:function(t,e){r=[t,e]}};function c(t){var e=t[0],n=t[1];return r=null,(i.point(e,n),r)||(s.point(e,n),r)}c.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.05346&&i<.0897&&r>=-.13388&&r<-.0322?a:o).invert(t)};c.stream=function(t){return e&&n===t?e:e=f([o.stream(n=t),a.stream(t)])};c.precision=function(t){if(!arguments.length){return o.precision()}o.precision(t);a.precision(t);return l()};c.scale=function(t){if(!arguments.length){return o.scale()}o.scale(t);a.scale(t);return c.translate(o.translate())};c.translate=function(t){if(!arguments.length){return o.translate()}var e=o.scale(),n=+t[0],r=+t[1];i=o.translate(t).clipExtent([[n-.06857*e,r-.1288*e],[n+.13249*e,r+.06*e]]).stream(u);s=a.translate([n+.1*e,r-.094*e]).clipExtent([[n-.1331*e+j,r+.053457*e+j],[n-.0354*e-j,r+.08969*e-j]]).stream(u);return l()};c.fitExtent=function(t,e){return R(c,t,e)};c.fitSize=function(t,e){return L(c,t,e)};function l(){e=n=null;return c}c.drawCompositionBorders=function(t){var e=o([-14.034675,34.965007]);var n=o([-7.4208899,35.536988]);var r=o([-7.3148275,33.54359]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1])};c.getCompositionBorders=function(){var t=I.path();this.drawCompositionBorders(t);return t.toString()};return c.scale(2700)}function d(r){var i=r.length;return{point:function(t,e){var n=-1;while(++n<i){r[n].point(t,e)}},sphere:function(){var t=-1;while(++t<i){r[t].sphere()}},lineStart:function(){var t=-1;while(++t<i){r[t].lineStart()}},lineEnd:function(){var t=-1;while(++t<i){r[t].lineEnd()}},polygonStart:function(){var t=-1;while(++t<i){r[t].polygonStart()}},polygonEnd:function(){var t=-1;while(++t<i){r[t].polygonEnd()}}}}function h(){var e,n,c=O.geoConicConformal().rotate([10,-39.3]).parallels([0,60]),i,o=O.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),a,s=O.geoConicConformal().rotate([27.8,-38.6]).parallels([0,60]),u,r,l={point:function(t,e){r=[t,e]}};function f(t){var e=t[0],n=t[1];return r=null,(i.point(e,n),r)||(a.point(e,n),r)||(u.point(e,n),r)}f.invert=function(t){var e=c.scale(),n=c.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.0093&&i<.03678&&r>=-.03875&&r<-.0116?o:i>=-.0412&&i<.0091&&r>=-.07782&&r<-.01166?s:c).invert(t)};f.stream=function(t){return e&&n===t?e:e=d([c.stream(n=t),o.stream(t),s.stream(t)])};f.precision=function(t){if(!arguments.length){return c.precision()}c.precision(t);o.precision(t);s.precision(t);return h()};f.scale=function(t){if(!arguments.length){return c.scale()}c.scale(t);o.scale(t);s.scale(t*.6);return f.translate(c.translate())};f.translate=function(t){if(!arguments.length){return c.translate()}var e=c.scale(),n=+t[0],r=+t[1];i=c.translate(t).clipExtent([[n-.0115*e,r-.1138*e],[n+.2105*e,r+.0673*e]]).stream(l);a=o.translate([n-.0265*e,r+.025*e]).clipExtent([[n-.0388*e+j,r+.0093*e+j],[n-.0116*e-j,r+.0368*e-j]]).stream(l);u=s.translate([n-.045*e,r+-.02*e]).clipExtent([[n-.0778*e+j,r-.0413*e+j],[n-.0117*e-j,r+.0091*e-j]]).stream(l);return h()};f.fitExtent=function(t,e){return R(f,t,e)};f.fitSize=function(t,e){return L(f,t,e)};function h(){e=n=null;return f}f.drawCompositionBorders=function(t){var e=c([-12.8351,38.7113]);var n=c([-10.8482,38.7633]);var r=c([-10.8181,37.2072]);var i=c([-12.7345,37.1573]);var o=c([-16.0753,41.4436]);var a=c([-10.9168,41.6861]);var s=c([-10.8557,38.7747]);var u=c([-15.6728,38.5505]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();t.moveTo(o[0],o[1]);t.lineTo(a[0],a[1]);t.lineTo(s[0],s[1]);t.lineTo(s[0],s[1]);t.lineTo(u[0],u[1]);t.closePath()};f.getCompositionBorders=function(){var t=I.path();this.drawCompositionBorders(t);return t.toString()};return f.scale(4200)}function g(r){var i=r.length;return{point:function(t,e){var n=-1;while(++n<i){r[n].point(t,e)}},sphere:function(){var t=-1;while(++t<i){r[t].sphere()}},lineStart:function(){var t=-1;while(++t<i){r[t].lineStart()}},lineEnd:function(){var t=-1;while(++t<i){r[t].lineEnd()}},polygonStart:function(){var t=-1;while(++t<i){r[t].polygonStart()}},polygonEnd:function(){var t=-1;while(++t<i){r[t].polygonEnd()}}}}function v(){var e,n,o=O.geoMercator().rotate([80,1.5]),i,a=O.geoMercator().rotate([90.73,1]),s,r,u={point:function(t,e){r=[t,e]}};function c(t){var e=t[0],n=t[1];return r=null,(i.point(e,n),r)||(s.point(e,n),r)}c.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=-.0676&&i<-.026&&r>=-.0857&&r<-.0263?a:o).invert(t)};c.stream=function(t){return e&&n===t?e:e=g([o.stream(n=t),a.stream(t)])};c.precision=function(t){if(!arguments.length){return o.precision()}o.precision(t);a.precision(t);return l()};c.scale=function(t){if(!arguments.length){return o.scale()}o.scale(t);a.scale(t);return c.translate(o.translate())};c.translate=function(t){if(!arguments.length){return o.translate()}var e=o.scale(),n=+t[0],r=+t[1];i=o.translate(t).clipExtent([[n-.0262*e,r-.0734*e],[n+.1741*e,r+.079*e]]).stream(u);s=a.translate([n-.06*e,r-.04*e]).clipExtent([[n-.0857*e+j,r-.0676*e+j],[n-.0263*e-j,r-.026*e-j]]).stream(u);return l()};c.fitExtent=function(t,e){return R(c,t,e)};c.fitSize=function(t,e){return L(c,t,e)};function l(){e=n=null;return c}c.drawCompositionBorders=function(t){var e=o([-84.9032,2.3757]);var n=o([-81.5047,2.3708]);var r=o([-81.5063,-.01]);var i=o([-84.9086,-.005]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath()};c.getCompositionBorders=function(){var t=I.path();this.drawCompositionBorders(t);return t.toString()};return c.scale(3500)}function y(r){var i=r.length;return{point:function(t,e){var n=-1;while(++n<i){r[n].point(t,e)}},sphere:function(){var t=-1;while(++t<i){r[t].sphere()}},lineStart:function(){var t=-1;while(++t<i){r[t].lineStart()}},lineEnd:function(){var t=-1;while(++t<i){r[t].lineEnd()}},polygonStart:function(){var t=-1;while(++t<i){r[t].polygonStart()}},polygonEnd:function(){var t=-1;while(++t<i){r[t].polygonEnd()}}}}function x(){var e,n,p=O.geoTransverseMercator().rotate([72,37]),i,o=O.geoStereographic().rotate([72,0]),a,s=O.geoMercator().rotate([80,33.5]),u,c=O.geoMercator().rotate([110,25]),l,r,f={point:function(t,e){r=[t,e]}};function h(t){var e=t[0],n=t[1];return r=null,(i.point(e,n),r)||(a.point(e,n),r)||(u.point(e,n),r)||(l.point(e,n),r)}h.invert=function(t){var e=p.scale(),n=p.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.2582&&i<.32&&r>=-.1036&&r<-.087?o:i>=-.01298&&i<.0133&&r>=-.11396&&r<-.05944?s:i>=.01539&&i<.03911&&r>=-.089&&r<-.0588?c:p).invert(t)};h.stream=function(t){return e&&n===t?e:e=y([p.stream(n=t),o.stream(t),s.stream(t),c.stream(t)])};h.precision=function(t){if(!arguments.length){return p.precision()}p.precision(t);o.precision(t);s.precision(t);c.precision(t);return d()};h.scale=function(t){if(!arguments.length){return p.scale()}p.scale(t);o.scale(t*.15);s.scale(t*1.5);c.scale(t*1.5);return h.translate(p.translate())};h.translate=function(t){if(!arguments.length){return p.translate()}var e=p.scale(),n=+t[0],r=+t[1];i=p.translate(t).clipExtent([[n-.059*e,r-.3835*e],[n+.4498*e,r+.3375*e]]).stream(f);a=o.translate([n-.087*e,r+.17*e]).clipExtent([[n-.1166*e+j,r+.2582*e+j],[n-.06*e-j,r+.32*e-j]]).stream(f);u=s.translate([n-.092*e,r-0*e]).clipExtent([[n-.114*e+j,r-.013*e+j],[n-.0594*e-j,r+.0133*e-j]]).stream(f);l=c.translate([n-.089*e,r-.0265*e]).clipExtent([[n-.089*e+j,r+.0154*e+j],[n-.0588*e-j,r+.0391*e-j]]).stream(f);return d()};h.fitExtent=function(t,e){return R(h,t,e)};h.fitSize=function(t,e){return L(h,t,e)};function d(){e=n=null;return h}h.drawCompositionBorders=function(t){var e=p([-82.6999,-51.3043]);var n=p([-77.5442,-51.6631]);var r=p([-78.0254,-55.186]);var i=p([-83.6106,-54.7785]);var o=p([-80.0638,-35.984]);var a=p([-76.2153,-36.1811]);var s=p([-76.2994,-37.6839]);var u=p([-80.2231,-37.4757]);var c=p([-78.442,-37.706]);var l=p([-76.263,-37.8054]);var f=p([-76.344,-39.1595]);var h=p([-78.5638,-39.0559]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();t.moveTo(o[0],o[1]);t.lineTo(a[0],a[1]);t.lineTo(s[0],s[1]);t.lineTo(s[0],s[1]);t.lineTo(u[0],u[1]);t.closePath();t.moveTo(c[0],c[1]);t.lineTo(l[0],l[1]);t.lineTo(f[0],f[1]);t.lineTo(f[0],f[1]);t.lineTo(h[0],h[1]);t.closePath()};h.getCompositionBorders=function(){var t=I.path();this.drawCompositionBorders(t);return t.toString()};return h.scale(700)}function b(r){var i=r.length;return{point:function(t,e){var n=-1;while(++n<i){r[n].point(t,e)}},sphere:function(){var t=-1;while(++t<i){r[t].sphere()}},lineStart:function(){var t=-1;while(++t<i){r[t].lineStart()}},lineEnd:function(){var t=-1;while(++t<i){r[t].lineEnd()}},polygonStart:function(){var t=-1;while(++t<i){r[t].polygonStart()}},polygonEnd:function(){var t=-1;while(++t<i){r[t].polygonEnd()}}}}function w(){var e,n,c=O.geoConicEquidistant().rotate([-136,-22]).parallels([40,34]),i,o=O.geoConicEquidistant().rotate([-146,-26]).parallels([40,34]),a,s=O.geoConicEquidistant().rotate([-126,-19]).parallels([40,34]),u,r,l={point:function(t,e){r=[t,e]}};function f(t){var e=t[0],n=t[1];return r=null,(i.point(e,n),r)||(a.point(e,n),r)||(u.point(e,n),r)}f.invert=function(t){var e=c.scale(),n=c.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=-.10925&&i<-.02701&&r>=-.135&&r<-.0397?o:i>=.04713&&i<.11138&&r>=-.03986&&r<.051?s:c).invert(t)};f.stream=function(t){return e&&n===t?e:e=b([c.stream(n=t),o.stream(t),s.stream(t)])};f.precision=function(t){if(!arguments.length){return c.precision()}c.precision(t);o.precision(t);s.precision(t);return h()};f.scale=function(t){if(!arguments.length){return c.scale()}c.scale(t);o.scale(t);s.scale(t*.7);return f.translate(c.translate())};f.translate=function(t){if(!arguments.length){return c.translate()}var e=c.scale(),n=+t[0],r=+t[1];i=c.translate(t).clipExtent([[n-.1352*e,r-.1091*e],[n+.117*e,r+.098*e]]).stream(l);a=o.translate([n-.0425*e,r-.005*e]).clipExtent([[n-.135*e+j,r-.1093*e+j],[n-.0397*e-j,r-.027*e-j]]).stream(l);u=s.translate(t).clipExtent([[n-.0399*e+j,r+.0471*e+j],[n+.051*e-j,r+.1114*e-j]]).stream(l);return h()};f.fitExtent=function(t,e){return R(f,t,e)};f.fitSize=function(t,e){return L(f,t,e)};function h(){e=n=null;return f}f.drawCompositionBorders=function(t){var e=c([126.01320483689143,41.621090310215585]);var n=c([133.04304387025903,42.15087523707186]);var r=c([133.3021766080688,37.43975444725098]);var i=c([126.87889168628224,36.95488945159779]);var o=c([132.9,29.8]);var a=c([134,33]);var s=c([139.3,33.2]);var u=c([139.16,30.5]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();t.moveTo(o[0],o[1]);t.lineTo(a[0],a[1]);t.lineTo(s[0],s[1]);t.lineTo(u[0],u[1])};f.getCompositionBorders=function(){var t=I.path();this.drawCompositionBorders(t);return t.toString()};return f.scale(2200)}function D(r){var i=r.length;return{point:function(t,e){var n=-1;while(++n<i){r[n].point(t,e)}},sphere:function(){var t=-1;while(++t<i){r[t].sphere()}},lineStart:function(){var t=-1;while(++t<i){r[t].lineStart()}},lineEnd:function(){var t=-1;while(++t<i){r[t].lineEnd()}},polygonStart:function(){var t=-1;while(++t<i){r[t].polygonStart()}},polygonEnd:function(){var t=-1;while(++t<i){r[t].polygonEnd()}}}}function _(){var e,n,o=O.geoConicConformal().rotate([-3,-46.2]).parallels([0,60]),i,a=O.geoMercator().center([-53.2,3.9]),s,u=O.geoMercator().center([-61.03,14.67]),c,l=O.geoMercator().center([-61.46,16.14]),f,h=O.geoMercator().center([-62.85,17.92]),p,d=O.geoMercator().center([-56.23,46.93]),g,v=O.geoMercator().center([45.16,-12.8]),y,m=O.geoMercator().center([55.52,-21.13]),x,b=O.geoMercator().center([165.8,-21.07]),w,_=O.geoMercator().center([-178.1,-14.3]),S,M=O.geoMercator().center([-150.55,-17.11]),E,C=O.geoMercator().center([-150.55,-17.11]),P,r,k={point:function(t,e){r=[t,e]}};function A(t){var e=t[0],n=t[1];return r=null,(i.point(e,n),r)||(s.point(e,n),r)||(c.point(e,n),r)||(f.point(e,n),r)||(p.point(e,n),r)||(g.point(e,n),r)||(y.point(e,n),r)||(x.point(e,n),r)||(w.point(e,n),r)||(S.point(e,n),r)||(E.point(e,n),r)||(P.point(e,n),r)}A.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.029&&i<.0864&&r>=-.14&&r<-.0996?a:i>=0&&i<.029&&r>=-.14&&r<-.0996?u:i>=-.032&&i<0&&r>=-.14&&r<-.0996?l:i>=-.052&&i<-.032&&r>=-.14&&r<-.0996?h:i>=-.076&&i<.052&&r>=-.14&&r<-.0996?d:i>=-.076&&i<-.052&&r>=.0967&&r<.1371?v:i>=-.052&&i<-.02&&r>=.0967&&r<.1371?m:i>=-.02&&i<.012&&r>=.0967&&r<.1371?b:i>=.012&&i<.033&&r>=.0967&&r<.1371?_:i>=.033&&i<.0864&&r>=.0967&&r<.1371?M:o).invert(t)};A.stream=function(t){return e&&n===t?e:e=D([o.stream(n=t),a.stream(t),u.stream(t),l.stream(t),h.stream(t),d.stream(t),v.stream(t),m.stream(t),b.stream(t),_.stream(t),M.stream(t),C.stream(t)])};A.precision=function(t){if(!arguments.length){return o.precision()}o.precision(t);a.precision(t);u.precision(t);l.precision(t);h.precision(t);d.precision(t);v.precision(t);m.precision(t);b.precision(t);_.precision(t);M.precision(t);C.precision(t);return T()};A.scale=function(t){if(!arguments.length){return o.scale()}o.scale(t);a.scale(t*.6);u.scale(t*1.6);l.scale(t*1.4);h.scale(t*5);d.scale(t*1.3);v.scale(t*1.6);m.scale(t*1.2);b.scale(t*.3);_.scale(t*2.7);M.scale(t*.5);C.scale(t*.06);return A.translate(o.translate())};A.translate=function(t){if(!arguments.length){return o.translate()}var e=o.scale(),n=+t[0],r=+t[1];i=o.translate(t).clipExtent([[n-.0996*e,r-.0908*e],[n+.0967*e,r+.0864*e]]).stream(k);s=a.translate([n-.12*e,r+.0575*e]).clipExtent([[n-.14*e+j,r+.029*e+j],[n-.0996*e-j,r+.0864*e-j]]).stream(k);c=u.translate([n-.12*e,r+.013*e]).clipExtent([[n-.14*e+j,r+0*e+j],[n-.0996*e-j,r+.029*e-j]]).stream(k);f=l.translate([n-.12*e,r-.014*e]).clipExtent([[n-.14*e+j,r-.032*e+j],[n-.0996*e-j,r+0*e-j]]).stream(k);p=h.translate([n-.12*e,r-.044*e]).clipExtent([[n-.14*e+j,r-.052*e+j],[n-.0996*e-j,r-.032*e-j]]).stream(k);g=d.translate([n-.12*e,r-.065*e]).clipExtent([[n-.14*e+j,r-.076*e+j],[n-.0996*e-j,r-.052*e-j]]).stream(k);y=v.translate([n+.117*e,r-.064*e]).clipExtent([[n+.0967*e+j,r-.076*e+j],[n+.1371*e-j,r-.052*e-j]]).stream(k);x=m.translate([n+.116*e,r-.0355*e]).clipExtent([[n+.0967*e+j,r-.052*e+j],[n+.1371*e-j,r-.02*e-j]]).stream(k);w=b.translate([n+.116*e,r-.0048*e]).clipExtent([[n+.0967*e+j,r-.02*e+j],[n+.1371*e-j,r+.012*e-j]]).stream(k);S=_.translate([n+.116*e,r+.022*e]).clipExtent([[n+.0967*e+j,r+.012*e+j],[n+.1371*e-j,r+.033*e-j]]).stream(k);P=C.translate([n+.11*e,r+.045*e]).clipExtent([[n+.0967*e+j,r+.033*e+j],[n+.1371*e-j,r+.06*e-j]]).stream(k);E=M.translate([n+.115*e,r+.075*e]).clipExtent([[n+.0967*e+j,r+.06*e+j],[n+.1371*e-j,r+.0864*e-j]]).stream(k);return T()};A.fitExtent=function(t,e){return R(A,t,e)};A.fitSize=function(t,e){return L(A,t,e)};function T(){e=n=null;return A}A.drawCompositionBorders=function(t){var e,n,r,i;e=o([-7.938886725111036,43.7219460918835]);n=o([-4.832080896458295,44.12930268549372]);r=o([-4.205299743793263,40.98096346967365]);i=o([-7.071796453126152,40.610037319181444]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([-8.42751373617692,45.32889452553031]);n=o([-5.18599305777107,45.7566442062976]);r=o([-4.832080905154431,44.129302726751426]);i=o([-7.938886737126192,43.72194613263854]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([-9.012656899657046,47.127733821030176]);n=o([-5.6105244772793155,47.579777861410626]);r=o([-5.185993067168585,45.756644248170346]);i=o([-8.427513749141811,45.32889456686326]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([-9.405747558985553,48.26506375557457]);n=o([-5.896175018439575,48.733352850851624]);r=o([-5.610524487556043,47.57977790393761]);i=o([-9.012656913808351,47.127733862971255]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([-9.908436061346974,49.642448789505856]);n=o([-6.262026716233124,50.131426841787174]);r=o([-5.896175029331232,48.73335289377258]);i=o([-9.40574757396393,48.26506379787767]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([11.996907706504462,50.16039028163579]);n=o([15.649907879773343,49.68279246765253]);r=o([15.156712840526632,48.30371557625831]);i=o([11.64122661754411,48.761078240546816]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([11.641226606955788,48.7610781975889]);n=o([15.156712825832164,48.30371553390465]);r=o([14.549932166241172,46.4866532486199]);i=o([11.204443787952183,46.91899233914248]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([11.204443778297161,46.918992296823646]);n=o([14.549932152815039,46.486653206856396]);r=o([13.994409796764009,44.695833444323256]);i=o([10.805306599253848,45.105133870684924]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([10.805306590412085,45.10513382903308]);n=o([13.99440978444733,44.695833403183606]);r=o([13.654633799024392,43.53552468558152]);i=o([10.561516803980956,43.930671459798624]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([10.561516795617383,43.93067141859757]);n=o([13.654633787361952,43.5355246448671]);r=o([12.867691604239901,40.640701985019405]);i=o([9.997809515987688,41.00288343254471]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([10.8,42.4]);n=o([12.8,42.13]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1])};A.getCompositionBorders=function(){var t=I.path();this.drawCompositionBorders(t);return t.toString()};return A.scale(2700)}function B(r){var i=r.length;return{point:function(t,e){var n=-1;while(++n<i){r[n].point(t,e)}},sphere:function(){var t=-1;while(++t<i){r[t].sphere()}},lineStart:function(){var t=-1;while(++t<i){r[t].lineStart()}},lineEnd:function(){var t=-1;while(++t<i){r[t].lineEnd()}},polygonStart:function(){var t=-1;while(++t<i){r[t].polygonStart()}},polygonEnd:function(){var t=-1;while(++t<i){r[t].polygonEnd()}}}}function S(){var e,n,o=O.geoConicConformal().rotate([-10,-53]).parallels([0,60]),i,a=O.geoMercator().center([-61.46,16.14]),s,u=O.geoMercator().center([-53.2,3.9]),c,l=O.geoConicConformal().rotate([27.8,-38.9]).parallels([0,60]),f,h=O.geoConicConformal().rotate([25.43,-37.398]).parallels([0,60]),p,d=O.geoConicConformal().rotate([31.17,-39.539]).parallels([0,60]),g,v=O.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),y,m=O.geoConicConformal().rotate([16,-28.5]).parallels([0,60]),x,b=O.geoMercator().center([-61.03,14.67]),w,_=O.geoMercator().center([45.16,-12.8]),S,M=O.geoMercator().center([55.52,-21.13]),E,C=O.geoConicConformal().rotate([-14.4,-35.95]).parallels([0,60]),P,r,k={point:function(t,e){r=[t,e]}};function A(t){var e=t[0],n=t[1];return r=null,(i.point(e,n),r)||(c.point(e,n),r)||(w.point(e,n),r)||(s.point(e,n),r)||(x.point(e,n),r)||(y.point(e,n),r)||(S.point(e,n),r)||(E.point(e,n),r)||(P.point(e,n),r)||(f.point(e,n),r)||(p.point(e,n),r)||(g.point(e,n),r)}A.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-(n[0]+.08*e))/e,i=(t[1]-n[1])/e;return(i>=-.31&&i<-.24&&r>=.14&&r<.24?a:i>=-.24&&i<-.17&&r>=.14&&r<.24?u:i>=-.17&&i<-.12&&r>=.21&&r<.24?h:i>=-.17&&i<-.14&&r>=.14&&r<.165?d:i>=-.17&&i<-.1&&r>=.14&&r<.24?l:i>=-.1&&i<-.03&&r>=.14&&r<.24?v:i>=-.03&&i<.04&&r>=.14&&r<.24?m:i>=-.31&&i<-.24&&r>=.24&&r<.34?b:i>=-.24&&i<-.17&&r>=.24&&r<.34?_:i>=-.17&&i<-.1&&r>=.24&&r<.34?M:i>=-.1&&i<-.03&&r>=.24&&r<.34?C:o).invert(t)};A.stream=function(t){return e&&n===t?e:e=B([o.stream(n=t),u.stream(t),b.stream(t),a.stream(t),m.stream(t),v.stream(t),_.stream(t),M.stream(t),C.stream(t),l.stream(t),h.stream(t),d.stream(t)])};A.precision=function(t){if(!arguments.length){return o.precision()}o.precision(t);u.precision(t);b.precision(t);a.precision(t);m.precision(t);v.precision(t);_.precision(t);M.precision(t);C.precision(t);l.precision(t);h.precision(t);d.precision(t);return T()};A.scale=function(t){if(!arguments.length){return o.scale()}o.scale(t);a.scale(t*3);u.scale(t*.8);b.scale(t*3.5);M.scale(t*2.7);l.scale(t*2);h.scale(t*2);d.scale(t*2);v.scale(t*3);m.scale(t);_.scale(t*5.5);C.scale(t*6);return A.translate(o.translate())};A.translate=function(t){if(!arguments.length){return o.translate()}var e=o.scale(),n=+t[0],r=+t[1];i=o.translate([n-.08*e,r]).clipExtent([[n-.51*e,r-.33*e],[n+.5*e,r+.33*e]]).stream(k);s=a.translate([n+.19*e,r-.275*e]).clipExtent([[n+.14*e+j,r-.31*e+j],[n+.24*e-j,r-.24*e-j]]).stream(k);c=u.translate([n+.19*e,r-.205*e]).clipExtent([[n+.14*e+j,r-.24*e+j],[n+.24*e-j,r-.17*e-j]]).stream(k);f=l.translate([n+.19*e,r-.135*e]).clipExtent([[n+.14*e+j,r-.17*e+j],[n+.24*e-j,r-.1*e-j]]).stream(k);p=h.translate([n+.225*e,r-.147*e]).clipExtent([[n+.21*e+j,r-.17*e+j],[n+.24*e-j,r-.12*e-j]]).stream(k);g=d.translate([n+.153*e,r-.15*e]).clipExtent([[n+.14*e+j,r-.17*e+j],[n+.165*e-j,r-.14*e-j]]).stream(k);y=v.translate([n+.19*e,r-.065*e]).clipExtent([[n+.14*e+j,r-.1*e+j],[n+.24*e-j,r-.03*e-j]]).stream(k);x=m.translate([n+.19*e,r+.005*e]).clipExtent([[n+.14*e+j,r-.03*e+j],[n+.24*e-j,r+.04*e-j]]).stream(k);w=b.translate([n+.29*e,r-.275*e]).clipExtent([[n+.24*e+j,r-.31*e+j],[n+.34*e-j,r-.24*e-j]]).stream(k);S=_.translate([n+.29*e,r-.205*e]).clipExtent([[n+.24*e+j,r-.24*e+j],[n+.34*e-j,r-.17*e-j]]).stream(k);E=M.translate([n+.29*e,r-.135*e]).clipExtent([[n+.24*e+j,r-.17*e+j],[n+.34*e-j,r-.1*e-j]]).stream(k);P=C.translate([n+.29*e,r-.065*e]).clipExtent([[n+.24*e+j,r-.1*e+j],[n+.34*e-j,r-.03*e-j]]).stream(k);return T()};A.fitExtent=function(t,e){return R(A,t,e)};A.fitSize=function(t,e){return L(A,t,e)};function T(){e=n=null;return A}A.drawCompositionBorders=function(t){var e,n,r,i;e=o([42.45755610828648,63.343658547914934]);n=o([52.65837266667029,59.35045080290929]);r=o([47.19754502247785,56.12653496548117]);i=o([37.673034273363044,59.61638268506111]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([59.41110754003403,62.35069727399336]);n=o([66.75050228640794,57.11797303636038]);r=o([60.236065725110436,54.63331433818992]);i=o([52.65837313153311,59.350450804599355]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([48.81091130080243,66.93353402634641]);n=o([59.41110730654679,62.35069740653086]);r=o([52.6583728974441,59.3504509222445]);i=o([42.45755631675751,63.34365868805821]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([31.054198418446475,52.1080673766184]);n=o([39.09869284884117,49.400700047190554]);r=o([36.0580811499175,46.02944174908498]);i=o([28.690508588835726,48.433126979386415]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([33.977877745912025,55.849945501331]);n=o([42.75328432167726,52.78455122462353]);r=o([39.09869297540224,49.400700176148625]);i=o([31.05419851807008,52.10806751810923]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([52.658372900759296,59.35045068526415]);n=o([60.23606549583304,54.63331423800264]);r=o([54.6756370953122,51.892298789399455]);i=o([47.19754524788189,56.126534861222794]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([47.19754506082455,56.126534735591456]);n=o([54.675636900123514,51.892298681337095]);r=o([49.94448648951486,48.98775484983285]);i=o([42.75328468716108,52.78455126060818]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([42.75328453416769,52.78455113209101]);n=o([49.94448632339758,48.98775473706457]);r=o([45.912339990394315,45.99361784987003]);i=o([39.09869317356607,49.40070009378711]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([37.673034114296634,59.61638254183119]);n=o([47.197544835420544,56.126534839849846]);r=o([42.75328447467064,52.78455135314068]);i=o([33.977877870363905,55.849945644671145]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([44.56748486446032,57.26489367845818]);r=o([43.9335791193588,53.746540942601726]);i=o([43,56]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([37.673034114296634,59.61638254183119]);n=o([40.25902691953466,58.83002044222639]);r=o([38.458270492742024,57.26232178028002]);i=o([35.97754948030156,58.00266637992386]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath()};A.getCompositionBorders=function(){var t=I.path();this.drawCompositionBorders(t);return t.toString()};return A.scale(750)}function M(r){var i=r.length;return{point:function(t,e){var n=-1;while(++n<i){r[n].point(t,e)}},sphere:function(){var t=-1;while(++t<i){r[t].sphere()}},lineStart:function(){var t=-1;while(++t<i){r[t].lineStart()}},lineEnd:function(){var t=-1;while(++t<i){r[t].lineEnd()}},polygonStart:function(){var t=-1;while(++t<i){r[t].polygonStart()}},polygonEnd:function(){var t=-1;while(++t<i){r[t].polygonEnd()}}}}function E(){var e,n,o=O.geoMercator().center([105.25,4]),i,a=O.geoMercator().center([118.65,2.86]),s,r,u={point:function(t,e){r=[t,e]}};function c(t){var e=t[0],n=t[1];return r=null,(i.point(e,n),r)||(s.point(e,n),r)}c.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=-.0521&&i<.0229&&r>=-.0111&&r<.1?a:o).invert(t)};c.stream=function(t){return e&&n===t?e:e=M([o.stream(n=t),a.stream(t)])};c.precision=function(t){if(!arguments.length){return o.precision()}o.precision(t);a.precision(t);return l()};c.scale=function(t){if(!arguments.length){return o.scale()}o.scale(t);a.scale(t*.615);return c.translate(o.translate())};c.translate=function(t){if(!arguments.length){return o.translate()}var e=o.scale(),n=+t[0],r=+t[1];i=o.translate(t).clipExtent([[n-.11*e,r-.0521*e],[n-.0111*e,r+.0521*e]]).stream(u);s=a.translate([n+.09*e,r-0*e]).clipExtent([[n-.0111*e+j,r-.0521*e+j],[n+.1*e-j,r+.024*e-j]]).stream(u);return l()};c.fitExtent=function(t,e){return R(c,t,e)};c.fitSize=function(t,e){return L(c,t,e)};function l(){e=n=null;return c}c.drawCompositionBorders=function(t){var e=o([106.3214,2.0228]);var n=o([105.1843,2.3761]);var r=o([104.2151,3.3618]);var i=o([104.215,4.5651]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1])};c.getCompositionBorders=function(){var t=I.path();this.drawCompositionBorders(t);return t.toString()};return c.scale(4800)}function C(r){var i=r.length;return{point:function(t,e){var n=-1;while(++n<i){r[n].point(t,e)}},sphere:function(){var t=-1;while(++t<i){r[t].sphere()}},lineStart:function(){var t=-1;while(++t<i){r[t].lineStart()}},lineEnd:function(){var t=-1;while(++t<i){r[t].lineEnd()}},polygonStart:function(){var t=-1;while(++t<i){r[t].polygonStart()}},polygonEnd:function(){var t=-1;while(++t<i){r[t].polygonEnd()}}}}function P(){var e,n,o=O.geoMercator().rotate([-9.5,-1.5]),i,a=O.geoMercator().rotate([-8.6,-3.5]),s,u=O.geoMercator().rotate([-5.6,1.45]),c,r,l={point:function(t,e){r=[t,e]}};function f(t){var e=t[0],n=t[1];return r=null,(i.point(e,n),r)||(s.point(e,n),r)||(c.point(e,n),r)}f.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=-.02&&i<0&&r>=-.038&&r<-.005?a:i>=0&&i<.02&&r>=-.038&&r<-.005?u:o).invert(t)};f.stream=function(t){return e&&n===t?e:e=C([o.stream(n=t),a.stream(t),u.stream(t)])};f.precision=function(t){if(!arguments.length){return o.precision()}o.precision(t);a.precision(t);u.precision(t);return h()};f.scale=function(t){if(!arguments.length){return o.scale()}o.scale(t);a.scale(t*1.5);u.scale(t*4);return f.translate(o.translate())};f.translate=function(t){if(!arguments.length){return o.translate()}var e=o.scale(),n=+t[0],r=+t[1];i=o.translate(t).clipExtent([[n-.005*e,r-.02*e],[n+.038*e,r+.02*e]]).stream(l);s=a.translate([n-.025*e,r-.01*e]).clipExtent([[n-.038*e+j,r-.02*e+j],[n-.005*e-j,r+0*e-j]]).stream(l);c=u.translate([n-.025*e,r+.01*e]).clipExtent([[n-.038*e+j,r-0*e+j],[n-.005*e-j,r+.02*e-j]]).stream(l);return h()};f.fitExtent=function(t,e){return R(f,t,e)};f.fitSize=function(t,e){return L(f,t,e)};function h(){e=n=null;return f}f.drawCompositionBorders=function(t){var e,n,r,i;e=o([9.21327272751682,2.645820439454123]);n=o([11.679126293239872,2.644755519268689]);r=o([11.676845389029227,.35307824637606433]);i=o([9.213572917774014,.35414205204417754]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([7.320873711543669,2.64475551449975]);n=o([9.213272722738658,2.645820434679803]);r=o([9.213422896480349,1.4999812505283054]);i=o([7.322014760520787,1.4989168878985566]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath();e=o([7.3220147605302905,1.4989168783492766]);n=o([9.213422896481598,1.499981240979021]);r=o([9.213572912999604,.354142056817247]);i=o([7.323154615739809,.353078251154504]);t.moveTo(e[0],e[1]);t.lineTo(n[0],n[1]);t.lineTo(r[0],r[1]);t.lineTo(i[0],i[1]);t.closePath()};f.getCompositionBorders=function(){var t=I.path();this.drawCompositionBorders(t);return t.toString()};return f.scale(12e3)}t.geoAlbersUsa=s,t.geoAlbersUsaTerritories=u,t.geoConicConformalEurope=S,t.geoConicConformalFrance=_,t.geoConicConformalPortugal=h,t.geoConicConformalSpain=c,t.geoConicEquidistantJapan=w,t.geoMercatorEcuador=v,t.geoMercatorEquatorialGuinea=P,t.geoMercatorMalaysia=E,t.geoTransverseMercatorChile=x,Object.defineProperty(t,"__esModule",{value:true})}(e,n(1333),n(817))},function(t,e,n){var r=n(534),i=n(597);r(i.prototype,{getAllNodes:function(){var e=[],t=this.root;return t.each?t.each(function(t){e.push(t)}):t.eachNode&&t.eachNode(function(t){e.push(t)}),e},getAllLinks:function(){for(var e,n=[],r=[this.root];e=r.pop();){var t=e.children;t&&t.forEach(function(t){n.push({source:e,target:t}),r.push(t)})}return n}}),r(i.prototype,{getAllEdges:i.prototype.getAllLinks})},function(t,e,n){var r=n(534),i=n(681),o=n(559);r(n(597).prototype,{partition:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=[]),o(this.rows,t,e)},group:function(t,e){var n=this.partition(t,e);return i(n)},groups:function(t,e){return this.group(t,e)}})},function(t,e,n){var i=n(541),o=n(537),a=Object.prototype.hasOwnProperty;t.exports=function(t,e){if(!e||!o(t))return t;var n,r={};return i(t,function(t){n=e(t),a.call(r,n)?r[n].push(t):r[n]=[t]}),r}},function(t,e,n){var r=n(537),o=n(547),a=n(543);t.exports=function(t,i){var e;return void 0===i&&(i=[]),o(i)?e=i:r(i)?e=function(t,e){for(var n=0;n<i.length;n++){var r=i[n];if(t[r]<e[r])return-1;if(t[r]>e[r])return 1}return 0}:a(i)&&(e=function(t,e){return t[i]<e[i]?-1:t[i]>e[i]?1:0}),t.sort(e)}},function(t,e,n){var r=n(534),i=n(819),o=n(537),a=n(568),s=n(597),u=n(820);function c(t,e){var n=t.getColumn(e);return o(n)&&o(n[0])&&(n=i(n)),n}n(682).STATISTICS_METHODS.forEach(function(e){s.prototype[e]=function(t){return a[e](c(this,t))}});var l=a.quantile;r(s.prototype,{average:s.prototype.mean,quantile:function(t,e){return l(c(this,t),e)},quantiles:function(t,e){var n=c(this,t);return e.map(function(t){return l(n,t)})},quantilesByFraction:function(t,e){return this.quantiles(t,u(e))},range:function(t){return[this.min(t),this.max(t)]},extent:function(t){return this.range(t)}})},function(t,e,n){var r=n(543),i=n(598);(0,n(531).registerConnector)("default",function(t,e){if(r(t)&&(t=e.getView(t)),!t)throw new TypeError("Invalid dataView");return i(t.rows)})},function(t,e){var n,r=(n={},function(t){return n[t=t||"g"]?n[t]+=1:n[t]=1,t+n[t]});t.exports=r},function(t,e,n){var r=n(543),i=n(1339),o=i.dsvFormat,a=i.csvParse,s=i.tsvParse,u=n(531).registerConnector;u("dsv",function(t,e){void 0===e&&(e={});var n=e.delimiter||",";if(!r(n))throw new TypeError("Invalid delimiter: must be a string!");return o(n).parse(t)}),u("csv",function(t){return a(t)}),u("tsv",function(t){return s(t)})},function(t,e,n){var r=n(529).geoGraticule;function i(t,e){e.dataType="geo-graticule";var n=r().lines();return n.map(function(t,e){return t.index=""+e,t}),e.rows=n}(0,n(531).registerConnector)("geo-graticule",i),t.exports=i},function(t,e){t.exports=function(t){var o=[];return t.replace(n,function(t,e,n){var r,i=e.toLowerCase();for(n=(r=n.match(s))?r.map(Number):[],"m"==i&&2<n.length&&(o.push([e].concat(n.splice(0,2))),i="l",e="m"==e?"l":"L");;){if(n.length==a[i])return n.unshift(e),o.push(n);if(n.length<a[i])throw new Error("malformed path data");o.push([e].concat(n.splice(0,a[i])))}}),o};var a={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var s=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},function(t,e){t.exports=function(t){var i=0,o=0,a=0,s=0;return t.map(function(t){var e=(t=t.slice())[0],n=e.toUpperCase();if(e!=n)switch(t[0]=n,e){case"a":t[6]+=a,t[7]+=s;break;case"v":t[1]+=s;break;case"h":t[1]+=a;break;default:for(var r=1;r<t.length;)t[r++]+=a,t[r++]+=s}switch(n){case"Z":a=i,s=o;break;case"H":a=t[1];break;case"V":s=t[1];break;case"M":a=i=t[1],s=o=t[2];break;default:a=t[t.length-2],s=t[t.length-1]}return t})}},function(t,e,n){var o=n(534),a=n(547),r=n(531),s=r.GRAPH,i=r.registerConnector,u={nodes:function(t){return t.nodes},edges:function(t){return t.edges}};function c(t,e,n){e=o({},u,e),n.dataType=s;var r=e.nodes,i=e.edges;if(r&&!a(r))throw new TypeError("Invalid nodes: must be a function!");if(i&&!a(i))throw new TypeError("Invalid edges: must be a function!");return n.rows=n.graph={nodes:r(t),edges:i(t)},o(n,n.graph),n.rows}i("graph",c),i("diagram",c)},function(t,e,n){var u=n(534),c=n(598),r=n(1150),l=r.getGridForHexJSON,f=r.renderHexJSON,i=n(531),h=i.HEX,o=i.registerConnector,p={width:1,height:1};function d(e){return e.cx=e.x,e.cy=e.y,e.x=[],e.y=[],e.vertices.forEach(function(t){e.x.push(t.x+e.cx),e.y.push(t.y+e.cy)}),e}function a(t,e,n){n.dataType=h;var r=(e=u({},p,e)).width,i=e.height,o=c(t);n._HexJSON=o;var a=n._GridHexJSON=l(o),s=n.rows=f(o,r,i).map(d);return n._gridRows=f(a,r,i).map(d),s}o("hex",a),o("hexjson",a),o("hex-json",a),o("HexJSON",a),t.exports=a},function(t,e,n){!function(t,g){"use strict";function e(e,t,n){var r=e.layout;var i=[];var o=0;Object.keys(e.hexes).forEach(function(t){e.hexes[t].key=t;i.push(e.hexes[t])});var a=g.max(i,function(t){return+t.q}),s=g.min(i,function(t){return+t.q}),u=g.max(i,function(t){return+t.r}),c=g.min(i,function(t){return+t.r});var l=a-s+1,f=u-c+1;if(r==="odd-r"||r==="even-r"){o=g.min([t/((l+.5)*Math.sqrt(3)),n/((f+1/3)*1.5)])}else{o=g.min([n/((f+.5)*Math.sqrt(3)),t/((l+1/3)*1.5)])}var h=o*Math.sqrt(3);var p=m(r,h,o);var d=x(p);i.forEach(function(t){t.qc=t.q-s;t.rc=u-t.r;t.x=v(t,r,h,o);t.y=y(t,r,h,o);t.vertices=p;t.points=d});return i}function v(t,e,n,r){var i=0,o=0;switch(e){case"odd-r":o=t.rc%2===1?n:n/2;i=t.qc*n+o;break;case"even-r":o=t.rc%2===0?n:n/2;i=t.qc*n+o;break;case"odd-q":case"even-q":i=t.qc*r*1.5+r;break}return i}function y(t,e,n,r){var i=0,o=0;switch(e){case"odd-r":case"even-r":i=t.rc*r*1.5+r;break;case"odd-q":o=t.qc%2===1?n:n/2;i=t.rc*n+o;break;case"even-q":o=t.qc%2===0?n:n/2;i=t.rc*n+o;break}return i}function m(t,e,n){var r=[];switch(t){case"odd-r":case"even-r":r.push({x:0,y:0-n});r.push({x:0+e*.5,y:0-.5*n});r.push({x:0+e*.5,y:0+.5*n});r.push({x:0,y:0+n});r.push({x:0-e*.5,y:0+.5*n});r.push({x:0-e*.5,y:0-.5*n});break;case"odd-q":case"even-q":r.push({x:0-n,y:0});r.push({x:0-.5*n,y:0-e*.5});r.push({x:0+.5*n,y:0-e*.5});r.push({x:0+n,y:0});r.push({x:0+.5*n,y:0+e*.5});r.push({x:0-.5*n,y:0+e*.5});break}return r}function x(t){var e="";t.forEach(function(t){e+=t.x+","+t.y+" "});return e.substring(0,e.length-1)}function n(e){var t={};t.layout=e.layout;t.hexes={};var n=[];Object.keys(e.hexes).forEach(function(t){n.push(e.hexes[t])});var r=g.max(n,function(t){return+t.q}),i=g.min(n,function(t){return+t.q}),o=g.max(n,function(t){return+t.r}),a=g.min(n,function(t){return+t.r});var s,u,c;for(s=i;s<=r;s++){for(u=a;u<=o;u++){c="Q"+s+"R"+u;t.hexes[c]={q:s,r:u}}}return t}t.renderHexJSON=e,t.getGridForHexJSON=n,Object.defineProperty(t,"__esModule",{value:true})}(e,n(561))},function(t,e,n){var i=n(547),o=n(582).hierarchy,r=n(531),a=r.HIERARCHY,s=r.registerConnector;function u(t,e,n){n.dataType=a;var r=e&&e.children?e.children:null;if(r&&!i(r))throw new TypeError("Invalid children: must be a function!");return e.pureData?n.rows=n.root=t:n.rows=n.root=o(t,r),t}s("hierarchy",u),s("tree",u)},function(t,e,n){var o=n(543),a=n(1337).feature,s=n(821),r=n(531).registerConnector;function i(t,e,n){var r=e.object;if(!o(r))throw new TypeError("Invalid object: must be a string!");var i=a(t,t.objects[r]);return s(i,e,n)}r("topojson",i),r("TopoJSON",i)},function(t,e,n){(0,n(531).registerTransform)("default",function(t){return t})},function(t,e,n){function r(t){return!!t}(0,n(531).registerTransform)("filter",function(t,e){void 0===e&&(e={}),t.rows=t.rows.filter(e.callback||r)})},function(t,e,n){var u=n(534),c=n(1156),l=n(580),r=n(531).registerTransform,f=n(538).getFields,h={fields:[],key:"key",retains:[],value:"value"};r("fold",function(t,e){var n=t.getColumnNames();e=u({},h,e);var r=f(e);0===r.length&&(console.warn("warning: option fields is not specified, will fold all columns."),r=n);var i=e.key,o=e.value,a=e.retains;0===a.length&&(a=c(n,r));var s=[];t.rows.forEach(function(n){r.forEach(function(t){var e=l(n,a);e[i]=t,e[o]=n[t],s.push(e)})}),t.rows=s})},function(t,e,n){var r=n(1157),i=n(823);t.exports=function(t,e){var n=1<arguments.length&&void 0!==e?e:[];return r(t,function(t){return!i(n,t)})}},function(t,e,n){var i=n(541),o=n(683);t.exports=function(t,n){if(!o(t))return t;var r=[];return i(t,function(t,e){n(t,e)&&r.push(t)}),r}},function(t,e,n){function r(t){return t}(0,n(531).registerTransform)("map",function(t,e){void 0===e&&(e={}),t.rows=t.rows.map(e.callback||r)})},function(t,e,n){var r=n(534),i=n(681),o=n(559),a=n(531).registerTransform,s={groupBy:[],orderBy:[]};function u(t,e){void 0===e&&(e={}),e=r({},s,e),t.rows=i(o(t.rows,e.groupBy,e.orderBy))}a("partition",function(t,e){void 0===e&&(e={}),e=r({},s,e),t.rows=o(t.rows,e.groupBy,e.orderBy)}),a("group",u),a("groups",u)},function(t,e,n){var c=n(534),l=n(541),f=n(537),h=n(543),p=n(568).sum,d=n(559),r=n(531).registerTransform,g=n(538).getField,v={groupBy:[],as:"_percent"};r("percent",function(t,e){void 0===e&&(e={}),e=c({},v,e);var o=g(e),a=e.dimension,n=e.groupBy,s=e.as;if(!h(a))throw new TypeError("Invalid dimension: must be a string!");if(f(s)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),s=s[0]),!h(s))throw new TypeError("Invalid as: must be a string!");var r=t.rows,u=[],i=d(r,n);l(i,function(t){var i=p(t.map(function(t){return t[o]}));0===i&&console.warn("Invalid data: total sum of field "+o+" is 0!");var e=d(t,[a]);l(e,function(t){var e=p(t.map(function(t){return t[o]})),n=t[0],r=n[a];n[o]=e,n[a]=r,n[s]=0===i?0:e/i,u.push(n)})}),t.rows=u})},function(t,e,n){var r=n(580),i=n(531).registerTransform,o=n(538).getFields;i("pick",function(t,e){void 0===e&&(e={});var n=o(e,t.getColumnNames());t.rows=t.rows.map(function(t){return r(t,n)})})},function(t,e,n){var c=n(534),l=n(541),f=n(537),h=n(543),p=n(559),r=n(531).registerTransform,d=n(538).getField,g={groupBy:[],as:"_proportion"};r("proportion",function(t,e){void 0===e&&(e={}),e=c({},g,e);var o=d(e),a=e.dimension,n=e.groupBy,s=e.as;if(!h(a))throw new TypeError("Invalid dimension: must be a string!");if(f(s)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),s=s[0]),!h(s))throw new TypeError("Invalid as: must be a string!");var r=t.rows,u=[],i=p(r,n);l(i,function(t){var i=t.length,e=p(t,[a]);l(e,function(t){var e=t.length,n=t[0],r=n[a];n[o]=e,n[a]=r,n[s]=e/i,u.push(n)})}),t.rows=u})},function(t,e,n){var i=n(541),o=n(626),a=n(543),r=n(531).registerTransform;function s(t,e){void 0===e&&(e={});var n=e.map||{},r={};o(n)&&i(n,function(t,e){a(t)&&a(e)&&(r[e]=t)}),t.rows.forEach(function(r){i(n,function(t,e){var n=r[e];delete r[e],r[t]=n})})}r("rename",s),r("rename-fields",s)},function(t,e,n){(0,n(531).registerTransform)("reverse",function(t){t.rows.reverse()})},function(t,e,n){(0,n(531).registerTransform)("sort",function(t,e){void 0===e&&(e={});var n=t.getColumnName(0);t.rows.sort(e.callback||function(t,e){return t[n]-e[n]})})},function(t,e,n){var i=n(537),o=n(1167),r=n(531).registerTransform,a=n(538).getFields,s=["ASC","DESC"];function u(t,e){void 0===e&&(e={});var n=a(e,[t.getColumnName(0)]);if(!i(n))throw new TypeError("Invalid fields: must be an array with strings!");t.rows=o(t.rows,n);var r=e.order;if(r&&-1===s.indexOf(r))throw new TypeError("Invalid order: "+r+" must be one of "+s.join(", "));"DESC"===r&&t.rows.reverse()}r("sort-by",u),r("sortBy",u)},function(t,e,n){var r=n(543),o=n(547),a=n(537);t.exports=function(t,n){var i,e=void 0,e=o(n)?function(t,e){return n(t)-n(e)}:(i=[],r(n)?i.push(n):a(n)&&(i=n),function(t,e){for(var n=0;n<i.length;n+=1){var r=i[n];if(t[r]>e[r])return 1;if(t[r]<e[r])return-1}return 0});return t.sort(e),t}},function(t,e,n){var r=n(531).registerTransform,o=n(538).getFields;r("subset",function(t,e){void 0===e&&(e={});var n=e.startRowIndex||0,r=e.endRowIndex||t.rows.length-1,i=o(e,t.getColumnNames());t.rows=t.getSubset(n,r,i)})},function(t,e,n){var p=n(534),d=n(541),g=n(559),r=n(531).registerTransform,v={fillBy:"group",groupBy:[],orderBy:[]};function y(t,e){var n=t.map(function(t){return t});return e.forEach(function(t){var e=n.indexOf(t);-1<e&&n.splice(e,1)}),n}function i(t,e){void 0===e&&(e={}),e=p({},v,e);var a=t.rows,s=e.groupBy,u=e.orderBy,n=g(a,s,u),c=0,r=[];d(n,function(t){t.length>c&&(c=t.length,r=t)});var i,o,l,f=[],h={};r.forEach(function(e){var t=u.map(function(t){return e[t]}).join("-");f.push(t),h[t]=e}),"order"===e.fillBy&&(i=r[0],o=[],l={},a.forEach(function(e){var t=u.map(function(t){return e[t]}).join("-");-1===o.indexOf(t)&&(o.push(t),l[t]=e)}),y(o,f).forEach(function(e){var n={};s.forEach(function(t){n[t]=i[t]}),u.forEach(function(t){n[t]=l[e][t]}),a.push(n),r.push(n),f.push(e),h[e]=n}),c=r.length),d(n,function(i){var o,t;i!==r&&i.length<c&&(o=i[0],t=[],i.forEach(function(e){t.push(u.map(function(t){return e[t]}).join("-"))}),y(f,t).some(function(t,e){if(e>=c-i.length)return!0;var n=h[t],r={};return s.forEach(function(t){r[t]=o[t]}),u.forEach(function(t){r[t]=n[t]}),a.push(r),!1}))})}r("fill-rows",i),r("fillRows",i)},function(t,e,n){var s=n(534),u=n(541),c=n(1171),l=n(547),f=n(1172),h=n(543),r=n(568),p=n(559),i=n(531).registerTransform,d=n(538).getField,g={groupBy:[]};function v(t){return t.filter(function(t){return!f(t)})}var y=["mean","median","max","min"],m={};y.forEach(function(n){m[n]=function(t,e){return r[n](e)}}),m.value=function(t,e,n){return n},i("impute",function(t,r){void 0===r&&(r={}),r=s({},g,r);var i=d(r),o=r.method;if(!o)throw new TypeError("Invalid method!");if("value"===o&&!c(r,"value"))throw new TypeError("Invalid value: it is nil.");var a=v(t.getColumn(i)),e=p(t.rows,r.groupBy);u(e,function(e){var n=v(e.map(function(t){return t[i]}));0===n.length&&(n=a),e.forEach(function(t){if(f(t[i]))if(l(o))t[i]=o(t,n,r.value,e);else{if(!h(o))throw new TypeError("Invalid method: must be a function or one of "+y.join(", "));t[i]=m[o](t,n,r.value)}})})})},function(t,e){t.exports=function(t,e){return t.hasOwnProperty(e)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var o=n(534),i=n(819),c=n(541),l=n(537),f=n(543),r=n(575),a=n(1174),s=n(568),h=n(559),u=n(531).registerTransform,p=n(682).STATISTICS_METHODS,d=n(538).getFields,g={as:[],fields:[],groupBy:[],operations:[]},v={count:function(t){return t.length},distinct:function(t,e){return a(t.map(function(t){return t[e]})).length}};function y(t,e){e=o({},g,e);var a=d(e);if(!l(a))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var s=e.as||[];f(s)&&(s=[s]);var n=e.operations;f(n)&&(n=[n]);var r=["count"];if(l(n)&&n.length||(console.warn('operations is not defined, will use [ "count" ] directly.'),s=n=r),1!==n.length||"count"!==n[0]){if(n.length!==a.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(s.length!==a.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var i=h(t.rows,e.groupBy),u=[];c(i,function(i){var o=i[0];n.forEach(function(t,e){var n=s[e],r=a[e];o[n]=v[t](i,r)}),u.push(o)}),t.rows=u}p.forEach(function(r){v[r]=function(t,e){var n=t.map(function(t){return t[e]});return l(n)&&l(n[0])&&(n=i(n)),s[r](n)}}),v.average=v.mean,u("aggregate",y),u("summary",y),t.exports={VALID_AGGREGATES:r(v)}},function(t,e,n){var r=n(541),i=n(823);t.exports=function(t){var e=[];return r(t,function(t){i(e,t)||e.push(t)}),e}},function(t,e,n){var v=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},y=n(534),m=n(537),x=n(627),b=n(1176),w=n(628),r=n(531).registerTransform,_=n(538).getFields,S=n(629).silverman,M={as:["x","y"],method:"linear",order:2,precision:2},E=["linear","exponential","logarithmic","power","polynomial"];r("regression",function(t,e){e=y({},M,e);var n=_(e);if(!m(n)||2!==n.length)throw new TypeError("invalid fields: must be an array of 2 strings.");var r=v(n,2),i=r[0],o=r[1],a=e.method;if(-1===E.indexOf(a))throw new TypeError("invalid method: "+a+". Must be one of "+E.join(", "));var s=t.rows.map(function(t){return[t[i],t[o]]}),u=b[a](s,e),c=e.extent;m(c)&&2===c.length||(c=t.range(i));var l=e.bandwidth;(!x(l)||l<=0)&&(l=S(t.getColumn(i)));var f=w(c,l),h=[],p=v(e.as,2),d=p[0],g=p[1];f.forEach(function(t){var e={},n=v(u.predict(t),2),r=n[0],i=n[1];e[d]=r,e[g]=i,isFinite(i)&&h.push(e)}),t.rows=h}),t.exports={REGRESSION_METHODS:E}},function(t,e,n){var r,i,o;i=[t],void 0===(o="function"==typeof(r=function(t){"use strict";function r(t,e,n){if(e in t){Object.defineProperty(t,e,{value:n,enumerable:true,configurable:true,writable:true})}else{t[e]=n}return t}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}return t};function x(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++){n[e]=t[e]}return n}else{return Array.from(t)}}var o={order:2,precision:2,period:null};function b(t,n){var o=[];var r=[];t.forEach(function(t,e){if(t[1]!==null){r.push(t);o.push(n[e])}});var e=r.reduce(function(t,e){return t+e[1]},0);var i=e/r.length;var a=r.reduce(function(t,e){var n=e[1]-i;return t+n*n},0);var s=r.reduce(function(t,e,n){var r=o[n];var i=e[1]-r[1];return t+i*i},0);return 1-s/a}function w(t,e){var n=t;var r=t.length-1;var i=[e];for(var o=0;o<r;o++){var a=o;for(var s=o+1;s<r;s++){if(Math.abs(n[o][s])>Math.abs(n[o][a])){a=s}}for(var u=o;u<r+1;u++){var c=n[u][o];n[u][o]=n[u][a];n[u][a]=c}for(var l=o+1;l<r;l++){for(var f=r;f>=o;f--){n[f][l]-=n[f][o]*n[o][l]/n[o][o]}}}for(var h=r-1;h>=0;h--){var p=0;for(var d=h+1;d<r;d++){p+=n[d][h]*i[d]}i[h]=(n[r][h]-p)/n[h][h]}return i}function _(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}var a={linear:function t(e,n){var r=[0,0,0,0,0];var i=0;for(var o=0;o<e.length;o++){if(e[o][1]!==null){i++;r[0]+=e[o][0];r[1]+=e[o][1];r[2]+=e[o][0]*e[o][0];r[3]+=e[o][0]*e[o][1];r[4]+=e[o][1]*e[o][1]}}var a=i*r[2]-r[0]*r[0];var s=i*r[3]-r[0]*r[1];var u=a===0?0:_(s/a,n.precision);var c=_(r[1]/i-u*r[0]/i,n.precision);var l=function t(e){return[_(e,n.precision),_(u*e+c,n.precision)]};var f=e.map(function(t){return l(t[0])});return{points:f,predict:l,equation:[u,c],r2:_(b(e,f),n.precision),string:c===0?"y = "+u+"x":"y = "+u+"x + "+c}},exponential:function t(e,n){var r=[0,0,0,0,0,0];for(var i=0;i<e.length;i++){if(e[i][1]!==null){r[0]+=e[i][0];r[1]+=e[i][1];r[2]+=e[i][0]*e[i][0]*e[i][1];r[3]+=e[i][1]*Math.log(e[i][1]);r[4]+=e[i][0]*e[i][1]*Math.log(e[i][1]);r[5]+=e[i][0]*e[i][1]}}var o=r[1]*r[2]-r[5]*r[5];var a=Math.exp((r[2]*r[3]-r[5]*r[4])/o);var s=(r[1]*r[4]-r[5]*r[3])/o;var u=_(a,n.precision);var c=_(s,n.precision);var l=function t(e){return[_(e,n.precision),_(u*Math.exp(c*e),n.precision)]};var f=e.map(function(t){return l(t[0])});return{points:f,predict:l,equation:[u,c],string:"y = "+u+"e^("+c+"x)",r2:_(b(e,f),n.precision)}},logarithmic:function t(e,n){var r=[0,0,0,0];var i=e.length;for(var o=0;o<i;o++){if(e[o][1]!==null){r[0]+=Math.log(e[o][0]);r[1]+=e[o][1]*Math.log(e[o][0]);r[2]+=e[o][1];r[3]+=Math.pow(Math.log(e[o][0]),2)}}var a=(i*r[1]-r[2]*r[0])/(i*r[3]-r[0]*r[0]);var s=_(a,n.precision);var u=_((r[2]-s*r[0])/i,n.precision);var c=function t(e){return[_(e,n.precision),_(_(u+s*Math.log(e),n.precision),n.precision)]};var l=e.map(function(t){return c(t[0])});return{points:l,predict:c,equation:[u,s],string:"y = "+u+" + "+s+" ln(x)",r2:_(b(e,l),n.precision)}},power:function t(e,n){var r=[0,0,0,0,0];var i=e.length;for(var o=0;o<i;o++){if(e[o][1]!==null){r[0]+=Math.log(e[o][0]);r[1]+=Math.log(e[o][1])*Math.log(e[o][0]);r[2]+=Math.log(e[o][1]);r[3]+=Math.pow(Math.log(e[o][0]),2)}}var a=(i*r[1]-r[0]*r[2])/(i*r[3]-Math.pow(r[0],2));var s=(r[2]-a*r[0])/i;var u=_(Math.exp(s),n.precision);var c=_(a,n.precision);var l=function t(e){return[_(e,n.precision),_(_(u*Math.pow(e,c),n.precision),n.precision)]};var f=e.map(function(t){return l(t[0])});return{points:f,predict:l,equation:[u,c],string:"y = "+u+"x^"+c,r2:_(b(e,f),n.precision)}},polynomial:function t(e,n){var r=[];var i=[];var o=0;var a=0;var s=e.length;var u=n.order+1;for(var c=0;c<u;c++){for(var l=0;l<s;l++){if(e[l][1]!==null){o+=Math.pow(e[l][0],c)*e[l][1]}}r.push(o);o=0;var f=[];for(var h=0;h<u;h++){for(var p=0;p<s;p++){if(e[p][1]!==null){a+=Math.pow(e[p][0],c+h)}}f.push(a);a=0}i.push(f)}i.push(r);var d=w(i,u).map(function(t){return _(t,n.precision)});var g=function t(r){return[_(r,n.precision),_(d.reduce(function(t,e,n){return t+e*Math.pow(r,n)},0),n.precision)]};var v=e.map(function(t){return g(t[0])});var y="y = ";for(var m=d.length-1;m>=0;m--){if(m>1){y+=d[m]+"x^"+m+" + "}else if(m===1){y+=d[m]+"x + "}else{y+=d[m]}}return{string:y,points:v,predict:g,equation:[].concat(x(d)).reverse(),r2:_(b(e,v),n.precision)}}};function e(){var t=function t(e,n){return i({_round:_},e,r({},n,function(t,e){return a[n](t,i({},o,e))}))};return Object.keys(a).reduce(t,{})}t.exports=e()})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){var g=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t},a=n(534),v=n(541),s=n(541),y=n(537),m=n(547),x=n(627),b=n(543),r=n(575),w=n(580),_=n(628),S=n(684),M=n(629),E=n(559),i=n(531).registerTransform,C=n(538).getFields,P=n(568).kernelDensityEstimation,k={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},A=r(S),u=r(M);function c(n,u){u=a({},k,u);var t=C(u);if(!y(t)||t.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var c=u.as;if(!y(c)||3!==c.length)throw new TypeError("invalid as: must be an array of 3 strings!");var l=u.method;if(b(l)){if(-1===A.indexOf(l))throw new TypeError("invalid method: "+l+". Must be one of "+A.join(", "));l=S[l]}if(!m(l))throw new TypeError("invalid method: kernel method must be a function!");var r,e=u.extent;y(e)&&0!==e.length||(r=[],v(t,function(t){var e=n.range(t);r=r.concat(e)}),e=[Math.min.apply(Math,o(r)),Math.max.apply(Math,o(r))]);var f=u.bandwidth;b(f)&&M[f]?f=M[f](n.getColumn(t[0])):m(f)?f=f(n.getColumn(t[0])):(!x(f)||f<=0)&&(f=M.nrd(n.getColumn(t[0])));var h=_(e,u.step?u.step:f),p=[],d=u.groupBy,i=E(n.rows,d);s(i,function(a){var s={};v(t,function(n){var r=w(a[0],d);s[n]=P(a.map(function(t){return t[n]}),l,f);var t=g(c,3),e=t[0],i=t[1],o=t[2];r[e]=n,r[i]=[],r[o]=[],v(h,function(t){var e=s[n](t);e>=u.minSize&&(r[i].push(t),r[o].push(e))}),p.push(r)})}),n.rows=p}i("kernel-density-estimation",c),i("kde",c),i("KDE",c),t.exports={KERNEL_METHODS:A,BANDWIDTH_METHODS:u}},function(t,e,n){var P=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},k=n(534),A=n(541),T=n(537),r=n(531).registerTransform,O=n(538).getFields,I={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},j=Math.sqrt(3),i=Math.PI/3,R=[0,i,2*i,3*i,4*i,5*i];function L(t,e,n,r){return Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))}function D(t,e,n){var r=t-n;e/=2;var i=Math.floor(r/e);return[e*(i+(1===Math.abs(i%2)?1:0))+n,e*(i+(1===Math.abs(i%2)?0:1))+n]}function o(t,o){o=k({},I,o);var e=O(o);if(!T(e)||2!==e.length)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var n=P(e,2),r=n[0],i=n[1],a=t.range(r),s=t.range(i),u=a[1]-a[0],c=s[1]-s[0],l=o.binWidth||[];if(2!==l.length){var f=P(o.bins,2),h=f[0],p=f[1];if(h<=0||p<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");l=[u/h,c/p]}var d=P(o.offset,2),g=d[0],v=d[1],y=3*l[0]/(j*l[1]),m=function(t,e,n){void 0===e&&(e=[1,1]),void 0===n&&(n=[0,0]);var g={},r=P(e,2),v=r[0],y=r[1],i=P(n,2),m=i[0],x=i[1];return t.forEach(function(t){var e,n,r,i,o=P(t,2),a=o[0],s=o[1],u=P(D(a,v,m),2),c=u[0],l=u[1],f=P(D(s,y,x),2),h=f[0],p=f[1],d=L(a,s,c,h)<L(a,s,l,p)?(r="x"+c+"y"+h,i=(e=P([c,h],2))[0],e[1]):(r="x"+l+"y"+p,i=(n=P([l,p],2))[0],n[1]);g[r]=g[r]||{x:i,y:d,count:0},g[r].count++}),g}(t.rows.map(function(t){return[t[r],y*t[i]]}),[l[0],y*l[1]],[g,y*v]),x=P(o.as,3),b=x[0],w=x[1],_=x[2];if(!b||!w||!_)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var S=l[0]/j,M=R.map(function(t){return[Math.sin(t)*S,-Math.cos(t)*S]}),E=[],C=0;o.sizeByCount&&A(m,function(t){t.count>C&&(C=t.count)}),A(m,function(e){var n=e.x,r=e.y,t=e.count,i={};i[_]=t,o.sizeByCount?(i[b]=M.map(function(t){return n+e.count/C*t[0]}),i[w]=M.map(function(t){return(r+e.count/C*t[1])/y})):(i[b]=M.map(function(t){return n+t[0]}),i[w]=M.map(function(t){return(r+t[1])/y})),E.push(i)}),t.rows=E}r("bin.hexagon",o),r("bin.hex",o),r("hexbin",o)},function(t,e,n){var h=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},p=n(534),d=n(541),g=n(580),c=n(559),r=n(531).registerTransform,v=n(538).getField,y={as:["x","count"],bins:30,offset:0,groupBy:[]};function i(t,o){o=p({},y,o);var a=v(o);if(0!==t.rows.length){var e=t.range(a),n=e[1]-e[0],l=o.binWidth;if(!l){var r=o.bins;if(r<=0)throw new TypeError("Invalid bins: it must be a positive number!");l=n/r}var f=o.offset%l,s=[],u=o.groupBy,i=c(t.rows,u);d(i,function(t){var c={};t.map(function(t){return t[a]}).forEach(function(t){var e,n,r,i,o=h((e=l,r=t-(n=f),[(i=Math.floor(r/e))*e+n,(i+1)*e+n]),2),a=o[0],s=o[1],u=a+"-"+s;c[u]=c[u]||{x0:a,x1:s,count:0},c[u].count++});var e=h(o.as,2),n=e[0],r=e[1];if(!n||!r)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var i=g(t[0],u);d(c,function(t){var e=p({},i);e[n]=[t.x0,t.x1],e[r]=t.count,s.push(e)})}),t.rows=s}}r("bin.histogram",i),r("bin.dot",i)},function(t,e,n){var l=n(534),f=n(541),h=n(537),p=n(543),d=n(568).quantile,g=n(559),v=n(820),r=n(531).registerTransform,y=n(538).getField,m={as:"_bin",groupBy:[],fraction:4};r("bin.quantile",function(t,e){e=l({},m,e);var i=y(e),o=e.as;if(!p(o))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var a=e.p,n=e.fraction;h(a)&&0!==a.length||(a=v(n));var r=t.rows,s=e.groupBy,u=g(r,s),c=[];f(u,function(t){var e=t[0],n=t.map(function(t){return t[i]}),r=a.map(function(t){return d(n,t)});e[o]=r,c.push(e)}),t.rows=c})},function(t,e,n){var M=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},E=n(534),C=n(541),r=n(531).registerTransform,P=n(538).getFields,k={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};function A(t,e,n){var r=t-n,i=Math.floor(r/e);return[i*e+n,(i+1)*e+n]}function i(t,e){e=E({},k,e);var n=M(P(e),2),r=n[0],i=n[1];if(!r||!i)throw new TypeError("Invalid fields: must be an array with 2 strings!");var o=t.range(r),a=t.range(i),s=o[1]-o[0],u=a[1]-a[0],c=e.binWidth||[];if(2!==c.length){var l=M(e.bins,2),f=l[0],h=l[1];if(f<=0||h<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");c=[s/f,u/h]}var p=t.rows.map(function(t){return[t[r],t[i]]}),d={},g=M(e.offset,2),v=g[0],y=g[1];p.forEach(function(t){var e=M(A(t[0],c[0],v),2),n=e[0],r=e[1],i=M(A(t[1],c[1],y),2),o=i[0],a=i[1],s=n+"-"+r+"-"+o+"-"+a;d[s]=d[s]||{x0:n,x1:r,y0:o,y1:a,count:0},d[s].count++});var m,x=[],b=M(e.as,3),w=b[0],_=b[1],S=b[2];if(!w||!_||!S)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');e.sizeByCount?(m=0,C(d,function(t){t.count>m&&(m=t.count)}),C(d,function(t){var e=t.x0,n=t.x1,r=t.y0,i=t.y1,o=t.count,a=o/m,s=M([(e+n)/2,(r+i)/2],2),u=s[0],c=s[1],l=(n-e)*a/2,f=(i-r)*a/2,h=u-l,p=u+l,d=c-f,g=c+f,v={};v[w]=[h,p,p,h],v[_]=[d,d,g,g],v[S]=o,x.push(v)})):C(d,function(t){var e={};e[w]=[t.x0,t.x1,t.x1,t.x0],e[_]=[t.y0,t.y0,t.y1,t.y1],e[S]=t.count,x.push(e)}),t.rows=x}r("bin.rectangle",i),r("bin.rect",i)},function(t,e,n){var s=n(534),u=n(537),c=n(543),r=n(531).registerTransform,l=n(538).getField,f={as:["_centroid_x","_centroid_y"]};r("geo.centroid",function(t,e){e=s({},f,e);var n=l(e),r=e.geoView||e.geoDataView;if(c(r)&&(r=t.dataSet.getView(r)),!r||"geo"!==r.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=e.as;if(!u(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var o=i[0],a=i[1];t.rows.forEach(function(t){var e=r.geoFeatureByName(t[n]);e&&(r._projectedAs?(t[o]=e[r._projectedAs[2]],t[a]=e[r._projectedAs[3]]):(t[o]=e.centroidX,t[a]=e.centroidY))})})},function(t,e,n){var l=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},f=n(534),r=n(529),h=n(822),p=n(537),i=n(531).registerTransform,d=n(816),g=r.geoPath,v={as:["_x","_y","_centroid_x","_centroid_y"]};i("geo.projection",function(t,e){if("geo"!==t.dataType&&"geo-graticule"!==t.dataType)throw new TypeError("Invalid dataView: this transform is for Geo data only!");var n=(e=f({},v,e)).projection;if(!n)throw new TypeError("Invalid projection!");n=d(n);var r=g(n),i=e.as;if(!p(i)||4!==i.length)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');t._projectedAs=i;var o=l(i,4),a=o[0],s=o[1],u=o[2],c=o[3];t.rows.forEach(function(e){e[a]=[],e[s]=[];var t,n=r(e);n&&(h(n)._path.forEach(function(t){e[a].push(t[1]),e[s].push(t[2])}),t=r.centroid(e),e[u]=t[0],e[c]=t[1])}),t.rows=t.rows.filter(function(t){return 0!==t[a].length})})},function(t,e,n){var s=n(534),u=n(537),c=n(543),r=n(531).registerTransform,l=n(538).getField,f={as:["_x","_y"]};r("geo.region",function(t,e){e=s({},f,e);var n=l(e),r=e.geoView||e.geoDataView;if(c(r)&&(r=t.dataSet.getView(r)),!r||"geo"!==r.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=e.as;if(!u(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var o=i[0],a=i[1];t.rows.forEach(function(t){var e=r.geoFeatureByName(t[n]);e&&(r._projectedAs?(t[o]=e[r._projectedAs[0]],t[a]=e[r._projectedAs[1]]):(t[o]=e.longitude,t[a]=e.latitude))})})},function(t,e,n){var p=n(534),y=n(541),m=n(537),x=n(681),b=n(547),r=n(531).registerTransform,w={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(t){return t.id},source:function(t){return t.source},target:function(t){return t.target},sourceWeight:function(t){return t.value||1},targetWeight:function(t){return t.value||1},sortBy:null};function i(t,n){n=p({},w,n);var r,i,o,a,e,s,u,d,c,g,v,l={},f=t.nodes,h=t.edges;m(f)&&0!==f.length||(r=n,void 0===(i=l)&&(i={}),h.forEach(function(t){var e=r.edgeSource(t),n=r.edgeTarget(t);i[e]||(i[e]={id:e}),i[n]||(i[n]={id:n})}),f=x(i)),f.forEach(function(t){var e=n.id(t);l[e]=t}),o=h,a=n,y(l,function(e,n){e.inEdges=o.filter(function(t){return""+a.target(t)==""+n}),e.outEdges=o.filter(function(t){return""+a.source(t)==""+n}),e.edges=e.outEdges.concat(e.inEdges),e.frequency=e.edges.length,e.value=0,e.inEdges.forEach(function(t){e.value+=a.targetWeight(t)}),e.outEdges.forEach(function(t){e.value+=a.sourceWeight(t)})}),e=f,!(u={weight:function(t,e){return e.value-t.value},frequency:function(t,e){return e.frequency-t.frequency},id:function(t,e){return(""+s.id(t)).localeCompare(""+s.id(e))}}[(s=n).sortBy])&&b(s.sortBy)&&(u=s.sortBy),u&&e.sort(u),function(u,c){var t=u.length;if(!t)throw new TypeError("Invalid nodes: it's empty!");if(c.weight){var e=c.marginRatio;if(e<0||1<=e)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var l=e/(2*t),f=c.thickness;if(f<=0||1<=f)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var n=0;u.forEach(function(t){n+=t.value}),u.forEach(function(t){t.weight=t.value/n,t.width=t.weight*(1-e),t.height=f}),u.forEach(function(t,e){for(var n=0,r=e-1;0<=r;r--)n+=u[r].width+2*l;var i=t.minX=l+n,o=t.maxX=t.minX+t.width,a=t.minY=c.y-f/2,s=t.maxY=a+f;t.x=[i,o,o,i],t.y=[a,a,s,s]})}else{var r=1/t;u.forEach(function(t,e){t.x=(e+.5)*r,t.y=c.y})}}(f,n),d=l,c=h,(g=n).weight?(v={},y(d,function(t,e){v[e]=t.value}),c.forEach(function(t){var e,n,r,i,o,a,s,u,c,l=g.source(t),f=g.target(t),h=d[l],p=d[f];h&&p&&(e=v[l],n=g.sourceWeight(t),i=(r=h.minX+(h.value-e)/h.value*h.width)+n/h.value*h.width,v[l]-=n,o=v[f],a=g.targetWeight(t),u=(s=p.minX+(p.value-o)/p.value*p.width)+a/p.value*p.width,v[f]-=a,c=g.y,t.x=[r,i,s,u],t.y=[c,c,c,c])})):c.forEach(function(t){var e=d[g.source(t)],n=d[g.target(t)];e&&n&&(t.x=[e.x,n.x],t.y=[e.y,n.y])}),t.nodes=f,t.edges=h}r("diagram.arc",i),r("arc",i)},function(t,e,n){var i=n(534),o=n(1187),r=n(531).registerTransform,u={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(t){return t.source},target:function(t){return t.target}};function a(t,n){n=i({},u,n);var a=new o.graphlib.Graph;a.setGraph({}),a.setDefaultEdgeLabel(function(){return{}}),t.nodes.forEach(function(t){var e=n.nodeId?n.nodeId(t):t.id;t.height||t.width||(t.height=t.width=n.edgesep),a.setNode(e,t)}),t.edges.forEach(function(t){a.setEdge(n.source(t),n.target(t))}),o.layout(a);var s=[],r=[];a.nodes().forEach(function(t){var e=a.node(t),n=e.x,r=e.y,i=e.height,o=e.width;e.x=[n-o/2,n+o/2,n+o/2,n-o/2],e.y=[r+i/2,r+i/2,r-i/2,r-i/2],s.push(e)}),a.edges().forEach(function(t){var e=a.edge(t).points,n={};n.x=e.map(function(t){return t.x}),n.y=e.map(function(t){return t.y}),r.push(n)}),t.nodes=s,t.edges=r}r("diagram.dagre",a),r("dagre",a)},function(t,e,n){t.exports={graphlib:n(560),layout:n(1257),debug:n(1307),util:{time:n(549).time,notime:n(549).notime},version:n(1308)}},function(t,e,n){var r=n(1189);t.exports={Graph:r.Graph,json:n(1247),alg:n(1248),version:r.version}},function(t,e,n){t.exports={Graph:n(685),version:n(1246)}},function(t,e,n){var r=n(824);t.exports=function(t){return r(t,4)}},function(t,e,n){var r=n(643),i=n(573);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(1374)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(643),i=n(640);t.exports=function(t,e){return t&&r(e,i(e),t)}},function(t,e,n){var r=n(643),i=n(688);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(643),i=n(827);t.exports=function(t,e){return r(t,i(t),e)}},function(t,e,n){var r=n(829),i=n(827),o=n(640);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(605)(n(146),"DataView");t.exports=r},function(t,e,n){var r=n(605)(n(146),"Promise");t.exports=r},function(t,e,n){var r=n(605)(n(146),"WeakMap");t.exports=r},function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&r.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},function(t,e,n){var i=n(910),o=n(1202),a=n(1203),s=n(1204),u=n(1369);t.exports=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return i(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return a(t);case"[object Set]":return new r;case"[object Symbol]":return s(t)}}},function(t,e,n){var r=n(910);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(147),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},function(t,e,n){var r=n(1206),i=n(715),o=n(911),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(581),i=n(335);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(1208),i=n(715),o=n(911),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){var r=n(581),i=n(335);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},function(t,e,n){var s=n(585);t.exports=function(o,a){return function(t,e){if(null==t)return t;if(!s(t))return o(t,e);for(var n=t.length,r=a?n:-1,i=Object(t);(a?r--:++r<n)&&!1!==e(i[r],r,i););return t}}},function(t,e,n){var o=n(630);t.exports=function(t,r){var i=[];return o(t,function(t,e,n){r(t,e,n)&&i.push(t)}),i}},function(t,e,n){var r=n(1212),i=n(1220),o=n(840);t.exports=function(e){var n=i(e);return 1==n.length&&n[0][2]?o(n[0][0],n[0][1]):function(t){return t===e||r(t,e,n)}}},function(t,e,n){var p=n(713),d=n(835);t.exports=function(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){var u=(s=n[i])[0],c=t[u],l=s[1];if(a&&s[2]){if(void 0===c&&!(u in t))return!1}else{var f,h=new p;if(r&&(f=r(c,l,u,t,e,h)),!(void 0===f?d(l,c,3,r,h):f))return!1}}return!0}},function(t,e,n){var g=n(713),v=n(836),y=n(1217),m=n(1219),x=n(581),b=n(548),w=n(639),_=n(708),S="[object Arguments]",M="[object Array]",E="[object Object]",C=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,r,i,o){var a=b(t),s=b(e),u=a?M:x(t),c=s?M:x(e),l=(u=u==S?E:u)==E,f=(c=c==S?E:c)==E,h=u==c;if(h&&w(t)){if(!w(e))return!1;l=!(a=!0)}if(h&&!l)return o=o||new g,a||_(t)?v(t,e,n,r,i,o):y(t,e,u,n,r,i,o);if(!(1&n)){var p=l&&C.call(t,"__wrapped__"),d=f&&C.call(e,"__wrapped__");if(p||d)return i(p?t.value():t,d?e.value():e,n,r,o=o||new g)}return h&&(o=o||new g,m(t,e,n,r,i,o))}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(147),f=n(1370),h=n(714),p=n(836),d=n(1218),g=n(691),i=r?r.prototype:void 0,v=i?i.valueOf:void 0;t.exports=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return t.byteLength==e.byteLength&&o(new f(t),new f(e))?!0:!1;case"[object Boolean]":case"[object Date]":case"[object Number]":return h(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=d;case"[object Set]":var u=1&r,s=s||g;if(t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=2,a.set(t,e);var l=p(s(t),s(e),r,i,o,a);return a.delete(t),l;case"[object Symbol]":if(v)return v.call(t)==v.call(e)}return!1}},function(t,e){t.exports=function(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}},function(t,e,n){var x=n(828),b=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,r,i,o){var a=1&n,s=x(t),u=s.length;if(u!=x(e).length&&!a)return!1;for(var c=u;c--;){var l=s[c];if(!(a?l in e:b.call(e,l)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);for(var p,d,g=a;++c<u;){var v,y=t[l=s[c]],m=e[l];if(r&&(v=a?r(m,y,l,e,t,o):r(y,m,l,t,e,o)),!(void 0===v?y===m||i(y,m,n,r,o):v)){h=!1;break}g=g||"constructor"==l}return!h||g||(p=t.constructor)!=(d=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof p&&p instanceof p&&"function"==typeof d&&d instanceof d)&&(h=!1),o.delete(t),o.delete(e),h}},function(t,e,n){var o=n(839),a=n(573);t.exports=function(t){for(var e=a(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,o(i)]}return e}},function(t,e,n){var i=n(835),o=n(866),a=n(841),s=n(901),u=n(839),c=n(840),l=n(635);t.exports=function(n,r){return s(n)&&u(r)?c(l(n),r):function(t){var e=o(t,n);return void 0===e&&e===r?a(t,n):i(r,e,3)}}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(842),i=n(1224),o=n(901),a=n(635);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e,n){var r=n(900);t.exports=function(e){return function(t){return r(t,e)}}},function(t,e,n){var r=n(687),i=n(581),o=n(701),a=n(548),s=n(585),u=n(639),c=n(908),l=n(708),f=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||u(t)||l(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(f.call(t,n))return!1;return!0}},function(t,e){t.exports=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}},function(t,e){t.exports=function(t,r,i,o,e){return e(t,function(t,e,n){i=o?(o=!1,t):r(i,t,e,n)}),i}},function(t,e,n){var r=n(687),i=n(581),o=n(585),a=n(1229),s=n(1230);t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)?s(t):t.length;var e=i(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},function(t,e,n){var r=n(338),i=n(548),o=n(335);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},function(t,e,n){var r=n(1231),i=n(1232),o=n(1233);t.exports=function(t){return(i(t)?o:r)(t)}},function(t,e,n){var r=n(842)("length");t.exports=r},function(t,e){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e){var n="\\ud800-\\udfff",r="["+n+"]",i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",a="[^"+n+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+i+"|"+o+")"+"?",l="[\\ufe0e\\ufe0f]?",f=l+c+("(?:\\u200d(?:"+[a,s,u].join("|")+")"+l+c+")*"),h="(?:"+[a+i+"?",i,s,u,r].join("|")+")",p=RegExp(o+"(?="+o+")|"+h+f,"g");t.exports=function(t){for(var e=p.lastIndex=0;p.test(t);)++e;return e}},function(t,e,n){var a=n(686),s=n(1373),u=n(690),c=n(569),l=n(907),f=n(548),h=n(639),p=n(872),d=n(145),g=n(708);t.exports=function(t,r,i){var e,n=f(t),o=n||h(t)||g(t);return r=c(r,4),null==i&&(e=t&&t.constructor,i=o?n?new e:[]:d(t)&&p(e)?s(l(t)):{}),(o?a:u)(t,function(t,e,n){return r(i,t,e,n)}),i}},function(t,e,n){var r=n(692),i=n(716),o=n(1237),a=n(1375),s=i(function(t){return o(r(t,1,a,!0))});t.exports=s},function(t,e,n){var r=n(147),i=n(701),o=n(548),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},function(t,e,n){var p=n(837),d=n(1238),g=n(1242),v=n(838),y=n(1243),m=n(691);t.exports=function(t,e,n){var r=-1,i=d,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=g;else if(200<=o){var c=e?null:y(t);if(c)return m(c);a=!1,i=v,u=new p}else u=e?[]:s;t:for(;++r<o;){var l=t[r],f=e?e(l):l,l=n||0!==l?l:0;if(a&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}},function(t,e,n){var r=n(1239);t.exports=function(t,e){return!!(null==t?0:t.length)&&-1<r(t,e,0)}},function(t,e,n){var r=n(847),i=n(1240),o=n(1241);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(830),i=n(1244),o=n(691),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(704);t.exports=function(e,t){return r(t,function(t){return e[t]})}},function(t,e){t.exports="2.1.8"},function(t,e,n){var o=n(556),r=n(685);t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:function(i){return o.map(i.nodes(),function(t){var e=i.node(t),n=i.parent(t),r={v:t};return o.isUndefined(e)||(r.value=e),o.isUndefined(n)||(r.parent=n),r})}(t),edges:function(r){return o.map(r.edges(),function(t){var e=r.edge(t),n={v:t.v,w:t.w};return o.isUndefined(t.name)||(n.name=t.name),o.isUndefined(e)||(n.value=e),n})}(t)};o.isUndefined(t.graph())||(e.value=o.clone(t.graph()));return e},read:function(t){var e=new r(t.options).setGraph(t.value);return o.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),o.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}}},function(t,e,n){t.exports={components:n(1249),dijkstra:n(849),dijkstraAll:n(1250),findCycles:n(1251),floydWarshall:n(1252),isAcyclic:n(1253),postorder:n(1254),preorder:n(1255),prim:n(1256),tarjan:n(851),topsort:n(852)}},function(t,e,n){var a=n(556);t.exports=function(e){var n,r={},i=[];function o(t){a.has(r,t)||(r[t]=!0,n.push(t),a.each(e.successors(t),o),a.each(e.predecessors(t),o))}return a.each(e.nodes(),function(t){n=[],o(t),n.length&&i.push(n)}),i}},function(t,e,n){var o=n(849),a=n(556);t.exports=function(n,r,i){return a.transform(n.nodes(),function(t,e){t[e]=o(n,e,r,i)},{})}},function(t,e,n){var r=n(556),i=n(851);t.exports=function(e){return r.filter(i(e),function(t){return 1<t.length||1===t.length&&e.hasEdge(t[0],t[0])})}},function(t,e,n){var r=n(556);t.exports=function(e,t,n){return function(t,i,e){var u={},n=t.nodes();return n.forEach(function(r){u[r]={},u[r][r]={distance:0},n.forEach(function(t){r!==t&&(u[r][t]={distance:Number.POSITIVE_INFINITY})}),e(r).forEach(function(t){var e=t.v===r?t.w:t.v,n=i(t);u[r][e]={distance:n,predecessor:r}})}),n.forEach(function(a){var s=u[a];n.forEach(function(t){var o=u[t];n.forEach(function(t){var e=o[a],n=s[t],r=o[t],i=e.distance+n.distance;i<r.distance&&(r.distance=i,r.predecessor=n.predecessor)})})}),u}(e,t||i,n||function(t){return e.outEdges(t)})};var i=r.constant(1)},function(t,e,n){var r=n(852);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},function(t,e,n){var r=n(853);t.exports=function(t,e){return r(t,e,"post")}},function(t,e,n){var r=n(853);t.exports=function(t,e){return r(t,e,"pre")}},function(t,e,n){var u=n(556),c=n(685),l=n(850);t.exports=function(t,i){var o,e=new c,a={},s=new l;function n(t){var e,n=t.v===o?t.w:t.v,r=s.priority(n);void 0===r||(e=i(t))<r&&(a[n]=o,s.decrease(n,e))}if(0===t.nodeCount())return e;u.each(t.nodes(),function(t){s.add(t,Number.POSITIVE_INFINITY),e.setNode(t)}),s.decrease(t.nodes()[0],0);var r=!1;for(;0<s.size();){if(o=s.removeMin(),u.has(a,o))e.setEdge(o,a[o]);else{if(r)throw new Error("Input graph is not connected: "+t);r=!0}t.nodeEdges(o).forEach(n)}return e}},function(t,e,n){"use strict";var l=n(539),r=n(1286),i=n(1289),a=n(1290),s=n(549).normalizeRanks,u=n(1292),f=n(549).removeEmptyRanks,h=n(1293),p=n(1294),d=n(1295),g=n(1296),v=n(1305),y=n(549),c=n(560).Graph;t.exports=function(o,t){var n=t&&t.debugTiming?y.time:y.notime;n("layout",function(){var e=n("  buildLayoutGraph",function(){return n=o,r=new c({multigraph:!0,compound:!0}),t=P(n.graph()),r.setGraph(l.merge({},x,C(t,m),l.pick(t,b))),l.forEach(n.nodes(),function(t){var e=P(n.node(t));r.setNode(t,l.defaults(C(e,w),_)),r.setParent(t,n.parent(t))}),l.forEach(n.edges(),function(t){var e=P(n.edge(t));r.setEdge(t,l.merge({},M,C(e,S),l.pick(e,E)))}),r;var n,r,t});n("  runLayout",function(){var c,t;c=e,(t=n)("    makeSpaceForEdgeLabels",function(){var n,r;(r=(n=c).graph()).ranksep/=2,l.forEach(n.edges(),function(t){var e=n.edge(t);e.minlen*=2,"c"!==e.labelpos.toLowerCase()&&("TB"===r.rankdir||"BT"===r.rankdir?e.width+=e.labeloffset:e.height+=e.labeloffset)})}),t("    removeSelfEdges",function(){var n;n=c,l.forEach(n.edges(),function(t){var e;t.v===t.w&&((e=n.node(t.v)).selfEdges||(e.selfEdges=[]),e.selfEdges.push({e:t,label:n.edge(t)}),n.removeEdge(t))})}),t("    acyclic",function(){r.run(c)}),t("    nestingGraph.run",function(){h.run(c)}),t("    rank",function(){a(y.asNonCompoundGraph(c))}),t("    injectEdgeLabelProxies",function(){var i;i=c,l.forEach(i.edges(),function(t){var e,n,r=i.edge(t);r.width&&r.height&&(e=i.node(t.v),n={rank:(i.node(t.w).rank-e.rank)/2+e.rank,e:t},y.addDummyNode(i,"edge-proxy",n,"_ep"))})}),t("    removeEmptyRanks",function(){f(c)}),t("    nestingGraph.cleanup",function(){h.cleanup(c)}),t("    normalizeRanks",function(){s(c)}),t("    assignRankMinMax",function(){var n,r;n=c,r=0,l.forEach(n.nodes(),function(t){var e=n.node(t);e.borderTop&&(e.minRank=n.node(e.borderTop).rank,e.maxRank=n.node(e.borderBottom).rank,r=l.max(r,e.maxRank))}),n.graph().maxRank=r}),t("    removeEdgeLabelProxies",function(){var n;n=c,l.forEach(n.nodes(),function(t){var e=n.node(t);"edge-proxy"===e.dummy&&(n.edge(e.e).labelRank=e.rank,n.removeNode(t))})}),t("    normalize.run",function(){i.run(c)}),t("    parentDummyChains",function(){u(c)}),t("    addBorderSegments",function(){p(c)}),t("    order",function(){g(c)}),t("    insertSelfEdges",function(){var i,t;i=c,t=y.buildLayerMatrix(i),l.forEach(t,function(t){var r=0;l.forEach(t,function(t,e){var n=i.node(t);n.order=e+r,l.forEach(n.selfEdges,function(t){y.addDummyNode(i,"selfedge",{width:t.label.width,height:t.label.height,rank:n.rank,order:e+ ++r,e:t.e,label:t.label},"_se")}),delete n.selfEdges})})}),t("    adjustCoordinateSystem",function(){d.adjust(c)}),t("    position",function(){v(c)}),t("    positionSelfEdges",function(){var s;s=c,l.forEach(s.nodes(),function(t){var e,n,r,i,o,a=s.node(t);"selfedge"===a.dummy&&(n=(e=s.node(a.e.v)).x+e.width/2,r=e.y,i=a.x-n,o=e.height/2,s.setEdge(a.e,a.label),s.removeNode(t),a.label.points=[{x:n+2*i/3,y:r-o},{x:n+5*i/6,y:r-o},{x:n+i,y:r},{x:n+5*i/6,y:r+o},{x:n+2*i/3,y:r+o}],a.label.x=a.x,a.label.y=a.y)})}),t("    removeBorderNodes",function(){var a;a=c,l.forEach(a.nodes(),function(t){var e,n,r,i,o;a.children(t).length&&(e=a.node(t),n=a.node(e.borderTop),r=a.node(e.borderBottom),i=a.node(l.last(e.borderLeft)),o=a.node(l.last(e.borderRight)),e.width=Math.abs(o.x-i.x),e.height=Math.abs(r.y-n.y),e.x=i.x+e.width/2,e.y=n.y+e.height/2)}),l.forEach(a.nodes(),function(t){"border"===a.node(t).dummy&&a.removeNode(t)})}),t("    normalize.undo",function(){i.undo(c)}),t("    fixupEdgeLabelCoords",function(){var n;n=c,l.forEach(n.edges(),function(t){var e=n.edge(t);if(l.has(e,"x"))switch("l"!==e.labelpos&&"r"!==e.labelpos||(e.width-=e.labeloffset),e.labelpos){case"l":e.x-=e.width/2+e.labeloffset;break;case"r":e.x+=e.width/2+e.labeloffset}})}),t("    undoCoordinateSystem",function(){d.undo(c)}),t("    translateGraph",function(){function n(t){var e=t.x,n=t.y,r=t.width,i=t.height;o=Math.min(o,e-r/2),a=Math.max(a,e+r/2),s=Math.min(s,n-i/2),u=Math.max(u,n+i/2)}var r,o,a,s,u,t,e,i;r=c,o=Number.POSITIVE_INFINITY,a=0,s=Number.POSITIVE_INFINITY,u=0,t=r.graph(),e=t.marginx||0,i=t.marginy||0,l.forEach(r.nodes(),function(t){n(r.node(t))}),l.forEach(r.edges(),function(t){var e=r.edge(t);l.has(e,"x")&&n(e)}),o-=e,s-=i,l.forEach(r.nodes(),function(t){var e=r.node(t);e.x-=o,e.y-=s}),l.forEach(r.edges(),function(t){var e=r.edge(t);l.forEach(e.points,function(t){t.x-=o,t.y-=s}),l.has(e,"x")&&(e.x-=o),l.has(e,"y")&&(e.y-=s)}),t.width=a-o+e,t.height=u-s+i}),t("    assignNodeIntersects",function(){var a;a=c,l.forEach(a.edges(),function(t){var e,n=a.edge(t),r=a.node(t.v),i=a.node(t.w),o=n.points?(e=n.points[0],n.points[n.points.length-1]):(n.points=[],e=i,r);n.points.unshift(y.intersectRect(r,e)),n.points.push(y.intersectRect(i,o))})}),t("    reversePoints",function(){var n;n=c,l.forEach(n.edges(),function(t){var e=n.edge(t);e.reversed&&e.points.reverse()})}),t("    acyclic.undo",function(){r.undo(c)})}),n("  updateInputGraph",function(){var r,i;r=o,i=e,l.forEach(r.nodes(),function(t){var e=r.node(t),n=i.node(t);e&&(e.x=n.x,e.y=n.y,i.children(t).length&&(e.width=n.width,e.height=n.height))}),l.forEach(r.edges(),function(t){var e=r.edge(t),n=i.edge(t);e.points=n.points,l.has(n,"x")&&(e.x=n.x,e.y=n.y)}),r.graph().width=i.graph().width,r.graph().height=i.graph().height})})};var m=["nodesep","edgesep","ranksep","marginx","marginy"],x={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],w=["width","height"],_={width:0,height:0},S=["minlen","weight","width","height","labeloffset"],M={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},E=["labelpos"];function C(t,e){return l.mapValues(l.pick(t,e),Number)}function P(t){var n={};return l.forEach(t,function(t,e){n[e.toLowerCase()]=t}),n}},function(t,e,n){var r=n(824);t.exports=function(t){return r(t,5)}},function(t,e,n){var r=n(716),f=n(714),h=n(717),p=n(640),d=Object.prototype,g=d.hasOwnProperty,i=r(function(t,e){t=Object(t);var n=-1,r=e.length,i=2<r?e[2]:void 0;for(i&&h(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=p(o),s=-1,u=a.length;++s<u;){var c=a[s],l=t[c];(void 0===l||f(l,d[c])&&!g.call(t,c))&&(t[c]=o[c])}return t});t.exports=i},function(t,e,n){var r=n(1261)(n(1262));t.exports=r},function(t,e,n){var s=n(569),u=n(585),c=n(573);t.exports=function(a){return function(t,e,n){var r,i=Object(t);u(t)||(r=s(e,3),t=c(t),e=function(t){return r(i[t],t,i)});var o=a(t,e,n);return-1<o?i[r?t[o]:o]:void 0}}},function(t,e,n){var o=n(847),a=n(569),s=n(1263),u=Math.max;t.exports=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:s(n);return i<0&&(i=u(r+i,0)),o(t,a(e,3),i)}},function(t,e,n){var r=n(854);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var r=n(909),i=n(833),o=n(640);t.exports=function(t,e){return null==t?t:r(t,i(e),o)}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var o=n(1343),a=n(690),s=n(569);t.exports=function(t,r){var i={};return r=s(r,3),a(t,function(t,e,n){o(i,e,r(t,e,n))}),i}},function(t,e,n){var r=n(693),i=n(1268),o=n(604);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},function(t,e){t.exports=function(t,e){return e<t}},function(t,e,n){var r=n(693),i=n(856),o=n(604);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},function(t,e,n){var r=n(693),i=n(569),o=n(856);t.exports=function(t,e){return t&&t.length?r(t,i(e,2),o):void 0}},function(t,e,n){var r=n(1272),i=n(1274)(function(t,e){return null==t?{}:r(t,e)});t.exports=i},function(t,e,n){var r=n(1273),i=n(841);t.exports=function(n,t){return r(n,t,function(t,e){return i(n,e)})}},function(t,e,n){var u=n(900),c=n(906),l=n(696);t.exports=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=u(t,a);n(s,a)&&c(o,l(a,t),s)}return o}},function(t,e,n){var r=n(855),i=n(1377),o=n(1378);t.exports=function(t){return o(i(t,void 0,r),t+"")}},function(t,e,n){var r=n(1276)();t.exports=r},function(t,e,n){var i=n(1277),o=n(717),a=n(854);t.exports=function(r){return function(t,e,n){return n&&"number"!=typeof n&&o(t,e,n)&&(e=n=void 0),t=a(t),void 0===e?(e=t,t=0):e=a(e),n=void 0===n?t<e?1:-1:a(n),i(t,e,n,r)}}},function(t,e){var s=Math.ceil,u=Math.max;t.exports=function(t,e,n,r){for(var i=-1,o=u(s((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}},function(t,e,n){var r=n(692),i=n(1279),o=n(716),a=n(717),s=o(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&a(t,e[0],e[1])?e=[]:2<n&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])});t.exports=s},function(t,e,n){var o=n(704),a=n(569),s=n(845),u=n(1280),c=n(715),l=n(1281),f=n(604);t.exports=function(t,r,n){var i=-1;r=o(r.length?r:[f],c(a));var e=s(t,function(e,t,n){return{criteria:o(r,function(t){return t(e)}),index:++i,value:e}});return u(e,function(t,e){return l(t,e,n)})}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var c=n(1282);t.exports=function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=c(i[r],o[r]);if(u)return s<=r?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}},function(t,e,n){var l=n(337);t.exports=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,i=t==t,o=l(t),a=void 0!==e,s=null===e,u=e==e,c=l(e);if(!s&&!c&&!o&&e<t||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}},function(t,e,n){var r=n(1356),i=0;t.exports=function(t){var e=++i;return r(t)+e}},function(t,e,n){var r=n(703),i=n(1285);t.exports=function(t,e){return i(t||[],e||[],r)}},function(t,e){t.exports=function(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}},function(t,e,n){"use strict";var a=n(539),r=n(1287);t.exports={run:function(n){var t="greedy"===n.graph().acyclicer?r(n,function(e){return function(t){return e.edge(t).weight}}(n)):function(n){var r=[],i={},o={};return a.forEach(n.nodes(),function e(t){if(a.has(o,t))return;o[t]=!0;i[t]=!0;a.forEach(n.outEdges(t),function(t){a.has(i,t.w)?r.push(t):e(t.w)});delete i[t]}),r}(n);a.forEach(t,function(t){var e=n.edge(t);n.removeEdge(t),e.forwardName=t.name,e.reversed=!0,n.setEdge(t.w,t.v,e,a.uniqueId("rev"))})},undo:function(r){a.forEach(r.edges(),function(t){var e,n=r.edge(t);n.reversed&&(r.removeEdge(t),e=n.forwardName,delete n.reversed,delete n.forwardName,r.setEdge(t.w,t.v,n,e))})}}},function(t,e,n){var u=n(539),c=n(560).Graph,l=n(1288);t.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(t,i){var o=new c,a=0,s=0;u.forEach(t.nodes(),function(t){o.setNode(t,{v:t,in:0,out:0})}),u.forEach(t.edges(),function(t){var e=o.edge(t.v,t.w)||0,n=i(t),r=e+n;o.setEdge(t.v,t.w,r),s=Math.max(s,o.node(t.v).out+=n),a=Math.max(a,o.node(t.w).in+=n)});var e=u.range(s+a+3).map(function(){return new l}),n=a+1;return u.forEach(o.nodes(),function(t){h(e,n,o.node(t))}),{graph:o,buckets:e,zeroIdx:n}}(e,t||i),r=function(t,e,n){var r,i=[],o=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;r=a.dequeue();)f(t,e,n,r);for(;r=o.dequeue();)f(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;0<s;--s)if(r=e[s].dequeue()){i=i.concat(f(t,e,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return u.flatten(u.map(r,function(t){return e.outEdges(t.v,t.w)}),!0)};var i=u.constant(1);function f(i,o,a,t,r){var s=r?[]:void 0;return u.forEach(i.inEdges(t.v),function(t){var e=i.edge(t),n=i.node(t.v);r&&s.push({v:t.v,w:t.w}),n.out-=e,h(o,a,n)}),u.forEach(i.outEdges(t.v),function(t){var e=i.edge(t),n=t.w,r=i.node(n);r.in-=e,h(o,a,r)}),i.removeNode(t.v),s}function h(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},function(t,e){function n(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function i(t,e){if("_next"!==t&&"_prev"!==t)return e}(t.exports=n).prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return r(e),e},n.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&r(t),t._next=e._next,e._next._prev=t,(e._next=t)._prev=e},n.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,i)),n=n._prev;return"["+t.join(", ")+"]"}},function(t,e,n){"use strict";var r=n(539),h=n(549);t.exports={run:function(e){e.graph().dummyChains=[],r.forEach(e.edges(),function(t){!function(t,e){var n,r,i,o=e.v,a=t.node(o).rank,s=e.w,u=t.node(s).rank,c=e.name,l=t.edge(e),f=l.labelRank;if(u===a+1)return;for(t.removeEdge(e),i=0,++a;a<u;++i,++a)l.points=[],r={width:0,height:0,edgeLabel:l,edgeObj:e,rank:a},n=h.addDummyNode(t,"edge",r,"_d"),a===f&&(r.width=l.width,r.height=l.height,r.dummy="edge-label",r.labelpos=l.labelpos),t.setEdge(o,n,{weight:l.weight},c),0===i&&t.graph().dummyChains.push(n),o=n;t.setEdge(o,s,{weight:l.weight},c)}(e,t)})},undo:function(i){r.forEach(i.graph().dummyChains,function(t){var e,n=i.node(t),r=n.edgeLabel;for(i.setEdge(n.edgeObj,r);n.dummy;)e=i.successors(t)[0],i.removeNode(t),r.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=e,n=i.node(t)})}}},function(t,e,n){"use strict";var r=n(631).longestPath,i=n(857),o=n(1291);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":s(t);break;case"tight-tree":!function(t){r(t),i(t)}(t);break;case"longest-path":a(t);break;default:s(t)}};var a=r;function s(t){o(t)}},function(t,e,n){"use strict";var d=n(539),r=n(857),l=n(631).slack,i=n(631).longestPath,f=n(560).alg.preorder,s=n(560).alg.postorder,o=n(549).simplify;function a(t){t=o(t),i(t);var e,n=r(t);for(p(n),h(n,t);e=c(n);)v(n,t,e,g(n,t,e))}function h(o,a){var t=(t=s(o,o.nodes())).slice(0,t.length-1);d.forEach(t,function(t){var e,n,r,i;n=a,r=t,i=(e=o).node(r).parent,e.edge(r,i).cutvalue=u(e,n,r)})}function u(u,c,l){var f=u.node(l).parent,h=!0,t=c.edge(l,f),p=0;return t||(h=!1,t=c.edge(f,l)),p=t.weight,d.forEach(c.nodeEdges(l),function(t){var e,n,r,i,o,a=t.v===l,s=a?t.w:t.v;s!==f&&(e=a===h,n=c.edge(t).weight,p+=e?n:-n,i=l,o=s,u.hasEdge(i,o)&&(r=u.edge(l,s).cutvalue,p+=e?-r:r))}),p}function p(t,e){arguments.length<2&&(e=t.nodes()[0]),function e(n,r,i,o,t){var a=i;var s=n.node(o);r[o]=!0;d.forEach(n.neighbors(o),function(t){d.has(r,t)||(i=e(n,r,i,t,o))});s.low=a;s.lim=i++;t?s.parent=t:delete s.parent;return i}(t,{},1,e)}function c(e){return d.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function g(e,n,t){var r=t.v,i=t.w;n.hasEdge(r,i)||(r=t.w,i=t.v);var o=e.node(r),a=e.node(i),s=o,u=!1;o.lim>a.lim&&(s=a,u=!0);var c=d.filter(n.edges(),function(t){return u===y(0,e.node(t.v),s)&&u!==y(0,e.node(t.w),s)});return d.minBy(c,function(t){return l(n,t)})}function v(t,e,n,r){var i,o,a,s,u=n.v,c=n.w;t.removeEdge(u,c),t.setEdge(r.v,r.w,{}),p(t),h(t,e),i=t,o=e,a=d.find(i.nodes(),function(t){return!o.node(t).parent}),s=(s=f(i,a)).slice(1),d.forEach(s,function(t){var e=i.node(t).parent,n=o.edge(t,e),r=!1;n||(n=o.edge(e,t),r=!0),o.node(t).rank=o.node(e).rank+(r?n.minlen:-n.minlen)})}function y(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}(t.exports=a).initLowLimValues=p,a.initCutValues=h,a.calcCutValue=u,a.leaveEdge=c,a.enterEdge=g,a.exchangeEdges=v},function(t,e,n){var a=n(539);t.exports=function(c){var l=function(r){var i={},o=0;return a.forEach(r.children(),function t(e){var n=o;a.forEach(r.children(e),t);i[e]={low:n,lim:o++}}),i}(c);a.forEach(c.graph().dummyChains,function(t){for(var e=c.node(t),n=e.edgeObj,r=function(t,e,n,r){var i,o,a=[],s=[],u=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim);i=n;for(;i=t.parent(i),a.push(i),i&&(e[i].low>u||c>e[i].lim););o=i,i=r;for(;(i=t.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(c,l,n.v,n.w),i=r.path,o=r.lca,a=0,s=i[a],u=!0;t!==n.w;){if(e=c.node(t),u){for(;(s=i[a])!==o&&c.node(s).maxRank<e.rank;)a++;s===o&&(u=!1)}if(!u){for(;a<i.length-1&&c.node(s=i[a+1]).minRank<=e.rank;)a++;s=i[a]}c.setParent(t,s),t=c.successors(t)[0]}})}},function(t,e,n){var v=n(539),y=n(549);t.exports={run:function(e){var n=y.addDummyNode(e,"root",{},"_root"),r=function(i){var o={};return v.forEach(i.children(),function(t){!function e(t,n){var r=i.children(t);r&&r.length&&v.forEach(r,function(t){e(t,n+1)});o[t]=n}(t,1)}),o}(e),i=v.max(v.values(r))-1,o=2*i+1;e.graph().nestingRoot=n,v.forEach(e.edges(),function(t){e.edge(t).minlen*=o});var a=function(n){return v.reduce(n.edges(),function(t,e){return t+n.edge(e).weight},0)}(e)+1;v.forEach(e.children(),function(t){!function a(s,u,c,l,f,h,p){var t=s.children(p);if(!t.length)return void(p!==u&&s.setEdge(u,p,{weight:0,minlen:c}));var d=y.addBorderNode(s,"_bt");var g=y.addBorderNode(s,"_bb");var e=s.node(p);s.setParent(d,p);e.borderTop=d;s.setParent(g,p);e.borderBottom=g;v.forEach(t,function(t){a(s,u,c,l,f,h,t);var e=s.node(t),n=e.borderTop?e.borderTop:t,r=e.borderBottom?e.borderBottom:t,i=e.borderTop?l:2*l,o=n!==r?1:f-h[p]+1;s.setEdge(d,n,{weight:i,minlen:o,nestingEdge:!0}),s.setEdge(r,g,{weight:i,minlen:o,nestingEdge:!0})});s.parent(p)||s.setEdge(u,d,{weight:0,minlen:f+h[p]})}(e,n,o,a,i,r,t)}),e.graph().nodeRankFactor=o},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,v.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}}},function(t,e,n){var s=n(539),c=n(549);function u(t,e,n,r,i,o){var a={width:0,height:0,rank:o,borderType:e},s=i[e][o-1],u=c.addDummyNode(t,"border",a,n);i[e][o]=u,t.setParent(u,r),s&&t.setEdge(s,u,{weight:1})}t.exports=function(a){s.forEach(a.children(),function t(e){var n=a.children(e),r=a.node(e);if(n.length&&s.forEach(n,t),s.has(r,"minRank")){r.borderLeft=[],r.borderRight=[];for(var i=r.minRank,o=r.maxRank+1;i<o;++i)u(a,"borderLeft","_bl",e,r,i),u(a,"borderRight","_br",e,r,i)}})}},function(t,e,n){"use strict";var r=n(539);function i(e){r.forEach(e.nodes(),function(t){o(e.node(t))}),r.forEach(e.edges(),function(t){o(e.edge(t))})}function o(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function s(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||i(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(n){r.forEach(n.nodes(),function(t){a(n.node(t))}),r.forEach(n.edges(),function(t){var e=n.edge(t);r.forEach(e.points,a),r.has(e,"y")&&a(e)})}(t);"lr"!==e&&"rl"!==e||(function(n){r.forEach(n.nodes(),function(t){s(n.node(t))}),r.forEach(n.edges(),function(t){var e=n.edge(t);r.forEach(e.points,s),r.has(e,"x")&&s(e)})}(t),i(t))}}},function(t,e,n){"use strict";var l=n(539),f=n(1297),h=n(1298),p=n(1299),r=n(1303),d=n(1304),g=n(560).Graph,v=n(549);function y(e,t,n){return l.map(t,function(t){return r(e,t,n)})}function m(n,t){l.forEach(t,function(t){l.forEach(t,function(t,e){n.node(t).order=e})})}t.exports=function(t){var e=v.maxRank(t),n=y(t,l.range(1,e+1),"inEdges"),r=y(t,l.range(e-1,-1,-1),"outEdges"),i=f(t);m(t,i);for(var o,a=Number.POSITIVE_INFINITY,s=0,u=0;u<4;++s,++u){!function(t,r){var i=new g;l.forEach(t,function(n){var t=n.graph().root,e=p(n,t,i,r);l.forEach(e.vs,function(t,e){n.node(t).order=e}),d(n,i,e.vs)})}(s%2?n:r,2<=s%4),i=v.buildLayerMatrix(t);var c=h(t,i);c<a&&(u=0,o=l.cloneDeep(i),a=c)}m(t,o)}},function(t,e,n){"use strict";var a=n(539);t.exports=function(r){var i={},t=a.filter(r.nodes(),function(t){return!r.children(t).length}),e=a.max(a.map(t,function(t){return r.node(t).rank})),o=a.map(a.range(e+1),function(){return[]});var n=a.sortBy(t,function(t){return r.node(t).rank});return a.forEach(n,function t(e){if(a.has(i,e))return;i[e]=!0;var n=r.node(e);o[n.rank].push(e);a.forEach(r.successors(e),t)}),o}},function(t,e,n){"use strict";var c=n(539);t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=function(e,t,n){var r=c.zipObject(n,c.map(n,function(t,e){return e})),i=c.flatten(c.map(t,function(t){return c.sortBy(c.map(e.outEdges(t),function(t){return{pos:r[t.w],weight:e.edge(t).weight}}),"pos")}),!0),o=1;for(;o<n.length;)o<<=1;var a=2*o-1;--o;var s=c.map(new Array(a),function(){return 0}),u=0;return c.forEach(i.forEach(function(t){var e=t.pos+o;s[e]+=t.weight;for(var n=0;0<e;)e%2&&(n+=s[e+1]),s[e=e-1>>1]+=t.weight;u+=t.weight*n})),u}(t,e[r-1],e[r]);return n}},function(t,e,n){var y=n(539),m=n(1300),x=n(1301),b=n(1302);function w(t,e){y.isUndefined(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}t.exports=function n(r,t,i,o){var e=r.children(t);var a=r.node(t);var s=a?a.borderLeft:void 0;var u=a?a.borderRight:void 0;var c={};s&&(e=y.filter(e,function(t){return t!==s&&t!==u}));var l=m(r,e);y.forEach(l,function(t){var e;r.children(t.v).length&&(e=n(r,t.v,i,o),c[t.v]=e,y.has(e,"barycenter")&&w(t,e))});var f=x(l,i);h=f,p=c,y.forEach(h,function(t){t.vs=y.flatten(t.vs.map(function(t){return p[t]?p[t].vs:t}),!0)});var h,p;var d=b(f,o);{var g,v;s&&(d.vs=y.flatten([s,d.vs,u],!0),r.predecessors(s).length&&(g=r.node(r.predecessors(s)[0]),v=r.node(r.predecessors(u)[0]),y.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+g.order+v.order)/(d.weight+2),d.weight+=2))}return d}},function(t,e,n){var r=n(539);t.exports=function(i,t){return r.map(t,function(t){var e=i.inEdges(t);if(e.length){var n=r.reduce(e,function(t,e){var n=i.edge(e),r=i.node(e.v);return{sum:t.sum+n.weight*r.order,weight:t.weight+n.weight}},{sum:0,weight:0});return{v:t,barycenter:n.sum/n.weight,weight:n.weight}}return{v:t}})}},function(t,e,n){"use strict";var i=n(539);t.exports=function(t,e){var r={};return i.forEach(t,function(t,e){var n=r[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};i.isUndefined(t.barycenter)||(n.barycenter=t.barycenter,n.weight=t.weight)}),i.forEach(e.edges(),function(t){var e=r[t.v],n=r[t.w];i.isUndefined(e)||i.isUndefined(n)||(n.indegree++,e.out.push(r[t.w]))}),function(n){var t=[];function e(e){return function(t){t.merged||(i.isUndefined(t.barycenter)||i.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(e,t)}}for(;n.length;){var r=n.pop();t.push(r),i.forEach(r.in.reverse(),e(r)),i.forEach(r.out,function(e){return function(t){t.in.push(e),0==--t.indegree&&n.push(t)}}(r))}return i.map(i.filter(t,function(t){return!t.merged}),function(t){return i.pick(t,["vs","i","barycenter","weight"])})}(i.filter(r,function(t){return!t.indegree}))}},function(t,e,n){var l=n(539),f=n(549);function h(t,e,n){for(var r;e.length&&(r=l.last(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}t.exports=function(t,e){var n=f.partition(t,function(t){return l.has(t,"barycenter")}),r=n.lhs,i=l.sortBy(n.rhs,function(t){return-t.i}),o=[],a=0,s=0,u=0;r.sort(function(n){return function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:n?e.i-t.i:t.i-e.i}}(!!e)),u=h(o,i,u),l.forEach(r,function(t){u+=t.vs.length,o.push(t.vs),a+=t.barycenter*t.weight,s+=t.weight,u=h(o,i,u)});var c={vs:l.flatten(o,!0)};s&&(c.barycenter=a/s,c.weight=s);return c}},function(t,e,n){var u=n(539),i=n(560).Graph;t.exports=function(o,n,r){var a=function(t){var e;for(;t.hasNode(e=u.uniqueId("_root")););return e}(o),s=new i({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(t){return o.node(t)});return u.forEach(o.nodes(),function(i){var t=o.node(i),e=o.parent(i);(t.rank===n||t.minRank<=n&&n<=t.maxRank)&&(s.setNode(i),s.setParent(i,e||a),u.forEach(o[r](i),function(t){var e=t.v===i?t.w:t.v,n=s.edge(e,i),r=u.isUndefined(n)?0:n.weight;s.setEdge(e,i,{weight:o.edge(t).weight+r})}),u.has(t,"minRank")&&s.setNode(i,{borderLeft:t.borderLeft[n],borderRight:t.borderRight[n]}))}),s}},function(t,e,n){var r=n(539);t.exports=function(i,o,t){var a,s={};r.forEach(t,function(t){for(var e,n,r=i.parent(t);r;){if((e=i.parent(r))?(n=s[e],s[e]=r):(n=a,a=r),n&&n!==r)return void o.setEdge(n,r);r=e}})}},function(t,e,n){"use strict";var o=n(539),a=n(549),r=n(1306).positionX;t.exports=function(n){(function(n){var t=a.buildLayerMatrix(n),r=n.graph().ranksep,i=0;o.forEach(t,function(t){var e=o.max(o.map(t,function(t){return n.node(t).height}));o.forEach(t,function(t){n.node(t).y=i+e/2}),i+=e+r})})(n=a.asNonCompoundGraph(n)),o.forEach(r(n),function(t,e){n.node(e).x=t})}},function(t,e,n){"use strict";var v=n(539),y=n(560).Graph,r=n(549);function i(c,t){var l={};return v.reduce(t,function(t,r){var o=0,a=0,s=t.length,u=v.last(r);return v.forEach(r,function(t,e){var n=function(e,t){if(e.node(t).dummy)return v.find(e.predecessors(t),function(t){return e.node(t).dummy})}(c,t),i=n?c.node(n).order:s;!n&&t!==u||(v.forEach(r.slice(a,e+1),function(r){v.forEach(c.predecessors(r),function(t){var e=c.node(t),n=e.order;!(n<o||i<n)||e.dummy&&c.node(r).dummy||f(l,t,r)})}),a=e+1,o=i)}),r}),l}function c(u,t){var a={};function c(e,t,n,r,i){var o;v.forEach(v.range(t,n),function(t){o=e[t],u.node(o).dummy&&v.forEach(u.predecessors(o),function(t){var e=u.node(t);e.dummy&&(e.order<r||e.order>i)&&f(a,t,o)})})}return v.reduce(t,function(r,i){var o,a=-1,s=0;return v.forEach(i,function(t,e){var n;"border"!==u.node(t).dummy||(n=u.predecessors(t)).length&&(o=u.node(n[0]).order,c(i,s,e,a,o),s=e,a=o),c(i,s,i.length,o,r.length)}),i}),a}function f(t,e,n){var r;n<e&&(r=e,e=n,n=r);var i=t[e];i||(t[e]=i={}),i[n]=!0}function h(t,e,n){var r;return n<e&&(r=e,e=n,n=r),v.has(t[e],n)}function l(t,e,s,u){var c={},l={},f={};return v.forEach(e,function(t){v.forEach(t,function(t,e){c[t]=t,l[t]=t,f[t]=e})}),v.forEach(e,function(t){var a=-1;v.forEach(t,function(t){var e=u(t);if(e.length)for(var n=((e=v.sortBy(e,function(t){return f[t]})).length-1)/2,r=Math.floor(n),i=Math.ceil(n);r<=i;++r){var o=e[r];l[t]===t&&a<f[o]&&!h(s,t,o)&&(l[o]=t,l[t]=c[t]=c[o],a=f[o])}})}),{root:c,align:l}}function p(r,t,e,n,i){var o,a,s,u,c,l,f,h={},p=(o=r,a=t,s=e,u=i,c=new y,l=o.graph(),f=function(s,u,c){return function(t,e,n){var r,i=t.node(e),o=t.node(n),a=0;if(a+=i.width/2,v.has(i,"labelpos"))switch(i.labelpos.toLowerCase()){case"l":r=-i.width/2;break;case"r":r=i.width/2}if(r&&(a+=c?r:-r),r=0,a+=(i.dummy?u:s)/2,a+=(o.dummy?u:s)/2,a+=o.width/2,v.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":r=o.width/2;break;case"r":r=-o.width/2}return r&&(a+=c?r:-r),r=0,a}}(l.nodesep,l.edgesep,u),v.forEach(a,function(t){var i;v.forEach(t,function(t){var e,n,r=s[t];c.setNode(r),i&&(e=s[i],n=c.edge(e,r),c.setEdge(e,r,Math.max(f(o,t,i),n||0))),i=t})}),c),d=i?"borderLeft":"borderRight";function g(t,e){for(var n=p.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return g(function(t){h[t]=p.inEdges(t).reduce(function(t,e){return Math.max(t,h[e.v]+p.edge(e))},0)},p.predecessors.bind(p)),g(function(t){var e=p.outEdges(t).reduce(function(t,e){return Math.min(t,h[e.w]-p.edge(e))},Number.POSITIVE_INFINITY),n=r.node(t);e!==Number.POSITIVE_INFINITY&&n.borderType!==d&&(h[t]=Math.max(h[t],e))},p.successors.bind(p)),v.forEach(n,function(t){h[t]=h[e[t]]}),h}function d(a,t){return v.minBy(v.values(t),function(t){var i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return v.forIn(t,function(t,e){var n,r=(n=e,a.node(n).width/2);i=Math.max(t+r,i),o=Math.min(t-r,o)}),i-o})}function g(a,s){var t=v.values(s),u=v.min(t),c=v.max(t);v.forEach(["u","d"],function(o){v.forEach(["l","r"],function(t){var e,n,r=o+t,i=a[r];i!==s&&(e=v.values(i),(n="l"===t?u-v.min(e):c-v.max(e))&&(a[r]=v.mapValues(i,function(t){return t+n})))})})}function m(r,i){return v.mapValues(r.ul,function(t,e){if(i)return r[i.toLowerCase()][e];var n=v.sortBy(v.map(r,e));return(n[1]+n[2])/2})}t.exports={positionX:function(o){var a,t=r.buildLayerMatrix(o),s=v.merge(i(o,t),c(o,t)),u={};v.forEach(["u","d"],function(i){a="u"===i?t:v.values(t).reverse(),v.forEach(["l","r"],function(t){"r"===t&&(a=v.map(a,function(t){return v.values(t).reverse()}));var e=("u"===i?o.predecessors:o.successors).bind(o),n=l(0,a,s,e),r=p(o,a,n.root,n.align,"r"===t);"r"===t&&(r=v.mapValues(r,function(t){return-t})),u[i+t]=r})});var e=d(o,u);return g(u,e),m(u,o.graph().align)},findType1Conflicts:i,findType2Conflicts:c,addConflict:f,hasConflict:h,verticalAlignment:l,horizontalCompaction:p,alignCoordinates:g,findSmallestWidthAlignment:d,balance:m}},function(t,e,n){var i=n(539),o=n(549),a=n(560).Graph;t.exports={debugOrdering:function(e){var t=o.buildLayerMatrix(e),r=new a({compound:!0,multigraph:!0}).setGraph({});return i.forEach(e.nodes(),function(t){r.setNode(t,{label:t}),r.setParent(t,"layer"+e.node(t).rank)}),i.forEach(e.edges(),function(t){r.setEdge(t.v,t.w,{},t.name)}),i.forEach(t,function(t,e){var n="layer"+e;r.setNode(n,{rank:"same"}),i.reduce(t,function(t,e){return r.setEdge(t,e,{style:"invis"}),e})}),r}}},function(t,e){t.exports="0.8.5"},function(t,e,n){var i=n(534),o=n(543),a=n(547),r=n(1336),s=r.sankey,u=r.sankeyLeft,c=r.sankeyRight,l=r.sankeyCenter,f=r.sankeyJustify,h=n(531).registerTransform,p={sankeyLeft:u,sankeyRight:c,sankeyCenter:l,sankeyJustify:f},d={value:function(t){return t.value},source:function(t){return t.source},target:function(t){return t.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02};function g(t,e){e=i({},d,e);var n=null;o(e.nodeAlign)?n=p[e.nodeAlign]:a(e.nodeAlign)&&(n=e.nodeAlign);var r=s().links(function(t){return t.edges}).nodeWidth(e.nodeWidth).nodePadding(e.nodePadding).extent([[0,0],[1,1]]);a(e.nodeId)&&r.nodeId(e.nodeId),n&&r.nodeAlign(n),r(t),t.nodes.forEach(function(t){var e=t.x0,n=t.x1,r=t.y0,i=t.y1;t.x=[e,n,n,e],t.y=[r,r,i,i]}),t.edges.forEach(function(t){var e=t.source,n=t.target,r=e.x1,i=n.x0;t.x=[r,r,i,i];var o=t.width/2;t.y=[t.y0+o,t.y0-o,t.y1+o,t.y1-o]})}h("diagram.sankey",g),h("sankey",g)},function(t,e,n){var h=n(534),p=n(1338),d=n(537),r=n(531).registerTransform,g=n(538).getFields,v={as:["_x","_y"]};function i(t,e){var n=(e=h({},v,e)).as;if(!d(n)||2!==n.length)throw new TypeError("Invalid as: must be an array with two strings!");var r=n[0],i=n[1],o=g(e);if(!d(o)&&2!==o.length)throw new TypeError("Invalid fields: must be an array with two strings!");var a=o[0],s=o[1],u=t.rows,c=u.map(function(t){return[t[a],t[s]]}),l=p.voronoi();e.extend&&l.extent(e.extend),e.size&&l.size(e.size);var f=l(c).polygons();u.forEach(function(t,e){var n=f[e].filter(function(t){return!!t});t[r]=n.map(function(t){return t[0]}),t[i]=n.map(function(t){return t[1]})})}r("diagram.voronoi",i),r("voronoi",i)},function(t,e,n){var u=n(534),c=n(582),l=n(537),r=n(531),f=r.HIERARCHY,i=r.registerTransform,h=n(538).getField,p={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function o(t,e){if(t.dataType!==f)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n,r=t.root,i=(e=u({},p,e)).as;if(!l(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=h(e)}catch(t){console.warn(t)}n&&r.sum(function(t){return t[n]});var o=c.cluster();o.size(e.size),e.nodeSize&&o.nodeSize(e.nodeSize),e.separation&&o.separation(e.separation),o(r);var a=i[0],s=i[1];r.each(function(t){t[a]=t.x,t[s]=t.y})}i("hierarchy.cluster",o),i("dendrogram",o)},function(t,e,n){var r=n(694),i=n(531),o=i.HIERARCHY,a=i.registerTransform,s={};function u(t,e){var n=t.root;if(e=Object.assign({},s,e),t.dataType!==o)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");t.root=r.compactBox(n,e)}a("hierarchy.compact-box",u),a("compact-box-tree",u),a("non-layered-tidy-tree",u),a("mindmap-logical",u)},function(t,e,n){var r,i,o,a=n(632),s=n(1314),u=n(695),c=n(576),l=(o=r=a,(i=f).prototype=Object.create(o.prototype),(i.prototype.constructor=i).__proto__=o,f.prototype.execute=function(){return u(this.rootNode,this.options,s)},f);function f(){return r.apply(this,arguments)||this}var h={};t.exports=function(t,e){return e=c.assign({},h,e),new l(t,e).execute()}},function(t,e){function i(t,e,n,r){void 0===r&&(r=[]);var i=this;i.w=t||0,i.h=e||0,i.y=n||0,i.x=0,i.c=r||[],i.cs=r.length,i.prelim=0,i.mod=0,i.shift=0,i.change=0,i.tl=null,i.tr=null,i.el=null,i.er=null,i.msel=0,i.mser=0}function o(t,e){!function e(t,n,r){r?t.y+=n:t.x+=n,t.children.forEach(function(t){e(t,n,r)})}(t,-function e(t,n){var r=n?t.y:t.x;return t.children.forEach(function(t){r=Math.min(e(t,n),r)}),r}(t,e),e)}i.fromNode=function(t,e){if(!t)return null;var n=[];return t.children.forEach(function(t){n.push(i.fromNode(t,e))}),e?new i(t.height,t.width,t.x,n):new i(t.width,t.height,t.y,n)},t.exports=function(t,e){void 0===e&&(e={});var n=e.isHorizontal;function a(t){0===t.cs?((t.el=t).er=t).msel=t.mser=0:(t.el=t.c[0].el,t.msel=t.c[0].msel,t.er=t.c[t.cs-1].er,t.mser=t.c[t.cs-1].mser)}function l(t){return t.y+t.h}function s(t,e,n){for(;null!==n&&t>=n.low;)n=n.nxt;return{low:t,index:e,nxt:n}}!function e(t,n,r){void 0===r&&(r=0),n?(t.x=r,r+=t.width):(t.y=r,r+=t.height),t.children.forEach(function(t){e(t,n,r)})}(t,n);var r=i.fromNode(t,n);return function t(e){if(0!==e.cs){t(e.c[0]);for(var n,r=s(l(e.c[0].el),0,null),i=1;i<e.cs;++i){t(e.c[i]);var o=l(e.c[i].er);!function(t,e,n){for(var r=t.c[e-1],i=r.mod,o=t.c[e],a=o.mod;null!==r&&null!==o;){l(r)>n.low&&(n=n.nxt);var s=i+r.prelim+r.w-(a+o.prelim);0<s&&(a+=s,function(t,e,n,r){t.c[e].mod+=r,t.c[e].msel+=r,t.c[e].mser+=r,function(t,e,n,r){var i;n!==e-1&&(i=e-n,t.c[n+1].shift+=r/i,t.c[e].shift-=r/i,t.c[e].change-=r-r/i)}(t,e,n,r)}(t,e,n.index,s));var u=l(r),c=l(o);u<=c&&null!==(r=function(t){return 0===t.cs?t.tr:t.c[t.cs-1]}(r))&&(i+=r.mod),c<=u&&null!==(o=function(t){return 0===t.cs?t.tl:t.c[0]}(o))&&(a+=o.mod)}!r&&o?function(t,e,n,r){var i=t.c[0].el;i.tl=n;var o=r-n.mod-t.c[0].msel;i.mod+=o,i.prelim-=o,t.c[0].el=t.c[e].el,t.c[0].msel=t.c[e].msel}(t,e,o,a):r&&!o&&function(t,e,n,r){var i=t.c[e].er;i.tr=n;var o=r-n.mod-t.c[e].mser;i.mod+=o,i.prelim-=o,t.c[e].er=t.c[e-1].er,t.c[e].mser=t.c[e-1].mser}(t,e,r,i)}(e,i,r),r=s(o,i,r)}(n=e).prelim=(n.c[0].prelim+n.c[0].mod+n.c[n.cs-1].mod+n.c[n.cs-1].prelim+n.c[n.cs-1].w)/2-n.w/2,a(e)}else a(e)}(r),function t(e,n){n+=e.mod,e.x=e.prelim+n,function(t){for(var e=0,n=0,r=0;r<t.cs;r++)e+=t.c[r].shift,n+=e+t.c[r].change,t.c[r].mod+=n}(e);for(var r=0;r<e.cs;r++)t(e.c[r],n)}(r,0),function n(t,r,i){i?r.y=t.x:r.x=t.x,t.c.forEach(function(t,e){n(t,r.children[e],i)})}(r,t,n),o(t,n),t}},function(t,e,n){var r,i,o,a=n(632),s=n(1316),u=n(695),c=n(576),l=(o=r=a,(i=f).prototype=Object.create(o.prototype),(i.prototype.constructor=i).__proto__=o,f.prototype.execute=function(){return this.rootNode.width=0,u(this.rootNode,this.options,s)},f);function f(){return r.apply(this,arguments)||this}var h={};t.exports=function(t,e){return e=c.assign({},h,e),new l(t,e).execute()}},function(t,e,n){var i=n(576);function s(t,e){void 0===t&&(t=0),void 0===e&&(e=[]);this.x=this.y=0,this.leftChild=this.rightChild=null,this.height=0,this.children=e}var o={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};t.exports=function(t,n){void 0===n&&(n={}),n=i.assign({},o,n);var r,a=0;var e=function r(t){if(!t)return null;t.width=0,t.depth&&t.depth>a&&(a=t.depth);var e=t.children,i=e.length,o=new s(t.height,[]);return e.forEach(function(t,e){var n=r(t);o.children.push(n),0===e&&(o.leftChild=n),e===i-1&&(o.rightChild=n)}),o.originNode=t,o.isLeaf=t.isLeaf(),o}(t);return function t(e){var n,r;return e.isLeaf||0===e.children.length?e.drawingDepth=a:(n=e.children.map(t),r=Math.min.apply(null,n),e.drawingDepth=r-1),e.drawingDepth}(e),function e(t){t.x=t.drawingDepth*n.rankSep,t.isLeaf?(t.y=0,r&&(t.y=r.y+r.height+n.nodeSep,t.originNode.parent!==r.originNode.parent&&(t.y+=n.subTreeSep)),r=t):(t.children.forEach(function(t){e(t)}),t.y=(t.leftChild.y+t.rightChild.y)/2)}(e),function n(t,r,i){i?(r.x=t.x,r.y=t.y):(r.x=t.y,r.y=t.x),t.children.forEach(function(t,e){n(t,r.children[e],i)})}(e,t,n.isHorizontal),t}},function(t,e,n){var r,i,o,a=n(632),u=n(1318),c=n(859),s=n(576),l=["LR","RL","H"],f=l[0],h=(o=r=a,(i=p).prototype=Object.create(o.prototype),(i.prototype.constructor=i).__proto__=o,p.prototype.execute=function(){var t=this.options,e=this.rootNode;t.isHorizontal=!0;var n,r,i,o,a=t.indent,s=t.direction||f;if(s&&-1===l.indexOf(s))throw new TypeError("Invalid direction: "+s);return s===l[0]?u(e,a):s===l[1]?(u(e,a),e.right2left()):s===l[2]&&(r=(n=c(e,t)).left,i=n.right,u(r,a),r.right2left(),u(i,a),o=r.getBoundingBox(),i.translate(o.width,0),e.x=i.x-e.width/2),e},p);function p(){return r.apply(this,arguments)||this}var d={};t.exports=function(t,e){return e=s.assign({},d,e),new h(t,e).execute()}},function(t,e){t.exports=function(t,i){void 0===i&&(i=20);var o=null;t.eachNode(function(t){var e,n,r;n=o,r=i,(e=t).x+=r*e.depth,e.y=n?n.y+n.height:0,o=t})}},function(t,e,n){var r,i,o,a=n(632),s=n(1320),u=n(695),c=n(576),l=(o=r=a,(i=f).prototype=Object.create(o.prototype),(i.prototype.constructor=i).__proto__=o,f.prototype.execute=function(){return u(this.rootNode,this.options,s)},f);function f(){return r.apply(this,arguments)||this}var h={};t.exports=function(t,e){return e=c.assign({},h,e),new l(t,e).execute()}},function(t,e,n){var r=n(576);var i={getSubTreeSep:function(){return 0}};t.exports=function(t,e){void 0===e&&(e={}),e=r.assign({},i,e),t.parent={x:0,width:0,height:0,y:0},t.BFTraverse(function(t){t.x=t.parent.x+t.parent.width}),t.parent=null,function e(t,n){var r=0;return t.children.length?t.children.forEach(function(t){r+=e(t,n)}):r=t.height,t._subTreeSep=n.getSubTreeSep(t.data),t.totalHeight=Math.max(t.height,r)+2*t._subTreeSep,t.totalHeight}(t,e),t.startY=0,t.y=t.totalHeight/2-t.height/2,t.eachNode(function(t){var e=t.children,n=e.length;if(n){var r=e[0];if(r.startY=t.startY+t._subTreeSep,1===n)r.y=t.y+t.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var i=1;i<n;i++){var o=e[i];o.startY=e[i-1].startY+e[i-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}}),function e(t){var n,r,i,o,a,s=t.children,u=s.length;u&&(s.forEach(function(t){e(t)}),n=s[0],i=(r=s[u-1]).y-n.y+r.height,o=0,s.forEach(function(t){o+=t.totalHeight}),i>t.height?t.y=n.y+i/2-t.height/2:1!==s.length||t.height>o?(a=t.y+(t.height-i)/2-n.y,s.forEach(function(t){t.translate(0,a)})):t.y=(n.y+n.height/2+r.y+r.height/2)/2-t.height/2)}(t)}},function(t,e,n){var r=n(694),i=n(531),o=i.HIERARCHY,a=i.registerTransform,s={};function u(t,e){var n=t.root;if(e=Object.assign({},s,e),t.dataType!==o)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");t.root=r.dendrogram(n,e)}a("hierarchy.dendrogram",u),a("dendrogram",u)},function(t,e,n){var r=n(694),i=n(531),o=i.HIERARCHY,a=i.registerTransform,s={};function u(t,e){var n=t.root;if(e=Object.assign({},s,e),t.dataType!==o)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");t.root=r.indented(n,e)}a("hierarchy.indented",u),a("indented-tree",u)},function(t,e,n){var c=n(534),l=n(582),f=n(537),r=n(531),h=r.HIERARCHY,i=r.registerTransform,p=n(538).getField,d={field:"value",size:[1,1],padding:0,as:["x","y","r"]};function o(t,e){if(t.dataType!==h)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n,r=t.root,i=(e=c({},d,e)).as;if(!f(i)||3!==i.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{n=p(e)}catch(t){console.warn(t)}n&&r.sum(function(t){return t[n]}).sort(function(t,e){return e[n]-t[n]});var o=l.pack();o.size(e.size),e.padding&&o.padding(e.padding),o(r);var a=i[0],s=i[1],u=i[2];r.each(function(t){t[a]=t.x,t[s]=t.y,t[u]=t.r})}i("hierarchy.pack",o),i("hierarchy.circle-packing",o),i("circle-packing",o)},function(t,e,n){var u=n(534),c=n(582),l=n(537),r=n(531),f=r.HIERARCHY,i=r.registerTransform,h=n(538).getField,p={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function o(t,e){if(t.dataType!==f)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n,r=t.root,i=(e=u({},p,e)).as;if(!l(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=h(e)}catch(t){console.warn(t)}n&&r.sum(function(t){return t[n]});var o=c.partition();o.size(e.size).round(e.round).padding(e.padding),o(r);var a=i[0],s=i[1];r.each(function(e){e[a]=[e.x0,e.x1,e.x1,e.x0],e[s]=[e.y1,e.y1,e.y0,e.y0],["x0","x1","y0","y1"].forEach(function(t){-1===i.indexOf(t)&&delete e[t]})})}i("hierarchy.partition",o),i("adjacency",o)},function(t,e,n){var u=n(534),c=n(582),l=n(537),r=n(531),f=r.HIERARCHY,i=r.registerTransform,h=n(538).getField,p={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function o(t,e){if(t.dataType!==f)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n,r=t.root,i=(e=u({},p,e)).as;if(!l(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=h(e)}catch(t){console.warn(t)}n&&r.sum(function(t){return t[n]});var o=c.tree();o.size(e.size),e.nodeSize&&o.nodeSize(e.nodeSize),e.separation&&o.separation(e.separation),o(r);var a=i[0],s=i[1];r.each(function(t){t[a]=t.x,t[s]=t.y})}i("hierarchy.tree",o),i("tree",o)},function(t,e,n){var u=n(534),c=n(582),l=n(537),r=n(531),f=r.HIERARCHY,i=r.registerTransform,h=n(538).getField,p={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function o(t,e){if(t.dataType!==f)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n,r=t.root,i=(e=u({},p,e)).as;if(!l(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{n=h(e)}catch(t){console.warn(t)}n&&r.sum(function(t){return t[n]});var o=c.treemap();o.tile(c[e.tile]).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft),o(r);var a=i[0],s=i[1];r.each(function(e){e[a]=[e.x0,e.x1,e.x1,e.x0],e[s]=[e.y1,e.y1,e.y0,e.y0],["x0","x1","y0","y1"].forEach(function(t){-1===i.indexOf(t)&&delete e[t]})})}i("hierarchy.treemap",o),i("treemap",o)},function(t,e,n){var g=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},v=n(534),y=n(543),r=n(531).registerTransform,m=n(1328),x=n(538).getFields,b={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};function i(t,e){e=v({},b,e);var n=m();["font","fontSize","padding","rotate","size","spiral","timeInterval"].forEach(function(t){e[t]&&n[t](e[t])});var r=x(e),i=g(r,2),o=i[0],a=i[1];if(!y(o)||!y(a))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var s=t.rows.map(function(t){return t.text=t[o],t.value=t[a],t});n.words(s),e.imageMask&&n.createMask(e.imageMask);var u=n.start(),c=u._tags,l=u._bounds;c.forEach(function(t){t.x+=e.size[0]/2,t.y+=e.size[1]/2});var f=g(e.size,2),h=f[0],p=f[1],d=u.hasImage;c.push({text:"",value:0,x:d?0:l[0].x,y:d?0:l[0].y,opacity:0}),c.push({text:"",value:0,x:d?h:l[1].x,y:d?p:l[1].y,opacity:0}),t.rows=c,t._tagCloud=u}r("tag-cloud",i),r("word-cloud",i)},function(t,e){var w=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},P=Math.PI/180,k=64,A=2048;function n(t){return t.text}function r(){return"serif"}function i(){return"normal"}function o(t){return t.value}function a(){return 90*~~(2*Math.random())}function s(){return 1}function u(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function _(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}function c(){return document.createElement("canvas")}function l(t){return"function"==typeof t?t:function(){return t}}var C={archimedean:u,rectangular:function(t){var n=4*t[0]/t[1],r=0,i=0;return function(t){var e=t<0?-1:1;switch(Math.sqrt(1+4*e*t)-e&3){case 0:r+=n;break;case 1:i+=4;break;case 2:r-=n;break;default:i-=4}return[r,i]}}};t.exports=function(){var S=[256,256],f=n,h=r,p=o,d=i,g=i,v=a,y=s,M=u,e=[],m=1/0,E=Math.random,x=c,b={};return b.canvas=function(t){return arguments.length?(x=l(t),b):x},b.start=function(){var t=w(S,2),n=t[0],r=t[1],i=function(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(k<<5)/e,t.height=A/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}(x()),o=b.board?b.board:_((S[0]>>5)*S[1]),a=e.length,s=[],u=e.map(function(t,e){return t.text=f.call(this,t,e),t.font=h.call(this,t,e),t.style=d.call(this,t,e),t.weight=g.call(this,t,e),t.rotate=v.call(this,t,e),t.size=~~p.call(this,t,e),t.padding=y.call(this,t,e),t}).sort(function(t,e){return e.size-t.size}),c=-1,l=b.board?[{x:0,y:0},{x:n,y:r}]:null;return function(){var t=Date.now();for(;Date.now()-t<m&&++c<a;){var e=u[c];e.x=n*(E()+.5)>>1,e.y=r*(E()+.5)>>1,function(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,(k<<5)/o,A/o);var a=0,s=0,u=0,c=n.length;for(--r;++r<c;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;var l,f,h,p,d,g,v=i.measureText(e.text+"m").width*o,y=e.size<<1;if(e.rotate?(l=Math.sin(e.rotate*P),h=v*(f=Math.cos(e.rotate*P)),p=v*l,d=y*f,g=y*l,v=Math.max(Math.abs(h+g),Math.abs(h-g))+31>>5<<5,y=~~Math.max(Math.abs(p+d),Math.abs(p-d))):v=v+31>>5<<5,u<y&&(u=y),k<<5<=a+v&&(s+=u,u=a=0),A<=s+y)break;i.translate((a+(v>>1))/o,(s+(y>>1))/o),e.rotate&&i.rotate(e.rotate*P),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=v,e.height=y,e.xoff=a,e.yoff=s,e.x1=v>>1,e.y1=y>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=v}for(var m=i.getImageData(0,0,(k<<5)/o,A/o).data,x=[];0<=--r;)if((e=n[r]).hasText){for(var b=(v=e.width)>>5,y=e.y1-e.y0,w=0;w<y*b;w++)x[w]=0;if(null==(a=e.xoff))return;s=e.yoff;for(var _=0,S=-1,M=0;M<y;M++){for(w=0;w<v;w++){var E=b*M+(w>>5),C=m[(s+M)*(k<<5)+(a+w)<<2]?1<<31-w%32:0;x[E]|=C,_|=C}_?S=M:(e.y0++,y--,M--,s++)}e.y1=e.y0+S,e.sprite=x.slice(0,(e.y1-e.y0)*b)}}}(i,e,u,c),e.hasText&&function(t,e,n){var r,i,o,a=e.x,s=e.y,u=Math.sqrt(S[0]*S[0]+S[1]*S[1]),c=M(S),l=E()<.5?1:-1,f=-l;for(;(r=c(f+=l))&&(i=~~r[0],o=~~r[1],!(Math.min(Math.abs(i),Math.abs(o))>=u));)if(e.x=a+i,e.y=s+o,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>S[0]||e.y+e.y1>S[1])&&(!n||!function(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),s=127&a,u=32-s,c=t.y1-t.y0,l=(t.y+t.y0)*n+(a>>5),f=0;f<c;f++){for(var h=r=0;h<=o;h++)if((r<<u|(h<o?(r=i[f*o+h])>>>s:0))&e[l+h])return 1;l+=n}}(e,t,S[0]))&&(!n||function(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}(e,n))){for(var h=e.sprite,p=e.width>>5,d=S[0]>>5,g=e.x-(p<<4),v=127&g,y=32-v,m=e.y1-e.y0,x=void 0,b=(e.y+e.y0)*d+(g>>5),w=0;w<m;w++){for(var _=x=0;_<=p;_++)t[b+_]|=x<<y|(_<p?(x=h[w*p+_])>>>v:0);b+=d}return delete e.sprite,!0}return!1}(o,e,l)&&(s.push(e),l?b.hasImage||function(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}(l,e):l=[{x:e.x+e.x0,y:e.y+e.y0},{x:e.x+e.x1,y:e.y+e.y1}],e.x-=S[0]>>1,e.y-=S[1]>>1)}b._tags=s,b._bounds=l}(),b},b.createMask=function(t){var e=document.createElement("canvas"),n=w(S,2),r=n[0],i=n[1],o=r>>5,a=_((r>>5)*i);e.width=r,e.height=i;var s=e.getContext("2d");s.drawImage(t,0,0,t.width,t.height,0,0,r,i);for(var u=s.getImageData(0,0,r,i).data,c=0;c<i;c++)for(var l=0;l<r;l++){var f=o*c+(l>>5),h=c*r+l<<2,p=250<=u[h]&&250<=u[1+h]&&250<=u[2+h]?1<<31-l%32:0;a[f]|=p}b.board=a,b.hasImage=!0},b.timeInterval=function(t){return arguments.length?(m=null==t?1/0:t,b):m},b.words=function(t){return arguments.length?(e=t,b):e},b.size=function(t){return arguments.length?(S=[+t[0],+t[1]],b):S},b.font=function(t){return arguments.length?(h=l(t),b):h},b.fontStyle=function(t){return arguments.length?(d=l(t),b):d},b.fontWeight=function(t){return arguments.length?(g=l(t),b):g},b.rotate=function(t){return arguments.length?(v=l(t),b):v},b.text=function(t){return arguments.length?(f=l(t),b):f},b.spiral=function(t){return arguments.length?(M=C[t]||t,b):M},b.fontSize=function(t){return arguments.length?(p=l(t),b):p},b.padding=function(t){return arguments.length?(y=l(t),b):y},b.random=function(t){return arguments.length?(E=t,b):E},b}},function(t,e,n){var S=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},M=n(534),E=n(541),C=n(541),P=n(575),k=n(1330),A=n(580),T=n(568).sum,O=n(559),r=n(531).registerTransform,I=n(538).getFields,j={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};r("waffle",function(t,e){e=M({},j,e);var n=I(e),r=S(n,2),c=r[0],l=r[1],i=S(e.as,2),f=i[0],h=i[1],p=e.groupBy,o=O(t.rows,p),a=P(o),s=S(e.size,2),u=s[0],d=s[1],g=e.maxCount,v=d/a.length,y=e.rows,m=e.gapRatio,x=[],b=e.scale,w=0,_=0;C(o,function(t){var e=T(k(t,function(t){return t[l]})),n=Math.ceil(e*b/y);g<e*b&&(b=g/e,n=Math.ceil(e*b/y)),_=u/n}),C(o,function(t){var o=[w*v,(w+1)*v],a=(o[1]-o[0])*(1-m)/y,s=0,u=0;E(t,function(t){for(var e=t[l],n=Math.round(e*b),r=0;r<n;r++){u===y&&(u=0,s++);var i=A(t,[c,l].concat(p));i[f]=s*_+_/2,i[h]=u*a+a/2+o[0],i._wStep=_,i._hStep=a,u++,x.push(i)}}),w+=1}),t.rows=x})},function(t,e,n){var i=n(541),o=n(683);t.exports=function(t,n){if(!o(t))return t;var r=[];return i(t,function(t,e){r.push(n(t,e))}),r}},function(t,e,n){var A=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},T=n(534),O=n(537),I=n(547),j=n(627),R=n(543),r=n(575),L=n(628),D=n(684),i=n(531).registerTransform,B=n(538).getFields,F=n(629).silverman,N={as:["x","y","z"],method:"gaussian",extent:[],bandwidth:[]},z=r(D);function o(t,e){e=T({},N,e);var n=B(e);if(!O(n)||2!==n.length)throw new TypeError("invalid fields: must be an array of 2 strings!");var r=A(e.as,3),i=r[0],o=r[1],a=r[2];if(!R(i)||!R(o)||!R(a))throw new TypeError("invalid as: must be an array of 3 strings!");var s=e.method;if(R(s)){if(-1===z.indexOf(s))throw new TypeError("invalid method: "+s+". Must be one of "+z.join(", "));s=D[s]}if(!I(s))throw new TypeError("invalid method: kernel method must be a function!");var u=A(n,2),c=u[0],l=u[1],f=A(e.extent,2),h=f[0],p=f[1];O(h)&&O(p)||(h=t.range(c),p=t.range(l));var d=A(e.bandwidth,2),g=d[0],v=d[1];(!j(g)||g<=0||!j(v)||v<=0)&&(g=F(t.getColumn(c)),v=F(t.getColumn(l)));for(var y=L(h,g),m=L(p,v),x=t.rows.length,b=[],w=0;w<y.length;w++)for(var _=0;_<m.length;_++){for(var S=0,M=y[w],E=m[_],C=0;C<x;C++)S+=s((M-t.rows[C][c])/g)*s((E-t.rows[C][l])/v);var P=1/(x*g*v)*S,k={};k[i]=M,k[o]=E,k[a]=P,b.push(k)}t.rows=b}i("kernel-smooth.density",o),i("kernel.density",o),t.exports={KERNEL_METHODS:z}},function(t,e,n){var x=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},b=n(534),w=n(537),_=n(547),S=n(680),M=n(627),E=n(543),r=n(575),C=n(568).sum,P=n(628),k=n(684),i=n(531).registerTransform,A=n(538).getFields,T=n(629).silverman,O={as:["x","y"],method:"gaussian"},I=r(k);function j(e){return function(t){return w(t)?t.map(function(t){return e(t)}):e(t)}}function o(t,e){e=b({},O,e);var n=A(e);if(!w(n)||1!==n.length&&2!==n.length)throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var r=x(e.as,2),i=r[0],o=r[1];if(!E(i)||!E(o))throw new TypeError("invalid as: must be an array of 2 strings!");var a=e.method;if(E(a)){if(-1===I.indexOf(a))throw new TypeError("invalid method: "+a+". Must be one of "+I.join(", "));a=k[a]}if(!_(a))throw new TypeError("invalid method: kernel method must be a function!");var s=x(n,2),u=s[0],c=s[1],l=t.getColumn(u),f=e.extent;w(f)||(f=t.range(u));var h=e.bandwidth;(!M(h)||h<=0)&&(h=T(l));var p,d,g=P(f,h),v=l.length,y=function(t,e,n,r){return t((r-n)/e)}.bind(null,a,h);d=S(c)?j(function(e){var t=l.map(function(t){return y(e,t)}),n=C(t),r=v*h;return n&&r?n/r:0}):(p=t.getColumn(c),j(function(e){var t=l.map(function(t){return y(e,t)}),n=C(t.map(function(t,e){return t*p[e]})),r=C(t);return n&&r?n/r:0}));var m=g.map(function(t){var e={};return e[i]=t,e[o]=d(t),e});t.rows=m}i("kernel-smooth.regression",o),i("kernel.regression",o),t.exports={KERNEL_METHODS:I}},function(t,e,n){"use strict";n.r(e),n.d(e,"geoArea",function(){return U}),n.d(e,"geoBounds",function(){return zt}),n.d(e,"geoCentroid",function(){return Kt}),n.d(e,"geoCircle",function(){return le}),n.d(e,"geoClipAntimeridian",function(){return _e}),n.d(e,"geoClipCircle",function(){return Se}),n.d(e,"geoClipExtent",function(){return Oe}),n.d(e,"geoClipRectangle",function(){return Pe}),n.d(e,"geoContains",function(){return Ze}),n.d(e,"geoDistance",function(){return ze}),n.d(e,"geoGraticule",function(){return $e}),n.d(e,"geoGraticule10",function(){return Ke}),n.d(e,"geoInterpolate",function(){return on}),n.d(e,"geoLength",function(){return Be}),n.d(e,"geoPath",function(){return rr}),n.d(e,"geoAlbers",function(){return wr}),n.d(e,"geoAlbersUsa",function(){return _r}),n.d(e,"geoAzimuthalEqualArea",function(){return Cr}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return Er}),n.d(e,"geoAzimuthalEquidistant",function(){return kr}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return Pr}),n.d(e,"geoConicConformal",function(){return Rr}),n.d(e,"geoConicConformalRaw",function(){return jr}),n.d(e,"geoConicEqualArea",function(){return br}),n.d(e,"geoConicEqualAreaRaw",function(){return xr}),n.d(e,"geoConicEquidistant",function(){return Fr}),n.d(e,"geoConicEquidistantRaw",function(){return Br}),n.d(e,"geoEqualEarth",function(){return qr}),n.d(e,"geoEqualEarthRaw",function(){return Hr}),n.d(e,"geoEquirectangular",function(){return Dr}),n.d(e,"geoEquirectangularRaw",function(){return Lr}),n.d(e,"geoGnomonic",function(){return Xr}),n.d(e,"geoGnomonicRaw",function(){return Wr}),n.d(e,"geoIdentity",function(){return Ur}),n.d(e,"geoProjection",function(){return vr}),n.d(e,"geoProjectionMutator",function(){return yr}),n.d(e,"geoMercator",function(){return Tr}),n.d(e,"geoMercatorRaw",function(){return Ar}),n.d(e,"geoNaturalEarth1",function(){return Qr}),n.d(e,"geoNaturalEarth1Raw",function(){return Zr}),n.d(e,"geoOrthographic",function(){return $r}),n.d(e,"geoOrthographicRaw",function(){return Jr}),n.d(e,"geoStereographic",function(){return ti}),n.d(e,"geoStereographicRaw",function(){return Kr}),n.d(e,"geoTransverseMercator",function(){return ni}),n.d(e,"geoTransverseMercatorRaw",function(){return ei}),n.d(e,"geoRotation",function(){return ae}),n.d(e,"geoStream",function(){return P}),n.d(e,"geoTransform",function(){return ir});function r(){return new i}function i(){this.reset()}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(t){a(o,t,this.t),a(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new i;function a(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var I=1e-6,O=Math.PI,j=O/2,R=O/4,L=2*O,D=180/O,B=O/180,F=Math.abs,v=Math.atan,N=Math.atan2,z=Math.cos,x=Math.ceil,s=Math.exp,u=(Math.floor,Math.log),c=Math.pow,G=Math.sin,l=Math.sign||function(t){return 0<t?1:t<0?-1:0},V=Math.sqrt,f=Math.tan;function h(t){return 1<t?0:t<-1?O:Math.acos(t)}function Y(t){return 1<t?j:t<-1?-j:Math.asin(t)}function y(t){return(t=G(t/2))*t}function p(){}function d(t,e){t&&m.hasOwnProperty(t.type)&&m[t.type](t,e)}var g={Feature:function(t,e){d(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)d(n[r].geometry,e)}},m={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){b(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)b(n[r],e,0)},Polygon:function(t,e){w(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)w(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)d(n[r],e)}};function b(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function w(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)b(t[n],e,1);e.polygonEnd()}var _,S,M,E,C,P=function(t,e){t&&g.hasOwnProperty(t.type)?g[t.type](t,e):d(t,e)},k=r(),A=r(),T={point:p,lineStart:p,lineEnd:p,polygonStart:function(){k.reset(),T.lineStart=H,T.lineEnd=q},polygonEnd:function(){var t=+k;A.add(t<0?L+t:t),this.lineStart=this.lineEnd=this.point=p},sphere:function(){A.add(L)}};function H(){T.point=W}function q(){X(_,S)}function W(t,e){T.point=X,_=t,S=e,M=t*=B,E=z(e=(e*=B)/2+R),C=G(e)}function X(t,e){var n=(t*=B)-M,r=0<=n?1:-1,i=r*n,o=z(e=(e*=B)/2+R),a=G(e),s=C*a,u=E*o+s*z(i),c=s*r*G(i);k.add(N(c,u)),M=t,E=o,C=a}var U=function(t){return A.reset(),P(t,T),2*A};function Z(t){return[N(t[1],t[0]),Y(t[2])]}function Q(t){var e=t[0],n=t[1],r=z(n);return[r*z(e),r*G(e),G(n)]}function J(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function $(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function K(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function tt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function et(t){var e=V(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var nt,rt,it,ot,at,st,ut,ct,lt,ft,ht=r(),pt={point:dt,lineStart:vt,lineEnd:yt,polygonStart:function(){pt.point=mt,pt.lineStart=xt,pt.lineEnd=bt,ht.reset(),T.polygonStart()},polygonEnd:function(){T.polygonEnd(),pt.point=dt,pt.lineStart=vt,pt.lineEnd=yt,k<0?(nt=-(it=180),rt=-(ot=90)):I<ht?ot=90:ht<-I&&(rt=-90),ft[0]=nt,ft[1]=it},sphere:function(){nt=-(it=180),rt=-(ot=90)}};function dt(t,e){lt.push(ft=[nt=t,it=t]),e<rt&&(rt=e),ot<e&&(ot=e)}function gt(t,e){var n,r,i,o,a,s,u,c=Q([t*B,e*B]);ct?(n=$(ct,c),et(r=$([n[1],-n[0],0],n)),r=Z(r),o=0<(i=t-at)?1:-1,a=r[0]*D*o,(u=180<F(i))^(o*at<a&&a<o*t)?(s=r[1]*D,ot<s&&(ot=s)):u^(o*at<(a=(a+360)%360-180)&&a<o*t)?(s=-r[1]*D)<rt&&(rt=s):(e<rt&&(rt=e),ot<e&&(ot=e)),u?t<at?wt(nt,t)>wt(nt,it)&&(it=t):wt(t,it)>wt(nt,it)&&(nt=t):nt<=it?(t<nt&&(nt=t),it<t&&(it=t)):at<t?wt(nt,t)>wt(nt,it)&&(it=t):wt(t,it)>wt(nt,it)&&(nt=t)):lt.push(ft=[nt=t,it=t]),e<rt&&(rt=e),ot<e&&(ot=e),ct=c,at=t}function vt(){pt.point=gt}function yt(){ft[0]=nt,ft[1]=it,pt.point=dt,ct=null}function mt(t,e){var n;ct?(n=t-at,ht.add(180<F(n)?n+(0<n?360:-360):n)):(st=t,ut=e),T.point(t,e),gt(t,e)}function xt(){T.lineStart()}function bt(){mt(st,ut),T.lineEnd(),F(ht)>I&&(nt=-(it=180)),ft[0]=nt,ft[1]=it,ct=null}function wt(t,e){return(e-=t)<0?e+360:e}function _t(t,e){return t[0]-e[0]}function St(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Mt,Et,Ct,Pt,kt,At,Tt,Ot,It,jt,Rt,Lt,Dt,Bt,Ft,Nt,zt=function(t){var e,n,r,i,o,a,s;if(ot=it=-(nt=rt=1/0),lt=[],P(t,pt),n=lt.length){for(lt.sort(_t),e=1,o=[r=lt[0]];e<n;++e)St(r,(i=lt[e])[0])||St(r,i[1])?(wt(r[0],i[1])>wt(r[0],r[1])&&(r[1]=i[1]),wt(i[0],r[1])>wt(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=wt(r[1],i[0]))>a&&(a=s,nt=i[0],it=r[1])}return lt=ft=null,nt===1/0||rt===1/0?[[NaN,NaN],[NaN,NaN]]:[[nt,rt],[it,ot]]},Gt={sphere:p,point:Vt,lineStart:Ht,lineEnd:Xt,polygonStart:function(){Gt.lineStart=Ut,Gt.lineEnd=Zt},polygonEnd:function(){Gt.lineStart=Ht,Gt.lineEnd=Xt}};function Vt(t,e){t*=B;var n=z(e*=B);Yt(n*z(t),n*G(t),G(e))}function Yt(t,e,n){Ct+=(t-Ct)/++Mt,Pt+=(e-Pt)/Mt,kt+=(n-kt)/Mt}function Ht(){Gt.point=qt}function qt(t,e){t*=B;var n=z(e*=B);Bt=n*z(t),Ft=n*G(t),Nt=G(e),Gt.point=Wt,Yt(Bt,Ft,Nt)}function Wt(t,e){t*=B;var n=z(e*=B),r=n*z(t),i=n*G(t),o=G(e),a=N(V((a=Ft*o-Nt*i)*a+(a=Nt*r-Bt*o)*a+(a=Bt*i-Ft*r)*a),Bt*r+Ft*i+Nt*o);Et+=a,At+=a*(Bt+(Bt=r)),Tt+=a*(Ft+(Ft=i)),Ot+=a*(Nt+(Nt=o)),Yt(Bt,Ft,Nt)}function Xt(){Gt.point=Vt}function Ut(){Gt.point=Qt}function Zt(){Jt(Lt,Dt),Gt.point=Vt}function Qt(t,e){Lt=t,Dt=e,t*=B,e*=B,Gt.point=Jt;var n=z(e);Bt=n*z(t),Ft=n*G(t),Nt=G(e),Yt(Bt,Ft,Nt)}function Jt(t,e){t*=B;var n=z(e*=B),r=n*z(t),i=n*G(t),o=G(e),a=Ft*o-Nt*i,s=Nt*r-Bt*o,u=Bt*i-Ft*r,c=V(a*a+s*s+u*u),l=Y(c),f=c&&-l/c;It+=f*a,jt+=f*s,Rt+=f*u,Et+=l,At+=l*(Bt+(Bt=r)),Tt+=l*(Ft+(Ft=i)),Ot+=l*(Nt+(Nt=o)),Yt(Bt,Ft,Nt)}function $t(t){return function(){return t}}var Kt=function(t){Mt=Et=Ct=Pt=kt=At=Tt=Ot=It=jt=Rt=0,P(t,Gt);var e=It,n=jt,r=Rt,i=e*e+n*n+r*r;return i<1e-12&&(e=At,n=Tt,r=Ot,Et<I&&(e=Ct,n=Pt,r=kt),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[N(n,e)*D,Y(r/V(i))*D]},te=function(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t};function ee(t,e){return[F(t)>O?t+Math.round(-t/L)*L:t,e]}function ne(t,e,n){return(t%=L)?e||n?te(ie(t),oe(e,n)):ie(t):e||n?oe(e,n):ee}function re(n){return function(t,e){return[O<(t+=n)?t-L:t<-O?t+L:t,e]}}function ie(t){var e=re(t);return e.invert=re(-t),e}function oe(t,e){var s=z(t),u=G(t),c=z(e),l=G(e);function n(t,e){var n=z(e),r=z(t)*n,i=G(t)*n,o=G(e),a=o*s+r*u;return[N(i*c-a*l,r*s-o*u),Y(a*c+i*l)]}return n.invert=function(t,e){var n=z(e),r=z(t)*n,i=G(t)*n,o=G(e),a=o*c-i*l;return[N(i*c+o*l,r*s+a*u),Y(a*s-r*u)]},n}ee.invert=ee;var ae=function(e){function t(t){return(t=e(t[0]*B,t[1]*B))[0]*=D,t[1]*=D,t}return e=ne(e[0]*B,e[1]*B,2<e.length?e[2]*B:0),t.invert=function(t){return(t=e.invert(t[0]*B,t[1]*B))[0]*=D,t[1]*=D,t},t};function se(t,e,n,r,i,o){if(n){var a=z(e),s=G(e),u=r*n;null==i?(i=e+r*L,o=e-u/2):(i=ue(a,i),o=ue(a,o),(0<r?i<o:o<i)&&(i+=r*L));for(var c,l=i;0<r?o<l:l<o;l-=u)c=Z([a,-s*z(l),-s*G(l)]),t.point(c[0],c[1])}}function ue(t,e){(e=Q(e))[0]-=t,et(e);var n=h(-e[1]);return((-e[2]<0?-n:n)+L-I)%L}function ce(t,e){return F(t[0]-e[0])<I&&F(t[1]-e[1])<I}var le=function(){var r,i,o=$t([0,0]),a=$t(90),s=$t(6),u={point:function(t,e){r.push(t=i(t,e)),t[0]*=D,t[1]*=D}};function e(){var t=o.apply(this,arguments),e=a.apply(this,arguments)*B,n=s.apply(this,arguments)*B;return r=[],i=ne(-t[0]*B,-t[1]*B,0).invert,se(u,e,n,1),t={type:"Polygon",coordinates:[r]},r=i=null,t}return e.center=function(t){return arguments.length?(o="function"==typeof t?t:$t([+t[0],+t[1]]),e):o},e.radius=function(t){return arguments.length?(a="function"==typeof t?t:$t(+t),e):a},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:$t(+t),e):s},e},fe=function(){var r,e=[];return{point:function(t,e,n){r.push([t,e,n])},lineStart:function(){e.push(r=[])},lineEnd:p,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],r=null,t}}};function he(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var pe=function(t,e,n,r,o){var a,i,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],i=t[e];if(ce(r,i)){if(!r[2]&&!i[2]){for(o.lineStart(),a=0;a<e;++a)o.point((r=t[a])[0],r[1]);return void o.lineEnd()}i[0]+=2*I}s.push(n=new he(r,t,null,!0)),u.push(n.o=new he(r,null,n,!1)),s.push(n=new he(i,t,null,!1)),u.push(n.o=new he(i,null,n,!0))}}),s.length){for(u.sort(e),de(s),de(u),a=0,i=u.length;a<i;++a)u[a].e=n=!n;for(var c,l,f=s[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(a=0,i=c.length;a<i;++a)o.point((l=c[a])[0],l[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(c=h.p.z,a=c.length-1;0<=a;--a)o.point((l=c[a])[0],l[1]);else r(h.x,h.p.x,-1,o);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}};function de(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var ge=r();function ve(t){return F(t[0])<=O?t[0]:l(t[0])*((F(t[0])+O)%L-O)}function ye(t,e){var n=ve(e),r=e[1],i=G(r),o=[G(n),-z(n),0],a=0,s=0;ge.reset(),1===i?r=j+I:-1===i&&(r=-j-I);for(var u=0,c=t.length;u<c;++u)if(f=(l=t[u]).length)for(var l,f,h=l[f-1],p=ve(h),d=h[1]/2+R,g=G(d),v=z(d),y=0;y<f;++y,p=_,g=M,v=E,h=w){var m,x,b,w=l[y],_=ve(w),S=w[1]/2+R,M=G(S),E=z(S),C=_-p,P=0<=C?1:-1,k=P*C,A=O<k,T=g*M;ge.add(N(T*P*G(k),v*E+T*z(k))),a+=A?C+P*L:C,A^n<=p^n<=_&&(et(m=$(Q(h),Q(w))),et(x=$(o,m)),((b=(A^0<=C?-1:1)*Y(x[2]))<r||r===b&&(m[0]||m[1]))&&(s+=A^0<=C?1:-1))}return(a<-I||a<I&&ge<-I)^1&s}function me(v,y,m,x){return function(s){var u,c,l,n=y(s),f=fe(),h=y(f),p=!1,e={point:r,lineStart:i,lineEnd:o,polygonStart:function(){e.point=d,e.lineStart=a,e.lineEnd=g,c=[],u=[]},polygonEnd:function(){e.point=r,e.lineStart=i,e.lineEnd=o,c=Object(xe.merge)(c);var t=ye(u,x);c.length?(p||(s.polygonStart(),p=!0),pe(c,we,t,m,s)):t&&(p||(s.polygonStart(),p=!0),s.lineStart(),m(null,null,1,s),s.lineEnd()),p&&(s.polygonEnd(),p=!1),c=u=null},sphere:function(){s.polygonStart(),s.lineStart(),m(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function r(t,e){v(t,e)&&s.point(t,e)}function t(t,e){n.point(t,e)}function i(){e.point=t,n.lineStart()}function o(){e.point=r,n.lineEnd()}function d(t,e){l.push([t,e]),h.point(t,e)}function a(){h.lineStart(),l=[]}function g(){d(l[0][0],l[0][1]),h.lineEnd();var t,e,n,r,i=h.clean(),o=f.result(),a=o.length;if(l.pop(),u.push(l),l=null,a)if(1&i){if(0<(e=(n=o[0]).length-1)){for(p||(s.polygonStart(),p=!0),s.lineStart(),t=0;t<e;++t)s.point((r=n[t])[0],r[1]);s.lineEnd()}}else 1<a&&2&i&&o.push(o.pop().concat(o.shift())),c.push(o.filter(be))}return e}}var xe=n(561);function be(t){return 1<t.length}function we(t,e){return((t=t.x)[0]<0?t[1]-j-I:j-t[1])-((e=e.x)[0]<0?e[1]-j-I:j-e[1])}var _e=me(function(){return 1},function(f){var h,p=NaN,d=NaN,g=NaN;return{lineStart:function(){f.lineStart(),h=1},point:function(t,e){var n,r,i,o,a,s,u,c=0<t?O:-O,l=F(t-p);F(l-O)<I?(f.point(p,d=0<(d+e)/2?j:-j),f.point(g,d),f.lineEnd(),f.lineStart(),f.point(c,d),f.point(t,d),h=0):g!==c&&O<=l&&(F(p-g)<I&&(p-=g*I),F(t-c)<I&&(t-=c*I),r=d,o=e,u=G((n=p)-(i=t)),d=F(u)>I?v((G(r)*(s=z(o))*G(i)-G(o)*(a=z(r))*G(n))/(a*s*u)):(r+o)/2,f.point(g,d),f.lineEnd(),f.lineStart(),f.point(c,d),h=0),f.point(p=t,d=e),g=c},lineEnd:function(){f.lineEnd(),p=d=NaN},clean:function(){return 2-h}}},function(t,e,n,r){var i;{var o;null==t?(i=n*j,r.point(-O,i),r.point(0,i),r.point(O,i),r.point(O,0),r.point(O,-i),r.point(0,-i),r.point(-O,-i),r.point(-O,0),r.point(-O,i)):F(t[0]-e[0])>I?(o=t[0]<e[0]?O:-O,i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)):r.point(e[0],e[1])}},[-O,-j]);var Se=function(i){var C=z(i),o=6*B,p=0<C,d=F(C)>I;function g(t,e){return z(t)*z(e)>C}function v(t,e,n){var r=[1,0,0],i=$(Q(t),Q(e)),o=J(i,i),a=i[0],s=o-a*a;if(!s)return!n&&t;var u=C*o/s,c=-C*a/s,l=$(r,i),f=tt(r,u);K(f,tt(i,c));var h=l,p=J(f,h),d=J(h,h),g=p*p-d*(J(f,f)-1);if(!(g<0)){var v=V(g),y=tt(h,(-p-v)/d);if(K(y,f),y=Z(y),!n)return y;var m,x=t[0],b=e[0],w=t[1],_=e[1];b<x&&(m=x,x=b,b=m);var S=b-x,M=F(S-O)<I;if(!M&&_<w&&(m=w,w=_,_=m),M||S<I?M?0<w+_^y[1]<(F(y[0]-x)<I?w:_):w<=y[1]&&y[1]<=_:O<S^(x<=y[0]&&y[0]<=b)){var E=tt(h,(-p+v)/d);return K(E,f),[y,Z(E)]}}}function y(t,e){var n=p?i:O-i,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}return me(g,function(s){var u,c,l,f,h;return{lineStart:function(){f=l=!1,h=1},point:function(t,e){var n,r,i=[t,e],o=g(t,e),a=p?o?0:y(t,e):o?y(t+(t<0?O:-O),e):0;!u&&(f=l=o)&&s.lineStart(),o!==l&&((n=v(u,i))&&!ce(u,n)&&!ce(i,n)||(i[2]=1)),o!==l?(h=0,o?(s.lineStart(),n=v(i,u),s.point(n[0],n[1])):(n=v(u,i),s.point(n[0],n[1],2),s.lineEnd()),u=n):d&&u&&p^o&&(a&c||!(r=v(i,u,!0))||(h=0,p?(s.lineStart(),s.point(r[0][0],r[0][1]),s.point(r[1][0],r[1][1]),s.lineEnd()):(s.point(r[1][0],r[1][1]),s.lineEnd(),s.lineStart(),s.point(r[0][0],r[0][1],3)))),!o||u&&ce(u,i)||s.point(i[0],i[1]),u=i,l=o,c=a},lineEnd:function(){l&&s.lineEnd(),u=null},clean:function(){return h|(f&&l)<<1}}},function(t,e,n,r){se(r,i,o,n,t,e)},p?[0,-i]:[-O,i-O])},Me=function(t,e,n,r,i,o){var a=t[0],s=t[1],u=0,c=1,l=e[0]-a,f=e[1]-s,h=n-a;if(l||!(0<h)){if(h/=l,l<0){if(h<u)return;h<c&&(c=h)}else if(0<l){if(c<h)return;u<h&&(u=h)}if(h=i-a,l||!(h<0)){if(h/=l,l<0){if(c<h)return;u<h&&(u=h)}else if(0<l){if(h<u)return;h<c&&(c=h)}if(h=r-s,f||!(0<h)){if(h/=f,f<0){if(h<u)return;h<c&&(c=h)}else if(0<f){if(c<h)return;u<h&&(u=h)}if(h=o-s,f||!(h<0)){if(h/=f,f<0){if(c<h)return;u<h&&(u=h)}else if(0<f){if(h<u)return;h<c&&(c=h)}return 0<u&&(t[0]=a+u*l,t[1]=s+u*f),c<1&&(e[0]=a+c*l,e[1]=s+c*f),!0}}}}},Ee=1e9,Ce=-Ee;function Pe(y,m,x,b){function w(t,e){return y<=t&&t<=x&&m<=e&&e<=b}function _(t,e,n,r){var i=0,o=0;if(null==t||(i=a(t,n))!==(o=a(e,n))||s(t,e)<0^0<n)for(;r.point(0===i||3===i?y:x,1<i?b:m),(i=(i+n+4)%4)!==o;);else r.point(e[0],e[1])}function a(t,e){return F(t[0]-y)<I?0<e?0:3:F(t[0]-x)<I?0<e?2:1:F(t[1]-m)<I?0<e?1:0:0<e?3:2}function S(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){var i,f,o,a,s,u,c,l,h,p,d,g=r,t=fe(),e={point:n,lineStart:function(){e.point=v,f&&f.push(o=[]);p=!0,h=!1,c=l=NaN},lineEnd:function(){i&&(v(a,s),u&&h&&t.rejoin(),i.push(t.result()));e.point=n,h&&g.lineEnd()},polygonStart:function(){g=t,i=[],f=[],d=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,n=f.length;e<n;++e)for(var r,i,o=f[e],a=1,s=o.length,u=o[0],c=u[0],l=u[1];a<s;++a)r=c,i=l,u=o[a],c=u[0],l=u[1],i<=b?b<l&&(l-i)*(y-r)<(c-r)*(b-i)&&++t:l<=b&&(c-r)*(b-i)<(l-i)*(y-r)&&--t;return t}(),e=d&&t,n=(i=Object(xe.merge)(i)).length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),_(null,null,1,r),r.lineEnd()),n&&pe(i,S,t,_,r),r.polygonEnd());g=r,i=f=o=null}};function n(t,e){w(t,e)&&g.point(t,e)}function v(t,e){var n,r,i=w(t,e);f&&o.push([t,e]),p?(a=t,s=e,p=!1,(u=i)&&(g.lineStart(),g.point(t,e))):i&&h?g.point(t,e):(n=[c=Math.max(Ce,Math.min(Ee,c)),l=Math.max(Ce,Math.min(Ee,l))],r=[t=Math.max(Ce,Math.min(Ee,t)),e=Math.max(Ce,Math.min(Ee,e))],Me(n,r,y,m,x,b)?(h||(g.lineStart(),g.point(n[0],n[1])),g.point(r[0],r[1]),i||g.lineEnd(),d=!1):i&&(g.lineStart(),g.point(t,e),d=!1)),c=t,l=e,h=i}return e}}var ke,Ae,Te,Oe=function(){var e,n,r,i=0,o=0,a=960,s=500;return r={stream:function(t){return e&&n===t?e:e=Pe(i,o,a,s)(n=t)},extent:function(t){return arguments.length?(i=+t[0][0],o=+t[0][1],a=+t[1][0],s=+t[1][1],e=n=null,r):[[i,o],[a,s]]}}},Ie=r(),je={sphere:p,point:p,lineStart:function(){je.point=Le,je.lineEnd=Re},lineEnd:p,polygonStart:p,polygonEnd:p};function Re(){je.point=je.lineEnd=p}function Le(t,e){ke=t*=B,Ae=G(e*=B),Te=z(e),je.point=De}function De(t,e){t*=B;var n=G(e*=B),r=z(e),i=F(t-ke),o=z(i),a=r*G(i),s=Te*n-Ae*r*o,u=Ae*n+Te*r*o;Ie.add(N(V(a*a+s*s),u)),ke=t,Ae=n,Te=r}var Be=function(t){return Ie.reset(),P(t,je),+Ie},Fe=[null,null],Ne={type:"LineString",coordinates:Fe},ze=function(t,e){return Fe[0]=t,Fe[1]=e,Be(Ne)},Ge={Feature:function(t,e){return Ye(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Ye(n[r].geometry,e))return!0;return!1}},Ve={Sphere:function(){return!0},Point:function(t,e){return He(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(He(n[r],e))return!0;return!1},LineString:function(t,e){return qe(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(qe(n[r],e))return!0;return!1},Polygon:function(t,e){return We(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(We(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Ye(n[r],e))return!0;return!1}};function Ye(t,e){return!(!t||!Ve.hasOwnProperty(t.type))&&Ve[t.type](t,e)}function He(t,e){return 0===ze(t,e)}function qe(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=ze(t[o],e)))return!0;if(0<o&&0<(i=ze(t[o],t[o-1]))&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<1e-12*i)return!0;n=r}return!1}function We(t,e){return!!ye(t.map(Xe),Ue(e))}function Xe(t){return(t=t.map(Ue)).pop(),t}function Ue(t){return[t[0]*B,t[1]*B]}var Ze=function(t,e){return(t&&Ge.hasOwnProperty(t.type)?Ge[t.type]:Ye)(t,e)};function Qe(t,e,n){var r=Object(xe.range)(t,e-I,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function Je(t,e,n){var r=Object(xe.range)(t,e-I,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function $e(){var e,n,r,i,o,a,s,u,c,l,f,h,p=10,d=p,g=90,v=360,y=2.5;function m(){return{type:"MultiLineString",coordinates:t()}}function t(){return Object(xe.range)(x(i/g)*g,r,g).map(f).concat(Object(xe.range)(x(u/v)*v,s,v).map(h)).concat(Object(xe.range)(x(n/p)*p,e,p).filter(function(t){return F(t%g)>I}).map(c)).concat(Object(xe.range)(x(a/d)*d,o,d).filter(function(t){return F(t%v)>I}).map(l))}return m.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},m.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(s).slice(1),f(r).reverse().slice(1),h(u).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],u=+t[0][1],s=+t[1][1],r<i&&(t=i,i=r,r=t),s<u&&(t=u,u=s,s=t),m.precision(y)):[[i,u],[r,s]]},m.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],e<n&&(t=n,n=e,e=t),o<a&&(t=a,a=o,o=t),m.precision(y)):[[n,a],[e,o]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(g=+t[0],v=+t[1],m):[g,v]},m.stepMinor=function(t){return arguments.length?(p=+t[0],d=+t[1],m):[p,d]},m.precision=function(t){return arguments.length?(y=+t,c=Qe(a,o,90),l=Je(n,e,y),f=Qe(u,s,90),h=Je(i,r,y),m):y},m.extentMajor([[-180,-90+I],[180,90-I]]).extentMinor([[-180,-80-I],[180,80+I]])}function Ke(){return $e()()}var tn,en,nn,rn,on=function(t,e){var n=t[0]*B,r=t[1]*B,i=e[0]*B,o=e[1]*B,a=z(r),s=G(r),u=z(o),c=G(o),l=a*z(n),f=a*G(n),h=u*z(i),p=u*G(i),d=2*Y(V(y(o-r)+a*u*y(i-n))),g=G(d),v=d?function(t){var e=G(t*=d)/g,n=G(d-t)/g,r=n*l+e*h,i=n*f+e*p,o=n*s+e*c;return[N(i,r)*D,N(o,V(r*r+i*i))*D]}:function(){return[n*D,r*D]};return v.distance=d,v},an=function(t){return t},sn=r(),un=r(),cn={point:p,lineStart:p,lineEnd:p,polygonStart:function(){cn.lineStart=ln,cn.lineEnd=pn},polygonEnd:function(){cn.lineStart=cn.lineEnd=cn.point=p,sn.add(F(un)),un.reset()},result:function(){var t=sn/2;return sn.reset(),t}};function ln(){cn.point=fn}function fn(t,e){cn.point=hn,tn=nn=t,en=rn=e}function hn(t,e){un.add(rn*t-nn*e),nn=t,rn=e}function pn(){hn(tn,en)}var dn=cn,gn=1/0,vn=gn,yn=-gn,mn=yn;var xn,bn,wn,_n,Sn={point:function(t,e){t<gn&&(gn=t);yn<t&&(yn=t);e<vn&&(vn=e);mn<e&&(mn=e)},lineStart:p,lineEnd:p,polygonStart:p,polygonEnd:p,result:function(){var t=[[gn,vn],[yn,mn]];return yn=mn=-(vn=gn=1/0),t}},Mn=0,En=0,Cn=0,Pn=0,kn=0,An=0,Tn=0,On=0,In=0,jn={point:Rn,lineStart:Ln,lineEnd:Fn,polygonStart:function(){jn.lineStart=Nn,jn.lineEnd=zn},polygonEnd:function(){jn.point=Rn,jn.lineStart=Ln,jn.lineEnd=Fn},result:function(){var t=In?[Tn/In,On/In]:An?[Pn/An,kn/An]:Cn?[Mn/Cn,En/Cn]:[NaN,NaN];return Mn=En=Cn=Pn=kn=An=Tn=On=In=0,t}};function Rn(t,e){Mn+=t,En+=e,++Cn}function Ln(){jn.point=Dn}function Dn(t,e){jn.point=Bn,Rn(wn=t,_n=e)}function Bn(t,e){var n=t-wn,r=e-_n,i=V(n*n+r*r);Pn+=i*(wn+t)/2,kn+=i*(_n+e)/2,An+=i,Rn(wn=t,_n=e)}function Fn(){jn.point=Rn}function Nn(){jn.point=Gn}function zn(){Vn(xn,bn)}function Gn(t,e){jn.point=Vn,Rn(xn=wn=t,bn=_n=e)}function Vn(t,e){var n=t-wn,r=e-_n,i=V(n*n+r*r);Pn+=i*(wn+t)/2,kn+=i*(_n+e)/2,An+=i,Tn+=(i=_n*t-wn*e)*(wn+t),On+=i*(_n+e),In+=3*i,Rn(wn=t,_n=e)}var Yn=jn;function Hn(t){this._context=t}Hn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,L)}},result:p};var qn,Wn,Xn,Un,Zn,Qn=r(),Jn={point:p,lineStart:function(){Jn.point=$n},lineEnd:function(){qn&&Kn(Wn,Xn),Jn.point=p},polygonStart:function(){qn=!0},polygonEnd:function(){qn=null},result:function(){var t=+Qn;return Qn.reset(),t}};function $n(t,e){Jn.point=Kn,Wn=Un=t,Xn=Zn=e}function Kn(t,e){Un-=t,Zn-=e,Qn.add(V(Un*Un+Zn*Zn)),Un=t,Zn=e}var tr=Jn;function er(){this._string=[]}function nr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}er.prototype={_radius:4.5,_circle:nr(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=nr(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var rr=function(e,n){var r,i,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),P(t,r(i))),i.result()}return a.area=function(t){return P(t,r(dn)),dn.result()},a.measure=function(t){return P(t,r(tr)),tr.result()},a.bounds=function(t){return P(t,r(Sn)),Sn.result()},a.centroid=function(t){return P(t,r(Yn)),Yn.result()},a.projection=function(t){return arguments.length?(r=null==t?(e=null,an):(e=t).stream,a):e},a.context=function(t){return arguments.length?(i=null==t?(n=null,new er):new Hn(n=t),"function"!=typeof o&&i.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.projection(e).context(n)},ir=function(t){return{stream:or(t)}};function or(r){return function(t){var e=new ar;for(var n in r)e[n]=r[n];return e.stream=t,e}}function ar(){}function sr(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),P(n,t.stream(Sn)),e(Sn.result()),null!=r&&t.clipExtent(r),t}function ur(a,s,t){return sr(a,function(t){var e=s[1][0]-s[0][0],n=s[1][1]-s[0][1],r=Math.min(e/(t[1][0]-t[0][0]),n/(t[1][1]-t[0][1])),i=+s[0][0]+(e-r*(t[1][0]+t[0][0]))/2,o=+s[0][1]+(n-r*(t[1][1]+t[0][1]))/2;a.scale(150*r).translate([i,o])},t)}function cr(t,e,n){return ur(t,[[0,0],e],n)}function lr(o,a,t){return sr(o,function(t){var e=+a,n=e/(t[1][0]-t[0][0]),r=(e-n*(t[1][0]+t[0][0]))/2,i=-n*t[0][1];o.scale(150*n).translate([r,i])},t)}function fr(o,a,t){return sr(o,function(t){var e=+a,n=e/(t[1][1]-t[0][1]),r=-n*t[0][0],i=(e-n*(t[1][1]+t[0][1]))/2;o.scale(150*n).translate([r,i])},t)}ar.prototype={constructor:ar,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var hr=z(30*B),pr=function(t,e){return+e?(A=t,T=e,function(i){var n,r,o,a,s,u,c,l,f,h,p,d,g={point:t,lineStart:e,lineEnd:y,polygonStart:function(){i.polygonStart(),g.lineStart=m},polygonEnd:function(){i.polygonEnd(),g.lineStart=e}};function t(t,e){t=A(t,e),i.point(t[0],t[1])}function e(){l=NaN,g.point=v,i.lineStart()}function v(t,e){var n=Q([t,e]),r=A(t,e);O(l,f,c,h,p,d,l=r[0],f=r[1],c=t,h=n[0],p=n[1],d=n[2],16,i),i.point(l,f)}function y(){g.point=t,i.lineEnd()}function m(){e(),g.point=x,g.lineEnd=b}function x(t,e){v(n=t,e),r=l,o=f,a=h,s=p,u=d,g.point=v}function b(){O(l,f,c,h,p,d,r,o,n,a,s,u,16,i),g.lineEnd=y,y()}return g}):(n=t,or({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}));var n,A,T;function O(t,e,n,r,i,o,a,s,u,c,l,f,h,p){var d,g,v,y,m,x,b,w,_,S,M,E,C=a-t,P=s-e,k=C*C+P*P;4*T<k&&h--&&(v=o+f,m=Y(v/=y=V((d=r+c)*d+(g=i+l)*g+v*v)),x=F(F(v)-1)<I||F(n-u)<I?(n+u)/2:N(g,d),w=(b=A(x,m))[0],_=b[1],(T<(E=P*(S=w-t)-C*(M=_-e))*E/k||.3<F((C*S+P*M)/k-.5)||r*c+i*l+o*f<hr)&&(O(t,e,n,r,i,o,w,_,x,d/=y,g/=y,v,h,p),p.point(w,_),O(w,_,x,d,g,v,a,s,u,c,l,f,h,p)))}};var dr=or({point:function(t,e){this.stream.point(t*B,e*B)}});function gr(t,n,r,i,o,e){var a=z(e),s=G(e),u=a*t,c=s*t,l=a/t,f=s/t,h=(s*r-a*n)/t,p=(s*n+a*r)/t;function d(t,e){return[u*(t*=i)-c*(e*=o)+n,r-c*t-u*e]}return d.invert=function(t,e){return[i*(l*t-f*e+h),o*(p-f*t-l*e)]},d}function vr(t){return yr(function(){return t})()}function yr(t){var n,i,e,r,o,a,s,u,c,l,f=150,h=480,p=250,d=0,g=0,v=0,y=0,m=0,x=0,b=1,w=1,_=null,S=_e,M=null,E=an,C=.5;function P(t){return u(t[0]*B,t[1]*B)}function k(t){return(t=u.invert(t[0],t[1]))&&[t[0]*D,t[1]*D]}function A(){var t=gr(f,0,0,b,w,x).apply(null,n(d,g)),e=(x?gr:function(n,r,i,o,a){function t(t,e){return[r+n*(t*=o),i-n*(e*=a)]}return t.invert=function(t,e){return[(t-r)/n*o,(i-e)/n*a]},t})(f,h-t[0],p-t[1],b,w,x);return i=ne(v,y,m),s=te(n,e),u=te(i,s),a=pr(s,C),T()}function T(){return c=l=null,P}return P.stream=function(t){return c&&l===t?c:c=dr((r=i,or({point:function(t,e){var n=r(t,e);return this.stream.point(n[0],n[1])}})(S(a(E(l=t))))));var r},P.preclip=function(t){return arguments.length?(S=t,_=void 0,T()):S},P.postclip=function(t){return arguments.length?(E=t,M=e=r=o=null,T()):E},P.clipAngle=function(t){return arguments.length?(S=+t?Se(_=t*B):(_=null,_e),T()):_*D},P.clipExtent=function(t){return arguments.length?(E=null==t?(M=e=r=o=null,an):Pe(M=+t[0][0],e=+t[0][1],r=+t[1][0],o=+t[1][1]),T()):null==M?null:[[M,e],[r,o]]},P.scale=function(t){return arguments.length?(f=+t,A()):f},P.translate=function(t){return arguments.length?(h=+t[0],p=+t[1],A()):[h,p]},P.center=function(t){return arguments.length?(d=t[0]%360*B,g=t[1]%360*B,A()):[d*D,g*D]},P.rotate=function(t){return arguments.length?(v=t[0]%360*B,y=t[1]%360*B,m=2<t.length?t[2]%360*B:0,A()):[v*D,y*D,m*D]},P.angle=function(t){return arguments.length?(x=t%360*B,A()):x*D},P.reflectX=function(t){return arguments.length?(b=t?-1:1,A()):b<0},P.reflectY=function(t){return arguments.length?(w=t?-1:1,A()):w<0},P.precision=function(t){return arguments.length?(a=pr(s,C=t*t),T()):V(C)},P.fitExtent=function(t,e){return ur(P,t,e)},P.fitSize=function(t,e){return cr(P,t,e)},P.fitWidth=function(t,e){return lr(P,t,e)},P.fitHeight=function(t,e){return fr(P,t,e)},function(){return n=t.apply(this,arguments),P.invert=n.invert&&k,A()}}function mr(t){var e=0,n=O/3,r=yr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*B,n=t[1]*B):[e*D,n*D]},i}function xr(t,e){var n,r=G(t),i=(r+G(e))/2;if(F(i)<I)return n=z(t),o.invert=function(t,e){return[t/n,Y(e*n)]},o;function o(t,e){return[t*n,G(e)/n]}var a=1+r*(2*i-r),s=V(a)/i;function u(t,e){var n=V(a-2*i*G(e))/i;return[n*G(t*=i),s-n*z(t)]}return u.invert=function(t,e){var n=s-e,r=N(t,F(n))*l(n);return n*i<0&&(r-=O*l(t)*l(n)),[r/i,Y((a-(t*t+n*n)*i*i)/(2*i))]},u}var br=function(){return mr(xr).scale(155.424).center([0,33.6442])},wr=function(){return br().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var _r=function(){var e,n,i,o,a,r,s=wr(),u=br().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=br().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){r=[t,e]}};function f(t){var e=t[0],n=t[1];return r=null,i.point(e,n),r||(o.point(e,n),r)||(a.point(e,n),r)}function h(){return e=n=null,f}return f.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?u:.166<=i&&i<.234&&-.214<=r&&r<-.115?c:s).invert(t)},f.stream=function(t){return e&&n===t?e:(r=[s.stream(n=t),u.stream(t),c.stream(t)],i=r.length,e={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},f.precision=function(t){return arguments.length?(s.precision(t),u.precision(t),c.precision(t),h()):s.precision()},f.scale=function(t){return arguments.length?(s.scale(t),u.scale(.35*t),c.scale(t),f.translate(s.translate())):s.scale()},f.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],r=+t[1];return i=s.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(l),o=u.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+I,r+.12*e+I],[n-.214*e-I,r+.234*e-I]]).stream(l),a=c.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+I,r+.166*e+I],[n-.115*e-I,r+.234*e-I]]).stream(l),h()},f.fitExtent=function(t,e){return ur(f,t,e)},f.fitSize=function(t,e){return cr(f,t,e)},f.fitWidth=function(t,e){return lr(f,t,e)},f.fitHeight=function(t,e){return fr(f,t,e)},f.scale(1070)};function Sr(o){return function(t,e){var n=z(t),r=z(e),i=o(n*r);return[i*r*G(t),i*G(e)]}}function Mr(a){return function(t,e){var n=V(t*t+e*e),r=a(n),i=G(r),o=z(r);return[N(t*i,n*o),Y(n&&e*i/n)]}}var Er=Sr(function(t){return V(2/(1+t))});Er.invert=Mr(function(t){return 2*Y(t/2)});var Cr=function(){return vr(Er).scale(124.75).clipAngle(179.999)},Pr=Sr(function(t){return(t=h(t))&&t/G(t)});Pr.invert=Mr(function(t){return t});var kr=function(){return vr(Pr).scale(79.4188).clipAngle(179.999)};function Ar(t,e){return[t,u(f((j+e)/2))]}Ar.invert=function(t,e){return[t,2*v(s(e))-j]};var Tr=function(){return Or(Ar).scale(961/L)};function Or(n){var r,i,o,a=vr(n),e=a.center,s=a.scale,u=a.translate,c=a.clipExtent,l=null;function f(){var t=O*s(),e=a(ae(a.rotate()).invert([0,0]));return c(null==l?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:n===Ar?[[Math.max(e[0]-t,l),r],[Math.min(e[0]+t,i),o]]:[[l,Math.max(e[1]-t,r)],[i,Math.min(e[1]+t,o)]])}return a.scale=function(t){return arguments.length?(s(t),f()):s()},a.translate=function(t){return arguments.length?(u(t),f()):u()},a.center=function(t){return arguments.length?(e(t),f()):e()},a.clipExtent=function(t){return arguments.length?(null==t?l=r=i=o=null:(l=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),f()):null==l?null:[[l,r],[i,o]]},f()}function Ir(t){return f((j+t)/2)}function jr(t,e){var n=z(t),o=t===e?G(t):u(n/z(e))/u(Ir(e)/Ir(t)),a=n*c(Ir(t),o)/o;if(!o)return Ar;function r(t,e){0<a?e<-j+I&&(e=-j+I):j-I<e&&(e=j-I);var n=a/c(Ir(e),o);return[n*G(o*t),a-n*z(o*t)]}return r.invert=function(t,e){var n=a-e,r=l(o)*V(t*t+n*n),i=N(t,F(n))*l(n);return n*o<0&&(i-=O*l(t)*l(n)),[i/o,2*v(c(a/r,1/o))-j]},r}var Rr=function(){return mr(jr).scale(109.5).parallels([30,30])};function Lr(t,e){return[t,e]}Lr.invert=Lr;var Dr=function(){return vr(Lr).scale(152.63)};function Br(t,e){var n=z(t),i=t===e?G(t):(n-z(e))/(e-t),o=n/i+t;if(F(i)<I)return Lr;function r(t,e){var n=o-e,r=i*t;return[n*G(r),o-n*z(r)]}return r.invert=function(t,e){var n=o-e,r=N(t,F(n))*l(n);return n*i<0&&(r-=O*l(t)*l(n)),[r/i,o-l(i)*V(t*t+n*n)]},r}var Fr=function(){return mr(Br).scale(131.154).center([0,13.9389])},Nr=1.340264,zr=-.081106,Gr=893e-6,Vr=.003796,Yr=V(3)/2;function Hr(t,e){var n=Y(Yr*G(e)),r=n*n,i=r*r*r;return[t*z(n)/(Yr*(Nr+3*zr*r+i*(7*Gr+9*Vr*r))),n*(Nr+zr*r+i*(Gr+Vr*r))]}Hr.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(Nr+zr*i+o*(Gr+Vr*i))-e)/(Nr+3*zr*i+o*(7*Gr+9*Vr*i)))*r)*i*i,!(F(n)<1e-12));++a);return[Yr*t*(Nr+3*zr*i+o*(7*Gr+9*Vr*i))/z(r),Y(G(r)/Yr)]};var qr=function(){return vr(Hr).scale(177.158)};function Wr(t,e){var n=z(e),r=z(t)*n;return[n*G(t)/r,G(e)/r]}Wr.invert=Mr(v);var Xr=function(){return vr(Wr).scale(144.049).clipAngle(60)},Ur=function(){var i,o,e,n,r,a,s,u=1,c=0,l=0,f=1,h=1,p=0,d=null,g=1,v=1,y=or({point:function(t,e){var n=b([t,e]);this.stream.point(n[0],n[1])}}),m=an;function x(){return g=u*f,v=u*h,a=s=null,b}function b(t){var e,n=t[0]*g,r=t[1]*v;return p&&(e=r*i-n*o,n=n*i+r*o,r=e),[n+c,r+l]}return b.invert=function(t){var e,n=t[0]-c,r=t[1]-l;return p&&(e=r*i+n*o,n=n*i-r*o,r=e),[n/g,r/v]},b.stream=function(t){return a&&s===t?a:a=y(m(s=t))},b.postclip=function(t){return arguments.length?(m=t,d=e=n=r=null,x()):m},b.clipExtent=function(t){return arguments.length?(m=null==t?(d=e=n=r=null,an):Pe(d=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),x()):null==d?null:[[d,e],[n,r]]},b.scale=function(t){return arguments.length?(u=+t,x()):u},b.translate=function(t){return arguments.length?(c=+t[0],l=+t[1],x()):[c,l]},b.angle=function(t){return arguments.length?(o=G(p=t%360*B),i=z(p),x()):p*D},b.reflectX=function(t){return arguments.length?(f=t?-1:1,x()):f<0},b.reflectY=function(t){return arguments.length?(h=t?-1:1,x()):h<0},b.fitExtent=function(t,e){return ur(b,t,e)},b.fitSize=function(t,e){return cr(b,t,e)},b.fitWidth=function(t,e){return lr(b,t,e)},b.fitHeight=function(t,e){return fr(b,t,e)},b};function Zr(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Zr.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(F(n)>I&&0<--i);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Qr=function(){return vr(Zr).scale(175.295)};function Jr(t,e){return[z(e)*G(t),G(e)]}Jr.invert=Mr(Y);var $r=function(){return vr(Jr).scale(249.5).clipAngle(90+I)};function Kr(t,e){var n=z(e),r=1+z(t)*n;return[n*G(t)/r,G(e)/r]}Kr.invert=Mr(function(t){return 2*v(t)});var ti=function(){return vr(Kr).scale(250).clipAngle(142)};function ei(t,e){return[u(f((j+e)/2)),-t]}ei.invert=function(t,e){return[-e,2*v(s(t))-j]};var ni=function(){var t=Or(ei),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}},function(t,e,n){"use strict";n.r(e),n.d(e,"transition",function(){return Z}),n.d(e,"active",function(){return tt}),n.d(e,"interrupt",function(){return S});var r=n(633),o={value:function(){}};function i(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new a(r)}function a(t){this._=t}function u(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=o,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}a.prototype=i.prototype={constructor:a,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=u(i[n],t.name,e);else if(null==e)for(n in i)i[n]=u(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=function(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new a(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function y(t,e,n,r,i,o){var a,s,u,c,l,f=t.__transition;if(f){if(n in f)return}else t.__transition={};function h(t){var e,n,r,i;if(1!==u.state)return d();for(e in l)if((i=l[e]).name===u.name){if(i.state===w)return Object(v.a)(h);4===i.state?(i.state=6,i.timer.stop(),i.on.call("interrupt",a,a.__data__,i.index,i.group),delete l[e]):+e<s&&(i.state=6,i.timer.stop(),i.on.call("cancel",a,a.__data__,i.index,i.group),delete l[e])}if(Object(v.a)(function(){u.state===w&&(u.state=4,u.timer.restart(p,u.delay,u.time),p(t))}),u.state=2,u.on.call("start",a,a.__data__,u.index,u.group),2===u.state){for(u.state=w,c=new Array(r=u.tween.length),e=0,n=-1;e<r;++e)(i=u.tween[e].value.call(a,a.__data__,u.index,u.group))&&(c[++n]=i);c.length=n+1}}function p(t){for(var e=t<u.duration?u.ease.call(null,t/u.duration):(u.timer.restart(d),u.state=5,1),n=-1,r=c.length;++n<r;)c[n].call(a,e);5===u.state&&(u.on.call("end",a,a.__data__,u.index,u.group),d())}function d(){for(var t in u.state=6,u.timer.stop(),delete l[s],l)return;delete a.__transition}a=t,s=n,u={name:e,index:r,group:i,on:m,tween:x,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:b},((l=a.__transition)[s]=u).timer=Object(g.c)(function(t){u.state=1,u.timer.restart(h,u.delay,u.time),u.delay<=t&&h(t-u.delay)},0,u.time)}var s=i,g=n(583),v=n(764),m=s("start","end","cancel","interrupt"),x=[],b=0,w=3;function c(t,e){var n=_(t,e);if(n.state>b)throw new Error("too late; already scheduled");return n}function A(t,e){var n=_(t,e);if(n.state>w)throw new Error("too late; already running");return n}function _(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function l(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*M,skewX:Math.atan(u)*M,scaleX:a,scaleY:s}}var f,h,p,d,S=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=2<n.state&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}},O=n(898),M=180/Math.PI,E={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function C(C,P,k,A){function T(t){return t.length?t.pop()+" ":""}return function(t,e){var n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,y,m,x,b,w,_,S,M=[],E=[];return t=C(t),e=C(e),n=t.translateX,r=t.translateY,i=e.translateX,o=e.translateY,a=M,s=E,n!==i||r!==o?(u=a.push("translate(",null,P,null,k),s.push({i:u-4,x:Object(O.a)(n,i)},{i:u-2,x:Object(O.a)(r,o)})):(i||o)&&a.push("translate("+i+P+o+k),c=t.rotate,l=e.rotate,f=M,h=E,c!==l?(180<c-l?l+=360:180<l-c&&(c+=360),h.push({i:f.push(T(f)+"rotate(",null,A)-2,x:Object(O.a)(c,l)})):l&&f.push(T(f)+"rotate("+l+A),p=t.skewX,d=e.skewX,g=M,v=E,p!==d?v.push({i:g.push(T(g)+"skewX(",null,A)-2,x:Object(O.a)(p,d)}):d&&g.push(T(g)+"skewX("+d+A),y=t.scaleX,m=t.scaleY,x=e.scaleX,b=e.scaleY,w=M,_=E,y!==x||m!==b?(S=w.push(T(w)+"scale(",null,",",null,")"),_.push({i:S-4,x:Object(O.a)(y,x)},{i:S-2,x:Object(O.a)(m,b)})):1===x&&1===b||w.push(T(w)+"scale("+x+","+b+")"),t=e=null,function(t){for(var e,n=-1,r=E.length;++n<r;)M[(e=E[n]).i]=e.x(t);return M.join("")}}}var T=C(function(t){return"none"===t?E:(f||(f=document.createElement("DIV"),h=document.documentElement,p=document.defaultView),f.style.transform=t,t=p.getComputedStyle(h.appendChild(f),null).getPropertyValue("transform"),h.removeChild(f),t=t.slice(7,-1).split(","),l(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),P=C(function(t){return null==t?E:((d=d||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=d.transform.baseVal.consolidate())?(t=t.matrix,l(t.a,t.b,t.c,t.d,t.e,t.f)):E)},", ",")",")"),k=n(622);function I(t,e,n){var r=t._id;return t.each(function(){var t=A(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return _(t,r).value[e]}}function j(t,e){var n;return("number"==typeof e?O.a:e instanceof R.e?L.a:(n=Object(R.e)(e))?(e=n,L.a):D.a)(t,e)}var R=n(896),L=n(1405),D=n(1398);function B(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return t!==a&&(o=(a=t)&&(e=r,n=t,function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))})),o}return t._value=i,t}function F(r,i){var o,a;function t(){var e,n,t=i.apply(this,arguments);return t!==a&&(o=(a=t)&&(e=r,n=t,function(t){this.setAttribute(e,n.call(this,t))})),o}return t._value=i,t}var N=n(674);var z=n(621),G=n(673),V=r.b.prototype.constructor,Y=n(675);function H(t){return function(){this.style.removeProperty(t)}}function q(i,o,a){var s,u;function t(){var e,n,r,t=o.apply(this,arguments);return t!==u&&(s=(u=t)&&(e=i,n=t,r=a,function(t){this.style.setProperty(e,n.call(this,t),r)})),s}return t._value=o,t}function W(n){var r,i;function t(){var e,t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&(e=t,function(t){this.textContent=e.call(this,t)})),r}return t._value=n,t}var X=0;function U(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Z(t){return Object(r.b)().transition(t)}function Q(){return++X}var J=r.b.prototype;U.prototype=Z.prototype={constructor:U,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(z.a)(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,c=r[a],l=c.length,f=o[a]=new Array(l),h=0;h<l;++h)(s=c[h])&&(u=t.call(s,s.__data__,h,c))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,y(f[h],e,n,h,f,_(s,n)));return new U(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(G.a)(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var h,p=t.call(u,u.__data__,f,c),d=_(u,n),g=0,v=p.length;g<v;++g)(h=p[g])&&y(h,e,n,g,p,d);o.push(p),a.push(u)}return new U(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=Object(N.a)(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new U(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=c[p]||l[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new U(a,this._parents,this._name,this._id)},selection:function(){return new V(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Q(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s,u=r[o],c=u.length,l=0;l<c;++l){(a=u[l])&&(s=_(a,e),y(a,t,n,l,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease}))}return new U(r,this._parents,t,n)},call:J.call,nodes:J.nodes,node:J.node,size:J.size,empty:J.empty,each:J.each,on:function(t,e){var n,r,i,o,a,s,u=this._id;return arguments.length<2?_(this.node(),u).on.on(t):this.each((n=u,i=e,s=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})?c:A,function(){var t=s(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}))},attr:function(t,e){var n=Object(k.a)(t),r="transform"===n?P:j;return this.attrTween(t,"function"==typeof e?(n.local?function(r,i,o){var a,s,u;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttributeNS(r.space,r.local))===(e=n+"")?null:t===a&&e===s?u:(s=e,u=i(a=t,n));this.removeAttributeNS(r.space,r.local)}}:function(r,i,o){var a,s,u;return function(){var t,e,n=o(this);if(null!=n)return(t=this.getAttribute(r))===(e=n+"")?null:t===a&&e===s?u:(s=e,u=i(a=t,n));this.removeAttribute(r)}})(n,r,I(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?o:o=n(i=t,r)}}:function(e,n,r){var i,o,a=r+"";return function(){var t=this.getAttribute(e);return t===a?null:t===i?o:o=n(i=t,r)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Object(k.a)(t);return this.tween(n,(r.local?B:F)(r,e))},style:function(t,e,n){var r,i,o,a,s,u,c,l,f,h,p,d,g,v,y,m,x,b,w,_,S,M,E,C,P,k="transform"==(t+="")?T:j;return null==e?this.styleTween(t,(S=t,M=k,function(){var t=Object(Y.b)(this,S),e=(this.style.removeProperty(S),Object(Y.b)(this,S));return t===e?null:t===E&&e===C?P:P=M(E=t,C=e)})).on("end.style."+t,H(t)):"function"==typeof e?this.styleTween(t,(m=k,x=I(this,"style."+(y=t),e),function(){var t=Object(Y.b)(this,y),e=x(this),n=e+"";return null==e&&(this.style.removeProperty(y),n=e=Object(Y.b)(this,y)),t===n?null:t===b&&n===w?_:(w=n,_=m(b=t,e))})).each((c=this._id,v="end."+(g="style."+(l=t)),function(){var t=A(this,c),e=t.on,n=null==t.value[g]?d=d||H(l):void 0;e===f&&p===n||(h=(f=e).copy()).on(v,p=n),t.on=h})):this.styleTween(t,(r=t,i=k,u=(o=e)+"",function(){var t=Object(Y.b)(this,r);return t===u?null:t===a?s:s=i(a=t,o)}),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,q(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=I(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,W(t))},remove:function(){return this.on("end.remove",(n=this._id,function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=_(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(i,o){var a,s;return function(){var t=A(this,i),e=t.tween;if(e!==a)for(var n=0,r=(s=a=e).length;n<r;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}t.tween=s}}:function(o,a,s){var u,c;if("function"!=typeof s)throw new Error;return function(){var t=A(this,o),e=t.tween;if(e!==u){c=(u=e).slice();for(var n={name:a,value:s},r=0,i=c.length;r<i;++r)if(c[r].name===a){c[r]=n;break}r===i&&c.push(n)}t.tween=c}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){c(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){c(this,t).delay=e}})(e,t)):_(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){A(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){A(this,t).duration=e}})(e,t)):_(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){A(this,t).ease=e}}(e,t)):_(this.node(),e).ease},end:function(){var i,o,a=this,s=a._id,u=a.size();return new Promise(function(t,e){var n={value:e},r={value:function(){0==--u&&t()}};a.each(function(){var t=A(this,s),e=t.on;e!==i&&((o=(i=e).copy())._.cancel.push(n),o._.interrupt.push(n),o._.end.push(r)),t.on=o})})}};var $={time:null,delay:0,duration:250,ease:n(638).b};r.b.prototype.interrupt=function(t){return this.each(function(){S(this,t)})},r.b.prototype.transition=function(t){var e,n;t=t instanceof U?(e=t._id,t._name):(e=Q(),(n=$).time=Object(g.b)(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&y(a,t,e,c,s,n||function(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return $.time=Object(g.b)(),$;return n}(a,e));return new U(r,this._parents,t,e)};var K=[null],tt=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if(1<(n=i[r]).state&&n.name===e)return new U([[t]],K,e,+r);return null}},function(t,e,n){"use strict";n.r(e),n.d(e,"interpolate",function(){return P}),n.d(e,"interpolateArray",function(){return v}),n.d(e,"interpolateBasis",function(){return r}),n.d(e,"interpolateBasisClosed",function(){return i}),n.d(e,"interpolateDate",function(){return y}),n.d(e,"interpolateNumber",function(){return O}),n.d(e,"interpolateObject",function(){return m}),n.d(e,"interpolateRound",function(){return k}),n.d(e,"interpolateString",function(){return C}),n.d(e,"interpolateTransformCss",function(){return j}),n.d(e,"interpolateTransformSvg",function(){return R}),n.d(e,"interpolateZoom",function(){return B}),n.d(e,"interpolateRgb",function(){return h}),n.d(e,"interpolateRgbBasis",function(){return d}),n.d(e,"interpolateRgbBasisClosed",function(){return g}),n.d(e,"interpolateHsl",function(){return N}),n.d(e,"interpolateHslLong",function(){return z}),n.d(e,"interpolateLab",function(){return st}),n.d(e,"interpolateHcl",function(){return ct}),n.d(e,"interpolateHclLong",function(){return lt}),n.d(e,"interpolateCubehelix",function(){return bt}),n.d(e,"interpolateCubehelixLong",function(){return wt}),n.d(e,"quantize",function(){return _t});var c=n(896);function u(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}var r=function(a){var s=a.length-1;return function(t){var e=t<=0?t=0:1<=t?s-(t=1):Math.floor(t*s),n=a[e],r=a[e+1],i=0<e?a[e-1]:2*n-r,o=e<s-1?a[e+2]:2*r-n;return u((t-e/s)*s,i,n,r,o)}},i=function(a){var s=a.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*s),n=a[(e+s-1)%s],r=a[e%s],i=a[(e+1)%s],o=a[(e+2)%s];return u((t-e/s)*s,n,r,i,o)}},a=function(t){return function(){return t}};function o(e,n){return function(t){return e+t*n}}function s(t,e){var n=e-t;return n?o(t,180<n||n<-180?n-360*Math.round(n/360):n):a(isNaN(t)?e:t)}function l(o){return 1==(o=+o)?f:function(t,e){return e-t?(n=t,r=e,i=o,n=Math.pow(n,i),r=Math.pow(r,i)-n,i=1/i,function(t){return Math.pow(n+t*r,i)}):a(isNaN(t)?e:t);var n,r,i}}function f(t,e){var n=e-t;return n?o(t,n):a(isNaN(t)?e:t)}var h=function t(e){var a=l(e);function n(e,t){var n=a((e=Object(c.g)(e)).r,(t=Object(c.g)(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),o=f(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);function p(s){return function(t){for(var e,n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a=0;a<n;++a)e=Object(c.g)(t[a]),r[a]=e.r||0,i[a]=e.g||0,o[a]=e.b||0;return r=s(r),i=s(i),o=s(o),e.opacity=1,function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e+""}}}var d=p(r),g=p(i),v=function(t,e){for(var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a=0;a<r;++a)i[a]=P(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(t){for(a=0;a<r;++a)o[a]=i[a](t);return o}},y=function(e,n){var r=new Date;return n-=e=+e,function(t){return r.setTime(e+n*t),r}},O=function(e,n){return n-=e=+e,function(t){return e+n*t}},m=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=P(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},x=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,b=new RegExp(x.source,"g");function w(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*A,skewX:Math.atan(u)*A,scaleX:a,scaleY:s}}var _,S,M,E,C=function(t,r){var e,n,i,o,a,s=x.lastIndex=b.lastIndex=0,u=-1,c=[],l=[];for(t+="",r+="";(e=x.exec(t))&&(n=b.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),c[u]?c[u]+=i:c[++u]=i),(e=e[0])===(n=n[0])?c[u]?c[u]+=n:c[++u]=n:(c[++u]=null,l.push({i:u,x:O(e,n)})),s=b.lastIndex;return s<r.length&&(i=r.slice(s),c[u]?c[u]+=i:c[++u]=i),c.length<2?l[0]?(a=l[0].x,function(t){return a(t)+""}):(o=r,function(){return o}):(r=l.length,function(t){for(var e,n=0;n<r;++n)c[(e=l[n]).i]=e.x(t);return c.join("")})},P=function(t,e){var n,r=typeof e;return null==e||"boolean"==r?a(e):("number"==r?O:"string"==r?(n=Object(c.e)(e))?(e=n,h):C:e instanceof c.e?h:e instanceof Date?y:Array.isArray(e)?v:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?m:O)(t,e)},k=function(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}},A=180/Math.PI,T={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function I(C,P,k,A){function T(t){return t.length?t.pop()+" ":""}return function(t,e){var n,r,i,o,a,s,u,c,l,f,h,p,d,g,v,y,m,x,b,w,_,S,M=[],E=[];return t=C(t),e=C(e),n=t.translateX,r=t.translateY,i=e.translateX,o=e.translateY,a=M,s=E,n!==i||r!==o?(u=a.push("translate(",null,P,null,k),s.push({i:u-4,x:O(n,i)},{i:u-2,x:O(r,o)})):(i||o)&&a.push("translate("+i+P+o+k),c=t.rotate,l=e.rotate,f=M,h=E,c!==l?(180<c-l?l+=360:180<l-c&&(c+=360),h.push({i:f.push(T(f)+"rotate(",null,A)-2,x:O(c,l)})):l&&f.push(T(f)+"rotate("+l+A),p=t.skewX,d=e.skewX,g=M,v=E,p!==d?v.push({i:g.push(T(g)+"skewX(",null,A)-2,x:O(p,d)}):d&&g.push(T(g)+"skewX("+d+A),y=t.scaleX,m=t.scaleY,x=e.scaleX,b=e.scaleY,w=M,_=E,y!==x||m!==b?(S=w.push(T(w)+"scale(",null,",",null,")"),_.push({i:S-4,x:O(y,x)},{i:S-2,x:O(m,b)})):1===x&&1===b||w.push(T(w)+"scale("+x+","+b+")"),t=e=null,function(t){for(var e,n=-1,r=E.length;++n<r;)M[(e=E[n]).i]=e.x(t);return M.join("")}}}var j=I(function(t){return"none"===t?T:(_||(_=document.createElement("DIV"),S=document.documentElement,M=document.defaultView),_.style.transform=t,t=M.getComputedStyle(S.appendChild(_),null).getPropertyValue("transform"),S.removeChild(_),t=t.slice(7,-1).split(","),w(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),R=I(function(t){return null==t?T:((E=E||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=E.transform.baseVal.consolidate())?(t=t.matrix,w(t.a,t.b,t.c,t.d,t.e,t.f)):T)},", ",")",")"),L=Math.SQRT2;function D(t){return((t=Math.exp(t))+1/t)/2}var B=function(t,e){var a,n,r,s,u,i,c=t[0],l=t[1],f=t[2],o=e[0],h=e[1],p=e[2],d=o-c,g=h-l,v=d*d+g*g;return(i=v<1e-12?(u=Math.log(p/f)/L,function(t){return[c+t*d,l+t*g,f*Math.exp(L*t*u)]}):(a=Math.sqrt(v),n=(p*p-f*f+4*v)/(2*f*2*a),r=(p*p-f*f-4*v)/(2*p*2*a),s=Math.log(Math.sqrt(n*n+1)-n),u=(Math.log(Math.sqrt(r*r+1)-r)-s)/L,function(t){var e,n,r=t*u,i=D(s),o=f/(2*a)*(i*(n=L*r+s,((n=Math.exp(2*n))-1)/(n+1))-(e=s,((e=Math.exp(e))-1/e)/2));return[c+o*d,l+o*g,f*i/D(L*r+s)]})).duration=1e3*u,i};function F(a){return function(e,t){var n=a((e=Object(c.f)(e)).h,(t=Object(c.f)(t)).h),r=f(e.s,t.s),i=f(e.l,t.l),o=f(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(t),e.opacity=o(t),e+""}}}var N=F(s),z=F(f),G=n(705),V=Math.PI/180,Y=180/Math.PI,H=.96422,q=1,W=.82521,X=4/29,U=6/29*3*(6/29),Z=6/29*(6/29)*(6/29);function Q(t){if(t instanceof $)return new $(t.l,t.a,t.b,t.opacity);if(t instanceof ot)return at(t);t instanceof c.b||(t=Object(c.h)(t));var e,n,r=nt(t.r),i=nt(t.g),o=nt(t.b),a=K((.2225045*r+.7168786*i+.0606169*o)/q);return r===i&&i===o?e=n=a:(e=K((.4360747*r+.3850649*i+.1430804*o)/H),n=K((.0139322*r+.0971045*i+.7141733*o)/W)),new $(116*a-16,500*(e-a),200*(a-n),t.opacity)}function J(t,e,n,r){return 1===arguments.length?Q(t):new $(t,e,n,null==r?1:r)}function $(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function K(t){return Z<t?Math.pow(t,1/3):t/U+X}function tt(t){return 6/29<t?t*t*t:U*(t-X)}function et(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function nt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function rt(t){if(t instanceof ot)return new ot(t.h,t.c,t.l,t.opacity);if(t instanceof $||(t=Q(t)),0===t.a&&0===t.b)return new ot(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Y;return new ot(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function it(t,e,n,r){return 1===arguments.length?rt(t):new ot(t,e,n,null==r?1:r)}function ot(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function at(t){if(isNaN(t.h))return new $(t.l,0,0,t.opacity);var e=t.h*V;return new $(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}function st(e,t){var n=f((e=J(e)).l,(t=J(t)).l),r=f(e.a,t.a),i=f(e.b,t.b),o=f(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}}function ut(a){return function(e,t){var n=a((e=it(e)).h,(t=it(t)).h),r=f(e.c,t.c),i=f(e.l,t.l),o=f(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=i(t),e.opacity=o(t),e+""}}}Object(G.a)($,J,Object(G.b)(c.a,{brighter:function(t){return new $(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new $(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200,e=H*tt(e),t=q*tt(t),n=W*tt(n);return new c.b(et(3.1338561*e-1.6168667*t-.4906146*n),et(-.9787684*e+1.9161415*t+.033454*n),et(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Object(G.a)(ot,it,Object(G.b)(c.a,{brighter:function(t){return new ot(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ot(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return at(this).rgb()}}));var ct=ut(s),lt=ut(f),ft=-.29227,ht=-.90649,pt=1.97294,dt=pt*ht,gt=1.78277*pt,vt=1.78277*ft- -.14861*ht;function yt(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof mt)return new mt(t.h,t.s,t.l,t.opacity);t instanceof c.b||(t=Object(c.h)(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(vt*r+dt*e-gt*n)/(vt+dt-gt),o=r-i,a=(pt*(n-i)-ft*o)/ht,s=Math.sqrt(a*a+o*o)/(pt*i*(1-i)),u=s?Math.atan2(a,o)*Y-120:NaN;return new mt(u<0?u+360:u,s,i,t.opacity)}(t):new mt(t,e,n,null==r?1:r)}function mt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function xt(s){return function t(a){function e(e,t){var n=s((e=yt(e)).h,(t=yt(t)).h),r=f(e.s,t.s),i=f(e.l,t.l),o=f(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}Object(G.a)(mt,yt,Object(G.b)(c.a,{brighter:function(t){return t=null==t?c.c:Math.pow(c.c,t),new mt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?c.d:Math.pow(c.d,t),new mt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*V,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new c.b(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(ft*r+ht*i)),255*(e+pt*r*n),this.opacity)}}));var bt=xt(s),wt=xt(f),_t=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}},function(t,e,n){"use strict";n.r(e),n.d(e,"sankey",function(){return O}),n.d(e,"sankeyCenter",function(){return m}),n.d(e,"sankeyLeft",function(){return h}),n.d(e,"sankeyRight",function(){return p}),n.d(e,"sankeyJustify",function(){return y}),n.d(e,"sankeyLinkHorizontal",function(){return Y});var d=n(561);function s(){}function r(t,e){var n=new s;if(t instanceof s)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}s.prototype=r.prototype={constructor:s,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};function g(){var h,p,e,d=[],a=[];function g(t,n,r,i){if(n>=d.length)return null!=h&&t.sort(h),null!=p?p(t):t;for(var e,o,a,s=-1,u=t.length,c=d[n++],l=v(),f=r();++s<u;)(a=l.get(e=c(o=t[s])+""))?a.push(o):l.set(e,[o]);return l.each(function(t,e){i(f,e,g(t,n,r,i))}),f}return e={object:function(t){return g(t,0,i,o)},map:function(t){return g(t,0,u,c)},entries:function(t){return function n(t,r){if(++r>d.length)return t;var i,o=a[r-1];return null!=p&&r>=d.length?i=t.entries():(i=[],t.each(function(t,e){i.push({key:e,values:n(t,r)})})),null!=o?i.sort(function(t,e){return o(t.key,e.key)}):i}(g(t,0,u,c),0)},key:function(t){return d.push(t),e},sortKeys:function(t){return a[d.length-1]=t,e},sortValues:function(t){return h=t,e},rollup:function(t){return p=t,e}}}var v=r;function i(){return{}}function o(t,e,n){t[e]=n}function u(){return v()}function c(t,e,n){t.set(e,n)}function a(){}var l=v.prototype;a.prototype={constructor:a,has:l.has,add:function(t){return this["$"+(t+="")]=t,this},remove:l.remove,clear:l.clear,values:l.keys,size:l.size,empty:l.empty,each:l.each};function f(t){return t.target.depth}function h(t){return t.depth}function p(t,e){return e-1-t.height}function y(t,e){return t.sourceLinks.length?t.depth:e-1}function m(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Object(d.min)(t.sourceLinks,f)-1:0}function x(t){return function(){return t}}function b(t,e){return _(t.source,e.source)||t.index-e.index}function w(t,e){return _(t.target,e.target)||t.index-e.index}function _(t,e){return t.y0-e.y0}function S(t){return t.value}function M(t){return(t.y0+t.y1)/2}function E(t){return M(t.source)*t.value}function C(t){return M(t.target)*t.value}function P(t){return t.index}function k(t){return t.nodes}function A(t){return t.links}function T(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var O=function(){var o=0,a=0,s=1,u=1,c=24,l=8,e=P,f=y,n=k,r=A,h=32;function i(){var t={nodes:n.apply(null,arguments),links:r.apply(null,arguments)};return function(t){t.nodes.forEach(function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]});var i=v(t.nodes,e);t.links.forEach(function(t,e){t.index=e;var n=t.source,r=t.target;"object"!=typeof n&&(n=t.source=T(i,n)),"object"!=typeof r&&(r=t.target=T(i,r)),n.sourceLinks.push(t),r.targetLinks.push(t)})}(t),t.nodes.forEach(function(t){t.value=Math.max(Object(d.sum)(t.sourceLinks,S),Object(d.sum)(t.targetLinks,S))}),function(t){var e,n,r;for(e=t.nodes,n=[],r=0;e.length;++r,e=n,n=[])e.forEach(function(t){t.depth=r,t.sourceLinks.forEach(function(t){n.indexOf(t.target)<0&&n.push(t.target)})});for(e=t.nodes,n=[],r=0;e.length;++r,e=n,n=[])e.forEach(function(t){t.height=r,t.targetLinks.forEach(function(t){n.indexOf(t.source)<0&&n.push(t.source)})});var i=(s-o-c)/(r-1);t.nodes.forEach(function(t){t.x1=(t.x0=o+Math.max(0,Math.min(r-1,Math.floor(f.call(null,t,r))))*i)+c})}(t),function(t){var e=g().key(function(t){return t.x0}).sortKeys(d.ascending).entries(t.nodes).map(function(t){return t.values});(function(){var n=Object(d.min)(e,function(t){return(u-a-(t.length-1)*l)/Object(d.sum)(t,S)});e.forEach(function(t){t.forEach(function(t,e){t.y1=(t.y0=e)+t.value*n})}),t.links.forEach(function(t){t.width=t.value*n})})(),i();for(var n=1,r=h;0<r;--r)!function(n){e.slice().reverse().forEach(function(t){t.forEach(function(t){var e;t.sourceLinks.length&&(e=(Object(d.sum)(t.sourceLinks,C)/Object(d.sum)(t.sourceLinks,S)-M(t))*n,t.y0+=e,t.y1+=e)})})}(n*=.99),i(),function(n){e.forEach(function(t){t.forEach(function(t){var e;t.targetLinks.length&&(e=(Object(d.sum)(t.targetLinks,E)/Object(d.sum)(t.targetLinks,S)-M(t))*n,t.y0+=e,t.y1+=e)})})}(n),i();function i(){e.forEach(function(t){var e,n,r,i=a,o=t.length;for(t.sort(_),r=0;r<o;++r)0<(n=i-(e=t[r]).y0)&&(e.y0+=n,e.y1+=n),i=e.y1+l;if(0<(n=i-l-u))for(i=e.y0-=n,e.y1-=n,r=o-2;0<=r;--r)0<(n=(e=t[r]).y1+l-i)&&(e.y0-=n,e.y1-=n),i=e.y0})}}(t),p(t),t}function p(t){t.nodes.forEach(function(t){t.sourceLinks.sort(w),t.targetLinks.sort(b)}),t.nodes.forEach(function(t){var e=t.y0,n=e;t.sourceLinks.forEach(function(t){t.y0=e+t.width/2,e+=t.width}),t.targetLinks.forEach(function(t){t.y1=n+t.width/2,n+=t.width})})}return i.update=function(t){return p(t),t},i.nodeId=function(t){return arguments.length?(e="function"==typeof t?t:x(t),i):e},i.nodeAlign=function(t){return arguments.length?(f="function"==typeof t?t:x(t),i):f},i.nodeWidth=function(t){return arguments.length?(c=+t,i):c},i.nodePadding=function(t){return arguments.length?(l=+t,i):l},i.nodes=function(t){return arguments.length?(n="function"==typeof t?t:x(t),i):n},i.links=function(t){return arguments.length?(r="function"==typeof t?t:x(t),i):r},i.size=function(t){return arguments.length?(o=a=0,s=+t[0],u=+t[1],i):[s-o,u-a]},i.extent=function(t){return arguments.length?(o=+t[0][0],s=+t[1][0],a=+t[0][1],u=+t[1][1],i):[[o,a],[s,u]]},i.iterations=function(t){return arguments.length?(h=+t,i):h},i},I=n(818),j=Array.prototype.slice,R=function(t){return function(){return t}};function L(t){return t[0]}function D(t){return t[1]}function B(t){return t.source}function F(t){return t.target}function N(i){var o=B,a=F,s=L,u=D,c=null;function e(){var t,e=j.call(arguments),n=o.apply(this,e),r=a.apply(this,e);if(c=c||(t=Object(I.a)()),i(c,+s.apply(this,(e[0]=n,e)),+u.apply(this,e),+s.apply(this,(e[0]=r,e)),+u.apply(this,e)),t)return c=null,t+""||null}return e.source=function(t){return arguments.length?(o=t,e):o},e.target=function(t){return arguments.length?(a=t,e):a},e.x=function(t){return arguments.length?(s="function"==typeof t?t:R(+t),e):s},e.y=function(t){return arguments.length?(u="function"==typeof t?t:R(+t),e):u},e.context=function(t){return arguments.length?(c=null==t?null:t,e):c},e}function z(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function G(t){return[t.source.x1,t.y0]}function V(t){return[t.target.x0,t.y1]}var Y=function(){return N(z).source(G).target(V)}},function(t,e,n){"use strict";n.r(e),n.d(e,"bbox",function(){return d}),n.d(e,"feature",function(){return i}),n.d(e,"mesh",function(){return s}),n.d(e,"meshArcs",function(){return u}),n.d(e,"merge",function(){return f}),n.d(e,"mergeArcs",function(){return h}),n.d(e,"neighbors",function(){return v}),n.d(e,"quantize",function(){return m}),n.d(e,"transform",function(){return c}),n.d(e,"untransform",function(){return y});function r(t){return t}var c=function(t){if(null==t)return r;var o,a,s=t.scale[0],u=t.scale[1],c=t.translate[0],l=t.translate[1];return function(t,e){e||(o=a=0);var n=2,r=t.length,i=new Array(r);for(i[0]=(o+=t[0])*s+c,i[1]=(a+=t[1])*u+l;n<r;)i[n]=t[n],++n;return i}},d=function(t){var e,i=c(t.transform),o=1/0,a=o,s=-o,u=-o;function n(t){(t=i(t))[0]<o&&(o=t[0]),t[0]>s&&(s=t[0]),t[1]<a&&(a=t[1]),t[1]>u&&(u=t[1])}function r(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(r);break;case"Point":n(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(n)}}for(e in t.arcs.forEach(function(t){for(var e,n=-1,r=t.length;++n<r;)(e=i(t[n],n))[0]<o&&(o=e[0]),e[0]>s&&(s=e[0]),e[1]<a&&(a=e[1]),e[1]>u&&(u=e[1])}),t.objects)r(t.objects[e]);return[o,a,s,u]},l=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},i=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return o(e,t)})}:o(e,t)};function o(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,o=a(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function a(t,e){var o=c(t.transform),a=t.arcs;function i(t){return o(t)}function s(t){for(var e=[],n=0,r=t.length;n<r;++n)!function(t,e){e.length&&e.pop();for(var n=a[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(o(n[r],r));t<0&&l(e,i)}(t[n],e);return e.length<2&&e.push(e[0]),e}function n(t){for(var e=s(t);e.length<4;)e.push(e[0]);return e}function u(t){return t.map(n)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=i(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(i);break;case"LineString":n=s(e.arcs);break;case"MultiLineString":n=e.arcs.map(s);break;case"Polygon":n=u(e.arcs);break;case"MultiPolygon":n=e.arcs.map(u);break;default:return null}return{type:r,coordinates:n}}(e)}var p=function(u,i){var o={},c={},l={},a=[],s=-1;function t(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){o[t<0?~t:t]=1}),a.push(r)}}return i.forEach(function(t,e){var n,r=u.arcs[t<0?~t:t];r.length<3&&!r[1][0]&&!r[1][1]&&(n=i[++s],i[s]=t,i[e]=n)}),i.forEach(function(t){var e,n,r,i,o=function(t){var e,n=u.arcs[t<0?~t:t],r=n[0];u.transform?(e=[0,0],n.forEach(function(t){e[0]+=t[0],e[1]+=t[1]})):e=n[n.length-1];return t<0?[e,r]:[r,e]}(t),a=o[0],s=o[1];(e=l[a])?(delete l[e.end],e.push(t),e.end=s,(n=c[s])?(delete c[n.start],r=n===e?e:e.concat(n),c[r.start=e.start]=l[r.end=n.end]=r):c[e.start]=l[e.end]=e):(e=c[s])?(delete c[e.start],e.unshift(t),e.start=a,(n=l[a])?(delete l[n.end],i=n===e?e:n.concat(e),c[i.start=n.start]=l[i.end=e.end]=i):c[e.start]=l[e.end]=e):c[(e=[t]).start=a]=l[e.end=s]=e}),t(l,c),t(c,l),i.forEach(function(t){o[t<0?~t:t]||a.push([t])}),a},s=function(t){return a(t,u.apply(this,arguments))};function u(t,e,n){var r,i,o,a,s,u,c;if(1<arguments.length)a=n,u=[],c=[],function t(e){switch(s=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":f(e.arcs);break;case"MultiLineString":case"Polygon":h(e.arcs);break;case"MultiPolygon":e.arcs.forEach(h)}}(e),c.forEach(null==a?function(t){u.push(t[0].i)}:function(t){a(t[0].g,t[t.length-1].g)&&u.push(t[0].i)}),r=u;else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;function l(t){var e=t<0?~t:t;(c[e]||(c[e]=[])).push({i:t,g:s})}function f(t){t.forEach(l)}function h(t){t.forEach(f)}return{type:"MultiLineString",arcs:p(t,r)}}var f=function(t){return a(t,h.apply(this,arguments))};function h(s,t){var u={},n=[],r=[];function i(e){e.forEach(function(t){t.forEach(function(t){(u[t=t<0?~t:t]||(u[t]=[])).push(e)})}),n.push(e)}function c(t){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(a(s,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":i(e.arcs);break;case"MultiPolygon":e.arcs.forEach(i)}}),n.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,r.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){u[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),n.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:r.map(function(t){var e,n=[];if(t.forEach(function(t){t.forEach(function(t){t.forEach(function(t){u[t<0?~t:t].length<2&&n.push(t)})})}),1<(e=(n=p(s,n)).length))for(var r,i,o=1,a=c(n[0]);o<e;++o)(r=c(n[o]))>a&&(i=n[0],n[0]=n[o],n[o]=i,a=r);return n}).filter(function(t){return 0<t.length})}}function g(t,e){for(var n=0,r=t.length;n<r;){var i=n+r>>>1;t[i]<e?n=1+i:r=i}return n}var v=function(t){var r={},e=t.map(function(){return[]});function n(t,n){t.forEach(function(t){t<0&&(t=~t);var e=r[t];e?e.push(n):r[t]=[n]})}function i(t,e){t.forEach(function(t){n(t,e)})}var o={LineString:n,MultiLineString:i,Polygon:i,MultiPolygon:function(t,e){t.forEach(function(t){i(t,e)})}};for(var a in t.forEach(function e(t,n){"GeometryCollection"===t.type?t.geometries.forEach(function(t){e(t,n)}):t.type in o&&o[t.type](t.arcs,n)}),r)for(var s=r[a],u=s.length,c=0;c<u;++c)for(var l=c+1;l<u;++l){var f,h=s[c],p=s[l];(f=e[h])[a=g(f,p)]!==p&&f.splice(a,0,p),(f=e[p])[a=g(f,h)]!==h&&f.splice(a,0,h)}return e},y=function(t){if(null==t)return r;var s,u,c=t.scale[0],l=t.scale[1],f=t.translate[0],h=t.translate[1];return function(t,e){e||(s=u=0);var n=2,r=t.length,i=new Array(r),o=Math.round((t[0]-f)/c),a=Math.round((t[1]-h)/l);for(i[0]=o-s,s=o,i[1]=a-u,u=a;n<r;)i[n]=t[n],++n;return i}},m=function(t,e){if(t.transform)throw new Error("already quantized");if(e&&e.scale)s=t.bbox;else{if(!(2<=(n=Math.floor(e))))throw new Error("n must be 2");var n,r=(s=t.bbox||d(t))[0],i=s[1],o=s[2],a=s[3];e={scale:[o-r?(o-r)/(n-1):1,a-i?(a-i)/(n-1):1],translate:[r,i]}}var s,u,c=y(e),l=t.objects,f={};function h(t){return c(t)}function p(t){var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(p)};break;case"Point":e={type:"Point",coordinates:h(t.coordinates)};break;case"MultiPoint":e={type:"MultiPoint",coordinates:t.coordinates.map(h)};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}for(u in l)f[u]=p(l[u]);return{type:"Topology",bbox:s,transform:e,objects:f,arcs:t.arcs.map(function(t){var e,n=0,r=1,i=t.length,o=new Array(i);for(o[0]=c(t[0],0);++n<i;)((e=c(t[n],n))[0]||e[1])&&(o[r++]=e);return 1===r&&(o[r++]=[0,0]),o.length=r,o})}}},function(t,e,n){"use strict";n.r(e),n.d(e,"voronoi",function(){return B});function r(t){return function(){return t}}function a(t){return t[0]}function s(t){return t[1]}function i(){this._=null}function o(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function u(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function c(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function l(t){for(;t.L;)t=t.L;return t}i.prototype={constructor:i,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else n=this._?(t=l(this._),e.P=null,(e.N=t).P=t.L=e,t):(e.P=e.N=null,this._=e,null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(u(this,n),n=(t=n).U),n.C=!1,r.C=!0,c(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(c(this,n),n=(t=n).U),n.C=!1,r.C=!0,u(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r=t.U,i=t.L,o=t.R,a=i?o?l(o):i:o;if(r?r.L===t?r.L=a:r.R=a:this._=a,i&&o?(n=a.C,a.C=t.C,((a.L=i).U=a)!==o?(r=a.U,a.U=t.U,t=a.R,r.L=t,(a.R=o).U=a):(a.U=r,t=(r=a).R)):(n=t.C,t=a),t&&(t.U=r),!n)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,u(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,c(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,u(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,c(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,u(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,c(this,r),t=this._;break}e.C=!0,r=(t=r).U}while(!t.C);t&&(t.C=!1)}}};var f=i;function _(t,e,n,r){var i=[null,null],o=R.push(i)-1;return i.left=t,i.right=e,n&&S(i,t,e,n),r&&S(i,e,t,r),I[t.index].halfedges.push(o),I[e.index].halfedges.push(o),i}function k(t,e,n){var r=[e,n];return r.left=t,r}function S(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function h(t,e,n,r){for(var i,o=R.length;o--;)(function(t,e,n,r,i){var o=t[1];if(o)return 1;var a,s,u=t[0],c=t.left,l=t.right,f=c[0],h=c[1],p=l[0],d=l[1],g=(f+p)/2,v=(h+d)/2;if(d===h){if(g<e||r<=g)return;if(p<f){if(u){if(u[1]>=i)return}else u=[g,n];o=[g,i]}else{if(u){if(u[1]<n)return}else u=[g,i];o=[g,n]}}else if(s=v-(a=(f-p)/(d-h))*g,a<-1||1<a)if(p<f){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(h<d){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,1})(i=R[o],t,e,n,r)&&function(t,e,n,r,i){var o=t[0],a=t[1],s=o[0],u=o[1],c=0,l=1,f=a[0]-s,h=a[1]-u,p=e-s;if(f||!(0<p)){if(p/=f,f<0){if(p<c)return;p<l&&(l=p)}else if(0<f){if(l<p)return;c<p&&(c=p)}if(p=r-s,f||!(p<0)){if(p/=f,f<0){if(l<p)return;c<p&&(c=p)}else if(0<f){if(p<c)return;p<l&&(l=p)}if(p=n-u,h||!(0<p)){if(p/=h,h<0){if(p<c)return;p<l&&(l=p)}else if(0<h){if(l<p)return;c<p&&(c=p)}if(p=i-u,h||!(p<0)){if(p/=h,h<0){if(l<p)return;c<p&&(c=p)}else if(0<h){if(p<c)return;p<l&&(l=p)}return 0<c||l<1?(0<c&&(t[0]=[s+c*f,u+c*h]),l<1&&(t[1]=[s+l*f,u+l*h]),1):1}}}}}(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>L||Math.abs(i[0][1]-i[1][1])>L)||delete R[o]}function A(t,e){return e[+(e.left!==t.site)]}function p(){for(var t,e,n,r,i,o,a,s,u=0,c=I.length;u<c;++u)if((t=I[u])&&(n=(e=t.halfedges).length)){for(var l=new Array(n),f=new Array(n),h=0;h<n;++h)l[h]=h,f[h]=(r=t,i=R[e[h]],s=a=o=void 0,o=r.site,a=i.left,s=i.right,o===s&&(s=a,a=o),s?Math.atan2(s[1]-a[1],s[0]-a[0]):(s=o===a?(a=i[1],i[0]):(a=i[0],i[1]),Math.atan2(a[0]-s[0],s[1]-a[1])));for(l.sort(function(t,e){return f[e]-f[t]}),h=0;h<n;++h)f[h]=e[l[h]];for(h=0;h<n;++h)e[h]=f[h]}}var b,w=[];function M(){o(this),this.x=this.y=this.arc=this.site=this.cy=null}function E(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,c=r[1]-s,l=o[0]-a,f=o[1]-s,h=2*(u*f-c*l);if(!(-D<=h)){var p=u*u+c*c,d=l*l+f*f,g=(f*p-c*d)/h,v=(u*d-l*p)/h,y=w.pop()||new M;y.arc=t,y.site=i,y.x=g+a,y.y=(y.cy=v+s)+Math.sqrt(g*g+v*v),t.circle=y;for(var m=null,x=j._;x;)if(y.y<x.y||y.y===x.y&&y.x<=x.x){if(!x.L){m=x.P;break}x=x.L}else{if(!x.R){m=x;break}x=x.R}j.insert(m,y),m||(b=y)}}}}function C(t){var e=t.circle;e&&(e.P||(b=e.N),j.remove(e),w.push(e),o(e),t.circle=null)}var d=[];function g(){o(this),this.edge=this.site=this.circle=null}function P(t){var e=d.pop()||new g;return e.site=t,e}function v(t){C(t),O.remove(t),d.push(t),o(t)}function y(t){for(var e,n,r,i,o,a=t[0],s=t[1],u=O._;u;)if(r=T(u,s)-a,L<r)u=u.L;else{if(i=a-function(t,e){var n=t.N;if(n)return T(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(u,s),!(L<i)){-L<r?(e=u.P,n=u):-L<i?n=(e=u).N:e=n=u;break}if(!u.R){e=u;break}u=u.R}I[(o=t).index]={site:o,halfedges:[]};var c,l,f,h,p,d,g,v,y,m,x,b,w=P(t);if(O.insert(e,w),e||n){if(e===n)return C(e),n=P(e.site),O.insert(w,n),w.edge=n.edge=_(e.site,w.site),E(e),void E(n);n?(C(e),C(n),l=(c=e.site)[0],f=c[1],h=t[0]-l,p=t[1]-f,g=(d=n.site)[0]-l,b=[((v=d[1]-f)*(m=h*h+p*p)-p*(x=g*g+v*v))/(y=2*(h*v-p*g))+l,(h*x-g*m)/y+f],S(n.edge,c,d,b),w.edge=_(c,t,null,b),n.edge=_(t,d,null,b),E(e),E(n)):w.edge=_(e.site,w.site)}}function T(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-u+c/2+i-o/2)))/f+r:(r+s)/2}var O,I,j,R,L=1e-6,D=1e-12;function m(t,e){return e[1]-t[1]||e[0]-t[0]}function x(t,e){var n,r,i,o,a,s,u,c=t.sort(m).pop();for(R=[],I=new Array(t.length),O=new f,j=new f;;)if(i=b,c&&(!i||c[1]<i.y||c[1]===i.y&&c[0]<i.x))c[0]===n&&c[1]===r||(y(c),n=c[0],r=c[1]),c=t.pop();else{if(!i)break;!function(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];v(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<L&&Math.abs(r-u.circle.cy)<L;)o=u.P,s.unshift(u),v(u),u=o;s.unshift(u),C(u);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<L&&Math.abs(r-c.circle.cy)<L;)a=c.N,s.push(c),v(c),c=a;s.push(c),C(c);for(var l=s.length,f=1;f<l;++f)c=s[f],u=s[f-1],S(c.edge,u.site,c.site,i);u=s[0],(c=s[l-1]).edge=_(u.site,c.site,null,i),E(u),E(c)}(i.arc)}p(),e&&(h(o=+e[0][0],a=+e[0][1],s=+e[1][0],u=+e[1][1]),function(t,e,n,r){var i,o,a,s,u,c,l,f,h,p,d,g,v,y=I.length,m=!0;for(P=0;P<y;++P)if(i=I[P]){for(o=i.site,a=(s=i.halfedges).length;a--;)R[s[a]]||s.splice(a,1);for(a=0,u=s.length;a<u;)g=i,p=(h=(v=R[s[a]])[+(v.left===g.site)])[0],d=h[1],l=(c=A(i,R[s[++a%u]]))[0],f=c[1],(Math.abs(p-l)>L||Math.abs(d-f)>L)&&(s.splice(a,0,R.push(k(o,h,Math.abs(p-t)<L&&L<r-d?[t,Math.abs(l-t)<L?f:r]:Math.abs(d-r)<L&&L<n-p?[Math.abs(f-r)<L?l:n,r]:Math.abs(p-n)<L&&L<d-e?[n,Math.abs(l-n)<L?f:e]:Math.abs(d-e)<L&&L<p-t?[Math.abs(f-e)<L?l:t,e]:null))-1),++u);u&&(m=!1)}if(m){for(var x,b,w,_,S,M,E,C=1/0,P=0,m=null;P<y;++P)(i=I[P])&&(w=(x=(o=i.site)[0]-t)*x+(b=o[1]-e)*b)<C&&(C=w,m=i);m&&(_=[t,e],S=[t,r],M=[n,r],E=[n,e],m.halfedges.push(R.push(k(o=m.site,_,S))-1,R.push(k(o,S,M))-1,R.push(k(o,M,E))-1,R.push(k(o,E,_))-1))}for(P=0;P<y;++P)(i=I[P])&&(i.halfedges.length||delete I[P])}(o,a,s,u)),this.edges=R,this.cells=I,O=j=R=I=null}x.prototype={constructor:x,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(t){return A(e,n[t])});return t.data=e.site.data,t})},triangles:function(){var h=[],p=this.edges;return this.cells.forEach(function(t,e){if(r=(n=t.halfedges).length)for(var n,r,i,o,a,s,u=t.site,c=-1,l=p[n[r-1]],f=l.left===u?l.right:l.left;++c<r;)i=f,f=(l=p[n[c]]).left===u?l.right:l.left,i&&f&&e<i.index&&e<f.index&&(a=i,s=f,((o=u)[0]-s[0])*(a[1]-o[1])-(o[0]-a[0])*(s[1]-o[1])<0)&&h.push([u.data,i.data,f.data])}),h},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(a,s,t){for(var e,u,c=this,l=c._found||0,n=c.cells.length;!(u=c.cells[l]);)if(++l>=n)return null;for(var r=a-u.site[0],i=s-u.site[1],f=r*r+i*i;u=c.cells[e=l],l=null,u.halfedges.forEach(function(t){var e,n,r,i=c.edges[t],o=i.left;!(o!==u.site&&o||(o=i.right))||(r=(e=a-o[0])*e+(n=s-o[1])*n)<f&&(f=r,l=o.index)}),null!==l;);return c._found=e,null==t||f<=t*t?u.site:null}};var B=function(){var i=a,o=s,e=null;function n(r){return new x(r.map(function(t,e){var n=[Math.round(i(t,e,r)/L)*L,Math.round(o(t,e,r)/L)*L];return n.index=e,n.data=t,n}),e)}return n.polygons=function(t){return n(t).polygons()},n.links=function(t){return n(t).links()},n.triangles=function(t){return n(t).triangles()},n.x=function(t){return arguments.length?(i="function"==typeof t?t:r(+t),n):i},n.y=function(t){return arguments.length?(o="function"==typeof t?t:r(+t),n):o},n.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],n):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},n.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],n):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},n}},function(t,e,n){"use strict";n.r(e),n.d(e,"dsvFormat",function(){return r}),n.d(e,"csvParse",function(){return o}),n.d(e,"csvParseRows",function(){return a}),n.d(e,"csvFormat",function(){return s}),n.d(e,"csvFormatRows",function(){return c}),n.d(e,"tsvParse",function(){return f}),n.d(e,"tsvParseRows",function(){return d}),n.d(e,"tsvFormat",function(){return g}),n.d(e,"tsvFormatRows",function(){return v});var h={},p={};function u(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var r=function(o){var e=new RegExp('["'+o+"\n\r]"),f=o.charCodeAt(0);function n(r,t){var e,n=[],i=r.length,o=0,a=0,s=i<=0,u=!1;function c(){if(s)return p;if(u)return u=!1,h;var t,e,n=o;if(34===r.charCodeAt(n)){for(;o++<i&&34!==r.charCodeAt(o)||34===r.charCodeAt(++o););return(t=o)>=i?s=!0:10===(e=r.charCodeAt(o++))?u=!0:13===e&&(u=!0,10===r.charCodeAt(o)&&++o),r.slice(n+1,t-1).replace(/""/g,'"')}for(;o<i;){if(10===(e=r.charCodeAt(t=o++)))u=!0;else if(13===e)u=!0,10===r.charCodeAt(o)&&++o;else if(e!==f)continue;return r.slice(n,t)}return s=!0,r.slice(n,i)}for(10===r.charCodeAt(i-1)&&--i,13===r.charCodeAt(i-1)&&--i;(e=c())!==p;){for(var l=[];e!==h&&e!==p;)l.push(e),e=c();t&&null==(l=t(l,a++))||n.push(l)}return n}function r(t){return t.map(a).join(o)}function a(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,o){var a,s,e=n(t,function(t,e){return a?a(t,e-1):(s=t,void(a=o?(r=o,i=u(n=t),function(t,e){return r(i(t),e,n)}):u(t)));var n,r,i});return e.columns=s||[],e},parseRows:n,format:function(t,n){var e,r,i;return null==n&&(e=t,r=Object.create(null),i=[],e.forEach(function(t){for(var e in t)e in r||i.push(r[e]=e)}),n=i),[n.map(a).join(o)].concat(t.map(function(e){return n.map(function(t){return a(e[t])}).join(o)})).join("\n")},formatRows:function(t){return t.map(r).join("\n")}}},i=r(","),o=i.parse,a=i.parseRows,s=i.format,c=i.formatRows,l=r("\t"),f=l.parse,d=l.parseRows,g=l.format,v=l.formatRows},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r,i,o=n(0),a=n.n(o),s=n(899),u=n(702),c=n.n(u),l=n(1534),f=n.n(l),h=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=(i=a.a.Component,h(d,i),d.prototype.render=function(){var n=this,t=(c.a.DataView,this.props.data),e=this.ds.createView();return e.source(t).transform({type:"filter",callback:function(t){var e=t.time;return e<=n.ds.state.end&&e>=n.ds.state.start}}).transform({type:"map",callback:function(t){return t.trend=t.start<=t.end?"":"",t.range=[t.start,t.end,t.max,t.min],t}}),a.a.createElement("div",null,a.a.createElement(s.Chart,{height:600,animate:!1,padding:[30,60,40,80],data:e,scale:{time:{type:"timeCat",nice:!1,range:[0,1]},trend:{values:["",""]},volume:{alias:""},start:{alias:""},end:{alias:""},max:{alias:""},min:{alias:""},range:{alias:""}},forceFit:!0},a.a.createElement(s.Legend,null),a.a.createElement(s.Tooltip,{showTitle:!1,itemTpl:'<li data-index={index}><span style="background-color:{color};"\r\n              class="g2-tooltip-marker"></span>{name}{value}</li>'}),a.a.createElement(s.View,{end:{x:1,y:.5},data:e},a.a.createElement(s.Axis,{name:"time"}),a.a.createElement(s.Axis,{name:"range"}),a.a.createElement(s.Geom,{type:"schema",position:"time*range",color:["trend",function(t){return""===t?"#f04864":""===t?"#2fc25b":"#ffffff"}],tooltip:["time*start*end*max*min",function(t,e,n,r,i){return{name:t,value:'<br><span style="padding-left: 16px">'+e+'</span><br/><span style="padding-left: 16px">'+n+'</span><br/><span style="padding-left: 16px">'+r+'</span><br/><span style="padding-left: 16px">'+i+"</span>"}}],shape:"candle"})),a.a.createElement(s.View,{start:{x:0,y:.65},data:e,scale:{volume:{tickCount:2}}},a.a.createElement(s.Axis,{name:"volume",label:{formatter:function(t){return parseInt(t,10)/1e3+"k"}}}),a.a.createElement(s.Axis,{name:"time",tickLine:null,label:null}),a.a.createElement(s.Geom,{type:"interval",position:"time*volume",color:["trend",function(t){return""===t?"#f04864":""===t?"#2fc25b":"#ffffff"}],tooltip:["time*volume",function(t,e){return{name:t,value:'<br/><span style="padding-left: 16px">'+e+"</span><br/>"}}],shape:"candle"}))),a.a.createElement("div",null,a.a.createElement(f.a,{padding:[40,80,40,80],width:"auto",start:this.ds.state.start,end:this.ds.state.end,xAxis:"time",yAxis:"volume",data:t,onChange:this.onChange})))},d);function d(){var r=null!==i&&i.apply(this,arguments)||this;return r.ds=new c.a({state:{start:"2018-09-10",end:"2018-10-23"}}),r.onChange=function(t){var e=t.startText,n=t.endText;r.ds.setState("start",e),r.ds.setState("end",n)},r}},function(t,e,n){"use strict";var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=l(n(1535)),s=n(0),u=l(s),c=l(n(1538));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=["width","height","padding","xAis","yAxis","start","end","fillerStyle","backgroundStyle","scales","textStyle","handleStyle","backgroundChart"];var v=(d(y,s.Component),i(y,[{key:"componentDidMount",value:function(){this.createG2Instance().render()}},{key:"componentWillReceiveProps",value:function(t){var e=this.props,n=e.data,r=f(e,["data"]),i=t.data,o=f(t,["data"]);n!==i&&(this.slider.changeData(i),this.slider.repaint()),function(t,e){if(t.onChange!==e.onChange)return 1;for(var n=0;n<g.length;n+=1){var r=g[n];if(!window.G2.Util.isEqual(t[r],e[r]))return 1}}(r,o)&&(this.reBuild=!0)}},{key:"componentDidUpdate",value:function(){this.reBuild&&(this.slider.destroy(),this.createG2Instance().render(),this.reBuild=!1)}},{key:"componentWillUnmount",value:function(){this.slider.destroy()}},{key:"createG2Instance",value:function(){return this.slider=new a.default(r({container:this.container},this.props)),this.slider}},{key:"render",value:function(){return u.default.createElement("div",{ref:this.refHandle})}}]),y);function y(){h(this,y);var e=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return e.refHandle=function(t){e.container||(e.container=t)},e.reBuild=!1,e}var m=(d(x,s.Component),i(x,[{key:"render",value:function(){return u.default.createElement(c.default,null,u.default.createElement(v,this.props))}}]),x);function x(){return h(this,x),p(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}e.default=m,t.exports=e.default},function(t,e,n){var r=n(1536);window&&!window.G2&&console.err("Please load the G2 script first!"),t.exports=r},function(t,e,n){function p(t){return"number"==typeof t}var i=n(1537),r=window&&window.G2,l=r.Chart,f=r.Util,o=r.G,a=r.Global,s=o.Canvas,u=f.DomUtil,c=(h.prototype._initProps=function(){this.height=26,this.width="auto",this.padding=a.plotCfg.padding,this.container=null,this.xAxis=null,this.yAxis=null,this.fillerStyle={fill:"#BDCCED",fillOpacity:.3},this.backgroundStyle={stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},this.range=[0,100],this.layout="horizontal",this.textStyle={fill:"#545454"},this.handleStyle={img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},this.backgroundChart={type:["area"],color:"#CCD6EC"}},h.prototype._initForceFitEvent=function(){var t=setTimeout(f.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=t},h.prototype.forceFit=function(){var t,e,n;this&&!this.destroyed&&(t=u.getWidth(this.domContainer),e=this.height,t!==this.domWidth&&((n=this.canvas).changeSize(t,e),this.bgChart&&this.bgChart.changeWidth(t),n.clear(),this._initWidth(),this._initSlider(),this._bindEvent(),n.draw()))},h.prototype._initWidth=function(){var t="auto"===this.width?u.getWidth(this.domContainer):this.width;this.domWidth=t;var e=f.toAllPadding(this.padding);"horizontal"===this.layout?(this.plotWidth=t-e[1]-e[3],this.plotPadding=e[3],this.plotHeight=this.height):"vertical"===this.layout&&(this.plotWidth=this.width,this.plotHeight=this.height-e[0]-e[2],this.plotPadding=e[0])},h.prototype.render=function(){this._initWidth(),this._initCanvas(),this._initBackground(),this._initSlider(),this._bindEvent(),this.canvas.draw()},h.prototype.changeData=function(t){this.data=t,this.repaint()},h.prototype.destroy=function(){clearTimeout(this.resizeTimer),this.rangeElement.off("sliderchange"),this.bgChart&&this.bgChart.destroy(),this.canvas.destroy();for(var t=this.domContainer;t.hasChildNodes();)t.removeChild(t.firstChild);window.removeEventListener("resize",f.getWrapBehavior(this,"_initForceFitEvent")),this.destroyed=!0},h.prototype.clear=function(){this.canvas.clear(),this.bgChart&&this.bgChart.destroy(),this.bgChart=null,this.scale=null,this.canvas.draw()},h.prototype.repaint=function(){this.clear(),this.render()},h.prototype._initCanvas=function(){var t=this.domWidth,e=this.height,n=new s({width:t,height:e,containerDOM:this.domContainer,capture:!1}),r=n.get("el");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.zIndex=3,this.canvas=n},h.prototype._initBackground=function(){var t,e=this.data,n=this.xAxis,r=this.yAxis,i=f.deepMix(((t={})[""+n]={range:[0,1]},t),this.scales);if(!e)throw new Error("Please specify the data!");if(!n)throw new Error("Please specify the xAxis!");if(!r)throw new Error("Please specify the yAxis!");var o=this.backgroundChart,a=o.type,s=o.color;f.isArray(a)||(a=[a]);var u=f.toAllPadding(this.padding),c=new l({container:this.container,width:this.domWidth,height:this.height,padding:[0,u[1],0,u[3]],animate:!1});c.source(e),c.scale(i),c.axis(!1),c.tooltip(!1),c.legend(!1),f.each(a,function(t){c[t]().position(n+"*"+r).color(s).opacity(1)}),c.render(),this.bgChart=c,this.scale="horizontal"===this.layout?c.getXScale():c.getYScales()[0],"vertical"===this.layout&&c.destroy()},h.prototype._initRange=function(){var t=this.startRadio,e=this.endRadio,n=this.start,r=this.end,i=this.scale,o=0,a=1;p(t)?o=t:n&&(o=i.scale(i.translate(n))),p(e)?a=e:r&&(a=i.scale(i.translate(r)));var s,u,c=this.minSpan,l=this.maxSpan,f=0;"time"===i.type||"timeCat"===i.type?(u=(s=i.values)[0],f=s[s.length-1]-u):i.isLinear&&(f=i.max-i.min),f&&c&&(this.minRange=c/f*100),f&&l&&(this.maxRange=l/f*100);var h=[100*o,100*a];return this.range=h},h.prototype._getHandleValue=function(t){var e=this.range,n=e[0]/100,r=e[1]/100,i=this.scale,o="min"===t?this.start?this.start:i.invert(n):this.end?this.end:i.invert(r);return o},h.prototype._initSlider=function(){var t=this.canvas,e=this._initRange(),n=this.scale,r=t.addGroup(i,{middleAttr:this.fillerStyle,range:e,minRange:this.minRange,maxRange:this.maxRange,layout:this.layout,width:this.plotWidth,height:this.plotHeight,backgroundStyle:this.backgroundStyle,textStyle:this.textStyle,handleStyle:this.handleStyle,minText:n.getText(this._getHandleValue("min")),maxText:n.getText(this._getHandleValue("max"))});"horizontal"===this.layout?r.translate(this.plotPadding,0):"vertical"===this.layout&&r.translate(0,this.plotPadding),this.rangeElement=r},h.prototype._bindEvent=function(){var i=this;i.rangeElement.on("sliderchange",function(t){var e=t.range,n=e[0]/100,r=e[1]/100;i._updateElement(n,r)})},h.prototype._updateElement=function(t,e){var n=this.scale,r=this.rangeElement,i=r.get("minTextElement"),o=r.get("maxTextElement"),a=n.invert(t),s=n.invert(e),u=n.getText(a),c=n.getText(s);i.attr("text",u),o.attr("text",c),this.start=u,this.end=c,this.onChange&&this.onChange({startText:u,endText:c,startValue:a,endValue:s,startRadio:t,endRadio:e})},h);function h(t){this._initProps(),f.deepMix(this,t);var e=this.container;if(!e)throw new Error("Please specify the container for the Slider!");f.isString(e)?this.domContainer=document.getElementById(e):this.domContainer=e,this.handleStyle=f.mix({width:this.height,height:this.height},this.handleStyle),"auto"===this.width&&window.addEventListener("resize",f.wrapBehavior(this,"_initForceFitEvent"))}t.exports=c},function(t,e){var r,n,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=window&&window.G2,p=o.Util,a=o.G.Group,s=p.DomUtil,u=(i(c,n=a),c.prototype.getDefaultCfg=function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},c.prototype._initHandle=function(t){var e,n,r,i,o=this.addGroup(),a=this.get("layout"),s=this.get("handleStyle"),u=s.img,c=s.width,l=s.height;return i="horizontal"===a?(e=s.width,n="ew-resize",r=o.addShape("Image",{attrs:{x:-e/2,y:0,width:e,height:l,img:u,cursor:n}}),o.addShape("Text",{attrs:p.mix({x:"min"===t?-(e/2+5):e/2+5,y:l/2,textAlign:"min"===t?"end":"start",textBaseline:"middle",text:"min"===t?this.get("minText"):this.get("maxText"),cursor:n},this.get("textStyle"))})):(n="ns-resize",r=o.addShape("Image",{attrs:{x:0,y:-l/2,width:c,height:l,img:u,cursor:n}}),o.addShape("Text",{attrs:p.mix({x:c/2,y:"min"===t?l/2+5:-(l/2+5),textAlign:"center",textBaseline:"middle",text:"min"===t?this.get("minText"):this.get("maxText"),cursor:n},this.get("textStyle"))})),this.set(t+"TextElement",i),this.set(t+"IconElement",r),o},c.prototype._initSliderBackground=function(){var t=this.addGroup();return t.initTransform(),t.translate(0,0),t.addShape("Rect",{attrs:p.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),t},c.prototype._beforeRenderUI=function(){var t=this._initSliderBackground(),e=this._initHandle("min"),n=this._initHandle("max"),r=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",r),this.set("minHandleElement",e),this.set("maxHandleElement",n),this.set("backgroundElement",t),t.set("zIndex",0),r.set("zIndex",1),e.set("zIndex",2),n.set("zIndex",2),r.attr("cursor","move"),this.sort()},c.prototype._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},c.prototype._transform=function(t){var e=this.get("range"),n=e[0]/100,r=e[1]/100,i=this.get("width"),o=this.get("height"),a=this.get("minHandleElement"),s=this.get("maxHandleElement"),u=this.get("middleHandleElement");a.resetMatrix?(a.resetMatrix(),s.resetMatrix()):(a.initTransform(),s.initTransform()),"horizontal"===t?(u.attr({x:i*n,y:0,width:(r-n)*i,height:o}),a.translate(n*i,0),s.translate(r*i,0)):(u.attr({x:0,y:o*(1-r),width:i,height:(r-n)*o}),a.translate(0,(1-n)*o),s.translate(0,(1-r)*o))},c.prototype._renderHorizontal=function(){this._transform("horizontal")},c.prototype._renderVertical=function(){this._transform("vertical")},c.prototype._bindUI=function(){this.on("mousedown",p.wrapBehavior(this,"_onMouseDown"))},c.prototype._isElement=function(t,e){var n=this.get(e);return t===n||!!n.isGroup&&-1<n.get("children").indexOf(t)},c.prototype._getRange=function(t,e){var n=t+e;return n=(n=100<n?100:n)<0?0:n},c.prototype._limitRange=function(t,e,n){n[0]=this._getRange(t,n[0]),n[1]=n[0]+e,100<n[1]&&(n[1]=100,n[0]=n[1]-e)},c.prototype._updateStatus=function(t,e){var n="x"===t?this.get("width"):this.get("height");t=p.upperFirst(t);var r,i=this.get("range"),o=this.get("page"+t),a=this.get("currentTarget"),s=this.get("rangeStash"),u="vertical"===this.get("layout")?-1:1,c=e["page"+t],l=(c-o)/n*100*u,f=this.get("minRange"),h=this.get("maxRange");i[1]<=i[0]?(this._isElement(a,"minHandleElement")||this._isElement(a,"maxHandleElement"))&&(i[0]=this._getRange(l,i[0]),i[1]=this._getRange(l,i[0])):(this._isElement(a,"minHandleElement")&&(i[0]=this._getRange(l,i[0]),f&&i[1]-i[0]<=f&&this._limitRange(l,f,i),h&&i[1]-i[0]>=h&&this._limitRange(l,h,i)),this._isElement(a,"maxHandleElement")&&(i[1]=this._getRange(l,i[1]),f&&i[1]-i[0]<=f&&this._limitRange(l,f,i),h&&i[1]-i[0]>=h&&this._limitRange(l,h,i))),this._isElement(a,"middleHandleElement")&&(r=s[1]-s[0],this._limitRange(l,r,i)),this.emit("sliderchange",{range:i}),this.set("page"+t,c),this._renderUI(),this.get("canvas").draw()},c.prototype._onMouseDown=function(t){var e=t.currentTarget,n=t.event,r=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",e),this.set("rangeStash",[r[0],r[1]]),this._bindCanvasEvents()},c.prototype._bindCanvasEvents=function(){var t=this.get("canvas").get("containerDOM");this.onMouseMoveListener=s.addEventListener(t,"mousemove",p.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=s.addEventListener(t,"mouseup",p.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=s.addEventListener(t,"mouseleave",p.wrapBehavior(this,"_onCanvasMouseUp"))},c.prototype._onCanvasMouseMove=function(t){"horizontal"===this.get("layout")?this._updateStatus("x",t):this._updateStatus("y",t)},c.prototype._onCanvasMouseUp=function(){this._removeDocumentEvents()},c.prototype._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()},c);function c(){return null!==n&&n.apply(this,arguments)||this}t.exports=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o,a=n(0),s=(o=a)&&o.__esModule?o:{default:o};var u=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(c,s.default.Component),r(c,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"unstable_handleError",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?s.default.createElement("h1",null,"Slider error."):this.props.children}}]),c);function c(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,t));return e.state={hasError:!1},e}e.default=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var r,i,o,a=n(0),s=n.n(a),u=n(8),c=n(584),l=n.n(c),f=(n(634),n(603)),h=n.n(f),p=(n(651),n(602)),d=n.n(p),g=(n(642),n(24)),v=n.n(g),y=(n(67),n(3)),m=n(90),x=n(78),b=n(1533),w=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},_=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),S=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;0<=s;s--)(i=t[s])&&(a=(o<3?i(a):3<o?i(e,n,a):i(e,n))||a);return 3<o&&a&&Object.defineProperty(e,n,a),a},M=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},E=function(t,a,s,u){return new(s=s||Promise)(function(n,e){function r(t){try{o(u.next(t))}catch(t){e(t)}}function i(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(r,i)}o((u=u.apply(t,a||[])).next())})},C=function(n,r){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=r.call(n,s)}catch(t){e=[6,t],o=0}finally{i=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},P=u.a.p.withConfig({displayName:"QuoCode"})(w(["\n  font-size: 28px;\n"],["\n  font-size: 28px;\n"])),k=u.a.p.withConfig({displayName:"Volume"})(w(["\n  font-size: 45px;\n  color: #52c41b;\n"],["\n  font-size: 45px;\n  color: #52c41b;\n"])),A=u.a.p.withConfig({displayName:"Prompt"})(w(["\n  color: #9e9e9e;\n  font-size: 12px;\n"],["\n  color: #9e9e9e;\n  font-size: 12px;\n"])),T=u.a.p.withConfig({displayName:"Data"})(w(["\n  font-size: 20px;\n  //font-weight: bold;\n  margin-bottom: 10px;\n"],["\n  font-size: 20px;\n  //font-weight: bold;\n  margin-bottom: 10px;\n"])),O=Object(u.a)(l.a).withConfig({displayName:"OverviewCard"})(w(["\n  height: 150px;\n"],["\n  height: 150px;\n"])),I=(i=s.a.Component,_(j,i),j.prototype.render=function(){return s.a.createElement(m.a,{render:this.renderItem})},S([y.Inject,M("design:type","function"==typeof(o=void 0!==x.a&&x.a)?o:Object)],j.prototype,"service",void 0),j);function j(){var t=null!==i&&i.apply(this,arguments)||this;return t.renderItem=function(){return E(t,void 0,void 0,function(){var e,n;return C(this,function(t){switch(t.label){case 0:return e=this.props.match.params.quotaId,[4,this.service.getDetailStockQuotation(e)];case 1:return n=t.sent(),[2,s.a.createElement("div",null,s.a.createElement(h.a,null,s.a.createElement(d.a,{lg:4,sm:12},s.a.createElement(O,null,s.a.createElement(P,null,n.quotaName,s.a.createElement("br",null),n.quotaId))),s.a.createElement(d.a,{lg:8,sm:12},s.a.createElement(O,null,s.a.createElement(h.a,null,s.a.createElement(d.a,{span:16},s.a.createElement(A,null,""),s.a.createElement(k,null,n.currentVolume,s.a.createElement(v.a,{type:"caret-up",style:{color:"#52c41b",marginTop:"35px",fontSize:"25px"}}))),s.a.createElement(d.a,{span:8},s.a.createElement(A,null,":"),s.a.createElement(T,null,n.rising,"%"),s.a.createElement(A,null,":"),s.a.createElement(T,null,n.upAndDown))))),s.a.createElement(d.a,{lg:12,sm:24},s.a.createElement(h.a,null,s.a.createElement(d.a,{span:8},s.a.createElement(O,null,s.a.createElement(A,null,":"),s.a.createElement(T,null,n.todayPrice),s.a.createElement(A,null,":"),s.a.createElement(T,null,n.yesterdayPrice))),s.a.createElement(d.a,{span:8},s.a.createElement(O,null,s.a.createElement(A,null,":"),s.a.createElement(T,null,n.highest),s.a.createElement(A,null,":"),s.a.createElement(T,null,n.lowest))),s.a.createElement(d.a,{span:8},s.a.createElement(O,null,s.a.createElement(A,null,"()"),s.a.createElement(T,null,n.totalVolume),s.a.createElement(A,null,"()"),s.a.createElement(T,null,n.totalQuantity)))))),s.a.createElement(l.a,{title:""},s.a.createElement(b.a,{data:n.history})))]}})})},t}e.default=I}])]);